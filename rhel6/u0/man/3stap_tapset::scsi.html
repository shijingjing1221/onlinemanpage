<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:18:34 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>TAPSET::SCSI(3stap) TAPSET::SCSI(3stap)</p>

<p>NAME tapset::scsi - systemtap scsi probe points</p>

<p>DESCRIPTION This family of probe points is used to probe
the SCSI activities. It contains the following probe
points:</p>

<p>scsi.ioentry Fires when SCSI mid layer prepares a SCSI
request</p>

<p>Arguments:</p>

<p>disk_major The major number of the disk</p>

<p>disk_minor The minor number of the disk</p>

<p>device_state The current state of the device. The
possible values could be:</p>

<p>SDEV_CREATED = 1, /* device created but not added to
sysfs * Only internal commands allowed (for inq) */
SDEV_RUNNING = 2, /* device properly configured * All
commands allowed */ SDEV_CANCEL = 3, /* beginning to delete
device * Only error handler commands allowed */ SDEV_DEL =
4, /* device deleted * no commands allowed */ SDEV_QUIESCE =
5, /* Device quiescent. No block com- mands * will be
accepted, only specials (which * originate in the mid-layer)
*/ SDEV_OFFLINE = 6, /* Device offlined (by error han- dling
or * user request */ SDEV_BLOCK = 7, /* Device blocked by
scsi lld. No scsi * commands from user or midlayer should be
issued * to the scsi lld. */</p>

<p>scsi.iodispatching Fires when the SCSI mid layer
dispatches a SCSI command to the low level driver</p>

<p>Arguments:</p>

<p>host_no The host number</p>

<p>channel The channel number</p>

<p>lun The lun number</p>

<p>dev_id The scsi device id</p>

<p>device_state The current state of the device.</p>

<p>data_direction The data_direction specifies whether this
command is from/to the device. The possible values could
be:</p>

<p>DMA_BIDIRECTIONAL = 0, DMA_TO_DEVICE = 1,
DMA_FROM_DEVICE = 2, DMA_NONE = 3,</p>

<p>request_buffer The request buffer address</p>

<p>req_bufflen The request buffer length</p>

<p>scsi.iodone Fires when a SCSI command is done by low
level driver and enqueued into the done queue.</p>

<p>Arguments:</p>

<p>host_no The host number</p>

<p>channel The channel number</p>

<p>lun The lun number</p>

<p>dev_id The scsi device id</p>

<p>device_state The current state of the device</p>

<p>data_direction The data_direction specifies whether this
command is from/to the device.</p>

<p>scsi.iocompleted Fires when SCSI mid layer runs the
completion processing for block device I/O requests</p>

<p>Arguments:</p>

<p>host_no The host number</p>

<p>channel The channel number</p>

<p>lun The lun number</p>

<p>dev_id The scsi device id</p>

<p>device_state The current state of the device</p>

<p>data_direction The data_direction specifies whether this
command is from/to the device.</p>

<p>goodbytes The bytes completed.</p>

<p>SEE ALSO stap(1), stapprobes(3stap)</p>

<p>IBM TAPSET::SCSI(3stap)</p>
<hr>
</body>
</html>
