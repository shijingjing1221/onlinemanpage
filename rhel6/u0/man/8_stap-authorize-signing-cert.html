<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:17:02 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>STAP-AUTHORIZE-SIGNING-CERT(8)
STAP-AUTHORIZE-SIGNING-CERT(8)</p>

<p>NAME stap-authorize-signing-cert - systemtap signing
authorization utility</p>

<p>SYNOPSIS stap-authorize-signing-cert CERTFILE [ DIRNAME
]</p>

<p>DESCRIPTION The staprun program will load modules for
members of the group stapusr if they are signed by a trusted
signer. A trusted signer is usually a systemtap compile
server which signs modules when the client (stap-client)
specifies the --unprivileged option.</p>

<p>The trustworthiness of a given signer can not be
determined automati- cally without a trusted certificate
authority issuing systemtap signing certificates. This is
not practical in everyday use and so, staprun must
authenticate servers against its own database of trusted
signers. In this context, establishing a given signer as
trusted means adding that signer&rsquo;s certificate to
staprun&rsquo;s database of trusted signers.</p>

<p>The stap-authorize-signing-cert program adds the given
signing certifi- cate to the given certificate database,
making that signer a trusted server for staprun when using
that database.</p>

<p>ARGUMENTS The stap-authorize-signing-cert program
accepts two arguments:</p>

<p>CERTFILE This is the name of the file containing the
certificate of the new trusted signer. For systemtap compile
servers, this is the file named stap.cert which can be found
in the server&rsquo;s certifi- cate database. On the server
host, for servers started by the stap-server service, this
database can be found in
/var/lib/stap-server/.systemtap/ssl/server/. For servers run
by other non-root users, this database can be found in
$HOME/.sys- temtap/ssl/server/. For root users (EUID=0), it
can be found in /etc/systemtap/ssl/server.</p>

<p>DIRNAME This optional argument is the name of the
directory containing the certificate database to which the
certificate is to be added. If not specified, the default is
/etc/systemtap/staprun/. That is, the default result is that
all users on the local host will trust this signer. Note
that this default directory is only writable by root.</p>

<p>SAFETY AND SECURITY Systemtap is an administrative tool.
It exposes kernel internal data structures and potentially
private user information. See the stap(1) manual page for
additional information on safety and security.</p>

<p>Systemtap uses Network Security Services (NSS) for
module signing and verification. The NSS tool certutil is
used for the generation of cer- tificates. The related
certificate databases must be protected in order to maintain
the security of the system. Use of the utilities provided
will help to ensure that the proper protection is
maintained. staprun will check for proper access permissions
before making use of any cer- tificate database.</p>

<p>FILES /etc/systemtap/staprun/ staprun&rsquo;s trusted
signer certificate database.</p>

<p>/var/lib/stap-server/.systemtap/ssl/server/stap.cert
Signing certificate for servers started by the stap-server
ser- vice.</p>

<p>SEE ALSO stap(1), staprun(8), stap-server(8),
stap-client(8), NSS, certutil</p>

<p>BUGS Use the Bugzilla link of the project web page or
our mailing list. http://sources.redhat.com/systemtap/,
&lt;systemtap@sources.redhat.com&gt;.</p>

<p>Red Hat 2010-06-29 STAP-AUTHORIZE-SIGNING-CERT(8)</p>
<hr>
</body>
</html>
