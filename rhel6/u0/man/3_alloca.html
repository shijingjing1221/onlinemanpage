<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 21:52:45 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>ALLOCA(3) Linux Programmer s Manual ALLOCA(3)</p>

<p>NAME alloca - allocate memory that is automatically
freed</p>

<p>SYNOPSIS #include &lt;alloca.h&gt;</p>

<p>void *alloca(size_t size);</p>

<p>DESCRIPTION The alloca() function allocates size bytes
of space in the stack frame of the caller. This temporary
space is automatically freed when the function that called
alloca() returns to its caller.</p>

<p>RETURN VALUE The alloca() function returns a pointer to
the beginning of the allo- cated space. If the allocation
causes stack overflow, program behavior is undefined.</p>

<p>CONFORMING TO This function is not in POSIX.1-2001.</p>

<p>There is evidence that the alloca() function appeared in
32V, PWB, PWB.2, 3BSD, and 4BSD. There is a man page for it
in 4.3BSD. Linux uses the GNU version.</p>

<p>NOTES The alloca() function is machine- and
compiler-dependent. For certain applications, its use can
improve efficiency compared to the use of malloc(3) plus
free(3). In certain cases, it can also simplify memory
deallocation in applications that use longjmp(3) or
siglongjmp(3). Otherwise, its use is discouraged.</p>

<p>Because the space allocated by alloca() is allocated
within the stack frame, that space is automatically freed if
the function return is jumped over by a call to longjmp(3)
or siglongjmp(3).</p>

<p>Do not attempt to free(3) space allocated by
alloca()!</p>

<p>Notes on the GNU Version Normally, gcc(1) translates
calls to alloca() with inlined code. This is not done when
either the -ansi, -std=c89, -std=c99, or the -fno-builtin
option is given (and the header &lt;alloca.h&gt; is not
included). But beware! By default the glibc version of
&lt;stdlib.h&gt; includes &lt;alloca.h&gt; and that contains
the line:</p>

<p>#define alloca(size) __builtin_alloca (size)</p>

<p>with messy consequences if one has a private version of
this function.</p>

<p>The fact that the code is inlined means that it is
impossible to take the address of this function, or to
change its behavior by linking with a different library.</p>

<p>The inlined code often consists of a single instruction
adjusting the stack pointer, and does not check for stack
overflow. Thus, there is no NULL error return.</p>

<p>BUGS There is no error indication if the stack frame
cannot be extended. (However, after a failed allocation, the
program is likely to receive a SIGSEGV signal if it attempts
to access the unallocated space.)</p>

<p>On many systems alloca() cannot be used inside the list
of arguments of a function call, because the stack space
reserved by alloca() would appear on the stack in the middle
of the space for the function argu- ments.</p>

<p>SEE ALSO brk(2), longjmp(3), malloc(3)</p>

<p>COLOPHON This page is part of release 3.22 of the Linux
man-pages project. A description of the project, and
information about reporting bugs, can be found at
http://www.kernel.org/doc/man-pages/.</p>

<p>GNU 2008-01-24 ALLOCA(3)</p>
<hr>
</body>
</html>
