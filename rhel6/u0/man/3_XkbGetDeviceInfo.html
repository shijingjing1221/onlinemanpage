<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:27:08 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>XkbGetDeviceInfo(3) XKB FUNCTIONS
XkbGetDeviceInfo(3)</p>

<p>NAME XkbGetDeviceInfo - Determine whether the X server
allows Xkb access to particular capabilities of input
devices other than the core X key- board, or to determine
the status of indicator maps, indicator names or button
actions on a non-KeyClass extension device</p>

<p>SYNOPSIS XkbDeviceInfoPtr XkbGetDeviceInfo (Display
*dpy, unsigned int which, unsigned int device_spec, unsigned
int ind_class, unsigned int ind_id);</p>

<p>ARGUMENTS - dpy connection to X server</p>

<p>- which mask indicating information to return</p>

<p>- device_spec device ID, or XkbUseCoreKbd</p>

<p>- ind_class feedback class for indicator requests</p>

<p>- ind_id feedback ID for indicator requests</p>

<p>DESCRIPTION To determine whether the X server allows Xkb
access to particular capa- bilities of input devices other
than the core X keyboard, or to deter- mine the status of
indicator maps, indicator names or button actions on a
non-KeyClass extension device, use XkbGetDeviceInfo.</p>

<p>XkbGetDeviceInfo returns information about the input
device specified by device_spec. Unlike the device_spec
parameter of most Xkb func- tions, device_spec does not need
to be a keyboard device. It must, how- ever, indicate either
the core keyboard or a valid X Input Extension device.</p>

<p>The which parameter is a mask specifying optional
information to be returned. It is an inclusive OR of one or
more of the values from Table 1 and causes the returned
XkbDeviceInfoRec to contain values for the corresponding
fields specified in the table.</p>

<p>Table 1 XkbDeviceInfoRec Mask Bits
____________________________________________________________________________________
Name XkbDeviceInfoRec Value Capability If Set Fields
Effected
____________________________________________________________________________________
XkbXI_KeyboardsMask (1L &lt;&lt;0) Clients can use all Xkb
requests and events with KeyClass devices supported by the
input device extension.</p>

<p>XkbXI_ButtonActionsMask num_btns (1L &lt;&lt;1) Clients
can assign key btn_acts actions to buttons non-KeyClass
input extension devices.</p>

<p>XkbXI_IndicatorNamesMask leds-&gt;names (1L &lt;&lt;2)
Clients can assign names to indicators on non-KeyClass input
extension devices.</p>

<p>XkbXI_IndicatorMapsMask leds-&gt;maps (1L &lt;&lt;3)
Clients can assign indicator maps to indicators on
non-KeyClass input extension devices.</p>

<p>XkbXI_IndicatorStateMask leds-&gt;state (1L &lt;&lt;4)
Clients can request the status of indicators on non-KeyClass
input extension devices.</p>

<p>XkbXI_IndicatorsMask sz_leds (0x1c)
XkbXI_IndicatorNamesMask | num_leds XkbXI_IndicatorMapsMask
| leds-&gt;* XkbXI_IndicatorStateMask</p>

<p>XkbXI_UnsupportedFeaturesMask unsupported (1L
&lt;&lt;15)</p>

<p>XkbXI_AllDeviceFeaturesMask Those selected (0x1e)
XkbXI_IndicatorsMask | by Value Column
XkbSI_ButtonActionsMask masks</p>

<p>XkbXI_AllFeaturesMask Those selected (0x1f)
XkbSI_AllDeviceFeaturesMask | by Value Column
XkbSI_KeyboardsMask masks</p>

<p>XkbXI_AllDetailsMask Those selected (0x801f)
XkbXI_AllFeaturesMask | by Value column
XkbXI_UnsupportedFeaturesMask masks</p>

<p>The XkbDeviceInfoRec returned by XkbGetDeviceInfo always
has values for name (may be a null string, &quot;&quot;),
type, supported, unsupported, has_own_state, dflt_kbd_fd,
and dflt_kbd_fb. Other fields are filled in as specified by
which.</p>

<p>Upon return, the supported field will be set to the
inclusive OR of zero or more bits from Table 1; each bit set
indicates an optional Xkb extension device feature supported
by the server implementation, and a client may modify the
associated behavior.</p>

<p>If the XkbButtonActionsMask bit is set in which, the
XkbDeviceInfoRec returned will have the button actions
(btn_acts field) filled in for all buttons.</p>

<p>If which includes one of the bits in
XkbXI_IndicatorsMask, the feedback class of the indicators
must be specified in ind_class, and the feed- back ID of the
indicators must be specified in ind_id. If the request does
not include any of the bits in XkbXI_IndicatorsMask, the
ind_class and ind_id parameters are ignored. The class and
ID can be obtained via the input device extension
XListInputDevices request.</p>

<p>If any of the XkbXI_IndicatorsMask bits are set in
which, the XkbDevi- ceInfoRec returned will have filled in
the portions of the leds struc- ture corresponding to the
indicator feedback identified by ind_class and ind_id. The
leds vector of the XkbDeviceInfoRec is allocated if
necessary and sz_leds and num_leds filled in. The led_class,
led_id and phys_indicators fields of the leds entry
corresponding to ind_class and ind_id are always filled in.
If which contains XkbXI_IndicatorNames- Mask, the
names_present and names fields of the leds structure corre-
sponding to ind_class and ind_id are returned. If which
contains XkbXI_IndicatorStateMask, the corresponding state
field is updated. If which contains XkbXI_IndicatorMapsMask,
the maps_present and maps fields are updated.</p>

<p>Xkb provides convenience functions to request subsets of
the information available via XkbGetDeviceInfo. These
convenience func- tions mirror some of the mask bits. The
functions all take an XkbDevi- ceInfoPtr as an input
argument and operate on the X Input Extension device
specified by the device_spec field of the structure. Only
the parts of the structure indicated in the function
description are updated. The XkbDeviceInfoRec structure used
in the function call can be obtained by calling
XkbGetDeviceInfo or can be allocated by calling
XkbAllocDeviceInfo.</p>

<p>STRUCTURES Information about X Input Extension devices
is transferred between a client program and the Xkb
extension in an XkbDeviceInfoRec structure:</p>

<p>typedef struct { char * name; / name for device */ Atom
type; / name for class of devices */ unsigned short
device_spec; / device of interest */ Bool has_own_state; /
True=&gt;this device has its own state */ unsigned short
supported; / bits indicating supported capabilities */
unsigned short unsupported; / bits indicating unsupported
capabilities */ unsigned short num_btns; / number of entries
in btn_acts */ XkbAction * btn_acts; / button actions */
unsigned short sz_leds; / total number of entries in LEDs
vector */ unsigned short num_leds; / number of valid entries
in LEDs vector */ unsigned short dflt_kbd_fb; / input
extension ID of default (core kbd) indicator */ unsigned
short dflt_led_fb; / input extension ID of default indicator
feedback */ XkbDeviceLedInfoPtr leds; / LED descriptions */
} XkbDeviceInfoRec, *XkbDeviceInfoPtr;</p>

<p>SEE ALSO XkbAllocDeviceInfo(3), XListInputDevices(3)</p>

<p>X Version 11 libX11 1.3 XkbGetDeviceInfo(3)</p>
<hr>
</body>
</html>
