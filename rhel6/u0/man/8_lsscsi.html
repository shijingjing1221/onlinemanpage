<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:06:45 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>lsscsi(8) LSSCSI lsscsi(8)</p>

<p>NAME lsscsi - list SCSI devices (or hosts) and their
attributes</p>

<p>SYNOPSIS lsscsi [--classic] [--device] [--generic]
[--help] [--hosts] [--kname] [--list] [--long]
[--protection] [--sysfsroot=PATH] [--transport] [--verbose]
[--version] [H:C:T:L]</p>

<p>DESCRIPTION Uses information in sysfs (linux kernel
series 2.6 and later) to list scsi devices (or hosts)
currently attached to the system. Options can be used to
control the amount and form of information provided for each
device.</p>

<p>If a H:C:T:L argument is given then it acts as a filter
and only devices that match it are listed. The colons dont
have to be present, and -, * , ? or missing arguments at the
end are interpreted as wildcards. - needs to stand alone or
else it is taken as the begin- ning of an option (e.g.
-:-:-:- is illegal). * needs to be escaped from the shell. A
leading [ and trailing ] are permitted (e.g. [1:0:0] matches
all luns on 1:0:0). May also be used to filter --hosts in
which case only the H is active and may be either a number
or in the form &quot;host&lt;n&gt;&quot; where &lt;n&gt; is
a host number.</p>

<p>By default in this utility device node names (e.g.
&quot;/dev/sda&quot; or &quot;/dev/root_disk&quot;) are
obtained by noting the major and minor numbers for the
listed device obtained from sysfs (e.g. the contents of
&quot;/sys/block/sda/dev&quot;) and then looking for a match
in the &quot;/dev&quot; direc- tory. This &quot;match by
major and minor&quot; will allow devices that have been
given a different name by udev (for example) to be correctly
reported by this utility.</p>

<p>In some situations it may be useful to see the device
node name that linux would produce by default, so the
--kname option is provided. An example of where this may be
useful is kernel error logs which tend to report disk error
messages using the disks default kernel name.</p>

<p>Information about this utility including examples can
also be found at: http://sg.danny.cz/scsi/lsscsi.html .</p>

<p>OPTIONS -c, --classic The output is similar to that
obtained from cat /proc/scsi/scsi</p>

<p>-d, --device After outputting the (probable) scsi device
name the device node major and minor numbers are shown in
brackets (e.g. &quot;/dev/sda[8:0]&quot;).</p>

<p>-g, --generic Output the scsi generic device file name.
Note that if the sg driver is a module it may need to be
loaded otherwise - may appear.</p>

<p>-h, --help Output the usage message and exit.</p>

<p>-H, --hosts List the SCSI hosts currently attached to
the system. If this option is not given then SCSI devices
are listed.</p>

<p>-k, --kname Use linux default algorithm for naming
devices (e.g. block major 8, minor 0 is
&quot;/dev/sda&quot;) rather than the &quot;match by major
and minor&quot; in the &quot;/dev&quot; directory as
discussed above.</p>

<p>-L, --list Output additional information in
&lt;attribute_name&gt;=&lt;value&gt; pairs, one pair per
line preceded by two spaces. This option has the same effect
as -lll</p>

<p>-l, --long Output additional information for each SCSI
device (host). Can be used multiple times for more output in
which case the shorter option form is more convenient (e.g.
-lll ). When used three times (i.e. -lll ) outputs SCSI
device (host) attributes one per line; preceded by two
spaces; in the form
&quot;&lt;attribute_name&gt;=&lt;value&gt;&quot;.</p>

<p>-p, --protection Output additional data integrity
(protection) information.</p>

<p>-t, --transport Output transport information. This will
be a target related information or, if --hosts is given,
initiator related informa- tion. When used without --list, a
name or identifier (or both) are output on a single line,
usually prefixed by the type of transport. For devices this
information replaces the normal ven- dor, product and
revision strings. When the --list option is also given then
additionally multiple lines of attribute_name=value pairs
are ouput, each indented by two spaces. See the section on
transports below.</p>

<p>-v, --verbose outputs directory names where information
is found. Use multiple times for more output.</p>

<p>-V, --version outputs version information then
exits.</p>

<p>-y, --sysfsroot=PATH assumes sysfs is mounted at PATH
instead of the default /sys . If this option is given PATH
should be an absolute path (i.e. start with /).</p>

<p>NOTES Information for this command is derived from the
sysfs file system, which is assumed to be mounted at /sys
unless specified otherwise by the user. SCSI (pseudo)
devices that have been detected by the SCSI mid level will
be listed even if the required upper level drivers (i.e. sd,
sr, st, osst or ch) have not been loaded. If the appropriate
upper level driver has not been loaded then the device file
name will appear as - rather than something like /dev/st0.
Note that some devices (e.g. scanners and medium changers)
do not have a primary upper level driver and can only be
accessed via a scsi generic (sg) device name.</p>

<p>lsscsi version 0.21 or later is required to correctly
display SCSI devices in linux kernel 2.6.26 (and possibly
later) when the CON- FIG_SYSFS_DEPRECATED_V2 kernel option
is not defined.</p>

<p>TRANSPORTS This utility lists SCSI devices which are
known as logical units (lu) in the SCSI Architecture Model
(ref: SAM-4 at http://www.t10.org) or hosts when the --hosts
option is given. A host is called an initiator in SAM-4. A
SCSI command travels out via an initiator, across some
transport to a target and then onwards to a logical unit. A
target device may contain several logical units. A target
device has one or more ports that can be viewed as transport
end points. Each FC and SAS disk is a single target that has
two ports and contains one logical unit. If both target
ports on a FC or SAS disk are connected and visi- ble to a
machine, then lsscsi will show two entries. Initiators (i.e.
hosts) also have one or more ports and some HBAs in Linux
have a host entry per initiator port while others have a
host entry per initiator device.</p>

<p>When the --transport option is given for devices (i.e.
--hosts not given) then most of the information produced by
lsscsi is associated with the target, or more precisely: the
target port, through which SCSI commands pass that access a
logical unit.</p>

<p>Typically this utility provides one line of output per
&quot;device&quot; or host. Significantly more information
can be obtained by adding the --list option. When used
together with the --transport option, after the summary
line, multiple lines of transport specific information in
the form &quot;&lt;attribute_name&gt;=&lt;value&gt;&quot;
are output, each indented by two spaces. Using a filter
argument will reduce the volume of output if a lot of
devices or hosts are present.</p>

<p>The transports that are currently recognized are: IEEE
1394, ATA, FC, iSCSI, SAS, SATA, SPI and USB.</p>

<p>For IEEE 1394 (a.k.a. Firewire and &quot;SBP&quot; when
storage is involved), the EUI-64 based target port name is
output when --transport is given, in the absence of the
--hosts option. When the --hosts option is given then the
EUI-64 initiator port name is output. Output on the summary
line specific to the IEEE 1394 transport is prefixed by
&quot;sbp:&quot;.</p>

<p>to detect ATA and SATA a crude check is performed on the
driver name (after the checks for other transports are
exhausted). Based on the driver name either ATA or SATA
transport type is chosen. Output on the summary line is
either &quot;ata:&quot; or &quot;sata:&quot;. No other
attributes are given. Most device and hosts flagged as
&quot;ata:&quot; will use the parallel ATA transport
(PATA).</p>

<p>For Fibre Channel (FC) the port name and port identifier
are output when --transport is given. In the absence of the
--hosts option these ids will be for the target port
associated with the device (logical unit) being listed. When
the --hosts option is given then the ids are for the
initiator port used by the host. Output on the summary line
specific to the FC transport is prefixed by
&quot;fc:&quot;.</p>

<p>For iSCSI the target port name is output when
--transport is given, in the absence of the --hosts option.
This is made up of the iSCSI name and the target portal
group tag. Since the iSCSI name starts with &quot;iqn&quot;
no further prefix is used. When the --hosts option is given
then only &quot;iscsi:&quot; is output on the summary
line.</p>

<p>For Serial Attached SCSI the SAS address of the target
port (or initia- tor port if --hosts option is also given)
is output. This will be a naa-5 address. For SAS HBAs and
SAS targets (such as SAS disks and tape drives) the SAS
address will be world wide unique. For SATA disks attached
to a SAS expander, the expander provides the SAS address by
adding a non zero value to its (i.e. the expander s) SAS
address (e.g. expander_sas_address + phy_id + 1). SATA disks
directly attached to SAS HBAs seem to have an indeterminate
SAS address. Output on the summary line specific to the SAS
transport is prefixed by &quot;sas:&quot;.</p>

<p>For the SCSI Parallel Interface (SPI) the target port
identifier (usu- ally a number between 0 and 15 inclusive)
is output when --transport is given, in the absence of the
--hosts option. When the --hosts option is given then only
&quot;spi:&quot; is output on the summary line.</p>

<p>When a USB transport is detected, the summary line will
contain &quot;usb:&quot; followed by a USB device name. The
USB device name has the form
&quot;&lt;b&gt;-&lt;p1&gt;[.&lt;p2&gt;[.&lt;p3&gt;]]:&lt;c&gt;.&lt;i&gt;&quot;
where &lt;b&gt; is the USB bus number, &lt;p1&gt; is the
port on the host. &lt;p2&gt; is a port on a host connected
hub, if present. If needed &lt;p3&gt; is a USB hub port
closer to the USB storage device. &lt;c&gt; refers to the
configuration number while &lt;i&gt; is the inter- face
number. There is a separate SCSI host for each USB (SCSI)
target. A USB SCSI target may contain multiple logical
units. Thus the same &quot;usb: &lt;device_name&gt;&quot;
string appears for a USB SCSI host and all logical units
that belong to the USB SCSI target associated with that USB
SCSI host.</p>

<p>AUTHOR Written by Doug Gilbert</p>

<p>REPORTING BUGS Report bugs to &lt;dgilbert at interlog
dot com&gt;.</p>

<p>COPYRIGHT Copyright &copy; 2003-2009 Douglas Gilbert
This software is distributed under the GPL version 2. There
is NO war- ranty; not even for MERCHANTABILITY or FITNESS
FOR A PARTICULAR PUR- POSE.</p>

<p>SEE ALSO lspci lsusb</p>

<p>lsscsi-0.23 November 2009 lsscsi(8)</p>
<hr>
</body>
</html>
