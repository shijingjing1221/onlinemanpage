<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:13:44 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>samba_selinux(8) Samba Selinux Policy documentation
samba_selinux(8)</p>

<p>NAME samba_selinux - Security Enhanced Linux Policy for
Samba</p>

<p>DESCRIPTION Security-Enhanced Linux secures the Samba
server via flexible mandatory access control.</p>

<p>FILE_CONTEXTS SELinux requires files to have an extended
attribute to define the file type. Policy governs the access
daemons have to these files. If you want to share files
other than home directories, those files must be labeled
samba_share_t. So if you created a special directory
/var/eng, you would need to label the directory with the
chcon tool.</p>

<p>chcon -t samba_share_t /var/eng</p>

<p>To make this change permanent (survive a relabel), use
the semanage command to add the change to file context
configuration:</p>

<p>semanage fcontext -a -t samba_share_t
&quot;/var/eng(/.*)?&quot;</p>

<p>This command adds the following entry to
/etc/selinux/POLICYTYPE/con-
texts/files/file_contexts.local:</p>

<p>/var/eng(/.*)? system_u:object_r:samba_share_t:s0</p>

<p>Run the restorecon command to apply the changes:</p>

<p>restorecon -R -v /var/eng/</p>

<p>SHARING FILES If you want to share files with multiple
domains (Apache, FTP, rsync, Samba), you can set a file
context of public_content_t and public_con- tent_rw_t. These
context allow any of the above domains to read the content.
If you want a particular domain to write to the public_con-
tent_rw_t domain, you must set the appropriate boolean.
allow_DOMAIN_anon_write. So for samba you would execute:</p>

<p>setsebool -P allow_smbd_anon_write=1</p>

<p>BOOLEANS SELinux policy is customizable based on least
access required. So by default SElinux policy turns off
SELinux sharing of home directories and the use of Samba
shares from a remote machine as a home directory.</p>

<p>If you are setting up this machine as a Samba server and
wish to share the home directories, you need to set the
samba_enable_home_dirs boolean.</p>

<p>setsebool -P samba_enable_home_dirs 1</p>

<p>If you want to use a remote Samba server for the home
directories on this machine, you must set the
use_samba_home_dirs boolean.</p>

<p>setsebool -P use_samba_home_dirs 1</p>

<p>system-config-selinux is a GUI tool available to
customize SELinux pol- icy settings.</p>

<p>AUTHOR This manual page was written by Dan Walsh
&lt;dwalsh@redhat.com&gt;.</p>

<p>SEE ALSO selinux(8), samba(7), chcon(1), setsebool(8),
semanage(8)</p>

<p>dwalsh@redhat.com 17 Jan 2005 samba_selinux(8)</p>
<hr>
</body>
</html>
