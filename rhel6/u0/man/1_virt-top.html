<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:24:58 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>VIRT-TOP(1) Virtualization Support VIRT-TOP(1)</p>

<p>NAME virt-top - top-like utility for virtualization
stats</p>

<p>SUMMARY virt-top [-options]</p>

<p>DESCRIPTION virt-top is a top(1)-like utility for
showing stats of virtualized domains. Many keys and command
line options are the same as for ordinary top.</p>

<p>It uses libvirt so it is capable of showing stats across
a variety of different virtualization systems.</p>

<p>OPTIONS -1 Display physical CPUs by default (instead of
domains). When virt- top is running, use the 1 key to toggle
between physical CPUs and domains display.</p>

<p>-2 Display network interfaces by default (instead of
domains). When virt-top is running, use the 2 key to toggle
between network interfaces and domains display.</p>

<p>-3 Display block devices (virtual disks) by default
(instead of domains). When virt-top is running, use the 3
key to toggle between block devices and domains display.</p>

<p>-b Batch mode. In this mode keypresses are ignored.</p>

<p>-c uri or --connect uri Connect to URI given. The
default is to connect to the Xen hypervisor.</p>

<p>To connect to QEMU/KVM you would normally do -c
qemu:///system</p>

<p>To connect to libvirtd on a remote machine you would
normally do -c xen://host/</p>

<p>Full details on connection URIs is available at
&lt;http://libvirt.org/uri.html&gt;</p>

<p>-d delay Set the delay between screen updates in
seconds. The default is 3.0 seconds. You can change this
while virt-top is running by pressing either s or d key.</p>

<p>-n iterations Set the number of iterations to run. The
default is to run continuously.</p>

<p>-o sort Set the sort order to one of: cpu (sort by %CPU
used), mem (sort by memory used), time (sort by total time),
id (sort by domain ID), name (sort by domain name), netrx
(sort by network received bytes), nettx (sort by network
transmitted bytes), blockrdrq (sort by block device [disk]
read requests), blockwrrq (sort by block device [disk] write
requests).</p>

<p>While virt-top is running you can change the sort order
using keys P (cpu), M (memory), T (total time), N (domain
ID), F (interactively select the sort field).</p>

<p>-s Secure mode. Currently this does nothing.</p>

<p>--hist-cpu secs Set the time in seconds between updates
of the historical %CPU at the top right of the display.</p>

<p>--csv file.csv Write the statistics to file file.csv.
First a header is written showing the statistics being
recorded in each column, then one line is written for each
screen update. The CSV file can be loaded directly by most
spreadsheet programs.</p>

<p>Currently the statistics which this records vary between
releases of virt-top (but the column headers will stay the
same, so you can use those to process the CSV file).</p>

<p>Not every version of virt-top supports CSV output - it
depends how the program was compiled (see README file in the
source distribution for details).</p>

<p>To save space you can compress your CSV files (if your
shell supports this feature, eg. bash):</p>

<p>virt-top --csv &gt;(gzip -9 &gt; output.csv.gz)</p>

<p>You can use a similar trick to split the CSV file up. In
this example the CSV file is split every 1000 lines into
files called output.csv.00, output.csv.01 etc.</p>

<p>virt-top --csv &gt;(split -d -l 1000 - output.csv.)</p>

<p>--no-csv-cpu Disable domain CPU stats in CSV output.</p>

<p>--no-csv-block Disable domain block device stats in CSV
output.</p>

<p>--no-csv-net Disable domain network interface stats in
CSV output.</p>

<p>--debug filename Send debug and error messages to
filename. To send error messages to syslog you can do:</p>

<p>virt-top --debug &gt;(logger -t virt-top)</p>

<p>See also REPORTING BUGS below.</p>

<p>--init-file filename Read filename as the init file
instead of the default which is $HOME/.virt-toprc. See also
INIT FILE below.</p>

<p>--no-init-file Do not read any init file.</p>

<p>--script Script mode. There will be no user interface.
This is most useful when used together with the --csv and -n
options.</p>

<p>--end-time time The program will exit at the time
given.</p>

<p>The time may be given in one of the following
formats:</p>

<p>YYYY-MM-DD HH:MM:SS End time is the date and time
given.</p>

<p>HH:MM:SS End time is the time given, today.</p>

<p>+HH:MM:SS End time is HH hours, MM minutes, SS seconds
in the future (counted from the moment that program
starts).</p>

<p>+secs End time is secs seconds in the future.</p>

<p>For example to run the program for 3 minutes you could
do:</p>

<p>virt-top --end-time +00:03:00</p>

<p>or:</p>

<p>virt-top --end-time +180</p>

<p>Not every version of virt-top supports this option - it
depends how the program was compiled (see README file in the
source distribution for details).</p>

<p>--help Display usage summary.</p>

<p>KEYS Note that keys are case sensitive. For example use
upper-case P (shift P) to sort by %CPU. ^ before a key means
a Ctrl key, so ^L is Ctrl L.</p>

<p>space or ^L Updates the display.</p>

<p>q Quits the program.</p>

<p>h Displays help.</p>

<p>s or d Change the delay between screen updates.</p>

<p>0 (number 0) Show the normal list of domains
display.</p>

<p>1 (number 1) Toggle into showing physical CPUs. If
pressed again toggles back to showing domains (the normal
display).</p>

<p>2 Toggle into showing network interfaces. If pressed
again toggles back to showing domains.</p>

<p>3 Toggle into showing block devices (virtual disks). If
pressed again toggles back to showing domains.</p>

<p>P Sort by %CPU.</p>

<p>M Sort by memory.</p>

<p>T Sort by total time.</p>

<p>N Sort by domain ID.</p>

<p>F Select the sort field interactively (there are other
sort fields you can choose using this key).</p>

<p>W This creates or overwrites the init file with the
current settings.</p>

<p>This key is disabled if --no-init-file was specified on
the command line or if overwrite-init-file false is given in
the init file.</p>

<p>INIT FILE When virt-top starts up, it reads initial
settings from the file .virt-toprc in the users home
directory.</p>

<p>The name of this file may be overridden using the
--init-file filename command line option or may be disabled
entirely using --no-init-file.</p>

<p>The init file has a simple format. Blank lines and
comments beginning with # are ignored. Everything else is a
set of key value pairs, described below.</p>

<p>display task|pcpu|block|net Sets the major display mode
to one of task (tasks, the default), pcpu (physical CPUs),
block (block devices), or net (network interfaces).</p>

<p>delay secs Sets the delay between display updates in
seconds.</p>

<p>hist-cpu secs Sets the historical CPU delay in
seconds.</p>

<p>iterations n Sets the number of iterations to run before
we exit. Setting this to -1 means to run continuously.</p>

<p>sort cpu|mem|time|id|name|... Sets the sort order. The
option names are the same as for the command line -o
option.</p>

<p>connect uri Sets the default connection URI.</p>

<p>debug filename Sets the default filename to use for
debug and error messages.</p>

<p>csv filename Enables CSV output to the named file.</p>

<p>csv-cpu true|false Enable or disable domain CPU stats in
CSV output.</p>

<p>csv-block true|false Enable or disable domain block
device stats in CSV output.</p>

<p>csv-net true|false Enable or disable domain network
interface stats in CSV output.</p>

<p>batch true|false Sets batch mode.</p>

<p>secure true|false Sets secure mode.</p>

<p>script true|false Sets script mode.</p>

<p>end-time time Set the time at which the program exits.
See above for the time formats supported.</p>

<p>overwrite-init-file false If set to false then the W key
will not overwrite the init file.</p>

<p>Note that in the current implementation, options
specified in the init file override options specified on the
command line. This is a bug and this behaviour may change in
the future.</p>

<p>SEE ALSO top(1), virsh(1), xm(1), xentop(1),
&lt;http://www.libvirt.org/ocaml/&gt;,
&lt;http://www.libvirt.org/&gt;,
&lt;http://et.redhat.com/~rjones/&gt;,
&lt;http://caml.inria.fr/&gt;</p>

<p>AUTHORS Richard W.M. Jones &lt;rjones @ redhat .
com&gt;</p>

<p>COPYRIGHT (C) Copyright 2007 Red Hat Inc., Richard W.M.
Jones http://libvirt.org/</p>

<p>This program is free software; you can redistribute it
and/or modify it under the terms of the GNU General Public
License as published by the Free Software Foundation; either
version 2 of the License, or (at your option) any later
version.</p>

<p>This program is distributed in the hope that it will be
useful, but WITHOUT ANY WARRANTY; without even the implied
warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
PURPOSE. See the GNU General Public License for more
details.</p>

<p>You should have received a copy of the GNU General
Public License along with this program; if not, write to the
Free Software Foundation, Inc., 675 Mass Ave, Cambridge, MA
02139, USA.</p>

<p>REPORTING BUGS Bugs can be viewed on the Red Hat
Bugzilla page: &lt;https://bugzilla.redhat.com/&gt;.</p>

<p>If you find a bug in virt-top, please follow these steps
to report it:</p>

<p>1. Check for existing bug reports Go to
&lt;https://bugzilla.redhat.com/&gt; and search for similar
bugs. Someone may already have reported the same bug, and
they may even have fixed it.</p>

<p>2. Capture debug and error messages Run</p>

<p>virt-top --debug virt-top.log</p>

<p>and keep virt-top.log. It contains error messages which
you should submit with your bug report.</p>

<p>3. Get version of virt-top and version of libvirt. In
virt-top, press the h (help) key, and write down the version
of virt-top and the version of libvirt. They are shown in
the first line.</p>

<p>4. Submit a bug report. Go to
&lt;https://bugzilla.redhat.com/&gt; and enter a new bug.
Please describe the problem in as much detail as
possible.</p>

<p>Remember to include the version numbers (step 3) and the
debug messages file (step 2).</p>

<p>5. Assign the bug to rjones @ redhat.com Assign or
reassign the bug to rjones @ redhat.com (without the
spaces). You can also send me an email with the bug number
if you want a faster response.</p>

<p>virt-top-1.0.4 2009-10-05 VIRT-TOP(1)</p>
<hr>
</body>
</html>
