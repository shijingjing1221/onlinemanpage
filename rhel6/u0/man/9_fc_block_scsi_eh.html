<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 21:59:06 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>FC_BLOCK_SCSI_EH(9) SCSI mid layer
FC_BLOCK_SCSI_EH(9)</p>

<p>NAME fc_block_scsi_eh - Block SCSI eh thread for blocked
fc_rport</p>

<p>SYNOPSIS int fc_block_scsi_eh(struct scsi_cmnd *
cmnd);</p>

<p>ARGUMENTS cmnd SCSI command that scsi_eh is trying to
recover</p>

<p>DESCRIPTION This routine can be called from a FC LLD
scsi_eh callback. It blocks the scsi_eh thread until the
fc_rport leaves the FC_PORTSTATE_BLOCKED, or the
fast_io_fail_tmo fires. This is necessary to avoid the
scsi_eh failing recovery actions for blocked rports which
would lead to offlined SCSI devices.</p>

<p>RETURNS 0 if the fc_rport left the state
FC_PORTSTATE_BLOCKED. FAST_IO_FAIL if the fast_io_fail_tmo
fired, this should be passed back to scsi_eh.</p>

<p>AUTHORS James Bottomley
&lt;James.Bottomley@hansenpartnership.com&gt; Author.</p>

<p>Rob Landley &lt;rob@landley.net&gt; Author.</p>

<p>COPYRIGHT Kernel Hackers Manual 2.6. September 2010
FC_BLOCK_SCSI_EH(9)</p>
<hr>
</body>
</html>
