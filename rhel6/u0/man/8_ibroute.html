<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:04:00 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>IBROUTE(8) OpenIB Diagnostics IBROUTE(8)</p>

<p>NAME ibroute - query InfiniBand switch forwarding
tables</p>

<p>SYNOPSIS ibroute [-d(ebug)] [-a(ll)] [-n(o_dests)]
[-v(erbose)] [-D(irect)] [-G(uid)] [-M(ulticast)] [-s smlid]
[-C ca_name] [-P ca_port] [-t(ime- out) timeout_ms]
[-V(ersion)] [-h(elp)] [&lt;dest dr_path|lid|guid&gt;
[&lt;startlid&gt; [&lt;endlid&gt;]]]</p>

<p>DESCRIPTION ibroute uses SMPs to display the forwarding
tables (unicast (LinearFor- wardingTable or LFT) or
multicast (MulticastForwardingTable or MFT)) for the
specified switch LID and the optional lid (mlid) range. The
default range is all valid entries in the range
1...FDBTop.</p>

<p>OPTIONS -a, --all show all lids in range, even invalid
entries</p>

<p>-n, --no_dests do not try to resolve destinations</p>

<p>-M, --Multicast show multicast forwarding tables In this
case, the range parame- ters are specifying the mlid
range.</p>

<p>COMMON OPTIONS Most OpenIB diagnostics take the
following common flags. The exact list of supported flags
per utility can be found in the usage message and can be
shown using the util_name -h syntax.</p>

<p># Debugging flags</p>

<p>-d raise the IB debugging level. May be used several
times (-ddd or -d -d -d).</p>

<p>-e show send and receive errors (timeouts and
others)</p>

<p>-h show the usage message</p>

<p>-v increase the application verbosity level. May be used
several times (-vv or -v -v -v)</p>

<p>-V show the version info.</p>

<p># Addressing flags</p>

<p>-D use directed path address arguments. The path is a
comma separated list of out ports. Examples: &quot;0&quot; #
self port &quot;0,1,2,1,4&quot; # out via port 1, then 2,
...</p>

<p>-G use GUID address argument. In most cases, it is the
Port GUID. Example: &quot;0x08f1040023&quot;</p>

<p>-s &lt;smlid&gt; use smlid as the target lid for SM/SA
queries.</p>

<p># Other common flags:</p>

<p>-C &lt;ca_name&gt; use the specified ca_name.</p>

<p>-P &lt;ca_port&gt; use the specified ca_port.</p>

<p>-t &lt;timeout_ms&gt; override the default timeout for
the solicited mads.</p>

<p>Multiple CA/Multiple Port Support</p>

<p>When no IB device or port is specified, the port to use
is selected by the following criteria:</p>

<p>1. the first port that is ACTIVE.</p>

<p>2. if not found, the first port that is UP (physical
link up).</p>

<p>If a port and/or CA name is specified, the user request
is attempted to be fulfilled, and will fail if it is not
possible.</p>

<p>EXAMPLES Unicast examples</p>

<p>ibroute 4 # dump all lids with valid out ports of switch
with lid 4</p>

<p>ibroute -a 4 # same, but dump all lids, even with
invalid out ports</p>

<p>ibroute -n 4 # simple dump format - no destination
resolution</p>

<p>ibroute 4 10 # dump lids starting from 10 (up to
FDBTop)</p>

<p>ibroute 4 0x10 0x20 # dump lid range</p>

<p>ibroute -G 0x08f1040023 # resolve switch by GUID</p>

<p>ibroute -D 0,1 # resolve switch by direct path</p>

<p>Multicast examples</p>

<p>ibroute -M 4 # dump all non empty mlids of switch with
lid 4</p>

<p>ibroute -M 4 0xc010 0xc020 # same, but with range</p>

<p>ibroute -M -n 4 # simple dump format</p>

<p>SEE ALSO ibtracert(8)</p>

<p>AUTHOR Hal Rosenstock &lt;halr@voltaire.com&gt;</p>

<p>OpenIB July 25, 2006 IBROUTE(8)</p>
<hr>
</body>
</html>
