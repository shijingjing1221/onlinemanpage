<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:16:38 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>SNMPTRAPD(8) Net-SNMP SNMPTRAPD(8)</p>

<p>NAME snmptrapd - Receive and log SNMP trap messages.</p>

<p>SYNOPSIS snmptrapd [OPTIONS] [LISTENING ADDRESSES]</p>

<p>DESCRIPTION snmptrapd is an SNMP application that
receives and logs SNMP TRAP and INFORM messages.</p>

<p>Note: the default is to listen on UDP port 162 on all
IPv4 interfaces. Since 162 is a privileged port, snmptrapd
must typically be run as root.</p>

<p>OPTIONS -a Ignore authenticationFailure traps.</p>

<p>-A Append to the log file rather than truncating it.</p>

<p>Note that this needs to come before any -Lf options that
it should apply to.</p>

<p>-c FILE Read FILE as a configuration file.</p>

<p>-C Do not read any configuration files except the one
optionally specified by the -c option.</p>

<p>-d Dump (in hexadecimal) the sent and received SNMP
packets.</p>

<p>-D TOKEN[,...] Turn on debugging output for the given
TOKEN(s). Try ALL for extremely verbose output.</p>

<p>-f Do not fork() from the calling shell.</p>

<p>-F FORMAT When logging to standard output, use the
format in the string FORMAT. See the section FORMAT
SPECIFICATIONS below for more details.</p>

<p>-h, --help Display a brief usage message and then
exit.</p>

<p>-H Display a list of configuration file directives
understood by the trap daemon and then exit.</p>

<p>-I [-]INITLIST Specifies which modules should (or should
not) be initialized when snmptrapd starts up. If the
comma-separated INITLIST is preceded with a -, it is the
list of modules that should not be started. Otherwise this
is the list of the only modules that should be started.</p>

<p>To get a list of compiled modules, run snmptrapd with
the argu- ments -Dmib_init -H (assuming debugging support
has been com- piled in).</p>

<p>-L[efos] Specify where logging output should be directed
(standard error or output, to a file or via syslog). See
LOGGING OPTIONS in snmpcmd(1) for details.</p>

<p>-m MIBLIST Specifies a colon separated list of MIB
modules to load for this application. This overrides the
environment variable MIBS. See snmpcmd(1) for details.</p>

<p>-M DIRLIST Specifies a colon separated list of
directories to search for MIBs. This overrides the
environment variable MIBDIRS. See snmpcmd(1) for
details.</p>

<p>-n Do not attempt to translate source addresses of
incoming pack- ets into hostnames.</p>

<p>-p FILE Save the process ID of the trap daemon in
FILE.</p>

<p>-O [abeEfnqQsStTuUvxX] Specifies how MIB objects and
other output should be displayed. See the section OUTPUT
OPTIONS in the snmpcmd(1) manual page for details.</p>

<p>-t Do not log traps to syslog. This disables logging to
syslog. This is useful if you want the snmptrapd application
to only run traphandle hooks and not to log any traps to any
location.</p>

<p>-v, --version Print version information for the trap
daemon and then exit.</p>

<p>-x ADDRESS Connect to the AgentX master agent on the
specified address, rather than the default
&quot;/var/agentx/master&quot;. See snmpd(8) for details of
the format of such addresses.</p>

<p>--name=&quot;value&quot; Allows to specify any token
(&quot;name&quot;) supported in the snmptrapd.conf file and
sets its value to &quot;value&quot;. Overrides the
corresponding token in the snmptrapd.conf file. See
snmptrapd.conf(5) for the full list of tokens.</p>

<p>FORMAT SPECIFICATIONS snmptrapd interprets format
strings similarly to printf(3). It under- stands the
following formatting sequences:</p>

<p>%% a literal %</p>

<p>%a the contents of the agent-addr field of the PDU (v1
TRAPs only)</p>

<p>%A the hostname corresponding to the contents of the
agent-addr field of the PDU, if available, otherwise the
contents of the agent-addr field of the PDU (v1 TRAPs
only).</p>

<p>%b PDU source address (Note: this is not necessarily an
IPv4 address)</p>

<p>%B PDU source hostname if available, otherwise PDU
source address (see note above)</p>

<p>%h current hour on the local system</p>

<p>%H the hour field from the sysUpTime.0 varbind</p>

<p>%j current minute on the local system</p>

<p>%J the minute field from the sysUpTime.0 varbind</p>

<p>%k current second on the local system</p>

<p>%K the seconds field from the sysUpTime.0 varbind</p>

<p>%l current day of month on the local system</p>

<p>%L the day of month field from the sysUpTime.0
varbind</p>

<p>%m current (numeric) month on the local system</p>

<p>%M the numeric month field from the sysUpTime.0
varbind</p>

<p>%N enterprise string</p>

<p>%q trap sub-type (numeric, in decimal)</p>

<p>%P security information from the PDU (community name for
v1/v2c, user and context for v3)</p>

<p>%t decimal number of seconds since the operating system
epoch (as returned by time(2))</p>

<p>%T the value of the sysUpTime.0 varbind in seconds</p>

<p>%v list of variable-bindings from the notification
payload. These will be separated by a tab, or by a comma and
a blank if the alternate form is requested See also %V</p>

<p>%V specifies the variable-bindings separator. This takes
a sequence of characters, up to the next % (to embed a % in
the string, use )</p>

<p>%w trap type (numeric, in decimal)</p>

<p>%W trap description</p>

<p>%y current year on the local system</p>

<p>%Y the year field from the sysUpTime.0 varbind</p>

<p>In addition to these values, an optional field width and
precision may also be specified , just as in printf(3), and
a flag value. The follow- ing flags are supported:</p>

<p>- left justify</p>

<p>0 use leading zeros</p>

<p># use alternate form</p>

<p>The &quot;use alternate form&quot; flag changes the
behavior of various format string sequences:</p>

<p>Time information will be displayed based on GMT (rather
than the local timezone)</p>

<p>The variable-bindings will be a comma-separated list
(rather than a tab-separated one)</p>

<p>The system uptime will be broken down into a
human-meaningful format (rather than being a simple
integer)</p>

<p>Examples: To get a message like &quot;14:03 TRAP3.1 from
humpty.ucd.edu&quot; you could use something like this:</p>

<p>snmptrapd -P -F &quot;%02.2h:%02.2j TRAP%w.%q from
%A0</p>

<p>If you want the same thing but in GMT rather than local
time, use</p>

<p>snmptrapd -P -F &quot;%#02.2h:%#02.2j TRAP%w.%q from
%A0</p>

<p>LISTENING ADDRESSES By default, snmptrapd listens for
incoming SNMP TRAP and INFORM packets on UDP port 162 on all
IPv4 interfaces. However, it is possible to modify this
behaviour by specifying one or more listening addresses as
arguments to snmptrapd. See the snmpd(8) manual page for
more informa- tion about the format of listening
addresses.</p>

<p>NOTIFICATION-LOG-MIB SUPPORT As of net-snmp 5.0, the
snmptrapd application supports the NOTIFICA- TION-LOG-MIB.
It does this by opening an AgentX subagent connection to the
master snmpd agent and registering the notification log
tables. As long as the snmpd application is started first,
it will attach itself to it and thus you should be able to
view the last recorded notifica- tions via the nlmLogTable
and nlmLogVariableTable. See the snmptrapd.conf file and the
&quot;dontRetainLogs&quot; token for turning off this
support. See the NOTIFICATION-LOG-MIB for more details about
the MIB itself.</p>

<p>EXTENSIBILITY AND CONFIGURATION See the
snmptrapd.conf(5) manual page.</p>

<p>SEE ALSO snmpcmd(1), snmpd(8), printf(3),
snmptrapd.conf(5), syslog(8), vari- ables(5)</p>

<p>4th Berkeley Distribution 15 Jan 2004 SNMPTRAPD(8)</p>
<hr>
</body>
</html>
