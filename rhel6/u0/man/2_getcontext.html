<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:00:58 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>GETCONTEXT(2) Linux Programmer s Manual
GETCONTEXT(2)</p>

<p>NAME getcontext, setcontext - get or set the user
context</p>

<p>SYNOPSIS #include &lt;ucontext.h&gt;</p>

<p>int getcontext(ucontext_t *ucp); int setcontext(const
ucontext_t *ucp);</p>

<p>where:</p>

<p>ucp points to a structure defined in &lt;ucontext.h&gt;
containing the signal mask, execution stack, and machine
registers.</p>

<p>DESCRIPTION getcontext(2) gets the current context of
the calling process, storing it in the ucontext struct
pointed to by ucp.</p>

<p>setcontext(2) sets the context of the calling process to
the state stored in the ucontext struct pointed to by ucp.
The struct must either have been created by getcontext(2) or
have been passed as the third parameter of the sigaction(2)
signal handler.</p>

<p>The ucontext struct created by getcontext(2) is defined
in &lt;ucontext.h&gt; as follows:</p>

<p>typedef struct ucontext { unsigned long int uc_flags;
struct ucontext *uc_link; stack_t uc_stack; mcontext_t
uc_mcontext; __sigset_t uc_sigmask; struct _fpstate
__fpregs_mem; } ucontext_t;</p>

<p>RETURN VALUES getcontext(2) returns 0 on success and -1
on failure. setcontext(2) does not return a value on success
and returns -1 on failure.</p>

<p>STANDARDS These functions comform to: XPG4-UNIX.</p>

<p>NOTES When a signal handler executes, the current user
context is saved and a new context is created by the kernel.
If the calling process leaves the signal handler using
longjmp(2), the original context cannot be restored, and the
result of future calls to getcontext(2) are unpre- dictable.
To avoid this problem, use siglongjmp(2) or setcontext(2) in
signal handlers instead of longjmp(2).</p>

<p>SEE ALSO sigaction(2), sigaltstack(2), sigprocmask(2),
sigsetjmp(3), setjmp(3).</p>

<p>Red Hat Linux 6.1 20 September 1999 GETCONTEXT(2)</p>
<hr>
</body>
</html>
