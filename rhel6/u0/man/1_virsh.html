<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:24:55 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>VIRSH(1) Virtualization Support VIRSH(1)</p>

<p>NAME virsh - management user interface</p>

<p>SYNOPSIS virsh &lt;subcommand&gt; [args]</p>

<p>DESCRIPTION The virsh program is the main interface for
managing virsh guest domains. The program can be used to
create, pause, and shutdown domains. It can also be used to
list current domains. Libvirt is a C toolkit to interact
with the virtualization capabilities of recent versions of
Linux (and other OSes). It is free software available under
the GNU Lesser General Public License. Virtualization of the
Linux Operating System means the ability to run multiple
instances of Operating Systems concurrently on a single
hardware system where the basic resources are driven by a
Linux instance. The library aims at providing a long term
stable C API. It currently supports Xen, QEmu, KVM, LXC,
OpenVZ, VirtualBox, OpenNebula, and VMware ESX.</p>

<p>The basic structure of most virsh usage is:</p>

<p>virsh &lt;command&gt; &lt;domain-id&gt; [OPTIONS]</p>

<p>Where command is one of the commands listed below,
domain-id is the numeric domain id, or the domain name
(which will be internally translated to domain id), and
OPTIONS are command specific options. There are a few
exceptions to this rule in the cases where the command in
question acts on all domains, the entire machine, or
directly on the xen hypervisor. Those exceptions will be
clear for each of those commands.</p>

<p>The virsh program can be used either to run one command
at a time by giving the command as an argument on the
command line, or as a shell if no command is given in the
command line, it will then start a minimal interpreter
waiting for your commands and the quit command will then
exit the program.</p>

<p>NOTES Most virsh operations rely upon the libvirt
library being able to connect to an already running libvirtd
service. This can usually be done using the command service
libvirtd start.</p>

<p>Most virsh commands require root privileges to run due
to the communications channels used to talk to the
hypervisor. Running as non root will return an error.</p>

<p>Most virsh commands act synchronously, except maybe
shutdown, setvcpus and setmem. In those cases the fact that
the virsh program returned, may not mean the action is
complete and you must poll periodically to detect that the
guest completed the operation.</p>

<p>GENERIC COMMANDS The following commands are generic i.e.
not specific to a domain.</p>

<p>help optional command This prints a small synopsis about
all commands available for virsh help command will print out
a detailed help message on that command.</p>

<p>quit, exit quit this interactive terminal</p>

<p>version Will print out the major version info about what
this built from.</p>

<p>Example</p>

<p>virsh version</p>

<p>Compiled against library: libvir 0.0.6</p>

<p>Using library: libvir 0.0.6</p>

<p>Using API: Xen 3.0.0</p>

<p>Running hypervisor: Xen 3.0.0</p>

<p>cd directory optional Will change current directory to
directory. The default directory for the cd command is the
home directory or, if there is no HOME variable in the
environment, the root directory.</p>

<p>This command is only available in interactive mode.</p>

<p>pwd Will print the current directory.</p>

<p>connect URI optional --readonly (Re)-Connect to the
hypervisor. When the shell is first started, this is
automatically run with the URI parameter requested by the
&quot;-c&quot; option on the command line. The URI parameter
specifies how to connect to the hypervisor. The
documentation page at &lt;http://libvirt.org/uri.html&gt;
list the values supported, but the most common are:</p>

<p>xen:/// this is used to connect to the local Xen
hypervisor, this is the default</p>

<p>qemu:///system connect locally as root to the daemon
supervising QEmu and KVM domains</p>

<p>qemu:///session connect locally as a normal user to his
own set of QEmu and KVM domains</p>

<p>lxc:/// connect to a local linux container</p>

<p>For remote access see the documentation page on how to
make URIs. The --readonly option allows for read-only
connection</p>

<p>uri Prints the hypervisor canonical URI, can be useful
in shell mode.</p>

<p>hostname Print the hypervisor hostname.</p>

<p>nodeinfo Returns basic information about the node, like
number and type of CPU, and size of the physical memory.</p>

<p>capabilities Print an XML document describing the
capabilities of the hypervisor we are currently connected
to. This includes a section on the host capabilities in
terms of CPU and features, and a set of description for each
kind of guest which can be virtualized. For a more complete
description see: &lt;http://libvirt.org/formatcaps.html&gt;
The XML also show the NUMA topology information if
available.</p>

<p>list Prints information about one or more domains. If no
domains are specified it prints out information about all
domains.</p>

<p>An example format for the list is as follows:</p>

<p>virsh list Id Name State</p>

<p>----------------------------------</p>

<p>0 Domain-0 running 2 fedora paused</p>

<p>Name is the name of the domain. ID the domain numeric
id. State is the run state (see below).</p>

<p>STATES</p>

<p>The State field lists 6 states for a domain, and which
ones the current domain is in.</p>

<p>running The domain is currently running on a CPU</p>

<p>idle The domain is idle, and not running or runnable.
This can be caused because the domain is waiting on IO (a
traditional wait state) or has gone to sleep because there
was nothing else for it to do.</p>

<p>paused The domain has been paused, usually occurring
through the administrator running virsh suspend. When in a
paused state the domain will still consume allocated
resources like memory, but will not be eligible for
scheduling by the hypervisor.</p>

<p>shutdown The domain is in the process of shutting down,
i.e. the guest operating system has been notified and should
be in the process of stopping its operations gracefully.</p>

<p>crashed The domain has crashed, which is always a
violent ending. Usually this state can only occur if the
domain has been configured not to restart on crash.</p>

<p>dying The domain is in process of dying, but hasn t
completely shutdown or crashed.</p>

<p>freecell optional cellno Prints the available amount of
memory on the machine or within a NUMA cell if cellno is
provided.</p>

<p>cpu-baseline FILE Compute baseline CPU which will be
supported by all host CPUs given in &lt;file&gt;. The list
of host CPUs is built by extracting all &lt;cpu&gt; elements
from the &lt;file&gt;. Thus, the &lt;file&gt; can contain
either a set of &lt;cpu&gt; elements separated by new lines
or even a set of complete &lt;capabilities&gt; elements
printed by capabilities command.</p>

<p>cpu-compare FILE Compare CPU definition from XML
&lt;file&gt; with host CPU. The XML &lt;file&gt; may contain
either host or guest CPU definition. The host CPU definition
is the &lt;cpu&gt; element and its contents as printed by
capabilities command. The guest CPU definition is the
&lt;cpu&gt; element and its contents from domain XML
definition. For more information on guest CPU definition
see:
&lt;http://libvirt.org/formatdomain.html#elementsCPU&gt;</p>

<p>DOMAIN COMMANDS The following commands manipulate
domains directly, as stated previously most commands take
domain-id as the first parameter. The domain-id can be
specified as an short integer, a name or a full UUID.</p>

<p>autostart optional --disable domain-id Configure a
domain to be automatically started at boot.</p>

<p>The option --disable disables autostarting.</p>

<p>console domain-id Connect the virtual serial console for
the guest.</p>

<p>create FILE optional --console --paused Create a domain
from an XML &lt;file&gt;. An easy way to create the XML
&lt;file&gt; is to use the dumpxml command to obtain the
definition of a pre-existing guest. The domain will be
paused if the --paused option is used and supported by the
driver; otherwise it will be running. If --console is
requested, attach to the console after creation.</p>

<p>Example</p>

<p>virsh dumpxml &lt;domain-id&gt; &gt; domain.xml edit
domain.xml virsh create &lt; domain.xml</p>

<p>define FILE Define a domain from an XML &lt;file&gt;.
The domain definitions is registered but not started.</p>

<p>destroy domain-id Immediately terminate the domain
domain-id. This doesnt give the domain OS any chance to
react, and its the equivalent of ripping the power cord out
on a physical machine. In most cases you will want to use
the shutdown command instead.</p>

<p>domblkstat domain block-device Get device block stats
for a running domain.</p>

<p>domifstat domain interface-device Get network interface
stats for a running domain.</p>

<p>dommemstat domain Get memory stats for a running
domain.</p>

<p>domblkinfo domain block-device Get block device size
info for a domain.</p>

<p>dominfo domain-id Returns basic information about the
domain.</p>

<p>domuuid domain-name-or-id Convert a domain name or id to
domain UUID</p>

<p>domid domain-name-or-uuid Convert a domain name (or
UUID) to a domain id</p>

<p>domjobabort domain-id-or-uuid Abort the currently
running domain job.</p>

<p>domjobinfo domain-id-or-uuid Returns information about
jobs running on a domain.</p>

<p>domname domain-id-or-uuid Convert a domain Id (or UUID)
to domain name</p>

<p>domstate domain-id Returns state about a running
domain.</p>

<p>domxml-from-native format config Convert the file config
in the native guest configuration format named by format to
a domain XML format.</p>

<p>domxml-to-native format xml Convert the file xml in
domain XML format to the native guest configuration format
named by format.</p>

<p>dump domain-id corefilepath Dumps the core of a domain
to a file for analysis.</p>

<p>dumpxml domain-id optional --inactive --security-info
--update-cpu Output the domain information as an XML dump to
stdout, this format can be used by the create command.
Additional options affecting the XML dump may be used.
--inactive tells virsh to dump domain configuration that
will be used on next start of the domain as opposed to the
current domain configuration. Using --security-info security
sensitive information will also be included in the XML dump.
--update-cpu updates domain CPU requirements according to
host CPU.</p>

<p>edit domain-id Edit the XML configuration file for a
domain.</p>

<p>This is equivalent to:</p>

<p>virsh dumpxml domain &gt; domain.xml edit domain.xml
virsh define domain.xml</p>

<p>except that it does some error checking.</p>

<p>The editor used can be supplied by the $VISUAL or
$EDITOR environment variables, and defaults to
&quot;vi&quot;.</p>

<p>managedsave domain-id Ask libvirt to save a running
domain state in a place managed by libvirt. If libvirt is
asked to restart the domain later on it will resume it from
the saved domain state (and the state is discarded).</p>

<p>migrate optional --live --suspend domain-id desturi
migrateuri Migrate domain to another host. Add --live for
live migration; --suspend leaves the domain paused on the
destination host. The desturi is the connection URI of the
destination host, and migrateuri is the migration URI, which
usually can be omitted.</p>

<p>migrate-setmaxdowntime domain-id downtime Set maximum
tolerable downtime for a domain which is being live-
migrated to another host. The downtime is a number of
milliseconds the guest is allowed to be down at the end of
live migration.</p>

<p>reboot domain-id Reboot a domain. This acts just as if
the domain had the reboot command run from the console. The
command returns as soon as it has executed the reboot
action, which may be significantly before the domain
actually reboots.</p>

<p>The exact behavior of a domain when it reboots is set by
the on_reboot parameter in the domains XML definition.</p>

<p>restore state-file Restores a domain from an virsh save
state file. See save for more info.</p>

<p>save domain-id state-file Saves a running domain to a
state file so that it can be restored later. Once saved, the
domain will no longer be running on the system, thus the
memory allocated for the domain will be free for other
domains to use. virsh restore restores from this state
file.</p>

<p>This is roughly equivalent to doing a hibernate on a
running computer, with all the same limitations. Open
network connections may be severed upon restore, as TCP
timeouts may have expired.</p>

<p>schedinfo optional --set parameter=value domain-id
schedinfo optional --weight number optional --cap number
domain-id Allows you to show (and set) the domain scheduler
parameters. The parameters available for each hypervisor
are:</p>

<p>LXC, QEMU/KVM (posix scheduler): cpu_shares</p>

<p>Xen (credit scheduler): weight, cap</p>

<p>ESX (allocation scheduler): reservation, limit,
shares</p>

<p>Note: The cpu_shares parameter has a valid value range
of 0-262144.</p>

<p>Note: The weight and cap parameters are defined only for
the XEN_CREDIT scheduler and are now DEPRECATED.</p>

<p>setmem domain-id kilobytes Change the current memory
allocation in the guest domain. This should take effect
immediately. The memory limit is specified in kilobytes.</p>

<p>For Xen, you can only adjust the memory of a running
domain if the domain is paravirtualized or running the PV
balloon driver.</p>

<p>setmaxmem domain-id kilobytes Change the maximum memory
allocation limit in the guest domain. This should not change
the current memory use. The memory limit is specified in
kilobytes.</p>

<p>setvcpus domain-id count Change the number of virtual
CPUs active in the guest domain. Note that count may be
limited by host, hypervisor or limit coming from the
original description of domain.</p>

<p>For Xen, you can only adjust the virtual CPUs of a
running domain if the domain is paravirtualized.</p>

<p>shutdown domain-id Gracefully shuts down a domain. This
coordinates with the domain OS to perform graceful shutdown,
so there is no guarantee that it will succeed, and may take
a variable length of time depending on what services must be
shutdown in the domain.</p>

<p>The exact behavior of a domain when it shuts down is set
by the on_shutdown parameter in the domains XML
definition.</p>

<p>start domain-name Start a (previously defined) inactive
domain.</p>

<p>suspend domain-id Suspend a running domain. It is kept
in memory but won t be scheduled anymore.</p>

<p>resume domain-id Moves a domain out of the suspended
state. This will allow a previously suspended domain to now
be eligible for scheduling by the underlying hypervisor.</p>

<p>ttyconsole domain-id Output the device used for the TTY
console of the domain. If the information is not available
the processes will provide an exit code of 1.</p>

<p>undefine domain-id Undefine the configuration for an
inactive domain. Since its not running the domain name or
UUId must be used as the domain-id.</p>

<p>vcpuinfo domain-id Returns basic information about the
domain virtual CPUs, like the number of vCPUs, the running
time, the affinity to physical processors.</p>

<p>vcpupin domain-id vcpu cpulist Pin domain VCPUs to host
physical CPUs. The vcpu number must be provided and cpulist
is a comma separated list of physical CPU numbers.</p>

<p>vncdisplay domain-id Output the IP address and port
number for the VNC display. If the information is not
available the processes will provide an exit code of 1.</p>

<p>DEVICE COMMANDS The following commands manipulate
devices associated to domains. The domain-id can be
specified as an short integer, a name or a full UUID. To
better understand the values allowed as options for the
command reading the documentation at
&lt;http://libvirt.org/formatdomain.html&gt; on the format
of the device sections to get the most accurate set of
accepted values.</p>

<p>attach-device domain-id FILE Attach a device to the
domain, using a device definition in an XML file. See the
documentation to learn about libvirt XML format for a
device. For cdrom and floppy devices, this command only
replaces the media within the single existing device;
consider using update- device for this usage.</p>

<p>attach-disk domain-id source target optional --driver
driver --subdriver subdriver --type type --mode mode Attach
a new disk device to the domain. source and target are paths
for the files and devices. driver can be file, tap or phy
depending on the kind of access. type can indicate cdrom or
floppy as alternative to the disk default, although this use
only replaces the media within the existing virtual cdrom or
floppy device; consider using update-device for this usage
instead. mode can specify the two specific mode readonly or
shareable.</p>

<p>attach-interface domain-id type source optional --target
target --mac mac --script script Attach a new network
interface to the domain. type can be either network to
indicate a physical network device or bridge to indicate a
bridge to a device. source indicates the source device.
target allows to indicate the target device in the guest.
mac allows to specify the MAC address of the network
interface. script allows to specify a path to a script
handling a bridge instead of the default one.</p>

<p>detach-device domain-id FILE Detach a device from the
domain, takes the same kind of XML descriptions as command
attach-device.</p>

<p>detach-disk domain-id target Detach a disk device from a
domain. The target is the device as seen from the
domain.</p>

<p>detach-interface domain-id type optional --mac mac
Detach a network interface from a domain. type can be either
network to indicate a physical network device or bridge to
indicate a bridge to a device. It is recommended to use the
mac option to distinguish between the interfaces if more
than one are present on the domain.</p>

<p>update-device domain-id file optional --persistent
Update the characteristics of a device associated with
domain-id, based on the device definition in an XML file. If
the --persistent option is used, the changes will affect the
next boot of the domain. See the documentation to learn
about libvirt XML format for a device.</p>

<p>VIRTUAL NETWORK COMMANDS The following commands
manipulate networks. Libvirt has the capability to define
virtual networks which can then be used by domains and
linked to actual network devices. For more detailed
information about this feature see the documentation at
&lt;http://libvirt.org/formatnetwork.html&gt; . A lot of the
command for virtual networks are similar to the one used for
domains, but the way to name a virtual network is either by
its name or UUID.</p>

<p>net-autostart network optional --disable Configure a
virtual network to be automatically started at boot. The
--disable option disable autostarting.</p>

<p>net-create file Create a virtual network from an XML
file, see the documentation to get a description of the XML
network format used by libvirt.</p>

<p>net-define file Define a virtual network from an XML
file, the network is just defined but not instantiated.</p>

<p>net-destroy network Destroy a given virtual network
specified by its name or UUID. This takes effect
immediately.</p>

<p>net-dumpxml network Output the virtual network
information as an XML dump to stdout.</p>

<p>net-edit network Edit the XML configuration file for a
network.</p>

<p>This is equivalent to:</p>

<p>virsh net-dumpxml network &gt; network.xml edit
network.xml virsh net-define network.xml</p>

<p>except that it does some error checking.</p>

<p>The editor used can be supplied by the $VISUAL or
$EDITOR environment variables, and defaults to
&quot;vi&quot;.</p>

<p>net-list optional --inactive or --all Returns the list
of active networks, if --all is specified this will also
include defined but inactive networks, if --inactive is
specified only the inactive ones will be listed.</p>

<p>net-name network-UUID Convert a network UUID to network
name.</p>

<p>net-start network Start a (previously defined) inactive
network.</p>

<p>net-undefine network Undefine the configuration for an
inactive network.</p>

<p>net-uuid network-name Convert a network name to network
UUID.</p>

<p>STORAGE POOL COMMANDS The following commands manipulate
storage pools. Libvirt has the capability to manage various
storage solutions, including files, raw partitions, and
domain-specific formats, used to provide the storage volumes
visible as devices within virtual machines. For more
detailed information about this feature, see the
documentation at
&lt;http://libvirt.org/formatstorage.html&gt; . A lot of the
commands for pools are similar to the ones used for
domains.</p>

<p>find-storage-pool-sources type optional srcSpec Returns
XML describing all storage pools of a given type that could
be found. If srcSpec is provided, it is a file that contains
XML to further restrict the query for pools.</p>

<p>find-storage-pool-sources type optional host port
Returns XML describing all storage pools of a given type
that could be found. If host and port are provided, they
control where the query is performed.</p>

<p>pool-autostart pool-or-uuid optional --disable Configure
whether pool should automatically start at boot.</p>

<p>pool-build pool-or-uuid Build a given pool.</p>

<p>pool-create file Create and start a pool object from the
XML file.</p>

<p>pool-create-as name --print-xml type optional
source-host source-path source-dev source-name
&lt;target&gt; --source-format format Create and start a
pool object name from the raw parameters. If --print-xml is
specified, then print the XML of the pool object without
creating the pool. Otherwise, the pool has the specified
type.</p>

<p>pool-define file Create, but do not start, a pool object
from the XML file.</p>

<p>pool-define-as name --print-xml type optional
source-host source-path source-dev source-name
&lt;target&gt; --source-format format Create, but do not
start, a pool object name from the raw parameters. If
--print-xml is specified, then print the XML of the pool
object without defining the pool. Otherwise, the pool has
the specified type.</p>

<p>pool-destroy pool-or-uuid Destroy a given pool object.
Libvirt will no longer manage the storage described by the
pool object, but the raw data contained in the pool is not
changed, and can be later recovered with pool- create.</p>

<p>pool-delete pool-or-uuid Destroy the resources used by a
given pool object. This operation is non-recoverable. The
pool object will still exist after this command.</p>

<p>pool-dumpxml pool-or-uuid Returns the XML information
about the pool object.</p>

<p>pool-edit pool-or-uuid Edit the XML configuration file
for a storage pool.</p>

<p>This is equivalent to:</p>

<p>virsh pool-dumpxml pool &gt; pool.xml edit pool.xml
virsh pool-define pool.xml</p>

<p>except that it does some error checking.</p>

<p>The editor used can be supplied by the $VISUAL or
$EDITOR environment variables, and defaults to
&quot;vi&quot;.</p>

<p>pool-info pool-or-uuid Returns basic information about
the pool object.</p>

<p>pool-list optional --inactive --all List pool objects
known to libvirt. By default, only pools in use by active
domains are listed; --inactive lists just the inactive
pools, and --all lists all pools.</p>

<p>pool-name uuid Convert the uuid to a pool name.</p>

<p>pool-refresh pool-or-uuid Refresh the list of volumes
contained in pool.</p>

<p>pool-start pool-or-uuid Start the storage pool, which is
previously defined but inactive.</p>

<p>pool-undefine pool-or-uuid Undefine the configuration
for an inactive pool.</p>

<p>pool-uuid pool Returns the UUID of the named pool.</p>

<p>VOLUME COMMANDS vol-create pool-or-uuid FILE Create a
volume from an XML &lt;file&gt;. pool-or-uuid is the name or
UUID of the storage pool to create the volume in. FILE is
the XML &lt;file&gt; with the volume definition. An easy way
to create the XML &lt;file&gt; is to use the vol-dumpxml
command to obtain the definition of a pre-existing
volume.</p>

<p>Example</p>

<p>virsh vol-dumpxml --pool storagepool1 appvolume1 &gt;
newvolume.xml edit newvolume.xml virsh vol-create
differentstoragepool newvolume.xml</p>

<p>vol-create-from pool-or-uuid FILE [optional --inputpool
pool-or-uuid] vol-name-or-key-or-path Create a volume, using
another volume as input. pool-or-uuid is the name or UUID of
the storage pool to create the volume in. FILE is the XML
&lt;file&gt; with the volume definition. --inputpool
pool-or- uuid is the name or uuid of the storage pool the
source volume is in. vol-name-or-key-or-path is the name or
key or path of the source volume.</p>

<p>vol-create-as pool-or-uuid name capacity optional
--allocation size --format string --snapshot-source-vol
vol-name-or-key-or-path --snapshot-source-format string
Create a volume from a set of arguments. pool-or-uuid is the
name or UUID of the storage pool to create the volume in.
name is the name of the new volume. capacity is the size of
the volume to be created, with optional k, M, G, or T
suffix. --allocation size is the initial size to be
allocated in the volume, with optional k, M, G, or T suffix.
--format string is used in file based storage pools to
specify the volume file format to use; raw, bochs, qcow,
qcow2, vmdk. --snapshot-source-vol vol-name-or-key-or-path
is the source backing volume to be used if taking a snapshot
of an existing volume. --snapshot-source-format string is
the format of the snapshot backing volume; raw, bochs, qcow,
qcow2, vmdk.</p>

<p>vol-clone [optional --pool pool-or-uuid]
vol-name-or-key-or-path name Clone an existing volume. Less
powerful, but easier to type, version of vol-create-from.
--pool pool-or-uuid is the name or UUID of the storage pool
to create the volume in. vol-name-or-key- or-path is the
name or key or path of the source volume. name is the name
of the new volume.</p>

<p>vol-delete [optional --pool pool-or-uuid]
vol-name-or-key-or-path Delete a given volume. --pool
pool-or-uuid is the name or UUID of the storage pool the
volume is in. vol-name-or-key-or-path is the name or key or
path of the volume to delete.</p>

<p>vol-wipe [optional --pool pool-or-uuid]
vol-name-or-key-or-path Wipe a volume, ensure data
previously on the volume is not accessible to future reads.
--pool pool-or-uuid is the name or UUID of the storage pool
the volume is in. vol-name-or-key-or-path is the name or key
or path of the volume to wipe.</p>

<p>vol-dumpxml [optional --pool pool-or-uuid]
vol-name-or-key-or-path Output the volume information as an
XML dump to stdout. --pool pool-or-uuid is the name or UUID
of the storage pool the volume is in.
vol-name-or-key-or-path is the name or key or path of the
volume to output the XML of.</p>

<p>vol-info [optional --pool pool-or-uuid]
vol-name-or-key-or-path Returns basic information about the
given storage volume. --pool pool-or-uuid is the name or
UUID of the storage pool the volume is in.
vol-name-or-key-or-path is the name or key or path of the
volume to return information for.</p>

<p>vol-list --pool pool-or-uuid Return the list of volumes
in the given storage pool. --pool pool- or-uuid is the name
or UUID of the storage pool.</p>

<p>vol-pool [optional --uuid] vol-key-or-path Return the
pool name or UUID for a given volume. By default, the pool
name is returned. If the --uuid option is given, the pool
UUID is returned instead. vol-key-or-path is the key or path
of the volume to return the pool information for.</p>

<p>vol-path [optional --pool pool-or-uuid] vol-name-or-key
Return the path for a given volume. --pool pool-or-uuid is
the name or UUID of the storage pool the volume is in.
vol-name-or-key is the name or key of the volume to return
the path for.</p>

<p>vol-name vol-key-or-path Return the name for a given
volume. vol-key-or-path is the key or path of the volume to
return the name for.</p>

<p>vol-key [optional --pool pool-or-uuid] vol-name-or-path
Return the volume key for a given volume. --pool
pool-or-uuid is the name or UUID of the storage pool the
volume is in. vol-name- or-path is the name or path of the
volume to return the volume key for.</p>

<p>SECRET COMMMANDS The following commands manipulate
&quot;secrets&quot; (e.g. passwords, passphrases and
encryption keys). Libvirt can store secrets independently
from their use, and other objects (e.g. volumes or domains)
can refer to the secrets for encryption or possibly other
uses. Secrets are identified using an UUID. See
&lt;http://libvirt.org/formatsecret.html&gt; for
documentation of the XML format used to represent properties
of secrets.</p>

<p>secret-define file Create a secret with the properties
specified in file, with no associated secret value. If file
does not specify a UUID, choose one automatically. If file
specifies an UUID of an existing secret, replace its
properties by properties defined in file, without affecting
the secret value.</p>

<p>secret-dumpxml secret Output properties of secret
(specified by its UUID) as an XML dump to stdout.</p>

<p>secret-set-value secret base64 Set the value associated
with secret (specified by its UUID) to the value
Base64-encoded value base64.</p>

<p>secret-get-value secret Output the value associated with
secret (specified by its UUID) to stdout, encoded using
Base64.</p>

<p>secret-undefine secret Delete a secret (specified by its
UUID), including the associated value, if any.</p>

<p>secret-list Output a list of UUIDs of known secrets to
stdout.</p>

<p>SNAPSHOT COMMMANDS The following commands manipulate
domain snapshots. Snapshots take the disk, memory, and
device state of a domain at a point-of-time, and save it for
future use. They have many uses, from saving a
&quot;clean&quot; copy of an OS image to saving a domains
state before a potentially destructive operation. Snapshots
are identified with a unique name. See
&lt;http://libvirt.org/formatsnapshot.html&gt; for
documentation of the XML format used to represent properties
of snapshots.</p>

<p>snapshot-create domain xmlfile Create a snapshot for
domain domain with the properties specified in xmlfile. The
only properties settable for a domain snapshot are the
&lt;name&gt; and &lt;description&gt;; the rest of the fields
are ignored, and automatically filled in by libvirt. If
xmlfile is completely omitted, then libvirt will choose a
value for all fields.</p>

<p>snapshot-current domain Output the snapshot XML for the
domain s current snapshot (if any).</p>

<p>snapshot-list domain List all of the available snapshots
for the given domain.</p>

<p>snapshot-dumpxml domain snapshot Output the snapshot XML
for the domains snapshot named snapshot.</p>

<p>snapshot-revert domain snapshot Revert the given domain
to the snapshot specified by snapshot. Be aware that this is
a destructive action; any changes in the domain since the
snapshot was taken will be lost. Also note that the state of
the domain after snapshot-revert is complete will be the
state of the domain at the time the original snapshot was
taken.</p>

<p>snapshot-delete domain snapshot --children Delete the
snapshot for the domain named snapshot. If this snapshot has
child snapshots, changes from this snapshot will be merged
into the children. If --children is passed, then delete this
snapshot and any children of this snapshot.</p>

<p>NWFILTER COMMMANDS The following commands manipulate
network filters. Network filters allow filtering of the
network traffic coming from and going to virtual machines.
Individual network traffic filters are written in XML and
may contain references to other network filters, describe
traffic filtering rules, or contain both. Network filters
are referenced by virtual machines from within their
interface description. A network filter may be referenced by
multiple virtual machines interfaces.</p>

<p>nwfilter-define xmlfile Make a new network filter known
to libvirt. If a network filter with the same name already
exists, it will be replaced with the new XML. Any running
virtual machine referencing this network filter will have
its network traffic rules adapted. If for any reason the
network traffic filtering rules cannot be instantiated by
any of the running virtual machines, then the new XML will
be rejected.</p>

<p>nwfilter-undefine nwfilter-name Delete a network filter.
The deletion will fail if any running virtual machine is
currently using this network filter.</p>

<p>nwfilter-list List all of the available network
filters.</p>

<p>nwfilter-dumpxml nwfilter-name Output the network filter
XML.</p>

<p>nwfilter-edit nwfilter-name Edit the XML of a network
filter.</p>

<p>This is equivalent to:</p>

<p>virsh nwfilter-dumpxml myfilter &gt; myfilter.xml edit
myfilter.xml virsh nwfilter-define myfilter.xml</p>

<p>except that it does some error checking. The new network
filter may be rejected due to the same reason as mentioned
in nwfilter- define.</p>

<p>The editor used can be supplied by the $VISUAL or
$EDITOR environment variables, and defaults to
&quot;vi&quot;.</p>

<p>ENVIRONMENT The following environment variables can be
set to alter the behaviour of &quot;virsh&quot;</p>

<p>VIRSH_DEFAULT_CONNECT_URI The hypervisor to connect to
by default. Set this to a URI, in the same format as
accepted by the connect option.</p>

<p>VISUAL The editor to use by the edit and related
options.</p>

<p>EDITOR The editor to use by the edit and related
options, if &quot;VISUAL&quot; is not set.</p>

<p>LIBVIRT_DEBUG=LEVEL Turn on verbose debugging of all
libvirt API calls. Valid levels are</p>

<p>&middot; LIBVIRT_DEBUG=1</p>

<p>Messages at level DEBUG or above</p>

<p>&middot; LIBVIRT_DEBUG=2</p>

<p>Messages at level INFO or above</p>

<p>&middot; LIBVIRT_DEBUG=3</p>

<p>Messages at level WARNING or above</p>

<p>&middot; LIBVIRT_DEBUG=4</p>

<p>Messages at level ERROR or above</p>

<p>For further information about debugging options consult
&quot;http://libvirt.org/logging.html&quot;</p>

<p>BUGS Report any bugs discovered to the libvirt community
via the mailing list
&quot;http://libvirt.org/contact.html&quot; or bug tracker
&quot;http://libvirt.org/bugs.html&quot;. Alternatively
report bugs to your software distributor / vendor.</p>

<p>AUTHORS Andrew Puch &lt;apuch @ redhat.com&gt; Daniel
Veillard &lt;veillard @ redhat.com&gt;</p>

<p>Based on the xm man page by: Sean Dague &lt;sean at
dague dot net&gt; Daniel Stekloff &lt;dsteklof at us dot ibm
dot com&gt;</p>

<p>COPYRIGHT Copyright (C) 2005, 2007-2010 Red Hat,
Inc.</p>

<p>LICENSE virsh is distributed under the terms of the GNU
LGPL v2+. This is free software; see the source for copying
conditions. There is NO warranty; not even for
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE</p>

<p>SEE ALSO virt-install(1), virt-xml-validate(1),
virt-top(1), virt-mem(1), virt-df(1),
&lt;http://www.libvirt.org/&gt;</p>

<p>POD ERRORS Hey! The above document had some coding
errors, which are explained below:</p>

<p>Around line 768: =item outside of any =over</p>

<p>libvirt-0.8.1 2010-08-18 VIRSH(1)</p>
<hr>
</body>
</html>
