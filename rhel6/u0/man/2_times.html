<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:22:11 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>TIMES(2) Linux Programmer s Manual TIMES(2)</p>

<p>NAME times - get process times</p>

<p>SYNOPSIS #include &lt;sys/times.h&gt;</p>

<p>clock_t times(struct tms *buf);</p>

<p>DESCRIPTION times() stores the current process times in
the struct tms that buf points to. The struct tms is as
defined in &lt;sys/times.h&gt;:</p>

<p>struct tms { clock_t tms_utime; /* user time */ clock_t
tms_stime; /* system time */ clock_t tms_cutime; /* user
time of children */ clock_t tms_cstime; /* system time of
children */ };</p>

<p>The tms_utime field contains the CPU time spent
executing instructions of the calling process. The tms_stime
field contains the CPU time spent in the system while
executing tasks on behalf of the calling pro- cess. The
tms_cutime field contains the sum of the tms_utime and
tms_cutime values for all waited-for terminated children.
The tms_cstime field contains the sum of the tms_stime and
tms_cstime val- ues for all waited-for terminated
children.</p>

<p>Times for terminated children (and their descendants)
are added in at the moment wait(2) or waitpid(2) returns
their process ID. In particu- lar, times of grandchildren
that the children did not wait for are never seen.</p>

<p>All times reported are in clock ticks.</p>

<p>RETURN VALUE times() returns the number of clock ticks
that have elapsed since an arbitrary point in the past. The
return value may overflow the possi- ble range of type
clock_t. On error, (clock_t) -1 is returned, and errno is
set appropriately.</p>

<p>CONFORMING TO SVr4, 4.3BSD, POSIX.1-2001.</p>

<p>NOTES The number of clock ticks per second can be
obtained using:</p>

<p>sysconf(_SC_CLK_TCK);</p>

<p>In POSIX.1-1996 the symbol CLK_TCK (defined in
&lt;time.h&gt;) is mentioned as obsolescent. It is obsolete
now.</p>

<p>In Linux kernel versions before 2.6.9, if the
disposition of SIGCHLD is set to SIG_IGN then the times of
terminated children are automatically included in the
tms_cstime and tms_cutime fields, although POSIX.1-2001 says
that this should only happen if the calling process wait(2)s
on its children. This non-conformance is rectified in Linux
2.6.9 and later.</p>

<p>On Linux, the buf argument can be specified as NULL,
with the result that times() just returns a function result.
However, POSIX does not specify this behavior, and most
other Unix implementations require a non-NULL value for
buf.</p>

<p>Note that clock(3) also returns a value of type clock_t,
but this value is measured in units of CLOCKS_PER_SEC, not
the clock ticks used by times().</p>

<p>On Linux, the &quot;arbitrary point in the past&quot;
from which the return value of times() is measured has
varied across kernel versions. On Linux 2.4 and earlier this
point is the moment the system was booted. Since Linux 2.6,
this point is (2^32/HZ) - 300 (i.e., about 429 million) sec-
onds before system boot time. This variability across kernel
versions (and across Unix implementations), combined with
the fact that the returned value may overflow the range of
clock_t, means that a portable application would be wise to
avoid using this value. To measure changes in elapsed time,
use gettimeofday(2) instead.</p>

<p>Historical SVr1-3 returns long and the struct members
are of type time_t although they store clock ticks, not
seconds since the Epoch. V7 used long for the struct
members, because it had no type time_t yet.</p>

<p>BUGS A limitation of the Linux system call conventions
on some architectures (notably i386) means that on Linux 2.6
there is a small time window (41 seconds) soon after boot
when times() can return -1, falsely indicating that an error
occurred. The same problem can occur when the return value
wraps passed the maximum value that can be stored in
clockid_t.</p>

<p>SEE ALSO time(1), getrusage(2), wait(2), clock(3),
sysconf(3), time(7)</p>

<p>COLOPHON This page is part of release 3.22 of the Linux
man-pages project. A description of the project, and
information about reporting bugs, can be found at
http://www.kernel.org/doc/man-pages/.</p>

<p>Linux 2008-06-25 TIMES(2)</p>
<hr>
</body>
</html>
