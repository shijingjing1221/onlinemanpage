<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:24:52 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>VGCHANGE(8) VGCHANGE(8)</p>

<p>NAME vgchange - change attributes of a volume group</p>

<p>SYNOPSIS vgchange [--addtag Tag] [--alloc
AllocationPolicy] [-A|--autobackup {y|n}] [-a|--available
[e|l] {y|n}] [--monitor {y|n}] [--poll {y|n}]
[-c|--clustered {y|n}] [-u|--uuid] [-d|--debug] [--deltag
Tag] [-h|--help] [--ignorelockingfailure]
[--ignoremonitoring] [--sysinit] [--noudevsync]
[-l|--logicalvolume MaxLogicalVolumes] [-p|--maxphysi-
calvolumes MaxPhysicalVolumes] [--[vg]metadatacopies]
NumberOf- Copies|unmanaged|all] [-P|--partial]
[-s|--physicalextentsize Physi-
calExtentSize[bBsSkKmMgGtTpPeE]] [--refresh] [-t|--test]
[-v|--verbose] [--version] [-x|--resizeable {y|n}]
[VolumeGroupName...]</p>

<p>DESCRIPTION vgchange allows you to change the attributes
of one or more volume groups. Its main purpose is to
activate and deactivate VolumeGroup- Name, or all volume
groups if none is specified. Only active volume groups are
subject to changes and allow access to their logical vol-
umes. [Not yet implemented: During volume group activation,
if vgchange recognizes snapshot logical volumes which were
dropped because they ran out of space, it displays a message
informing the administra- tor that such snapshots should be
removed (see lvremove(8)). ]</p>

<p>OPTIONS See lvm for common options.</p>

<p>-A, --autobackup {y|n} Controls automatic backup of
metadata after the change. See vgcfgbackup (8). Default is
yes.</p>

<p>-a, --available [e|l]{y|n} Controls the availability of
the logical volumes in the volume group for input/output. In
other words, makes the logical vol- umes known/unknown to
the kernel.</p>

<p>If clustered locking is enabled, add e to
activate/deactivate exclusively on one node or l to
activate/deactivate only on the local node. Logical volumes
with single-host snapshots are always activated exclusively
because they can only be used on one node at once.</p>

<p>-c, --clustered {y|n} If clustered locking is enabled,
this indicates whether this Volume Group is shared with
other nodes in the cluster or whether it contains only local
disks that are not visible on the other nodes. If the
cluster infrastructure is unavailable on a particular node
at a particular time, you may still be able to use Volume
Groups that are not marked as clustered.</p>

<p>-u, --uuid Generate new random UUID for specified Volume
Groups.</p>

<p>--monitor {y|n} Start or stop monitoring a mirrored or
snapshot logical volume with dmeventd, if it is installed.
If a device used by a moni- tored mirror reports an I/O
error, the failure is handled according to
mirror_image_fault_policy and mirror_log_fault_pol- icy set
in lvm.conf(5).</p>

<p>--poll {y|n} Without polling a logical volume s
backgrounded transformation process will never complete. If
there is an incomplete pvmove or lvconvert (for example, on
rebooting after a crash), use --poll y to restart the
process from its last checkpoint. How- ever, it may not be
appropriate to immediately poll a logical volume when it is
activated, use --poll n to defer and then --poll y to
restart the process.</p>

<p>--sysinit Indicates that vgchange(8) is being invoked
from early system initialisation scripts (e.g. rc.sysinit or
an initrd), before writeable filesystems are available. As
such, some functionality needs to be disabled and this
option acts as a shortcut which selects an appropriate set
of options. Currently this is equiva- lent to using
--ignorelockingfailure, --ignoremonitoring, --poll n and
setting LVM_SUPPRESS_LOCKING_FAILURE_MESSAGES envi- ronment
variable.</p>

<p>--noudevsync Disable udev synchronisation. The process
will not wait for notification from udev. It will continue
irrespective of any possible udev processing in the
background. You should only use this if udev is not running
or has rules that ignore the devices LVM2 creates.</p>

<p>--ignoremonitoring Make no attempt to interact with
dmeventd unless --monitor is specified. Do not use this if
dmeventd is already monitoring a device.</p>

<p>-l, --logicalvolume MaxLogicalVolumes Changes the
maximum logical volume number of an existing inac- tive
volume group.</p>

<p>-p, --maxphysicalvolumes MaxPhysicalVolumes Changes the
maximum number of physical volumes that can belong to this
volume group. For volume groups with metadata in lvm1
format, the limit is 255. If the metadata uses lvm2 format,
the value 0 removes this restriction: there is then no
limit. If you have a large number of physical volumes in a
volume group with metadata in lvm2 format, for tool
performance reasons, you should consider some use of
--pvmetadatacopies 0 as described in pvcreate(8), and/or use
--vgmetadatacopies.</p>

<p>--[vg]metadatacopies NumberOfCopies|unmanaged|all Sets
the desired number of metadata copies in the volume group.
If set to a non-zero value, LVM will automatically manage
the metadataignore flags on the physical volumes (see
pvchange or pvcreate --metadataignore) in order to achieve
NumberOfCopies copies of metadata. If set to unmanaged, LVM
will not automati- cally manage the metadataignore flags. If
set to all, LVM will first clear all of the metadataignore
flags on all meta- data areas in the volume group, then set
the value to unmanaged. The vgmetadatacopies option is
useful for volume groups contain- ing large numbers of
physical volumes with metadata as it may be used to minimize
metadata read and write overhead.</p>

<p>-s, --physicalextentsize
PhysicalExtentSize[bBsSkKmMgGtTpPeE] Changes the physical
extent size on physical volumes of this volume group. A size
suffix (k for kilobytes up to t for ter- abytes) is
optional, megabytes is the default if no suffix is present.
The default is 4 MB and it must be at least 1 KB and a power
of 2.</p>

<p>Before increasing the physical extent size, you might
need to use lvresize, pvresize and/or pvmove so that
everything fits. For example, every contiguous range of
extents used in a logical volume must start and end on an
extent boundary.</p>

<p>If the volume group metadata uses lvm1 format, extents
can vary in size from 8KB to 16GB and there is a limit of
65534 extents in each logical volume. The default of 4 MB
leads to a maximum logical volume size of around 256GB.</p>

<p>If the volume group metadata uses lvm2 format those
restrictions do not apply, but having a large number of
extents will slow down the tools but have no impact on I/O
performance to the log- ical volume. The smallest PE is
1KB.</p>

<p>The 2.4 kernel has a limitation of 2TB per block
device.</p>

<p>--refresh If any logical volume in the volume group is
active, reload its metadata. This is not necessary in normal
operation, but may be useful if something has gone wrong or
if youre doing clustering manually without a clustered lock
manager.</p>

<p>-x, --resizeable {y|n} Enables or disables the
extension/reduction of this volume group with/by physical
volumes.</p>

<p>EXAMPLES To activate all known volume groups in the
system:</p>

<p>vgchange -a y</p>

<p>To change the maximum number of logical volumes of
inactive volume group vg00 to 128.</p>

<p>vgchange -l 128 /dev/vg00</p>

<p>SEE ALSO lvchange(8), lvm(8), vgcreate(8)</p>

<p>Sistina Software UK LVM TOOLS 2.02.72(2) (2010-07-28)
VGCHANGE(8)</p>
<hr>
</body>
</html>
