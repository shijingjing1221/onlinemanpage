<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:08:38 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>OCF_HEARTBEAT_MYSQL() OCF_HEARTBEAT_MYSQL()</p>

<p>NAME ocf_heartbeat_mysql-proxy - Manages a MySQL Proxy
daemon</p>

<p>SYNOPSIS mysql-proxy [start | stop | reload | monitor |
validate-all | meta-data]</p>

<p>DESCRIPTION This script manages MySQL Proxy as an OCF
resource in a high-availability setup. Tested with MySQL
Proxy 0.7.0 on Debian 5.0.</p>

<p>SUPPORTED PARAMETERS binary Full path to the MySQL Proxy
binary. For example, &quot;/usr/sbin/mysql-proxy&quot;.
(optional, string, default /usr/sbin/mysql-proxy)</p>

<p>defaults_file Full path to a MySQL Proxy configuration
file. For example, &quot;/etc/mysql-proxy.conf&quot;.
(optional, string, no default)</p>

<p>proxy_backend_addresses Address:port of the remote
backend-servers (default: 127.0.0.1:3306). (optional,
string, default 127.0.0.1:3306)</p>

<p>proxy_read_only_backend_addresses Address:port of the
remote (read only) slave-server (default: ). (optional,
string, default 127.0.0.1:3306)</p>

<p>proxy_address Listening address:port of the proxy-server
(default: :4040). You can also specify a socket like
&quot;/tmp/mysql-proxy.sock&quot;. (optional, string,
default :4040)</p>

<p>log_level Log all messages of level
(error|warning|info|message|debug|) or higher. An empty
value disables logging. (optional, string, no default)</p>

<p>keepalive Try to restart the proxy if it crashed
(default: ). Valid values: true or false. An empty value
equals &quot;false&quot;. (optional, string, no default)</p>

<p>admin_address Listening address:port of the admin-server
(default: 127.0.0.1:4041). (optional, string, default
127.0.0.1:4041)</p>

<p>admin_username Username to allow to log in (default: ).
(optional, string, no default)</p>

<p>admin_password Password to allow to log in (default: ).
(optional, string, no default)</p>

<p>admin_lua_script Script to execute by the admin plugin.
(optional, string, no default)</p>

<p>parameters The MySQL Proxy daemon may be called with
additional parameters. Specify any of them here. (optional,
string, no default)</p>

<p>pidfile PID file (optional, string, default
/var/run/heartbeat/rsctmp/mysql-proxy-default.pid)</p>

<p>SUPPORTED ACTIONS This resource agent supports the
following actions (operations):</p>

<p>start Starts the resource. Suggested minimum timeout:
30s.</p>

<p>stop Stops the resource. Suggested minimum timeout:
30s.</p>

<p>reload Suggested minimum timeout: 30s.</p>

<p>monitor Performs a detailed status check. Suggested
minimum timeout: 20s. Suggested interval: 60s.</p>

<p>validate-all Performs a validation of the resource
configuration. Suggested minimum timeout: 30s.</p>

<p>meta-data Retrieves resource agent metadata (internal
use only). Suggested minimum timeout: 5s.</p>

<p>EXAMPLE The following is an example configuration for a
mysql-proxy resource using the crm(8) shell:</p>

<p>primitive example_mysql-proxy ocf:heartbeat:mysql-proxy
op monitor depth=&quot;0&quot; timeout=&quot;20s&quot;
interval=&quot;60s&quot;</p>

<p>SEE ALSO
http://www.linux-ha.org/wiki/mysql-proxy_(resource_agent)</p>

<p>AUTHOR Linux-HA contributors (see the resource agent
source for information about individual authors)</p>

<p>OCF_HEARTBEAT_MYSQL()</p>
<hr>
</body>
</html>
