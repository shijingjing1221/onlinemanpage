<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 21:57:30 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>DIRFD(3) Linux Programmer s Manual DIRFD(3)</p>

<p>NAME dirfd - get directory stream file descriptor</p>

<p>SYNOPSIS #include &lt;sys/types.h&gt; #include
&lt;dirent.h&gt;</p>

<p>int dirfd(DIR *dirp);</p>

<p>Feature Test Macro Requirements for glibc (see
feature_test_macros(7)):</p>

<p>dirfd(): _BSD_SOURCE || _SVID_SOURCE</p>

<p>DESCRIPTION The function dirfd() returns the file
descriptor associated with the directory stream dirp.</p>

<p>This descriptor is the one used internally by the
directory stream. As a result, it is only useful for
functions which do not depend on or alter the file position,
such as fstat(2) and fchdir(2). It will be automatically
closed when closedir(3) is called.</p>

<p>RETURN VALUE On success, a non-negative file descriptor
is returned. On error, -1 is returned.</p>

<p>ERRORS POSIX.1-2008 specifies two errors, neither of
which is returned by the current implementation.</p>

<p>EINVAL dirp does not refer to a valid directory
stream.</p>

<p>ENOTSUP The implementation does not support the
association of a file descriptor with a directory.</p>

<p>CONFORMING TO POSIX.1-2008. This function was a BSD
extension, present in 4.3BSD- Reno, not in 4.2BSD.</p>

<p>NOTES The prototype for dirfd() is only available if
_BSD_SOURCE or _SVID_SOURCE is defined.</p>

<p>SEE ALSO open(2), closedir(3), opendir(3), readdir(3),
rewinddir(3), scandir(3), seekdir(3), telldir(3)</p>

<p>COLOPHON This page is part of release 3.22 of the Linux
man-pages project. A description of the project, and
information about reporting bugs, can be found at
http://www.kernel.org/doc/man-pages/.</p>

<p>Linux 2008-08-21 DIRFD(3)</p>
<hr>
</body>
</html>
