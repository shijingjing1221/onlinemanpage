<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 21:55:17 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>ccs_tool(8) ccs_tool(8)</p>

<p>NAME ccs_tool - The tool used to make online updates of
CCS config files.</p>

<p>SYNOPSIS ccs_tool [OPTION].. &lt;command&gt;</p>

<p>DESCRIPTION ccs_tool is part of the Cluster
Configuration System (CCS). It is used to make online
updates to cluster.conf. It can also be used to upgrade old
style (GFS &lt;= 6.0) CCS archives to the new xml
cluster.conf format.</p>

<p>OPTIONS -h Help. Print out the usage.</p>

<p>-V Print the version information.</p>

<p>sub-commands have their own options, see below for more
detail</p>

<p>COMMANDS addnode [options] &lt;node&gt;
[&lt;fenceoption=value&gt;]... Adds a new node to the
cluster configuration file. Fencing device options are
specified as key=value pairs (as many as required) and are
entered into the configuration file as is. See the
documentation for your fencing agent for more details (eg a
powerswitch fence device may need to know which port the
node is connected to). Options: -v &lt;votes&gt; Number of
votes for this node (mandatory) -n &lt;nodeid&gt; Node id
for this node (optional) -i &lt;interface&gt; Network
interface to use for this node. Manda- tory if the cluster
is using multicast as transport. Forbidden if not. -m
&lt;multicast&gt; Multicast address for cluster. Only
allowed on the first node to be added to the file.
Subsequent nodes will use either multicast or broadcast
depending on the properties of the first node. -f
&lt;fencedevice&gt; Name of fence device to use for this
node. The fence device section must already have been added
to the file, probably using the addfence command. -c
&lt;file&gt; Config file to use. Defaults to /etc/clus-
ter/cluster.conf -o &lt;file&gt; Output file. Defaults to
the same as -c -C Dont run &quot;ccs_tool update&quot; after
changing file. This will happen by default if the input file
is the same as the output file. -F Force a &quot;ccs_tool
update&quot; even if the input and output files are
different.</p>

<p>delnode [options] &lt;node&gt; Delete a node from the
cluster configuration file. Note: there is no
&quot;edit&quot; command so to change the properties of a
node you must delete it and add it back in with the new
properties. Options: -c &lt;file&gt; Config file to use.
Defaults to /etc/clus- ter/cluster.conf -o &lt;file&gt;
Output file. Defaults to the same as -c -C Dont run
&quot;ccs_tool update&quot; after changing file. This will
happen by default if the input file is the same as the
output file. -F Force a &quot;ccs_tool update&quot; even if
the input and output files are different.</p>

<p>addfence [options] &lt;name&gt; &lt;agent&gt;
[&lt;option&gt;=&lt;value&gt;]... Adds a new fence device
section to the cluster configuration file. &lt;agent&gt; is
the name of the fence agent that controls the device. the
options following are entered as key-value pairs. See the
fence agent documentation for details about these. eg: you
may need to enter the IP address and username/password for a
powerswitch fencing device. Options: -c &lt;file&gt; Config
file to use. Defaults to /etc/clus- ter/cluster.conf -o
&lt;file&gt; Output file. Defaults to the same as -c -C Don
t run &quot;ccs_tool update&quot; after changing file. This
will happen by default if the input file is the same as the
output file. -F Force a &quot;ccs_tool update&quot; even if
the input and output files are different.</p>

<p>delfence [options] &lt;node&gt; Deletes a fencing device
from the cluster configuration file. delfence will allow you
to remove a fence device that is in use by nodes. This is to
allow changes to be made, but be aware that it may produce
an invalid configuration file if you dont add it back in
again. Options: -c &lt;file&gt; Config file to use. Defaults
to /etc/clus- ter/cluster.conf -o &lt;file&gt; Output file.
Defaults to the same as -c -C Don t run &quot;ccs_tool
update&quot; after changing file. This will happen by
default if the input file is the same as the output file. -F
Force a &quot;ccs_tool update&quot; even if the input and
output files are different.</p>

<p>lsnode [options] List the nodes in the configuration
file. This is (hopefully obviously) not necessarily the same
as the nodes currently in the cluster, but it should be a
superset. Options: -v Verbose. Lists all the properties of
the node, and the node-specific properties of the fence
device too. -c &lt;file&gt; Config file to use. Defaults to
/etc/clus- ter/cluster.conf</p>

<p>lsfence [options] List all the fence devices in the
cluster configuration file. Options: -v Verbose. Lists all
the properties of the fence device rather than just the
names and agents. -c &lt;file&gt; Config file to use.
Defaults to /etc/clus- ter/cluster.conf</p>

<p>create [options] &lt;clustername&gt; Create a new,
skeleton, configuration file. Note that &quot;create&quot;
on its own will not create a valid configuration file. Fence
agents and nodes will need to be added to it before handing
it over to ccsd. The new configuration file will have a
version number of 1. Subsequent
addnode/delnode/addfence/delfence opera- tions will
increment the version number by 1 each time. Options: -c
&lt;file&gt; Config file to create. Defaults to /etc/clus-
ter/cluster.conf</p>

<p>addnodeids Adds node ID numbers to all the nodes in
cluster.conf. In RHEL4, node IDs were optional and assigned
by cman when a node joined the cluster. In RHEL5 they must
be pre-assigned in cluster.conf. This command will not
change any node IDs that are already set in cluster.conf, it
will simply add unique node ID numbers to nodes that do not
already have them.</p>

<p>SEE ALSO cluster.conf(5)</p>

<p>ccs_tool(8)</p>
<hr>
</body>
</html>
