<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 21:52:50 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>AMFETCHDUMP(8) System Administration Commands
AMFETCHDUMP(8)</p>

<p>NAME amfetchdump - extract backup images from multiple
Amanda tapes.</p>

<p>SYNOPSIS amfetchdump [-pcClawns] [-d device] [-O
directory] [-b blocksize] config hostname [disk [ date [
level [ hostname [...] ] ] ]] [-o configoption]...</p>

<p>DESCRIPTION Amfetchdump pulls one or more matching dumps
from tape or from the holding disk, handling the reassembly
of multi-tape split dump files as well as any tape
autochanger operations.</p>

<p>It will automatically use the logs created by amdump(8)
to locate available dumps on tape, in the same way that the
find feature of amadmin(8) lists available dumps. If these
logs are unavailable, it can search tape-by-tape to find
what it needs, and can generate new logs to serve as an
emergency tape inventory.</p>

<p>The hostname, diskname, datestamp, and level dump
pattern-matching works as in amrestore(8), with the added
requirement that at minimum a hostname must be specified
when not in inventory mode.</p>

<p>Unless -p is used, backup images are extracted to files
in the current directory named:</p>

<p>hostname.diskname.datestamp.dumplevel</p>

<p>OPTIONS -p Pipe exactly one complete dump file to
stdout, instead of writing the file to disk. This will
restore only the first matching dumpfile (where
&quot;first&quot; is determined by the dump log search
facility).</p>

<p>-d device Restore from this tape device instead of the
default.</p>

<p>-O directory Output restored files to this directory,
instead of to the current working directory.</p>

<p>-c Compress output, fastest method available.</p>

<p>-C Compress output, smallest file size method
available.</p>

<p>-l Leave dumps in the compressed/uncompressed state in
which they were found on tape. By default, amfetchdump will
automatically uncompress when restoring.</p>

<p>-a Assume that all tapes are already available, via tape
changer or otherwise, instead of prompting the operator to
ensure that all tapes are loaded.</p>

<p>-w Wait to put split dumps together until all chunks
have been restored. Normally, amfetchdump will attempt to
read pieces of a split file from tape in order, so that it
can assemble them simply by appending each file to the
first. This option disables the appending behavior, and
instead restores each piece as an individual file and
reassembles them only after all have been restored.</p>

<p>Note This requires at least double the size of your dump
in free disk space, in order to build the final assembled
dumpfile. This behavior is implicitly invoked in
circumstances where knowing the location of all dumps on
tape in advance is not possible, such as when you are
restoring without log files.</p>

<p>-n Do not reassemble split dump files at all, just
restore each piece as an individual file.</p>

<p>-s Do not fast-forward straight to needed files on tape.
This will slow down most restores substantially. Only use
this option if your tape drive does not properly support the
fast-forward operation.</p>

<p>-b blocksize Force a particular block size when reading
from tapes. This value will usually be autodetected, and
should not normally need to be set.</p>

<p>-o configoption See the &quot;CONFIGURATION
OVERRIDE&quot; section in amanda(8).</p>

<p>EXAMPLES All the examples here assume your configuration
is called SetA.</p>

<p>Here&acute;s a simple case, restoring all known dumps of
the host vanya to the current working directory. $
amfetchdump SetA vanya</p>

<p>A more likely scenario involves restoring a particular
dump from a particular date. We&acute;ll pipe this one to
GNU-tar as well, to automatically extract the dump. $
amfetchdump -p SetA vanya /home 20051020 | gtar -xvpf -</p>

<p>CAVEATS Amfetchdump is dependent on accessing your
server&acute;s config, tape changer, and (normally) dump
logs. As such, it&acute;s not necessarily the most useful
tool when those have all been wiped out and you desperately
need to pull things from your tape. Pains have been taken to
make it as capable as possible, but for seriously
minimialist restores, look to amrestore(8) or dd(8)
instead.</p>

<p>SEE ALSO amanda(8), amadmin(8), amrestore(8), tar(1),
restore(8), : http://wiki.zmanda.com</p>

<p>AUTHORS John Stange &lt;building@nap.edu&gt; National
Academies Press</p>

<p>Ian Turner &lt;ian@zmanda.com&gt; Zmanda, Inc.
(http://www.zmanda.com)</p>

<p>Amanda 2.6.1p2 11/05/2009 AMFETCHDUMP(8)</p>
<hr>
</body>
</html>
