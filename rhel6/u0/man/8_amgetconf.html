<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 21:52:50 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>AMGETCONF(8) System Administration Commands
AMGETCONF(8)</p>

<p>NAME amgetconf - look up configuration parameters and
manipulate debug logs</p>

<p>SYNOPSIS amgetconf [-l|--list] [-o configoption]...
[--client] [--execute-where client|server] [config]
parameter</p>

<p>DESCRIPTION Amgetconf has three main jobs: to fetch
configuration information from the Amanda configuration; to
fetch build-time configuration values; and to open and close
debug logs for shell scripts. Each is treated in its own
subsection, below.</p>

<p>If config is not specified, amgetconf assumes it is
being run from the configuration directory and that
amanda.conf is present. The order of options and arguments
does not matter. parameter is always case-insensitive, and
&acute;-&acute; and &acute;_&acute; are treated as
identical, just as in amanda.conf(5).</p>

<p>See the &quot;CONFIGURATION OVERRIDE&quot; section in
amanda(8) for information on the -o option.</p>

<p>AMANDA CONFIGURATION If parameter is a configuration
keyword (from amanda.conf(5)), then amgetconf will return
the corresponding value. For keywords which can take
multiple values, amgetconf will return all values, one on
each line.</p>

<p>Values in configuration subsections are specified with
parameters of the form TYPE:NAME:PARAMETER, where TYPE is
the subsection type (one of dumptype, tapetype, interface,
holdingdisk, application-tool, or script-tool; NAME is the
name of the subsection (e.g., user-tar), and PARAMETER is
the name of the disired parameter within that
subsection.</p>

<p>The --list option lists the subsections of a certain
type, where the type is givein as the parameter.</p>

<p>The --client option is equivalent to --execute-where
server (below).</p>

<p>The --execute-where option tells amgetconf whether to
operate on the client or the server; the server is the
default.</p>

<p>BUILD CONFIGURATION If parameter begins with build.,
then the following name is a build environment variable.
Variables without a value (e.g. XFSDUMP on a system that
does not support that type of file system) will not report
an error and will return an empty string as the value. Some
boolean variables (e.g. USE_AMANDAHOSTS) will return 1 if
the flag is set or an empty string if it is not, while
others return yes or no, as indicated below (the difference
is historical).</p>

<p>Combining the --list option with the parameter build
will enumerate all available build parameters.</p>

<p>Build Parameters</p>

<p>bindir, sbindir, libexecdir, mandir Install
directories</p>

<p>AMANDA_TMPDIR, CONFIG_DIR, AMANDA_DBGDIR,
GNUTAR_LISTED_INCREMENTAL_DIR Runtime directories</p>

<p>listed_inc_dir Same as GNUTAR_LISTED_INCREMENTAL_DIR</p>

<p>CC, VERSION, ASSERTIONS, LOCKING, USE_VERSION_SUFFIXES
Build information. ASSERTIONS is 1 or empty, while
USE_VERSION_SUFFIXES is yes/no.</p>

<p>DUMP, RESTORE, VDUMP, VRESTORE, XFSDUMP, XFSRESTORE,
VXDUMP, VXRESTORE, SAMBA_CLIENT, GNUTAR, STAR,
COMPRESS_PATH, UNCOMPRESS_PATH Paths to various utility
progarms (empty if they are not found or not used)</p>

<p>AIX_BACKUP Is DUMP the AIX backup program? (empty or
1)</p>

<p>DUMP_RETURNS_1 Does DUMP return 1 on success? (empty or
1)</p>

<p>BSD_SECURITY, BSDUDP_SECURITY, BSDTCP_SECURITY,
KRB4_SECURITY, KRB5_SECURITY, SSH_SECURITY, RSH_SECURITY
Indicate which authentication mechanisms are available (yes
or no).</p>

<p>USE_AMANDAHOSTS Should the &quot;bsd&quot;
authentication mechanism use amandahosts? (yes or no).</p>

<p>AMANDA_DEBUG_DAYS Number of days after which debug logs
are deleted.</p>

<p>DEFAULT_SERVER, DEFAULT_CONFIG, DEFAULT_TAPE_SERVER,
DEFAULT_TAPE_DEVICE Default values for configuration
parameters</p>

<p>CLIENT_LOGIN Userid under which the client runs (from
--with-user).</p>

<p>USE_RUNDUMP Should Amanda use the rundump wrapper?
(empty or 1)</p>

<p>CHECK_USERID Does Amanda check that userids are correct?
(empty or 1)</p>

<p>COMPRESS_SUFFIX, COMPRESS_FAST_OPT, COMPRESS_BEST_OPT,
UNCOMPRESS_OPT Command-line options for the compression
program.</p>

<p>TICKET_LIFETIME, SERVER_HOST_PRINCIPAL,
SERVER_HOST_INSTANCE, SERVER_HOST_KEY_FILE,
CLIENT_HOST_PRINCIPAL, CLIENT_HOST_INSTANCE,
CLIENT_HOST_KEY_FILE Kerberos parameters.</p>

<p>DEBUG LOG MANAGEMENT Note That this application is
responsible for debug logs is a historical quirk, but the
functionality is widely used..sp .5v</p>

<p>If parameter begins with dbopen., the string following
the period is a program name and an Amanda debug file will
be created for the caller. The name of the logfile is
returned.</p>

<p>If parameter begins with dbclose., the string following
the period is a program name previously used with dbopen.,
followed by a colon (:) and the previously opened file name.
The name of the logfile is returned.</p>

<p>EXAMPLES Find out the path to the log file directory: %
amgetconf daily logdir /usr/local/etc/amanda/daily/logs</p>

<p>Find out the current tape type: % amgetconf daily
tapetype DLT4000-IV</p>

<p>Find out that tape type&acute;s length: % amgetconf
daily tapetype:DLT4000-IV:length 1024000</p>

<p>List the other available tapetype: % amgetconf daily
--list tapetype DISK QIC-60 DEC-DLT2000 ...</p>

<p>Find out the configuration directory: % amgetconf
build.CONFIG_DIR /usr/local/etc/amanda/</p>

<p>List all build-time parameters % amgetconf --list build
AIX_BACKUP AMANDA_DBGDIR AMANDA_DEBUG_DAYS ...</p>

<p>Create, use and close a debug file in a script: %
debug_file=amgetconf daily dbopen.myscript % echo debug
information &gt;&gt; $debug_file % amgetconf daily
dbclose.myscript:$debug_file</p>

<p>MESSAGES amgetconf: no such parameter param Parameter
param is not a known keyword (e.g. not a valid amanda.conf
keyword).</p>

<p>SEE ALSO amanda(8), : http://wiki.zmanda.com</p>

<p>AUTHOR Jean-Louis Martineau &lt;martineau@zmanda.com&gt;
Zmanda, Inc. (http://www.zmanda.com)</p>

<p>Amanda 2.6.1p2 11/05/2009 AMGETCONF(8)</p>
<hr>
</body>
</html>
