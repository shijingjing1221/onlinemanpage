<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:08:02 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>MYSQLTEST(1) MySQL Database System MYSQLTEST(1)</p>

<p>NAME mysqltest - program to run test cases
mysqltest_embedded - program to run embedded test cases</p>

<p>SYNOPSIS mysqltest [options] [db_name]</p>

<p>mysqltest_embedded [options] [db_name]</p>

<p>DESCRIPTION The mysqltest program runs a test case
against a MySQL server and optionally compares the output
with a result file. This program reads input written in a
special test language. Typically, you invoke mysqltest via
mysql-test-run.pl rather than invoking it directly.</p>

<p>mysqltest_embedded is similar but is built with support
for the libmysqld embedded server.</p>

<p>Features of mysqltest:</p>

<p>&middot; Can send SQL statements to MySQL servers for
execution</p>

<p>&middot; Can execute external shell commands</p>

<p>&middot; Can test whether the result from an SQL
statement or shell command is as expected</p>

<p>&middot; Can connect to one or more standalone mysqld
servers and switch between connections</p>

<p>&middot; Can connect to an embedded server (libmysqld),
if MySQL is compiled with support for libmysqld. (In this
case, the executable is named mysqltest_embedded rather than
mysqltest.)</p>

<p>By default, mysqltest reads the test case on the
standard input. To run mysqltest this way, you normally
invoke it like this:</p>

<p>shell&gt; mysqltest [options] [db_name] &lt;
test_file</p>

<p>You can also name the test case file with a
--test-file=file_name option.</p>

<p>The exit value from mysqltest is 0 for success, 1 for
failure, and 62 if it skips the test case (for example, if
after checking some preconditions it decides not to run the
test).</p>

<p>mysqltest supports the following options:</p>

<p>&middot; --help, -?</p>

<p>Display a help message and exit.</p>

<p>&middot; --basedir=dir_name, -b dir_name</p>

<p>The base directory for tests.</p>

<p>&middot; --character-sets-dir=path</p>

<p>The directory where character sets are installed.</p>

<p>&middot; --compress, -C</p>

<p>Compress all information sent between the client and the
server if both support compression.</p>

<p>&middot; --cursor-protocol</p>

<p>Use cursors for prepared statements.</p>

<p>&middot; --database=db_name, -D db_name</p>

<p>The default database to use.</p>

<p>&middot; --debug[=debug_options], -#[debug_options]</p>

<p>Write a debugging log if MySQL is built with debugging
support. The default debug_options value is
&acute;d:t:S:i:O,/tmp/mysqltest.trace&acute;.</p>

<p>&middot; --debug-check</p>

<p>Print some debugging information when the program
exits.</p>

<p>&middot; --debug-info</p>

<p>Print debugging information and memory and CPU usage
statistics when the program exits.</p>

<p>&middot; --host=host_name, -h host_name</p>

<p>Connect to the MySQL server on the given host.</p>

<p>&middot; --include=file_name, -i file_name</p>

<p>Include the contents of the given file before processing
the contents of the test file. The included file should have
the same format as other mysqltest test files. This option
has the same effect as putting a --source file_name command
as the first line of the test file.</p>

<p>&middot; --logdir=dir_name</p>

<p>The directory to use for log files.</p>

<p>&middot; --mark-progress</p>

<p>Write the line number and elapsed time to
test_file.progress.</p>

<p>&middot; --max-connect-retries=num</p>

<p>The maximum number of connection attempts when
connecting to server.</p>

<p>&middot; --max-connections=num</p>

<p>The maximum number of simultaneous server connections
per client (that is, per test). If not set, the maximum is
128. Minimum allowed limit is 8, maximum is 5120.</p>

<p>This option is available from MySQL 5.1.45.</p>

<p>&middot; --no-defaults</p>

<p>Do not read default options from any option files. If
used, this must be the first option.</p>

<p>&middot; --password[=password], -p[password]</p>

<p>The password to use when connecting to the server. If
you use the short option form (-p), you cannot have a space
between the option and the password. If you omit the
password value following the --password or -p option on the
command line, you are prompted for one.</p>

<p>&middot; --port=port_num, -P port_num</p>

<p>The TCP/IP port number to use for the connection.</p>

<p>&middot; --ps-protocol</p>

<p>Use the prepared-statement protocol for
communication.</p>

<p>&middot; --quiet</p>

<p>Suppress all normal output. This is a synonym for
--silent.</p>

<p>&middot; --record, -r</p>

<p>Record the output that results from running the test
file into the file named by the --result-file option, if
that option is given. It is an error to use this option
without also using --result-file.</p>

<p>&middot; --result-file=file_name, -R file_name</p>

<p>This option specifies the file for test case expected
results. --result-file, together with --record, determines
how mysqltest treats the test actual and expected results
for a test case:</p>

<p>&middot; If the test produces no results, mysqltest
exits with an error message to that effect, unless
--result-file is given and the named file is an empty
file.</p>

<p>&middot; Otherwise, if --result-file is not given,
mysqltest sends test results to the standard output.</p>

<p>&middot; With --result-file but not --record, mysqltest
reads the expected results from the given file and compares
them with the actual results. If the results do not match,
mysqltest writes a .reject file in the same directory as the
result file, outputs a diff of the two files, and exits with
an error.</p>

<p>&middot; With both --result-file and --record, mysqltest
updates the given file by writing the actual test results to
it.</p>

<p>&middot; --server-arg=value, -A value</p>

<p>Pass the argument as an argument to the embedded server.
For example, --server-arg=--tmpdir=/tmp or
--server-arg=--core. Up to 64 arguments can be given.</p>

<p>&middot; --server-file=file_name, -F file_name</p>

<p>Read arguments for the embedded server from the given
file. The file should contain one argument per line.</p>

<p>&middot; --silent, -s</p>

<p>Suppress all normal output.</p>

<p>&middot; --skip-safemalloc</p>

<p>Do not use memory allocation checking.</p>

<p>&middot; --sleep=num, -T num</p>

<p>Cause all sleep commands in the test case file to sleep
num seconds. This option does not affect real_sleep
commands.</p>

<p>As of MySQL 5.0.23, an option value of 0 can be used,
which effectively disables sleep commands in the test
case.</p>

<p>&middot; --socket=path, -S path</p>

<p>The socket file to use when connecting to localhost
(which is the default host).</p>

<p>&middot; --sp-protocol</p>

<p>Execute DML statements within a stored procedure. For
every DML statement, mysqltest creates and invokes a stored
procedure that executes the statement rather than executing
the statement directly.</p>

<p>&middot; --tail-lines=nn</p>

<p>Specify how many lines of the result to include in the
output if the test fails because an SQL statement fails. The
default is 0, meaning no lines of result printed.</p>

<p>&middot; --test-file=file_name, -x file_name</p>

<p>Read test input from this file. The default is to read
from the standard input.</p>

<p>&middot; --timer-file=file_name, -m file_name</p>

<p>If given, the number of millisecond spent running the
test will be written to this file. This is used by
mysql-test-run.pl for its reporting.</p>

<p>&middot; --tmpdir=dir_name, -t dir_name</p>

<p>The temporary directory where socket files are
created.</p>

<p>&middot; --user=user_name, -u user_name</p>

<p>The MySQL user name to use when connecting to the
server.</p>

<p>&middot; --verbose, -v</p>

<p>Verbose mode. Print out more information about what the
program does.</p>

<p>&middot; --version, -V</p>

<p>Display version information and exit.</p>

<p>&middot; --view-protocol</p>

<p>Every SELECT statement is wrapped inside a view. This
option was added in MySQL 5.0.19.</p>

<p>COPYRIGHT Copyright &copy; 2007, 2010, Oracle and/or its
affiliates. All rights reserved.</p>

<p>This documentation is free software; you can
redistribute it and/or modify it only under the terms of the
GNU General Public License as published by the Free Software
Foundation; version 2 of the License.</p>

<p>This documentation is distributed in the hope that it
will be useful, but WITHOUT ANY WARRANTY; without even the
implied warranty of MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE. See the GNU General Public License for
more details.</p>

<p>You should have received a copy of the GNU General
Public License along with the program; if not, write to the
Free Software Foundation, Inc., 51 Franklin Street, Fifth
Floor, Boston, MA 02110-1301 USA or see
http://www.gnu.org/licenses/.</p>

<p>SEE ALSO For more information, please refer to the MySQL
Reference Manual, which may already be installed locally and
which is also available online at
http://dev.mysql.com/doc/.</p>

<p>AUTHOR Oracle Corporation (http://dev.mysql.com/).</p>

<p>MySQL 05/05/2010 MYSQLTEST(1)</p>
<hr>
</body>
</html>
