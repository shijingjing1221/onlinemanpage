<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:05:20 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>jstatd(1) jstatd(1)</p>

<p>NAME jstatd - Virtual Machine jstat Daemon</p>

<p>SYNOPSIS jstatd [ options ]</p>

<p>PARAMETERS options Command-line options. The options may
be in any order. If there are redundant or contradictory
options, the last option specified will take precedence.</p>

<p>DESCRIPTION The jstatd tool is an RMI server application
that monitors for the cre- ation and termination of
instrumented HotSpot Java virtual machines (JVMs) and
provides a interface to allow remote monitoring tools to
attach to JVMs running on the local host.</p>

<p>The jstatd server requires the presence of an RMI
registry on the local host. The jstatd server will attempt
to attach to the RMI registry on the default port, or on the
port indicated by the -p port option. If an RMI registry is
not found, one will be created within the jstatd appli-
cation bound to the port indicated by the -p port option or
to the default RMI registry port if -p port is omitted.
Creation of an inter- nal RMI registry can be inhibited by
specifying the -nr option.</p>

<p>NOTE: This utility is unsupported and may or may not be
available in future versions of the JDK. It is not currently
available on the Win- dows 98 and Windows ME platforms.</p>

<p>OPTIONS The jstatd command supports the following
options:</p>

<p>-nr Do not attempt to create an internal RMI registry
within the jstatd process when an existing RMI registry is
not found.</p>

<p>-p port Port number where the RMI registry is expected
to be found, or, if not found, created if -nr is not
specified.</p>

<p>-n rminame Name to which the remote RMI object is bound
in the RMI registry. The default name is JStatRemoteHost. If
multiple jstatd servers are started on the same host, the
name of the exported RMI object for each server can be made
unique by by specifying this option. How- ever, doing so
will require that the unique server name be included in the
monitoring clients hostid and vmid strings.</p>

<p>-Joption Pass option to the java launcher called by
javac. For example, -J-Xms48m sets the startup memory to 48
megabytes. It is a common convention for -J to pass options
to the underlying VM executing applications written in
Java.</p>

<p>SECURITY The jstatd server can only monitor JVMs for
which it has the appropri- ate native access permissions.
Therefor the jstatd process must be run- ning with the same
user credentials as the target JVMs. Some user cre-
dentials, such as the root user in UNIX(TM) based systems,
have permis- sion to access the instrumentation exported by
any JVM on the system. A jstatd process running with such
credentials can monitor any JVM on the system, but
introduces additional security concerns.</p>

<p>The jstatd server does not provide any authentication of
remote clients. Therefore, running a jstatd server process
exposes the instru- mentation export by all JVMs for which
the jstatd process has access permissions to any user on the
network. This exposure may be undesire- able in your
environment and local security policies should be consid-
ered before starting the jstatd process, particularly in
production environments or on unsecure networks.</p>

<p>The jstatd server installs an instance of
RMISecurityPolicy if no other security manager has been
installed and therefore requires a security policy file to
be specified. The policy file must conform to the default
policy implementations Policy File Syntax @
http://java.sun.com/javase/6/docs/technotes/guides/security/Policy-
Files.html.</p>

<p>The following policy file will allow the jstatd server
to run without any security exceptions. This policy is less
liberal then granting all permissions to all codebases, but
is more liberal than a policy that grants the minimal
permissions to run the jstatd server.</p>

<p>grant codebase
&quot;file:${java.home}/../lib/tools.jar&quot; {</p>

<p>permission java.security.AllPermission;</p>

<p>};</p>

<p>To use this policy, copy the text into a file called
jstatd.all.policy and run the jstatd server as follows:</p>

<p>jstatd -J-Djava.security.policy=jstatd.all.policy</p>

<p>For sites with more restrictive security practices, it
is possible to use a custom policy file to limit access to
specific trusted hosts or networks, though such techniques
are subject to IP addreess spoofing attacks. If your
security concerns cannot be addressed with a cus- tomized
policy file, then the safest action is to not run the jstatd
server and use the jstat and jps tools locally.</p>

<p>REMOTE INTERFACE&quot;</p>

<p>The interface exported by the jstatd process is
proprietary and is guaranteed to change. Users and
developers are discouraged from writing to this
interface.</p>

<p>EXAMPLES Here are some examples of starting jstatd. Note
that the jstatd scripts automatically start the server in
the background.</p>

<p>Using Internal RMI Registry</p>

<p>This example demonstrates starting jstatd with an
internal RMI reg- istry. This example assumes that no other
server is bound to the default RMI Registry port (port
1099).</p>

<p>jstatd -J-Djava.security.policy=all.policy</p>

<p>Using External RMI Registry</p>

<p>This example demonstrates starting jstatd with a
external RMI registry.</p>

<p>rmiregistry&amp; jstatd
-J-Djava.security.policy=all.policy</p>

<p>This example demonstrates starting jstatd with an
external RMI registry server on port 2020.</p>

<p>rmiregistry 2020&amp; jstatd
-J-Djava.security.policy=all.policy -p 2020</p>

<p>This example demonstrates starting jstatd with an
external RMI registry on port 2020, bound to name
AlternateJstatdServerName.</p>

<p>rmiregistry 2020&amp; jstatd
-J-Djava.security.policy=all.policy -p 2020 -n
AlternateJstatdServerName</p>

<p>Inhibiting creation of an in-process RMI registry</p>

<p>This example demonstrates starting jstatd such that it
will not create a RMI registry if one is not found. This
example assumes an RMI reg- istry is already running. If it
is not, an appropriate error message is emitted.</p>

<p>jstatd -J-Djava.security.policy=all.policy -nr</p>

<p>Enabling RMI logging capabilities.</p>

<p>This example demonstrates starting jstatd with RMI
logging capabilities enabled. This technique is useful as a
troubleshooting aid or for moni- toring server
activities.</p>

<p>jstatd -J-Djava.security.policy=all.policy
-J-Djava.rmi.server.logCalls=true</p>

<p>SEE ALSO * java - the Java Application Launcher</p>

<p>* jps - the Java Process Status Application</p>

<p>* jstat - the Java Virtual Machine Statistics Monitoring
Tool</p>

<p>* rmiregistry - the Java Remote Object Registry</p>

<p>05 Aug 2006 jstatd(1)</p>
<hr>
</body>
</html>
