<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:07:33 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>MOVE_PAGES(2) Linux System Calls MOVE_PAGES(2)</p>

<p>NAME move_pages - move a set of pages of a process to a
different NUMA node</p>

<p>SYNOPSIS #include &lt;syscall.h&gt; long
move_pages(pid_t pid, unsigned long nr_pages, const void
**address, const int *nodes, int *status, int flags);</p>

<p>DESCRIPTION move_pages moves a set of pages in the
address space of a executed pro- cess to a different NUMA
node. The function can also be used to deter- mine the nodes
to which the pages are currently mapped.</p>

<p>pid is the process whose pages will be moved. The value
0 specifies the current process.</p>

<p>The argument nr_pages specifies the number of pages
which would require moving.</p>

<p>addresses is an array of addresses of pages which would
require moving</p>

<p>nodes is an array of numbers of nodes to move the
corresponding pages to. If set to NULL, status is filled
with current NUMA node IDs, but no migrations occur.</p>

<p>The flags argument describes the type of pages which
will be moved:</p>

<p>MPOL_MF_MOVE Syscall will move only pages which are
mapped only by the pro- cess pid.</p>

<p>MPOL_MF_MOVE_ALL Syscall will move pages which are
mapped by multiple processes too (this mode needs to have
sufficient permissions).</p>

<p>The status field is only valid if move_pages finished
successfully. This field contains the status of the
specified pages. If the nodes argument is NULL or the
migration succeeded, it is set to the node ID. Otherwise it
contains a negative number, one of the following error
codes:</p>

<p>-EFAULT the specified address does not point to a valid
mapping</p>

<p>-ENOENT the page does not exist</p>

<p>-EPERM the page cant be moved (it is mlocked)</p>

<p>-EACCES the page is shared by multiple processes and the
flag MPOL_MF_MOVE_ALL was not set</p>

<p>-EBUSY the page could not be moved - it is busy now</p>

<p>-EFAULT the page address is not valid</p>

<p>-ENOMEM insufficient memory</p>

<p>-EIO the page cant be written</p>

<p>-EINVAL the page cant be moved because the file system
does not imple- ment the necessary interface</p>

<p>RETURN VALUE If nodes is not NULL, move_pages returns
the number of valid migration requests which could not
currently be performed. Otherwise it returns 0.</p>

<p>An error indication is returned on error.</p>

<p>ERRORS EACCES one of the nodes specified by the nodes
argument is not allowed for the specified process.</p>

<p>EINVAL the man pages to be moved are in kernel thread or
the flag parameter is invalid.</p>

<p>ENODEV one of the nodes specified by the nodes argument
is not avail- able.</p>

<p>ENOENT there is no page which would be moved.</p>

<p>EPERM the flag is set to MPOL_MF_MOVE_ALL or pid doesn t
specify the current process, and the process has
insufficient privileges.</p>

<p>ENOMEM insufficient memory</p>

<p>E2BIG the number of pages to move is too big</p>

<p>ESRCH the process pid cant be found</p>

<p>AVAILABILITY This syscall is implemented only on the
i386 and IA-64 architectures since kernel 2.6.</p>

<p>Linux 8 August 2006 MOVE_PAGES(2)</p>
<hr>
</body>
</html>
