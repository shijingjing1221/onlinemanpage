<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:10:25 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>LIBPFM(3) Linux Programmer s Manual LIBPFM(3)</p>

<p>NAME pfm_get_pmu_name, pfm_get_pmu_type,
pfm_get_pmu_name_bytype, pfm_pmu_is_supported,
pfm_force_pmu,pfm_list_supported_pmu - query library about
supported PMU models</p>

<p>SYNOPSIS #include &lt;perfmon/pfmlib.h&gt;</p>

<p>int pfm_get_pmu_name(char *name, int maxlen); int
pfm_get_pmu_type(int *type); int pfm_get_pmu_name_bytype(int
type, char *name, int maxlen); int pfm_pmu_is_supported(int
type); int pfm_force_pmu(int type); int
pfm_list_supported_pmus(int (*pf)(const char *fmt,...));</p>

<p>DESCRIPTION These functions retrieve information about
the detected host PMU and the PMU models supported by the
library. More than one model can be supported by the same
library.</p>

<p>Each PMU model is assigned a type and a name. The latter
is just a string and the former is a unique identifier. The
currently supported types are:</p>

<p>PFMLIB_GENERIC_PMU Intel Itanium default architected PMU
model, i.e., the basic model.</p>

<p>PFMLIB_ITANIUM_PMU Intel Itanium processor PMU model.
The model is found in the first implementation of the IA-64
architecture, code name Merced.</p>

<p>PFMLIB_ITANIUM2_PMU Intel Itanium 2 processor PMU model.
This is the model provided by McKinley, Madison, and
Deerfield processors.</p>

<p>PFMLIB_MONTECITO_PMU Intel Dual-core Itanium 2 processor
PMU model. This is the model provided by Montecito, Montvale
processors.</p>

<p>PFMLIB_AMD64_PMU AMD AMD64 processors (family 15 and
16)</p>

<p>PFMLIB_GEN_IA32_PMU Intel X86 architectural PMU v1, v2,
v3</p>

<p>PFMLIB_I386_P6_PMU Intel P6 processors. That includes
Pentium Pro, Pentium II, Pen- tium III, but excludes Pentium
M</p>

<p>PFMLIB_I386_PM_PMU Intel Pentium M processors.</p>

<p>PFMLIB_INTEL_PII_PMU Intel Pentium II processors.</p>

<p>PFMLIB_PENTIUM4_PMU Intel processors based on Netburst
micro-architecture. That includes Pentium 4.</p>

<p>PFMLIB_COREDUO_PMU Intel processors based on Yonah
micro-architecture. That includes Intel Core Duo/Core Solo
processors</p>

<p>PFMLIB_I386_PM_PMU Intel Pentium M processors</p>

<p>PFMLIB_INTEL_CORE_PMU Intel processors based on the Core
micro-architecture. That includes Intel Core 2 Duo/Quad
processors</p>

<p>PFMLIB_INTEL_ATOM_PMU Intel processors based on the Atom
micro-architecture.</p>

<p>PFMLIB_INTEL_NHM_PMU Intel processors based on the
Nehalem micro-architectures. That includes Intel Core i7
processors.</p>

<p>PFMLIB_MIPS_20KC_PMU MIPS 20KC processors</p>

<p>PFMLIB_MIPS_24K_PMU MIPS 24K processors</p>

<p>PFMLIB_MIPS_25KF_PMU MIPS 25KF processors</p>

<p>PFMLIB_MIPS_34K_PMU MIPS 34K processors</p>

<p>PFMLIB_MIPS_5KC_PMU MIPS 5KC processors</p>

<p>PFMLIB_MIPS_74K_PMU MIPS 74K processors</p>

<p>PFMLIB_MIPS_R10000_PMU MIPS R10000 processors</p>

<p>PFMLIB_MIPS_R12000_PMU MIPS R12000 processors</p>

<p>PFMLIB_MIPS_RM7000_PMU MIPS RM7000 processors</p>

<p>PFMLIB_MIPS_RM9000_PMU MIPS RM9000 processors</p>

<p>PFMLIB_MIPS_SB1_PMU MIPS SB1/SB1A processors</p>

<p>PFMLIB_MIPS_VR5432_PMU MIPS VR5432 processors</p>

<p>PFMLIB_MIPS_VR5500_PMU MIPS VR5500 processors</p>

<p>PFMLIB_MIPS_ICE9A_PMU SiCortex ICE9A</p>

<p>PFMLIB_MIPS_ICE9B_PMU SiCortex ICE9B</p>

<p>PFMLIB_POWERPC_PMU IBM POWERPC processors</p>

<p>PFMLIB_CRAYX2_PMU Cray X2 processors</p>

<p>PFMLIB_CELL_PMU IBM Cell processors</p>

<p>PFMLIB_PPC970_PMU IBM PowerPC 970(FX,GX) processors</p>

<p>PFMLIB_PPC970MP_PMU IBM PowerPC 970MP processors</p>

<p>PFMLIB_POWER3_PMU IBM POWER3 processors</p>

<p>PFMLIB_POWER4_PMU IBM POWER4 processors</p>

<p>PFMLIB_POWER5_PMU IBM POWER5 processors</p>

<p>PFMLIB_POWER5p_PMU BM POWER5+ processors</p>

<p>PFMLIB_POWER6_PMU IBM POWER6 processors</p>

<p>The pfm_get_pmu_name() function returns the name of the
detected host PMU. The library must have been initialized
properly before making this call. The name is returned in
the name argument. The maxlen argument indicates the maximum
length of the buffer provided for name. Up to maxlen-1
characters will be returned, not including the termination
character.</p>

<p>The pfm_get_pmu_type() function returns the type of the
detected host PMU. The library must have been initialized
properly before making this call. The type returned in type
can be any one of the three listed above.</p>

<p>The pfm_get_pmu_name_bytype() function returns the name
of a PMU model in name given a type in the type argument.
The maxlen argument indi- cates the maximum length of the
buffer provided for name. Up to maxlen-1 characters will be
returned, not including the termination character.</p>

<p>The pfm_pmu_is_supported() function returns
PFMLIB_SUCCESS if the given PMU type is supported by the
library independently of what the host PMU model is.</p>

<p>The pfm_force_pmu() function is used to forced the
library to use a particular PMU model compared to what it
has detected. The library checks that the selected type can
be supported by the host PMU. This is mostly useful to force
the library to the use generic PMU model PFM-
LIB_GENERIC_PMU. This function can be called at any time and
upon return the library is considered initialized.</p>

<p>The pfm_list_supported_pmu() function is used to print
the list PMU types that the library supports. The results is
printed using the func- tion provided in the pf argument,
which must be a printf-style func- tion.</p>

<p>RETURN The function returns whether or not it was
successful. A return value of PFMLIB_SUCCESS indicates
success, otherwise the value is the error code.</p>

<p>ERRORS PFMLIB_ERR_NOINIT the library has not been
initialized properly.</p>

<p>PFMLIB_ERR_INVAL invalid argument was given, most likely
invalid pointer or invalid PMU type.</p>

<p>PFMLIB_ERR_NOTSUPP the selected PMU type can be used on
the host CPU.</p>

<p>AUTHOR Stephane Eranian &lt;eranian@hpl.hp.com&gt;</p>

<p>November, 2003 LIBPFM(3)</p>
<hr>
</body>
</html>
