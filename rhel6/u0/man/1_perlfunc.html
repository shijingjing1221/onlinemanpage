<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:10:06 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>PERLFUNC(1) Perl Programmers Reference Guide
PERLFUNC(1)</p>

<p>NAME perlfunc - Perl builtin functions</p>

<p>DESCRIPTION The functions in this section can serve as
terms in an expression. They fall into two major categories:
list operators and named unary operators. These differ in
their precedence relationship with a following comma. (See
the precedence table in perlop.) List operators take more
than one argument, while unary operators can never take more
than one argument. Thus, a comma terminates the argument of
a unary operator, but merely separates the arguments of a
list operator. A unary operator generally provides a scalar
context to its argument, while a list operator may provide
either scalar or list contexts for its arguments. If it does
both, the scalar arguments will be first, and the list
argument will follow. (Note that there can ever be only one
such list argument.) For instance, splice() has three scalar
arguments followed by a list, whereas gethostbyname() has
four scalar arguments.</p>

<p>In the syntax descriptions that follow, list operators
that expect a list (and provide list context for the
elements of the list) are shown with LIST as an argument.
Such a list may consist of any combination of scalar
arguments or list values; the list values will be included
in the list as if each individual element were interpolated
at that point in the list, forming a longer
single-dimensional list value. Commas should separate
elements of the LIST.</p>

<p>Any function in the list below may be used either with
or without parentheses around its arguments. (The syntax
descriptions omit the parentheses.) If you use the
parentheses, the simple (but occasionally surprising) rule
is this: It looks like a function, therefore it is a
function, and precedence doesnt matter. Otherwise its a list
operator or unary operator, and precedence does matter. And
whitespace between the function and left parenthesis doesnt
count--so you need to be careful sometimes:</p>

<p>print 1+2+4; # Prints 7. print(1+2) + 4; # Prints 3.
print (1+2)+4; # Also prints 3! print +(1+2)+4; # Prints 7.
print ((1+2)+4); # Prints 7.</p>

<p>If you run Perl with the -w switch it can warn you about
this. For example, the third line above produces:</p>

<p>print (...) interpreted as function at - line 1. Useless
use of integer addition in void context at - line 1.</p>

<p>A few functions take no arguments at all, and therefore
work as neither unary nor list operators. These include such
functions as &quot;time&quot; and &quot;endpwent&quot;. For
example, &quot;time+86_400&quot; always means &quot;time() +
86_400&quot;.</p>

<p>For functions that can be used in either a scalar or
list context, nonabortive failure is generally indicated in
a scalar context by returning the undefined value, and in a
list context by returning the null list.</p>

<p>Remember the following important rule: There is no rule
that relates the behavior of an expression in list context
to its behavior in scalar context, or vice versa. It might
do two totally different things. Each operator and function
decides which sort of value it would be most appropriate to
return in scalar context. Some operators return the length
of the list that would have been returned in list context.
Some operators return the first value in the list. Some
operators return the last value in the list. Some operators
return a count of successful operations. In general, they do
what you want, unless you want consistency.</p>

<p>A named array in scalar context is quite different from
what would at first glance appear to be a list in scalar
context. You cant get a list like &quot;(1,2,3)&quot; into
being in scalar context, because the compiler knows the
context at compile time. It would generate the scalar comma
operator there, not the list construction version of the
comma. That means it was never a list to start with.</p>

<p>In general, functions in Perl that serve as wrappers for
system calls of the same name (like chown(2), fork(2),
closedir(2), etc.) all return true when they succeed and
&quot;undef&quot; otherwise, as is usually mentioned in the
descriptions below. This is different from the C interfaces,
which return &quot;-1&quot; on failure. Exceptions to this
rule are &quot;wait&quot;, &quot;waitpid&quot;, and
&quot;syscall&quot;. System calls also set the special $!
variable on failure. Other functions do not, except
accidentally.</p>

<p>Perl Functions by Category Here are Perls functions
(including things that look like functions, like some
keywords and named operators) arranged by category. Some
functions appear in more than one place.</p>

<p>Functions for SCALARs or strings &quot;chomp&quot;,
&quot;chop&quot;, &quot;chr&quot;, &quot;crypt&quot;,
&quot;hex&quot;, &quot;index&quot;, &quot;lc&quot;,
&quot;lcfirst&quot;, &quot;length&quot;, &quot;oct&quot;,
&quot;ord&quot;, &quot;pack&quot;, &quot;q//&quot;,
&quot;qq//&quot;, &quot;reverse&quot;, &quot;rindex&quot;,
&quot;sprintf&quot;, &quot;substr&quot;, &quot;tr///&quot;,
&quot;uc&quot;, &quot;ucfirst&quot;, &quot;y///&quot;</p>

<p>Regular expressions and pattern matching
&quot;m//&quot;, &quot;pos&quot;, &quot;quotemeta&quot;,
&quot;s///&quot;, &quot;split&quot;, &quot;study&quot;,
&quot;qr//&quot;</p>

<p>Numeric functions &quot;abs&quot;, &quot;atan2&quot;,
&quot;cos&quot;, &quot;exp&quot;, &quot;hex&quot;,
&quot;int&quot;, &quot;log&quot;, &quot;oct&quot;,
&quot;rand&quot;, &quot;sin&quot;, &quot;sqrt&quot;,
&quot;srand&quot;</p>

<p>Functions for real @ARRAYs &quot;pop&quot;,
&quot;push&quot;, &quot;shift&quot;, &quot;splice&quot;,
&quot;unshift&quot;</p>

<p>Functions for list data &quot;grep&quot;,
&quot;join&quot;, &quot;map&quot;, &quot;qw//&quot;,
&quot;reverse&quot;, &quot;sort&quot;,
&quot;unpack&quot;</p>

<p>Functions for real %HASHes &quot;delete&quot;,
&quot;each&quot;, &quot;exists&quot;, &quot;keys&quot;,
&quot;values&quot;</p>

<p>Input and output functions &quot;binmode&quot;,
&quot;close&quot;, &quot;closedir&quot;,
&quot;dbmclose&quot;, &quot;dbmopen&quot;, &quot;die&quot;,
&quot;eof&quot;, &quot;fileno&quot;, &quot;flock&quot;,
&quot;format&quot;, &quot;getc&quot;, &quot;print&quot;,
&quot;printf&quot;, &quot;read&quot;, &quot;readdir&quot;,
&quot;rewinddir&quot;, &quot;say&quot;, &quot;seek&quot;,
&quot;seekdir&quot;, &quot;select&quot;,
&quot;syscall&quot;, &quot;sysread&quot;,
&quot;sysseek&quot;, &quot;syswrite&quot;, &quot;tell&quot;,
&quot;telldir&quot;, &quot;truncate&quot;, &quot;warn&quot;,
&quot;write&quot;</p>

<p>Functions for fixed length data or records
&quot;pack&quot;, &quot;read&quot;, &quot;syscall&quot;,
&quot;sysread&quot;, &quot;syswrite&quot;,
&quot;unpack&quot;, &quot;vec&quot;</p>

<p>Functions for filehandles, files, or directories
&quot;-X&quot;, &quot;chdir&quot;, &quot;chmod&quot;,
&quot;chown&quot;, &quot;chroot&quot;, &quot;fcntl&quot;,
&quot;glob&quot;, &quot;ioctl&quot;, &quot;link&quot;,
&quot;lstat&quot;, &quot;mkdir&quot;, &quot;open&quot;,
&quot;opendir&quot;, &quot;readlink&quot;,
&quot;rename&quot;, &quot;rmdir&quot;, &quot;stat&quot;,
&quot;symlink&quot;, &quot;sysopen&quot;, &quot;umask&quot;,
&quot;unlink&quot;, &quot;utime&quot;</p>

<p>Keywords related to the control flow of your Perl
program &quot;caller&quot;, &quot;continue&quot;,
&quot;die&quot;, &quot;do&quot;, &quot;dump&quot;,
&quot;eval&quot;, &quot;exit&quot;, &quot;goto&quot;,
&quot;last&quot;, &quot;next&quot;, &quot;redo&quot;,
&quot;return&quot;, &quot;sub&quot;,
&quot;wantarray&quot;</p>

<p>Keywords related to switch &quot;break&quot;,
&quot;continue&quot;, &quot;given&quot;, &quot;when&quot;,
&quot;default&quot;</p>

<p>(These are only available if you enable the
&quot;switch&quot; feature. See feature and &quot;Switch
statements&quot; in perlsyn.)</p>

<p>Keywords related to scoping &quot;caller&quot;,
&quot;import&quot;, &quot;local&quot;, &quot;my&quot;,
&quot;our&quot;, &quot;state&quot;, &quot;package&quot;,
&quot;use&quot;</p>

<p>(&quot;state&quot; is only available if the
&quot;state&quot; feature is enabled. See feature.)</p>

<p>Miscellaneous functions &quot;defined&quot;,
&quot;dump&quot;, &quot;eval&quot;, &quot;formline&quot;,
&quot;local&quot;, &quot;my&quot;, &quot;our&quot;,
&quot;reset&quot;, &quot;scalar&quot;, &quot;state&quot;,
&quot;undef&quot;, &quot;wantarray&quot;</p>

<p>Functions for processes and process groups
&quot;alarm&quot;, &quot;exec&quot;, &quot;fork&quot;,
&quot;getpgrp&quot;, &quot;getppid&quot;,
&quot;getpriority&quot;, &quot;kill&quot;, &quot;pipe&quot;,
&quot;qx//&quot;, &quot;setpgrp&quot;,
&quot;setpriority&quot;, &quot;sleep&quot;,
&quot;system&quot;, &quot;times&quot;, &quot;wait&quot;,
&quot;waitpid&quot;</p>

<p>Keywords related to perl modules &quot;do&quot;,
&quot;import&quot;, &quot;no&quot;, &quot;package&quot;,
&quot;require&quot;, &quot;use&quot;</p>

<p>Keywords related to classes and object-orientation
&quot;bless&quot;, &quot;dbmclose&quot;,
&quot;dbmopen&quot;, &quot;package&quot;, &quot;ref&quot;,
&quot;tie&quot;, &quot;tied&quot;, &quot;untie&quot;,
&quot;use&quot;</p>

<p>Low-level socket functions &quot;accept&quot;,
&quot;bind&quot;, &quot;connect&quot;,
&quot;getpeername&quot;, &quot;getsockname&quot;,
&quot;getsockopt&quot;, &quot;listen&quot;,
&quot;recv&quot;, &quot;send&quot;, &quot;setsockopt&quot;,
&quot;shutdown&quot;, &quot;socket&quot;,
&quot;socketpair&quot;</p>

<p>System V interprocess communication functions
&quot;msgctl&quot;, &quot;msgget&quot;, &quot;msgrcv&quot;,
&quot;msgsnd&quot;, &quot;semctl&quot;, &quot;semget&quot;,
&quot;semop&quot;, &quot;shmctl&quot;, &quot;shmget&quot;,
&quot;shmread&quot;, &quot;shmwrite&quot;</p>

<p>Fetching user and group info &quot;endgrent&quot;,
&quot;endhostent&quot;, &quot;endnetent&quot;,
&quot;endpwent&quot;, &quot;getgrent&quot;,
&quot;getgrgid&quot;, &quot;getgrnam&quot;,
&quot;getlogin&quot;, &quot;getpwent&quot;,
&quot;getpwnam&quot;, &quot;getpwuid&quot;,
&quot;setgrent&quot;, &quot;setpwent&quot;</p>

<p>Fetching network info &quot;endprotoent&quot;,
&quot;endservent&quot;, &quot;gethostbyaddr&quot;,
&quot;gethostbyname&quot;, &quot;gethostent&quot;,
&quot;getnetbyaddr&quot;, &quot;getnetbyname&quot;,
&quot;getnetent&quot;, &quot;getprotobyname&quot;,
&quot;getprotobynumber&quot;, &quot;getprotoent&quot;,
&quot;getservbyname&quot;, &quot;getservbyport&quot;,
&quot;getservent&quot;, &quot;sethostent&quot;,
&quot;setnetent&quot;, &quot;setprotoent&quot;,
&quot;setservent&quot;</p>

<p>Time-related functions &quot;gmtime&quot;,
&quot;localtime&quot;, &quot;time&quot;,
&quot;times&quot;</p>

<p>Functions new in perl5 &quot;abs&quot;,
&quot;bless&quot;, &quot;break&quot;, &quot;chomp&quot;,
&quot;chr&quot;, &quot;continue&quot;, &quot;default&quot;,
&quot;exists&quot;, &quot;formline&quot;, &quot;given&quot;,
&quot;glob&quot;, &quot;import&quot;, &quot;lc&quot;,
&quot;lcfirst&quot;, &quot;lock&quot;, &quot;map&quot;,
&quot;my&quot;, &quot;no&quot;, &quot;our&quot;,
&quot;prototype&quot;, &quot;qr//&quot;, &quot;qw//&quot;,
&quot;qx//&quot;, &quot;readline&quot;,
&quot;readpipe&quot;, &quot;ref&quot;, &quot;sub&quot;*,
&quot;sysopen&quot;, &quot;tie&quot;, &quot;tied&quot;,
&quot;uc&quot;, &quot;ucfirst&quot;, &quot;untie&quot;,
&quot;use&quot;, &quot;when&quot;</p>

<p>* - &quot;sub&quot; was a keyword in perl4, but in perl5
it is an operator, which can be used in expressions.</p>

<p>Functions obsoleted in perl5 &quot;dbmclose&quot;,
&quot;dbmopen&quot;</p>

<p>Portability Perl was born in Unix and can therefore
access all common Unix system calls. In non-Unix
environments, the functionality of some Unix system calls
may not be available, or details of the available
functionality may differ slightly. The Perl functions
affected by this are:</p>

<p>&quot;-X&quot;, &quot;binmode&quot;, &quot;chmod&quot;,
&quot;chown&quot;, &quot;chroot&quot;, &quot;crypt&quot;,
&quot;dbmclose&quot;, &quot;dbmopen&quot;, &quot;dump&quot;,
&quot;endgrent&quot;, &quot;endhostent&quot;,
&quot;endnetent&quot;, &quot;endprotoent&quot;,
&quot;endpwent&quot;, &quot;endservent&quot;,
&quot;exec&quot;, &quot;fcntl&quot;, &quot;flock&quot;,
&quot;fork&quot;, &quot;getgrent&quot;,
&quot;getgrgid&quot;, &quot;gethostbyname&quot;,
&quot;gethostent&quot;, &quot;getlogin&quot;,
&quot;getnetbyaddr&quot;, &quot;getnetbyname&quot;,
&quot;getnetent&quot;, &quot;getppid&quot;,
&quot;getpgrp&quot;, &quot;getpriority&quot;,
&quot;getprotobynumber&quot;, &quot;getprotoent&quot;,
&quot;getpwent&quot;, &quot;getpwnam&quot;,
&quot;getpwuid&quot;, &quot;getservbyport&quot;,
&quot;getservent&quot;, &quot;getsockopt&quot;,
&quot;glob&quot;, &quot;ioctl&quot;, &quot;kill&quot;,
&quot;link&quot;, &quot;lstat&quot;, &quot;msgctl&quot;,
&quot;msgget&quot;, &quot;msgrcv&quot;, &quot;msgsnd&quot;,
&quot;open&quot;, &quot;pipe&quot;, &quot;readlink&quot;,
&quot;rename&quot;, &quot;select&quot;, &quot;semctl&quot;,
&quot;semget&quot;, &quot;semop&quot;, &quot;setgrent&quot;,
&quot;sethostent&quot;, &quot;setnetent&quot;,
&quot;setpgrp&quot;, &quot;setpriority&quot;,
&quot;setprotoent&quot;, &quot;setpwent&quot;,
&quot;setservent&quot;, &quot;setsockopt&quot;,
&quot;shmctl&quot;, &quot;shmget&quot;, &quot;shmread&quot;,
&quot;shmwrite&quot;, &quot;socket&quot;,
&quot;socketpair&quot;, &quot;stat&quot;,
&quot;symlink&quot;, &quot;syscall&quot;,
&quot;sysopen&quot;, &quot;system&quot;, &quot;times&quot;,
&quot;truncate&quot;, &quot;umask&quot;, &quot;unlink&quot;,
&quot;utime&quot;, &quot;wait&quot;, &quot;waitpid&quot;</p>

<p>For more information about the portability of these
functions, see perlport and other available
platform-specific documentation.</p>

<p>Alphabetical Listing of Perl Functions -X FILEHANDLE -X
EXPR -X DIRHANDLE -X A file test, where X is one of the
letters listed below. This unary operator takes one
argument, either a filename, a filehandle, or a dirhandle,
and tests the associated file to see if something is true
about it. If the argument is omitted, tests $_, except for
&quot;-t&quot;, which tests STDIN. Unless otherwise
documented, it returns 1 for true and &rsquo;&rsquo; for
false, or the undefined value if the file doesnt exist.
Despite the funny names, precedence is the same as any other
named unary operator. The operator may be any of:</p>

<p>-r File is readable by effective uid/gid. -w File is
writable by effective uid/gid. -x File is executable by
effective uid/gid. -o File is owned by effective uid.</p>

<p>-R File is readable by real uid/gid. -W File is writable
by real uid/gid. -X File is executable by real uid/gid. -O
File is owned by real uid.</p>

<p>-e File exists. -z File has zero size (is empty). -s
File has nonzero size (returns size in bytes).</p>

<p>-f File is a plain file. -d File is a directory. -l File
is a symbolic link. -p File is a named pipe (FIFO), or
Filehandle is a pipe. -S File is a socket. -b File is a
block special file. -c File is a character special file. -t
Filehandle is opened to a tty.</p>

<p>-u File has setuid bit set. -g File has setgid bit set.
-k File has sticky bit set.</p>

<p>-T File is an ASCII text file (heuristic guess). -B File
is a &quot;binary&quot; file (opposite of -T).</p>

<p>-M Script start time minus file modification time, in
days. -A Same for access time. -C Same for inode change time
(Unix, may differ for other platforms)</p>

<p>Example:</p>

<p>while (&lt;&gt;) { chomp; next unless -f $_; # ignore
specials #... }</p>

<p>The interpretation of the file permission operators
&quot;-r&quot;, &quot;-R&quot;, &quot;-w&quot;,
&quot;-W&quot;, &quot;-x&quot;, and &quot;-X&quot; is by
default based solely on the mode of the file and the uids
and gids of the user. There may be other reasons you cant
actually read, write, or execute the file: for example
network filesystem access controls, ACLs (access control
lists), read-only filesystems, and unrecognized executable
formats. Note that the use of these six specific operators
to verify if some operation is possible is usually a
mistake, because it may be open to race conditions.</p>

<p>Also note that, for the superuser on the local
filesystems, the &quot;-r&quot;, &quot;-R&quot;,
&quot;-w&quot;, and &quot;-W&quot; tests always return 1,
and &quot;-x&quot; and &quot;-X&quot; return 1 if any
execute bit is set in the mode. Scripts run by the superuser
may thus need to do a stat() to determine the actual mode of
the file, or temporarily set their effective uid to
something else.</p>

<p>If you are using ACLs, there is a pragma called
&quot;filetest&quot; that may produce more accurate results
than the bare stat() mode bits. When under the &quot;use
filetest &rsquo;access&rsquo;&quot; the above- mentioned
filetests will test whether the permission can (not) be
granted using the access() family of system calls. Also note
that the &quot;-x&quot; and &quot;-X&quot; may under this
pragma return true even if there are no execute permission
bits set (nor any extra execute permission ACLs). This
strangeness is due to the underlying system calls
definitions. Note also that, due to the implementation of
&quot;use filetest &rsquo;access&rsquo;&quot;, the
&quot;_&quot; special filehandle wont cache the results of
the file tests when this pragma is in effect. Read the
documentation for the &quot;filetest&quot; pragma for more
information.</p>

<p>Note that &quot;-s/a/b/&quot; does not do a negated
substitution. Saying &quot;-exp($foo)&quot; still works as
expected, however--only single letters following a minus are
interpreted as file tests.</p>

<p>The &quot;-T&quot; and &quot;-B&quot; switches work as
follows. The first block or so of the file is examined for
odd characters such as strange control codes or characters
with the high bit set. If too many strange characters
(&gt;30%) are found, it s a &quot;-B&quot; file; otherwise
it s a &quot;-T&quot; file. Also, any file containing null
in the first block is considered a binary file. If
&quot;-T&quot; or &quot;-B&quot; is used on a filehandle,
the current IO buffer is examined rather than the first
block. Both &quot;-T&quot; and &quot;-B&quot; return true on
a null file, or a file at EOF when testing a filehandle.
Because you have to read a file to do the &quot;-T&quot;
test, on most occasions you want to use a &quot;-f&quot;
against the file first, as in &quot;next unless -f $file
&amp;&amp; -T $file&quot;.</p>

<p>If any of the file tests (or either the &quot;stat&quot;
or &quot;lstat&quot; operators) are given the special
filehandle consisting of a solitary underline, then the stat
structure of the previous file test (or stat operator) is
used, saving a system call. (This doesnt work with
&quot;-t&quot;, and you need to remember that lstat() and
&quot;-l&quot; will leave values in the stat structure for
the symbolic link, not the real file.) (Also, if the stat
buffer was filled by an &quot;lstat&quot; call,
&quot;-T&quot; and &quot;-B&quot; will reset it with the
results of &quot;stat _&quot;). Example:</p>

<p>print &quot;Can do.0 if -r $a || -w _ || -x _;</p>

<p>stat($filename); print &quot;Readable0 if -r _; print
&quot;Writable0 if -w _; print &quot;Executable0 if -x _;
print &quot;Setuid0 if -u _; print &quot;Setgid0 if -g _;
print &quot;Sticky0 if -k _; print &quot;Text0 if -T _;
print &quot;Binary0 if -B _;</p>

<p>As of Perl 5.9.1, as a form of purely syntactic sugar,
you can stack file test operators, in a way that &quot;-f -w
-x $file&quot; is equivalent to &quot;-x $file &amp;&amp; -w
_ &amp;&amp; -f _&quot;. (This is only syntax fancy: if you
use the return value of &quot;-f $file&quot; as an argument
to another filetest operator, no special magic will
happen.)</p>

<p>abs VALUE abs Returns the absolute value of its
argument. If VALUE is omitted, uses $_.</p>

<p>accept NEWSOCKET,GENERICSOCKET Accepts an incoming
socket connect, just as the accept(2) system call does.
Returns the packed address if it succeeded, false otherwise.
See the example in &quot;Sockets: Client/Server
Communication&quot; in perlipc.</p>

<p>On systems that support a close-on-exec flag on files,
the flag will be set for the newly opened file descriptor,
as determined by the value of $^F. See &quot;$^F&quot; in
perlvar.</p>

<p>alarm SECONDS alarm Arranges to have a SIGALRM delivered
to this process after the specified number of wallclock
seconds has elapsed. If SECONDS is not specified, the value
stored in $_ is used. (On some machines, unfortunately, the
elapsed time may be up to one second less or more than you
specified because of how seconds are counted, and process
scheduling may delay the delivery of the signal even
further.)</p>

<p>Only one timer may be counting at once. Each call
disables the previous timer, and an argument of 0 may be
supplied to cancel the previous timer without starting a new
one. The returned value is the amount of time remaining on
the previous timer.</p>

<p>For delays of finer granularity than one second, the
Time::HiRes module (from CPAN, and starting from Perl 5.8
part of the standard distribution) provides ualarm(). You
may also use Perl s four-argument version of select()
leaving the first three arguments undefined, or you might be
able to use the &quot;syscall&quot; interface to access
setitimer(2) if your system supports it. See perlfaq8 for
details.</p>

<p>It is usually a mistake to intermix &quot;alarm&quot;
and &quot;sleep&quot; calls. (&quot;sleep&quot; may be
internally implemented in your system with
&quot;alarm&quot;)</p>

<p>If you want to use &quot;alarm&quot; to time out a
system call you need to use an
&quot;eval&quot;/&quot;die&quot; pair. You cant rely on the
alarm causing the system call to fail with $! set to
&quot;EINTR&quot; because Perl sets up signal handlers to
restart system calls on some systems. Using
&quot;eval&quot;/&quot;die&quot; always works, modulo the
caveats given in &quot;Signals&quot; in perlipc.</p>

<p>eval { local $SIG{ALRM} = sub { die &quot;alarm0 }; #
NB: required alarm $timeout; $nread = sysread SOCKET,
$buffer, $size; alarm 0; }; if ($@) { die unless $@ eq
&quot;alarm0; # propagate unexpected errors # timed out }
else { # didn&rsquo;t }</p>

<p>For more information see perlipc.</p>

<p>atan2 Y,X Returns the arctangent of Y/X in the range -PI
to PI.</p>

<p>For the tangent operation, you may use the
&quot;Math::Trig::tan&quot; function, or use the familiar
relation:</p>

<p>sub tan { sin($_[0]) / cos($_[0]) }</p>

<p>The return value for &quot;atan2(0,0)&quot; is
implementation-defined; consult your atan2(3) manpage for
more information.</p>

<p>bind SOCKET,NAME Binds a network address to a socket,
just as the bind system call does. Returns true if it
succeeded, false otherwise. NAME should be a packed address
of the appropriate type for the socket. See the examples in
&quot;Sockets: Client/Server Communication&quot; in
perlipc.</p>

<p>binmode FILEHANDLE, LAYER binmode FILEHANDLE Arranges
for FILEHANDLE to be read or written in &quot;binary&quot;
or &quot;text&quot; mode on systems where the run-time
libraries distinguish between binary and text files. If
FILEHANDLE is an expression, the value is taken as the name
of the filehandle. Returns true on success, otherwise it
returns &quot;undef&quot; and sets $! (errno).</p>

<p>On some systems (in general, DOS and Windows-based
systems) binmode() is necessary when youre not working with
a text file. For the sake of portability it is a good idea
to always use it when appropriate, and to never use it when
it isnt appropriate. Also, people can set their I/O to be by
default UTF-8 encoded Unicode, not bytes.</p>

<p>In other words: regardless of platform, use binmode() on
binary data, like for example images.</p>

<p>If LAYER is present it is a single string, but may
contain multiple directives. The directives alter the
behaviour of the file handle. When LAYER is present using
binmode on a text file makes sense.</p>

<p>If LAYER is omitted or specified as &quot;:raw&quot; the
filehandle is made suitable for passing binary data. This
includes turning off possible CRLF translation and marking
it as bytes (as opposed to Unicode characters). Note that,
despite what may be implied in &quot;Programming Perl&quot;
(the Camel) or elsewhere, &quot;:raw&quot; is not simply the
inverse of &quot;:crlf&quot; -- other layers which would
affect the binary nature of the stream are also disabled.
See PerlIO, perlrun and the discussion about the PERLIO
environment variable.</p>

<p>The &quot;:bytes&quot;, &quot;:crlf&quot;, and
&quot;:utf8&quot;, and any other directives of the form
&quot;:...&quot;, are called I/O layers. The
&quot;open&quot; pragma can be used to establish default I/O
layers. See open.</p>

<p>The LAYER parameter of the binmode() function is
described as &quot;DISCIPLINE&quot; in &quot;Programming
Perl, 3rd Edition&quot;. However, since the publishing of
this book, by many known as &quot;Camel III&quot;, the
consensus of the naming of this functionality has moved from
&quot;discipline&quot; to &quot;layer&quot;. All
documentation of this version of Perl therefore refers to
&quot;layers&quot; rather than to &quot;disciplines&quot;.
Now back to the regularly scheduled documentation...</p>

<p>To mark FILEHANDLE as UTF-8, use &quot;:utf8&quot; or
&quot;:encoding(utf8)&quot;. &quot;:utf8&quot; just marks
the data as UTF-8 without further checking, while
&quot;:encoding(utf8)&quot; checks the data for actually
being valid UTF-8. More details can be found in
PerlIO::encoding.</p>

<p>In general, binmode() should be called after open() but
before any I/O is done on the filehandle. Calling binmode()
will normally flush any pending buffered output data (and
perhaps pending input data) on the handle. An exception to
this is the &quot;:encoding&quot; layer that changes the
default character encoding of the handle, see open. The
&quot;:encoding&quot; layer sometimes needs to be called in
mid-stream, and it doesn t flush the stream. The
&quot;:encoding&quot; also implicitly pushes on top of
itself the &quot;:utf8&quot; layer because internally Perl
will operate on UTF-8 encoded Unicode characters.</p>

<p>The operating system, device drivers, C libraries, and
Perl run-time system all work together to let the programmer
treat a single character (&quot;0) as the line terminator,
irrespective of the external representation. On many
operating systems, the native text file representation
matches the internal representation, but on some platforms
the external representation of &quot;0 is made up of more
than one character.</p>

<p>Mac OS, all variants of Unix, and Stream_LF files on VMS
use a single character to end each line in the external
representation of text (even though that single character is
CARRIAGE RETURN on Mac OS and LINE FEED on Unix and most VMS
files). In other systems like OS/2, DOS and the various
flavors of MS-Windows your program sees a &quot;0 as a
simple &quot; what s stored in text files are the two
characters &quot; That means that, if you dont use binmode()
on these systems, &quot; and any &quot;0 in your program
will be converted back to &quot; on output. This is what you
want for text files, but it can be disastrous for binary
files.</p>

<p>Another consequence of using binmode() (on some systems)
is that special end-of-file markers will be seen as part of
the data stream. For systems from the Microsoft family this
means that if your binary data contains &quot; regard it as
the end of the file, unless you use binmode().</p>

<p>binmode() is not only important for readline() and
print() operations, but also when using read(), seek(),
sysread(), syswrite() and tell() (see perlport for more
details). See the $/ and &quot;$ input and output
line-termination sequences.</p>

<p>bless REF,CLASSNAME bless REF This function tells the
thingy referenced by REF that it is now an object in the
CLASSNAME package. If CLASSNAME is omitted, the current
package is used. Because a &quot;bless&quot; is often the
last thing in a constructor, it returns the reference for
convenience. Always use the two-argument version if a
derived class might inherit the function doing the blessing.
See perltoot and perlobj for more about the blessing (and
blessings) of objects.</p>

<p>Consider always blessing objects in CLASSNAMEs that are
mixed case. Namespaces with all lowercase names are
considered reserved for Perl pragmata. Builtin types have
all uppercase names. To prevent confusion, you may wish to
avoid such package names as well. Make sure that CLASSNAME
is a true value.</p>

<p>See &quot;Perl Modules&quot; in perlmod.</p>

<p>break Break out of a &quot;given()&quot; block.</p>

<p>This keyword is enabled by the &quot;switch&quot;
feature: see feature for more information.</p>

<p>caller EXPR caller Returns the context of the current
subroutine call. In scalar context, returns the callers
package name if there is a caller, that is, if were in a
subroutine or &quot;eval&quot; or &quot;require&quot;, and
the undefined value otherwise. In list context, returns</p>

<p># 0 1 2 ($package, $filename, $line) = caller;</p>

<p>With EXPR, it returns some extra information that the
debugger uses to print a stack trace. The value of EXPR
indicates how many call frames to go back before the current
one.</p>

<p># 0 1 2 3 4 ($package, $filename, $line, $subroutine,
$hasargs,</p>

<p># 5 6 7 8 9 10 $wantarray, $evaltext, $is_require,
$hints, $bitmask, $hinthash) = caller($i);</p>

<p>Here $subroutine may be &quot;(eval)&quot; if the frame
is not a subroutine call, but an &quot;eval&quot;. In such a
case additional elements $evaltext and $is_require are set:
$is_require is true if the frame is created by a
&quot;require&quot; or &quot;use&quot; statement, $evaltext
contains the text of the &quot;eval EXPR&quot; statement. In
particular, for an &quot;eval BLOCK&quot; statement,
$subroutine is &quot;(eval)&quot;, but $evaltext is
undefined. (Note also that each &quot;use&quot; statement
creates a &quot;require&quot; frame inside an &quot;eval
EXPR&quot; frame.) $subroutine may also be
&quot;(unknown)&quot; if this particular subroutine happens
to have been deleted from the symbol table. $hasargs is true
if a new instance of @_ was set up for the frame. $hints and
$bitmask contain pragmatic hints that the caller was
compiled with. The $hints and $bitmask values are subject to
change between versions of Perl, and are not meant for
external use.</p>

<p>$hinthash is a reference to a hash containing the value
of &quot;%^H&quot; when the caller was compiled, or
&quot;undef&quot; if &quot;%^H&quot; was empty. Do not
modify the values of this hash, as they are the actual
values stored in the optree.</p>

<p>Furthermore, when called from within the DB package,
caller returns more detailed information: it sets the list
variable @DB::args to be the arguments with which the
subroutine was invoked.</p>

<p>Be aware that the optimizer might have optimized call
frames away before &quot;caller&quot; had a chance to get
the information. That means that caller(N) might not return
information about the call frame you expect it do, for
&quot;N &gt; 1&quot;. In particular, @DB::args might have
information from the previous time &quot;caller&quot; was
called.</p>

<p>chdir EXPR chdir FILEHANDLE chdir DIRHANDLE chdir
Changes the working directory to EXPR, if possible. If EXPR
is omitted, changes to the directory specified by
$ENV{HOME}, if set; if not, changes to the directory
specified by $ENV{LOGDIR}. (Under VMS, the variable
$ENV{SYS$LOGIN} is also checked, and used if it is set.) If
neither is set, &quot;chdir&quot; does nothing. It returns
true upon success, false otherwise. See the example under
&quot;die&quot;.</p>

<p>On systems that support fchdir, you might pass a file
handle or directory handle as argument. On systems that don
t support fchdir, passing handles produces a fatal error at
run time.</p>

<p>chmod LIST Changes the permissions of a list of files.
The first element of the list must be the numerical mode,
which should probably be an octal number, and which
definitely should not be a string of octal digits: 0644 is
okay, &rsquo;0644&rsquo; is not. Returns the number of files
successfully changed. See also &quot;oct&quot;, if all you
have is a string.</p>

<p>$cnt = chmod 0755, &rsquo;foo&rsquo;, &rsquo;bar&rsquo;;
chmod 0755, @executables; $mode = &rsquo;0644&rsquo;; chmod
$mode, &rsquo;foo&rsquo;; # !!! sets mode to # --w----r-T
$mode = &rsquo;0644&rsquo;; chmod oct($mode),
&rsquo;foo&rsquo;; # this is better $mode = 0644; chmod
$mode, &rsquo;foo&rsquo;; # this is best</p>

<p>On systems that support fchmod, you might pass file
handles among the files. On systems that don t support
fchmod, passing file handles produces a fatal error at run
time. The file handles must be passed as globs or references
to be recognized. Barewords are considered file names.</p>

<p>open(my $fh, &quot;&lt;&quot;, &quot;foo&quot;); my
$perm = (stat $fh)[2] &amp; 07777; chmod($perm | 0600,
$fh);</p>

<p>You can also import the symbolic &quot;S_I*&quot;
constants from the Fcntl module:</p>

<p>use Fcntl &rsquo;:mode&rsquo;;</p>

<p>chmod S_IRWXU|S_IRGRP|S_IXGRP|S_IROTH|S_IXOTH,
@executables; # This is identical to the chmod 0755 of the
above example.</p>

<p>chomp VARIABLE chomp( LIST ) chomp This safer version of
&quot;chop&quot; removes any trailing string that
corresponds to the current value of $/ (also known as
$INPUT_RECORD_SEPARATOR in the &quot;English&quot; module).
It returns the total number of characters removed from all
its arguments. Its often used to remove the newline from the
end of an input record when you re worried that the final
record may be missing its newline. When in paragraph mode
(&quot;$/ = &quot;&quot;&quot;), it removes all trailing
newlines from the string. When in slurp mode (&quot;$/ =
undef&quot;) or fixed-length record mode ($/ is a reference
to an integer or the like, see perlvar) chomp() wont remove
anything. If VARIABLE is omitted, it chomps $_. Example:</p>

<p>while (&lt;&gt;) { chomp; # avoid on last field @array =
split(/:/); # ... }</p>

<p>If VARIABLE is a hash, it chomps the hashs values, but
not its keys.</p>

<p>You can actually chomp anything thats an lvalue,
including an assignment:</p>

<p>chomp($cwd = &lsquo;pwd&lsquo;); chomp($answer =
&lt;STDIN&gt;);</p>

<p>If you chomp a list, each element is chomped, and the
total number of characters removed is returned.</p>

<p>Note that parentheses are necessary when you re chomping
anything that is not a simple variable. This is because
&quot;chomp $cwd = &lsquo;pwd&lsquo;;&quot; is interpreted
as &quot;(chomp $cwd) = &lsquo;pwd&lsquo;;&quot;, rather
than as &quot;chomp( $cwd = &lsquo;pwd&lsquo; )&quot; which
you might expect. Similarly, &quot;chomp $a, $b&quot; is
interpreted as &quot;chomp($a), $b&quot; rather than as
&quot;chomp($a, $b)&quot;.</p>

<p>chop VARIABLE chop( LIST ) chop Chops off the last
character of a string and returns the character chopped. It
is much more efficient than &quot;s/.$//s&quot; because it
neither scans nor copies the string. If VARIABLE is omitted,
chops $_. If VARIABLE is a hash, it chops the hashs values,
but not its keys.</p>

<p>You can actually chop anything thats an lvalue,
including an assignment.</p>

<p>If you chop a list, each element is chopped. Only the
value of the last &quot;chop&quot; is returned.</p>

<p>Note that &quot;chop&quot; returns the last character.
To return all but the last character, use
&quot;substr($string, 0, -1)&quot;.</p>

<p>See also &quot;chomp&quot;.</p>

<p>chown LIST Changes the owner (and group) of a list of
files. The first two elements of the list must be the
numeric uid and gid, in that order. A value of -1 in either
position is interpreted by most systems to leave that value
unchanged. Returns the number of files successfully
changed.</p>

<p>$cnt = chown $uid, $gid, &rsquo;foo&rsquo;,
&rsquo;bar&rsquo;; chown $uid, $gid, @filenames;</p>

<p>On systems that support fchown, you might pass file
handles among the files. On systems that don t support
fchown, passing file handles produces a fatal error at run
time. The file handles must be passed as globs or references
to be recognized. Barewords are considered file names.</p>

<p>Here s an example that looks up nonnumeric uids in the
passwd file:</p>

<p>print &quot;User: &quot;; chomp($user = &lt;STDIN&gt;);
print &quot;Files: &quot;; chomp($pattern =
&lt;STDIN&gt;);</p>

<p>($login,$pass,$uid,$gid) = getpwnam($user) or die
&quot;$user not in passwd file&quot;;</p>

<p>@ary = glob($pattern); # expand filenames chown $uid,
$gid, @ary;</p>

<p>On most systems, you are not allowed to change the
ownership of the file unless youre the superuser, although
you should be able to change the group to any of your
secondary groups. On insecure systems, these restrictions
may be relaxed, but this is not a portable assumption. On
POSIX systems, you can detect this condition this way:</p>

<p>use POSIX qw(sysconf _PC_CHOWN_RESTRICTED);
$can_chown_giveaway = not sysconf(_PC_CHOWN_RESTRICTED);</p>

<p>chr NUMBER chr Returns the character represented by that
NUMBER in the character set. For example,
&quot;chr(65)&quot; is &quot;A&quot; in either ASCII or
Unicode, and chr(0x263a) is a Unicode smiley face.</p>

<p>Negative values give the Unicode replacement character
(chr(0xfffd)), except under the bytes pragma, where low
eight bits of the value (truncated to an integer) are
used.</p>

<p>If NUMBER is omitted, uses $_.</p>

<p>For the reverse, use &quot;ord&quot;.</p>

<p>Note that characters from 128 to 255 (inclusive) are by
default internally not encoded as UTF-8 for backward
compatibility reasons.</p>

<p>See perlunicode for more about Unicode.</p>

<p>chroot FILENAME chroot This function works like the
system call by the same name: it makes the named directory
the new root directory for all further pathnames that begin
with a &quot;/&quot; by your process and all its children.
(It doesn t change your current working directory, which is
unaffected.) For security reasons, this call is restricted
to the superuser. If FILENAME is omitted, does a
&quot;chroot&quot; to $_.</p>

<p>close FILEHANDLE close Closes the file or pipe
associated with the file handle, flushes the IO buffers, and
closes the system file descriptor. Returns true if those
operations have succeeded and if no error was reported by
any PerlIO layer. Closes the currently selected filehandle
if the argument is omitted.</p>

<p>You don t have to close FILEHANDLE if you are
immediately going to do another &quot;open&quot; on it,
because &quot;open&quot; will close it for you. (See
&quot;open&quot;.) However, an explicit &quot;close&quot; on
an input file resets the line counter ($.), while the
implicit close done by &quot;open&quot; does not.</p>

<p>If the file handle came from a piped open,
&quot;close&quot; will additionally return false if one of
the other system calls involved fails, or if the program
exits with non-zero status. (If the only problem was that
the program exited non-zero, $! will be set to 0.) Closing a
pipe also waits for the process executing on the pipe to
complete, in case you want to look at the output of the pipe
afterwards, and implicitly puts the exit status value of
that command into $? and
&quot;${^CHILD_ERROR_NATIVE}&quot;.</p>

<p>Prematurely closing the read end of a pipe (i.e. before
the process writing to it at the other end has closed it)
will result in a SIGPIPE being delivered to the writer. If
the other end can t handle that, be sure to read all the
data before closing the pipe.</p>

<p>Example:</p>

<p>open(OUTPUT, &rsquo;|sort &gt;foo&rsquo;) # pipe to sort
or die &quot;Can&rsquo;t start sort: $!&quot;; #... # print
stuff to output close OUTPUT # wait for sort to finish or
warn $! ? &quot;Error closing sort pipe: $!&quot; :
&quot;Exit status $? from sort&quot;; open(INPUT,
&rsquo;foo&rsquo;) # get sort&rsquo;s results or die
&quot;Can&rsquo;t open &rsquo;foo&rsquo; for input:
$!&quot;;</p>

<p>FILEHANDLE may be an expression whose value can be used
as an indirect filehandle, usually the real filehandle
name.</p>

<p>closedir DIRHANDLE Closes a directory opened by
&quot;opendir&quot; and returns the success of that system
call.</p>

<p>connect SOCKET,NAME Attempts to connect to a remote
socket, just as the connect system call does. Returns true
if it succeeded, false otherwise. NAME should be a packed
address of the appropriate type for the socket. See the
examples in &quot;Sockets: Client/Server Communication&quot;
in perlipc.</p>

<p>continue BLOCK continue &quot;continue&quot; is actually
a flow control statement rather than a function. If there is
a &quot;continue&quot; BLOCK attached to a BLOCK (typically
in a &quot;while&quot; or &quot;foreach&quot;), it is always
executed just before the conditional is about to be
evaluated again, just like the third part of a
&quot;for&quot; loop in C. Thus it can be used to increment
a loop variable, even when the loop has been continued via
the &quot;next&quot; statement (which is similar to the C
&quot;continue&quot; statement).</p>

<p>&quot;last&quot;, &quot;next&quot;, or &quot;redo&quot;
may appear within a &quot;continue&quot; block.
&quot;last&quot; and &quot;redo&quot; will behave as if they
had been executed within the main block. So will
&quot;next&quot;, but since it will execute a
&quot;continue&quot; block, it may be more entertaining.</p>

<p>while (EXPR) { ### redo always comes here do_something;
} continue { ### next always comes here do_something_else; #
then back the top to re-check EXPR } ### last always comes
here</p>

<p>Omitting the &quot;continue&quot; section is
semantically equivalent to using an empty one, logically
enough. In that case, &quot;next&quot; goes directly back to
check the condition at the top of the loop.</p>

<p>If the &quot;switch&quot; feature is enabled,
&quot;continue&quot; is also a function that will break out
of the current &quot;when&quot; or &quot;default&quot;
block, and fall through to the next case. See feature and
&quot;Switch statements&quot; in perlsyn for more
information.</p>

<p>cos EXPR cos Returns the cosine of EXPR (expressed in
radians). If EXPR is omitted, takes cosine of $_.</p>

<p>For the inverse cosine operation, you may use the
&quot;Math::Trig::acos()&quot; function, or use this
relation:</p>

<p>sub acos { atan2( sqrt(1 - $_[0] * $_[0]), $_[0] ) }</p>

<p>crypt PLAINTEXT,SALT Creates a digest string exactly
like the crypt(3) function in the C library (assuming that
you actually have a version there that has not been
extirpated as a potential munition).</p>

<p>crypt() is a one-way hash function. The PLAINTEXT and
SALT is turned into a short string, called a digest, which
is returned. The same PLAINTEXT and SALT will always return
the same string, but there is no (known) way to get the
original PLAINTEXT from the hash. Small changes in the
PLAINTEXT or SALT will result in large changes in the
digest.</p>

<p>There is no decrypt function. This function isn t all
that useful for cryptography (for that, look for Crypt
modules on your nearby CPAN mirror) and the name
&quot;crypt&quot; is a bit of a misnomer. Instead it is
primarily used to check if two pieces of text are the same
without having to transmit or store the text itself. An
example is checking if a correct password is given. The
digest of the password is stored, not the password itself.
The user types in a password that is crypt()d with the same
salt as the stored digest. If the two digests match the
password is correct.</p>

<p>When verifying an existing digest string you should use
the digest as the salt (like &quot;crypt($plain, $digest) eq
$digest&quot;). The SALT used to create the digest is
visible as part of the digest. This ensures crypt() will
hash the new string with the same salt as the digest. This
allows your code to work with the standard crypt and with
more exotic implementations. In other words, do not assume
anything about the returned string itself, or how many bytes
in the digest matter.</p>

<p>Traditionally the result is a string of 13 bytes: two
first bytes of the salt, followed by 11 bytes from the set
&quot;[./0-9A-Za-z]&quot;, and only the first eight bytes of
PLAINTEXT mattered. But alternative hashing schemes (like
MD5), higher level security schemes (like C2), and
implementations on non- UNIX platforms may produce different
strings.</p>

<p>When choosing a new salt create a random two character
string whose characters come from the set
&quot;[./0-9A-Za-z]&quot; (like &quot;join &rsquo;&rsquo;,
(&rsquo;.&rsquo;, &rsquo;/&rsquo;, 0..9,
&rsquo;A&rsquo;..&rsquo;Z&rsquo;,
&rsquo;a&rsquo;..&rsquo;z&rsquo;)[rand 64, rand 64]&quot;).
This set of characters is just a recommendation; the
characters allowed in the salt depend solely on your systems
crypt library, and Perl can t restrict what salts
&quot;crypt()&quot; accepts.</p>

<p>Heres an example that makes sure that whoever runs this
program knows their password:</p>

<p>$pwd = (getpwuid($&lt;))[1];</p>

<p>system &quot;stty -echo&quot;; print &quot;Password:
&quot;; chomp($word = &lt;STDIN&gt;); print &quot;0; system
&quot;stty echo&quot;;</p>

<p>if (crypt($word, $pwd) ne $pwd) { die &quot;Sorry...0; }
else { print &quot;ok0; }</p>

<p>Of course, typing in your own password to whoever asks
you for it is unwise.</p>

<p>The crypt function is unsuitable for hashing large
quantities of data, not least of all because you cant get
the information back. Look at the Digest module for more
robust algorithms.</p>

<p>If using crypt() on a Unicode string (which potentially
has characters with codepoints above 255), Perl tries to
make sense of the situation by trying to downgrade (a copy
of the string) the string back to an eight-bit byte string
before calling crypt() (on that copy). If that works, good.
If not, crypt() dies with &quot;Wide character in
crypt&quot;.</p>

<p>dbmclose HASH [This function has been largely superseded
by the &quot;untie&quot; function.]</p>

<p>Breaks the binding between a DBM file and a hash.</p>

<p>dbmopen HASH,DBNAME,MASK [This function has been largely
superseded by the &quot;tie&quot; function.]</p>

<p>This binds a dbm(3), ndbm(3), sdbm(3), gdbm(3), or
Berkeley DB file to a hash. HASH is the name of the hash.
(Unlike normal &quot;open&quot;, the first argument is not a
filehandle, even though it looks like one). DBNAME is the
name of the database (without the .dir or .pag extension if
any). If the database does not exist, it is created with
protection specified by MASK (as modified by the
&quot;umask&quot;). If your system supports only the older
DBM functions, you may perform only one &quot;dbmopen&quot;
in your program. In older versions of Perl, if your system
had neither DBM nor ndbm, calling &quot;dbmopen&quot;
produced a fatal error; it now falls back to sdbm(3).</p>

<p>If you dont have write access to the DBM file, you can
only read hash variables, not set them. If you want to test
whether you can write, either use file tests or try setting
a dummy hash entry inside an &quot;eval&quot;, which will
trap the error.</p>

<p>Note that functions such as &quot;keys&quot; and
&quot;values&quot; may return huge lists when used on large
DBM files. You may prefer to use the &quot;each&quot;
function to iterate over large DBM files. Example:</p>

<p># print out history file offsets
dbmopen(%HIST,&rsquo;/usr/lib/news/history&rsquo;,0666);
while (($key,$val) = each %HIST) { print $key, &rsquo; =
&rsquo;, unpack(&rsquo;L&rsquo;,$val), &quot;0; }
dbmclose(%HIST);</p>

<p>See also AnyDBM_File for a more general description of
the pros and cons of the various dbm approaches, as well as
DB_File for a particularly rich implementation.</p>

<p>You can control which DBM library you use by loading
that library before you call dbmopen():</p>

<p>use DB_File; dbmopen(%NS_Hist,
&quot;$ENV{HOME}/.netscape/history.db&quot;) or die
&quot;Can&rsquo;t open netscape history file: $!&quot;;</p>

<p>defined EXPR defined Returns a Boolean value telling
whether EXPR has a value other than the undefined value
&quot;undef&quot;. If EXPR is not present, $_ will be
checked.</p>

<p>Many operations return &quot;undef&quot; to indicate
failure, end of file, system error, uninitialized variable,
and other exceptional conditions. This function allows you
to distinguish &quot;undef&quot; from other values. (A
simple Boolean test will not distinguish among
&quot;undef&quot;, zero, the empty string, and
&quot;0&quot;, which are all equally false.) Note that since
&quot;undef&quot; is a valid scalar, its presence doesn t
necessarily indicate an exceptional condition:
&quot;pop&quot; returns &quot;undef&quot; when its argument
is an empty array, or when the element to return happens to
be &quot;undef&quot;.</p>

<p>You may also use &quot;defined(&amp;func)&quot; to check
whether subroutine &amp;func has ever been defined. The
return value is unaffected by any forward declarations of
&amp;func. Note that a subroutine which is not defined may
still be callable: its package may have an
&quot;AUTOLOAD&quot; method that makes it spring into
existence the first time that it is called -- see
perlsub.</p>

<p>Use of &quot;defined&quot; on aggregates (hashes and
arrays) is deprecated. It used to report whether memory for
that aggregate has ever been allocated. This behavior may
disappear in future versions of Perl. You should instead use
a simple test for size:</p>

<p>if (@an_array) { print &quot;has array elements0 } if
(%a_hash) { print &quot;has hash members0 }</p>

<p>When used on a hash element, it tells you whether the
value is defined, not whether the key exists in the hash.
Use &quot;exists&quot; for the latter purpose.</p>

<p>Examples:</p>

<p>print if defined $switch{&rsquo;D&rsquo;}; print
&quot;$val0 while defined($val = pop(@ary)); die
&quot;Can&rsquo;t readlink $sym: $!&quot; unless
defined($value = readlink $sym); sub foo { defined &amp;$bar
? &amp;$bar(@_) : die &quot;No bar&quot;; } $debugging = 0
unless defined $debugging;</p>

<p>Note: Many folks tend to overuse &quot;defined&quot;,
and then are surprised to discover that the number 0 and
&quot;&quot; (the zero-length string) are, in fact, defined
values. For example, if you say</p>

<p>&quot;ab&quot; =~ /a(.*)b/;</p>

<p>The pattern match succeeds, and $1 is defined, despite
the fact that it matched &quot;nothing&quot;. It didnt
really fail to match anything. Rather, it matched something
that happened to be zero characters long. This is all very
above-board and honest. When a function returns an undefined
value, its an admission that it couldnt give you an honest
answer. So you should use &quot;defined&quot; only when you
re questioning the integrity of what you re trying to do. At
other times, a simple comparison to 0 or &quot;&quot; is
what you want.</p>

<p>See also &quot;undef&quot;, &quot;exists&quot;,
&quot;ref&quot;.</p>

<p>delete EXPR Given an expression that specifies a hash
element, array element, hash slice, or array slice, deletes
the specified element(s) from the hash or array. In the case
of an array, if the array elements happen to be at the end,
the size of the array will shrink to the highest element
that tests true for exists() (or 0 if no such element
exists).</p>

<p>Returns a list with the same number of elements as the
number of elements for which deletion was attempted. Each
element of that list consists of either the value of the
element deleted, or the undefined value. In scalar context,
this means that you get the value of the last element
deleted (or the undefined value if that element did not
exist).</p>

<p>%hash = (foo =&gt; 11, bar =&gt; 22, baz =&gt; 33);
$scalar = delete $hash{foo}; # $scalar is 11 $scalar =
delete @hash{qw(foo bar)}; # $scalar is 22 @array = delete
@hash{qw(foo bar baz)}; # @array is (undef,undef,33)</p>

<p>Deleting from %ENV modifies the environment. Deleting
from a hash tied to a DBM file deletes the entry from the
DBM file. Deleting from a &quot;tie&quot;d hash or array may
not necessarily return anything.</p>

<p>Deleting an array element effectively returns that
position of the array to its initial, uninitialized state.
Subsequently testing for the same element with exists() will
return false. Also, deleting array elements in the middle of
an array will not shift the index of the elements after them
down. Use splice() for that. See &quot;exists&quot;.</p>

<p>The following (inefficiently) deletes all the values of
%HASH and @ARRAY:</p>

<p>foreach $key (keys %HASH) { delete $HASH{$key}; }</p>

<p>foreach $index (0 .. $#ARRAY) { delete $ARRAY[$index];
}</p>

<p>And so do these:</p>

<p>delete @HASH{keys %HASH};</p>

<p>delete @ARRAY[0 .. $#ARRAY];</p>

<p>But both of these are slower than just assigning the
empty list or undefining %HASH or @ARRAY:</p>

<p>%HASH = (); # completely empty %HASH undef %HASH; #
forget %HASH ever existed</p>

<p>@ARRAY = (); # completely empty @ARRAY undef @ARRAY; #
forget @ARRAY ever existed</p>

<p>Note that the EXPR can be arbitrarily complicated as
long as the final operation is a hash element, array
element, hash slice, or array slice lookup:</p>

<p>delete $ref-&gt;[$x][$y]{$key}; delete
@{$ref-&gt;[$x][$y]}{$key1, $key2, @morekeys};</p>

<p>delete $ref-&gt;[$x][$y][$index]; delete
@{$ref-&gt;[$x][$y]}[$index1, $index2, @moreindices];</p>

<p>die LIST Outside an &quot;eval&quot;, prints the value
of LIST to &quot;STDERR&quot; and exits with the current
value of $! (errno). If $! is 0, exits with the value of
&quot;($? &gt;&gt; 8)&quot; (backtick command status). If
&quot;($? &gt;&gt; 8)&quot; is 0, exits with 255. Inside an
&quot;eval(),&quot; the error message is stuffed into $@ and
the &quot;eval&quot; is terminated with the undefined value.
This makes &quot;die&quot; the way to raise an
exception.</p>

<p>Equivalent examples:</p>

<p>die &quot;Can&rsquo;t cd to spool: $!0 unless chdir
&rsquo;/usr/spool/news&rsquo;; chdir
&rsquo;/usr/spool/news&rsquo; or die &quot;Can&rsquo;t cd to
spool: $!0</p>

<p>If the last element of LIST does not end in a newline,
the current script line number and input line number (if
any) are also printed, and a newline is supplied. Note that
the &quot;input line number&quot; (also known as
&quot;chunk&quot;) is subject to whatever notion of
&quot;line&quot; happens to be currently in effect, and is
also available as the special variable $.. See
&quot;$/&quot; in perlvar and &quot;$.&quot; in perlvar.</p>

<p>Hint: sometimes appending &quot;, stopped&quot; to your
message will cause it to make better sense when the string
&quot;at foo line 123&quot; is appended. Suppose you are
running script &quot;canasta&quot;.</p>

<p>die &quot;/etc/games is no good&quot;; die
&quot;/etc/games is no good, stopped&quot;;</p>

<p>produce, respectively</p>

<p>/etc/games is no good at canasta line 123. /etc/games is
no good, stopped at canasta line 123.</p>

<p>See also exit(), warn(), and the Carp module.</p>

<p>If LIST is empty and $@ already contains a value
(typically from a previous eval) that value is reused after
appending &quot;...propagated&quot;. This is useful for
propagating exceptions:</p>

<p>eval { ... }; die unless $@ =~ /Expected exception/;</p>

<p>If LIST is empty and $@ contains an object reference
that has a &quot;PROPAGATE&quot; method, that method will be
called with additional file and line number parameters. The
return value replaces the value in $@. i.e. as if &quot;$@ =
eval { $@-&gt;PROPAGATE(__FILE__, __LINE__) };&quot; were
called.</p>

<p>If $@ is empty then the string &quot;Died&quot; is
used.</p>

<p>die() can also be called with a reference argument. If
this happens to be trapped within an eval(), $@ contains the
reference. This behavior permits a more elaborate exception
handling implementation using objects that maintain
arbitrary state about the nature of the exception. Such a
scheme is sometimes preferable to matching particular string
values of $@ using regular expressions. Because $@ is a
global variable, and eval() may be used within object
implementations, care must be taken that analyzing the error
object doesn t replace the reference in the global variable.
The easiest solution is to make a local copy of the
reference before doing other manipulations. Heres an
example:</p>

<p>use Scalar::Util &rsquo;blessed&rsquo;;</p>

<p>eval { ... ; die Some::Module::Exception-&gt;new( FOO
=&gt; &quot;bar&quot; ) }; if (my $ev_err = $@) { if
(blessed($ev_err) &amp;&amp;
$ev_err-&gt;isa(&quot;Some::Module::Exception&quot;)) { #
handle Some::Module::Exception } else { # handle all other
possible exceptions } }</p>

<p>Because perl will stringify uncaught exception messages
before displaying them, you may want to overload
stringification operations on such custom exception objects.
See overload for details about that.</p>

<p>You can arrange for a callback to be run just before the
&quot;die&quot; does its deed, by setting the $SIG{__DIE__}
hook. The associated handler will be called with the error
text and can change the error message, if it sees fit, by
calling &quot;die&quot; again. See &quot;$SIG{expr}&quot; in
perlvar for details on setting %SIG entries, and &quot;eval
BLOCK&quot; for some examples. Although this feature was to
be run only right before your program was to exit, this is
not currently the case--the $SIG{__DIE__} hook is currently
called even inside eval()ed blocks/strings! If one wants the
hook to do nothing in such situations, put</p>

<p>die @_ if $^S;</p>

<p>as the first line of the handler (see &quot;$^S&quot; in
perlvar). Because this promotes strange action at a
distance, this counterintuitive behavior may be fixed in a
future release.</p>

<p>do BLOCK Not really a function. Returns the value of the
last command in the sequence of commands indicated by BLOCK.
When modified by the &quot;while&quot; or &quot;until&quot;
loop modifier, executes the BLOCK once before testing the
loop condition. (On other statements the loop modifiers test
the conditional first.)</p>

<p>&quot;do BLOCK&quot; does not count as a loop, so the
loop control statements &quot;next&quot;, &quot;last&quot;,
or &quot;redo&quot; cannot be used to leave or restart the
block. See perlsyn for alternative strategies.</p>

<p>do SUBROUTINE(LIST) This form of subroutine call is
deprecated. See perlsub.</p>

<p>do EXPR Uses the value of EXPR as a filename and
executes the contents of the file as a Perl script.</p>

<p>do &rsquo;stat.pl&rsquo;;</p>

<p>is just like</p>

<p>eval &lsquo;cat stat.pl&lsquo;;</p>

<p>except that its more efficient and concise, keeps track
of the current filename for error messages, searches the
@INC directories, and updates %INC if the file is found. See
&quot;Predefined Names&quot; in perlvar for these variables.
It also differs in that code evaluated with &quot;do
FILENAME&quot; cannot see lexicals in the enclosing scope;
&quot;eval STRING&quot; does. Its the same, however, in that
it does reparse the file every time you call it, so you
probably don t want to do this inside a loop.</p>

<p>If &quot;do&quot; cannot read the file, it returns undef
and sets $! to the error. If &quot;do&quot; can read the
file but cannot compile it, it returns undef and sets an
error message in $@. If the file is successfully compiled,
&quot;do&quot; returns the value of the last expression
evaluated.</p>

<p>Note that inclusion of library modules is better done
with the &quot;use&quot; and &quot;require&quot; operators,
which also do automatic error checking and raise an
exception if there s a problem.</p>

<p>You might like to use &quot;do&quot; to read in a
program configuration file. Manual error checking can be
done this way:</p>

<p># read in config files: system first, then user for
$file (&quot;/share/prog/defaults.rc&quot;,
&quot;$ENV{HOME}/.someprogrc&quot;) { unless ($return = do
$file) { warn &quot;couldn&rsquo;t parse $file: $@&quot; if
$@; warn &quot;couldn&rsquo;t do $file: $!&quot; unless
defined $return; warn &quot;couldn&rsquo;t run $file&quot;
unless $return; } }</p>

<p>dump LABEL dump This function causes an immediate core
dump. See also the -u command-line switch in perlrun, which
does the same thing. Primarily this is so that you can use
the undump program (not supplied) to turn your core dump
into an executable binary after having initialized all your
variables at the beginning of the program. When the new
binary is executed it will begin by executing a &quot;goto
LABEL&quot; (with all the restrictions that &quot;goto&quot;
suffers). Think of it as a goto with an intervening core
dump and reincarnation. If &quot;LABEL&quot; is omitted,
restarts the program from the top.</p>

<p>WARNING: Any files opened at the time of the dump will
not be open any more when the program is reincarnated, with
possible resulting confusion on the part of Perl.</p>

<p>This function is now largely obsolete, mostly because
its very hard to convert a core file into an executable.
Thats why you should now invoke it as
&quot;CORE::dump()&quot;, if you don t want to be warned
against a possible typo.</p>

<p>each HASH When called in list context, returns a
2-element list consisting of the key and value for the next
element of a hash, so that you can iterate over it. When
called in scalar context, returns only the key for the next
element in the hash.</p>

<p>Entries are returned in an apparently random order. The
actual random order is subject to change in future versions
of perl, but it is guaranteed to be in the same order as
either the &quot;keys&quot; or &quot;values&quot; function
would produce on the same (unmodified) hash. Since Perl
5.8.2 the ordering can be different even between different
runs of Perl for security reasons (see &quot;Algorithmic
Complexity Attacks&quot; in perlsec).</p>

<p>When the hash is entirely read, a null array is returned
in list context (which when assigned produces a false (0)
value), and &quot;undef&quot; in scalar context. The next
call to &quot;each&quot; after that will start iterating
again. There is a single iterator for each hash, shared by
all &quot;each&quot;, &quot;keys&quot;, and
&quot;values&quot; function calls in the program; it can be
reset by reading all the elements from the hash, or by
evaluating &quot;keys HASH&quot; or &quot;values HASH&quot;.
If you add or delete elements of a hash while you re
iterating over it, you may get entries skipped or
duplicated, so dont. Exception: It is always safe to delete
the item most recently returned by &quot;each()&quot;, which
means that the following code will work:</p>

<p>while (($key, $value) = each %hash) { print $key,
&quot;0; delete $hash{$key}; # This is safe }</p>

<p>The following prints out your environment like the
printenv(1) program, only in a different order:</p>

<p>while (($key,$value) = each %ENV) { print
&quot;$key=$value0; }</p>

<p>See also &quot;keys&quot;, &quot;values&quot; and
&quot;sort&quot;.</p>

<p>eof FILEHANDLE eof () eof Returns 1 if the next read on
FILEHANDLE will return end of file, or if FILEHANDLE is not
open. FILEHANDLE may be an expression whose value gives the
real filehandle. (Note that this function actually reads a
character and then &quot;ungetc&quot;s it, so isn t very
useful in an interactive context.) Do not read from a
terminal file (or call &quot;eof(FILEHANDLE)&quot; on it)
after end-of-file is reached. File types such as terminals
may lose the end-of-file condition if you do.</p>

<p>An &quot;eof&quot; without an argument uses the last
file read. Using &quot;eof()&quot; with empty parentheses is
very different. It refers to the pseudo file formed from the
files listed on the command line and accessed via the
&quot;&lt;&gt;&quot; operator. Since &quot;&lt;&gt;&quot;
isnt explicitly opened, as a normal filehandle is, an
&quot;eof()&quot; before &quot;&lt;&gt;&quot; has been used
will cause @ARGV to be examined to determine if input is
available. Similarly, an &quot;eof()&quot; after
&quot;&lt;&gt;&quot; has returned end-of-file will assume
you are processing another @ARGV list, and if you havent set
@ARGV, will read input from &quot;STDIN&quot;; see &quot;I/O
Operators&quot; in perlop.</p>

<p>In a &quot;while (&lt;&gt;)&quot; loop, &quot;eof&quot;
or &quot;eof(ARGV)&quot; can be used to detect the end of
each file, &quot;eof()&quot; will only detect the end of the
last file. Examples:</p>

<p># reset line numbering on each input file while
(&lt;&gt;) { next if /^#/; # skip comments print
&quot;$.$_&quot;; } continue { close ARGV if eof; # Not
eof()! }</p>

<p># insert dashes just before last line of last file while
(&lt;&gt;) { if (eof()) { # check for end of last file print
&quot;--------------0; } print; last if eof(); # needed if
we&rsquo;re reading from a terminal }</p>

<p>Practical hint: you almost never need to use
&quot;eof&quot; in Perl, because the input operators
typically return &quot;undef&quot; when they run out of
data, or if there was an error.</p>

<p>eval EXPR eval BLOCK eval In the first form, the return
value of EXPR is parsed and executed as if it were a little
Perl program. The value of the expression (which is itself
determined within scalar context) is first parsed, and if
there werent any errors, executed in the lexical context of
the current Perl program, so that any variable settings or
subroutine and format definitions remain afterwards. Note
that the value is parsed every time the &quot;eval&quot;
executes. If EXPR is omitted, evaluates $_. This form is
typically used to delay parsing and subsequent execution of
the text of EXPR until run time.</p>

<p>In the second form, the code within the BLOCK is parsed
only once--at the same time the code surrounding the
&quot;eval&quot; itself was parsed--and executed within the
context of the current Perl program. This form is typically
used to trap exceptions more efficiently than the first (see
below), while also providing the benefit of checking the
code within BLOCK at compile time.</p>

<p>The final semicolon, if any, may be omitted from the
value of EXPR or within the BLOCK.</p>

<p>In both forms, the value returned is the value of the
last expression evaluated inside the mini-program; a return
statement may be also used, just as with subroutines. The
expression providing the return value is evaluated in void,
scalar, or list context, depending on the context of the
&quot;eval&quot; itself. See &quot;wantarray&quot; for more
on how the evaluation context can be determined.</p>

<p>If there is a syntax error or runtime error, or a
&quot;die&quot; statement is executed, &quot;eval&quot;
returns an undefined value in scalar context or an empty
list in list context, and $@ is set to the error message. If
there was no error, $@ is guaranteed to be a null string.
Beware that using &quot;eval&quot; neither silences perl
from printing warnings to STDERR, nor does it stuff the text
of warning messages into $@. To do either of those, you have
to use the $SIG{__WARN__} facility, or turn off warnings
inside the BLOCK or EXPR using &quot;no warnings
&rsquo;all&rsquo;&quot;. See &quot;warn&quot;, perlvar,
warnings and perllexwarn.</p>

<p>Note that, because &quot;eval&quot; traps
otherwise-fatal errors, it is useful for determining whether
a particular feature (such as &quot;socket&quot; or
&quot;symlink&quot;) is implemented. It is also Perls
exception trapping mechanism, where the die operator is used
to raise exceptions.</p>

<p>If you want to trap errors when loading an XS module,
some problems with the binary interface (such as Perl
version skew) may be fatal even with &quot;eval&quot; unless
$ENV{PERL_DL_NONLAZY} is set. See perlrun.</p>

<p>If the code to be executed doesnt vary, you may use the
eval- BLOCK form to trap run-time errors without incurring
the penalty of recompiling each time. The error, if any, is
still returned in $@. Examples:</p>

<p># make divide-by-zero nonfatal eval { $answer = $a / $b;
}; warn $@ if $@;</p>

<p># same thing, but less efficient eval &rsquo;$answer =
$a / $b&rsquo;; warn $@ if $@;</p>

<p># a compile-time error eval { $answer = }; # WRONG</p>

<p># a run-time error eval &rsquo;$answer =&rsquo;; # sets
$@</p>

<p>Using the &quot;eval{}&quot; form as an exception trap
in libraries does have some issues. Due to the current
arguably broken state of &quot;__DIE__&quot; hooks, you may
wish not to trigger any &quot;__DIE__&quot; hooks that user
code may have installed. You can use the &quot;local
$SIG{__DIE__}&quot; construct for this purpose, as shown in
this example:</p>

<p># a very private exception trap for divide-by-zero eval
{ local $SIG{&rsquo;__DIE__&rsquo;}; $answer = $a / $b; };
warn $@ if $@;</p>

<p>This is especially significant, given that
&quot;__DIE__&quot; hooks can call &quot;die&quot; again,
which has the effect of changing their error messages:</p>

<p># __DIE__ hooks may modify error messages { local
$SIG{&rsquo;__DIE__&rsquo;} = sub { (my $x = $_[0]) =~
s/foo/bar/g; die $x }; eval { die &quot;foo lives here&quot;
}; print $@ if $@; # prints &quot;bar lives here&quot; }</p>

<p>Because this promotes action at a distance, this
counterintuitive behavior may be fixed in a future
release.</p>

<p>With an &quot;eval&quot;, you should be especially
careful to remember whats being looked at when:</p>

<p>eval $x; # CASE 1 eval &quot;$x&quot;; # CASE 2</p>

<p>eval &rsquo;$x&rsquo;; # CASE 3 eval { $x }; # CASE
4</p>

<p>eval &quot;x++&quot;; # CASE 5 $$x++; # CASE 6</p>

<p>Cases 1 and 2 above behave identically: they run the
code contained in the variable $x. (Although case 2 has
misleading double quotes making the reader wonder what else
might be happening (nothing is).) Cases 3 and 4 likewise
behave in the same way: they run the code &rsquo;$x&rsquo;,
which does nothing but return the value of $x. (Case 4 is
preferred for purely visual reasons, but it also has the
advantage of compiling at compile- time instead of at
run-time.) Case 5 is a place where normally you would like
to use double quotes, except that in this particular
situation, you can just use symbolic references instead, as
in case 6.</p>

<p>The assignment to $@ occurs before restoration of
localised variables, which means a temporary is required if
you want to mask some but not all errors:</p>

<p># alter $@ on nefarious repugnancy only { my $e; { local
$@; # protect existing $@ eval { test_repugnancy() }; # $@
=~ /nefarious/ and die $@; # DOES NOT WORK $@ =~ /nefarious/
and $e = $@; } die $e if defined $e }</p>

<p>&quot;eval BLOCK&quot; does not count as a loop, so the
loop control statements &quot;next&quot;, &quot;last&quot;,
or &quot;redo&quot; cannot be used to leave or restart the
block.</p>

<p>Note that as a very special case, an &quot;eval
&rsquo;&rsquo;&quot; executed within the &quot;DB&quot;
package doesnt see the usual surrounding lexical scope, but
rather the scope of the first non-DB piece of code that
called it. You dont normally need to worry about this unless
you are writing a Perl debugger.</p>

<p>exec LIST exec PROGRAM LIST The &quot;exec&quot;
function executes a system command and never returns-- use
&quot;system&quot; instead of &quot;exec&quot; if you want
it to return. It fails and returns false only if the command
does not exist and it is executed directly instead of via
your systems command shell (see below).</p>

<p>Since it s a common mistake to use &quot;exec&quot;
instead of &quot;system&quot;, Perl warns you if there is a
following statement which isnt &quot;die&quot;,
&quot;warn&quot;, or &quot;exit&quot; (if &quot;-w&quot; is
set - but you always do that). If you really want to follow
an &quot;exec&quot; with some other statement, you can use
one of these styles to avoid the warning:</p>

<p>exec (&rsquo;foo&rsquo;) or print STDERR
&quot;couldn&rsquo;t exec foo: $!&quot;; { exec
(&rsquo;foo&rsquo;) }; print STDERR &quot;couldn&rsquo;t
exec foo: $!&quot;;</p>

<p>If there is more than one argument in LIST, or if LIST
is an array with more than one value, calls execvp(3) with
the arguments in LIST. If there is only one scalar argument
or an array with one element in it, the argument is checked
for shell metacharacters, and if there are any, the entire
argument is passed to the systems command shell for parsing
(this is &quot;/bin/sh -c&quot; on Unix platforms, but
varies on other platforms). If there are no shell
metacharacters in the argument, it is split into words and
passed directly to &quot;execvp&quot;, which is more
efficient. Examples:</p>

<p>exec &rsquo;/bin/echo&rsquo;, &rsquo;Your arguments are:
&rsquo;, @ARGV; exec &quot;sort $outfile | uniq&quot;;</p>

<p>If you dont really want to execute the first argument,
but want to lie to the program you are executing about its
own name, you can specify the program you actually want to
run as an &quot;indirect object&quot; (without a comma) in
front of the LIST. (This always forces interpretation of the
LIST as a multivalued list, even if there is only a single
scalar in the list.) Example:</p>

<p>$shell = &rsquo;/bin/csh&rsquo;; exec $shell
&rsquo;-sh&rsquo;; # pretend it&rsquo;s a login shell</p>

<p>or, more directly,</p>

<p>exec {&rsquo;/bin/csh&rsquo;} &rsquo;-sh&rsquo;; #
pretend it&rsquo;s a login shell</p>

<p>When the arguments get executed via the system shell,
results will be subject to its quirks and capabilities. See
&quot;STRING&quot; in perlop for details.</p>

<p>Using an indirect object with &quot;exec&quot; or
&quot;system&quot; is also more secure. This usage (which
also works fine with system()) forces interpretation of the
arguments as a multivalued list, even if the list had just
one argument. That way youre safe from the shell expanding
wildcards or splitting up words with whitespace in them.</p>

<p>@args = ( &quot;echo surprise&quot; );</p>

<p>exec @args; # subject to shell escapes # if @args == 1
exec { $args[0] } @args; # safe even with one-arg list</p>

<p>The first version, the one without the indirect object,
ran the echo program, passing it &quot;surprise&quot; an
argument. The second version didnt--it tried to run a
program literally called &quot;echo surprise&quot;, didnt
find it, and set $? to a non-zero value indicating
failure.</p>

<p>Beginning with v5.6.0, Perl will attempt to flush all
files opened for output before the exec, but this may not be
supported on some platforms (see perlport). To be safe, you
may need to set $| ($AUTOFLUSH in English) or call the
&quot;autoflush()&quot; method of &quot;IO::Handle&quot; on
any open handles in order to avoid lost output.</p>

<p>Note that &quot;exec&quot; will not call your
&quot;END&quot; blocks, nor will it call any
&quot;DESTROY&quot; methods in your objects.</p>

<p>exists EXPR Given an expression that specifies a hash
element or array element, returns true if the specified
element in the hash or array has ever been initialized, even
if the corresponding value is undefined.</p>

<p>print &quot;Exists0 if exists $hash{$key}; print
&quot;Defined0 if defined $hash{$key}; print &quot;True0 if
$hash{$key};</p>

<p>print &quot;Exists0 if exists $array[$index]; print
&quot;Defined0 if defined $array[$index]; print &quot;True0
if $array[$index];</p>

<p>A hash or array element can be true only if it s
defined, and defined if it exists, but the reverse doesnt
necessarily hold true.</p>

<p>Given an expression that specifies the name of a
subroutine, returns true if the specified subroutine has
ever been declared, even if it is undefined. Mentioning a
subroutine name for exists or defined does not count as
declaring it. Note that a subroutine which does not exist
may still be callable: its package may have an
&quot;AUTOLOAD&quot; method that makes it spring into
existence the first time that it is called -- see
perlsub.</p>

<p>print &quot;Exists0 if exists &amp;subroutine; print
&quot;Defined0 if defined &amp;subroutine;</p>

<p>Note that the EXPR can be arbitrarily complicated as
long as the final operation is a hash or array key lookup or
subroutine name:</p>

<p>if (exists $ref-&gt;{A}-&gt;{B}-&gt;{$key}) { } if
(exists $hash{A}{B}{$key}) { }</p>

<p>if (exists $ref-&gt;{A}-&gt;{B}-&gt;[$ix]) { } if
(exists $hash{A}{B}[$ix]) { }</p>

<p>if (exists &amp;{$ref-&gt;{A}{B}{$key}}) { }</p>

<p>Although the deepest nested array or hash will not
spring into existence just because its existence was tested,
any intervening ones will. Thus
&quot;$ref-&gt;{&quot;A&quot;}&quot; and
&quot;$ref-&gt;{&quot;A&quot;}-&gt;{&quot;B&quot;}&quot;
will spring into existence due to the existence test for the
$key element above. This happens anywhere the arrow operator
is used, including even:</p>

<p>undef $ref; if (exists $ref-&gt;{&quot;Some key&quot;})
{ } print $ref; # prints HASH(0x80d3d5c)</p>

<p>This surprising autovivification in what does not at
first--or even second--glance appear to be an lvalue context
may be fixed in a future release.</p>

<p>Use of a subroutine call, rather than a subroutine name,
as an argument to exists() is an error.</p>

<p>exists &amp;sub; # OK exists &amp;sub(); # Error</p>

<p>exit EXPR exit Evaluates EXPR and exits immediately with
that value. Example:</p>

<p>$ans = &lt;STDIN&gt;; exit 0 if $ans =~ /^[Xx]/;</p>

<p>See also &quot;die&quot;. If EXPR is omitted, exits with
0 status. The only universally recognized values for EXPR
are 0 for success and 1 for error; other values are subject
to interpretation depending on the environment in which the
Perl program is running. For example, exiting 69
(EX_UNAVAILABLE) from a sendmail incoming-mail filter will
cause the mailer to return the item undelivered, but that s
not true everywhere.</p>

<p>Dont use &quot;exit&quot; to abort a subroutine if there
s any chance that someone might want to trap whatever error
happened. Use &quot;die&quot; instead, which can be trapped
by an &quot;eval&quot;.</p>

<p>The exit() function does not always exit immediately. It
calls any defined &quot;END&quot; routines first, but these
&quot;END&quot; routines may not themselves abort the exit.
Likewise any object destructors that need to be called are
called before the real exit. If this is a problem, you can
call &quot;POSIX:_exit($status)&quot; to avoid END and
destructor processing. See perlmod for details.</p>

<p>exp EXPR exp Returns e (the natural logarithm base) to
the power of EXPR. If EXPR is omitted, gives
&quot;exp($_)&quot;.</p>

<p>fcntl FILEHANDLE,FUNCTION,SCALAR Implements the fcntl(2)
function. Youll probably have to say</p>

<p>use Fcntl;</p>

<p>first to get the correct constant definitions. Argument
processing and value return works just like
&quot;ioctl&quot; below. For example:</p>

<p>use Fcntl; fcntl($filehandle, F_GETFL,
$packed_return_buffer) or die &quot;can&rsquo;t fcntl
F_GETFL: $!&quot;;</p>

<p>You dont have to check for &quot;defined&quot; on the
return from &quot;fcntl&quot;. Like &quot;ioctl&quot;, it
maps a 0 return from the system call into &quot;0 but
true&quot; in Perl. This string is true in boolean context
and 0 in numeric context. It is also exempt from the normal
-w warnings on improper numeric conversions.</p>

<p>Note that &quot;fcntl&quot; will produce a fatal error
if used on a machine that doesnt implement fcntl(2). See the
Fcntl module or your fcntl(2) manpage to learn what
functions are available on your system.</p>

<p>Heres an example of setting a filehandle named
&quot;REMOTE&quot; to be non-blocking at the system level.
Youll have to negotiate $| on your own, though.</p>

<p>use Fcntl qw(F_GETFL F_SETFL O_NONBLOCK);</p>

<p>$flags = fcntl(REMOTE, F_GETFL, 0) or die
&quot;Can&rsquo;t get flags for the socket: $!0;</p>

<p>$flags = fcntl(REMOTE, F_SETFL, $flags | O_NONBLOCK) or
die &quot;Can&rsquo;t set flags for the socket: $!0;</p>

<p>fileno FILEHANDLE Returns the file descriptor for a
filehandle, or undefined if the filehandle is not open. This
is mainly useful for constructing bitmaps for
&quot;select&quot; and low-level POSIX tty- handling
operations. If FILEHANDLE is an expression, the value is
taken as an indirect filehandle, generally its name.</p>

<p>You can use this to find out whether two handles refer
to the same underlying descriptor:</p>

<p>if (fileno(THIS) == fileno(THAT)) { print &quot;THIS and
THAT are dups0; }</p>

<p>(Filehandles connected to memory objects via new
features of &quot;open&quot; may return undefined even
though they are open.)</p>

<p>flock FILEHANDLE,OPERATION Calls flock(2), or an
emulation of it, on FILEHANDLE. Returns true for success,
false on failure. Produces a fatal error if used on a
machine that doesnt implement flock(2), fcntl(2) locking, or
lockf(3). &quot;flock&quot; is Perl s portable file locking
interface, although it locks only entire files, not
records.</p>

<p>Two potentially non-obvious but traditional
&quot;flock&quot; semantics are that it waits indefinitely
until the lock is granted, and that its locks merely
advisory. Such discretionary locks are more flexible, but
offer fewer guarantees. This means that programs that do not
also use &quot;flock&quot; may modify files locked with
&quot;flock&quot;. See perlport, your ports specific
documentation, or your system-specific local manpages for
details. Its best to assume traditional behavior if youre
writing portable programs. (But if youre not, you should as
always feel perfectly free to write for your own systems
idiosyncrasies (sometimes called &quot;features&quot;).
Slavish adherence to portability concerns shouldnt get in
the way of your getting your job done.)</p>

<p>OPERATION is one of LOCK_SH, LOCK_EX, or LOCK_UN,
possibly combined with LOCK_NB. These constants are
traditionally valued 1, 2, 8 and 4, but you can use the
symbolic names if you import them from the Fcntl module,
either individually, or as a group using the :flock tag.
LOCK_SH requests a shared lock, LOCK_EX requests an
exclusive lock, and LOCK_UN releases a previously requested
lock. If LOCK_NB is bitwise-ored with LOCK_SH or LOCK_EX
then &quot;flock&quot; will return immediately rather than
blocking waiting for the lock (check the return status to
see if you got it).</p>

<p>To avoid the possibility of miscoordination, Perl now
flushes FILEHANDLE before locking or unlocking it.</p>

<p>Note that the emulation built with lockf(3) doesnt
provide shared locks, and it requires that FILEHANDLE be
open with write intent. These are the semantics that
lockf(3) implements. Most if not all systems implement
lockf(3) in terms of fcntl(2) locking, though, so the
differing semantics shouldnt bite too many people.</p>

<p>Note that the fcntl(2) emulation of flock(3) requires
that FILEHANDLE be open with read intent to use LOCK_SH and
requires that it be open with write intent to use
LOCK_EX.</p>

<p>Note also that some versions of &quot;flock&quot; cannot
lock things over the network; you would need to use the more
system-specific &quot;fcntl&quot; for that. If you like you
can force Perl to ignore your systems flock(2) function, and
so provide its own fcntl(2)-based emulation, by passing the
switch &quot;-Ud_flock&quot; to the Configure program when
you configure perl.</p>

<p>Heres a mailbox appender for BSD systems.</p>

<p>use Fcntl qw(:flock SEEK_END); # import LOCK_* and
SEEK_END constants</p>

<p>sub lock { my ($fh) = @_; flock($fh, LOCK_EX) or die
&quot;Cannot lock mailbox - $!0;</p>

<p># and, in case someone appended while we were waiting...
seek($fh, 0, SEEK_END) or die &quot;Cannot seek - $!0; }</p>

<p>sub unlock { my ($fh) = @_; flock($fh, LOCK_UN) or die
&quot;Cannot unlock mailbox - $!0; }</p>

<p>open(my $mbox, &quot;&gt;&gt;&quot;,
&quot;/usr/spool/mail/$ENV{&rsquo;USER&rsquo;}&quot;) or die
&quot;Can&rsquo;t open mailbox: $!&quot;;</p>

<p>lock($mbox); print $mbox $msg,&quot;0;
unlock($mbox);</p>

<p>On systems that support a real flock(), locks are
inherited across fork() calls, whereas those that must
resort to the more capricious fcntl() function lose the
locks, making it harder to write servers.</p>

<p>See also DB_File for other flock() examples.</p>

<p>fork Does a fork(2) system call to create a new process
running the same program at the same point. It returns the
child pid to the parent process, 0 to the child process, or
&quot;undef&quot; if the fork is unsuccessful. File
descriptors (and sometimes locks on those descriptors) are
shared, while everything else is copied. On most systems
supporting fork(), great care has gone into making it
extremely efficient (for example, using copy-on-write
technology on data pages), making it the dominant paradigm
for multitasking over the last few decades.</p>

<p>Beginning with v5.6.0, Perl will attempt to flush all
files opened for output before forking the child process,
but this may not be supported on some platforms (see
perlport). To be safe, you may need to set $| ($AUTOFLUSH in
English) or call the &quot;autoflush()&quot; method of
&quot;IO::Handle&quot; on any open handles in order to avoid
duplicate output.</p>

<p>If you &quot;fork&quot; without ever waiting on your
children, you will accumulate zombies. On some systems, you
can avoid this by setting $SIG{CHLD} to &quot;IGNORE&quot;.
See also perlipc for more examples of forking and reaping
moribund children.</p>

<p>Note that if your forked child inherits system file
descriptors like STDIN and STDOUT that are actually
connected by a pipe or socket, even if you exit, then the
remote server (such as, say, a CGI script or a backgrounded
job launched from a remote shell) wont think youre done. You
should reopen those to /dev/null if its any issue.</p>

<p>format Declare a picture format for use by the
&quot;write&quot; function. For example:</p>

<p>format Something = Test:
@&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; @|||||
@&gt;&gt;&gt;&gt;&gt; $str, $%, &rsquo;$&rsquo; . int($num)
.</p>

<p>$str = &quot;widget&quot;; $num = $cost/$quantity; $~ =
&rsquo;Something&rsquo;; write;</p>

<p>See perlform for many details and examples.</p>

<p>formline PICTURE,LIST This is an internal function used
by &quot;format&quot;s, though you may call it, too. It
formats (see perlform) a list of values according to the
contents of PICTURE, placing the output into the format
output accumulator, $^A (or $ACCUMULATOR in English).
Eventually, when a &quot;write&quot; is done, the contents
of $^A are written to some filehandle. You could also read
$^A and then set $^A back to &quot;&quot;. Note that a
format typically does one &quot;formline&quot; per line of
form, but the &quot;formline&quot; function itself doesnt
care how many newlines are embedded in the PICTURE. This
means that the &quot;~&quot; and &quot;~~&quot; tokens will
treat the entire PICTURE as a single line. You may therefore
need to use multiple formlines to implement a single record
format, just like the format compiler.</p>

<p>Be careful if you put double quotes around the picture,
because an &quot;@&quot; character may be taken to mean the
beginning of an array name. &quot;formline&quot; always
returns true. See perlform for other examples.</p>

<p>getc FILEHANDLE getc Returns the next character from the
input file attached to FILEHANDLE, or the undefined value at
end of file, or if there was an error (in the latter case $!
is set). If FILEHANDLE is omitted, reads from STDIN. This is
not particularly efficient. However, it cannot be used by
itself to fetch single characters without waiting for the
user to hit enter. For that, try something more like:</p>

<p>if ($BSD_STYLE) { system &quot;stty cbreak &lt;/dev/tty
&gt;/dev/tty 2&gt;&amp;1&quot;; } else { system
&quot;stty&quot;, &rsquo;-icanon&rsquo;, &rsquo;eol&rsquo;,
&quot; 01&quot;; }</p>

<p>$key = getc(STDIN);</p>

<p>if ($BSD_STYLE) { system &quot;stty -cbreak &lt;/dev/tty
&gt;/dev/tty 2&gt;&amp;1&quot;; } else { system
&quot;stty&quot;, &rsquo;icanon&rsquo;, &rsquo;eol&rsquo;,
&rsquo;^@&rsquo;; # ASCII null } print &quot;0;</p>

<p>Determination of whether $BSD_STYLE should be set is
left as an exercise to the reader.</p>

<p>The &quot;POSIX::getattr&quot; function can do this more
portably on systems purporting POSIX compliance. See also
the &quot;Term::ReadKey&quot; module from your nearest CPAN
site; details on CPAN can be found on &quot;CPAN&quot; in
perlmodlib.</p>

<p>getlogin This implements the C library function of the
same name, which on most systems returns the current login
from /etc/utmp, if any. If null, use
&quot;getpwuid&quot;.</p>

<p>$login = getlogin || getpwuid($&lt;) ||
&quot;Kilroy&quot;;</p>

<p>Do not consider &quot;getlogin&quot; for authentication:
it is not as secure as &quot;getpwuid&quot;.</p>

<p>getpeername SOCKET Returns the packed sockaddr address
of other end of the SOCKET connection.</p>

<p>use Socket; $hersockaddr = getpeername(SOCK); ($port,
$iaddr) = sockaddr_in($hersockaddr); $herhostname =
gethostbyaddr($iaddr, AF_INET); $herstraddr =
inet_ntoa($iaddr);</p>

<p>getpgrp PID Returns the current process group for the
specified PID. Use a PID of 0 to get the current process
group for the current process. Will raise an exception if
used on a machine that doesn t implement getpgrp(2). If PID
is omitted, returns process group of current process. Note
that the POSIX version of &quot;getpgrp&quot; does not
accept a PID argument, so only &quot;PID==0&quot; is truly
portable.</p>

<p>getppid Returns the process id of the parent
process.</p>

<p>Note for Linux users: on Linux, the C functions
&quot;getpid()&quot; and &quot;getppid()&quot; return
different values from different threads. In order to be
portable, this behavior is not reflected by the perl-level
function &quot;getppid()&quot;, that returns a consistent
value across threads. If you want to call the underlying
&quot;getppid()&quot;, you may use the CPAN module
&quot;Linux::Pid&quot;.</p>

<p>getpriority WHICH,WHO Returns the current priority for a
process, a process group, or a user. (See getpriority(2).)
Will raise a fatal exception if used on a machine that doesn
t implement getpriority(2).</p>

<p>getpwnam NAME getgrnam NAME gethostbyname NAME
getnetbyname NAME getprotobyname NAME getpwuid UID getgrgid
GID getservbyname NAME,PROTO gethostbyaddr ADDR,ADDRTYPE
getnetbyaddr ADDR,ADDRTYPE getprotobynumber NUMBER
getservbyport PORT,PROTO getpwent getgrent gethostent
getnetent getprotoent getservent setpwent setgrent
sethostent STAYOPEN setnetent STAYOPEN setprotoent STAYOPEN
setservent STAYOPEN endpwent endgrent endhostent endnetent
endprotoent endservent These routines perform the same
functions as their counterparts in the system library. In
list context, the return values from the various get
routines are as follows:</p>

<p>($name,$passwd,$uid,$gid,
$quota,$comment,$gcos,$dir,$shell,$expire) = getpw*
($name,$passwd,$gid,$members) = getgr*
($name,$aliases,$addrtype,$length,@addrs) = gethost*
($name,$aliases,$addrtype,$net) = getnet*
($name,$aliases,$proto) = getproto*
($name,$aliases,$port,$proto) = getserv*</p>

<p>(If the entry doesnt exist you get a null list.)</p>

<p>The exact meaning of the $gcos field varies but it
usually contains the real name of the user (as opposed to
the login name) and other information pertaining to the
user. Beware, however, that in many system users are able to
change this information and therefore it cannot be trusted
and therefore the $gcos is tainted (see perlsec). The
$passwd and $shell, users encrypted password and login
shell, are also tainted, because of the same reason.</p>

<p>In scalar context, you get the name, unless the function
was a lookup by name, in which case you get the other thing,
whatever it is. (If the entry doesnt exist you get the
undefined value.) For example:</p>

<p>$uid = getpwnam($name); $name = getpwuid($num); $name =
getpwent(); $gid = getgrnam($name); $name = getgrgid($num);
$name = getgrent(); #etc.</p>

<p>In getpw*() the fields $quota, $comment, and $expire are
special cases in the sense that in many systems they are
unsupported. If the $quota is unsupported, it is an empty
scalar. If it is supported, it usually encodes the disk
quota. If the $comment field is unsupported, it is an empty
scalar. If it is supported it usually encodes some
administrative comment about the user. In some systems the
$quota field may be $change or $age, fields that have to do
with password aging. In some systems the $comment field may
be $class. The $expire field, if present, encodes the
expiration period of the account or the password. For the
availability and the exact meaning of these fields in your
system, please consult your getpwnam(3) documentation and
your pwd.h file. You can also find out from within Perl what
your $quota and $comment fields mean and whether you have
the $expire field by using the &quot;Config&quot; module and
the values &quot;d_pwquota&quot;, &quot;d_pwage&quot;,
&quot;d_pwchange&quot;, &quot;d_pwcomment&quot;, and
&quot;d_pwexpire&quot;. Shadow password files are only
supported if your vendor has implemented them in the
intuitive fashion that calling the regular C library
routines gets the shadow versions if you re running under
privilege or if there exists the shadow(3) functions as
found in System V (this includes Solaris and Linux.) Those
systems that implement a proprietary shadow password
facility are unlikely to be supported.</p>

<p>The $members value returned by getgr*() is a space
separated list of the login names of the members of the
group.</p>

<p>For the gethost*() functions, if the &quot;h_errno&quot;
variable is supported in C, it will be returned to you via
$? if the function call fails. The @addrs value returned by
a successful call is a list of the raw addresses returned by
the corresponding system library call. In the Internet
domain, each address is four bytes long and you can unpack
it by saying something like:</p>

<p>($a,$b,$c,$d) = unpack(&rsquo;W4&rsquo;,$addr[0]);</p>

<p>The Socket library makes this slightly easier:</p>

<p>use Socket; $iaddr = inet_aton(&quot;127.1&quot;); # or
whatever address $name = gethostbyaddr($iaddr, AF_INET);</p>

<p># or going the other way $straddr =
inet_ntoa($iaddr);</p>

<p>In the opposite way, to resolve a hostname to the IP
address you can write this:</p>

<p>use Socket; $packed_ip =
gethostbyname(&quot;www.perl.org&quot;); if (defined
$packed_ip) { $ip_address = inet_ntoa($packed_ip); }</p>

<p>Make sure &lt;gethostbyname()&gt; is called in SCALAR
context and that its return value is checked for
definedness.</p>

<p>If you get tired of remembering which element of the
return list contains which return value, by-name interfaces
are provided in standard modules: &quot;File::stat&quot;,
&quot;Net::hostent&quot;, &quot;Net::netent&quot;,
&quot;Net::protoent&quot;, &quot;Net::servent&quot;,
&quot;Time::gmtime&quot;, &quot;Time::localtime&quot;, and
&quot;User::grent&quot;. These override the normal
built-ins, supplying versions that return objects with the
appropriate names for each field. For example:</p>

<p>use File::stat; use User::pwent; $is_his =
(stat($filename)-&gt;uid == pwent($whoever)-&gt;uid);</p>

<p>Even though it looks like theyre the same method calls
(uid), they aren t, because a &quot;File::stat&quot; object
is different from a &quot;User::pwent&quot; object.</p>

<p>getsockname SOCKET Returns the packed sockaddr address
of this end of the SOCKET connection, in case you don t know
the address because you have several different IPs that the
connection might have come in on.</p>

<p>use Socket; $mysockaddr = getsockname(SOCK); ($port,
$myaddr) = sockaddr_in($mysockaddr); printf &quot;Connect to
%s [%s]0, scalar gethostbyaddr($myaddr, AF_INET),
inet_ntoa($myaddr);</p>

<p>getsockopt SOCKET,LEVEL,OPTNAME Queries the option named
OPTNAME associated with SOCKET at a given LEVEL. Options may
exist at multiple protocol levels depending on the socket
type, but at least the uppermost socket level SOL_SOCKET
(defined in the &quot;Socket&quot; module) will exist. To
query options at another level the protocol number of the
appropriate protocol controlling the option should be
supplied. For example, to indicate that an option is to be
interpreted by the TCP protocol, LEVEL should be set to the
protocol number of TCP, which you can get using
getprotobyname.</p>

<p>The call returns a packed string representing the
requested socket option, or &quot;undef&quot; if there is an
error (the error reason will be in $!). What exactly is in
the packed string depends in the LEVEL and OPTNAME, consult
your system documentation for details. A very common case
however is that the option is an integer, in which case the
result will be a packed integer which you can decode using
unpack with the &quot;i&quot; (or &quot;I&quot;) format.</p>

<p>An example testing if Nagles algorithm is turned on on a
socket:</p>

<p>use Socket qw(:all);</p>

<p>defined(my $tcp = getprotobyname(&quot;tcp&quot;)) or
die &quot;Could not determine the protocol number for
tcp&quot;; # my $tcp = IPPROTO_TCP; # Alternative my $packed
= getsockopt($socket, $tcp, TCP_NODELAY) or die &quot;Could
not query TCP_NODELAY socket option: $!&quot;; my $nodelay =
unpack(&quot;I&quot;, $packed); print &quot;Nagle&rsquo;s
algorithm is turned &quot;, $nodelay ? &quot;off0 :
&quot;on0;</p>

<p>glob EXPR glob In list context, returns a (possibly
empty) list of filename expansions on the value of EXPR such
as the standard Unix shell /bin/csh would do. In scalar
context, glob iterates through such filename expansions,
returning undef when the list is exhausted. This is the
internal function implementing the &quot;&lt;*.c&gt;&quot;
operator, but you can use it directly. If EXPR is omitted,
$_ is used. The &quot;&lt;*.c&gt;&quot; operator is
discussed in more detail in &quot;I/O Operators&quot; in
perlop.</p>

<p>Note that &quot;glob&quot; will split its arguments on
whitespace, treating each segment as separate pattern. As
such, &quot;glob(&rsquo;*.c *.h&rsquo;)&quot; would match
all files with a .c or .h extension. The expression
&quot;glob(&rsquo;.* *&rsquo;)&quot; would match all files
in the current working directory.</p>

<p>Beginning with v5.6.0, this operator is implemented
using the standard &quot;File::Glob&quot; extension. See
File::Glob for details, including &quot;bsd_glob&quot; which
does not treat whitespace as a pattern separator.</p>

<p>gmtime EXPR gmtime Works just like localtime but the
returned values are localized for the standard Greenwich
time zone.</p>

<p>Note: when called in list context, $isdst, the last
value returned by gmtime is always 0. There is no Daylight
Saving Time in GMT.</p>

<p>See &quot;gmtime&quot; in perlport for portability
concerns.</p>

<p>goto LABEL goto EXPR goto &amp;NAME The
&quot;goto-LABEL&quot; form finds the statement labeled with
LABEL and resumes execution there. It may not be used to go
into any construct that requires initialization, such as a
subroutine or a &quot;foreach&quot; loop. It also cant be
used to go into a construct that is optimized away, or to
get out of a block or subroutine given to &quot;sort&quot;.
It can be used to go almost anywhere else within the dynamic
scope, including out of subroutines, but its usually better
to use some other construct such as &quot;last&quot; or
&quot;die&quot;. The author of Perl has never felt the need
to use this form of &quot;goto&quot; (in Perl, that is--C is
another matter). (The difference being that C does not offer
named loops combined with loop control. Perl does, and this
replaces most structured uses of &quot;goto&quot; in other
languages.)</p>

<p>The &quot;goto-EXPR&quot; form expects a label name,
whose scope will be resolved dynamically. This allows for
computed &quot;goto&quot;s per FORTRAN, but isnt necessarily
recommended if youre optimizing for maintainability:</p>

<p>goto (&quot;FOO&quot;, &quot;BAR&quot;,
&quot;GLARCH&quot;)[$i];</p>

<p>The &quot;goto-&amp;NAME&quot; form is quite different
from the other forms of &quot;goto&quot;. In fact, it isnt a
goto in the normal sense at all, and doesnt have the stigma
associated with other gotos. Instead, it exits the current
subroutine (losing any changes set by local()) and
immediately calls in its place the named subroutine using
the current value of @_. This is used by
&quot;AUTOLOAD&quot; subroutines that wish to load another
subroutine and then pretend that the other subroutine had
been called in the first place (except that any
modifications to @_ in the current subroutine are propagated
to the other subroutine.) After the &quot;goto&quot;, not
even &quot;caller&quot; will be able to tell that this
routine was called first.</p>

<p>NAME neednt be the name of a subroutine; it can be a
scalar variable containing a code reference, or a block that
evaluates to a code reference.</p>

<p>grep BLOCK LIST grep EXPR,LIST This is similar in spirit
to, but not the same as, grep(1) and its relatives. In
particular, it is not limited to using regular
expressions.</p>

<p>Evaluates the BLOCK or EXPR for each element of LIST
(locally setting $_ to each element) and returns the list
value consisting of those elements for which the expression
evaluated to true. In scalar context, returns the number of
times the expression was true.</p>

<p>@foo = grep(!/^#/, @bar); # weed out comments</p>

<p>or equivalently,</p>

<p>@foo = grep {!/^#/} @bar; # weed out comments</p>

<p>Note that $_ is an alias to the list value, so it can be
used to modify the elements of the LIST. While this is
useful and supported, it can cause bizarre results if the
elements of LIST are not variables. Similarly, grep returns
aliases into the original list, much as a for loops index
variable aliases the list elements. That is, modifying an
element of a list returned by grep (for example, in a
&quot;foreach&quot;, &quot;map&quot; or another
&quot;grep&quot;) actually modifies the element in the
original list. This is usually something to be avoided when
writing clear code.</p>

<p>If $_ is lexical in the scope where the &quot;grep&quot;
appears (because it has been declared with &quot;my
$_&quot;) then, in addition to being locally aliased to the
list elements, $_ keeps being lexical inside the block; i.e.
it cant be seen from the outside, avoiding any potential
side-effects.</p>

<p>See also &quot;map&quot; for a list composed of the
results of the BLOCK or EXPR.</p>

<p>hex EXPR hex Interprets EXPR as a hex string and returns
the corresponding value. (To convert strings that might
start with either 0, &quot;0x&quot;, or &quot;0b&quot;, see
&quot;oct&quot;.) If EXPR is omitted, uses $_.</p>

<p>print hex &rsquo;0xAf&rsquo;; # prints &rsquo;175&rsquo;
print hex &rsquo;aF&rsquo;; # same</p>

<p>Hex strings may only represent integers. Strings that
would cause integer overflow trigger a warning. Leading
whitespace is not stripped, unlike oct(). To present
something as hex, look into &quot;printf&quot;,
&quot;sprintf&quot;, or &quot;unpack&quot;.</p>

<p>import LIST There is no builtin &quot;import&quot;
function. It is just an ordinary method (subroutine) defined
(or inherited) by modules that wish to export names to
another module. The &quot;use&quot; function calls the
&quot;import&quot; method for the package used. See also
&quot;use&quot;, perlmod, and Exporter.</p>

<p>index STR,SUBSTR,POSITION index STR,SUBSTR The index
function searches for one string within another, but without
the wildcard-like behavior of a full regular-expression
pattern match. It returns the position of the first
occurrence of SUBSTR in STR at or after POSITION. If
POSITION is omitted, starts searching from the beginning of
the string. POSITION before the beginning of the string or
after its end is treated as if it were the beginning or the
end, respectively. POSITION and the return value are based
at 0 (or whatever youve set the $[ variable to--but don t do
that). If the substring is not found, &quot;index&quot;
returns one less than the base, ordinarily
&quot;-1&quot;.</p>

<p>int EXPR int Returns the integer portion of EXPR. If
EXPR is omitted, uses $_. You should not use this function
for rounding: one because it truncates towards 0, and two
because machine representations of floating point numbers
can sometimes produce counterintuitive results. For example,
&quot;int(-6.725/0.025)&quot; produces -268 rather than the
correct -269; thats because its really more like
-268.99999999999994315658 instead. Usually, the
&quot;sprintf&quot;, &quot;printf&quot;, or the
&quot;POSIX::floor&quot; and &quot;POSIX::ceil&quot;
functions will serve you better than will int().</p>

<p>ioctl FILEHANDLE,FUNCTION,SCALAR Implements the ioctl(2)
function. Youll probably first have to say</p>

<p>require &quot;sys/ioctl.ph&quot;; # probably in
$Config{archlib}/sys/ioctl.ph</p>

<p>to get the correct function definitions. If sys/ioctl.ph
doesn t exist or doesn t have the correct definitions youll
have to roll your own, based on your C header files such as
&lt;sys/ioctl.h&gt;. (There is a Perl script called h2ph
that comes with the Perl kit that may help you in this, but
its nontrivial.) SCALAR will be read and/or written
depending on the FUNCTION--a pointer to the string value of
SCALAR will be passed as the third argument of the actual
&quot;ioctl&quot; call. (If SCALAR has no string value but
does have a numeric value, that value will be passed rather
than a pointer to the string value. To guarantee this to be
true, add a 0 to the scalar before using it.) The
&quot;pack&quot; and &quot;unpack&quot; functions may be
needed to manipulate the values of structures used by
&quot;ioctl&quot;.</p>

<p>The return value of &quot;ioctl&quot; (and
&quot;fcntl&quot;) is as follows:</p>

<p>if OS returns: then Perl returns: -1 undefined value 0
string &quot;0 but true&quot; anything else that number</p>

<p>Thus Perl returns true on success and false on failure,
yet you can still easily determine the actual value returned
by the operating system:</p>

<p>$retval = ioctl(...) || -1; printf &quot;System returned
%d0, $retval;</p>

<p>The special string &quot;0 but true&quot; is exempt from
-w complaints about improper numeric conversions.</p>

<p>join EXPR,LIST Joins the separate strings of LIST into a
single string with fields separated by the value of EXPR,
and returns that new string. Example:</p>

<p>$rec = join(&rsquo;:&rsquo;,
$login,$passwd,$uid,$gid,$gcos,$home,$shell);</p>

<p>Beware that unlike &quot;split&quot;, &quot;join&quot;
doesnt take a pattern as its first argument. Compare
&quot;split&quot;.</p>

<p>keys HASH Returns a list consisting of all the keys of
the named hash. (In scalar context, returns the number of
keys.)</p>

<p>The keys are returned in an apparently random order. The
actual random order is subject to change in future versions
of perl, but it is guaranteed to be the same order as either
the &quot;values&quot; or &quot;each&quot; function produces
(given that the hash has not been modified). Since Perl
5.8.1 the ordering is different even between different runs
of Perl for security reasons (see &quot;Algorithmic
Complexity Attacks&quot; in perlsec).</p>

<p>As a side effect, calling keys() resets the HASHs
internal iterator (see &quot;each&quot;). In particular,
calling keys() in void context resets the iterator with no
other overhead.</p>

<p>Here is yet another way to print your environment:</p>

<p>@keys = keys %ENV; @values = values %ENV; while (@keys)
{ print pop(@keys), &rsquo;=&rsquo;, pop(@values), &quot;0;
}</p>

<p>or how about sorted by key:</p>

<p>foreach $key (sort(keys %ENV)) { print $key,
&rsquo;=&rsquo;, $ENV{$key}, &quot;0; }</p>

<p>The returned values are copies of the original keys in
the hash, so modifying them will not affect the original
hash. Compare &quot;values&quot;.</p>

<p>To sort a hash by value, youll need to use a
&quot;sort&quot; function. Heres a descending numeric sort
of a hash by its values:</p>

<p>foreach $key (sort { $hash{$b} &lt;=&gt; $hash{$a} }
keys %hash) { printf &quot;%4d %s0, $hash{$key}, $key; }</p>

<p>As an lvalue &quot;keys&quot; allows you to increase the
number of hash buckets allocated for the given hash. This
can gain you a measure of efficiency if you know the hash is
going to get big. (This is similar to pre-extending an array
by assigning a larger number to $#array.) If you say</p>

<p>keys %hash = 200;</p>

<p>then %hash will have at least 200 buckets allocated for
it--256 of them, in fact, since it rounds up to the next
power of two. These buckets will be retained even if you do
&quot;%hash = ()&quot;, use &quot;undef %hash&quot; if you
want to free the storage while %hash is still in scope. You
cant shrink the number of buckets allocated for the hash
using &quot;keys&quot; in this way (but you neednt worry
about doing this by accident, as trying has no effect).</p>

<p>See also &quot;each&quot;, &quot;values&quot; and
&quot;sort&quot;.</p>

<p>kill SIGNAL, LIST Sends a signal to a list of processes.
Returns the number of processes successfully signaled (which
is not necessarily the same as the number actually
killed).</p>

<p>$cnt = kill 1, $child1, $child2; kill 9, @goners;</p>

<p>If SIGNAL is zero, no signal is sent to the process, but
the kill(2) system call will check whether it s possible to
send a signal to it (that means, to be brief, that the
process is owned by the same user, or we are the
super-user). This is a useful way to check that a child
process is alive (even if only as a zombie) and hasn t
changed its UID. See perlport for notes on the portability
of this construct.</p>

<p>Unlike in the shell, if SIGNAL is negative, it kills
process groups instead of processes. (On System V, a
negative PROCESS number will also kill process groups, but
thats not portable.) That means you usually want to use
positive not negative signals. You may also use a signal
name in quotes.</p>

<p>See &quot;Signals&quot; in perlipc for more details.</p>

<p>last LABEL last The &quot;last&quot; command is like the
&quot;break&quot; statement in C (as used in loops); it
immediately exits the loop in question. If the LABEL is
omitted, the command refers to the innermost enclosing loop.
The &quot;continue&quot; block, if any, is not executed:</p>

<p>LINE: while (&lt;STDIN&gt;) { last LINE if /^$/; # exit
when done with header #... }</p>

<p>&quot;last&quot; cannot be used to exit a block which
returns a value such as &quot;eval {}&quot;, &quot;sub
{}&quot; or &quot;do {}&quot;, and should not be used to
exit a grep() or map() operation.</p>

<p>Note that a block by itself is semantically identical to
a loop that executes once. Thus &quot;last&quot; can be used
to effect an early exit out of such a block.</p>

<p>See also &quot;continue&quot; for an illustration of how
&quot;last&quot;, &quot;next&quot;, and &quot;redo&quot;
work.</p>

<p>lc EXPR lc Returns a lowercased version of EXPR. This is
the internal function implementing the &quot;scape in
double-quoted strings. Respects current LC_CTYPE locale if
&quot;use locale&quot; in force. See perllocale and
perlunicode for more details about locale and Unicode
support.</p>

<p>If EXPR is omitted, uses $_.</p>

<p>lcfirst EXPR lcfirst Returns the value of EXPR with the
first character lowercased. This is the internal function
implementing the &quot;scape in double-quoted strings.
Respects current LC_CTYPE locale if &quot;use locale&quot;
in force. See perllocale and perlunicode for more details
about locale and Unicode support.</p>

<p>If EXPR is omitted, uses $_.</p>

<p>length EXPR length Returns the length in characters of
the value of EXPR. If EXPR is omitted, returns length of $_.
Note that this cannot be used on an entire array or hash to
find out how many elements these have. For that, use
&quot;scalar @array&quot; and &quot;scalar keys %hash&quot;
respectively.</p>

<p>Note the characters: if the EXPR is in Unicode, you will
get the number of characters, not the number of bytes. To
get the length of the internal string in bytes, use
&quot;bytes::length(EXPR)&quot;, see bytes. Note that the
internal encoding is variable, and the number of bytes
usually meaningless. To get the number of bytes that the
string would have when encoded as UTF-8, use
&quot;length(Encoding::encode_utf8(EXPR))&quot;.</p>

<p>link OLDFILE,NEWFILE Creates a new filename linked to
the old filename. Returns true for success, false
otherwise.</p>

<p>listen SOCKET,QUEUESIZE Does the same thing that the
listen system call does. Returns true if it succeeded, false
otherwise. See the example in &quot;Sockets: Client/Server
Communication&quot; in perlipc.</p>

<p>local EXPR You really probably want to be using
&quot;my&quot; instead, because &quot;local&quot; isnt what
most people think of as &quot;local&quot;. See &quot;Private
Variables via my()&quot; in perlsub for details.</p>

<p>A local modifies the listed variables to be local to the
enclosing block, file, or eval. If more than one value is
listed, the list must be placed in parentheses. See
&quot;Temporary Values via local()&quot; in perlsub for
details, including issues with tied arrays and hashes.</p>

<p>localtime EXPR localtime Converts a time as returned by
the time function to a 9-element list with the time analyzed
for the local time zone. Typically used as follows:</p>

<p># 0 1 2 3 4 5 6 7 8
($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst) =
localtime(time);</p>

<p>All list elements are numeric, and come straight out of
the C struct tm. $sec, $min, and $hour are the seconds,
minutes, and hours of the specified time.</p>

<p>$mday is the day of the month, and $mon is the month
itself, in the range 0..11 with 0 indicating January and 11
indicating December. This makes it easy to get a month name
from a list:</p>

<p>my @abbr = qw( Jan Feb Mar Apr May Jun Jul Aug Sep Oct
Nov Dec ); print &quot;$abbr[$mon] $mday&quot;; # $mon=9,
$mday=18 gives &quot;Oct 18&quot;</p>

<p>$year is the number of years since 1900, not just the
last two digits of the year. That is, $year is 123 in year
2023. The proper way to get a complete 4-digit year is
simply:</p>

<p>$year += 1900;</p>

<p>Otherwise you create non-Y2K-compliant programs--and you
wouldnt want to do that, would you?</p>

<p>To get the last two digits of the year (e.g., 01 in
2001) do:</p>

<p>$year = sprintf(&quot;%02d&quot;, $year % 100);</p>

<p>$wday is the day of the week, with 0 indicating Sunday
and 3 indicating Wednesday. $yday is the day of the year, in
the range 0..364 (or 0..365 in leap years.)</p>

<p>$isdst is true if the specified time occurs during
Daylight Saving Time, false otherwise.</p>

<p>If EXPR is omitted, &quot;localtime()&quot; uses the
current time (as returned by time(3)).</p>

<p>In scalar context, &quot;localtime()&quot; returns the
ctime(3) value:</p>

<p>$now_string = localtime; # e.g., &quot;Thu Oct 13
04:54:34 1994&quot;</p>

<p>This scalar value is not locale dependent but is a Perl
builtin. For GMT instead of local time use the
&quot;gmtime&quot; builtin. See also the
&quot;Time::Local&quot; module (to convert the second,
minutes, hours, ... back to the integer value returned by
time()), and the POSIX modules strftime(3) and mktime(3)
functions.</p>

<p>To get somewhat similar but locale dependent date
strings, set up your locale environment variables
appropriately (please see perllocale) and try for
example:</p>

<p>use POSIX qw(strftime); $now_string = strftime &quot;%a
%b %e %H:%M:%S %Y&quot;, localtime; # or for GMT formatted
appropriately for your locale: $now_string = strftime
&quot;%a %b %e %H:%M:%S %Y&quot;, gmtime;</p>

<p>Note that the %a and %b, the short forms of the day of
the week and the month of the year, may not necessarily be
three characters wide.</p>

<p>See &quot;localtime&quot; in perlport for portability
concerns.</p>

<p>The Time::gmtime and Time::localtime modules provides a
convenient, by-name access mechanism to the gmtime() and
localtime() functions, respectively.</p>

<p>For a comprehensive date and time representation look at
the DateTime module on CPAN.</p>

<p>lock THING This function places an advisory lock on a
shared variable, or referenced object contained in THING
until the lock goes out of scope.</p>

<p>lock() is a &quot;weak keyword&quot; : this means that
if youve defined a function by this name (before any calls
to it), that function will be called instead. (However, if
you ve said &quot;use threads&quot;, lock() is always a
keyword.) See threads.</p>

<p>log EXPR log Returns the natural logarithm (base e) of
EXPR. If EXPR is omitted, returns log of $_. To get the log
of another base, use basic algebra: The base-N log of a
number is equal to the natural log of that number divided by
the natural log of N. For example:</p>

<p>sub log10 { my $n = shift; return log($n)/log(10); }</p>

<p>See also &quot;exp&quot; for the inverse operation.</p>

<p>lstat EXPR lstat Does the same thing as the
&quot;stat&quot; function (including setting the special
&quot;_&quot; filehandle) but stats a symbolic link instead
of the file the symbolic link points to. If symbolic links
are unimplemented on your system, a normal &quot;stat&quot;
is done. For much more detailed information, please see the
documentation for &quot;stat&quot;.</p>

<p>If EXPR is omitted, stats $_.</p>

<p>m// The match operator. See &quot;Regexp Quote-Like
Operators&quot; in perlop.</p>

<p>map BLOCK LIST map EXPR,LIST Evaluates the BLOCK or EXPR
for each element of LIST (locally setting $_ to each
element) and returns the list value composed of the results
of each such evaluation. In scalar context, returns the
total number of elements so generated. Evaluates BLOCK or
EXPR in list context, so each element of LIST may produce
zero, one, or more elements in the returned value.</p>

<p>@chars = map(chr, @nums);</p>

<p>translates a list of numbers to the corresponding
characters. And</p>

<p>%hash = map { get_a_key_for($_) =&gt; $_ } @array;</p>

<p>is just a funny way to write</p>

<p>%hash = (); foreach (@array) { $hash{get_a_key_for($_)}
= $_; }</p>

<p>Note that $_ is an alias to the list value, so it can be
used to modify the elements of the LIST. While this is
useful and supported, it can cause bizarre results if the
elements of LIST are not variables. Using a regular
&quot;foreach&quot; loop for this purpose would be clearer
in most cases. See also &quot;grep&quot; for an array
composed of those items of the original list for which the
BLOCK or EXPR evaluates to true.</p>

<p>If $_ is lexical in the scope where the &quot;map&quot;
appears (because it has been declared with &quot;my
$_&quot;), then, in addition to being locally aliased to the
list elements, $_ keeps being lexical inside the block; that
is, it cant be seen from the outside, avoiding any potential
side-effects.</p>

<p>&quot;{&quot; starts both hash references and blocks, so
&quot;map { ...&quot; could be either the start of map BLOCK
LIST or map EXPR, LIST. Because perl doesnt look ahead for
the closing &quot;}&quot; it has to take a guess at which
its dealing with based what it finds just after the
&quot;{&quot;. Usually it gets it right, but if it doesnt it
wont realize something is wrong until it gets to the
&quot;}&quot; and encounters the missing (or unexpected)
comma. The syntax error will be reported close to the
&quot;}&quot; but you ll need to change something near the
&quot;{&quot; such as using a unary &quot;+&quot; to give
perl some help:</p>

<p>%hash = map { &quot;&quot;, 1 } @array # perl guesses
EXPR. wrong %hash = map { +&quot;&quot;, 1 } @array # perl
guesses BLOCK. right %hash = map { (&quot;&quot;, 1) }
@array # this also works %hash = map { lc($_), 1 } @array #
as does this. %hash = map +( lc($_), 1 ), @array # this is
EXPR and works!</p>

<p>%hash = map ( lc($_), 1 ), @array # evaluates to (1,
@array)</p>

<p>or to force an anon hash constructor use
&quot;+{&quot;:</p>

<p>@hashes = map +{ lc($_), 1 }, @array # EXPR, so needs ,
at end</p>

<p>and you get list of anonymous hashes each with only 1
entry.</p>

<p>mkdir FILENAME,MASK mkdir FILENAME mkdir Creates the
directory specified by FILENAME, with permissions specified
by MASK (as modified by &quot;umask&quot;). If it succeeds
it returns true, otherwise it returns false and sets $!
(errno). If omitted, MASK defaults to 0777. If omitted,
FILENAME defaults to $_.</p>

<p>In general, it is better to create directories with
permissive MASK, and let the user modify that with their
&quot;umask&quot;, than it is to supply a restrictive MASK
and give the user no way to be more permissive. The
exceptions to this rule are when the file or directory
should be kept private (mail files, for instance). The
perlfunc(1) entry on &quot;umask&quot; discusses the choice
of MASK in more detail.</p>

<p>Note that according to the POSIX 1003.1-1996 the
FILENAME may have any number of trailing slashes. Some
operating and filesystems do not get this right, so Perl
automatically removes all trailing slashes to keep everyone
happy.</p>

<p>In order to recursively create a directory structure
look at the &quot;mkpath&quot; function of the File::Path
module.</p>

<p>msgctl ID,CMD,ARG Calls the System V IPC function
msgctl(2). Youll probably have to say</p>

<p>use IPC::SysV;</p>

<p>first to get the correct constant definitions. If CMD is
&quot;IPC_STAT&quot;, then ARG must be a variable that will
hold the returned &quot;msqid_ds&quot; structure. Returns
like &quot;ioctl&quot;: the undefined value for error,
&quot;0 but true&quot; for zero, or the actual return value
otherwise. See also &quot;SysV IPC&quot; in perlipc,
&quot;IPC::SysV&quot;, and &quot;IPC::Semaphore&quot;
documentation.</p>

<p>msgget KEY,FLAGS Calls the System V IPC function
msgget(2). Returns the message queue id, or the undefined
value if there is an error. See also &quot;SysV IPC&quot; in
perlipc and &quot;IPC::SysV&quot; and &quot;IPC::Msg&quot;
documentation.</p>

<p>msgrcv ID,VAR,SIZE,TYPE,FLAGS Calls the System V IPC
function msgrcv to receive a message from message queue ID
into variable VAR with a maximum message size of SIZE. Note
that when a message is received, the message type as a
native long integer will be the first thing in VAR, followed
by the actual message. This packing may be opened with
&quot;unpack(&quot;l! a*&quot;)&quot;. Taints the variable.
Returns true if successful, or false if there is an error.
See also &quot;SysV IPC&quot; in perlipc,
&quot;IPC::SysV&quot;, and &quot;IPC::SysV::Msg&quot;
documentation.</p>

<p>msgsnd ID,MSG,FLAGS Calls the System V IPC function
msgsnd to send the message MSG to the message queue ID. MSG
must begin with the native long integer message type, and be
followed by the length of the actual message, and finally
the message itself. This kind of packing can be achieved
with &quot;pack(&quot;l! a*&quot;, $type, $message)&quot;.
Returns true if successful, or false if there is an error.
See also &quot;IPC::SysV&quot; and
&quot;IPC::SysV::Msg&quot; documentation.</p>

<p>my EXPR my TYPE EXPR my EXPR : ATTRS my TYPE EXPR :
ATTRS A &quot;my&quot; declares the listed variables to be
local (lexically) to the enclosing block, file, or
&quot;eval&quot;. If more than one value is listed, the list
must be placed in parentheses.</p>

<p>The exact semantics and interface of TYPE and ATTRS are
still evolving. TYPE is currently bound to the use of
&quot;fields&quot; pragma, and attributes are handled using
the &quot;attributes&quot; pragma, or starting from Perl
5.8.0 also via the &quot;Attribute::Handlers&quot; module.
See &quot;Private Variables via my()&quot; in perlsub for
details, and fields, attributes, and
Attribute::Handlers.</p>

<p>next LABEL next The &quot;next&quot; command is like the
&quot;continue&quot; statement in C; it starts the next
iteration of the loop:</p>

<p>LINE: while (&lt;STDIN&gt;) { next LINE if /^#/; #
discard comments #... }</p>

<p>Note that if there were a &quot;continue&quot; block on
the above, it would get executed even on discarded lines. If
the LABEL is omitted, the command refers to the innermost
enclosing loop.</p>

<p>&quot;next&quot; cannot be used to exit a block which
returns a value such as &quot;eval {}&quot;, &quot;sub
{}&quot; or &quot;do {}&quot;, and should not be used to
exit a grep() or map() operation.</p>

<p>Note that a block by itself is semantically identical to
a loop that executes once. Thus &quot;next&quot; will exit
such a block early.</p>

<p>See also &quot;continue&quot; for an illustration of how
&quot;last&quot;, &quot;next&quot;, and &quot;redo&quot;
work.</p>

<p>no Module VERSION LIST no Module VERSION no Module LIST
no Module no VERSION See the &quot;use&quot; function, of
which &quot;no&quot; is the opposite.</p>

<p>oct EXPR oct Interprets EXPR as an octal string and
returns the corresponding value. (If EXPR happens to start
off with &quot;0x&quot;, interprets it as a hex string. If
EXPR starts off with &quot;0b&quot;, it is interpreted as a
binary string. Leading whitespace is ignored in all three
cases.) The following will handle decimal, binary, octal,
and hex in the standard Perl or C notation:</p>

<p>$val = oct($val) if $val =~ /^0/;</p>

<p>If EXPR is omitted, uses $_. To go the other way
(produce a number in octal), use sprintf() or printf():</p>

<p>$perms = (stat(&quot;filename&quot;))[2] &amp; 07777;
$oct_perms = sprintf &quot;%lo&quot;, $perms;</p>

<p>The oct() function is commonly used when a string such
as 644 needs to be converted into a file mode, for example.
(Although perl will automatically convert strings into
numbers as needed, this automatic conversion assumes base
10.)</p>

<p>open FILEHANDLE,EXPR open FILEHANDLE,MODE,EXPR open
FILEHANDLE,MODE,EXPR,LIST open FILEHANDLE,MODE,REFERENCE
open FILEHANDLE Opens the file whose filename is given by
EXPR, and associates it with FILEHANDLE.</p>

<p>Simple examples to open a file for reading:</p>

<p>open(my $fh, &rsquo;&lt;&rsquo;, &quot;input.txt&quot;)
or die $!;</p>

<p>and for writing:</p>

<p>open(my $fh, &rsquo;&gt;&rsquo;, &quot;output.txt&quot;)
or die $!;</p>

<p>(The following is a comprehensive reference to open():
for a gentler introduction you may consider
perlopentut.)</p>

<p>If FILEHANDLE is an undefined scalar variable (or array
or hash element) the variable is assigned a reference to a
new anonymous filehandle, otherwise if FILEHANDLE is an
expression, its value is used as the name of the real
filehandle wanted. (This is considered a symbolic reference,
so &quot;use strict &rsquo;refs&rsquo;&quot; should not be
in effect.)</p>

<p>If EXPR is omitted, the scalar variable of the same name
as the FILEHANDLE contains the filename. (Note that lexical
variables--those declared with &quot;my&quot;--will not work
for this purpose; so if youre using &quot;my&quot;, specify
EXPR in your call to open.)</p>

<p>If three or more arguments are specified then the mode
of opening and the file name are separate. If MODE is
&rsquo;&lt;&rsquo; or nothing, the file is opened for input.
If MODE is &rsquo;&gt;&rsquo;, the file is truncated and
opened for output, being created if necessary. If MODE is
&rsquo;&gt;&gt;&rsquo;, the file is opened for appending,
again being created if necessary.</p>

<p>You can put a &rsquo;+&rsquo; in front of the
&rsquo;&gt;&rsquo; or &rsquo;&lt;&rsquo; to indicate that
you want both read and write access to the file; thus
&rsquo;+&lt;&rsquo; is almost always preferred for
read/write updates--the &rsquo;+&gt;&rsquo; mode would
clobber the file first. You can t usually use either
read-write mode for updating textfiles, since they have
variable length records. See the -i switch in perlrun for a
better approach. The file is created with permissions of
0666 modified by the process &quot;umask&quot; value.</p>

<p>These various prefixes correspond to the fopen(3) modes
of &rsquo;r&rsquo;, &rsquo;r+&rsquo;, &rsquo;w&rsquo;,
&rsquo;w+&rsquo;, &rsquo;a&rsquo;, and &rsquo;a+&rsquo;.</p>

<p>In the 2-arguments (and 1-argument) form of the call the
mode and filename should be concatenated (in this order),
possibly separated by spaces. It is possible to omit the
mode in these forms if the mode is &rsquo;&lt;&rsquo;.</p>

<p>If the filename begins with &rsquo;|&rsquo;, the
filename is interpreted as a command to which output is to
be piped, and if the filename ends with a &rsquo;|&rsquo;,
the filename is interpreted as a command which pipes output
to us. See &quot;Using open() for IPC&quot; in perlipc for
more examples of this. (You are not allowed to
&quot;open&quot; to a command that pipes both in and out,
but see IPC::Open2, IPC::Open3, and &quot;Bidirectional
Communication with Another Process&quot; in perlipc for
alternatives.)</p>

<p>For three or more arguments if MODE is &rsquo;|-&rsquo;,
the filename is interpreted as a command to which output is
to be piped, and if MODE is &rsquo;-|&rsquo;, the filename
is interpreted as a command which pipes output to us. In the
2-arguments (and 1-argument) form one should replace dash
(&rsquo;-&rsquo;) with the command. See &quot;Using open()
for IPC&quot; in perlipc for more examples of this. (You are
not allowed to &quot;open&quot; to a command that pipes both
in and out, but see IPC::Open2, IPC::Open3, and
&quot;Bidirectional Communication&quot; in perlipc for
alternatives.)</p>

<p>In the three-or-more argument form of pipe opens, if
LIST is specified (extra arguments after the command name)
then LIST becomes arguments to the command invoked if the
platform supports it. The meaning of &quot;open&quot; with
more than three arguments for non-pipe modes is not yet
specified. Experimental &quot;layers&quot; may give extra
LIST arguments meaning.</p>

<p>In the 2-arguments (and 1-argument) form opening
&rsquo;-&rsquo; opens STDIN and opening &rsquo;&gt;-&rsquo;
opens STDOUT.</p>

<p>You may use the three-argument form of open to specify
IO &quot;layers&quot; (sometimes also referred to as
&quot;disciplines&quot;) to be applied to the handle that
affect how the input and output are processed (see open and
PerlIO for more details). For example</p>

<p>open(my $fh, &quot;&lt;:encoding(UTF-8)&quot;,
&quot;file&quot;)</p>

<p>will open the UTF-8 encoded file containing Unicode
characters, see perluniintro. Note that if layers are
specified in the three-arg form then default layers stored
in ${^OPEN} (see perlvar; usually set by the open pragma or
the switch -CioD) are ignored.</p>

<p>Open returns nonzero upon success, the undefined value
otherwise. If the &quot;open&quot; involved a pipe, the
return value happens to be the pid of the subprocess.</p>

<p>If you re running Perl on a system that distinguishes
between text files and binary files, then you should check
out &quot;binmode&quot; for tips for dealing with this. The
key distinction between systems that need
&quot;binmode&quot; and those that dont is their text file
formats. Systems like Unix, Mac OS, and Plan 9, which
delimit lines with a single character, and which encode that
character in C as &quot;0, do not need &quot;binmode&quot;.
The rest need it.</p>

<p>When opening a file, its usually a bad idea to continue
normal execution if the request failed, so &quot;open&quot;
is frequently used in connection with &quot;die&quot;. Even
if &quot;die&quot; won t do what you want (say, in a CGI
script, where you want to make a nicely formatted error
message (but there are modules that can help with that
problem)) you should always check the return value from
opening a file. The infrequent exception is when working
with an unopened filehandle is actually what you want to
do.</p>

<p>As a special case the 3-arg form with a read/write mode
and the third argument being &quot;undef&quot;:</p>

<p>open(my $tmp, &quot;+&gt;&quot;, undef) or die ...</p>

<p>opens a filehandle to an anonymous temporary file. Also
using &quot;+&lt;&quot; works for symmetry, but you really
should consider writing something to the temporary file
first. You will need to seek() to do the reading.</p>

<p>Since v5.8.0, perl has built using PerlIO by default.
Unless you ve changed this (i.e. Configure -Uuseperlio), you
can open file handles to &quot;in memory&quot; files held in
Perl scalars via:</p>

<p>open($fh, &rsquo;&gt;&rsquo;, ariable) || ..</p>

<p>Though if you try to re-open &quot;STDOUT&quot; or
&quot;STDERR&quot; as an &quot;in memory&quot; file, you
have to close it first:</p>

<p>close STDOUT; open STDOUT, &rsquo;&gt;&rsquo;, ariable
or die &quot;Can&rsquo;t open STDOUT: $!&quot;;</p>

<p>Examples:</p>

<p>$ARTICLE = 100; open ARTICLE or die &quot;Can&rsquo;t
find article $ARTICLE: $!0; while (&lt;ARTICLE&gt;) {...</p>

<p>open(LOG,
&rsquo;&gt;&gt;/usr/spool/news/twitlog&rsquo;); # (log is
reserved) # if the open fails, output is discarded</p>

<p>open(my $dbase, &rsquo;+&lt;&rsquo;,
&rsquo;dbase.mine&rsquo;) # open for update or die
&quot;Can&rsquo;t open &rsquo;dbase.mine&rsquo; for update:
$!&quot;;</p>

<p>open(my $dbase, &rsquo;+&lt;dbase.mine&rsquo;) # ditto
or die &quot;Can&rsquo;t open &rsquo;dbase.mine&rsquo; for
update: $!&quot;;</p>

<p>open(ARTICLE, &rsquo;-|&rsquo;, &quot;caesar
&lt;$article&quot;) # decrypt article or die
&quot;Can&rsquo;t start caesar: $!&quot;;</p>

<p>open(ARTICLE, &quot;caesar &lt;$article |&quot;) # ditto
or die &quot;Can&rsquo;t start caesar: $!&quot;;</p>

<p>open(EXTRACT, &quot;|sort &gt;Tmp$$&quot;) # $$ is our
process id or die &quot;Can&rsquo;t start sort:
$!&quot;;</p>

<p># in memory files open(MEMORY,&rsquo;&gt;&rsquo;, ar) or
die &quot;Can&rsquo;t open memory file: $!&quot;; print
MEMORY &quot;foo!0; # output will end up in $var</p>

<p># process argument list of files along with any
includes</p>

<p>foreach $file (@ARGV) { process($file,
&rsquo;fh00&rsquo;); }</p>

<p>sub process { my($filename, $input) = @_; $input++; #
this is a string increment unless (open($input, $filename))
{ print STDERR &quot;Can&rsquo;t open $filename: $!0;
return; }</p>

<p>local $_; while (&lt;$input&gt;) { # note use of
indirection if (/^#include &quot;(.*)&quot;/) { process($1,
$input); next; } #... # whatever } }</p>

<p>See perliol for detailed info on PerlIO.</p>

<p>You may also, in the Bourne shell tradition, specify an
EXPR beginning with &rsquo;&gt;&amp;&rsquo;, in which case
the rest of the string is interpreted as the name of a
filehandle (or file descriptor, if numeric) to be duped (as
dup(2)) and opened. You may use &quot;&amp;&quot; after
&quot;&gt;&quot;, &quot;&gt;&gt;&quot;, &quot;&lt;&quot;,
&quot;+&gt;&quot;, &quot;+&gt;&gt;&quot;, and
&quot;+&lt;&quot;. The mode you specify should match the
mode of the original filehandle. (Duping a filehandle does
not take into account any existing contents of IO buffers.)
If you use the 3-arg form then you can pass either a number,
the name of a filehandle or the normal &quot;reference to a
glob&quot;.</p>

<p>Here is a script that saves, redirects, and restores
&quot;STDOUT&quot; and &quot;STDERR&quot; using various
methods:</p>

<p>#!/usr/bin/perl open my $oldout,
&quot;&gt;&amp;STDOUT&quot; or die &quot;Can&rsquo;t dup
STDOUT: $!&quot;; open OLDERR, &quot;&gt;&amp;&quot;, TDERR
or die &quot;Can&rsquo;t dup STDERR: $!&quot;;</p>

<p>open STDOUT, &rsquo;&gt;&rsquo;, &quot;foo.out&quot; or
die &quot;Can&rsquo;t redirect STDOUT: $!&quot;; open
STDERR, &quot;&gt;&amp;STDOUT&quot; or die &quot;Can&rsquo;t
dup STDOUT: $!&quot;;</p>

<p>select STDERR; $| = 1; # make unbuffered select STDOUT;
$| = 1; # make unbuffered</p>

<p>print STDOUT &quot;stdout 10; # this works for print
STDERR &quot;stderr 10; # subprocesses too</p>

<p>open STDOUT, &quot;&gt;&amp;&quot;, $oldout or die
&quot;Can&rsquo;t dup ldout: $!&quot;; open STDERR,
&quot;&gt;&amp;OLDERR&quot; or die &quot;Can&rsquo;t dup
OLDERR: $!&quot;;</p>

<p>print STDOUT &quot;stdout 20; print STDERR &quot;stderr
20;</p>

<p>If you specify &rsquo;&lt;&amp;=X&rsquo;, where
&quot;X&quot; is a file descriptor number or a filehandle,
then Perl will do an equivalent of C s &quot;fdopen&quot; of
that file descriptor (and not call dup(2)); this is more
parsimonious of file descriptors. For example:</p>

<p># open for input, reusing the fileno of $fd
open(FILEHANDLE, &quot;&lt;&amp;=$fd&quot;)</p>

<p>or</p>

<p>open(FILEHANDLE, &quot;&lt;&amp;=&quot;, $fd)</p>

<p>or</p>

<p># open for append, using the fileno of OLDFH open(FH,
&quot;&gt;&gt;&amp;=&quot;, OLDFH)</p>

<p>or</p>

<p>open(FH, &quot;&gt;&gt;&amp;=OLDFH&quot;)</p>

<p>Being parsimonious on filehandles is also useful
(besides being parsimonious) for example when something is
dependent on file descriptors, like for example locking
using flock(). If you do just &quot;open(A,
&rsquo;&gt;&gt;&amp;B&rsquo;)&quot;, the filehandle A will
not have the same file descriptor as B, and therefore
flock(A) will not flock(B), and vice versa. But with
&quot;open(A, &rsquo;&gt;&gt;&amp;=B&rsquo;)&quot; the
filehandles will share the same file descriptor.</p>

<p>Note that if you are using Perls older than 5.8.0, Perl
will be using the standard C libraries fdopen() to implement
the &quot;=&quot; functionality. On many UNIX systems
fdopen() fails when file descriptors exceed a certain value,
typically 255. For Perls 5.8.0 and later, PerlIO is most
often the default.</p>

<p>You can see whether Perl has been compiled with PerlIO
or not by running &quot;perl -V&quot; and looking for
&quot;useperlio=&quot; line. If &quot;useperlio&quot; is
&quot;define&quot;, you have PerlIO, otherwise you dont.</p>

<p>If you open a pipe on the command &rsquo;-&rsquo;, i.e.,
either &rsquo;|-&rsquo; or &rsquo;-|&rsquo; with 2-arguments
(or 1-argument) form of open(), then there is an implicit
fork done, and the return value of open is the pid of the
child within the parent process, and 0 within the child
process. (Use &quot;defined($pid)&quot; to determine whether
the open was successful.) The filehandle behaves normally
for the parent, but i/o to that filehandle is piped from/to
the STDOUT/STDIN of the child process. In the child process
the filehandle isnt opened--i/o happens from/to the new
STDOUT or STDIN. Typically this is used like the normal
piped open when you want to exercise more control over just
how the pipe command gets executed, such as when you are
running setuid, and dont want to have to scan shell commands
for metacharacters. The following triples are more or less
equivalent:</p>

<p>open(FOO, &quot;|tr &rsquo;[a-z]&rsquo;
&rsquo;[A-Z]&rsquo;&quot;); open(FOO, &rsquo;|-&rsquo;,
&quot;tr &rsquo;[a-z]&rsquo; &rsquo;[A-Z]&rsquo;&quot;);
open(FOO, &rsquo;|-&rsquo;) || exec &rsquo;tr&rsquo;,
&rsquo;[a-z]&rsquo;, &rsquo;[A-Z]&rsquo;; open(FOO,
&rsquo;|-&rsquo;, &quot;tr&quot;, &rsquo;[a-z]&rsquo;,
&rsquo;[A-Z]&rsquo;);</p>

<p>open(FOO, &quot;cat -n &rsquo;$file&rsquo;|&quot;);
open(FOO, &rsquo;-|&rsquo;, &quot;cat -n
&rsquo;$file&rsquo;&quot;); open(FOO, &rsquo;-|&rsquo;) ||
exec &rsquo;cat&rsquo;, &rsquo;-n&rsquo;, $file; open(FOO,
&rsquo;-|&rsquo;, &quot;cat&quot;, &rsquo;-n&rsquo;,
$file);</p>

<p>The last example in each block shows the pipe as
&quot;list form&quot;, which is not yet supported on all
platforms. A good rule of thumb is that if your platform has
true &quot;fork()&quot; (in other words, if your platform is
UNIX) you can use the list form.</p>

<p>See &quot;Safe Pipe Opens&quot; in perlipc for more
examples of this.</p>

<p>Beginning with v5.6.0, Perl will attempt to flush all
files opened for output before any operation that may do a
fork, but this may not be supported on some platforms (see
perlport). To be safe, you may need to set $| ($AUTOFLUSH in
English) or call the &quot;autoflush()&quot; method of
&quot;IO::Handle&quot; on any open handles.</p>

<p>On systems that support a close-on-exec flag on files,
the flag will be set for the newly opened file descriptor as
determined by the value of $^F. See &quot;$^F&quot; in
perlvar.</p>

<p>Closing any piped filehandle causes the parent process
to wait for the child to finish, and returns the status
value in $? and &quot;${^CHILD_ERROR_NATIVE}&quot;.</p>

<p>The filename passed to 2-argument (or 1-argument) form
of open() will have leading and trailing whitespace deleted,
and the normal redirection characters honored. This
property, known as &quot;magic open&quot;, can often be used
to good effect. A user could specify a filename of &quot;rsh
cat file |&quot;, or you could change certain filenames as
needed:</p>

<p>$filename =~ s/(.*.gz)$/gzip -dc &lt; $1|/; open(FH,
$filename) or die &quot;Can&rsquo;t open $filename:
$!&quot;;</p>

<p>Use 3-argument form to open a file with arbitrary weird
characters in it,</p>

<p>open(FOO, &rsquo;&lt;&rsquo;, $file);</p>

<p>otherwise its necessary to protect any leading and
trailing whitespace:</p>

<p>$file =~ s#^(#./$1#; open(FOO, &quot;&lt; $file
&quot;);</p>

<p>(this may not work on some bizarre filesystems). One
should conscientiously choose between the magic and
3-arguments form of open():</p>

<p>open IN, $ARGV[0];</p>

<p>will allow the user to specify an argument of the form
&quot;rsh cat file |&quot;, but will not work on a filename
which happens to have a trailing space, while</p>

<p>open IN, &rsquo;&lt;&rsquo;, $ARGV[0];</p>

<p>will have exactly the opposite restrictions.</p>

<p>If you want a &quot;real&quot; C &quot;open&quot; (see
open(2) on your system), then you should use the
&quot;sysopen&quot; function, which involves no such magic
(but may use subtly different filemodes than Perl open(),
which is mapped to C fopen()). This is another way to
protect your filenames from interpretation. For example:</p>

<p>use IO::Handle; sysopen(HANDLE, $path,
O_RDWR|O_CREAT|O_EXCL) or die &quot;sysopen $path: $!&quot;;
$oldfh = select(HANDLE); $| = 1; select($oldfh); print
HANDLE &quot;stuff $$0; seek(HANDLE, 0, 0); print &quot;File
contains: &quot;, &lt;HANDLE&gt;;</p>

<p>Using the constructor from the &quot;IO::Handle&quot;
package (or one of its subclasses, such as
&quot;IO::File&quot; or &quot;IO::Socket&quot;), you can
generate anonymous filehandles that have the scope of
whatever variables hold references to them, and
automatically close whenever and however you leave that
scope:</p>

<p>use IO::File; #... sub read_myfile_munged { my $ALL =
shift; my $handle = IO::File-&gt;new; open($handle,
&quot;myfile&quot;) or die &quot;myfile: $!&quot;; $first =
&lt;$handle&gt; or return (); # Automatically closed here.
mung $first or die &quot;mung failed&quot;; # Or here.
return $first, &lt;$handle&gt; if $ALL; # Or here. $first; #
Or here. }</p>

<p>See &quot;seek&quot; for some details about mixing
reading and writing.</p>

<p>opendir DIRHANDLE,EXPR Opens a directory named EXPR for
processing by &quot;readdir&quot;, &quot;telldir&quot;,
&quot;seekdir&quot;, &quot;rewinddir&quot;, and
&quot;closedir&quot;. Returns true if successful. DIRHANDLE
may be an expression whose value can be used as an indirect
dirhandle, usually the real dirhandle name. If DIRHANDLE is
an undefined scalar variable (or array or hash element), the
variable is assigned a reference to a new anonymous
dirhandle. DIRHANDLEs have their own namespace separate from
FILEHANDLEs.</p>

<p>See example at &quot;readdir&quot;.</p>

<p>ord EXPR ord Returns the numeric (the native 8-bit
encoding, like ASCII or EBCDIC, or Unicode) value of the
first character of EXPR. If EXPR is omitted, uses $_.</p>

<p>For the reverse, see &quot;chr&quot;. See perlunicode
for more about Unicode.</p>

<p>our EXPR our TYPE EXPR our EXPR : ATTRS our TYPE EXPR :
ATTRS &quot;our&quot; associates a simple name with a
package variable in the current package for use within the
current scope. When &quot;use strict
&rsquo;vars&rsquo;&quot; is in effect, &quot;our&quot; lets
you use declared global variables without qualifying them
with package names, within the lexical scope of the
&quot;our&quot; declaration. In this way &quot;our&quot;
differs from &quot;use vars&quot;, which is package
scoped.</p>

<p>Unlike &quot;my&quot;, which both allocates storage for
a variable and associates a simple name with that storage
for use within the current scope, &quot;our&quot; associates
a simple name with a package variable in the current
package, for use within the current scope. In other words,
&quot;our&quot; has the same scoping rules as
&quot;my&quot;, but does not necessarily create a
variable.</p>

<p>If more than one value is listed, the list must be
placed in parentheses.</p>

<p>our $foo; our($bar, $baz);</p>

<p>An &quot;our&quot; declaration declares a global
variable that will be visible across its entire lexical
scope, even across package boundaries. The package in which
the variable is entered is determined at the point of the
declaration, not at the point of use. This means the
following behavior holds:</p>

<p>package Foo; our $bar; # declares $Foo::bar for rest of
lexical scope $bar = 20;</p>

<p>package Bar; print $bar; # prints 20, as it refers to
$Foo::bar</p>

<p>Multiple &quot;our&quot; declarations with the same name
in the same lexical scope are allowed if they are in
different packages. If they happen to be in the same
package, Perl will emit warnings if you have asked for them,
just like multiple &quot;my&quot; declarations. Unlike a
second &quot;my&quot; declaration, which will bind the name
to a fresh variable, a second &quot;our&quot; declaration in
the same package, in the same scope, is merely
redundant.</p>

<p>use warnings; package Foo; our $bar; # declares
$Foo::bar for rest of lexical scope $bar = 20;</p>

<p>package Bar; our $bar = 30; # declares $Bar::bar for
rest of lexical scope print $bar; # prints 30</p>

<p>our $bar; # emits warning but has no other effect print
$bar; # still prints 30</p>

<p>An &quot;our&quot; declaration may also have a list of
attributes associated with it.</p>

<p>The exact semantics and interface of TYPE and ATTRS are
still evolving. TYPE is currently bound to the use of
&quot;fields&quot; pragma, and attributes are handled using
the &quot;attributes&quot; pragma, or starting from Perl
5.8.0 also via the &quot;Attribute::Handlers&quot; module.
See &quot;Private Variables via my()&quot; in perlsub for
details, and fields, attributes, and
Attribute::Handlers.</p>

<p>pack TEMPLATE,LIST Takes a LIST of values and converts
it into a string using the rules given by the TEMPLATE. The
resulting string is the concatenation of the converted
values. Typically, each converted value looks like its
machine-level representation. For example, on 32-bit
machines an integer may be represented by a sequence of 4
bytes that will be converted to a sequence of 4
characters.</p>

<p>The TEMPLATE is a sequence of characters that give the
order and type of values, as follows:</p>

<p>a A string with arbitrary binary data, will be null
padded. A A text (ASCII) string, will be space padded. Z A
null terminated (ASCIZ) string, will be null padded.</p>

<p>b A bit string (ascending bit order inside each byte,
like vec()). B A bit string (descending bit order inside
each byte). h A hex string (low nybble first). H A hex
string (high nybble first).</p>

<p>c A signed char (8-bit) value. C An unsigned char
(octet) value. W An unsigned char value (can be greater than
255).</p>

<p>s A signed short (16-bit) value. S An unsigned short
value.</p>

<p>l A signed long (32-bit) value. L An unsigned long
value.</p>

<p>q A signed quad (64-bit) value. Q An unsigned quad
value. (Quads are available only if your system supports
64-bit integer values _and_ if Perl has been compiled to
support those. Causes a fatal error otherwise.)</p>

<p>i A signed integer value. I A unsigned integer value.
(This &rsquo;integer&rsquo; is _at_least_ 32 bits wide. Its
exact size depends on what a local C compiler calls
&rsquo;int&rsquo;.)</p>

<p>n An unsigned short (16-bit) in &quot;network&quot;
(big-endian) order. N An unsigned long (32-bit) in
&quot;network&quot; (big-endian) order. v An unsigned short
(16-bit) in &quot;VAX&quot; (little-endian) order. V An
unsigned long (32-bit) in &quot;VAX&quot; (little-endian)
order.</p>

<p>j A Perl internal signed integer value (IV). J A Perl
internal unsigned integer value (UV).</p>

<p>f A single-precision float in the native format. d A
double-precision float in the native format.</p>

<p>F A Perl internal floating point value (NV) in the
native format D A long double-precision float in the native
format. (Long doubles are available only if your system
supports long double values _and_ if Perl has been compiled
to support those. Causes a fatal error otherwise.)</p>

<p>p A pointer to a null-terminated string. P A pointer to
a structure (fixed-length string).</p>

<p>u A uuencoded string. U A Unicode character number.
Encodes to a character in character mode and UTF-8 (or
UTF-EBCDIC in EBCDIC platforms) in byte mode.</p>

<p>w A BER compressed integer (not an ASN.1 BER, see
perlpacktut for details). Its bytes represent an unsigned
integer in base 128, most significant digit first, with as
few digits as possible. Bit eight (the high bit) is set on
each byte except the last.</p>

<p>x A null byte. X Back up a byte. @ Null fill or truncate
to absolute position, counted from the start of the
innermost ()-group. . Null fill or truncate to absolute
position specified by value. ( Start of a ()-group.</p>

<p>One or more of the modifiers below may optionally follow
some letters in the TEMPLATE (the second column lists the
letters for which the modifier is valid):</p>

<p>! sSlLiI Forces native (short, long, int) sizes instead
of fixed (16-/32-bit) sizes.</p>

<p>xX Make x and X act as alignment commands.</p>

<p>nNvV Treat integers as signed instead of unsigned.</p>

<p>@. Specify position as byte offset in the internal
representation of the packed string. Efficient but
dangerous.</p>

<p>&gt; sSiIlLqQ Force big-endian byte-order on the type.
jJfFdDpP (The &quot;big end&quot; touches the
construct.)</p>

<p>&lt; sSiIlLqQ Force little-endian byte-order on the
type. jJfFdDpP (The &quot;little end&quot; touches the
construct.)</p>

<p>The &quot;&gt;&quot; and &quot;&lt;&quot; modifiers can
also be used on &quot;()&quot;-groups, in which case they
force a certain byte-order on all components of that group,
including subgroups.</p>

<p>The following rules apply:</p>

<p>&middot; Each letter may optionally be followed by a
number giving a repeat count. With all types except
&quot;a&quot;, &quot;A&quot;, &quot;Z&quot;, &quot;b&quot;,
&quot;B&quot;, &quot;h&quot;, &quot;H&quot;, &quot;@&quot;,
&quot;.&quot;, &quot;x&quot;, &quot;X&quot; and
&quot;P&quot; the pack function will gobble up that many
values from the LIST. A &quot;*&quot; for the repeat count
means to use however many items are left, except for
&quot;@&quot;, &quot;x&quot;, &quot;X&quot;, where it is
equivalent to 0, for &lt;.&gt; where it means relative to
string start and &quot;u&quot;, where it is equivalent to 1
(or 45, which is the same). A numeric repeat count may
optionally be enclosed in brackets, as in &quot;pack
&rsquo;C[80]&rsquo;, @arr&quot;.</p>

<p>One can replace the numeric repeat count by a template
enclosed in brackets; then the packed length of this
template in bytes is used as a count. For example,
&quot;x[L]&quot; skips a long (it skips the number of bytes
in a long); the template &quot;$t X[$t] $t&quot; unpack()s
twice what $t unpacks. If the template in brackets contains
alignment commands (such as &quot;x![d]&quot;), its packed
length is calculated as if the start of the template has the
maximal possible alignment.</p>

<p>When used with &quot;Z&quot;, &quot;*&quot; results in
the addition of a trailing null byte (so the packed result
will be one longer than the byte &quot;length&quot; of the
item).</p>

<p>When used with &quot;@&quot;, the repeat count
represents an offset from the start of the innermost ()
group.</p>

<p>When used with &quot;.&quot;, the repeat count is used
to determine the starting position from where the value
offset is calculated. If the repeat count is 0, its relative
to the current position. If the repeat count is
&quot;*&quot;, the offset is relative to the start of the
packed string. And if its an integer &quot;n&quot; the
offset is relative to the start of the n-th innermost ()
group (or the start of the string if &quot;n&quot; is bigger
then the group level).</p>

<p>The repeat count for &quot;u&quot; is interpreted as the
maximal number of bytes to encode per line of output, with
0, 1 and 2 replaced by 45. The repeat count should not be
more than 65.</p>

<p>&middot; The &quot;a&quot;, &quot;A&quot;, and
&quot;Z&quot; types gobble just one value, but pack it as a
string of length count, padding with nulls or spaces as
necessary. When unpacking, &quot;A&quot; strips trailing
whitespace and nulls, &quot;Z&quot; strips everything after
the first null, and &quot;a&quot; returns data verbatim.</p>

<p>If the value-to-pack is too long, it is truncated. If
too long and an explicit count is provided, &quot;Z&quot;
packs only &quot;$count-1&quot; bytes, followed by a null
byte. Thus &quot;Z&quot; always packs a trailing null
(except when the count is 0).</p>

<p>&middot; Likewise, the &quot;b&quot; and &quot;B&quot;
fields pack a string that many bits long. Each character of
the input field of pack() generates 1 bit of the result.
Each result bit is based on the least-significant bit of the
corresponding input character, i.e., on
&quot;ord($char)%2&quot;. In particular, characters
&quot;0&quot; and &quot;1&quot; generate bits 0 and 1, as do
characters &quot; &quot; and &quot;1&quot;.</p>

<p>Starting from the beginning of the input string of
pack(), each 8-tuple of characters is converted to 1
character of output. With format &quot;b&quot; the first
character of the 8-tuple determines the least- significant
bit of a character, and with format &quot;B&quot; it
determines the most-significant bit of a character.</p>

<p>If the length of the input string is not exactly
divisible by 8, the remainder is packed as if the input
string were padded by null characters at the end. Similarly,
during unpack()ing the &quot;extra&quot; bits are
ignored.</p>

<p>If the input string of pack() is longer than needed,
extra characters are ignored. A &quot;*&quot; for the repeat
count of pack() means to use all the characters of the input
field. On unpack()ing the bits are converted to a string of
&quot;0&quot;s and &quot;1&quot;s.</p>

<p>&middot; The &quot;h&quot; and &quot;H&quot; fields pack
a string that many nybbles (4-bit groups, representable as
hexadecimal digits, 0-9a-f) long.</p>

<p>Each character of the input field of pack() generates 4
bits of the result. For non-alphabetical characters the
result is based on the 4 least-significant bits of the input
character, i.e., on &quot;ord($char)%16&quot;. In
particular, characters &quot;0&quot; and &quot;1&quot;
generate nybbles 0 and 1, as do bytes &quot; &quot; and
&quot;1&quot;. For characters &quot;a&quot;..&quot;f&quot;
and &quot;A&quot;..&quot;F&quot; the result is compatible
with the usual hexadecimal digits, so that &quot;a&quot; and
&quot;A&quot; both generate the nybble &quot;0xa==10&quot;.
The result for characters &quot;g&quot;..&quot;z&quot; and
&quot;G&quot;..&quot;Z&quot; is not well-defined.</p>

<p>Starting from the beginning of the input string of
pack(), each pair of characters is converted to 1 character
of output. With format &quot;h&quot; the first character of
the pair determines the least-significant nybble of the
output character, and with format &quot;H&quot; it
determines the most-significant nybble.</p>

<p>If the length of the input string is not even, it
behaves as if padded by a null character at the end.
Similarly, during unpack()ing the &quot;extra&quot; nybbles
are ignored.</p>

<p>If the input string of pack() is longer than needed,
extra characters are ignored. A &quot;*&quot; for the repeat
count of pack() means to use all the characters of the input
field. On unpack()ing the nybbles are converted to a string
of hexadecimal digits.</p>

<p>&middot; The &quot;p&quot; type packs a pointer to a
null-terminated string. You are responsible for ensuring the
string is not a temporary value (which can potentially get
deallocated before you get around to using the packed
result). The &quot;P&quot; type packs a pointer to a
structure of the size indicated by the length. A NULL
pointer is created if the corresponding value for
&quot;p&quot; or &quot;P&quot; is &quot;undef&quot;,
similarly for unpack().</p>

<p>If your system has a strange pointer size (i.e. a
pointer is neither as big as an int nor as big as a long),
it may not be possible to pack or unpack pointers in big- or
little-endian byte order. Attempting to do so will result in
a fatal error.</p>

<p>&middot; The &quot;/&quot; template character allows
packing and unpacking of a sequence of items where the
packed structure contains a packed item count followed by
the packed items themselves.</p>

<p>For &quot;pack&quot; you write
length-item&quot;/&quot;sequence-item and the length-item
describes how the length value is packed. The ones likely to
be of most use are integer- packing ones like &quot;n&quot;
(for Java strings), &quot;w&quot; (for ASN.1 or SNMP) and
&quot;N&quot; (for Sun XDR).</p>

<p>For &quot;pack&quot;, the sequence-item may have a
repeat count, in which case the minimum of that and the
number of available items is used as argument for the
length- item. If it has no repeat count or uses a *, the
number of available items is used.</p>

<p>For &quot;unpack&quot; an internal stack of integer
arguments unpacked so far is used. You write
&quot;/&quot;sequence-item and the repeat count is obtained
by popping off the last element from the stack. The
sequence-item must not have a repeat count.</p>

<p>If the sequence-item refers to a string type
(&quot;A&quot;, &quot;a&quot; or &quot;Z&quot;), the
length-item is a string length, not a number of strings. If
there is an explicit repeat count for pack, the packed
string will be adjusted to that given length.</p>

<p>unpack &rsquo;W/a&rsquo;, &quot; 4Gurusamy&quot;; gives
(&rsquo;Guru&rsquo;) unpack &rsquo;a3/A A*&rsquo;,
&rsquo;007 Bond J &rsquo;; gives (&rsquo; Bond&rsquo;,
&rsquo;J&rsquo;) unpack &rsquo;a3 x2 /A A*&rsquo;,
&rsquo;007: Bond, J.&rsquo;; gives (&rsquo;Bond, J&rsquo;,
&rsquo;.&rsquo;) pack &rsquo;n/a*
w/a&rsquo;,&rsquo;hello,&rsquo;,&rsquo;world&rsquo;; gives
&quot; 00 06hello, 05world&quot; pack &rsquo;a/W2&rsquo;,
ord(&rsquo;a&rsquo;) .. ord(&rsquo;z&rsquo;); gives
&rsquo;2ab&rsquo;</p>

<p>The length-item is not returned explicitly from
&quot;unpack&quot;.</p>

<p>Adding a count to the length-item letter is unlikely to
do anything useful, unless that letter is &quot;A&quot;,
&quot;a&quot; or &quot;Z&quot;. Packing with a length-item
of &quot;a&quot; or &quot;Z&quot; may introduce &quot;
00&quot; characters, which Perl does not regard as legal in
numeric strings.</p>

<p>&middot; The integer types &quot;s&quot;, &quot;S&quot;,
&quot;l&quot;, and &quot;L&quot; may be followed by a
&quot;!&quot; modifier to signify native shorts or longs--as
you can see from above for example a bare &quot;l&quot; does
mean exactly 32 bits, the native &quot;long&quot; (as seen
by the local C compiler) may be larger. This is an issue
mainly in 64-bit platforms. You can see whether using
&quot;!&quot; makes any difference by</p>

<p>print length(pack(&quot;s&quot;)), &quot; &quot;,
length(pack(&quot;s!&quot;)), &quot;0; print
length(pack(&quot;l&quot;)), &quot; &quot;,
length(pack(&quot;l!&quot;)), &quot;0;</p>

<p>&quot;i!&quot; and &quot;I!&quot; also work but only
because of completeness; they are identical to &quot;i&quot;
and &quot;I&quot;.</p>

<p>The actual sizes (in bytes) of native shorts, ints,
longs, and long longs on the platform where Perl was built
are also available via Config:</p>

<p>use Config; print $Config{shortsize}, &quot;0; print
$Config{intsize}, &quot;0; print $Config{longsize}, &quot;0;
print $Config{longlongsize}, &quot;0;</p>

<p>(The $Config{longlongsize} will be undefined if your
system does not support long longs.)</p>

<p>&middot; The integer formats &quot;s&quot;,
&quot;S&quot;, &quot;i&quot;, &quot;I&quot;, &quot;l&quot;,
&quot;L&quot;, &quot;j&quot;, and &quot;J&quot; are
inherently non-portable between processors and operating
systems because they obey the native byteorder and
endianness. For example a 4-byte integer 0x12345678
(305419896 decimal) would be ordered natively (arranged in
and handled by the CPU registers) into bytes as</p>

<p>0x12 0x34 0x56 0x78 # big-endian 0x78 0x56 0x34 0x12 #
little-endian</p>

<p>Basically, the Intel and VAX CPUs are little-endian,
while everybody else, for example Motorola m68k/88k, PPC,
Sparc, HP PA, Power, and Cray are big-endian. Alpha and MIPS
can be either: Digital/Compaq used/uses them in
little-endian mode; SGI/Cray uses them in big- endian
mode.</p>

<p>The names big-endian and little-endian are comic
references to the classic &quot;Gulliver s Travels&quot;
(via the paper &quot;On Holy Wars and a Plea for Peace&quot;
by Danny Cohen, USC/ISI IEN 137, April 1, 1980) and the egg-
eating habits of the Lilliputians.</p>

<p>Some systems may have even weirder byte orders such
as</p>

<p>0x56 0x78 0x12 0x34 0x34 0x12 0x78 0x56</p>

<p>You can see your systems preference with</p>

<p>print join(&quot; &quot;, map { sprintf
&quot;%#02x&quot;, $_ }
unpack(&quot;W*&quot;,pack(&quot;L&quot;,0x12345678))),
&quot;0;</p>

<p>The byteorder on the platform where Perl was built is
also available via Config:</p>

<p>use Config; print $Config{byteorder}, &quot;0;</p>

<p>Byteorders &rsquo;1234&rsquo; and &rsquo;12345678&rsquo;
are little-endian, &rsquo;4321&rsquo; and
&rsquo;87654321&rsquo; are big-endian.</p>

<p>If you want portable packed integers you can either use
the formats &quot;n&quot;, &quot;N&quot;, &quot;v&quot;, and
&quot;V&quot;, or you can use the &quot;&gt;&quot; and
&quot;&lt;&quot; modifiers. These modifiers are only
available as of perl 5.9.2. See also perlport.</p>

<p>&middot; All integer and floating point formats as well
as &quot;p&quot; and &quot;P&quot; and &quot;()&quot;-groups
may be followed by the &quot;&gt;&quot; or &quot;&lt;&quot;
modifiers to force big- or little- endian byte- order,
respectively. This is especially useful, since
&quot;n&quot;, &quot;N&quot;, &quot;v&quot; and
&quot;V&quot; don t cover signed integers, 64-bit integers
and floating point values. However, there are some things to
keep in mind.</p>

<p>Exchanging signed integers between different platforms
only works if all platforms store them in the same format.
Most platforms store signed integers in twos complement, so
usually this is not an issue.</p>

<p>The &quot;&gt;&quot; or &quot;&lt;&quot; modifiers can
only be used on floating point formats on big- or
little-endian machines. Otherwise, attempting to do so will
result in a fatal error.</p>

<p>Forcing big- or little-endian byte-order on floating
point values for data exchange can only work if all
platforms are using the same binary representation (e.g.
IEEE floating point format). Even if all platforms are using
IEEE, there may be subtle differences. Being able to use
&quot;&gt;&quot; or &quot;&lt;&quot; on floating point
values can be very useful, but also very dangerous if you
dont know exactly what youre doing. It is definitely not a
general way to portably store floating point values.</p>

<p>When using &quot;&gt;&quot; or &quot;&lt;&quot; on an
&quot;()&quot;-group, this will affect all types inside the
group that accept the byte- order modifiers, including all
subgroups. It will silently be ignored for all other types.
You are not allowed to override the byte-order within a
group that already has a byte-order modifier suffix.</p>

<p>&middot; Real numbers (floats and doubles) are in the
native machine format only; due to the multiplicity of
floating formats around, and the lack of a standard
&quot;network&quot; representation, no facility for
interchange has been made. This means that packed floating
point data written on one machine may not be readable on
another - even if both use IEEE floating point arithmetic
(as the endian-ness of the memory representation is not part
of the IEEE spec). See also perlport.</p>

<p>If you know exactly what youre doing, you can use the
&quot;&gt;&quot; or &quot;&lt;&quot; modifiers to force big-
or little-endian byte-order on floating point values.</p>

<p>Note that Perl uses doubles (or long doubles, if
configured) internally for all numeric calculation, and
converting from double into float and thence back to double
again will lose precision (i.e., &quot;unpack(&quot;f&quot;,
pack(&quot;f&quot;, $foo)&quot;) will not in general equal
$foo).</p>

<p>&middot; Pack and unpack can operate in two modes,
character mode (&quot;C0&quot; mode) where the packed string
is processed per character and UTF-8 mode (&quot;U0&quot;
mode) where the packed string is processed in its
UTF-8-encoded Unicode form on a byte by byte basis.
Character mode is the default unless the format string
starts with an &quot;U&quot;. You can switch mode at any
moment with an explicit &quot;C0&quot; or &quot;U0&quot; in
the format. A mode is in effect until the next mode switch
or until the end of the ()-group in which it was
entered.</p>

<p>&middot; You must yourself do any alignment or padding
by inserting for example enough &rsquo;x&rsquo;es while
packing. There is no way to pack() and unpack() could know
where the characters are going to or coming from. Therefore
&quot;pack&quot; (and &quot;unpack&quot;) handle their
output and input as flat sequences of characters.</p>

<p>&middot; A ()-group is a sub-TEMPLATE enclosed in
parentheses. A group may take a repeat count, both as
postfix, and for unpack() also via the &quot;/&quot;
template character. Within each repetition of a group,
positioning with &quot;@&quot; starts again at 0. Therefore,
the result of</p>

<p>pack( &rsquo;@1A((@2A)@3A)&rsquo;, &rsquo;a&rsquo;,
&rsquo;b&rsquo;, &rsquo;c&rsquo; )</p>

<p>is the string &quot; a bc&quot;.</p>

<p>&middot; &quot;x&quot; and &quot;X&quot; accept
&quot;!&quot; modifier. In this case they act as alignment
commands: they jump forward/back to the closest position
aligned at a multiple of &quot;count&quot; characters. For
example, to pack() or unpack() Cs &quot;struct {char c;
double d; char cc[2]}&quot; one may need to use the template
&quot;W x![d] d W[2]&quot;; this assumes that doubles must
be aligned on the double s size.</p>

<p>For alignment commands &quot;count&quot; of 0 is
equivalent to &quot;count&quot; of 1; both result in
no-ops.</p>

<p>&middot; &quot;n&quot;, &quot;N&quot;, &quot;v&quot; and
&quot;V&quot; accept the &quot;!&quot; modifier. In this
case they will represent signed 16-/32-bit integers in
big-/little-endian order. This is only portable if all
platforms sharing the packed data use the same binary
representation for signed integers (e.g. all platforms are
using twos complement representation).</p>

<p>&middot; A comment in a TEMPLATE starts with
&quot;#&quot; and goes to the end of line. White space may
be used to separate pack codes from each other, but
modifiers and a repeat count must follow immediately.</p>

<p>&middot; If TEMPLATE requires more arguments to pack()
than actually given, pack() assumes additional &quot;&quot;
arguments. If TEMPLATE requires fewer arguments to pack()
than actually given, extra arguments are ignored.</p>

<p>Examples:</p>

<p>$foo = pack(&quot;WWWW&quot;,65,66,67,68); # foo eq
&quot;ABCD&quot; $foo = pack(&quot;W4&quot;,65,66,67,68); #
same thing $foo =
pack(&quot;W4&quot;,0x24b6,0x24b7,0x24b8,0x24b9); # same
thing with Unicode circled letters. $foo =
pack(&quot;U4&quot;,0x24b6,0x24b7,0x24b8,0x24b9); # same
thing with Unicode circled letters. You don&rsquo;t get the
UTF-8 # bytes because the U at the start of the format
caused a switch to # U0-mode, so the UTF-8 bytes get joined
into characters $foo =
pack(&quot;C0U4&quot;,0x24b6,0x24b7,0x24b8,0x24b9); # foo eq
&quot; # This is the UTF-8 encoding of the string in the
previous example</p>

<p>$foo = pack(&quot;ccxxcc&quot;,65,66,67,68); # foo eq
&quot;AB CD&quot;</p>

<p># note: the above examples featuring &quot;W&quot; and
&quot;c&quot; are true # only on ASCII and ASCII-derived
systems such as ISO Latin 1 # and UTF-8. In EBCDIC the first
example would be # $foo =
pack(&quot;WWWW&quot;,193,194,195,196);</p>

<p>$foo = pack(&quot;s2&quot;,1,2); # &quot;1 2 &quot; on
little-endian # &quot; 1 2&quot; on big-endian</p>

<p>$foo =
pack(&quot;a4&quot;,&quot;abcd&quot;,&quot;x&quot;,&quot;y&quot;,&quot;z&quot;);
# &quot;abcd&quot;</p>

<p>$foo =
pack(&quot;aaaa&quot;,&quot;abcd&quot;,&quot;x&quot;,&quot;y&quot;,&quot;z&quot;);
# &quot;axyz&quot;</p>

<p>$foo = pack(&quot;a14&quot;,&quot;abcdefg&quot;); #
&quot;abcdefg &quot;</p>

<p>$foo = pack(&quot;i9pl&quot;, gmtime); # a real struct
tm (on my system anyway)</p>

<p>$utmp_template = &quot;Z8 Z8 Z16 L&quot;; $utmp =
pack($utmp_template, @utmp1); # a struct utmp (BSDish)</p>

<p>@utmp2 = unpack($utmp_template, $utmp); #
&quot;@utmp1&quot; eq &quot;@utmp2&quot;</p>

<p>sub bintodec { unpack(&quot;N&quot;,
pack(&quot;B32&quot;, substr(&quot;0&quot; x 32 . shift,
-32))); }</p>

<p>$foo = pack(&rsquo;sx2l&rsquo;, 12, 34); # short 12, two
zero bytes padding, long 34 $bar = pack(&rsquo;s@4l&rsquo;,
12, 34); # short 12, zero fill to position 4, long 34 # $foo
eq $bar $baz = pack(&rsquo;s.l&rsquo;, 12, 4, 34); # short
12, zero fill to position 4, long 34</p>

<p>$foo = pack(&rsquo;nN&rsquo;, 42, 4711); # pack
big-endian 16- and 32-bit unsigned integers $foo =
pack(&rsquo;S&gt;L&gt;&rsquo;, 42, 4711); # exactly the same
$foo = pack(&rsquo;s&lt;l&lt;&rsquo;, -42, 4711); # pack
little-endian 16- and 32-bit signed integers $foo =
pack(&rsquo;(sl)&lt;&rsquo;, -42, 4711); # exactly the
same</p>

<p>The same template may generally also be used in
unpack().</p>

<p>package NAMESPACE package Declares the compilation unit
as being in the given namespace. The scope of the package
declaration is from the declaration itself through the end
of the enclosing block, file, or eval (the same as the
&quot;my&quot; operator). All further unqualified dynamic
identifiers will be in this namespace. A package statement
affects only dynamic variables--including those you ve used
&quot;local&quot; on--but not lexical variables, which are
created with &quot;my&quot;. Typically it would be the first
declaration in a file to be included by the
&quot;require&quot; or &quot;use&quot; operator. You can
switch into a package in more than one place; it merely
influences which symbol table is used by the compiler for
the rest of that block. You can refer to variables and
filehandles in other packages by prefixing the identifier
with the package name and a double colon:
$Package::Variable. If the package name is null, the
&quot;main&quot; package as assumed. That is, $::sail is
equivalent to $main::sail (as well as to
&quot;$main&rsquo;sail&quot;, still seen in older code).</p>

<p>See &quot;Packages&quot; in perlmod for more information
about packages, modules, and classes. See perlsub for other
scoping issues.</p>

<p>pipe READHANDLE,WRITEHANDLE Opens a pair of connected
pipes like the corresponding system call. Note that if you
set up a loop of piped processes, deadlock can occur unless
you are very careful. In addition, note that Perls pipes use
IO buffering, so you may need to set $| to flush your
WRITEHANDLE after each command, depending on the
application.</p>

<p>See IPC::Open2, IPC::Open3, and &quot;Bidirectional
Communication&quot; in perlipc for examples of such
things.</p>

<p>On systems that support a close-on-exec flag on files,
the flag will be set for the newly opened file descriptors
as determined by the value of $^F. See &quot;$^F&quot; in
perlvar.</p>

<p>pop ARRAY pop Pops and returns the last value of the
array, shortening the array by one element.</p>

<p>If there are no elements in the array, returns the
undefined value (although this may happen at other times as
well). If ARRAY is omitted, pops the @ARGV array in the main
program, and the @_ array in subroutines, just like
&quot;shift&quot;.</p>

<p>pos SCALAR pos Returns the offset of where the last
&quot;m//g&quot; search left off for the variable in
question ($_ is used when the variable is not specified).
Note that 0 is a valid match offset. &quot;undef&quot;
indicates that the search position is reset (usually due to
match failure, but can also be because no match has yet been
performed on the scalar). &quot;pos&quot; directly accesses
the location used by the regexp engine to store the offset,
so assigning to &quot;pos&quot; will change that offset, and
so will also influence the &quot;G&quot; zero-width
assertion in regular expressions. Because a failed
&quot;m//gc&quot; match doesnt reset the offset, the return
from &quot;pos&quot; wont change either in this case. See
perlre and perlop.</p>

<p>print FILEHANDLE LIST print LIST print Prints a string
or a list of strings. Returns true if successful. FILEHANDLE
may be a scalar variable name, in which case the variable
contains the name of or a reference to the filehandle, thus
introducing one level of indirection. (NOTE: If FILEHANDLE
is a variable and the next token is a term, it may be
misinterpreted as an operator unless you interpose a
&quot;+&quot; or put parentheses around the arguments.) If
FILEHANDLE is omitted, prints by default to standard output
(or to the last selected output channel--see
&quot;select&quot;). If LIST is also omitted, prints $_ to
the currently selected output channel. To set the default
output channel to something other than STDOUT use the select
operation. The current value of $, (if any) is printed
between each LIST item. The current value of &quot;$
printed. Because print takes a LIST, anything in the LIST is
evaluated in list context, and any subroutine that you call
will have one or more of its expressions evaluated in list
context. Also be careful not to follow the print keyword
with a left parenthesis unless you want the corresponding
right parenthesis to terminate the arguments to the
print--interpose a &quot;+&quot; or put parentheses around
all the arguments.</p>

<p>Note that if you re storing FILEHANDLEs in an array, or
if youre using any other expression more complex than a
scalar variable to retrieve it, you will have to use a block
returning the filehandle value instead:</p>

<p>print { $files[$i] } &quot;stuff0; print { $OK ? STDOUT
: STDERR } &quot;stuff0;</p>

<p>printf FILEHANDLE FORMAT, LIST printf FORMAT, LIST
Equivalent to &quot;print FILEHANDLE sprintf(FORMAT,
LIST)&quot;, except that &quot;$ first argument of the list
will be interpreted as the &quot;printf&quot; format. See
&quot;sprintf&quot; for an explanation of the format
argument. If &quot;use locale&quot; is in effect, and
POSIX::setlocale() has been called, the character used for
the decimal separator in formatted floating point numbers is
affected by the LC_NUMERIC locale. See perllocale and
POSIX.</p>

<p>Dont fall into the trap of using a &quot;printf&quot;
when a simple &quot;print&quot; would do. The
&quot;print&quot; is more efficient and less error
prone.</p>

<p>prototype FUNCTION Returns the prototype of a function
as a string (or &quot;undef&quot; if the function has no
prototype). FUNCTION is a reference to, or the name of, the
function whose prototype you want to retrieve.</p>

<p>If FUNCTION is a string starting with
&quot;CORE::&quot;, the rest is taken as a name for Perl
builtin. If the builtin is not overridable (such as
&quot;qw//&quot;) or if its arguments cannot be adequately
expressed by a prototype (such as &quot;system&quot;),
prototype() returns &quot;undef&quot;, because the builtin
does not really behave like a Perl function. Otherwise, the
string describing the equivalent prototype is returned.</p>

<p>push ARRAY,LIST Treats ARRAY as a stack, and pushes the
values of LIST onto the end of ARRAY. The length of ARRAY
increases by the length of LIST. Has the same effect as</p>

<p>for $value (LIST) { $ARRAY[++$#ARRAY] = $value; }</p>

<p>but is more efficient. Returns the number of elements in
the array following the completed &quot;push&quot;.</p>

<p>q/STRING/ qq/STRING/ qx/STRING/ qw/STRING/ Generalized
quotes. See &quot;Quote-Like Operators&quot; in perlop.</p>

<p>qr/STRING/ Regexp-like quote. See &quot;Regexp
Quote-Like Operators&quot; in perlop.</p>

<p>quotemeta EXPR quotemeta Returns the value of EXPR with
all non-&quot;word&quot; characters backslashed. (That is,
all characters not matching &quot;/[A-Za-z_0-9]/&quot; will
be preceded by a backslash in the returned string,
regardless of any locale settings.) This is the internal
function implementing the &quot;Q&quot; escape in double-
quoted strings.</p>

<p>If EXPR is omitted, uses $_.</p>

<p>rand EXPR rand Returns a random fractional number
greater than or equal to 0 and less than the value of EXPR.
(EXPR should be positive.) If EXPR is omitted, the value 1
is used. Currently EXPR with the value 0 is also
special-cased as 1 - this has not been documented before
perl 5.8.0 and is subject to change in future versions of
perl. Automatically calls &quot;srand&quot; unless
&quot;srand&quot; has already been called. See also
&quot;srand&quot;.</p>

<p>Apply &quot;int()&quot; to the value returned by
&quot;rand()&quot; if you want random integers instead of
random fractional numbers. For example,</p>

<p>int(rand(10))</p>

<p>returns a random integer between 0 and 9, inclusive.</p>

<p>(Note: If your rand function consistently returns
numbers that are too large or too small, then your version
of Perl was probably compiled with the wrong number of
RANDBITS.)</p>

<p>read FILEHANDLE,SCALAR,LENGTH,OFFSET read
FILEHANDLE,SCALAR,LENGTH Attempts to read LENGTH characters
of data into variable SCALAR from the specified FILEHANDLE.
Returns the number of characters actually read, 0 at end of
file, or undef if there was an error (in the latter case $!
is also set). SCALAR will be grown or shrunk so that the
last character actually read is the last character of the
scalar after the read.</p>

<p>An OFFSET may be specified to place the read data at
some place in the string other than the beginning. A
negative OFFSET specifies placement at that many characters
counting backwards from the end of the string. A positive
OFFSET greater than the length of SCALAR results in the
string being padded to the required size with &quot; &quot;
bytes before the result of the read is appended.</p>

<p>The call is actually implemented in terms of either
Perls or systems fread() call. To get a true read(2) system
call, see &quot;sysread&quot;.</p>

<p>Note the characters: depending on the status of the
filehandle, either (8-bit) bytes or characters are read. By
default all filehandles operate on bytes, but for example if
the filehandle has been opened with the &quot;:utf8&quot;
I/O layer (see &quot;open&quot;, and the &quot;open&quot;
pragma, open), the I/O will operate on UTF-8 encoded Unicode
characters, not bytes. Similarly for the
&quot;:encoding&quot; pragma: in that case pretty much any
characters can be read.</p>

<p>readdir DIRHANDLE Returns the next directory entry for a
directory opened by &quot;opendir&quot;. If used in list
context, returns all the rest of the entries in the
directory. If there are no more entries, returns an
undefined value in scalar context or a null list in list
context.</p>

<p>If youre planning to filetest the return values out of a
&quot;readdir&quot;, you d better prepend the directory in
question. Otherwise, because we didn t &quot;chdir&quot;
there, it would have been testing the wrong file.</p>

<p>opendir(my $dh, $some_dir) || die &quot;can&rsquo;t
opendir $some_dir: $!&quot;; @dots = grep { /^./ &amp;&amp;
-f &quot;$some_dir/$_&quot; } readdir($dh); closedir
$dh;</p>

<p>readline EXPR readline Reads from the filehandle whose
typeglob is contained in EXPR (or from *ARGV if EXPR is not
provided). In scalar context, each call reads and returns
the next line, until end-of-file is reached, whereupon the
subsequent call returns undef. In list context, reads until
end-of-file is reached and returns a list of lines. Note
that the notion of &quot;line&quot; used here is however you
may have defined it with $/ or $INPUT_RECORD_SEPARATOR). See
&quot;$/&quot; in perlvar.</p>

<p>When $/ is set to &quot;undef&quot;, when readline() is
in scalar context (i.e. file slurp mode), and when an empty
file is read, it returns &rsquo;&rsquo; the first time,
followed by &quot;undef&quot; subsequently.</p>

<p>This is the internal function implementing the
&quot;&lt;EXPR&gt;&quot; operator, but you can use it
directly. The &quot;&lt;EXPR&gt;&quot; operator is discussed
in more detail in &quot;I/O Operators&quot; in perlop.</p>

<p>$line = &lt;STDIN&gt;; $line = readline(*STDIN); # same
thing</p>

<p>If readline encounters an operating system error, $!
will be set with the corresponding error message. It can be
helpful to check $! when you are reading from filehandles
you dont trust, such as a tty or a socket. The following
example uses the operator form of &quot;readline&quot;, and
takes the necessary steps to ensure that
&quot;readline&quot; was successful.</p>

<p>for (;;) { undef $!; unless (defined( $line = &lt;&gt;
)) { last if eof; die $! if $!; } # ... }</p>

<p>readlink EXPR readlink Returns the value of a symbolic
link, if symbolic links are implemented. If not, gives a
fatal error. If there is some system error, returns the
undefined value and sets $! (errno). If EXPR is omitted,
uses $_.</p>

<p>readpipe EXPR readpipe EXPR is executed as a system
command. The collected standard output of the command is
returned. In scalar context, it comes back as a single
(potentially multi-line) string. In list context, returns a
list of lines (however you ve defined lines with $/ or
$INPUT_RECORD_SEPARATOR). This is the internal function
implementing the &quot;qx/EXPR/&quot; operator, but you can
use it directly. The &quot;qx/EXPR/&quot; operator is
discussed in more detail in &quot;I/O Operators&quot; in
perlop. If EXPR is omitted, uses $_.</p>

<p>recv SOCKET,SCALAR,LENGTH,FLAGS Receives a message on a
socket. Attempts to receive LENGTH characters of data into
variable SCALAR from the specified SOCKET filehandle. SCALAR
will be grown or shrunk to the length actually read. Takes
the same flags as the system call of the same name. Returns
the address of the sender if SOCKETs protocol supports this;
returns an empty string otherwise. If there s an error,
returns the undefined value. This call is actually
implemented in terms of recvfrom(2) system call. See
&quot;UDP: Message Passing&quot; in perlipc for
examples.</p>

<p>Note the characters: depending on the status of the
socket, either (8-bit) bytes or characters are received. By
default all sockets operate on bytes, but for example if the
socket has been changed using binmode() to operate with the
&quot;:encoding(utf8)&quot; I/O layer (see the
&quot;open&quot; pragma, open), the I/O will operate on
UTF-8 encoded Unicode characters, not bytes. Similarly for
the &quot;:encoding&quot; pragma: in that case pretty much
any characters can be read.</p>

<p>redo LABEL redo The &quot;redo&quot; command restarts
the loop block without evaluating the conditional again. The
&quot;continue&quot; block, if any, is not executed. If the
LABEL is omitted, the command refers to the innermost
enclosing loop. Programs that want to lie to themselves
about what was just input normally use this command:</p>

<p># a simpleminded Pascal comment stripper # (warning:
assumes no { or } in strings) LINE: while (&lt;STDIN&gt;) {
while (s|({.*}.*){.*}|$1 |) {} s|{.*}| |; if (s|{.*| |) {
$front = $_; while (&lt;STDIN&gt;) { if (/}/) { # end of
comment? s|^|$front|; redo LINE; } } } print; }</p>

<p>&quot;redo&quot; cannot be used to retry a block which
returns a value such as &quot;eval {}&quot;, &quot;sub
{}&quot; or &quot;do {}&quot;, and should not be used to
exit a grep() or map() operation.</p>

<p>Note that a block by itself is semantically identical to
a loop that executes once. Thus &quot;redo&quot; inside such
a block will effectively turn it into a looping
construct.</p>

<p>See also &quot;continue&quot; for an illustration of how
&quot;last&quot;, &quot;next&quot;, and &quot;redo&quot;
work.</p>

<p>ref EXPR ref Returns a non-empty string if EXPR is a
reference, the empty string otherwise. If EXPR is not
specified, $_ will be used. The value returned depends on
the type of thing the reference is a reference to. Builtin
types include:</p>

<p>SCALAR ARRAY HASH CODE REF GLOB LVALUE FORMAT IO VSTRING
Regexp</p>

<p>If the referenced object has been blessed into a
package, then that package name is returned instead. You can
think of &quot;ref&quot; as a &quot;typeof&quot;
operator.</p>

<p>if (ref($r) eq &quot;HASH&quot;) { print &quot;r is a
reference to a hash.0; } unless (ref($r)) { print &quot;r is
not a reference at all.0; }</p>

<p>The return value &quot;LVALUE&quot; indicates a
reference to an lvalue that is not a variable. You get this
from taking the reference of function calls like
&quot;pos()&quot; or &quot;substr()&quot;.
&quot;VSTRING&quot; is returned if the reference points to a
version string.</p>

<p>The result &quot;Regexp&quot; indicates that the
argument is a regular expression resulting from
&quot;qr//&quot;.</p>

<p>See also perlref.</p>

<p>rename OLDNAME,NEWNAME Changes the name of a file; an
existing file NEWNAME will be clobbered. Returns true for
success, false otherwise.</p>

<p>Behavior of this function varies wildly depending on
your system implementation. For example, it will usually not
work across file system boundaries, even though the system
mv command sometimes compensates for this. Other
restrictions include whether it works on directories, open
files, or pre- existing files. Check perlport and either the
rename(2) manpage or equivalent system documentation for
details.</p>

<p>For a platform independent &quot;move&quot; function
look at the File::Copy module.</p>

<p>require VERSION require EXPR require Demands a version
of Perl specified by VERSION, or demands some semantics
specified by EXPR or by $_ if EXPR is not supplied.</p>

<p>VERSION may be either a numeric argument such as 5.006,
which will be compared to $], or a literal of the form
v5.6.1, which will be compared to $^V (aka $PERL_VERSION). A
fatal error is produced at run time if VERSION is greater
than the version of the current Perl interpreter. Compare
with &quot;use&quot;, which can do a similar check at
compile time.</p>

<p>Specifying VERSION as a literal of the form v5.6.1
should generally be avoided, because it leads to misleading
error messages under earlier versions of Perl that do not
support this syntax. The equivalent numeric version should
be used instead.</p>

<p>require v5.6.1; # run time version check require 5.6.1;
# ditto require 5.006_001; # ditto; preferred for backwards
compatibility</p>

<p>Otherwise, &quot;require&quot; demands that a library
file be included if it hasnt already been included. The file
is included via the do-FILE mechanism, which is essentially
just a variety of &quot;eval&quot; with the caveat that
lexical variables in the invoking script will be invisible
to the included code. Has semantics similar to the following
subroutine:</p>

<p>sub require { my ($filename) = @_; if (exists
$INC{$filename}) { return 1 if $INC{$filename}; die
&quot;Compilation failed in require&quot;; } my
($realfilename,$result); ITER: { foreach $prefix (@INC) {
$realfilename = &quot;$prefix/$filename&quot;; if (-f
$realfilename) { $INC{$filename} = $realfilename; $result =
do $realfilename; last ITER; } } die &quot;Can&rsquo;t find
$filename in @INC&quot;; } if ($@) { $INC{$filename} =
undef; die $@; } elsif (!$result) { delete $INC{$filename};
die &quot;$filename did not return true value&quot;; } else
{ return $result; } }</p>

<p>Note that the file will not be included twice under the
same specified name.</p>

<p>The file must return true as the last statement to
indicate successful execution of any initialization code, so
its customary to end such a file with &quot;1;&quot; unless
you re sure itll return true otherwise. But its better just
to put the &quot;1;&quot;, in case you add more
statements.</p>

<p>If EXPR is a bareword, the require assumes a
&quot;.pm&quot; extension and replaces &quot;::&quot; with
&quot;/&quot; in the filename for you, to make it easy to
load standard modules. This form of loading of modules does
not risk altering your namespace.</p>

<p>In other words, if you try this:</p>

<p>require Foo::Bar; # a splendid bareword</p>

<p>The require function will actually look for the
&quot;Foo/Bar.pm&quot; file in the directories specified in
the @INC array.</p>

<p>But if you try this:</p>

<p>$class = &rsquo;Foo::Bar&rsquo;; require $class; #
$class is not a bareword #or require &quot;Foo::Bar&quot;; #
not a bareword because of the &quot;&quot;</p>

<p>The require function will look for the
&quot;Foo::Bar&quot; file in the @INC array and will
complain about not finding &quot;Foo::Bar&quot; there. In
this case you can do:</p>

<p>eval &quot;require $class&quot;;</p>

<p>Now that you understand how &quot;require&quot; looks
for files in the case of a bareword argument, there is a
little extra functionality going on behind the scenes.
Before &quot;require&quot; looks for a &quot;.pm&quot;
extension, it will first look for a similar filename with a
&quot;.pmc&quot; extension. If this file is found, it will
be loaded in place of any file ending in a &quot;.pm&quot;
extension.</p>

<p>You can also insert hooks into the import facility, by
putting directly Perl code into the @INC array. There are
three forms of hooks: subroutine references, array
references and blessed objects.</p>

<p>Subroutine references are the simplest case. When the
inclusion system walks through @INC and encounters a
subroutine, this subroutine gets called with two parameters,
the first being a reference to itself, and the second the
name of the file to be included (e.g.
&quot;Foo/Bar.pm&quot;). The subroutine should return
nothing, or a list of up to three values in the following
order:</p>

<p>1. A filehandle, from which the file will be read.</p>

<p>2. A reference to a subroutine. If there is no
filehandle (previous item), then this subroutine is expected
to generate one line of source code per call, writing the
line into $_ and returning 1, then returning 0 at &quot;end
of file&quot;. If there is a filehandle, then the subroutine
will be called to act as a simple source filter, with the
line as read in $_. Again, return 1 for each valid line, and
0 after all lines have been returned.</p>

<p>3. Optional state for the subroutine. The state is
passed in as $_[1]. A reference to the subroutine itself is
passed in as $_[0].</p>

<p>If an empty list, &quot;undef&quot;, or nothing that
matches the first 3 values above is returned then
&quot;require&quot; will look at the remaining elements of
@INC. Note that this file handle must be a real file handle
(strictly a typeglob, or reference to a typeglob, blessed or
unblessed) - tied file handles will be ignored and return
value processing will stop there.</p>

<p>If the hook is an array reference, its first element
must be a subroutine reference. This subroutine is called as
above, but the first parameter is the array reference. This
enables to pass indirectly some arguments to the
subroutine.</p>

<p>In other words, you can write:</p>

<p>push @INC, my_sub; sub my_sub { my ($coderef, $filename)
= @_; # $coderef is my_sub ... }</p>

<p>or:</p>

<p>push @INC, [ my_sub, $x, $y, ... ]; sub my_sub { my
($arrayref, $filename) = @_; # Retrieve $x, $y, ... my
@parameters = @$arrayref[1..$#$arrayref]; ... }</p>

<p>If the hook is an object, it must provide an INC method
that will be called as above, the first parameter being the
object itself. (Note that you must fully qualify the sub s
name, as unqualified &quot;INC&quot; is always forced into
package &quot;main&quot;.) Here is a typical code
layout:</p>

<p># In Foo.pm package Foo; sub new { ... } sub Foo::INC {
my ($self, $filename) = @_; ... }</p>

<p># In the main program push @INC, Foo-&gt;new(...);</p>

<p>Note that these hooks are also permitted to set the %INC
entry corresponding to the files they have loaded. See
&quot;%INC&quot; in perlvar.</p>

<p>For a yet-more-powerful import facility, see
&quot;use&quot; and perlmod.</p>

<p>reset EXPR reset Generally used in a
&quot;continue&quot; block at the end of a loop to clear
variables and reset &quot;??&quot; searches so that they
work again. The expression is interpreted as a list of
single characters (hyphens allowed for ranges). All
variables and arrays beginning with one of those letters are
reset to their pristine state. If the expression is omitted,
one-match searches (&quot;?pattern?&quot;) are reset to
match again. Resets only variables or searches in the
current package. Always returns 1. Examples:</p>

<p>reset &rsquo;X&rsquo;; # reset all X variables reset
&rsquo;a-z&rsquo;; # reset lower case variables reset; #
just reset ?one-time? searches</p>

<p>Resetting &quot;A-Z&quot; is not recommended because you
ll wipe out your @ARGV and @INC arrays and your %ENV hash.
Resets only package variables--lexical variables are
unaffected, but they clean themselves up on scope exit
anyway, so youll probably want to use them instead. See
&quot;my&quot;.</p>

<p>return EXPR return Returns from a subroutine,
&quot;eval&quot;, or &quot;do FILE&quot; with the value
given in EXPR. Evaluation of EXPR may be in list, scalar, or
void context, depending on how the return value will be
used, and the context may vary from one execution to the
next (see &quot;wantarray&quot;). If no EXPR is given,
returns an empty list in list context, the undefined value
in scalar context, and (of course) nothing at all in a void
context.</p>

<p>(Note that in the absence of an explicit
&quot;return&quot;, a subroutine, eval, or do FILE will
automatically return the value of the last expression
evaluated.)</p>

<p>reverse LIST In list context, returns a list value
consisting of the elements of LIST in the opposite order. In
scalar context, concatenates the elements of LIST and
returns a string value with all characters in the opposite
order.</p>

<p>print join(&quot;, &quot;, reverse &quot;world&quot;,
&quot;Hello&quot;); # Hello, world</p>

<p>print scalar reverse &quot;dlrow ,&quot;,
&quot;olleH&quot;; # Hello, world</p>

<p>Used without arguments in scalar context, reverse()
reverses $_.</p>

<p>$_ = &quot;dlrow ,olleH&quot;; print reverse; # No
output, list context print scalar reverse; # Hello,
world</p>

<p>This operator is also handy for inverting a hash,
although there are some caveats. If a value is duplicated in
the original hash, only one of those can be represented as a
key in the inverted hash. Also, this has to unwind one hash
and build a whole new one, which may take some time on a
large hash, such as from a DBM file.</p>

<p>%by_name = reverse %by_address; # Invert the hash</p>

<p>rewinddir DIRHANDLE Sets the current position to the
beginning of the directory for the &quot;readdir&quot;
routine on DIRHANDLE.</p>

<p>rindex STR,SUBSTR,POSITION rindex STR,SUBSTR Works just
like index() except that it returns the position of the last
occurrence of SUBSTR in STR. If POSITION is specified,
returns the last occurrence beginning at or before that
position.</p>

<p>rmdir FILENAME rmdir Deletes the directory specified by
FILENAME if that directory is empty. If it succeeds it
returns true, otherwise it returns false and sets $!
(errno). If FILENAME is omitted, uses $_.</p>

<p>To remove a directory tree recursively (&quot;rm
-rf&quot; on unix) look at the &quot;rmtree&quot; function
of the File::Path module.</p>

<p>s/// The substitution operator. See &quot;Regexp
Quote-Like Operators&quot; in perlop.</p>

<p>say FILEHANDLE LIST say LIST say Just like
&quot;print&quot;, but implicitly appends a newline.
&quot;say LIST&quot; is simply an abbreviation for &quot;{
local $ = &quot;0; print LIST }&quot;.</p>

<p>This keyword is only available when the &quot;say&quot;
feature is enabled: see feature.</p>

<p>scalar EXPR Forces EXPR to be interpreted in scalar
context and returns the value of EXPR.</p>

<p>@counts = ( scalar @a, scalar @b, scalar @c );</p>

<p>There is no equivalent operator to force an expression
to be interpolated in list context because in practice, this
is never needed. If you really wanted to do so, however, you
could use the construction &quot;@{[ (some expression)
]}&quot;, but usually a simple &quot;(some expression)&quot;
suffices.</p>

<p>Because &quot;scalar&quot; is unary operator, if you
accidentally use for EXPR a parenthesized list, this behaves
as a scalar comma expression, evaluating all but the last
element in void context and returning the final element
evaluated in scalar context. This is seldom what you
want.</p>

<p>The following single statement:</p>

<p>print uc(scalar(&amp;foo,$bar)),$baz;</p>

<p>is the moral equivalent of these two:</p>

<p>&amp;foo; print(uc($bar),$baz);</p>

<p>See perlop for more details on unary operators and the
comma operator.</p>

<p>seek FILEHANDLE,POSITION,WHENCE Sets FILEHANDLEs
position, just like the &quot;fseek&quot; call of
&quot;stdio&quot;. FILEHANDLE may be an expression whose
value gives the name of the filehandle. The values for
WHENCE are 0 to set the new position in bytes to POSITION, 1
to set it to the current position plus POSITION, and 2 to
set it to EOF plus POSITION (typically negative). For WHENCE
you may use the constants &quot;SEEK_SET&quot;,
&quot;SEEK_CUR&quot;, and &quot;SEEK_END&quot; (start of the
file, current position, end of the file) from the Fcntl
module. Returns 1 upon success, 0 otherwise.</p>

<p>Note the in bytes: even if the filehandle has been set
to operate on characters (for example by using the
&quot;:encoding(utf8)&quot; open layer), tell() will return
byte offsets, not character offsets (because implementing
that would render seek() and tell() rather slow).</p>

<p>If you want to position file for &quot;sysread&quot; or
&quot;syswrite&quot;, dont use &quot;seek&quot;--buffering
makes its effect on the file s system position unpredictable
and non-portable. Use &quot;sysseek&quot; instead.</p>

<p>Due to the rules and rigors of ANSI C, on some systems
you have to do a seek whenever you switch between reading
and writing. Amongst other things, this may have the effect
of calling stdios clearerr(3). A WHENCE of 1
(&quot;SEEK_CUR&quot;) is useful for not moving the file
position:</p>

<p>seek(TEST,0,1);</p>

<p>This is also useful for applications emulating
&quot;tail -f&quot;. Once you hit EOF on your read, and then
sleep for a while, you might have to stick in a seek() to
reset things. The &quot;seek&quot; doesnt change the current
position, but it does clear the end-of-file condition on the
handle, so that the next &quot;&lt;FILE&gt;&quot; makes Perl
try again to read something. We hope.</p>

<p>If that doesnt work (some IO implementations are
particularly cantankerous), then you may need something more
like this:</p>

<p>for (;;) { for ($curpos = tell(FILE); $_ = &lt;FILE&gt;;
$curpos = tell(FILE)) { # search for some stuff and put it
into files } sleep($for_a_while); seek(FILE, $curpos, 0);
}</p>

<p>seekdir DIRHANDLE,POS Sets the current position for the
&quot;readdir&quot; routine on DIRHANDLE. POS must be a
value returned by &quot;telldir&quot;. &quot;seekdir&quot;
also has the same caveats about possible directory
compaction as the corresponding system library routine.</p>

<p>select FILEHANDLE select Returns the currently selected
filehandle. If FILEHANDLE is supplied, sets the new current
default filehandle for output. This has two effects: first,
a &quot;write&quot; or a &quot;print&quot; without a
filehandle will default to this FILEHANDLE. Second,
references to variables related to output will refer to this
output channel. For example, if you have to set the top of
form format for more than one output channel, you might do
the following:</p>

<p>select(REPORT1); $^ = &rsquo;report1_top&rsquo;;
select(REPORT2); $^ = &rsquo;report2_top&rsquo;;</p>

<p>FILEHANDLE may be an expression whose value gives the
name of the actual filehandle. Thus:</p>

<p>$oldfh = select(STDERR); $| = 1; select($oldfh);</p>

<p>Some programmers may prefer to think of filehandles as
objects with methods, preferring to write the last example
as:</p>

<p>use IO::Handle; STDERR-&gt;autoflush(1);</p>

<p>select RBITS,WBITS,EBITS,TIMEOUT This calls the
select(2) system call with the bit masks specified, which
can be constructed using &quot;fileno&quot; and
&quot;vec&quot;, along these lines:</p>

<p>$rin = $win = $ein = &rsquo;&rsquo;;
vec($rin,fileno(STDIN),1) = 1; vec($win,fileno(STDOUT),1) =
1; $ein = $rin | $win;</p>

<p>If you want to select on many filehandles you might wish
to write a subroutine:</p>

<p>sub fhbits { my(@fhlist) = split(&rsquo; &rsquo;,$_[0]);
my($bits); for (@fhlist) { vec($bits,fileno($_),1) = 1; }
$bits; } $rin = fhbits(&rsquo;STDIN TTY SOCK&rsquo;);</p>

<p>The usual idiom is:</p>

<p>($nfound,$timeleft) = select($rout=$rin, $wout=$win,
$eout=$ein, $timeout);</p>

<p>or to block until something becomes ready just do
this</p>

<p>$nfound = select($rout=$rin, $wout=$win, $eout=$ein,
undef);</p>

<p>Most systems do not bother to return anything useful in
$timeleft, so calling select() in scalar context just
returns $nfound.</p>

<p>Any of the bit masks can also be undef. The timeout, if
specified, is in seconds, which may be fractional. Note: not
all implementations are capable of returning the $timeleft.
If not, they always return $timeleft equal to the supplied
$timeout.</p>

<p>You can effect a sleep of 250 milliseconds this way:</p>

<p>select(undef, undef, undef, 0.25);</p>

<p>Note that whether &quot;select&quot; gets restarted
after signals (say, SIGALRM) is implementation-dependent.
See also perlport for notes on the portability of
&quot;select&quot;.</p>

<p>On error, &quot;select&quot; behaves like the select(2)
system call : it returns -1 and sets $!.</p>

<p>Note: on some Unixes, the select(2) system call may
report a socket file descriptor as &quot;ready for
reading&quot;, when actually no data is available, thus a
subsequent read blocks. It can be avoided using always the
O_NONBLOCK flag on the socket. See select(2) and fcntl(2)
for further details.</p>

<p>WARNING: One should not attempt to mix buffered I/O
(like &quot;read&quot; or &lt;FH&gt;) with
&quot;select&quot;, except as permitted by POSIX, and even
then only on POSIX systems. You have to use
&quot;sysread&quot; instead.</p>

<p>semctl ID,SEMNUM,CMD,ARG Calls the System V IPC function
&quot;semctl&quot;. You ll probably have to say</p>

<p>use IPC::SysV;</p>

<p>first to get the correct constant definitions. If CMD is
IPC_STAT or GETALL, then ARG must be a variable that will
hold the returned semid_ds structure or semaphore value
array. Returns like &quot;ioctl&quot;: the undefined value
for error, &quot;&quot;0 but true&quot;&quot; for zero, or
the actual return value otherwise. The ARG must consist of a
vector of native short integers, which may be created with
&quot;pack(&quot;s!&quot;,(0)x$nsem)&quot;. See also
&quot;SysV IPC&quot; in perlipc, &quot;IPC::SysV&quot;,
&quot;IPC::Semaphore&quot; documentation.</p>

<p>semget KEY,NSEMS,FLAGS Calls the System V IPC function
semget. Returns the semaphore id, or the undefined value if
there is an error. See also &quot;SysV IPC&quot; in perlipc,
&quot;IPC::SysV&quot;, &quot;IPC::SysV::Semaphore&quot;
documentation.</p>

<p>semop KEY,OPSTRING Calls the System V IPC function semop
to perform semaphore operations such as signalling and
waiting. OPSTRING must be a packed array of semop
structures. Each semop structure can be generated with
&quot;pack(&quot;s!3&quot;, $semnum, $semop,
$semflag)&quot;. The length of OPSTRING implies the number
of semaphore operations. Returns true if successful, or
false if there is an error. As an example, the following
code waits on semaphore $semnum of semaphore id $semid:</p>

<p>$semop = pack(&quot;s!3&quot;, $semnum, -1, 0); die
&quot;Semaphore trouble: $!0 unless semop($semid,
$semop);</p>

<p>To signal the semaphore, replace &quot;-1&quot; with 1.
See also &quot;SysV IPC&quot; in perlipc,
&quot;IPC::SysV&quot;, and &quot;IPC::SysV::Semaphore&quot;
documentation.</p>

<p>send SOCKET,MSG,FLAGS,TO send SOCKET,MSG,FLAGS Sends a
message on a socket. Attempts to send the scalar MSG to the
SOCKET filehandle. Takes the same flags as the system call
of the same name. On unconnected sockets you must specify a
destination to send TO, in which case it does a C
&quot;sendto&quot;. Returns the number of characters sent,
or the undefined value if there is an error. The C system
call sendmsg(2) is currently unimplemented. See &quot;UDP:
Message Passing&quot; in perlipc for examples.</p>

<p>Note the characters: depending on the status of the
socket, either (8-bit) bytes or characters are sent. By
default all sockets operate on bytes, but for example if the
socket has been changed using binmode() to operate with the
&quot;:encoding(utf8)&quot; I/O layer (see &quot;open&quot;,
or the &quot;open&quot; pragma, open), the I/O will operate
on UTF-8 encoded Unicode characters, not bytes. Similarly
for the &quot;:encoding&quot; pragma: in that case pretty
much any characters can be sent.</p>

<p>setpgrp PID,PGRP Sets the current process group for the
specified PID, 0 for the current process. Will produce a
fatal error if used on a machine that doesnt implement POSIX
setpgid(2) or BSD setpgrp(2). If the arguments are omitted,
it defaults to &quot;0,0&quot;. Note that the BSD 4.2
version of &quot;setpgrp&quot; does not accept any
arguments, so only &quot;setpgrp(0,0)&quot; is portable. See
also &quot;POSIX::setsid()&quot;.</p>

<p>setpriority WHICH,WHO,PRIORITY Sets the current priority
for a process, a process group, or a user. (See
setpriority(2).) Will produce a fatal error if used on a
machine that doesn t implement setpriority(2).</p>

<p>setsockopt SOCKET,LEVEL,OPTNAME,OPTVAL Sets the socket
option requested. Returns undefined if there is an error.
Use integer constants provided by the &quot;Socket&quot;
module for LEVEL and OPNAME. Values for LEVEL can also be
obtained from getprotobyname. OPTVAL might either be a
packed string or an integer. An integer OPTVAL is shorthand
for pack(&quot;i&quot;, OPTVAL).</p>

<p>An example disabling the Nagles algorithm for a
socket:</p>

<p>use Socket qw(IPPROTO_TCP TCP_NODELAY);
setsockopt($socket, IPPROTO_TCP, TCP_NODELAY, 1);</p>

<p>shift ARRAY shift Shifts the first value of the array
off and returns it, shortening the array by 1 and moving
everything down. If there are no elements in the array,
returns the undefined value. If ARRAY is omitted, shifts the
@_ array within the lexical scope of subroutines and
formats, and the @ARGV array outside of a subroutine and
also within the lexical scopes established by the &quot;eval
STRING&quot;, &quot;BEGIN {}&quot;, &quot;INIT {}&quot;,
&quot;CHECK {}&quot;, &quot;UNITCHECK {}&quot; and &quot;END
{}&quot; constructs.</p>

<p>See also &quot;unshift&quot;, &quot;push&quot;, and
&quot;pop&quot;. &quot;shift&quot; and &quot;unshift&quot;
do the same thing to the left end of an array that
&quot;pop&quot; and &quot;push&quot; do to the right
end.</p>

<p>shmctl ID,CMD,ARG Calls the System V IPC function
shmctl. Youll probably have to say</p>

<p>use IPC::SysV;</p>

<p>first to get the correct constant definitions. If CMD is
&quot;IPC_STAT&quot;, then ARG must be a variable that will
hold the returned &quot;shmid_ds&quot; structure. Returns
like ioctl: the undefined value for error, &quot;0 but
true&quot; for zero, or the actual return value otherwise.
See also &quot;SysV IPC&quot; in perlipc and
&quot;IPC::SysV&quot; documentation.</p>

<p>shmget KEY,SIZE,FLAGS Calls the System V IPC function
shmget. Returns the shared memory segment id, or the
undefined value if there is an error. See also &quot;SysV
IPC&quot; in perlipc and &quot;IPC::SysV&quot;
documentation.</p>

<p>shmread ID,VAR,POS,SIZE shmwrite ID,STRING,POS,SIZE
Reads or writes the System V shared memory segment ID
starting at position POS for size SIZE by attaching to it,
copying in/out, and detaching from it. When reading, VAR
must be a variable that will hold the data read. When
writing, if STRING is too long, only SIZE bytes are used; if
STRING is too short, nulls are written to fill out SIZE
bytes. Return true if successful, or false if there is an
error. shmread() taints the variable. See also &quot;SysV
IPC&quot; in perlipc, &quot;IPC::SysV&quot; documentation,
and the &quot;IPC::Shareable&quot; module from CPAN.</p>

<p>shutdown SOCKET,HOW Shuts down a socket connection in
the manner indicated by HOW, which has the same
interpretation as in the system call of the same name.</p>

<p>shutdown(SOCKET, 0); # I/we have stopped reading data
shutdown(SOCKET, 1); # I/we have stopped writing data
shutdown(SOCKET, 2); # I/we have stopped using this
socket</p>

<p>This is useful with sockets when you want to tell the
other side you re done writing but not done reading, or vice
versa. Its also a more insistent form of close because it
also disables the file descriptor in any forked copies in
other processes.</p>

<p>Returns 1 for success. In the case of error, returns
&quot;undef&quot; if the first argument is not a valid
filehandle, or returns 0 and sets $! for any other
failure.</p>

<p>sin EXPR sin Returns the sine of EXPR (expressed in
radians). If EXPR is omitted, returns sine of $_.</p>

<p>For the inverse sine operation, you may use the
&quot;Math::Trig::asin&quot; function, or use this
relation:</p>

<p>sub asin { atan2($_[0], sqrt(1 - $_[0] * $_[0])) }</p>

<p>sleep EXPR sleep Causes the script to sleep for EXPR
seconds, or forever if no EXPR. Returns the number of
seconds actually slept.</p>

<p>May be interrupted if the process receives a signal such
as &quot;SIGALRM&quot;.</p>

<p>eval { local $SIG{ALARM} = sub { die &quot;Alarm!0 };
sleep; }; die $@ unless $@ eq &quot;Alarm!0;</p>

<p>You probably cannot mix &quot;alarm&quot; and
&quot;sleep&quot; calls, because &quot;sleep&quot; is often
implemented using &quot;alarm&quot;.</p>

<p>On some older systems, it may sleep up to a full second
less than what you requested, depending on how it counts
seconds. Most modern systems always sleep the full amount.
They may appear to sleep longer than that, however, because
your process might not be scheduled right away in a busy
multitasking system.</p>

<p>For delays of finer granularity than one second, the
Time::HiRes module (from CPAN, and starting from Perl 5.8
part of the standard distribution) provides usleep(). You
may also use Perl s four-argument version of select()
leaving the first three arguments undefined, or you might be
able to use the &quot;syscall&quot; interface to access
setitimer(2) if your system supports it. See perlfaq8 for
details.</p>

<p>See also the POSIX modules &quot;pause&quot;
function.</p>

<p>socket SOCKET,DOMAIN,TYPE,PROTOCOL Opens a socket of the
specified kind and attaches it to filehandle SOCKET. DOMAIN,
TYPE, and PROTOCOL are specified the same as for the system
call of the same name. You should &quot;use Socket&quot;
first to get the proper definitions imported. See the
examples in &quot;Sockets: Client/Server Communication&quot;
in perlipc.</p>

<p>On systems that support a close-on-exec flag on files,
the flag will be set for the newly opened file descriptor,
as determined by the value of $^F. See &quot;$^F&quot; in
perlvar.</p>

<p>socketpair SOCKET1,SOCKET2,DOMAIN,TYPE,PROTOCOL Creates
an unnamed pair of sockets in the specified domain, of the
specified type. DOMAIN, TYPE, and PROTOCOL are specified the
same as for the system call of the same name. If
unimplemented, yields a fatal error. Returns true if
successful.</p>

<p>On systems that support a close-on-exec flag on files,
the flag will be set for the newly opened file descriptors,
as determined by the value of $^F. See &quot;$^F&quot; in
perlvar.</p>

<p>Some systems defined &quot;pipe&quot; in terms of
&quot;socketpair&quot;, in which a call to &quot;pipe(Rdr,
Wtr)&quot; is essentially:</p>

<p>use Socket; socketpair(Rdr, Wtr, AF_UNIX, SOCK_STREAM,
PF_UNSPEC); shutdown(Rdr, 1); # no more writing for reader
shutdown(Wtr, 0); # no more reading for writer</p>

<p>See perlipc for an example of socketpair use. Perl 5.8
and later will emulate socketpair using IP sockets to
localhost if your system implements sockets but not
socketpair.</p>

<p>sort SUBNAME LIST sort BLOCK LIST sort LIST In list
context, this sorts the LIST and returns the sorted list
value. In scalar context, the behaviour of
&quot;sort()&quot; is undefined.</p>

<p>If SUBNAME or BLOCK is omitted, &quot;sort&quot;s in
standard string comparison order. If SUBNAME is specified,
it gives the name of a subroutine that returns an integer
less than, equal to, or greater than 0, depending on how the
elements of the list are to be ordered. (The
&quot;&lt;=&gt;&quot; and &quot;cmp&quot; operators are
extremely useful in such routines.) SUBNAME may be a scalar
variable name (unsubscripted), in which case the value
provides the name of (or a reference to) the actual
subroutine to use. In place of a SUBNAME, you can provide a
BLOCK as an anonymous, in-line sort subroutine.</p>

<p>If the subroutine s prototype is &quot;($$)&quot;, the
elements to be compared are passed by reference in @_, as
for a normal subroutine. This is slower than unprototyped
subroutines, where the elements to be compared are passed
into the subroutine as the package global variables $a and
$b (see example below). Note that in the latter case, it is
usually counter-productive to declare $a and $b as
lexicals.</p>

<p>The values to be compared are always passed by reference
and should not be modified.</p>

<p>You also cannot exit out of the sort block or subroutine
using any of the loop control operators described in perlsyn
or with &quot;goto&quot;.</p>

<p>When &quot;use locale&quot; is in effect, &quot;sort
LIST&quot; sorts LIST according to the current collation
locale. See perllocale.</p>

<p>sort() returns aliases into the original list, much as a
for loop s index variable aliases the list elements. That
is, modifying an element of a list returned by sort() (for
example, in a &quot;foreach&quot;, &quot;map&quot; or
&quot;grep&quot;) actually modifies the element in the
original list. This is usually something to be avoided when
writing clear code.</p>

<p>Perl 5.6 and earlier used a quicksort algorithm to
implement sort. That algorithm was not stable, and could go
quadratic. (A stable sort preserves the input order of
elements that compare equal. Although quicksorts run time is
O(NlogN) when averaged over all arrays of length N, the time
can be O(N**2), quadratic behavior, for some inputs.) In
5.7, the quicksort implementation was replaced with a stable
mergesort algorithm whose worst-case behavior is O(NlogN).
But benchmarks indicated that for some inputs, on some
platforms, the original quicksort was faster. 5.8 has a sort
pragma for limited control of the sort. Its rather blunt
control of the underlying algorithm may not persist into
future Perls, but the ability to characterize the input or
output in implementation independent ways quite probably
will. See the sort pragma.</p>

<p>Examples:</p>

<p># sort lexically @articles = sort @files;</p>

<p># same thing, but with explicit sort routine @articles =
sort {$a cmp $b} @files;</p>

<p># now case-insensitively @articles = sort {uc($a) cmp
uc($b)} @files;</p>

<p># same thing in reversed order @articles = sort {$b cmp
$a} @files;</p>

<p># sort numerically ascending @articles = sort {$a
&lt;=&gt; $b} @files;</p>

<p># sort numerically descending @articles = sort {$b
&lt;=&gt; $a} @files;</p>

<p># this sorts the %age hash by value instead of key #
using an in-line function @eldest = sort { $age{$b}
&lt;=&gt; $age{$a} } keys %age;</p>

<p># sort using explicit subroutine name sub byage {
$age{$a} &lt;=&gt; $age{$b}; # presuming numeric }
@sortedclass = sort byage @class;</p>

<p>sub backwards { $b cmp $a } @harry = qw(dog cat x Cain
Abel); @george = qw(gone chased yz Punished Axed); print
sort @harry; # prints AbelCaincatdogx print sort backwards
@harry; # prints xdogcatCainAbel print sort @george,
&rsquo;to&rsquo;, @harry; # prints
AbelAxedCainPunishedcatchaseddoggonetoxyz</p>

<p># inefficiently sort by descending numeric compare using
# the first integer after the first = sign, or the # whole
record case-insensitively otherwise</p>

<p>@new = sort { ($b =~ /=(+)/)[0] &lt;=&gt; ($a =~
/=(+)/)[0] || uc($a) cmp uc($b) } @old;</p>

<p># same thing, but much more efficiently; # we&rsquo;ll
build auxiliary indices instead # for speed @nums = @caps =
(); for (@old) { push @nums, /=(+)/; push @caps, uc($_);
}</p>

<p>@new = @old[ sort { $nums[$b] &lt;=&gt; $nums[$a] ||
$caps[$a] cmp $caps[$b] } 0..$#old ];</p>

<p># same thing, but without any temps @new = map {
$_-&gt;[0] } sort { $b-&gt;[1] &lt;=&gt; $a-&gt;[1] ||
$a-&gt;[2] cmp $b-&gt;[2] } map { [$_, /=(+)/, uc($_)] }
@old;</p>

<p># using a prototype allows you to use any comparison
subroutine # as a sort subroutine (including other
package&rsquo;s subroutines) package other; sub backwards
($$) { $_[1] cmp $_[0]; } # $a and $b are not set here</p>

<p>package main; @new = sort other::backwards @old;</p>

<p># guarantee stability, regardless of algorithm use sort
&rsquo;stable&rsquo;; @new = sort { substr($a, 3, 5) cmp
substr($b, 3, 5) } @old;</p>

<p># force use of mergesort (not portable outside Perl 5.8)
use sort &rsquo;_mergesort&rsquo;; # note discouraging _
@new = sort { substr($a, 3, 5) cmp substr($b, 3, 5) }
@old;</p>

<p>Warning: syntactical care is required when sorting the
list returned from a function. If you want to sort the list
returned by the function call
&quot;find_records(@key)&quot;, you can use:</p>

<p>@contact = sort { $a cmp $b } find_records @key;
@contact = sort +find_records(@key); @contact = sort
&amp;find_records(@key); @contact =
sort(find_records(@key));</p>

<p>If instead you want to sort the array @key with the
comparison routine &quot;find_records()&quot; then you can
use:</p>

<p>@contact = sort { find_records() } @key; @contact = sort
find_records(@key); @contact = sort(find_records @key);
@contact = sort(find_records (@key));</p>

<p>If youre using strict, you must not declare $a and $b as
lexicals. They are package globals. That means that if youre
in the &quot;main&quot; package and type</p>

<p>@articles = sort {$b &lt;=&gt; $a} @files;</p>

<p>then $a and $b are $main::a and $main::b (or $::a and
$::b), but if youre in the &quot;FooPack&quot; package, it s
the same as typing</p>

<p>@articles = sort {$FooPack::b &lt;=&gt; $FooPack::a}
@files;</p>

<p>The comparison function is required to behave. If it
returns inconsistent results (sometimes saying $x[1] is less
than $x[2] and sometimes saying the opposite, for example)
the results are not well-defined.</p>

<p>Because &quot;&lt;=&gt;&quot; returns &quot;undef&quot;
when either operand is &quot;NaN&quot; (not-a-number), and
because &quot;sort&quot; will trigger a fatal error unless
the result of a comparison is defined, when sorting with a
comparison function like &quot;$a &lt;=&gt; $b&quot;, be
careful about lists that might contain a &quot;NaN&quot;.
The following example takes advantage of the fact that
&quot;NaN != NaN&quot; to eliminate any &quot;NaN&quot;s
from the input.</p>

<p>@result = sort { $a &lt;=&gt; $b } grep { $_ == $_ }
@input;</p>

<p>splice ARRAY,OFFSET,LENGTH,LIST splice
ARRAY,OFFSET,LENGTH splice ARRAY,OFFSET splice ARRAY Removes
the elements designated by OFFSET and LENGTH from an array,
and replaces them with the elements of LIST, if any. In list
context, returns the elements removed from the array. In
scalar context, returns the last element removed, or
&quot;undef&quot; if no elements are removed. The array
grows or shrinks as necessary. If OFFSET is negative then it
starts that far from the end of the array. If LENGTH is
omitted, removes everything from OFFSET onward. If LENGTH is
negative, removes the elements from OFFSET onward except for
-LENGTH elements at the end of the array. If both OFFSET and
LENGTH are omitted, removes everything. If OFFSET is past
the end of the array, perl issues a warning, and splices at
the end of the array.</p>

<p>The following equivalences hold (assuming &quot;$[ == 0
and $#a &gt;= $i&quot; )</p>

<p>push(@a,$x,$y) splice(@a,@a,0,$x,$y) pop(@a)
splice(@a,-1) shift(@a) splice(@a,0,1) unshift(@a,$x,$y)
splice(@a,0,0,$x,$y) $a[$i] = $y splice(@a,$i,1,$y)</p>

<p>Example, assuming array lengths are passed before
arrays:</p>

<p>sub aeq { # compare two list values my(@a) =
splice(@_,0,shift); my(@b) = splice(@_,0,shift); return 0
unless @a == @b; # same len? while (@a) { return 0 if
pop(@a) ne pop(@b); } return 1; } if
(&amp;aeq($len,@foo[1..$len],0+@bar,@bar)) { ... }</p>

<p>split /PATTERN/,EXPR,LIMIT split /PATTERN/,EXPR split
/PATTERN/ split Splits the string EXPR into a list of
strings and returns that list. By default, empty leading
fields are preserved, and empty trailing ones are deleted.
(If all fields are empty, they are considered to be
trailing.)</p>

<p>In scalar context, returns the number of fields found.
In scalar and void context it splits into the @_ array. Use
of split in scalar and void context is deprecated, however,
because it clobbers your subroutine arguments.</p>

<p>If EXPR is omitted, splits the $_ string. If PATTERN is
also omitted, splits on whitespace (after skipping any
leading whitespace). Anything matching PATTERN is taken to
be a delimiter separating the fields. (Note that the
delimiter may be longer than one character.)</p>

<p>If LIMIT is specified and positive, it represents the
maximum number of fields the EXPR will be split into, though
the actual number of fields returned depends on the number
of times PATTERN matches within EXPR. If LIMIT is
unspecified or zero, trailing null fields are stripped
(which potential users of &quot;pop&quot; would do well to
remember). If LIMIT is negative, it is treated as if an
arbitrarily large LIMIT had been specified. Note that
splitting an EXPR that evaluates to the empty string always
returns the empty list, regardless of the LIMIT
specified.</p>

<p>A pattern matching the null string (not to be confused
with a null pattern &quot;//&quot;, which is just one member
of the set of patterns matching a null string) will split
the value of EXPR into separate characters at each point it
matches that way. For example:</p>

<p>print join(&rsquo;:&rsquo;, split(/ */, &rsquo;hi
there&rsquo;)), &quot;0;</p>

<p>produces the output h:i:t:h:e:r:e.</p>

<p>As a special case for &quot;split&quot;, using the empty
pattern &quot;//&quot; specifically matches only the null
string, and is not be confused with the regular use of
&quot;//&quot; to mean &quot;the last successful pattern
match&quot;. So, for &quot;split&quot;, the following:</p>

<p>print join(&rsquo;:&rsquo;, split(//, &rsquo;hi
there&rsquo;)), &quot;0;</p>

<p>produces the output h:i: :t:h:e:r:e.</p>

<p>Empty leading fields are produced when there are
positive-width matches at the beginning of the string; a
zero-width match at the beginning of the string does not
produce an empty field. For example:</p>

<p>print join(&rsquo;:&rsquo;, split(/(?=336);</p>

<p>produces the output h:i :t:h:e:r:e! . Empty trailing
fields, on the other hand, are produced when there is a
match at the end of the string (and when LIMIT is given and
is not 0), regardless of the length of the match. For
example:</p>

<p>print join(&rsquo;:&rsquo;, split(//, &rsquo;hi
there!&rsquo;, -1)), &quot;0; print join(&rsquo;:&rsquo;,
split(/W/, &rsquo;hi there!&rsquo;, -1)), &quot;0;</p>

<p>produce the output h:i: :t:h:e:r:e:!: and hi:there:,
respectively, both with an empty trailing field.</p>

<p>The LIMIT parameter can be used to split a line
partially</p>

<p>($login, $passwd, $remainder) = split(/:/, $_, 3);</p>

<p>When assigning to a list, if LIMIT is omitted, or zero,
Perl supplies a LIMIT one larger than the number of
variables in the list, to avoid unnecessary work. For the
list above LIMIT would have been 4 by default. In time
critical applications it behooves you not to split into more
fields than you really need.</p>

<p>If the PATTERN contains parentheses, additional list
elements are created from each matching substring in the
delimiter.</p>

<p>split(/([,-])/, &quot;1-10,20&quot;, 3);</p>

<p>produces the list value</p>

<p>(1, &rsquo;-&rsquo;, 10, &rsquo;,&rsquo;, 20)</p>

<p>If you had the entire header of a normal Unix email
message in $header, you could split it up into fields and
their values this way:</p>

<p>$header =~ s/0//g; # fix continuation lines %hdrs =
(UNIX_FROM =&gt; split /^(?):/m, $header);</p>

<p>The pattern &quot;/PATTERN/&quot; may be replaced with
an expression to specify patterns that vary at runtime. (To
do runtime compilation only once, use
&quot;/$variable/o&quot;.)</p>

<p>As a special case, specifying a PATTERN of space
(&rsquo; &rsquo;) will split on white space just as
&quot;split&quot; with no arguments does. Thus,
&quot;split(&rsquo; &rsquo;)&quot; can be used to emulate
awks default behavior, whereas &quot;split(/ /)&quot; will
give you as many null initial fields as there are leading
spaces. A &quot;split&quot; on &quot;/&quot; is like a
&quot;split(&rsquo; &rsquo;)&quot; except that any leading
whitespace produces a null first field. A &quot;split&quot;
with no arguments really does a &quot;split(&rsquo; &rsquo;,
$_)&quot; internally.</p>

<p>A PATTERN of &quot;/^/&quot; is treated as if it were
&quot;/^/m&quot;, since it isnt much use otherwise.</p>

<p>Example:</p>

<p>open(PASSWD, &rsquo;/etc/passwd&rsquo;); while
(&lt;PASSWD&gt;) { chomp; ($login, $passwd, $uid, $gid,
$gcos, $home, $shell) = split(/:/); #... }</p>

<p>As with regular pattern matching, any capturing
parentheses that are not matched in a &quot;split()&quot;
will be set to &quot;undef&quot; when returned:</p>

<p>@fields = split /(A)|B/, &quot;1A2B3&quot;; # @fields is
(1, &rsquo;A&rsquo;, 2, undef, 3)</p>

<p>sprintf FORMAT, LIST Returns a string formatted by the
usual &quot;printf&quot; conventions of the C library
function &quot;sprintf&quot;. See below for more details and
see sprintf(3) or printf(3) on your system for an
explanation of the general principles.</p>

<p>For example:</p>

<p># Format number with up to 8 leading zeroes $result =
sprintf(&quot;%08d&quot;, $number);</p>

<p># Round number to 3 digits after decimal point $rounded
= sprintf(&quot;%.3f&quot;, $number);</p>

<p>Perl does its own &quot;sprintf&quot; formatting--it
emulates the C function &quot;sprintf&quot;, but it doesnt
use it (except for floating- point numbers, and even then
only the standard modifiers are allowed). As a result, any
non-standard extensions in your local &quot;sprintf&quot;
are not available from Perl.</p>

<p>Unlike &quot;printf&quot;, &quot;sprintf&quot; does not
do what you probably mean when you pass it an array as your
first argument. The array is given scalar context, and
instead of using the 0th element of the array as the format,
Perl will use the count of elements in the array as the
format, which is almost never useful.</p>

<p>Perl s &quot;sprintf&quot; permits the following
universally-known conversions:</p>

<p>%% a percent sign %c a character with the given number
%s a string %d a signed integer, in decimal %u an unsigned
integer, in decimal %o an unsigned integer, in octal %x an
unsigned integer, in hexadecimal %e a floating-point number,
in scientific notation %f a floating-point number, in fixed
decimal notation %g a floating-point number, in %e or %f
notation</p>

<p>In addition, Perl permits the following widely-supported
conversions:</p>

<p>%X like %x, but using upper-case letters %E like %e, but
using an upper-case &quot;E&quot; %G like %g, but with an
upper-case &quot;E&quot; (if applicable) %b an unsigned
integer, in binary %B like %b, but using an upper-case
&quot;B&quot; with the # flag %p a pointer (outputs the Perl
value&rsquo;s address in hexadecimal) %n special: *stores*
the number of characters output so far into the next
variable in the parameter list</p>

<p>Finally, for backward (and we do mean
&quot;backward&quot;) compatibility, Perl permits these
unnecessary but widely- supported conversions:</p>

<p>%i a synonym for %d %D a synonym for %ld %U a synonym
for %lu %O a synonym for %lo %F a synonym for %f</p>

<p>Note that the number of exponent digits in the
scientific notation produced by %e, %E, %g and %G for
numbers with the modulus of the exponent less than 100 is
system-dependent: it may be three or less (zero-padded as
necessary). In other words, 1.23 times ten to the 99th may
be either &quot;1.23e99&quot; or &quot;1.23e099&quot;.</p>

<p>Between the &quot;%&quot; and the format letter, you may
specify a number of additional attributes controlling the
interpretation of the format. In order, these are:</p>

<p>format parameter index An explicit format parameter
index, such as &quot;2$&quot;. By default sprintf will
format the next unused argument in the list, but this allows
you to take the arguments out of order, e.g.:</p>

<p>printf &rsquo;%2$d %1$d&rsquo;, 12, 34; # prints
&quot;34 12&quot; printf &rsquo;%3$d %d %1$d&rsquo;, 1, 2,
3; # prints &quot;3 1 1&quot;</p>

<p>flags one or more of:</p>

<p>space prefix non-negative number with a space + prefix
non-negative number with a plus sign - left-justify within
the field 0 use zeros, not spaces, to right-justify # ensure
the leading &quot;0&quot; for any octal, prefix non-zero
hexadecimal with &quot;0x&quot; or &quot;0X&quot;, prefix
non-zero binary with &quot;0b&quot; or &quot;0B&quot;</p>

<p>For example:</p>

<p>printf &rsquo;&lt;% d&gt;&rsquo;, 12; # prints
&quot;&lt; 12&gt;&quot; printf &rsquo;&lt;%+d&gt;&rsquo;,
12; # prints &quot;&lt;+12&gt;&quot; printf
&rsquo;&lt;%6s&gt;&rsquo;, 12; # prints &quot;&lt;
12&gt;&quot; printf &rsquo;&lt;%-6s&gt;&rsquo;, 12; # prints
&quot;&lt;12 &gt;&quot; printf &rsquo;&lt;%06s&gt;&rsquo;,
12; # prints &quot;&lt;000012&gt;&quot; printf
&rsquo;&lt;%#o&gt;&rsquo;, 12; # prints
&quot;&lt;014&gt;&quot; printf &rsquo;&lt;%#x&gt;&rsquo;,
12; # prints &quot;&lt;0xc&gt;&quot; printf
&rsquo;&lt;%#X&gt;&rsquo;, 12; # prints
&quot;&lt;0XC&gt;&quot; printf &rsquo;&lt;%#b&gt;&rsquo;,
12; # prints &quot;&lt;0b1100&gt;&quot; printf
&rsquo;&lt;%#B&gt;&rsquo;, 12; # prints
&quot;&lt;0B1100&gt;&quot;</p>

<p>When a space and a plus sign are given as the flags at
once, a plus sign is used to prefix a positive number.</p>

<p>printf &rsquo;&lt;%+ d&gt;&rsquo;, 12; # prints
&quot;&lt;+12&gt;&quot; printf &rsquo;&lt;% +d&gt;&rsquo;,
12; # prints &quot;&lt;+12&gt;&quot;</p>

<p>When the # flag and a precision are given in the %o
conversion, the precision is incremented if it s necessary
for the leading &quot;0&quot;.</p>

<p>printf &rsquo;&lt;%#.5o&gt;&rsquo;, 012; # prints
&quot;&lt;00012&gt;&quot; printf
&rsquo;&lt;%#.5o&gt;&rsquo;, 012345; # prints
&quot;&lt;012345&gt;&quot; printf
&rsquo;&lt;%#.0o&gt;&rsquo;, 0; # prints
&quot;&lt;0&gt;&quot;</p>

<p>vector flag This flag tells perl to interpret the
supplied string as a vector of integers, one for each
character in the string. Perl applies the format to each
integer in turn, then joins the resulting strings with a
separator (a dot &quot;.&quot; by default). This can be
useful for displaying ordinal values of characters in
arbitrary strings:</p>

<p>printf &quot;%vd&quot;, &quot;AB&quot;; # prints
&quot;65.66.256&quot; printf &quot;version is v%vd0, $^V; #
Perl&rsquo;s version</p>

<p>Put an asterisk &quot;*&quot; before the &quot;v&quot;
to override the string to use to separate the numbers:</p>

<p>printf &quot;address is %*vX0, &quot;:&quot;, $addr; #
IPv6 address printf &quot;bits are %0*v8b0, &quot; &quot;,
$bits; # random bitstring</p>

<p>You can also explicitly specify the argument number to
use for the join string using e.g. &quot;*2$v&quot;:</p>

<p>printf &rsquo;%*4$vX %*4$vX %*4$vX&rsquo;, @addr[1..3],
&quot;:&quot;; # 3 IPv6 addresses</p>

<p>(minimum) width Arguments are usually formatted to be
only as wide as required to display the given value. You can
override the width by putting a number here, or get the
width from the next argument (with &quot;*&quot;) or from a
specified argument (with e.g. &quot;*2$&quot;):</p>

<p>printf &rsquo;&lt;%s&gt;&rsquo;, &quot;a&quot;; # prints
&quot;&lt;a&gt;&quot; printf &rsquo;&lt;%6s&gt;&rsquo;,
&quot;a&quot;; # prints &quot;&lt; a&gt;&quot; printf
&rsquo;&lt;%*s&gt;&rsquo;, 6, &quot;a&quot;; # prints
&quot;&lt; a&gt;&quot; printf &rsquo;&lt;%*2$s&gt;&rsquo;,
&quot;a&quot;, 6; # prints &quot;&lt; a&gt;&quot; printf
&rsquo;&lt;%2s&gt;&rsquo;, &quot;long&quot;; # prints
&quot;&lt;long&gt;&quot; (does not truncate)</p>

<p>If a field width obtained through &quot;*&quot; is
negative, it has the same effect as the &quot;-&quot; flag:
left-justification.</p>

<p>precision, or maximum width You can specify a precision
(for numeric conversions) or a maximum width (for string
conversions) by specifying a &quot;.&quot; followed by a
number. For floating point formats, with the exception of g
and G , this specifies the number of decimal places to show
(the default being 6), e.g.:</p>

<p># these examples are subject to system-specific
variation printf &rsquo;&lt;%f&gt;&rsquo;, 1; # prints
&quot;&lt;1.000000&gt;&quot; printf
&rsquo;&lt;%.1f&gt;&rsquo;, 1; # prints
&quot;&lt;1.0&gt;&quot; printf &rsquo;&lt;%.0f&gt;&rsquo;,
1; # prints &quot;&lt;1&gt;&quot; printf
&rsquo;&lt;%e&gt;&rsquo;, 10; # prints
&quot;&lt;1.000000e+01&gt;&quot; printf
&rsquo;&lt;%.1e&gt;&rsquo;, 10; # prints
&quot;&lt;1.0e+01&gt;&quot;</p>

<p>For g and G, this specifies the maximum number of digits
to show, including prior to the decimal point as well as
after it, e.g.:</p>

<p># these examples are subject to system-specific
variation printf &rsquo;&lt;%g&gt;&rsquo;, 1; # prints
&quot;&lt;1&gt;&quot; printf &rsquo;&lt;%.10g&gt;&rsquo;, 1;
# prints &quot;&lt;1&gt;&quot; printf
&rsquo;&lt;%g&gt;&rsquo;, 100; # prints
&quot;&lt;100&gt;&quot; printf &rsquo;&lt;%.1g&gt;&rsquo;,
100; # prints &quot;&lt;1e+02&gt;&quot; printf
&rsquo;&lt;%.2g&gt;&rsquo;, 100.01; # prints
&quot;&lt;1e+02&gt;&quot; printf &rsquo;&lt;%.5g&gt;&rsquo;,
100.01; # prints &quot;&lt;100.01&gt;&quot; printf
&rsquo;&lt;%.4g&gt;&rsquo;, 100.01; # prints
&quot;&lt;100&gt;&quot;</p>

<p>For integer conversions, specifying a precision implies
that the output of the number itself should be zero-padded
to this width, where the 0 flag is ignored:</p>

<p>printf &rsquo;&lt;%.6d&gt;&rsquo;, 1; # prints
&quot;&lt;000001&gt;&quot; printf
&rsquo;&lt;%+.6d&gt;&rsquo;, 1; # prints
&quot;&lt;+000001&gt;&quot; printf
&rsquo;&lt;%-10.6d&gt;&rsquo;, 1; # prints &quot;&lt;000001
&gt;&quot; printf &rsquo;&lt;%10.6d&gt;&rsquo;, 1; # prints
&quot;&lt; 000001&gt;&quot; printf
&rsquo;&lt;%010.6d&gt;&rsquo;, 1; # prints &quot;&lt;
000001&gt;&quot; printf &rsquo;&lt;%+10.6d&gt;&rsquo;, 1; #
prints &quot;&lt; +000001&gt;&quot;</p>

<p>printf &rsquo;&lt;%.6x&gt;&rsquo;, 1; # prints
&quot;&lt;000001&gt;&quot; printf
&rsquo;&lt;%#.6x&gt;&rsquo;, 1; # prints
&quot;&lt;0x000001&gt;&quot; printf
&rsquo;&lt;%-10.6x&gt;&rsquo;, 1; # prints &quot;&lt;000001
&gt;&quot; printf &rsquo;&lt;%10.6x&gt;&rsquo;, 1; # prints
&quot;&lt; 000001&gt;&quot; printf
&rsquo;&lt;%010.6x&gt;&rsquo;, 1; # prints &quot;&lt;
000001&gt;&quot; printf &rsquo;&lt;%#10.6x&gt;&rsquo;, 1; #
prints &quot;&lt; 0x000001&gt;&quot;</p>

<p>For string conversions, specifying a precision truncates
the string to fit in the specified width:</p>

<p>printf &rsquo;&lt;%.5s&gt;&rsquo;,
&quot;truncated&quot;; # prints &quot;&lt;trunc&gt;&quot;
printf &rsquo;&lt;%10.5s&gt;&rsquo;, &quot;truncated&quot;;
# prints &quot;&lt; trunc&gt;&quot;</p>

<p>You can also get the precision from the next argument
using &quot;.*&quot;:</p>

<p>printf &rsquo;&lt;%.6x&gt;&rsquo;, 1; # prints
&quot;&lt;000001&gt;&quot; printf
&rsquo;&lt;%.*x&gt;&rsquo;, 6, 1; # prints
&quot;&lt;000001&gt;&quot;</p>

<p>If a precision obtained through &quot;*&quot; is
negative, it has the same effect as no precision.</p>

<p>printf &rsquo;&lt;%.*s&gt;&rsquo;, 7,
&quot;string&quot;; # prints &quot;&lt;string&gt;&quot;
printf &rsquo;&lt;%.*s&gt;&rsquo;, 3, &quot;string&quot;; #
prints &quot;&lt;str&gt;&quot; printf
&rsquo;&lt;%.*s&gt;&rsquo;, 0, &quot;string&quot;; # prints
&quot;&lt;&gt;&quot; printf &rsquo;&lt;%.*s&gt;&rsquo;, -1,
&quot;string&quot;; # prints &quot;&lt;string&gt;&quot;</p>

<p>printf &rsquo;&lt;%.*d&gt;&rsquo;, 1, 0; # prints
&quot;&lt;0&gt;&quot; printf &rsquo;&lt;%.*d&gt;&rsquo;, 0,
0; # prints &quot;&lt;&gt;&quot; printf
&rsquo;&lt;%.*d&gt;&rsquo;, -1, 0; # prints
&quot;&lt;0&gt;&quot;</p>

<p>You cannot currently get the precision from a specified
number, but it is intended that this will be possible in the
future using e.g. &quot;.*2$&quot;:</p>

<p>printf &rsquo;&lt;%.*2$x&gt;&rsquo;, 1, 6; # INVALID,
but in future will print &quot;&lt;000001&gt;&quot;</p>

<p>size For numeric conversions, you can specify the size
to interpret the number as using &quot;l&quot;,
&quot;h&quot;, &quot;V&quot;, &quot;q&quot;, &quot;L&quot;,
or &quot;ll&quot;. For integer conversions (&quot;d u o x X
b i D U O&quot;), numbers are usually assumed to be whatever
the default integer size is on your platform (usually 32 or
64 bits), but you can override this to use instead one of
the standard C types, as supported by the compiler used to
build Perl:</p>

<p>l interpret integer as C type &quot;long&quot; or
&quot;unsigned long&quot; h interpret integer as C type
&quot;short&quot; or &quot;unsigned short&quot; q, L or ll
interpret integer as C type &quot;long long&quot;,
&quot;unsigned long long&quot;. or &quot;quads&quot;
(typically 64-bit integers)</p>

<p>The last will produce errors if Perl does not understand
&quot;quads&quot; in your installation. (This requires that
either the platform natively supports quads or Perl was
specifically compiled to support quads.) You can find out
whether your Perl supports quads via Config:</p>

<p>use Config; ($Config{use64bitint} eq
&rsquo;define&rsquo; || $Config{longsize} &gt;= 8)
&amp;&amp; print &quot;quads0;</p>

<p>For floating point conversions (&quot;e f g E F
G&quot;), numbers are usually assumed to be the default
floating point size on your platform (double or long
double), but you can force long double with &quot;q&quot;,
&quot;L&quot;, or &quot;ll&quot; if your platform supports
them. You can find out whether your Perl supports long
doubles via Config:</p>

<p>use Config; $Config{d_longdbl} eq &rsquo;define&rsquo;
&amp;&amp; print &quot;long doubles0;</p>

<p>You can find out whether Perl considers long double to
be the default floating point size to use on your platform
via Config:</p>

<p>use Config; ($Config{uselongdouble} eq
&rsquo;define&rsquo;) &amp;&amp; print &quot;long doubles by
default0;</p>

<p>It can also be the case that long doubles and doubles
are the same thing:</p>

<p>use Config; ($Config{doublesize} ==
$Config{longdblsize}) &amp;&amp; print &quot;doubles are
long doubles0;</p>

<p>The size specifier &quot;V&quot; has no effect for Perl
code, but it is supported for compatibility with XS code; it
means use the standard size for a Perl integer (or
floating-point number), which is already the default for
Perl code.</p>

<p>order of arguments Normally, sprintf takes the next
unused argument as the value to format for each format
specification. If the format specification uses
&quot;*&quot; to require additional arguments, these are
consumed from the argument list in the order in which they
appear in the format specification before the value to
format. Where an argument is specified using an explicit
index, this does not affect the normal order for the
arguments (even when the explicitly specified index would
have been the next argument in any case).</p>

<p>So:</p>

<p>printf &rsquo;&lt;%*.*s&gt;&rsquo;, $a, $b, $c;</p>

<p>would use $a for the width, $b for the precision and $c
as the value to format, while:</p>

<p>printf &rsquo;&lt;%*1$.*s&gt;&rsquo;, $a, $b;</p>

<p>would use $a for the width and the precision, and $b as
the value to format.</p>

<p>Here are some more examples - beware that when using an
explicit index, the &quot;$&quot; may need to be
escaped:</p>

<p>printf &quot;%2 %d0, 12, 34; # will print &quot;34 120
printf &quot;%2 %d %d0, 12, 34; # will print &quot;34 12 340
printf &quot;%3 %d %d0, 12, 34, 56; # will print &quot;56 12
340 printf &quot;%23 %d0, 12, 34, 3; # will print &quot; 34
120</p>

<p>If &quot;use locale&quot; is in effect, and
POSIX::setlocale() has been called, the character used for
the decimal separator in formatted floating point numbers is
affected by the LC_NUMERIC locale. See perllocale and
POSIX.</p>

<p>sqrt EXPR sqrt Return the square root of EXPR. If EXPR
is omitted, returns square root of $_. Only works on
non-negative operands, unless youve loaded the standard
Math::Complex module.</p>

<p>use Math::Complex; print sqrt(-2); # prints
1.4142135623731i</p>

<p>srand EXPR srand Sets the random number seed for the
&quot;rand&quot; operator.</p>

<p>The point of the function is to &quot;seed&quot; the
&quot;rand&quot; function so that &quot;rand&quot; can
produce a different sequence each time you run your
program.</p>

<p>If srand() is not called explicitly, it is called
implicitly at the first use of the &quot;rand&quot;
operator. However, this was not the case in versions of Perl
before 5.004, so if your script will run under older Perl
versions, it should call &quot;srand&quot;.</p>

<p>Most programs won t even call srand() at all, except
those that need a cryptographically-strong starting point
rather than the generally acceptable default, which is based
on time of day, process ID, and memory allocation, or the
/dev/urandom device, if available.</p>

<p>You can call srand($seed) with the same $seed to
reproduce the same sequence from rand(), but this is usually
reserved for generating predictable results for testing or
debugging. Otherwise, don t call srand() more than once in
your program.</p>

<p>Do not call srand() (i.e. without an argument) more than
once in a script. The internal state of the random number
generator should contain more entropy than can be provided
by any seed, so calling srand() again actually loses
randomness.</p>

<p>Most implementations of &quot;srand&quot; take an
integer and will silently truncate decimal numbers. This
means &quot;srand(42)&quot; will usually produce the same
results as &quot;srand(42.1)&quot;. To be safe, always pass
&quot;srand&quot; an integer.</p>

<p>In versions of Perl prior to 5.004 the default seed was
just the current &quot;time&quot;. This isnt a particularly
good seed, so many old programs supply their own seed value
(often &quot;time ^ $$&quot; or &quot;time ^ ($$ + ($$
&lt;&lt; 15))&quot;), but that isn t necessary any more.</p>

<p>For cryptographic purposes, however, you need something
much more random than the default seed. Checksumming the
compressed output of one or more rapidly changing operating
system status programs is the usual method. For example:</p>

<p>srand (time ^ $$ ^ unpack &quot;%L*&quot;, &lsquo;ps
axww | gzip -f&lsquo;);</p>

<p>If youre particularly concerned with this, see the
&quot;Math::TrulyRandom&quot; module in CPAN.</p>

<p>Frequently called programs (like CGI scripts) that
simply use</p>

<p>time ^ $$</p>

<p>for a seed can fall prey to the mathematical property
that</p>

<p>a^b == (a+1)^(b+1)</p>

<p>one-third of the time. So dont do that.</p>

<p>stat FILEHANDLE stat EXPR stat DIRHANDLE stat Returns a
13-element list giving the status info for a file, either
the file opened via FILEHANDLE or DIRHANDLE, or named by
EXPR. If EXPR is omitted, it stats $_. Returns a null list
if the stat fails. Typically used as follows:</p>

<p>($dev,$ino,$mode,$nlink,$uid,$gid,$rdev,$size,
$atime,$mtime,$ctime,$blksize,$blocks) =
stat($filename);</p>

<p>Not all fields are supported on all filesystem types.
Here are the meanings of the fields:</p>

<p>0 dev device number of filesystem 1 ino inode number 2
mode file mode (type and permissions) 3 nlink number of
(hard) links to the file 4 uid numeric user ID of
file&rsquo;s owner 5 gid numeric group ID of file&rsquo;s
owner 6 rdev the device identifier (special files only) 7
size total size of file, in bytes 8 atime last access time
in seconds since the epoch 9 mtime last modify time in
seconds since the epoch 10 ctime inode change time in
seconds since the epoch (*) 11 blksize preferred block size
for file system I/O 12 blocks actual number of blocks
allocated</p>

<p>(The epoch was at 00:00 January 1, 1970 GMT.)</p>

<p>(*) Not all fields are supported on all filesystem
types. Notably, the ctime field is non-portable. In
particular, you cannot expect it to be a &quot;creation
time&quot;, see &quot;Files and Filesystems&quot; in
perlport for details.</p>

<p>If &quot;stat&quot; is passed the special filehandle
consisting of an underline, no stat is done, but the current
contents of the stat structure from the last
&quot;stat&quot;, &quot;lstat&quot;, or filetest are
returned. Example:</p>

<p>if (-x $file &amp;&amp; (($d) = stat(_)) &amp;&amp; $d
&lt; 0) { print &quot;$file is executable NFS file0; }</p>

<p>(This works on machines only for which the device number
is negative under NFS.)</p>

<p>Because the mode contains both the file type and its
permissions, you should mask off the file type portion and
(s)printf using a &quot;%o&quot; if you want to see the real
permissions.</p>

<p>$mode = (stat($filename))[2]; printf &quot;Permissions
are %04o0, $mode &amp; 07777;</p>

<p>In scalar context, &quot;stat&quot; returns a boolean
value indicating success or failure, and, if successful,
sets the information associated with the special filehandle
&quot;_&quot;.</p>

<p>The File::stat module provides a convenient, by-name
access mechanism:</p>

<p>use File::stat; $sb = stat($filename); printf &quot;File
is %s, size is %s, perm %04o, mtime %s0, $filename,
$sb-&gt;size, $sb-&gt;mode &amp; 07777, scalar localtime
$sb-&gt;mtime;</p>

<p>You can import symbolic mode constants
(&quot;S_IF*&quot;) and functions (&quot;S_IS*&quot;) from
the Fcntl module:</p>

<p>use Fcntl &rsquo;:mode&rsquo;;</p>

<p>$mode = (stat($filename))[2];</p>

<p>$user_rwx = ($mode &amp; S_IRWXU) &gt;&gt; 6;
$group_read = ($mode &amp; S_IRGRP) &gt;&gt; 3;
$other_execute = $mode &amp; S_IXOTH;</p>

<p>printf &quot;Permissions are %04o0, S_IMODE($mode),
&quot;0;</p>

<p>$is_setuid = $mode &amp; S_ISUID; $is_directory =
S_ISDIR($mode);</p>

<p>You could write the last two using the &quot;-u&quot;
and &quot;-d&quot; operators. The commonly available
&quot;S_IF*&quot; constants are</p>

<p># Permissions: read, write, execute, for user, group,
others.</p>

<p>S_IRWXU S_IRUSR S_IWUSR S_IXUSR S_IRWXG S_IRGRP S_IWGRP
S_IXGRP S_IRWXO S_IROTH S_IWOTH S_IXOTH</p>

<p># Setuid/Setgid/Stickiness/SaveText. # Note that the
exact meaning of these is system dependent.</p>

<p>S_ISUID S_ISGID S_ISVTX S_ISTXT</p>

<p># File types. Not necessarily all are available on your
system.</p>

<p>S_IFREG S_IFDIR S_IFLNK S_IFBLK S_IFCHR S_IFIFO S_IFSOCK
S_IFWHT S_ENFMT</p>

<p># The following are compatibility aliases for S_IRUSR,
S_IWUSR, S_IXUSR.</p>

<p>S_IREAD S_IWRITE S_IEXEC</p>

<p>and the &quot;S_IF*&quot; functions are</p>

<p>S_IMODE($mode) the part of $mode containing the
permission bits and the setuid/setgid/sticky bits</p>

<p>S_IFMT($mode) the part of $mode containing the file type
which can be bit-anded with e.g. S_IFREG or with the
following functions</p>

<p># The operators -f, -d, -l, -b, -c, -p, and -S.</p>

<p>S_ISREG($mode) S_ISDIR($mode) S_ISLNK($mode)
S_ISBLK($mode) S_ISCHR($mode) S_ISFIFO($mode)
S_ISSOCK($mode)</p>

<p># No direct -X operator counterpart, but for the first
one # the -g operator is often equivalent. The ENFMT stands
for # record flocking enforcement, a platform-dependent
feature.</p>

<p>S_ISENFMT($mode) S_ISWHT($mode)</p>

<p>See your native chmod(2) and stat(2) documentation for
more details about the &quot;S_*&quot; constants. To get
status info for a symbolic link instead of the target file
behind the link, use the &quot;lstat&quot; function.</p>

<p>state EXPR state TYPE EXPR state EXPR : ATTRS state TYPE
EXPR : ATTRS &quot;state&quot; declares a lexically scoped
variable, just like &quot;my&quot; does. However, those
variables will never be reinitialized, contrary to lexical
variables that are reinitialized each time their enclosing
block is entered.</p>

<p>&quot;state&quot; variables are only enabled when the
&quot;feature &rsquo;state&rsquo;&quot; pragma is in effect.
See feature.</p>

<p>study SCALAR study Takes extra time to study SCALAR ($_
if unspecified) in anticipation of doing many pattern
matches on the string before it is next modified. This may
or may not save time, depending on the nature and number of
patterns you are searching on, and on the distribution of
character frequencies in the string to be searched--you
probably want to compare run times with and without it to
see which runs faster. Those loops that scan for many short
constant strings (including the constant parts of more
complex patterns) will benefit most. You may have only one
&quot;study&quot; active at a time--if you study a different
scalar the first is &quot;unstudied&quot;. (The way
&quot;study&quot; works is this: a linked list of every
character in the string to be searched is made, so we know,
for example, where all the &rsquo;k&rsquo; characters are.
From each search string, the rarest character is selected,
based on some static frequency tables constructed from some
C programs and English text. Only those places that contain
this &quot;rarest&quot; character are examined.)</p>

<p>For example, here is a loop that inserts index producing
entries before any line containing a certain pattern:</p>

<p>while (&lt;&gt;) { study; o print &quot;.IX foo0 if /oa
print &quot;.IX bar0 if /r l u print &quot;.IX blurfl0 if /r
f l # ... print; }</p>

<p>o In searching for &quot;/o contain &quot;f&quot; will
be looked at, because &quot;f&quot; is rarer than
&quot;o&quot;. In general, this is a big win except in
pathological cases. The only question is whether it saves
you more time than it took to build the linked list in the
first place.</p>

<p>Note that if you have to look for strings that you dont
know till runtime, you can build an entire loop as a string
and &quot;eval&quot; that to avoid recompiling all your
patterns all the time. Together with undefining $/ to input
entire files as one record, this can be very fast, often
faster than specialized programs like fgrep(1). The
following scans a list of files (@files) for a list of words
(@words), and prints out the names of those files that
contain a match:</p>

<p>$search = &rsquo;while (&lt;&gt;) { study;&rsquo;;
foreach $word (@words) { $search .= &quot;++een{RGV} if
/\b$word\b/;0; } $search .= &quot;}&quot;; @ARGV = @files;
undef $/; eval $search; # this screams $/ = &quot;0; # put
back to normal input delimiter foreach $file (sort
keys(%seen)) { print $file, &quot;0; }</p>

<p>sub NAME BLOCK sub NAME (PROTO) BLOCK sub NAME : ATTRS
BLOCK sub NAME (PROTO) : ATTRS BLOCK This is subroutine
definition, not a real function per se. Without a BLOCK its
just a forward declaration. Without a NAME, it s an
anonymous function declaration, and does actually return a
value: the CODE ref of the closure you just created.</p>

<p>See perlsub and perlref for details about subroutines
and references, and attributes and Attribute::Handlers for
more information about attributes.</p>

<p>substr EXPR,OFFSET,LENGTH,REPLACEMENT substr
EXPR,OFFSET,LENGTH substr EXPR,OFFSET Extracts a substring
out of EXPR and returns it. First character is at offset 0,
or whatever youve set $[ to (but don t do that). If OFFSET
is negative (or more precisely, less than $[), starts that
far from the end of the string. If LENGTH is omitted,
returns everything to the end of the string. If LENGTH is
negative, leaves that many characters off the end of the
string.</p>

<p>my $s = &quot;The black cat climbed the green
tree&quot;; my $color = substr $s, 4, 5; # black my $middle
= substr $s, 4, -11; # black cat climbed the my $end =
substr $s, 14; # climbed the green tree my $tail = substr
$s, -4; # tree my $z = substr $s, -4, 2; # tr</p>

<p>You can use the substr() function as an lvalue, in which
case EXPR must itself be an lvalue. If you assign something
shorter than LENGTH, the string will shrink, and if you
assign something longer than LENGTH, the string will grow to
accommodate it. To keep the string the same length you may
need to pad or chop your value using
&quot;sprintf&quot;.</p>

<p>If OFFSET and LENGTH specify a substring that is partly
outside the string, only the part within the string is
returned. If the substring is beyond either end of the
string, substr() returns the undefined value and produces a
warning. When used as an lvalue, specifying a substring that
is entirely outside the string is a fatal error. Here s an
example showing the behavior for boundary cases:</p>

<p>my $name = &rsquo;fred&rsquo;; substr($name, 4) =
&rsquo;dy&rsquo;; # $name is now &rsquo;freddy&rsquo; my
$null = substr $name, 6, 2; # returns &rsquo;&rsquo; (no
warning) my $oops = substr $name, 7; # returns undef, with
warning substr($name, 7) = &rsquo;gap&rsquo;; # fatal
error</p>

<p>An alternative to using substr() as an lvalue is to
specify the replacement string as the 4th argument. This
allows you to replace parts of the EXPR and return what was
there before in one operation, just as you can with
splice().</p>

<p>my $s = &quot;The black cat climbed the green
tree&quot;; my $z = substr $s, 14, 7, &quot;jumped
from&quot;; # climbed # $s is now &quot;The black cat jumped
from the green tree&quot;</p>

<p>Note that the lvalue returned by the 3-arg version of
substr() acts as a magic bullet; each time it is assigned
to, it remembers which part of the original string is being
modified; for example:</p>

<p>$x = &rsquo;1234&rsquo;; for (substr($x,1,2)) { $_ =
&rsquo;a&rsquo;; print $x,&quot;0; # prints 1a4 $_ =
&rsquo;xyz&rsquo;; print $x,&quot;0; # prints 1xyz4 $x =
&rsquo;56789&rsquo;; $_ = &rsquo;pq&rsquo;; print
$x,&quot;0; # prints 5pq9 }</p>

<p>Prior to Perl version 5.9.1, the result of using an
lvalue multiple times was unspecified.</p>

<p>symlink OLDFILE,NEWFILE Creates a new filename
symbolically linked to the old filename. Returns 1 for
success, 0 otherwise. On systems that dont support symbolic
links, produces a fatal error at run time. To check for
that, use eval:</p>

<p>$symlink_exists = eval {
symlink(&quot;&quot;,&quot;&quot;); 1 };</p>

<p>syscall NUMBER, LIST Calls the system call specified as
the first element of the list, passing the remaining
elements as arguments to the system call. If unimplemented,
produces a fatal error. The arguments are interpreted as
follows: if a given argument is numeric, the argument is
passed as an int. If not, the pointer to the string value is
passed. You are responsible to make sure a string is
pre-extended long enough to receive any result that might be
written into a string. You can t use a string literal (or
other read-only string) as an argument to
&quot;syscall&quot; because Perl has to assume that any
string pointer might be written through. If your integer
arguments are not literals and have never been interpreted
in a numeric context, you may need to add 0 to them to force
them to look like numbers. This emulates the
&quot;syswrite&quot; function (or vice versa):</p>

<p>require &rsquo;syscall.ph&rsquo;; # may need to run h2ph
$s = &quot;hi there0; syscall(&amp;SYS_write,
fileno(STDOUT), $s, length $s);</p>

<p>Note that Perl supports passing of up to only 14
arguments to your system call, which in practice should
usually suffice.</p>

<p>Syscall returns whatever value returned by the system
call it calls. If the system call fails, &quot;syscall&quot;
returns &quot;-1&quot; and sets $! (errno). Note that some
system calls can legitimately return &quot;-1&quot;. The
proper way to handle such calls is to assign
&quot;$!=0;&quot; before the call and check the value of $!
if syscall returns &quot;-1&quot;.</p>

<p>There s a problem with
&quot;syscall(&amp;SYS_pipe)&quot;: it returns the file
number of the read end of the pipe it creates. There is no
way to retrieve the file number of the other end. You can
avoid this problem by using &quot;pipe&quot; instead.</p>

<p>sysopen FILEHANDLE,FILENAME,MODE sysopen
FILEHANDLE,FILENAME,MODE,PERMS Opens the file whose filename
is given by FILENAME, and associates it with FILEHANDLE. If
FILEHANDLE is an expression, its value is used as the name
of the real filehandle wanted. This function calls the
underlying operating systems &quot;open&quot; function with
the parameters FILENAME, MODE, PERMS.</p>

<p>The possible values and flag bits of the MODE parameter
are system-dependent; they are available via the standard
module &quot;Fcntl&quot;. See the documentation of your
operating systems &quot;open&quot; to see which values and
flag bits are available. You may combine several flags using
the &quot;|&quot;-operator.</p>

<p>Some of the most common values are &quot;O_RDONLY&quot;
for opening the file in read-only mode, &quot;O_WRONLY&quot;
for opening the file in write-only mode, and
&quot;O_RDWR&quot; for opening the file in read- write
mode.</p>

<p>For historical reasons, some values work on almost every
system supported by perl: zero means read-only, one means
write-only, and two means read/write. We know that these
values do not work under OS/390 &amp; VM/ESA Unix and on the
Macintosh; you probably dont want to use them in new
code.</p>

<p>If the file named by FILENAME does not exist and the
&quot;open&quot; call creates it (typically because MODE
includes the &quot;O_CREAT&quot; flag), then the value of
PERMS specifies the permissions of the newly created file.
If you omit the PERMS argument to &quot;sysopen&quot;, Perl
uses the octal value 0666. These permission values need to
be in octal, and are modified by your processs current
&quot;umask&quot;.</p>

<p>In many systems the &quot;O_EXCL&quot; flag is available
for opening files in exclusive mode. This is not locking:
exclusiveness means here that if the file already exists,
sysopen() fails. &quot;O_EXCL&quot; may not work on network
filesystems, and has no effect unless the
&quot;O_CREAT&quot; flag is set as well. Setting
&quot;O_CREAT|O_EXCL&quot; prevents the file from being
opened if it is a symbolic link. It does not protect against
symbolic links in the files path.</p>

<p>Sometimes you may want to truncate an already-existing
file. This can be done using the &quot;O_TRUNC&quot; flag.
The behavior of &quot;O_TRUNC&quot; with
&quot;O_RDONLY&quot; is undefined.</p>

<p>You should seldom if ever use 0644 as argument to
&quot;sysopen&quot;, because that takes away the users
option to have a more permissive umask. Better to omit it.
See the perlfunc(1) entry on &quot;umask&quot; for more on
this.</p>

<p>Note that &quot;sysopen&quot; depends on the fdopen() C
library function. On many UNIX systems, fdopen() is known to
fail when file descriptors exceed a certain value, typically
255. If you need more file descriptors than that, consider
rebuilding Perl to use the &quot;sfio&quot; library, or
perhaps using the POSIX::open() function.</p>

<p>See perlopentut for a kinder, gentler explanation of
opening files.</p>

<p>sysread FILEHANDLE,SCALAR,LENGTH,OFFSET sysread
FILEHANDLE,SCALAR,LENGTH Attempts to read LENGTH bytes of
data into variable SCALAR from the specified FILEHANDLE,
using the system call read(2). It bypasses buffered IO, so
mixing this with other kinds of reads, &quot;print&quot;,
&quot;write&quot;, &quot;seek&quot;, &quot;tell&quot;, or
&quot;eof&quot; can cause confusion because the perlio or
stdio layers usually buffers data. Returns the number of
bytes actually read, 0 at end of file, or undef if there was
an error (in the latter case $! is also set). SCALAR will be
grown or shrunk so that the last byte actually read is the
last byte of the scalar after the read.</p>

<p>An OFFSET may be specified to place the read data at
some place in the string other than the beginning. A
negative OFFSET specifies placement at that many characters
counting backwards from the end of the string. A positive
OFFSET greater than the length of SCALAR results in the
string being padded to the required size with &quot; &quot;
bytes before the result of the read is appended.</p>

<p>There is no syseof() function, which is ok, since eof()
doesnt work very well on device files (like ttys) anyway.
Use sysread() and check for a return value for 0 to decide
whether youre done.</p>

<p>Note that if the filehandle has been marked as
&quot;:utf8&quot; Unicode characters are read instead of
bytes (the LENGTH, OFFSET, and the return value of sysread()
are in Unicode characters). The &quot;:encoding(...)&quot;
layer implicitly introduces the &quot;:utf8&quot; layer. See
&quot;binmode&quot;, &quot;open&quot;, and the
&quot;open&quot; pragma, open.</p>

<p>sysseek FILEHANDLE,POSITION,WHENCE Sets FILEHANDLEs
system position in bytes using the system call lseek(2).
FILEHANDLE may be an expression whose value gives the name
of the filehandle. The values for WHENCE are 0 to set the
new position to POSITION, 1 to set the it to the current
position plus POSITION, and 2 to set it to EOF plus POSITION
(typically negative).</p>

<p>Note the in bytes: even if the filehandle has been set
to operate on characters (for example by using the
&quot;:encoding(utf8)&quot; I/O layer), tell() will return
byte offsets, not character offsets (because implementing
that would render sysseek() very slow).</p>

<p>sysseek() bypasses normal buffered IO, so mixing this
with reads (other than &quot;sysread&quot;, for example
&quot;&lt;&gt;&quot; or read()) &quot;print&quot;,
&quot;write&quot;, &quot;seek&quot;, &quot;tell&quot;, or
&quot;eof&quot; may cause confusion.</p>

<p>For WHENCE, you may also use the constants
&quot;SEEK_SET&quot;, &quot;SEEK_CUR&quot;, and
&quot;SEEK_END&quot; (start of the file, current position,
end of the file) from the Fcntl module. Use of the constants
is also more portable than relying on 0, 1, and 2. For
example to define a &quot;systell&quot; function:</p>

<p>use Fcntl &rsquo;SEEK_CUR&rsquo;; sub systell {
sysseek($_[0], 0, SEEK_CUR) }</p>

<p>Returns the new position, or the undefined value on
failure. A position of zero is returned as the string
&quot;0 but true&quot;; thus &quot;sysseek&quot; returns
true on success and false on failure, yet you can still
easily determine the new position.</p>

<p>system LIST system PROGRAM LIST Does exactly the same
thing as &quot;exec LIST&quot;, except that a fork is done
first, and the parent process waits for the child process to
complete. Note that argument processing varies depending on
the number of arguments. If there is more than one argument
in LIST, or if LIST is an array with more than one value,
starts the program given by the first element of the list
with arguments given by the rest of the list. If there is
only one scalar argument, the argument is checked for shell
metacharacters, and if there are any, the entire argument is
passed to the systems command shell for parsing (this is
&quot;/bin/sh -c&quot; on Unix platforms, but varies on
other platforms). If there are no shell metacharacters in
the argument, it is split into words and passed directly to
&quot;execvp&quot;, which is more efficient.</p>

<p>Beginning with v5.6.0, Perl will attempt to flush all
files opened for output before any operation that may do a
fork, but this may not be supported on some platforms (see
perlport). To be safe, you may need to set $| ($AUTOFLUSH in
English) or call the &quot;autoflush()&quot; method of
&quot;IO::Handle&quot; on any open handles.</p>

<p>The return value is the exit status of the program as
returned by the &quot;wait&quot; call. To get the actual
exit value, shift right by eight (see below). See also
&quot;exec&quot;. This is not what you want to use to
capture the output from a command, for that you should use
merely backticks or &quot;qx//&quot;, as described in
&quot;STRING&quot; in perlop. Return value of -1 indicates a
failure to start the program or an error of the wait(2)
system call (inspect $! for the reason).</p>

<p>If youd like to make &quot;system&quot; (and many other
bits of Perl) die on error, have a look at the autodie
pragma.</p>

<p>Like &quot;exec&quot;, &quot;system&quot; allows you to
lie to a program about its name if you use the &quot;system
PROGRAM LIST&quot; syntax. Again, see &quot;exec&quot;.</p>

<p>Since &quot;SIGINT&quot; and &quot;SIGQUIT&quot; are
ignored during the execution of &quot;system&quot;, if you
expect your program to terminate on receipt of these signals
you will need to arrange to do so yourself based on the
return value.</p>

<p>@args = (&quot;command&quot;, &quot;arg1&quot;,
&quot;arg2&quot;); system(@args) == 0 or die &quot;system
@args failed: $?&quot;</p>

<p>If you d like to manually inspect &quot;system&quot; s
failure, you can check all possible failure modes by
inspecting $? like this:</p>

<p>if ($? == -1) { print &quot;failed to execute: $!0; }
elsif ($? &amp; 127) { printf &quot;child died with signal
%d, %s coredump0, ($? &amp; 127), ($? &amp; 128) ?
&rsquo;with&rsquo; : &rsquo;without&rsquo;; } else { printf
&quot;child exited with value %d0, $? &gt;&gt; 8; }</p>

<p>Alternatively you might inspect the value of
&quot;${^CHILD_ERROR_NATIVE}&quot; with the W*() calls of
the POSIX extension.</p>

<p>When the arguments get executed via the system shell,
results and return codes will be subject to its quirks and
capabilities. See &quot;STRING&quot; in perlop and
&quot;exec&quot; for details.</p>

<p>syswrite FILEHANDLE,SCALAR,LENGTH,OFFSET syswrite
FILEHANDLE,SCALAR,LENGTH syswrite FILEHANDLE,SCALAR Attempts
to write LENGTH bytes of data from variable SCALAR to the
specified FILEHANDLE, using the system call write(2). If
LENGTH is not specified, writes whole SCALAR. It bypasses
buffered IO, so mixing this with reads (other than
sysread()), &quot;print&quot;, &quot;write&quot;,
&quot;seek&quot;, &quot;tell&quot;, or &quot;eof&quot; may
cause confusion because the perlio and stdio layers usually
buffers data. Returns the number of bytes actually written,
or &quot;undef&quot; if there was an error (in this case the
errno variable $! is also set). If the LENGTH is greater
than the available data in the SCALAR after the OFFSET, only
as much data as is available will be written.</p>

<p>An OFFSET may be specified to write the data from some
part of the string other than the beginning. A negative
OFFSET specifies writing that many characters counting
backwards from the end of the string. In the case the SCALAR
is empty you can use OFFSET but only zero offset.</p>

<p>Note that if the filehandle has been marked as
&quot;:utf8&quot;, Unicode characters are written instead of
bytes (the LENGTH, OFFSET, and the return value of
syswrite() are in UTF-8 encoded Unicode characters). The
&quot;:encoding(...)&quot; layer implicitly introduces the
&quot;:utf8&quot; layer. See &quot;binmode&quot;,
&quot;open&quot;, and the &quot;open&quot; pragma, open.</p>

<p>tell FILEHANDLE tell Returns the current position in
bytes for FILEHANDLE, or -1 on error. FILEHANDLE may be an
expression whose value gives the name of the actual
filehandle. If FILEHANDLE is omitted, assumes the file last
read.</p>

<p>Note the in bytes: even if the filehandle has been set
to operate on characters (for example by using the
&quot;:encoding(utf8)&quot; open layer), tell() will return
byte offsets, not character offsets (because that would
render seek() and tell() rather slow).</p>

<p>The return value of tell() for the standard streams like
the STDIN depends on the operating system: it may return -1
or something else. tell() on pipes, fifos, and sockets
usually returns -1.</p>

<p>There is no &quot;systell&quot; function. Use
&quot;sysseek(FH, 0, 1)&quot; for that.</p>

<p>Do not use tell() (or other buffered I/O operations) on
a file handle that has been manipulated by sysread(),
syswrite() or sysseek(). Those functions ignore the
buffering, while tell() does not.</p>

<p>telldir DIRHANDLE Returns the current position of the
&quot;readdir&quot; routines on DIRHANDLE. Value may be
given to &quot;seekdir&quot; to access a particular location
in a directory. &quot;telldir&quot; has the same caveats
about possible directory compaction as the corresponding
system library routine.</p>

<p>tie VARIABLE,CLASSNAME,LIST This function binds a
variable to a package class that will provide the
implementation for the variable. VARIABLE is the name of the
variable to be enchanted. CLASSNAME is the name of a class
implementing objects of correct type. Any additional
arguments are passed to the &quot;new&quot; method of the
class (meaning &quot;TIESCALAR&quot;, &quot;TIEHANDLE&quot;,
&quot;TIEARRAY&quot;, or &quot;TIEHASH&quot;). Typically
these are arguments such as might be passed to the
&quot;dbm_open()&quot; function of C. The object returned by
the &quot;new&quot; method is also returned by the
&quot;tie&quot; function, which would be useful if you want
to access other methods in CLASSNAME.</p>

<p>Note that functions such as &quot;keys&quot; and
&quot;values&quot; may return huge lists when used on large
objects, like DBM files. You may prefer to use the
&quot;each&quot; function to iterate over such. Example:</p>

<p># print out history file offsets use NDBM_File;
tie(%HIST, &rsquo;NDBM_File&rsquo;,
&rsquo;/usr/lib/news/history&rsquo;, 1, 0); while
(($key,$val) = each %HIST) { print $key, &rsquo; = &rsquo;,
unpack(&rsquo;L&rsquo;,$val), &quot;0; } untie(%HIST);</p>

<p>A class implementing a hash should have the following
methods:</p>

<p>TIEHASH classname, LIST FETCH this, key STORE this, key,
value DELETE this, key CLEAR this EXISTS this, key FIRSTKEY
this NEXTKEY this, lastkey SCALAR this DESTROY this UNTIE
this</p>

<p>A class implementing an ordinary array should have the
following methods:</p>

<p>TIEARRAY classname, LIST FETCH this, key STORE this,
key, value FETCHSIZE this STORESIZE this, count CLEAR this
PUSH this, LIST POP this SHIFT this UNSHIFT this, LIST
SPLICE this, offset, length, LIST EXTEND this, count DESTROY
this UNTIE this</p>

<p>A class implementing a file handle should have the
following methods:</p>

<p>TIEHANDLE classname, LIST READ this, scalar, length,
offset READLINE this GETC this WRITE this, scalar, length,
offset PRINT this, LIST PRINTF this, format, LIST BINMODE
this EOF this FILENO this SEEK this, position, whence TELL
this OPEN this, mode, LIST CLOSE this DESTROY this UNTIE
this</p>

<p>A class implementing a scalar should have the following
methods:</p>

<p>TIESCALAR classname, LIST FETCH this, STORE this, value
DESTROY this UNTIE this</p>

<p>Not all methods indicated above need be implemented. See
perltie, Tie::Hash, Tie::Array, Tie::Scalar, and
Tie::Handle.</p>

<p>Unlike &quot;dbmopen&quot;, the &quot;tie&quot; function
will not use or require a module for you--you need to do
that explicitly yourself. See DB_File or the Config module
for interesting &quot;tie&quot; implementations.</p>

<p>For further details see perltie, &quot;tied
VARIABLE&quot;.</p>

<p>tied VARIABLE Returns a reference to the object
underlying VARIABLE (the same value that was originally
returned by the &quot;tie&quot; call that bound the variable
to a package.) Returns the undefined value if VARIABLE isnt
tied to a package.</p>

<p>time Returns the number of non-leap seconds since
whatever time the system considers to be the epoch, suitable
for feeding to &quot;gmtime&quot; and &quot;localtime&quot;.
On most systems the epoch is 00:00:00 UTC, January 1, 1970;
a prominent exception being Mac OS Classic which uses
00:00:00, January 1, 1904 in the current local time zone for
its epoch.</p>

<p>For measuring time in better granularity than one
second, you may use either the Time::HiRes module (from
CPAN, and starting from Perl 5.8 part of the standard
distribution), or if you have gettimeofday(2), you may be
able to use the &quot;syscall&quot; interface of Perl. See
perlfaq8 for details.</p>

<p>For date and time processing look at the many related
modules on CPAN. For a comprehensive date and time
representation look at the DateTime module.</p>

<p>times Returns a four-element list giving the user and
system times, in seconds, for this process and the children
of this process.</p>

<p>($user,$system,$cuser,$csystem) = times;</p>

<p>In scalar context, &quot;times&quot; returns $user.</p>

<p>Note that times for children are included only after
they terminate.</p>

<p>tr/// The transliteration operator. Same as
&quot;y///&quot;. See &quot;Quote and Quote-like
Operators&quot; in perlop.</p>

<p>truncate FILEHANDLE,LENGTH truncate EXPR,LENGTH
Truncates the file opened on FILEHANDLE, or named by EXPR,
to the specified length. Produces a fatal error if truncate
isnt implemented on your system. Returns true if successful,
the undefined value otherwise.</p>

<p>The behavior is undefined if LENGTH is greater than the
length of the file.</p>

<p>The position in the file of FILEHANDLE is left
unchanged. You may want to call seek before writing to the
file.</p>

<p>uc EXPR uc Returns an uppercased version of EXPR. This
is the internal function implementing the &quot;U&quot;
escape in double-quoted strings. Respects current LC_CTYPE
locale if &quot;use locale&quot; in force. See perllocale
and perlunicode for more details about locale and Unicode
support. It does not attempt to do titlecase mapping on
initial letters. See &quot;ucfirst&quot; for that.</p>

<p>If EXPR is omitted, uses $_.</p>

<p>ucfirst EXPR ucfirst Returns the value of EXPR with the
first character in uppercase (titlecase in Unicode). This is
the internal function implementing the &quot;&quot; escape
in double-quoted strings. Respects current LC_CTYPE locale
if &quot;use locale&quot; in force. See perllocale and
perlunicode for more details about locale and Unicode
support.</p>

<p>If EXPR is omitted, uses $_.</p>

<p>umask EXPR umask Sets the umask for the process to EXPR
and returns the previous value. If EXPR is omitted, merely
returns the current umask.</p>

<p>The Unix permission &quot;rwxr-x---&quot; is represented
as three sets of three bits, or three octal digits: 0750
(the leading 0 indicates octal and isnt one of the digits).
The &quot;umask&quot; value is such a number representing
disabled permissions bits. The permission (or
&quot;mode&quot;) values you pass &quot;mkdir&quot; or
&quot;sysopen&quot; are modified by your umask, so even if
you tell &quot;sysopen&quot; to create a file with
permissions 0777, if your umask is 0022 then the file will
actually be created with permissions 0755. If your
&quot;umask&quot; were 0027 (group cant write; others cant
read, write, or execute), then passing &quot;sysopen&quot;
0666 would create a file with mode 0640 (&quot;0666 &amp;~
027&quot; is 0640).</p>

<p>Heres some advice: supply a creation mode of 0666 for
regular files (in &quot;sysopen&quot;) and one of 0777 for
directories (in &quot;mkdir&quot;) and executable files.
This gives users the freedom of choice: if they want
protected files, they might choose process umasks of 022,
027, or even the particularly antisocial mask of 077.
Programs should rarely if ever make policy decisions better
left to the user. The exception to this is when writing
files that should be kept private: mail files, web browser
cookies, .rhosts files, and so on.</p>

<p>If umask(2) is not implemented on your system and you
are trying to restrict access for yourself (i.e., (EXPR
&amp; 0700) &gt; 0), produces a fatal error at run time. If
umask(2) is not implemented and you are not trying to
restrict access for yourself, returns &quot;undef&quot;.</p>

<p>Remember that a umask is a number, usually given in
octal; it is not a string of octal digits. See also
&quot;oct&quot;, if all you have is a string.</p>

<p>undef EXPR undef Undefines the value of EXPR, which must
be an lvalue. Use only on a scalar value, an array (using
&quot;@&quot;), a hash (using &quot;%&quot;), a subroutine
(using &quot;&amp;&quot;), or a typeglob (using
&quot;*&quot;). (Saying &quot;undef $hash{$key}&quot; will
probably not do what you expect on most predefined variables
or DBM list values, so dont do that; see delete.) Always
returns the undefined value. You can omit the EXPR, in which
case nothing is undefined, but you still get an undefined
value that you could, for instance, return from a
subroutine, assign to a variable or pass as a parameter.
Examples:</p>

<p>undef $foo; undef $bar{&rsquo;blurfl&rsquo;}; # Compare
to: delete $bar{&rsquo;blurfl&rsquo;}; undef @ary; undef
%hash; undef &amp;mysub; undef *xyz; # destroys $xyz, @xyz,
%xyz, &amp;xyz, etc. return (wantarray ? (undef, $errmsg) :
undef) if $they_blew_it; select undef, undef, undef, 0.25;
($a, $b, undef, $c) = &amp;foo; # Ignore third value
returned</p>

<p>Note that this is a unary operator, not a list
operator.</p>

<p>unlink LIST unlink Deletes a list of files. Returns the
number of files successfully deleted.</p>

<p>$cnt = unlink &rsquo;a&rsquo;, &rsquo;b&rsquo;,
&rsquo;c&rsquo;; unlink @goners; unlink &lt;*.bak&gt;;</p>

<p>Note: &quot;unlink&quot; will not attempt to delete
directories unless you are superuser and the -U flag is
supplied to Perl. Even if these conditions are met, be
warned that unlinking a directory can inflict damage on your
filesystem. Finally, using &quot;unlink&quot; on directories
is not supported on many operating systems. Use
&quot;rmdir&quot; instead.</p>

<p>If LIST is omitted, uses $_.</p>

<p>unpack TEMPLATE,EXPR unpack TEMPLATE &quot;unpack&quot;
does the reverse of &quot;pack&quot;: it takes a string and
expands it out into a list of values. (In scalar context, it
returns merely the first value produced.)</p>

<p>If EXPR is omitted, unpacks the $_ string.</p>

<p>The string is broken into chunks described by the
TEMPLATE. Each chunk is converted separately to a value.
Typically, either the string is a result of
&quot;pack&quot;, or the characters of the string represent
a C structure of some kind.</p>

<p>The TEMPLATE has the same format as in the
&quot;pack&quot; function. Heres a subroutine that does
substring:</p>

<p>sub substr { my($what,$where,$howmuch) = @_;
unpack(&quot;x$where a$howmuch&quot;, $what); }</p>

<p>and then theres</p>

<p>sub ordinal { unpack(&quot;W&quot;,$_[0]); } # same as
ord()</p>

<p>In addition to fields allowed in pack(), you may prefix
a field with a %&lt;number&gt; to indicate that you want a
&lt;number&gt;-bit checksum of the items instead of the
items themselves. Default is a 16-bit checksum. Checksum is
calculated by summing numeric values of expanded values (for
string fields the sum of &quot;ord($char)&quot; is taken,
for bit fields the sum of zeroes and ones).</p>

<p>For example, the following computes the same number as
the System V sum program:</p>

<p>$checksum = do { local $/; # slurp!
unpack(&quot;%32W*&quot;,&lt;&gt;) % 65535; };</p>

<p>The following efficiently counts the number of set bits
in a bit vector:</p>

<p>$setbits = unpack(&quot;%32b*&quot;, $selectmask);</p>

<p>The &quot;p&quot; and &quot;P&quot; formats should be
used with care. Since Perl has no way of checking whether
the value passed to &quot;unpack()&quot; corresponds to a
valid memory location, passing a pointer value thats not
known to be valid is likely to have disastrous
consequences.</p>

<p>If there are more pack codes or if the repeat count of a
field or a group is larger than what the remainder of the
input string allows, the result is not well defined: in some
cases, the repeat count is decreased, or
&quot;unpack()&quot; will produce null strings or zeroes, or
terminate with an error. If the input string is longer than
one described by the TEMPLATE, the rest is ignored.</p>

<p>See &quot;pack&quot; for more examples and notes.</p>

<p>untie VARIABLE Breaks the binding between a variable and
a package. (See &quot;tie&quot;.) Has no effect if the
variable is not tied.</p>

<p>unshift ARRAY,LIST Does the opposite of a
&quot;shift&quot;. Or the opposite of a &quot;push&quot;,
depending on how you look at it. Prepends list to the front
of the array, and returns the new number of elements in the
array.</p>

<p>unshift(@ARGV, &rsquo;-e&rsquo;) unless $ARGV[0] =~
/^-/;</p>

<p>Note the LIST is prepended whole, not one element at a
time, so the prepended elements stay in the same order. Use
&quot;reverse&quot; to do the reverse.</p>

<p>use Module VERSION LIST use Module VERSION use Module
LIST use Module use VERSION Imports some semantics into the
current package from the named module, generally by aliasing
certain subroutine or variable names into your package. It
is exactly equivalent to</p>

<p>BEGIN { require Module; Module-&gt;import( LIST ); }</p>

<p>except that Module must be a bareword.</p>

<p>In the peculiar &quot;use VERSION&quot; form, VERSION
may be either a numeric argument such as 5.006, which will
be compared to $], or a literal of the form v5.6.1, which
will be compared to $^V (aka $PERL_VERSION). A fatal error
is produced if VERSION is greater than the version of the
current Perl interpreter; Perl will not attempt to parse the
rest of the file. Compare with &quot;require&quot;, which
can do a similar check at run time. Symmetrically, &quot;no
VERSION&quot; allows you to specify that you want a version
of perl older than the specified one.</p>

<p>Specifying VERSION as a literal of the form v5.6.1
should generally be avoided, because it leads to misleading
error messages under earlier versions of Perl (that is,
prior to 5.6.0) that do not support this syntax. The
equivalent numeric version should be used instead.</p>

<p>use v5.6.1; # compile time version check use 5.6.1; #
ditto use 5.006_001; # ditto; preferred for backwards
compatibility</p>

<p>This is often useful if you need to check the current
Perl version before &quot;use&quot;ing library modules that
wont work with older versions of Perl. (We try not to do
this more than we have to.)</p>

<p>Also, if the specified perl version is greater than or
equal to 5.9.5, &quot;use VERSION&quot; will also load the
&quot;feature&quot; pragma and enable all features available
in the requested version. See feature.</p>

<p>The &quot;BEGIN&quot; forces the &quot;require&quot; and
&quot;import&quot; to happen at compile time. The
&quot;require&quot; makes sure the module is loaded into
memory if it hasnt been yet. The &quot;import&quot; is not a
builtin--it s just an ordinary static method call into the
&quot;Module&quot; package to tell the module to import the
list of features back into the current package. The module
can implement its &quot;import&quot; method any way it
likes, though most modules just choose to derive their
&quot;import&quot; method via inheritance from the
&quot;Exporter&quot; class that is defined in the
&quot;Exporter&quot; module. See Exporter. If no
&quot;import&quot; method can be found then the call is
skipped, even if there is an AUTOLOAD method.</p>

<p>If you do not want to call the packages
&quot;import&quot; method (for instance, to stop your
namespace from being altered), explicitly supply the empty
list:</p>

<p>use Module ();</p>

<p>That is exactly equivalent to</p>

<p>BEGIN { require Module }</p>

<p>If the VERSION argument is present between Module and
LIST, then the &quot;use&quot; will call the VERSION method
in class Module with the given version as an argument. The
default VERSION method, inherited from the UNIVERSAL class,
croaks if the given version is larger than the value of the
variable $Module::VERSION.</p>

<p>Again, there is a distinction between omitting LIST
(&quot;import&quot; called with no arguments) and an
explicit empty LIST &quot;()&quot; (&quot;import&quot; not
called). Note that there is no comma after VERSION!</p>

<p>Because this is a wide-open interface, pragmas (compiler
directives) are also implemented this way. Currently
implemented pragmas are:</p>

<p>use constant; use diagnostics; use integer; use sigtrap
qw(SEGV BUS); use strict qw(subs vars refs); use subs
qw(afunc blurfl); use warnings qw(all); use sort qw(stable
_quicksort _mergesort);</p>

<p>Some of these pseudo-modules import semantics into the
current block scope (like &quot;strict&quot; or
&quot;integer&quot;, unlike ordinary modules, which import
symbols into the current package (which are effective
through the end of the file).</p>

<p>Theres a corresponding &quot;no&quot; command that
unimports meanings imported by &quot;use&quot;, i.e., it
calls &quot;unimport Module LIST&quot; instead of
&quot;import&quot;. It behaves exactly as &quot;import&quot;
does with respect to VERSION, an omitted LIST, empty LIST,
or no unimport method being found.</p>

<p>no integer; no strict &rsquo;refs&rsquo;; no
warnings;</p>

<p>See perlmodlib for a list of standard modules and
pragmas. See perlrun for the &quot;-M&quot; and
&quot;-m&quot; command-line options to perl that give
&quot;use&quot; functionality from the command-line.</p>

<p>utime LIST Changes the access and modification times on
each file of a list of files. The first two elements of the
list must be the NUMERICAL access and modification times, in
that order. Returns the number of files successfully
changed. The inode change time of each file is set to the
current time. For example, this code has the same effect as
the Unix touch(1) command when the files already exist and
belong to the user running the program:</p>

<p>#!/usr/bin/perl $atime = $mtime = time; utime $atime,
$mtime, @ARGV;</p>

<p>Since perl 5.7.2, if the first two elements of the list
are &quot;undef&quot;, then the utime(2) function in the C
library will be called with a null second argument. On most
systems, this will set the files access and modification
times to the current time (i.e. equivalent to the example
above) and will even work on other users files where you
have write permission:</p>

<p>utime undef, undef, @ARGV;</p>

<p>Under NFS this will use the time of the NFS server, not
the time of the local machine. If there is a time
synchronization problem, the NFS server and local machine
will have different times. The Unix touch(1) command will in
fact normally use this form instead of the one shown in the
first example.</p>

<p>Note that only passing one of the first two elements as
&quot;undef&quot; will be equivalent of passing it as 0 and
will not have the same effect as described when they are
both &quot;undef&quot;. This case will also trigger an
uninitialized warning.</p>

<p>On systems that support futimes, you might pass file
handles among the files. On systems that don t support
futimes, passing file handles produces a fatal error at run
time. The file handles must be passed as globs or references
to be recognized. Barewords are considered file names.</p>

<p>values HASH Returns a list consisting of all the values
of the named hash. (In a scalar context, returns the number
of values.)</p>

<p>The values are returned in an apparently random order.
The actual random order is subject to change in future
versions of perl, but it is guaranteed to be the same order
as either the &quot;keys&quot; or &quot;each&quot; function
would produce on the same (unmodified) hash. Since Perl
5.8.1 the ordering is different even between different runs
of Perl for security reasons (see &quot;Algorithmic
Complexity Attacks&quot; in perlsec).</p>

<p>As a side effect, calling values() resets the HASH s
internal iterator, see &quot;each&quot;. (In particular,
calling values() in void context resets the iterator with no
other overhead.)</p>

<p>Note that the values are not copied, which means
modifying them will modify the contents of the hash:</p>

<p>for (values %hash) { s/foo/bar/g } # modifies %hash
values for (@hash{keys %hash}) { s/foo/bar/g } # same</p>

<p>See also &quot;keys&quot;, &quot;each&quot;, and
&quot;sort&quot;.</p>

<p>vec EXPR,OFFSET,BITS Treats the string in EXPR as a bit
vector made up of elements of width BITS, and returns the
value of the element specified by OFFSET as an unsigned
integer. BITS therefore specifies the number of bits that
are reserved for each element in the bit vector. This must
be a power of two from 1 to 32 (or 64, if your platform
supports that).</p>

<p>If BITS is 8, &quot;elements&quot; coincide with bytes
of the input string.</p>

<p>If BITS is 16 or more, bytes of the input string are
grouped into chunks of size BITS/8, and each group is
converted to a number as with pack()/unpack() with
big-endian formats &quot;n&quot;/&quot;N&quot; (and
analogously for BITS==64). See &quot;pack&quot; for
details.</p>

<p>If bits is 4 or less, the string is broken into bytes,
then the bits of each byte are broken into 8/BITS groups.
Bits of a byte are numbered in a little-endian-ish way, as
in 0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80. For
example, breaking the single input byte
&quot;chr(0x36)&quot; into two groups gives a list
&quot;(0x6, 0x3)&quot;; breaking it into 4 groups gives
&quot;(0x2, 0x1, 0x3, 0x0)&quot;.</p>

<p>&quot;vec&quot; may also be assigned to, in which case
parentheses are needed to give the expression the correct
precedence as in</p>

<p>vec($image, $max_x * $x + $y, 8) = 3;</p>

<p>If the selected element is outside the string, the value
0 is returned. If an element off the end of the string is
written to, Perl will first extend the string with
sufficiently many zero bytes. It is an error to try to write
off the beginning of the string (i.e. negative OFFSET).</p>

<p>If the string happens to be encoded as UTF-8 internally
(and thus has the UTF8 flag set), this is ignored by
&quot;vec&quot;, and it operates on the internal byte
string, not the conceptual character string, even if you
only have characters with values less than 256.</p>

<p>Strings created with &quot;vec&quot; can also be
manipulated with the logical operators &quot;|&quot;,
&quot;&amp;&quot;, &quot;^&quot;, and &quot;~&quot;. These
operators will assume a bit vector operation is desired when
both operands are strings. See &quot;Bitwise String
Operators&quot; in perlop.</p>

<p>The following code will build up an ASCII string saying
&rsquo;PerlPerlPerl&rsquo;. The comments show the string
after each step. Note that this code works in the same way
on big-endian or little-endian machines.</p>

<p>my $foo = &rsquo;&rsquo;; vec($foo, 0, 32) = 0x5065726C;
# &rsquo;Perl&rsquo;</p>

<p># $foo eq &quot;Perl&quot; eq &quot;052C&quot;, 32 bits
print vec($foo, 0, 8); # prints 80 == 0x50 ==
ord(&rsquo;P&rsquo;)</p>

<p>vec($foo, 2, 16) = 0x5065; # &rsquo;PerlPe&rsquo;
vec($foo, 3, 16) = 0x726C; # &rsquo;PerlPerl&rsquo;
vec($foo, 8, 8) = 0x50; # &rsquo;PerlPerlP&rsquo; vec($foo,
9, 8) = 0x65; # &rsquo;PerlPerlPe&rsquo; vec($foo, 20, 4) =
2; # &rsquo;PerlPerlPe&rsquo; . &quot;2&quot; vec($foo, 21,
4) = 7; # &rsquo;PerlPerlPer&rsquo; # &rsquo;r&rsquo; is
&quot;2&quot; vec($foo, 45, 2) = 3; #
&rsquo;PerlPerlPer&rsquo; . &quot;c&quot; vec($foo, 93, 1) =
1; # &rsquo;PerlPerlPer&rsquo; . &quot;c&quot; vec($foo, 94,
1) = 1; # &rsquo;PerlPerlPerl&rsquo; # &rsquo;l&rsquo; is
&quot;c&quot;</p>

<p>To transform a bit vector into a string or list of 0s
and 1s, use these:</p>

<p>$bits = unpack(&quot;b*&quot;, $vector); @bits =
split(//, unpack(&quot;b*&quot;, $vector));</p>

<p>If you know the exact length in bits, it can be used in
place of the &quot;*&quot;.</p>

<p>Here is an example to illustrate how the bits actually
fall in place:</p>

<p>#!/usr/bin/perl -wl</p>

<p>print &lt;&lt;&rsquo;EOT&rsquo;; 0 1 2 3
unpack(&quot;V&quot;,$_) 01234567890123456789012345678901
------------------------------------------------------------------
EOT</p>

<p>for $w (0..3) { $width = 2**$w; for ($shift=0; $shift
&lt; $width; ++$shift) { for ($off=0; $off &lt; 32/$width;
++$off) { $str = pack(&quot;B*&quot;, &quot;0&quot;x32);
$bits = (1&lt;&lt;$shift); vec($str, $off, $width) = $bits;
$res = unpack(&quot;b*&quot;,$str); $val =
unpack(&quot;V&quot;, $str); write; } } }</p>

<p>format STDOUT = vec($_,@#,@#) = @&lt;&lt; == @#########
@&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
$off, $width, $bits, $val, $res . __END__</p>

<p>Regardless of the machine architecture on which it is
run, the above example should print the following table:</p>

<p>0 1 2 3 unpack(&quot;V&quot;,$_)
01234567890123456789012345678901
------------------------------------------------------------------
vec($_, 0, 1) = 1 == 1 10000000000000000000000000000000
vec($_, 1, 1) = 1 == 2 01000000000000000000000000000000
vec($_, 2, 1) = 1 == 4 00100000000000000000000000000000
vec($_, 3, 1) = 1 == 8 00010000000000000000000000000000
vec($_, 4, 1) = 1 == 16 00001000000000000000000000000000
vec($_, 5, 1) = 1 == 32 00000100000000000000000000000000
vec($_, 6, 1) = 1 == 64 00000010000000000000000000000000
vec($_, 7, 1) = 1 == 128 00000001000000000000000000000000
vec($_, 8, 1) = 1 == 256 00000000100000000000000000000000
vec($_, 9, 1) = 1 == 512 00000000010000000000000000000000
vec($_,10, 1) = 1 == 1024 00000000001000000000000000000000
vec($_,11, 1) = 1 == 2048 00000000000100000000000000000000
vec($_,12, 1) = 1 == 4096 00000000000010000000000000000000
vec($_,13, 1) = 1 == 8192 00000000000001000000000000000000
vec($_,14, 1) = 1 == 16384 00000000000000100000000000000000
vec($_,15, 1) = 1 == 32768 00000000000000010000000000000000
vec($_,16, 1) = 1 == 65536 00000000000000001000000000000000
vec($_,17, 1) = 1 == 131072 00000000000000000100000000000000
vec($_,18, 1) = 1 == 262144 00000000000000000010000000000000
vec($_,19, 1) = 1 == 524288 00000000000000000001000000000000
vec($_,20, 1) = 1 == 1048576
00000000000000000000100000000000 vec($_,21, 1) = 1 ==
2097152 00000000000000000000010000000000 vec($_,22, 1) = 1
== 4194304 00000000000000000000001000000000 vec($_,23, 1) =
1 == 8388608 00000000000000000000000100000000 vec($_,24, 1)
= 1 == 16777216 00000000000000000000000010000000 vec($_,25,
1) = 1 == 33554432 00000000000000000000000001000000
vec($_,26, 1) = 1 == 67108864
00000000000000000000000000100000 vec($_,27, 1) = 1 ==
134217728 00000000000000000000000000010000 vec($_,28, 1) = 1
== 268435456 00000000000000000000000000001000 vec($_,29, 1)
= 1 == 536870912 00000000000000000000000000000100 vec($_,30,
1) = 1 == 1073741824 00000000000000000000000000000010
vec($_,31, 1) = 1 == 2147483648
00000000000000000000000000000001 vec($_, 0, 2) = 1 == 1
10000000000000000000000000000000 vec($_, 1, 2) = 1 == 4
00100000000000000000000000000000 vec($_, 2, 2) = 1 == 16
00001000000000000000000000000000 vec($_, 3, 2) = 1 == 64
00000010000000000000000000000000 vec($_, 4, 2) = 1 == 256
00000000100000000000000000000000 vec($_, 5, 2) = 1 == 1024
00000000001000000000000000000000 vec($_, 6, 2) = 1 == 4096
00000000000010000000000000000000 vec($_, 7, 2) = 1 == 16384
00000000000000100000000000000000 vec($_, 8, 2) = 1 == 65536
00000000000000001000000000000000 vec($_, 9, 2) = 1 == 262144
00000000000000000010000000000000 vec($_,10, 2) = 1 ==
1048576 00000000000000000000100000000000 vec($_,11, 2) = 1
== 4194304 00000000000000000000001000000000 vec($_,12, 2) =
1 == 16777216 00000000000000000000000010000000 vec($_,13, 2)
= 1 == 67108864 00000000000000000000000000100000 vec($_,14,
2) = 1 == 268435456 00000000000000000000000000001000
vec($_,15, 2) = 1 == 1073741824
00000000000000000000000000000010 vec($_, 0, 2) = 2 == 2
01000000000000000000000000000000 vec($_, 1, 2) = 2 == 8
00010000000000000000000000000000 vec($_, 2, 2) = 2 == 32
00000100000000000000000000000000 vec($_, 3, 2) = 2 == 128
00000001000000000000000000000000 vec($_, 4, 2) = 2 == 512
00000000010000000000000000000000 vec($_, 5, 2) = 2 == 2048
00000000000100000000000000000000 vec($_, 6, 2) = 2 == 8192
00000000000001000000000000000000 vec($_, 7, 2) = 2 == 32768
00000000000000010000000000000000 vec($_, 8, 2) = 2 == 131072
00000000000000000100000000000000 vec($_, 9, 2) = 2 == 524288
00000000000000000001000000000000 vec($_,10, 2) = 2 ==
2097152 00000000000000000000010000000000 vec($_,11, 2) = 2
== 8388608 00000000000000000000000100000000 vec($_,12, 2) =
2 == 33554432 00000000000000000000000001000000 vec($_,13, 2)
= 2 == 134217728 00000000000000000000000000010000 vec($_,14,
2) = 2 == 536870912 00000000000000000000000000000100
vec($_,15, 2) = 2 == 2147483648
00000000000000000000000000000001 vec($_, 0, 4) = 1 == 1
10000000000000000000000000000000 vec($_, 1, 4) = 1 == 16
00001000000000000000000000000000 vec($_, 2, 4) = 1 == 256
00000000100000000000000000000000 vec($_, 3, 4) = 1 == 4096
00000000000010000000000000000000 vec($_, 4, 4) = 1 == 65536
00000000000000001000000000000000 vec($_, 5, 4) = 1 ==
1048576 00000000000000000000100000000000 vec($_, 6, 4) = 1
== 16777216 00000000000000000000000010000000 vec($_, 7, 4) =
1 == 268435456 00000000000000000000000000001000 vec($_, 0,
4) = 2 == 2 01000000000000000000000000000000 vec($_, 1, 4) =
2 == 32 00000100000000000000000000000000 vec($_, 2, 4) = 2
== 512 00000000010000000000000000000000 vec($_, 3, 4) = 2 ==
8192 00000000000001000000000000000000 vec($_, 4, 4) = 2 ==
131072 00000000000000000100000000000000 vec($_, 5, 4) = 2 ==
2097152 00000000000000000000010000000000 vec($_, 6, 4) = 2
== 33554432 00000000000000000000000001000000 vec($_, 7, 4) =
2 == 536870912 00000000000000000000000000000100 vec($_, 0,
4) = 4 == 4 00100000000000000000000000000000 vec($_, 1, 4) =
4 == 64 00000010000000000000000000000000 vec($_, 2, 4) = 4
== 1024 00000000001000000000000000000000 vec($_, 3, 4) = 4
== 16384 00000000000000100000000000000000 vec($_, 4, 4) = 4
== 262144 00000000000000000010000000000000 vec($_, 5, 4) = 4
== 4194304 00000000000000000000001000000000 vec($_, 6, 4) =
4 == 67108864 00000000000000000000000000100000 vec($_, 7, 4)
= 4 == 1073741824 00000000000000000000000000000010 vec($_,
0, 4) = 8 == 8 00010000000000000000000000000000 vec($_, 1,
4) = 8 == 128 00000001000000000000000000000000 vec($_, 2, 4)
= 8 == 2048 00000000000100000000000000000000 vec($_, 3, 4) =
8 == 32768 00000000000000010000000000000000 vec($_, 4, 4) =
8 == 524288 00000000000000000001000000000000 vec($_, 5, 4) =
8 == 8388608 00000000000000000000000100000000 vec($_, 6, 4)
= 8 == 134217728 00000000000000000000000000010000 vec($_, 7,
4) = 8 == 2147483648 00000000000000000000000000000001
vec($_, 0, 8) = 1 == 1 10000000000000000000000000000000
vec($_, 1, 8) = 1 == 256 00000000100000000000000000000000
vec($_, 2, 8) = 1 == 65536 00000000000000001000000000000000
vec($_, 3, 8) = 1 == 16777216
00000000000000000000000010000000 vec($_, 0, 8) = 2 == 2
01000000000000000000000000000000 vec($_, 1, 8) = 2 == 512
00000000010000000000000000000000 vec($_, 2, 8) = 2 == 131072
00000000000000000100000000000000 vec($_, 3, 8) = 2 ==
33554432 00000000000000000000000001000000 vec($_, 0, 8) = 4
== 4 00100000000000000000000000000000 vec($_, 1, 8) = 4 ==
1024 00000000001000000000000000000000 vec($_, 2, 8) = 4 ==
262144 00000000000000000010000000000000 vec($_, 3, 8) = 4 ==
67108864 00000000000000000000000000100000 vec($_, 0, 8) = 8
== 8 00010000000000000000000000000000 vec($_, 1, 8) = 8 ==
2048 00000000000100000000000000000000 vec($_, 2, 8) = 8 ==
524288 00000000000000000001000000000000 vec($_, 3, 8) = 8 ==
134217728 00000000000000000000000000010000 vec($_, 0, 8) =
16 == 16 00001000000000000000000000000000 vec($_, 1, 8) = 16
== 4096 00000000000010000000000000000000 vec($_, 2, 8) = 16
== 1048576 00000000000000000000100000000000 vec($_, 3, 8) =
16 == 268435456 00000000000000000000000000001000 vec($_, 0,
8) = 32 == 32 00000100000000000000000000000000 vec($_, 1, 8)
= 32 == 8192 00000000000001000000000000000000 vec($_, 2, 8)
= 32 == 2097152 00000000000000000000010000000000 vec($_, 3,
8) = 32 == 536870912 00000000000000000000000000000100
vec($_, 0, 8) = 64 == 64 00000010000000000000000000000000
vec($_, 1, 8) = 64 == 16384 00000000000000100000000000000000
vec($_, 2, 8) = 64 == 4194304
00000000000000000000001000000000 vec($_, 3, 8) = 64 ==
1073741824 00000000000000000000000000000010 vec($_, 0, 8) =
128 == 128 00000001000000000000000000000000 vec($_, 1, 8) =
128 == 32768 00000000000000010000000000000000 vec($_, 2, 8)
= 128 == 8388608 00000000000000000000000100000000 vec($_, 3,
8) = 128 == 2147483648 00000000000000000000000000000001</p>

<p>wait Behaves like the wait(2) system call on your
system: it waits for a child process to terminate and
returns the pid of the deceased process, or &quot;-1&quot;
if there are no child processes. The status is returned in
$? and &quot;${^CHILD_ERROR_NATIVE}&quot;. Note that a
return value of &quot;-1&quot; could mean that child
processes are being automatically reaped, as described in
perlipc.</p>

<p>waitpid PID,FLAGS Waits for a particular child process
to terminate and returns the pid of the deceased process, or
&quot;-1&quot; if there is no such child process. On some
systems, a value of 0 indicates that there are processes
still running. The status is returned in $? and
&quot;${^CHILD_ERROR_NATIVE}&quot;. If you say</p>

<p>use POSIX &quot;:sys_wait_h&quot;; #... do { $kid =
waitpid(-1, WNOHANG); } while $kid &gt; 0;</p>

<p>then you can do a non-blocking wait for all pending
zombie processes. Non-blocking wait is available on machines
supporting either the waitpid(2) or wait4(2) system calls.
However, waiting for a particular pid with FLAGS of 0 is
implemented everywhere. (Perl emulates the system call by
remembering the status values of processes that have exited
but have not been harvested by the Perl script yet.)</p>

<p>Note that on some systems, a return value of
&quot;-1&quot; could mean that child processes are being
automatically reaped. See perlipc for details, and for other
examples.</p>

<p>wantarray Returns true if the context of the currently
executing subroutine or &quot;eval&quot; is looking for a
list value. Returns false if the context is looking for a
scalar. Returns the undefined value if the context is
looking for no value (void context).</p>

<p>return unless defined wantarray; # don&rsquo;t bother
doing more my @a = complex_calculation(); return wantarray ?
@a : &quot;@a&quot;;</p>

<p>&quot;wantarray()&quot; s result is unspecified in the
top level of a file, in a &quot;BEGIN&quot;,
&quot;UNITCHECK&quot;, &quot;CHECK&quot;, &quot;INIT&quot;
or &quot;END&quot; block, or in a &quot;DESTROY&quot;
method.</p>

<p>This function should have been named wantlist()
instead.</p>

<p>warn LIST Prints the value of LIST to STDERR. If the
last element of LIST does not end in a newline, it appends
the same file/line number text as &quot;die&quot; does.</p>

<p>If LIST is empty and $@ already contains a value
(typically from a previous eval) that value is used after
appending &quot;...caught&quot; to $@. This is useful for
staying almost, but not entirely similar to
&quot;die&quot;.</p>

<p>If $@ is empty then the string &quot;Warning:
Something&rsquo;s wrong&quot; is used.</p>

<p>No message is printed if there is a $SIG{__WARN__}
handler installed. It is the handlers responsibility to deal
with the message as it sees fit (like, for instance,
converting it into a &quot;die&quot;). Most handlers must
therefore make arrangements to actually display the warnings
that they are not prepared to deal with, by calling
&quot;warn&quot; again in the handler. Note that this is
quite safe and will not produce an endless loop, since
&quot;__WARN__&quot; hooks are not called from inside
one.</p>

<p>You will find this behavior is slightly different from
that of $SIG{__DIE__} handlers (which don t suppress the
error text, but can instead call &quot;die&quot; again to
change it).</p>

<p>Using a &quot;__WARN__&quot; handler provides a powerful
way to silence all warnings (even the so-called mandatory
ones). An example:</p>

<p># wipe out *all* compile-time warnings BEGIN {
$SIG{&rsquo;__WARN__&rsquo;} = sub { warn $_[0] if $DOWARN }
} my $foo = 10; my $foo = 20; # no warning about duplicate
my $foo, # but hey, you asked for it! # no compile-time or
run-time warnings before here $DOWARN = 1;</p>

<p># run-time warnings enabled after here warn &quot;oo is
alive and $foo!&quot;; # does show up</p>

<p>See perlvar for details on setting %SIG entries, and for
more examples. See the Carp module for other kinds of
warnings using its carp() and cluck() functions.</p>

<p>write FILEHANDLE write EXPR write Writes a formatted
record (possibly multi-line) to the specified FILEHANDLE,
using the format associated with that file. By default the
format for a file is the one having the same name as the
filehandle, but the format for the current output channel
(see the &quot;select&quot; function) may be set explicitly
by assigning the name of the format to the $~ variable.</p>

<p>Top of form processing is handled automatically: if
there is insufficient room on the current page for the
formatted record, the page is advanced by writing a form
feed, a special top-of- page format is used to format the
new page header, and then the record is written. By default
the top-of-page format is the name of the filehandle with
&quot;_TOP&quot; appended, but it may be dynamically set to
the format of your choice by assigning the name to the $^
variable while the filehandle is selected. The number of
lines remaining on the current page is in variable
&quot;$-&quot;, which can be set to 0 to force a new
page.</p>

<p>If FILEHANDLE is unspecified, output goes to the current
default output channel, which starts out as STDOUT but may
be changed by the &quot;select&quot; operator. If the
FILEHANDLE is an EXPR, then the expression is evaluated and
the resulting string is used to look up the name of the
FILEHANDLE at run time. For more on formats, see
perlform.</p>

<p>Note that write is not the opposite of &quot;read&quot;.
Unfortunately.</p>

<p>y/// The transliteration operator. Same as
&quot;tr///&quot;. See &quot;Quote and Quote-like
Operators&quot; in perlop.</p>

<p>perl v5.10.1 2009-08-12 PERLFUNC(1)</p>
<hr>
</body>
</html>
