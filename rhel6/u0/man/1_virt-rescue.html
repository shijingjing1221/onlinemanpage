<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:24:57 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>VIRT-RESCUE(1) Virtualization Support VIRT-RESCUE(1)</p>

<p>NAME virt-rescue - Run a rescue shell on a virtual
machine</p>

<p>SYNOPSIS virt-rescue [--options] domname</p>

<p>virt-rescue [--options] disk.img [disk.img ...]</p>

<p>WARNING You must not use &quot;virt-rescue&quot; on live
virtual machines. Doing so will probably result in disk
corruption in the VM. &quot;virt-rescue&quot; tries to stop
you from doing this, but doesnt catch all cases.</p>

<p>However if you use the --ro (read only) option, then you
can attach a shell to a live virtual machine. The results
might be strange or inconsistent at times but you wont get
disk corruption.</p>

<p>DESCRIPTION virt-rescue is like a Rescue CD, but for
virtual machines, and without the need for a CD. virt-rescue
gives you a rescue shell and some simple recovery tools
which you can use to examine or rescue a virtual machine or
disk image.</p>

<p>You can run virt-rescue on any virtual machine known to
libvirt, or directly on disk image(s):</p>

<p>virt-rescue GuestName</p>

<p>virt-rescue --ro /path/to/disk.img</p>

<p>virt-rescue /dev/sdc</p>

<p>For live VMs you must use the --ro option.</p>

<p>When you run virt-rescue on a virtual machine or disk
image, you are placed in an interactive bash shell where you
can use many ordinary Linux commands. What you see in
&quot;/&quot; (&quot;/bin&quot;, &quot;/lib&quot; etc) is
the rescue appliance. You must mount the virtual machine s
filesystems by hand. There is an empty directory called
&quot;/sysroot&quot; where you can mount filesystems.</p>

<p>In the example below, we list logical volumes, then
choose one to mount under &quot;/sysroot&quot;:</p>

<p>&gt;&lt;rescue&gt; lvs LV VG Attr LSize Origin Snap%
Move Log Copy% Convert lv_root vg_f11x64 -wi-a- 8.83G
lv_swap vg_f11x64 -wi-a- 992.00M &gt;&lt;rescue&gt; mount
/dev/vg_f11x64/lv_root /sysroot &gt;&lt;rescue&gt; ls
/sysroot</p>

<p>If you don t know what filesystems are available on the
virtual machine then you can use commands such as parted(8)
and lvs(8) to find out.</p>

<p>NOTES Virt-rescue can be used on any disk image file or
device, not just a virtual machine. For example you can use
it on a blank file if you want to partition that file
(although we would recommend using guestfish(1) instead as
it is more suitable for this purpose). You can even use
virt-rescue on things like SD cards.</p>

<p>This tool is just designed for quick interactive hacking
on a virtual machine. For more structured access to a
virtual machine disk image, you should use guestfs(3). To
get a structured shell that you can use to make scripted
changes to guests, use guestfish(1).</p>

<p>OPTIONS --help Display brief help.</p>

<p>--version Display version number and exit.</p>

<p>--connect URI | -c URI If using libvirt, connect to the
given URI. If omitted, then we connect to the default
libvirt hypervisor.</p>

<p>If you specify guest block devices directly, then
libvirt is not used at all.</p>

<p>--ro | -r Open the image read-only.</p>

<p>The option must always be used if the disk image or
virtual machine might be running, and is generally
recommended in cases where you dont need write access to the
disk.</p>

<p>ENVIRONMENT VARIABLES Several environment variables
affect virt-rescue. See &quot;ENVIRONMENT VARIABLES&quot; in
guestfs(3) for the complete list.</p>

<p>SEE ALSO guestfs(3), guestfish(1), virt-cat(1),
Sys::Guestfs(3), Sys::Guestfs::Lib(3), Sys::Virt(3),
&lt;http://libguestfs.org/&gt;.</p>

<p>AUTHOR Richard W.M. Jones
&lt;http://people.redhat.com/~rjones/&gt;</p>

<p>COPYRIGHT Copyright (C) 2009-2010 Red Hat Inc.</p>

<p>This program is free software; you can redistribute it
and/or modify it under the terms of the GNU General Public
License as published by the Free Software Foundation; either
version 2 of the License, or (at your option) any later
version.</p>

<p>This program is distributed in the hope that it will be
useful, but WITHOUT ANY WARRANTY; without even the implied
warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
PURPOSE. See the GNU General Public License for more
details.</p>

<p>You should have received a copy of the GNU General
Public License along with this program; if not, write to the
Free Software Foundation, Inc., 675 Mass Ave, Cambridge, MA
02139, USA.</p>

<p>libguestfs-1.2.7 2010-05-14 VIRT-RESCUE(1)</p>
<hr>
</body>
</html>
