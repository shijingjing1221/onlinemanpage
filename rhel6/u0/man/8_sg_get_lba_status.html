<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:15:22 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>SG_GET_LBA_STATUS(8) SG3_UTILS SG_GET_LBA_STATUS(8)</p>

<p>NAME sg_get_lba_status - send the SCSI GET LBA STATUS
command</p>

<p>SYNOPSIS sg_get_lba_status [--brief] [--help] [--hex]
[--lba=LBA] [--maxlen=LEN] [--raw] [--verbose] [--version]
DEVICE</p>

<p>DESCRIPTION Send the SCSI GET LBA STATUS command to the
DEVICE and outputs the response. This command was introduced
in (draft) SBC-3 revision 20 and devices that support thin
provisioning should support this command.</p>

<p>The default action is to decode the response into one
LBA status descriptor per line output to stdout. The
descriptor LBA is output in hex (prefixed by 0x) and the
number of blocks is output in decimal followed by the
provisioning status in decimal. The provisioning status can
be in the range 0 to 15 of which only 0 (mapped) and 1
(unmapped) are used currently. The amount of output can be
reduced by the --brief option.</p>

<p>OPTIONS Arguments to long options are mandatory for
short options as well.</p>

<p>-b, --brief when use once then one LBA status descriptor
per line is output to stdout. Each line has this format:
&quot;0x&lt;descriptor_LBA&gt; 0x&lt;blocks&gt;
&lt;provisioning_status&gt;&quot;. So the descriptor LBA and
blocks are output in hex and the provisioning status in
decimal. When used twice (e.g. -bb or --brief --brief) the
the provi- sioning status of the given LBA (or LBA 0 if the
--lba option is not given) is output to stdout. A check is
made that the given LBA lies on the range of the first
returned LBA status descrip- tor (as it should according to
SBC-3 revision 20) and warnings are sent to stderr if it
doesnt.</p>

<p>-h, --help output the usage message then exit.</p>

<p>-H, --hex output response to this command in ASCII
hex.</p>

<p>-l, --lba=LBA where LBA is the starting Logical Block
Address (LBA) to check the provisioning status for. Note
that the DEVICE chooses how many following blocks that it
will return provisioning status for.</p>

<p>-m, --maxlen=LEN where LEN is the (maximum) response
length in bytes. It is placed in the cdbs &quot;allocation
length&quot; field. If not given then 24 is used. 24 is
enough space for the response header and one LBA status
descriptor. LEN should be 8 plus a multiple of 16 (e.g. 24,
40, and 56 are suitable).</p>

<p>-r, --raw output response in binary (to stdout).</p>

<p>-v, --verbose increase the level of verbosity, (i.e.
debug output). Additional output caused by this option is
sent to stderr.</p>

<p>-V, --version print the version string and then
exit.</p>

<p>NOTES For a discussion of thin provisioning see section
4.6.3 of sbcr20.pdf at http://www.t10.org (or the
corresponding section of a later draft).</p>

<p>EXIT STATUS The exit status of sg_get_lba_status is 0
when it is successful. Other- wise see the sg3_utils(8) man
page.</p>

<p>AUTHORS Written by Douglas Gilbert.</p>

<p>REPORTING BUGS Report bugs to &lt;dgilbert at interlog
dot com&gt;.</p>

<p>COPYRIGHT Copyright &copy; 2009 Douglas Gilbert This
software is distributed under a FreeBSD license. There is NO
war- ranty; not even for MERCHANTABILITY or FITNESS FOR A
PARTICULAR PUR- POSE.</p>

<p>SEE ALSO sg_write_same(8), sg_unmap(8)</p>

<p>sg3_utils-1.28 September 2009 SG_GET_LBA_STATUS(8)</p>
<hr>
</body>
</html>
