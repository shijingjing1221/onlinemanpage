<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:07:20 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>MKDUMRD(8) MKDUMRD(8)</p>

<p>NAME mkdumprd - creates initial ramdisk images for kdump
crash recovery</p>

<p>SYNOPSIS mkdumprd [--version] [-v] [-f] [-d]
[--preload=module] [--omit-scsi-modules]
[--omit-raid-modules] [--omit-lvm-modules] [--image-version]
[--fstab=fstab] [--nocompress] [--builtin=module] image
kernel-version</p>

<p>DESCRIPTION mkdumprd creates an initial ram file system
for use in conjunction with the booting of a kernel within
the kdump framework for crash recovery. mkdumprds purpose is
to create an initial ram filesystem capable of copying the
crashed systems vmcore image to a location specified in
/etc/kdump.conf</p>

<p>Any module options specified in /etc/modprobe.conf are
passed to the modules as they are loaded by the initial
ramdisk.</p>

<p>mkdumprd interrogates the running system to understand
what modules need to be loaded in the initramfs (based on
configuration retrieved from /etc/kdump.conf)</p>

<p>mkdumprd was origionally derived from the mkinitrd
utility (hence the simmilarity in option sets), however
mkdumprds purpose and mission is significantly different
than that of mkinitrd. As such, while most of the options
still exist, and may work, they are largely vestigual at
this point. mkdumprd was not intended for casual use outside
of the service initialization script for the kdump utility,
and should not be run manually. If you require a custom
kdump initramfs image, it is suggested that you use the
kdump service infrastrucutre to create one, and then
manually unpack, modify and repack the image.</p>

<p>OPTIONS --builtin=module Act as if module is built into
the kernel being used. mkdumprd will not look for this
module, and will not emit an error if it does not exist.
This option may be used multiple times.</p>

<p>-f Allows mkdumprd to overwrite an existing image
file.</p>

<p>--fstab=fstab Use fstab to automatically determine what
type of filesystem the root device is on. Normally,
/etc/fstab is used.</p>

<p>--image-version The kernel version number is appended to
the initrd image path before the image is created.</p>

<p>--nocompress Normally the created initrd image is
compressed with gzip. If this option is specified, the
compression is skipped.</p>

<p>--omit-lvm-modules Do not load any lvm modules, even if
/etc/fstab expects them.</p>

<p>--omit-raid-modules Do not load any raid modules, even
if /etc/fstab and /etc/raidtab expect them.</p>

<p>--omit-scsi-modules Do not load any scsi modules,
including scsi_mod and sd_mod modules, even if they are
present.</p>

<p>--preload=module Load the module module in the initial
ramdisk image. The module gets loaded before any SCSI
modules which are specified in /etc/modprobe.conf. This
option may be used as many times as necessary.</p>

<p>-v Prints out verbose information while creating the
image (nor- mally the mkdumprd runs silently).</p>

<p>-d Query /etc/kdump for initrd construction
configuration</p>

<p>--version Prints the version of mkdumprd thats being
used and then exits.</p>

<p>FILES /etc/modprobe.conf Specifies modules to be loaded
and module options to be used.</p>

<p>SEE ALSO fstab(5), insmod(1) mkinitrd(8)</p>

<p>Fri Feb 9 2007 MKDUMRD(8)</p>
<hr>
</body>
</html>
