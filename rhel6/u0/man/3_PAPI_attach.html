<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:09:15 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>PAPI_attach(3) PAPI PAPI_attach(3)</p>

<p>NAME PAPI_attach - attach PAPI event set to the
specified thread id PAPI_detach - detach PAPI event set from
previously specified thread id and restore to executing
thread</p>

<p>SYNOPSIS C Interface #include &lt;papi.h&gt; int
PAPI_attach(int EventSet, unsigned long tid); int
PAPI_detach(int EventSet); Fortran Interface
&lt;none&gt;</p>

<p>DESCRIPTION PAPI_attach() and PAPI_detach() are wrapper
functions that access PAPI_set_opt() (3) to allow PAPI to
monitor performance counts on a thread other than the one
currently executing. This is sometimes referred to as third
party monitoring. PAPI_attach() connects the specified
EventSet to the specifed thread; PAPI_detach() breaks that
connection and restores the EventSet to the original
executing thread.</p>

<p>ARGUMENTS EventSet -- an integer handle for a PAPI Event
Set as created by PAPI_create_eventset(3)</p>

<p>tid -- a thread id as obtained from, for example,
PAPI_list_threads(3) or PAPI_thread_id(3).</p>

<p>RETURN VALUES On success, these functions return
PAPI_OK. On error, a negative error code is returned.</p>

<p>ERRORS PAPI_ESBSTR This feature is unsupported on this
substrate.</p>

<p>PAPI_EINVAL One or more of the arguments is invalid.</p>

<p>PAPI_ENOEVST The event set specified does not exist.</p>

<p>PAPI_EISRUN The event set is currently counting
events.</p>

<p>EXAMPLES int EventSet = PAPI_NULL; unsigned long
pid;</p>

<p>pid = fork(); if (pid &lt;= 0) exit(1);</p>

<p>if (PAPI_create_eventset(&amp;EventSet) != PAPI_OK)
exit(1);</p>

<p>/* Add Total Instructions Executed to our EventSet
*/</p>

<p>if (PAPI_add_event(EventSet, PAPI_TOT_INS) != PAPI_OK)
exit(1);</p>

<p>/* Attach this EventSet to the forked process */</p>

<p>if (PAPI_attach(EventSet, pid) != PAPI_OK) exit(1);</p>

<p>BUGS There are no known bugs in these functions.</p>

<p>SEE ALSO PAPI_list_threads(3), PAPI_thread_id(3),
PAPI_thread_init(3), PAPI_set_opt(3)</p>

<p>PAPI Programmer s Reference October, 2006
PAPI_attach(3)</p>
<hr>
</body>
</html>
