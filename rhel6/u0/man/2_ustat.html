<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:24:35 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>USTAT(2) Linux Programmer s Manual USTAT(2)</p>

<p>NAME ustat - get file system statistics</p>

<p>SYNOPSIS #include &lt;sys/types.h&gt; #include
&lt;unistd.h&gt; /* libc[45] */ #include &lt;ustat.h&gt; /*
glibc2 */</p>

<p>int ustat(dev_t dev, struct ustat *ubuf);</p>

<p>DESCRIPTION ustat() returns information about a mounted
file system. dev is a device number identifying a device
containing a mounted file system. ubuf is a pointer to a
ustat structure that contains the following mem- bers:</p>

<p>daddr_t f_tfree; /* Total free blocks */ ino_t f_tinode;
/* Number of free inodes */ char f_fname[6]; /* Filsys name
*/ char f_fpack[6]; /* Filsys pack name */</p>

<p>The last two fields, f_fname and f_fpack, are not
implemented and will always be filled with null bytes
(&rsquo; &rsquo;).</p>

<p>RETURN VALUE On success, zero is returned and the ustat
structure pointed to by ubuf will be filled in. On error, -1
is returned, and errno is set appro- priately.</p>

<p>ERRORS EFAULT ubuf points outside of your accessible
address space.</p>

<p>EINVAL dev does not refer to a device containing a
mounted file system.</p>

<p>ENOSYS The mounted file system referenced by dev does
not support this operation, or any version of Linux before
1.3.16.</p>

<p>CONFORMING TO SVr4.</p>

<p>NOTES ustat() is deprecated and has only been provided
for compatibility. All new programs should use statfs(2)
instead.</p>

<p>HP-UX Notes The HP-UX version of the ustat structure has
an additional field, f_blksize, that is unknown elsewhere.
HP-UX warns: For some file sys- tems, the number of free
inodes does not change. Such file systems will return -1 in
the field f_tinode. For some file systems, inodes are
dynamically allocated. Such file systems will return the
current number of free inodes.</p>

<p>SEE ALSO stat(2), statfs(2)</p>

<p>COLOPHON This page is part of release 3.22 of the Linux
man-pages project. A description of the project, and
information about reporting bugs, can be found at
http://www.kernel.org/doc/man-pages/.</p>

<p>Linux 2003-08-04 USTAT(2)</p>
<hr>
</body>
</html>
