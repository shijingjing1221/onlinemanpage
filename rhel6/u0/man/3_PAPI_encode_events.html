<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:09:16 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>PAPI_encode_events(3) PAPI PAPI_encode_events(3)</p>

<p>NAME PAPI_encode_events - read event definitions from a
file and modify the existing PAPI preset table.</p>

<p>SYNOPSIS C Interface #include &lt;papi.h&gt; int
PAPI_encode_events(char * event_file, int replace);</p>

<p>DESCRIPTION NOTE: This API has been deprecated in PAPI
3.5 pending a data structure redesign.</p>

<p>This function reads event descriptions from a file where
they are stored in comma separated value format and modifies
or adds events to the PAPI preset event table. The file
format is described below. This function presently works
only to define or modify PAPI preset events.</p>

<p>FILE FORMAT The comma separated value file format is one
that can be easily edited in a standard text editor or a
csv-aware spreadsheet application, and can be easily parsed.
Text strings can contain commas, but only if the strings are
enclosed in quotes. Each entry in the file is a separate
line, and each field, including empty fields, is separated
by a comma from its neighbor. The specific format used in
this case consists of a title line for readability, a blank
line, and a series of lines con- taining event definitions.
A portion of such a file (for Pentium 4) is shown below:</p>


<p>name,derived,postfix,short_descr,long_descr,note,[native,...]</p>

<p>PAPI_L1_ICM,NOT_DERIVED,,&quot;L1I cache
misses&quot;,&quot;Level 1 instruction cache
misses&quot;,,BPU_fetch_request_TCMISS
PAPI_L2_TCM,NOT_DERIVED,,&quot;L2 cache
misses&quot;,&quot;Level 2 cache
misses&quot;,,BSQ_cache_reference_RD_2ndL_MISS_WR_2ndL_MISS
PAPI_TLB_DM,NOT_DERIVED,,&quot;Data TLB
misses&quot;,&quot;Data translation lookaside buffer
misses&quot;,,page_walk_type_DTMISS
MY_PAPI_TLB_DM,NOT_DERIVED,,&quot;Data TLB
misses&quot;,&quot;Data translation lookaside buffer
misses&quot;,&quot;This is a note for my
event&quot;,page_walk_type_DTMISS</p>

<p>ARGUMENTS event_file -- string containing the name of
the csv event file to be read</p>

<p>replace -- 1 to replace existing events, or 0 to prevent
accidental replacement</p>

<p>RETURN VALUES On success, the function returns PAPI_OK.
On error, a non-zero error code is returned by the
function.</p>

<p>ERRORS PAPI_EPERM You are trying to modify an existing
event without specifying replace.</p>

<p>PAPI_EISRUN You are trying to modify an event that has
been added to an EventSet.</p>

<p>PAPI_EINVAL One or more of the arguments or fields of
the info structure is invalid.</p>

<p>PAPI_ENOTPRESET The PAPI preset table is full and there
is no room for a new event.</p>

<p>PAPI_ENOEVNT The event specified is not a PAPI preset.
Usually because the PAPI_PRESET_MASK bit is not set.</p>

<p>EXAMPLE /* Use the command line utility to create a csv
copy of the currently defined events */ &gt;
/papi/utils/decode -a -&gt; current.csv /* View and modify
the events in an editor */ &gt; vi current.csv /* Load the
modified events into the preset table */ if
(PAPI_encode_events(&quot;./current.csv&quot;, 1) !=
PAPI_OK) handle_error(1);</p>

<p>BUGS This function has no known bugs.</p>

<p>SEE ALSO papi_decode(1), PAPI(3), PAPIF(3),
PAPI_get_event_info(3), PAPI_set_event_info(3)</p>

<p>PAPI Programmer s Reference October, 2006
PAPI_encode_events(3)</p>
<hr>
</body>
</html>
