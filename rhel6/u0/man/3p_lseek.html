<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:06:43 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>LSEEK(3P) POSIX Programmer s Manual LSEEK(3P)</p>

<p>PROLOG This manual page is part of the POSIX Programmer
s Manual. The Linux implementation of this interface may
differ (consult the corresponding Linux manual page for
details of Linux behavior), or the interface may not be
implemented on Linux.</p>

<p>NAME lseek - move the read/write file offset</p>

<p>SYNOPSIS #include &lt;unistd.h&gt;</p>

<p>off_t lseek(int fildes, off_t offset, int whence);</p>

<p>DESCRIPTION The lseek() function shall set the file
offset for the open file description associated with the
file descriptor fildes, as follows:</p>

<p>* If whence is SEEK_SET, the file offset shall be set to
offset bytes.</p>

<p>* If whence is SEEK_CUR, the file offset shall be set to
its current location plus offset.</p>

<p>* If whence is SEEK_END, the file offset shall be set to
the size of the file plus offset.</p>

<p>The symbolic constants SEEK_SET, SEEK_CUR, and SEEK_END
are defined in &lt;unistd.h&gt;.</p>

<p>The behavior of lseek() on devices which are incapable
of seeking is implementation-defined. The value of the file
offset associated with such a device is undefined.</p>

<p>The lseek() function shall allow the file offset to be
set beyond the end of the existing data in the file. If data
is later written at this point, subsequent reads of data in
the gap shall return bytes with the value 0 until data is
actually written into the gap.</p>

<p>The lseek() function shall not, by itself, extend the
size of a file.</p>

<p>If fildes refers to a shared memory object, the result
of the lseek() function is unspecified.</p>

<p>If fildes refers to a typed memory object, the result of
the lseek() function is unspecified.</p>

<p>RETURN VALUE Upon successful completion, the resulting
offset, as measured in bytes from the beginning of the file,
shall be returned. Otherwise, (off_t)-1 shall be returned,
errno shall be set to indicate the error, and the file
offset shall remain unchanged.</p>

<p>ERRORS The lseek() function shall fail if:</p>

<p>EBADF The fildes argument is not an open file
descriptor.</p>

<p>EINVAL The whence argument is not a proper value, or the
resulting file offset would be negative for a regular file,
block special file, or directory.</p>

<p>EOVERFLOW The resulting file offset would be a value
which cannot be rep- resented correctly in an object of type
off_t.</p>

<p>ESPIPE The fildes argument is associated with a pipe,
FIFO, or socket.</p>

<p>The following sections are informative.</p>

<p>EXAMPLES None.</p>

<p>APPLICATION USAGE None.</p>

<p>RATIONALE The ISO C standard includes the functions
fgetpos() and fsetpos(), which work on very large files by
use of a special positioning type.</p>

<p>Although lseek() may position the file offset beyond the
end of the file, this function does not itself extend the
size of the file. While the only function in IEEE Std
1003.1-2001 that may directly extend the size of the file is
write(), truncate(), and ftruncate(), several func- tions
originally derived from the ISO C standard, such as
fwrite(), fprintf(), and so on, may do so (by causing calls
on write()).</p>

<p>An invalid file offset that would cause [EINVAL] to be
returned may be both implementation-defined and
device-dependent (for example, memory may have few invalid
values). A negative file offset may be valid for some
devices in some implementations.</p>

<p>The POSIX.1-1990 standard did not specifically prohibit
lseek() from returning a negative offset. Therefore, an
application was required to clear errno prior to the call
and check errno upon return to determine whether a return
value of ( off_t)-1 is a negative offset or an indica- tion
of an error condition. The standard developers did not wish
to require this action on the part of a conforming
application, and chose to require that errno be set to
[EINVAL] when the resulting file offset would be negative
for a regular file, block special file, or directory.</p>

<p>FUTURE DIRECTIONS None.</p>

<p>SEE ALSO open(), the Base Definitions volume of IEEE Std
1003.1-2001, &lt;sys/types.h&gt;, &lt;unistd.h&gt;</p>

<p>COPYRIGHT Portions of this text are reprinted and
reproduced in electronic form from IEEE Std 1003.1, 2003
Edition, Standard for Information Technology -- Portable
Operating System Interface (POSIX), The Open Group Base
Specifications Issue 6, Copyright (C) 2001-2003 by the
Institute of Electrical and Electronics Engineers, Inc and
The Open Group. In the event of any discrepancy between this
version and the original IEEE and The Open Group Standard,
the original IEEE and The Open Group Standard is the referee
document. The original Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>

<p>IEEE/The Open Group 2003 LSEEK(3P)</p>
<hr>
</body>
</html>
