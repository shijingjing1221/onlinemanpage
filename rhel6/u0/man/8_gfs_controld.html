<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:01:27 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>GFS_CONTROLD(8) cluster GFS_CONTROLD(8)</p>

<p>NAME gfs_controld - daemon that coordinates gfs mounts
and recovery</p>

<p>SYNOPSIS gfs_controld [OPTIONS]</p>

<p>DESCRIPTION GFS lives in the kernel, and the cluster
infrastructure (corosync mem- bership and group management)
lives in user space. GFS in the kernel needs to
adjust/recover for certain cluster events. It s the job of
gfs_controld to receive these events and reconfigure gfs as
needed. gfs_controld controls and configures gfs through
sysfs files that are considered gfs-internal interfaces.</p>

<p>Mounting and node failure are the main cluster events
that gfs_controld controls. It also manages the assignment
of journals to different nodes. mount.gfs2(8) communicates
with gfs_controld to join the mount group and receive the
necessary options for the kernel mount.</p>

<p>The cman init script usually starts the gfs_controld
daemon.</p>

<p>OPTIONS Command line options override a corresponding
setting in cluster.conf.</p>

<p>-D Enable debugging to stderr and dont fork. See also
gfs_control dump in gfs_control(8).</p>

<p>-L Enable debugging to log file. See also logging in
cluster.conf(5).</p>

<p>-g num groupd compatibility mode, 0 off, 1 on. Default
0.</p>

<p>-w num Enable (1) or disable (0) withdraw. Default
1.</p>

<p>-h Print a help message describing available options,
then exit.</p>

<p>-V Print program version information, then exit.</p>

<p>Cluster Upgrading When performing a rolling upgrade from
cluster2 to cluster3, the gfs_controld daemon runs in
cluster2 compatibility mode and processes posix lock (plock)
requests from the dlm to remain compatible with cluster2
nodes. Otherwise, dlm_controld(8) handles plocks.</p>

<p>-p num Enable (1) or disable (0) plock code for cluster
fs. Default 1.</p>

<p>-l num Limit the rate of plock operations, 0 for no
limit. Default 0.</p>

<p>-o num Enable (1) or disable (0) plock ownership.
Default 0.</p>

<p>-t ms Plock ownership drop resources time
(milliseconds). Default 10000.</p>

<p>-c num Plock ownership drop resources count. Default
10.</p>

<p>-a ms Plock ownership drop resources age (milliseconds).
Default 10000.</p>

<p>-P Enable plock debugging messages (can produce
excessive output).</p>

<p>FILES cluster.conf(5) is usually located at
/etc/cluster/cluster.conf. It is not read directly. Other
cluster components load the contents into memory, and the
values are accessed through the libccs library.</p>

<p>Configuration options are added to the &lt;gfs_controld
/&gt; section of cluster.conf, within the top level
&lt;cluster&gt; section.</p>

<p>enable_withdraw Set to 1/0 to enable/disable a response
to a withdraw.</p>

<p>&lt;gfs_controld enable_withdraw=&quot;1&quot;/&gt;</p>

<p>Cluster Upgrading See note above about compatibility
plock handling during a rolling upgrade. The following
options are deprecated, see dlm_controld(8) for the new
equivalent options.</p>

<p>enable_plock See command line description.</p>

<p>&lt;gfs_controld enable_plock=&quot;1&quot;/&gt;</p>

<p>plock_rate_limit See command line description.</p>

<p>&lt;gfs_controld plock_rate_limit=&quot;0&quot;/&gt;</p>

<p>plock_ownership See command line description.</p>

<p>&lt;gfs_controld plock_ownership=&quot;0&quot;/&gt;</p>

<p>drop_resources_time See command line description.</p>

<p>&lt;gfs_controld
drop_resources_time=&quot;10000&quot;/&gt;</p>

<p>drop_resources_count See command line description.</p>

<p>&lt;gfs_controld
drop_resources_count=&quot;10&quot;/&gt;</p>

<p>drop_resources_age See command line description.</p>

<p>&lt;gfs_controld
drop_resources_age=&quot;10000&quot;/&gt;</p>

<p>plock_debug Enable (1) or disable (0) plock debugging
messages (can produce excessive output). Default 0.</p>

<p>&lt;gfs_controld plock_debug=&quot;0&quot;/&gt;</p>

<p>SEE ALSO mount.gfs2(8), gfs_control(8), dlm_controld(8),
cman(5), clus- ter.conf(5)</p>

<p>cluster 2009-01-19 GFS_CONTROLD(8)</p>
<hr>
</body>
</html>
