<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:08:45 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>CLOSELOG(3P) POSIX Programmer s Manual CLOSELOG(3P)</p>

<p>PROLOG This manual page is part of the POSIX Programmer
s Manual. The Linux implementation of this interface may
differ (consult the corresponding Linux manual page for
details of Linux behavior), or the interface may not be
implemented on Linux.</p>

<p>NAME closelog, openlog, setlogmask, syslog - control
system log</p>

<p>SYNOPSIS #include &lt;syslog.h&gt;</p>

<p>void closelog(void); void openlog(const char *ident, int
logopt, int facility); int setlogmask(int maskpri); void
syslog(int priority, const char *message, ... /* arguments
*/);</p>

<p>DESCRIPTION The syslog() function shall send a message
to an implementation-defined logging facility, which may log
it in an implementation-defined system log, write it to the
system console, forward it to a list of users, or forward it
to the logging facility on another host over the network.
The logged message shall include a message header and a
message body. The message header contains at least a
timestamp and a tag string.</p>

<p>The message body is generated from the message and
following arguments in the same manner as if these were
arguments to printf(), except that the additional conversion
specification %m shall be recognized; it shall convert no
arguments, shall cause the output of the error message
string associated with the value of errno on entry to
syslog(), and may be mixed with argument specifications of
the &quot;%n$&quot; form. If a complete conversion
specification with the m conversion specifier character is
not just %m, the behavior is undefined. A trailing
&lt;newline&gt; may be added if needed.</p>

<p>Values of the priority argument are formed by OR ing
together a sever- ity-level value and an optional facility
value. If no facility value is specified, the current
default facility value is used.</p>

<p>Possible values of severity level include:</p>

<p>LOG_EMERG A panic condition.</p>

<p>LOG_ALERT A condition that should be corrected
immediately, such as a cor- rupted system database.</p>

<p>LOG_CRIT Critical conditions, such as hard device
errors.</p>

<p>LOG_ERR Errors.</p>

<p>LOG_WARNING</p>

<p>Warning messages.</p>

<p>LOG_NOTICE Conditions that are not error conditions, but
that may require special handling.</p>

<p>LOG_INFO Informational messages.</p>

<p>LOG_DEBUG Messages that contain information normally of
use only when debugging a program.</p>

<p>The facility indicates the application or system
component generating the message. Possible facility values
include:</p>

<p>LOG_USER Messages generated by arbitrary processes. This
is the default facility identifier if none is specified.</p>

<p>LOG_LOCAL0 Reserved for local use.</p>

<p>LOG_LOCAL1 Reserved for local use.</p>

<p>LOG_LOCAL2 Reserved for local use.</p>

<p>LOG_LOCAL3 Reserved for local use.</p>

<p>LOG_LOCAL4 Reserved for local use.</p>

<p>LOG_LOCAL5 Reserved for local use.</p>

<p>LOG_LOCAL6 Reserved for local use.</p>

<p>LOG_LOCAL7 Reserved for local use.</p>

<p>The openlog() function shall set process attributes that
affect subse- quent calls to syslog(). The ident argument is
a string that is prepended to every message. The logopt
argument indicates logging options. Values for logopt are
constructed by a bitwise-inclusive OR of zero or more of the
following:</p>

<p>LOG_PID Log the process ID with each message. This is
useful for identi- fying specific processes.</p>

<p>LOG_CONS Write messages to the system console if they
cannot be sent to the logging facility. The syslog()
function ensures that the process does not acquire the
console as a controlling terminal in the process of writing
the message.</p>

<p>LOG_NDELAY Open the connection to the logging facility
immediately. Nor- mally the open is delayed until the first
message is logged. This is useful for programs that need to
manage the order in which file descriptors are
allocated.</p>

<p>LOG_ODELAY Delay open until syslog() is called.</p>

<p>LOG_NOWAIT Do not wait for child processes that may have
been created dur- ing the course of logging the message.
This option should be used by processes that enable
notification of child termination using SIGCHLD, since
syslog() may otherwise block waiting for a child whose exit
status has already been collected.</p>

<p>The facility argument encodes a default facility to be
assigned to all messages that do not have an explicit
facility already encoded. The initial default facility is
LOG_USER.</p>

<p>The openlog() and syslog() functions may allocate a file
descriptor. It is not necessary to call openlog() prior to
calling syslog().</p>

<p>The closelog() function shall close any open file
descriptors allocated by previous calls to openlog() or
syslog().</p>

<p>The setlogmask() function shall set the log priority
mask for the cur- rent process to maskpri and return the
previous mask. If the maskpri argument is 0, the current log
mask is not modified. Calls by the cur- rent process to
syslog() with a priority not set in maskpri shall be
rejected. The default log mask allows all priorities to be
logged. A call to openlog() is not required prior to calling
setlogmask().</p>

<p>Symbolic constants for use as values of the logopt,
facility, priority, and maskpri arguments are defined in the
&lt;syslog.h&gt; header.</p>

<p>RETURN VALUE The setlogmask() function shall return the
previous log priority mask. The closelog(), openlog(), and
syslog() functions shall not return a value.</p>

<p>ERRORS No errors are defined.</p>

<p>The following sections are informative.</p>

<p>EXAMPLES Using openlog() The following example causes
subsequent calls to syslog() to log the process ID with each
message, and to write messages to the system con- sole if
they cannot be sent to the logging facility.</p>

<p>#include &lt;syslog.h&gt;</p>

<p>char *ident = &quot;Process demo&quot;; int logopt =
LOG_PID | LOG_CONS; int facility = LOG_USER; ...
openlog(ident, logopt, facility);</p>

<p>Using setlogmask() The following example causes
subsequent calls to syslog() to accept error messages, and
to reject all other messages.</p>

<p>#include &lt;syslog.h&gt;</p>

<p>int result; int mask = LOG_MASK (LOG_ERR); ... result =
setlogmask(mask);</p>

<p>Using syslog The following example sends the message
&quot;This is a message&quot; to the default logging
facility, marking the message as an error message gen-
erated by random processes.</p>

<p>#include &lt;syslog.h&gt;</p>

<p>char *message = &quot;This is a message&quot;; int
priority = LOG_ERR | LOG_USER; ... syslog(priority,
message);</p>

<p>APPLICATION USAGE None.</p>

<p>RATIONALE None.</p>

<p>FUTURE DIRECTIONS None.</p>

<p>SEE ALSO printf(), the Base Definitions volume of IEEE
Std 1003.1-2001, &lt;sys- log.h&gt;</p>

<p>COPYRIGHT Portions of this text are reprinted and
reproduced in electronic form from IEEE Std 1003.1, 2003
Edition, Standard for Information Technology -- Portable
Operating System Interface (POSIX), The Open Group Base
Specifications Issue 6, Copyright (C) 2001-2003 by the
Institute of Electrical and Electronics Engineers, Inc and
The Open Group. In the event of any discrepancy between this
version and the original IEEE and The Open Group Standard,
the original IEEE and The Open Group Standard is the referee
document. The original Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>

<p>IEEE/The Open Group 2003 CLOSELOG(3P)</p>
<hr>
</body>
</html>
