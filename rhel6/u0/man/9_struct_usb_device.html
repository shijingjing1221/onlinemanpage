<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:18:09 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>STRUCT USB_DEVICE(9) Host-Side Data Types and Macro
STRUCT USB_DEVICE(9)</p>

<p>NAME struct_usb_device - kernel&acute;s representation
of a USB device</p>

<p>SYNOPSIS struct usb_device { int devnum; char
devpath[16]; u32 route; enum usb_device_state state; enum
usb_device_speed speed; struct usb_tt * tt; int ttport;
unsigned int toggle[2]; struct usb_device * parent; struct
usb_bus * bus; struct usb_host_endpoint ep0; struct device
dev; struct usb_device_descriptor descriptor; struct
usb_host_config * config; struct usb_host_config *
actconfig; struct usb_host_endpoint * ep_in[16]; struct
usb_host_endpoint * ep_out[16]; char ** rawdescriptors;
unsigned short bus_mA; u8 portnum; u8 level; unsigned
can_submit:1; unsigned discon_suspended:1; unsigned
persist_enabled:1; unsigned have_langid:1; unsigned
authorized:1; unsigned authenticated:1; unsigned wusb:1; int
string_langid; char * product; char * manufacturer; char *
serial; struct list_head filelist; #ifdef
CONFIG_USB_DEVICE_CLASS struct device * usb_classdev; #endif
#ifdef CONFIG_USB_DEVICEFS struct dentry * usbfs_dentry;
#endif int maxchild; struct usb_device *
children[USB_MAXCHILDREN]; int pm_usage_cnt; u32 quirks;
atomic_t urbnum; unsigned long active_duration; #ifdef
CONFIG_PM struct delayed_work autosuspend; struct
work_struct autoresume; struct mutex pm_mutex; unsigned long
last_busy; int autosuspend_delay; unsigned long
connect_time; unsigned auto_pm:1; unsigned
do_remote_wakeup:1; unsigned reset_resume:1; unsigned
autosuspend_disabled:1; unsigned autoresume_disabled:1;
unsigned skip_sys_resume:1; #endif struct wusb_dev *
wusb_dev; int slot_id; };</p>

<p>MEMBERS devnum device number; address on a USB bus</p>

<p>devpath[16] device ID string for use in messages (e.g.,
/port/...)</p>

<p>route tree topology hex string for use with xHCI</p>

<p>state device state: configured, not attached, etc.</p>

<p>speed device speed: high/full/low (or error)</p>

<p>tt Transaction Translator info; used with low/full speed
dev, highspeed hub</p>

<p>ttport device port on that tt hub</p>

<p>toggle[2] one bit for each endpoint, with ([0] = IN, [1]
= OUT) endpoints</p>

<p>parent our hub, unless we&acute;re the root</p>

<p>bus bus we&acute;re part of</p>

<p>ep0 endpoint 0 data (default control pipe)</p>

<p>dev generic device interface</p>

<p>descriptor USB device descriptor</p>

<p>config all of the device&acute;s configs</p>

<p>actconfig the active configuration</p>

<p>ep_in[16] array of IN endpoints</p>

<p>ep_out[16] array of OUT endpoints</p>

<p>rawdescriptors raw descriptors for each config</p>

<p>bus_mA Current available from the bus</p>

<p>portnum parent port number (origin 1)</p>

<p>level number of USB hub ancestors</p>

<p>can_submit URBs may be submitted</p>

<p>discon_suspended disconnected while suspended</p>

<p>persist_enabled USB_PERSIST enabled for this device</p>

<p>have_langid whether string_langid is valid</p>

<p>authorized policy has said we can use it; (user space)
policy determines if we authorize this device to be used or
not. By default, wired USB devices are authorized. WUSB
devices are not, until we authorize them from user space.
FIXME -- complete doc</p>

<p>authenticated Crypto authentication passed</p>

<p>wusb device is Wireless USB</p>

<p>string_langid language ID for strings</p>

<p>product iProduct string, if present (static)</p>

<p>manufacturer iManufacturer string, if present
(static)</p>

<p>serial iSerialNumber string, if present (static)</p>

<p>filelist usbfs files that are open to this device</p>

<p>usb_classdev USB class device that was created for usbfs
device access from userspace</p>

<p>usbfs_dentry usbfs dentry entry for the device</p>

<p>maxchild number of ports if hub</p>

<p>children[USB_MAXCHILDREN] child devices - USB devices
that are attached to this hub</p>

<p>pm_usage_cnt usage counter for autosuspend</p>

<p>quirks quirks of the whole device</p>

<p>urbnum number of URBs submitted for the whole device</p>

<p>active_duration total time device is not suspended</p>

<p>autosuspend for delayed autosuspends</p>

<p>autoresume for autoresumes requested while
in_interrupt</p>

<p>pm_mutex protects PM operations</p>

<p>last_busy time of last use</p>

<p>autosuspend_delay in jiffies</p>

<p>connect_time time device was first connected</p>

<p>auto_pm autosuspend/resume in progress</p>

<p>do_remote_wakeup remote wakeup should be enabled</p>

<p>reset_resume needs reset instead of resume</p>

<p>autosuspend_disabled autosuspend disabled by the
user</p>

<p>autoresume_disabled autoresume disabled by the user</p>

<p>skip_sys_resume skip the next system resume</p>

<p>wusb_dev if this is a Wireless USB device, link to the
WUSB specific data for the device.</p>

<p>slot_id Slot ID assigned by xHCI</p>

<p>NOTES Usbcore drivers should not set usbdev-&gt;state
directly. Instead use usb_set_device_state.</p>

<p>COPYRIGHT Kernel Hackers Manual 2.6. September 2010
STRUCT USB_DEVICE(9)</p>
<hr>
</body>
</html>
