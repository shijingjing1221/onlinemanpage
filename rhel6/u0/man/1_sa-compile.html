<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:13:43 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>SA-COMPILE(1) User Contributed Perl Documentation
SA-COMPILE(1)</p>

<p>NAME sa-compile - compile SpamAssassin ruleset into
native code</p>

<p>SYNOPSIS sa-compile [options]</p>

<p>Options:</p>

<p>--list Output base string list to STDOUT --sudo Use
&rsquo;sudo&rsquo; for privilege escalation --keep-tmps Keep
temporary files instead of deleting -C path,
--configpath=path, --config-file=path Path to standard
configuration dir -p prefs, --prefspath=file,
--prefs-file=file Set user preferences file
--siteconfigpath=path Path for site configs (default:
/etc/mail/spamassassin) --updatedir=path Directory to place
updates (default:
/var/lib/spamassassin/compiled/&lt;perlversion&gt;/3.003001)
--cf=&rsquo;config line&rsquo; Additional line of
configuration -D, --debug [area=n,...] Print debugging
messages -V, --version Print version -h, --help Print usage
message</p>

<p>DESCRIPTION sa-compile uses &quot;re2c&quot; to compile
the site-wide parts of the SpamAssassin ruleset. No part of
user_prefs or any files included from user_prefs can be
built into the compiled set.</p>

<p>This compiled set is then used by the
&quot;Mail::SpamAssassin::Plugin::Rule2XSBody&quot; plugin
to speed up SpamAssassins operation, where possible, and
when that plugin is loaded.</p>

<p>&quot;re2c&quot; can match strings much faster than perl
code, by constructing a DFA to match many simple strings in
parallel, and compiling that to native object code. Not all
SpamAssassin rules are amenable to this conversion,
however.</p>

<p>This requires &quot;re2c&quot; (see
&quot;http://re2c.org/&quot;), and the C compiler used to
build Perl XS modules, be installed.</p>

<p>Note that running this, and creating a compiled ruleset,
will have no effect on SpamAssassin scanning speeds unless
you also edit your &quot;v320.pre&quot; file and ensure this
line is uncommented:</p>

<p>loadplugin Mail::SpamAssassin::Plugin::Rule2XSBody</p>

<p>OPTIONS --list Output the extracted base strings to
STDOUT, instead of generating the C extension code.</p>

<p>--sudo Use sudo(8) to run code as root when writing
files to the compiled-rules storage area (which is
&quot;/var/lib/spamassassin/compiled/5.010/3.003001&quot; by
default).</p>

<p>--quiet Produce less diagnostic output. Errors will
still be displayed.</p>

<p>--keep-tmps Keep temporary files after the script
completes, instead of deleting them.</p>

<p>-C path, --configpath=path, --config-file=path Use the
specified path for locating the distributed configuration
files. Ignore the default directories (usually
&quot;/usr/share/spamassassin&quot; or similar).</p>

<p>--siteconfigpath=path Use the specified path for
locating site-specific configuration files. Ignore the
default directories (usually
&quot;/etc/mail/spamassassin&quot; or similar).</p>

<p>--updatedir By default, &quot;sa-compile&quot; will use
the system-wide rules update directory:</p>

<p>/var/lib/spamassassin/compiled/5.010/3.003001</p>

<p>If the updates should be stored in another location,
specify it here.</p>

<p>Note that use of this option is not recommended; if
sa-compile is placing the compiled rules the wrong
directory, you probably need to rebuild SpamAssassin with
different &quot;Makefile.PL&quot; arguments, instead of
overriding sa-compiles runtime behaviour.</p>

<p>--cfconfig line Add additional lines of configuration
directly from the command- line, parsed after the
configuration files are read. Multiple --cf arguments can be
used, and each will be considered a separate line of
configuration.</p>

<p>-p prefs, --prefspath=prefs, --prefs-file=prefs Read
user score preferences from prefs (usually
&quot;$HOME/.spamassassin/user_prefs&quot;) .</p>

<p>-D [area,...], --debug [area,...] Produce debugging
output. If no areas are listed, all debugging information is
printed. Diagnostic output can also be enabled for each area
individually; area is the area of the code to
instrument.</p>

<p>For more information about which areas (also known as
channels) are available, please see the documentation at
&lt;http://wiki.apache.org/spamassassin/DebugChannels&gt;.</p>

<p>-h, --help Print help message and exit.</p>

<p>-V, --version Print sa-compile version and exit.</p>

<p>SEE ALSO Mail::SpamAssassin(3) spamassassin(1)
spamd(1)</p>

<p>PREREQUESITES &quot;Mail::SpamAssassin&quot;
&quot;re2c&quot;
&quot;Mail::SpamAssassin::Plugin::Rule2XSBody&quot;</p>

<p>BUGS See
&lt;http://issues.apache.org/SpamAssassin/&gt;</p>

<p>AUTHORS The Apache SpamAssassin(tm) Project
&lt;http://spamassassin.apache.org/&gt;</p>

<p>COPYRIGHT SpamAssassin is distributed under the Apache
License, Version 2.0, as described in the file
&quot;LICENSE&quot; included with the distribution.</p>

<p>perl v5.10.1 2010-03-17 SA-COMPILE(1)</p>
<hr>
</body>
</html>
