<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:12:47 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>RECVFROM(3P) POSIX Programmer s Manual RECVFROM(3P)</p>

<p>PROLOG This manual page is part of the POSIX Programmer
s Manual. The Linux implementation of this interface may
differ (consult the corresponding Linux manual page for
details of Linux behavior), or the interface may not be
implemented on Linux.</p>

<p>NAME recvfrom - receive a message from a socket</p>

<p>SYNOPSIS #include &lt;sys/socket.h&gt;</p>

<p>ssize_t recvfrom(int socket, void *restrict buffer,
size_t length, int flags, struct sockaddr *restrict address,
socklen_t *restrict address_len);</p>

<p>DESCRIPTION The recvfrom() function shall receive a
message from a connection-mode or connectionless-mode
socket. It is normally used with connectionless- mode
sockets because it permits the application to retrieve the
source address of received data.</p>

<p>The recvfrom() function takes the following
arguments:</p>

<p>socket Specifies the socket file descriptor.</p>

<p>buffer Points to the buffer where the message should be
stored.</p>

<p>length Specifies the length in bytes of the buffer
pointed to by the buffer argument.</p>

<p>flags Specifies the type of message reception. Values of
this argument are formed by logically ORing zero or more of
the following values:</p>

<p>MSG_PEEK Peeks at an incoming message. The data is
treated as unread and the next recvfrom() or similar
function shall still return this data.</p>

<p>MSG_OOB Requests out-of-band data. The significance and
semantics of out-of-band data are protocol-specific.</p>

<p>MSG_WAITALL On SOCK_STREAM sockets this requests that
the function block until the full amount of data can be
returned. The function may return the smaller amount of data
if the socket is a message- based socket, if a signal is
caught, if the connection is termi- nated, if MSG_PEEK was
specified, or if an error is pending for the socket.</p>

<p>address A null pointer, or points to a sockaddr
structure in which the sending address is to be stored. The
length and format of the address depend on the address
family of the socket.</p>

<p>address_len Specifies the length of the sockaddr
structure pointed to by the address argument.</p>

<p>The recvfrom() function shall return the length of the
message written to the buffer pointed to by the buffer
argument. For message-based sockets, such as SOCK_RAW,
SOCK_DGRAM, and SOCK_SEQPACKET, the entire message shall be
read in a single operation. If a message is too long to fit
in the supplied buffer, and MSG_PEEK is not set in the flags
argument, the excess bytes shall be discarded. For
stream-based sock- ets, such as SOCK_STREAM, message
boundaries shall be ignored. In this case, data shall be
returned to the user as soon as it becomes avail- able, and
no data shall be discarded.</p>

<p>If the MSG_WAITALL flag is not set, data shall be
returned only up to the end of the first message.</p>

<p>Not all protocols provide the source address for
messages. If the address argument is not a null pointer and
the protocol provides the source address of messages, the
source address of the received message shall be stored in
the sockaddr structure pointed to by the address argument,
and the length of this address shall be stored in the object
pointed to by the address_len argument.</p>

<p>If the actual length of the address is greater than the
length of the supplied sockaddr structure, the stored
address shall be truncated.</p>

<p>If the address argument is not a null pointer and the
protocol does not provide the source address of messages,
the value stored in the object pointed to by address is
unspecified.</p>

<p>If no messages are available at the socket and
O_NONBLOCK is not set on the sockets file descriptor,
recvfrom() shall block until a message arrives. If no
messages are available at the socket and O_NONBLOCK is set
on the sockets file descriptor, recvfrom() shall fail and
set errno to [EAGAIN] or [EWOULDBLOCK].</p>

<p>RETURN VALUE Upon successful completion, recvfrom()
shall return the length of the message in bytes. If no
messages are available to be received and the peer has
performed an orderly shutdown, recvfrom() shall return 0.
Oth- erwise, the function shall return -1 and set errno to
indicate the error.</p>

<p>ERRORS The recvfrom() function shall fail if:</p>

<p>EAGAIN or EWOULDBLOCK</p>

<p>The socket s file descriptor is marked O_NONBLOCK and no
data is waiting to be received; or MSG_OOB is set and no
out-of-band data is available and either the sockets file
descriptor is marked O_NONBLOCK or the socket does not
support blocking to await out-of-band data.</p>

<p>EBADF The socket argument is not a valid file
descriptor.</p>

<p>ECONNRESET A connection was forcibly closed by a
peer.</p>

<p>EINTR A signal interrupted recvfrom() before any data
was available.</p>

<p>EINVAL The MSG_OOB flag is set and no out-of-band data
is available.</p>

<p>ENOTCONN A receive is attempted on a connection-mode
socket that is not connected.</p>

<p>ENOTSOCK The socket argument does not refer to a
socket.</p>

<p>EOPNOTSUPP The specified flags are not supported for
this socket type.</p>

<p>ETIMEDOUT The connection timed out during connection
establishment, or due to a transmission timeout on active
connection.</p>

<p>The recvfrom() function may fail if:</p>

<p>EIO An I/O error occurred while reading from or writing
to the file system.</p>

<p>ENOBUFS Insufficient resources were available in the
system to perform the operation.</p>

<p>ENOMEM Insufficient memory was available to fulfill the
request.</p>

<p>The following sections are informative.</p>

<p>EXAMPLES None.</p>

<p>APPLICATION USAGE The select() and poll() functions can
be used to determine when data is available to be
received.</p>

<p>RATIONALE None.</p>

<p>FUTURE DIRECTIONS None.</p>

<p>SEE ALSO poll(), read(), recv(), recvmsg(), select(),
send(), sendmsg(), sendto(), shutdown() , socket(), write(),
the Base Definitions volume of IEEE Std 1003.1-2001,
&lt;sys/socket.h&gt;</p>

<p>COPYRIGHT Portions of this text are reprinted and
reproduced in electronic form from IEEE Std 1003.1, 2003
Edition, Standard for Information Technology -- Portable
Operating System Interface (POSIX), The Open Group Base
Specifications Issue 6, Copyright (C) 2001-2003 by the
Institute of Electrical and Electronics Engineers, Inc and
The Open Group. In the event of any discrepancy between this
version and the original IEEE and The Open Group Standard,
the original IEEE and The Open Group Standard is the referee
document. The original Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>

<p>IEEE/The Open Group 2003 RECVFROM(3P)</p>
<hr>
</body>
</html>
