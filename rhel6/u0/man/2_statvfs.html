<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:17:05 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>STATVFS(2) Linux Programmer s Manual STATVFS(2)</p>

<p>NAME statvfs, fstatvfs - get file system statistics</p>

<p>SYNOPSIS #include &lt;sys/statvfs.h&gt;</p>

<p>int statvfs(const char *path, struct statvfs *buf); int
fstatvfs(int fd, struct statvfs *buf);</p>

<p>DESCRIPTION The function statvfs() returns information
about a mounted file system. path is the pathname of any
file within the mounted file system. buf is a pointer to a
statvfs structure defined approximately as follows:</p>

<p>struct statvfs { unsigned long f_bsize; /* file system
block size */ unsigned long f_frsize; /* fragment size */
fsblkcnt_t f_blocks; /* size of fs in f_frsize units */
fsblkcnt_t f_bfree; /* # free blocks */ fsblkcnt_t f_bavail;
/* # free blocks for non-root */ fsfilcnt_t f_files; /* #
inodes */ fsfilcnt_t f_ffree; /* # free inodes */ fsfilcnt_t
f_favail; /* # free inodes for non-root */ unsigned long
f_fsid; /* file system ID */ unsigned long f_flag; /* mount
flags */ unsigned long f_namemax; /* maximum filename length
*/ };</p>

<p>Here the types fsblkcnt_t and fsfilcnt_t are defined in
&lt;sys/types.h&gt;. Both used to be unsigned long.</p>

<p>The field f_flag is a bit mask (of mount flags, see
mount(8)). Bits defined by POSIX are</p>

<p>ST_RDONLY Read-only file system.</p>

<p>ST_NOSUID Set-user-ID/set-group-ID bits are ignored by
exec(3).</p>

<p>It is unspecified whether all members of the returned
struct have mean- ingful values on all file systems.</p>

<p>fstatvfs() returns the same information about an open
file referenced by descriptor fd.</p>

<p>RETURN VALUE On success, zero is returned. On error, -1
is returned, and errno is set appropriately.</p>

<p>ERRORS EACCES (statvfs()) Search permission is denied
for a component of the path prefix of path. (See also
path_resolution(7).)</p>

<p>EBADF (fstatvfs()) fd is not a valid open file
descriptor.</p>

<p>EFAULT Buf or path points to an invalid address.</p>

<p>EINTR This call was interrupted by a signal.</p>

<p>EIO An I/O error occurred while reading from the file
system.</p>

<p>ELOOP (statvfs()) Too many symbolic links were
encountered in trans- lating path.</p>

<p>ENAMETOOLONG (statvfs()) path is too long.</p>

<p>ENOENT (statvfs()) The file referred to by path does not
exist.</p>

<p>ENOMEM Insufficient kernel memory was available.</p>

<p>ENOSYS The file system does not support this call.</p>

<p>ENOTDIR (statvfs()) A component of the path prefix of
path is not a directory.</p>

<p>EOVERFLOW Some values were too large to be represented
in the returned struct.</p>

<p>CONFORMING TO POSIX.1-2001.</p>

<p>NOTES The Linux kernel has system calls statfs(2) and
fstatfs(2) to support this library call.</p>

<p>The current glibc implementations of</p>

<p>pathconf(path, _PC_REC_XFER_ALIGN); pathconf(path,
_PC_ALLOC_SIZE_MIN); pathconf(path,
_PC_REC_MIN_XFER_SIZE);</p>

<p>respectively use the f_frsize, f_frsize, and f_bsize
fields of the return value of statvfs(path,buf).</p>

<p>SEE ALSO statfs(2)</p>

<p>COLOPHON This page is part of release 3.22 of the Linux
man-pages project. A description of the project, and
information about reporting bugs, can be found at
http://www.kernel.org/doc/man-pages/.</p>

<p>Linux 2003-08-22 STATVFS(2)</p>
<hr>
</body>
</html>
