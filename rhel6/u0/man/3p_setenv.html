<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:15:05 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>SETENV(3P) POSIX Programmer s Manual SETENV(3P)</p>

<p>PROLOG This manual page is part of the POSIX Programmer
s Manual. The Linux implementation of this interface may
differ (consult the corresponding Linux manual page for
details of Linux behavior), or the interface may not be
implemented on Linux.</p>

<p>NAME setenv - add or change environment variable</p>

<p>SYNOPSIS #include &lt;stdlib.h&gt;</p>

<p>int setenv(const char *envname, const char *envval, int
overwrite);</p>

<p>DESCRIPTION The setenv() function shall update or add a
variable in the environment of the calling process. The
envname argument points to a string con- taining the name of
an environment variable to be added or altered. The
environment variable shall be set to the value to which
envval points. The function shall fail if envname points to
a string which contains an = character. If the environment
variable named by envname already exists and the value of
overwrite is non-zero, the function shall return success and
the environment shall be updated. If the environment
variable named by envname already exists and the value of
overwrite is zero, the function shall return success and the
environment shall remain unchanged.</p>

<p>If the application modifies environ or the pointers to
which it points, the behavior of setenv() is undefined. The
setenv() function shall update the list of pointers to which
environ points.</p>

<p>The strings described by envname and envval are copied
by this func- tion.</p>

<p>The setenv() function need not be reentrant. A function
that is not required to be reentrant is not required to be
thread-safe.</p>

<p>RETURN VALUE Upon successful completion, zero shall be
returned. Otherwise, -1 shall be returned, errno set to
indicate the error, and the environment shall be
unchanged.</p>

<p>ERRORS The setenv() function shall fail if:</p>

<p>EINVAL The name argument is a null pointer, points to an
empty string, or points to a string containing
an=character.</p>

<p>ENOMEM Insufficient memory was available to add a
variable or its value to the environment.</p>

<p>The following sections are informative.</p>

<p>EXAMPLES None.</p>

<p>APPLICATION USAGE See exec(), for restrictions on
changing the environment in multi- threaded
applications.</p>

<p>RATIONALE Unanticipated results may occur if setenv()
changes the external vari- able environ. In particular, if
the optional envp argument to main() is present, it is not
changed, and thus may point to an obsolete copy of the
environment (as may any other copy of environ). However,
other than the aforementioned restriction, the developers of
IEEE Std 1003.1-2001 intended that the traditional method of
walking through the environment by way of the environ
pointer must be supported.</p>

<p>It was decided that setenv() should be required by this
revision because it addresses a piece of missing
functionality, and does not impose a significant burden on
the implementor.</p>

<p>There was considerable debate as to whether the System V
putenv() func- tion or the BSD setenv() function should be
required as a mandatory function. The setenv() function was
chosen because it permitted the implementation of the
unsetenv() function to delete environmental vari- ables,
without specifying an additional interface. The putenv()
func- tion is available as an XSI extension.</p>

<p>The standard developers considered requiring that
setenv() indicate an error when a call to it would result in
exceeding {ARG_MAX}. The requirement was rejected since the
condition might be temporary, with the application
eventually reducing the environment size. The ultimate
success or failure depends on the size at the time of a call
to exec, which returns an indication of this error
condition.</p>

<p>FUTURE DIRECTIONS None.</p>

<p>SEE ALSO exec(), getenv(), unsetenv(), the Base
Definitions volume of IEEE Std 1003.1-2001,
&lt;stdlib.h&gt;, &lt;sys/types.h&gt;, &lt;unistd.h&gt;</p>

<p>COPYRIGHT Portions of this text are reprinted and
reproduced in electronic form from IEEE Std 1003.1, 2003
Edition, Standard for Information Technology -- Portable
Operating System Interface (POSIX), The Open Group Base
Specifications Issue 6, Copyright (C) 2001-2003 by the
Institute of Electrical and Electronics Engineers, Inc and
The Open Group. In the event of any discrepancy between this
version and the original IEEE and The Open Group Standard,
the original IEEE and The Open Group Standard is the referee
document. The original Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>

<p>IEEE/The Open Group 2003 SETENV(3P)</p>
<hr>
</body>
</html>
