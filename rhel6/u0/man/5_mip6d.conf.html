<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:07:19 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>mip6d.conf(5) Mobile IPv6 and NEMO Daemon Configuration
mip6d.conf(5)</p>

<p>NAME mip6d.conf - MIPL Mobile IPv6 and NEMO
Configuration file</p>

<p>SYNOPSIS /etc/mip6d.conf</p>

<p>DESCRIPTION MIPL Mobile IPv6 and NEMO daemons
configuration file</p>

<p>Below is a list of currently supported configuration
options. All con- figuration lines are terminated with a
semicolon. Sub-sections are enclosed in { and } . Strings
are quoted with double quotes.</p>

<p>COMMON OPTIONS The file contains the following common
definitions:</p>

<p>NodeConfig CN | HA | MN;</p>

<p>Indicates if the daemon should run in Correspondent
Node, Home Agent or Mobile Node mode.</p>

<p>Default: CN</p>

<p>DebugLevel number;</p>

<p>Indicates the debug level of the daemon. If the value is
greater than zero, the daemon will not detach from tty (i.e.
debug messages will be printed on the controlling tty).</p>

<p>Default: 0</p>

<p>DoRouteOptimizationCN boolean;</p>

<p>Indicates if a node should participate in route
optimization with a Mobile Node.</p>

<p>Default: enabled</p>

<p>NonVolatileBindingCache boolean;</p>

<p>This option is currently ignored. Binding cache is
always stored in volatile memory, and is not retained
between shutdown and startup.</p>

<p>OPTIONS COMMON TO HOME AGENT AND MOBILE NODE These
options are used both in the Home Agent and Mobile Node:</p>

<p>Interface name;</p>

<p>Interface name { MnIfPreference number; IfType CN | HA |
MN; }</p>

<p>Specifies an interface and options associated with it.
If no options are present, Interface can be terminated with
semi- colon. This is used for home agent to specify which
interfaces are used for HA operation. For the home agent to
function prop- erly, a Router Advertisement daemon (e.g.
radvd) must broadcast advertisements with the Home Agent bit
and Home Agent Informa- tion Option set on these interfaces.
This option is also used by multihomed Mobile Nodes to
define which interfaces are used by it.</p>

<p>MnIfPreference sets the interface preference value for
an inter- face in a multi-homed Mobile Node. The most
preferred intefaces have preference 1, the second most
preferred have 2, etc. A preference of zero means the
interface will not be used.</p>

<p>Default: 5</p>

<p>IfType overrides the default node behavior for this
interface. If a MN doesnt wish to use this inteface for
mobility, or a node doesn t act as HA on this interface, the
interface type should be set to CN.</p>

<p>Default: same as NodeConfig</p>

<p>UseMnHaIPsec boolean;</p>

<p>Indicates if the MN-HA MIPv6 signalling should be
protected with IPsec.</p>

<p>Default: enabled</p>

<p>KeyMngMobCapability boolean;</p>

<p>If dynamic keying with MIPv6-aware IKE is used, this
options should be enabled. It turns on the K-bit for binding
updates and binding acknowledgements.</p>

<p>Default: disabled</p>

<p>IPsecPolicySet { HomeAgentAddress address; HomeAddress
address/length; IPsecPolicy ... ... }</p>

<p>IPsecPolicySet is a set of policies to apply for
matching pack- ets. A policy set can contain multiple
HomeAddress options, but only one HomeAgentAddress option.
For home agent, home agent address field contains its own
address, and home address fields may contain any number of
mobile nodes for which the same policy applies.</p>

<p>IPsecPolicy has the following format:</p>

<p>IPsecPolicy type UseESPnumber number;</p>

<p>Field type can be one of HomeRegBinding, Mh, MobPfxDisc,
ICMP, any, TunnelMh, TunnelHomeTesting, or TunnelPayload.
The any option protects all transport mode communication
between the MN and HA. Currently only the ESP IPsec protocol
is supported, but in the future AH and IPComp might also be
available. The two remaining numeric fields are the IPsec
reqid values, the first one used for MN - HA, the second one
for HA - MN communication. If just one value is defined, the
same reqid will be used in both directions. If no reqid is
given, reqid will not be used.</p>

<p>If more that one IPsec transport mode or tunnel mode
policy is defined between the MN and HA in each direction,
reqid can be used to provide an unambiguous one-to-one
mapping between IPsec policies and SAs. Otherwise the
policies will just share a com- mon SA.</p>

<p>HOME AGENT SPECIFIC OPTIONS The following definitions
are ignored unless the node is configured as a HA:</p>

<p>HaMaxBindingLife number;</p>

<p>Limits the maximum lifetime (in seconds) for Mobile Node
home registrations.</p>

<p>Default: 262140</p>

<p>SendMobPfxAdvs boolean;</p>

<p>Controls whether home agent sends Mobile Prefix
Advertisements to mobile nodes in foreign networks.</p>

<p>SendUnsolMobPfxAdvs boolean;</p>

<p>Controls whether home agent send unsolicited Mobile
Prefix Advertisements to mobile nodes in foreign
networks.</p>

<p>MinMobPfxAdvInterval number;</p>

<p>Sets a minimum interval (in seconds) for Mobile Prefix
Adver- tisements.</p>

<p>Default: 600</p>

<p>MaxMobPfxAdvInterval number;</p>

<p>Sets a maximum interval (in seconds) for Mobile Prefix
Adver- tisements.</p>

<p>Default: 86400</p>

<p>HaAcceptMobRtr enabled | disabled</p>

<p>Indicates if the HA accepts Mobile Router bindings.</p>

<p>Default: disabled;</p>

<p>HaServedPrefix prefix/length;</p>

<p>Prefix is an IPv6 prefix and length is the prefix
length. Defines the whole aggregated or extended prefix the
HA serves. This option is only used for MR bindings and is
only needed if the MRs derive their Home Addresses from
their Mobile Network Prefixes, instead of one of the home
link prefixes.</p>

<p>BindingAclPolicy address MNP list allow | deny</p>

<p>Defines if a MN is allowed to register with the HA or
not. The home address of the MN is given in the address
field. The mobile network prefixes belonging a NEMO Mobile
Router are listed in the MNP list. The list can either be an
empty string or a comma separated list of network prefixes
enclosed in braces, for example: (3ffe:2620:6:3::/64,
3ffe:2620:6:4::/64)</p>

<p>DefaultBindingAclPolicy allow | deny</p>

<p>Defines the default policy if no matching
BindingAclPolicy entry is found for a MN.</p>

<p>Default: allow</p>

<p>MOBILE NODE SPECIFIC OPTIONS The following definitions
are ignored unless the node is configured as a MN:</p>

<p>MnMaxHaBindingLife number;</p>

<p>Limits the maximum lifetime (in seconds) for Mobile Node
home registrations.</p>

<p>Default: 262140</p>

<p>MnMaxCnBindingLife number;</p>

<p>Limits the maximum lifetime (in seconds) for Mobile Node
Corre- spondent Node registrations.</p>

<p>Default: 420</p>

<p>MnDiscardHaParamProb boolean;</p>

<p>Toggles if the Mobile Node should discard ICMPv6
Parameter Prob- lem messages from its Home Agent. As the
ICMPv6 error messages wont normally be protected by IPsec, a
malicious third party can quite easily impersonate the HA to
the MN. Having the MN accept these messages therefore leaves
it open to Denial of Ser- vice attacks, even though its home
registration signalling is protected by IPsec.</p>

<p>Default: disabled</p>

<p>SendMobPfxSols boolean;</p>

<p>Controls whether mobile node sends Mobile Prefix
Solicitations to the home network.</p>

<p>DoRouteOptimizationMN boolean;</p>

<p>Indicates if the Mobile Node should initialize route
optimiza- tion with Corresponent Nodes.</p>

<p>Default: enabled</p>

<p>MnUseAllInterfaces enabled | disabled</p>

<p>Indicates if all interfaces should be used for mobility.
The preference of these interfaces is always 1. Unless you
use dynamically created and named network interfaces you
should nor- mally disable this option and use Interface
options to explic- itly list the used interfaces.</p>

<p>Default: disabled</p>

<p>MobRtrUseExplicitMode enabled | disabled</p>

<p>Toggles between explicit or implicit mode home
registrations in the MR.</p>

<p>Default: enabled</p>

<p>UseCnBuAck boolean;</p>

<p>Indicates if the Acknowledge bit should be set in
Binding Updates sent to Corresponent Nodes.</p>

<p>Default: disabled</p>

<p>MnRouterProbes number;</p>

<p>Indicates how many times the MN should send Neighbor
Unreacha- bility Detection probes to its old router after
receiving a Router Advertisement from a new one. If the
option is set to zero, the MN will move to the new router
straight away.</p>

<p>Default: 0</p>

<p>MnRouterProbeTimeout decimal;</p>

<p>Indicates how long (in seconds) the MN should wait for a
reply during a access router Neighbor Unreachability
Detection probe. If set, it overrides any default Neighbor
Solicitation Retrans- mit Timer value greater than
MnRouterProbeTimeout. For example, if the interface
Retransmit Timer is 1 second, but MnRouterPro- beTimeout is
just 0.2 seconds, the MN will only wait 0.2 seconds for a
Neighbor Advertisement before proceeding with the
handoff.</p>

<p>Default: 0</p>

<p>OptimisticHandoff enabled | disabled</p>

<p>When a Mobile Node sends a Binding Update to the Home
Agent, no Route Optimized or reverse tunneled traffic is
sent until a Binding Acknowledgement is received. When
enabled, this option allows the Mobile Node to assume that
the binding was successful right after the BU has been sent,
and does not wait for a posi- tive acknowledgement before
using RO or reverse tunneling.</p>

<p>Default: disabled;</p>

<p>MnHomeLink name { HomeAddress address/length MNP list;
HomeAgentAddress address; MnRoPolicy ... ... }</p>

<p>Each MnHomeLink definition has a name. This is the name
(enclosed in double quotes) of the interface used for
connecting to the physical home link. To set up multiple
Home Addresses on the Mobile Node, you need to define
multiple MnHomeLink struc- tures. The interface names don t
have to be unique in these definitions. All the home link
specific definitions are detailed below:</p>

<p>HomeAddress address/length MNP list;</p>

<p>Address is an IPv6 address, and length the prefix length
of the address, usually 64. The MNP list contains the mobile
network prefixes belonging to that particular NEMO Mobile
Router. The MNP list is of the same format as in
BindingAclPolicy. This option must be included in a home
link definition.</p>

<p>HomeAgentAddress address;</p>

<p>Address is the IPv6 address of the Mobile Node s Home
Agent. DHAAD is used if it is the unspecified address
::.</p>

<p>Default: ::</p>

<p>IsMobRtr enabled | disabled</p>

<p>Defines if the MN is a NEMO MR.</p>

<p>Default: disabled</p>

<p>The route optimization policies are of the form:</p>

<p>MnRoPolicy address boolean;</p>

<p>Any number of these policies may be defined. If no
policies are defined default behavior depends on the
DoRouteOptimizationMN option.</p>

<p>The fields for a route optimization policy entry are as
follows: address defines the Correspondent Node this policy
applies to, if left undefined the uspecified address is used
as a wildcard value boolean sets route optimization either
enabled or disabled for packets matching this entry.</p>

<p>EXAMPLES A NEMO Home Agent example:</p>

<p>NodeConfig HA;</p>

<p>Interface &quot;eth0&quot;;</p>

<p>HaAcceptMobRtr enabled;</p>

<p>HaServedPrefix 3ffe:2620:6::/48;</p>

<p>DefaultBindingAclPolicy deny; BindingAclPolicy
3ffe:2620:6:1::1234 (3ffe:2620:6:2::/64, 3ffe:2620:6:3::/64)
allow; BindingAclPolicy 3ffe:2620:6:1::1235 allow;</p>

<p>UseMnHaIPsec disabled;</p>

<p>A NEMO Mobile Router example:</p>

<p>NodeConfig MN;</p>

<p>DoRouteOptimizationCN disabled; DoRouteOptimizationMN
disabled;</p>

<p>Interface &quot;eth0&quot;;</p>

<p>MnRouterProbes 1;</p>

<p>MobRtrUseExplicitMode enabled;</p>

<p>MnHomeLink &quot;eth0&quot; { IsMobRtr enabled;
HomeAgentAddress 3ffe:2620:6:1::1; HomeAddress
3ffe:2620:6:1::1234/64 (3ffe:2620:6:2::/64,
3ffe:2620:6:3::/64); }</p>

<p>UseMnHaIPsec disabled;</p>

<p>A Correspondent Node example:</p>

<p>NodeConfig CN;</p>

<p>DoRouteOptimizationCN enabled;</p>

<p>A Home Agent example:</p>

<p>NodeConfig HA;</p>

<p>Interface &quot;eth0&quot;; Interface
&quot;eth1&quot;;</p>

<p>UseMnHaIPsec enabled;</p>

<p>IPsecPolicySet { HomeAgentAddress 3ffe:2620:6:1::1;</p>

<p>HomeAddress 3ffe:2620:6:1::1234/64; HomeAddress
3ffe:2620:6:1::1235/64;</p>

<p>IPsecPolicy HomeRegBinding UseESP; IPsecPolicy TunnelMh
UseESP; }</p>

<p>A Mobile Node example:</p>

<p>NodeConfig MN;</p>

<p>DoRouteOptimizationCN enabled;</p>

<p>DoRouteOptimizationMN enabled;</p>

<p>UseCnBuAck enabled;</p>

<p>MnHomeLink &quot;eth0&quot; { HomeAgentAddress
3ffe:2620:6:1::1; HomeAddress 3ffe:2620:6:1::1234/64;</p>

<p># address opt. #MnRoPolicy 3ffe:2060:6:1::3 enabled;
#MnRoPolicy disabled; }</p>

<p>UseMnHaIPsec enabled;</p>

<p>IPsecPolicySet { HomeAgentAddress 3ffe:2620:6:1::1;
HomeAddress 3ffe:2620:6:1::1234/64;</p>

<p>IPsecPolicy HomeRegBinding UseESP; IPsecPolicy TunnelMh
UseESP; }</p>

<p>SEE ALSO mip6d(1), mipv6(7),</p>

<p>RFC3775: Mobility Support in IPv6,</p>

<p>RFC3776: Using IPsec to Protect Mobile IPv6 Signaling
Between Mobile Nodes and Home Agents</p>

<p>January 31, 2006 mip6d.conf(5)</p>
<hr>
</body>
</html>
