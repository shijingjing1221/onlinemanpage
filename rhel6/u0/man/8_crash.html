<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 21:56:29 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>CRASH(8) CRASH(8)</p>

<p>NAME crash - Analyze Linux crash data or a live
system</p>

<p>SYNOPSIS crash [ -h [ opt ] ] [ -v ] [ -s ] [ -i file ]
[ -d num ] [ -S ] [ map- file ] [ namelist ] [ dumpfile
]</p>

<p>DESCRIPTION Crash is a tool for interactively analyzing
the state of the Linux sys- tem while it is running, or
after a kernel crash has occurred and a core dump has been
created by the Red Hat netdump, diskdump, kdump, or xendump
facilities. It is loosely based on the SVR4 UNIX crash com-
mand, but has been significantly enhanced by completely
merging it with the gdb debugger. The marriage of the two
effectively combines the ker- nel-specific nature of the
traditional UNIX crash utility with the source code level
debugging capabilities of gdb.</p>

<p>The current set of commands consist of common kernel
core analysis tools such as kernel stack back traces of all
processes, source code disassembly, formatted kernel
structure and variable displays, virtual memory data, dumps
of linked-lists, etc., along with several commands that
delve deeper into specific kernel subsystems. Appropriate
gdb commands may also be entered, which in turn are passed
on to the gdb module for execution.</p>

<p>The crash utility is designed to be independent of Linux
version depen- dencies. When new kernel source code impacts
the correct functionality of crash and its command set, the
utility will be updated to recognize new kernel code
changes, while maintaining backwards compatibility with
earlier releases.</p>

<p>OPTIONS -h opt Crash displays a help message. If the
optional opt argument is a crash command name, the help page
for that command is dis- played. If it is the string
&quot;input&quot;, a page describing the var- ious crash
command line input options is displayed. If it is the string
&quot;output&quot;, a page describing command line output
options is displayed.</p>

<p>-v Crash displays the versions of the original gdb and
crash libraries that make up the crash executable.</p>

<p>-s Crash does not display any version, GPL, or crash
initialization data during startup. It proceeds directly to
the &quot;crash&gt;&quot; prompt.</p>

<p>-i file Crash reads and executes the crash command(s)
contained in file before accepting any user input.</p>

<p>-d num Crash sets its internal debug level. The higher
the number, the more debugging data will be printed while
crash runs.</p>

<p>-S Crash uses &quot;/boot/System.map&quot; as the
mapfile.</p>

<p>namelist This is a pathname to an uncompressed kernel
image (a vmlinux file) that has been compiled with the
&quot;-g&quot; option, or that has an accessible,
associated, debuginfo file. If the dumpfile argument is
entered, then this argument must also be used. If the
namelist argument is not entered and no dumpfile argument is
entered, crash will search in several typical directories
for a kernel namelist that matches the live system.</p>

<p>mapfile If the live system kernel, or the kernel from
which the dumpfile was derived, was not compiled with the -g
switch, then the addi- tional mapfile argument is required.
It may be either the asso- ciated System.map file, or the
non-debug kernel namelist. How- ever, if the mapfile
argument is used, then the namelist argu- ment must be a
kernel namelist of a similar kernel version that was built
with the -g switch.</p>

<p>dumpfile This is a pathname to a kernel memory core dump
file. If the dumpfile argument is not entered, the session
will be invoked on the live system using /dev/mem, which
usually requires root privileges.</p>

<p>COMMANDS Each crash command generally falls into one of
the following cate- gories:</p>

<p>Symbolic display Displays of kernel text/data, which
take full advantage of the power of gdb to format and
display data structures symbolically.</p>

<p>System state The majority of crash commands come consist
of a set of &quot;kernel- aware&quot; commands, which delve
into various kernel subsystems on a system-wide or per-task
basis.</p>

<p>Utility functions A set of useful helper commands
serving various purposes, some simple, others quite
powerful.</p>

<p>Session control Commands that control the crash session
itself.</p>

<p>The following alphabetical list consists of a very
simple overview of each crash command. However, since
individual commands often have sev- eral options resulting
in significantly different output, it is sug- gested that
the full description of each command be viewed by entering
the command crash -h command, or during a crash session by
simply entering help command.</p>

<p>* &quot;pointer to&quot; is shorthand for either the
struct or union com- mands. It displays the contents of a
kernel structure or union.</p>

<p>alias creates a single-word alias for a command.</p>

<p>ascii displays an ascii chart or translates a numeric
value into its ascii components.</p>

<p>bt displays a tasks kernel-stack backtrace. If it is
given the -a option, it displays the stack traces of the
active tasks on all CPUs. It is often used with the foreach
command to display the backtraces of all tasks with one
command.</p>

<p>btop translates a byte value (physical offset) to its
page number.</p>

<p>dev displays data concerning the character and block
device assign- ments, I/O port usage, I/O memory usage, and
PCI device data.</p>

<p>dis disassembles memory, either entire kernel functions,
from a location for a specified number of instructions, or
from the start of a function up to a specified memory
location.</p>

<p>eval evalues an expression or numeric type and displays
the result in hexadecimal, decimal, octal and binary.</p>

<p>exit causes crash to exit.</p>

<p>extend dynamically loads or unloads crash extension
shared object libraries.</p>

<p>files displays information about open files in a
context.</p>

<p>foreach repeats a specified command for the specified
(or all) tasks in the system.</p>

<p>fuser displays the tasks using the specified file or
socket.</p>

<p>gdb passes its argument to the underlying gdb program.
It is useful for executing GDB commands that have the same
name as crash com- mands.</p>

<p>help alone displays the command menu; if followed by a
command name, a full description of a command, its options,
and examples are displayed. Its output is far more complete
and useful than this man page.</p>

<p>irq displays data concerning interrupt request numbers
and bottom- half interrupt handling.</p>

<p>kmem displays information about the use of kernel
memory.</p>

<p>list displays the contents of a linked list.</p>

<p>log displays the kernel log_buf contents in
chronological order.</p>

<p>mach displays data specific to the machine type.</p>

<p>mod displays information about the currently installed
kernel mod- ules, or adds or deletes symbolic or debugging
information about specified kernel modules.</p>

<p>mount displays information about the currently-mounted
filesystems.</p>

<p>net display various network related data.</p>

<p>p passes its arguments to the gdb &quot;print&quot;
command for evaluation and display.</p>

<p>ps displays process status for specified, or all,
processes in the system.</p>

<p>pte translates the hexadecimal contents of a PTE into
its physical page address and page bit settings.</p>

<p>ptob translates a page frame number to its byte
value.</p>

<p>ptov translates a hexadecimal physical address into a
kernel virtual address.</p>

<p>q is an alias for the &quot;exit&quot; command.</p>

<p>rd displays the contents of memory, with the output
formatted in several different manners.</p>

<p>repeat repeats a command indefinitely, optionally
delaying a given num- ber of seconds between each command
execution.</p>

<p>runq displays the tasks on the run queue.</p>

<p>search searches a range of user or kernel memory space
for given value.</p>

<p>set either sets a new context, or gets the current
context for dis- play.</p>

<p>sig displays signal-handling data of one or more
tasks.</p>

<p>struct displays either a structure definition or the
contents of a ker- nel structure at a specified address.</p>

<p>swap displays information about each configured swap
device.</p>

<p>sym translates a symbol to its virtual address, or a
static kernel virtual address to its symbol -- or to a
symbol-plus-offset value, if appropriate.</p>

<p>sys displays system-specific data.</p>

<p>task displays the contents of a task_struct.</p>

<p>timer displays the timer queue entries, both old- and
new-style, in chronological order.</p>

<p>union is similar to the struct command, except that it
works on kernel unions.</p>

<p>vm displays basic virtual memory information of a
context.</p>

<p>vtop translates a user or kernel virtual address to its
physical address.</p>

<p>waitq walks the wait queue list displaying the tasks
which are blocked on the specified wait queue.</p>

<p>whatis displays the definition of structures, unions,
typedefs or text/data symbols.</p>

<p>wr modifies the contents of memory. When writing to
memory on a live system, this command should obviously be
used with great care.</p>

<p>FILES .crashrc Initialization commands. The file can be
located in the users HOME directory and/or the current
directory. Commands found in the .crashrc file in the HOME
directory are executed before those in the current
directorys .crashrc file.</p>

<p>ENVIRONMENT EDITOR Command input is read using
readline(3). If EDITOR is set to emacs or vi then suitable
keybindings are used. If EDITOR is not set, then vi is used.
This can be overridden by set vi or set emacs commands
located in a .crashrc file, or by entering -e emacs on the
crash command line.</p>

<p>CRASHPAGER If CRASHPAGER is set, its value is used as
the name of the pro- gram to which command output will be
sent. If not, then command output is sent to /usr/bin/less
-E -X by default.</p>

<p>NOTES If crash does not work, look for a newer version:
kernel evolution fre- quently makes crash updates
necessary.</p>

<p>The command set scroll off will cause output to be sent
directly to the terminal rather than through a paging
program. This is useful, for example, if you are running
crash in a window of emacs.</p>

<p>AUTHOR Dave Anderson &lt;anderson@redhat.com&gt; wrote
crash</p>

<p>Jay Fenlason &lt;fenlason@redhat.com&gt; wrote this man
page.</p>

<p>SEE ALSO The help command within crash provides more
complete and accurate docu- mentation than this man
page.</p>

<p>http://people.redhat.com/anderson - the home page of the
crash utility.</p>

<p>netdump(8), gdb(1)</p>

<p>CRASH(8)</p>
<hr>
</body>
</html>
