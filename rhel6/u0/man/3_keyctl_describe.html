<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:05:25 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>KEYCTL_DESCRIBE(3) Linux Key Management Calls
KEYCTL_DESCRIBE(3)</p>

<p>NAME keyctl_describe - Describe a key</p>

<p>SYNOPSIS #include &lt;keyutils.h&gt;</p>

<p>long keyctl_describe(key_serial_t key, char *buffer,
size_tbuflen);</p>

<p>long keyctl_describe_alloc(key_serial_t key, char
**_buffer);</p>

<p>DESCRIPTION keyctl_describe() describes the attributes
of a key as a NUL-terminated string.</p>

<p>The caller must have view permission on a key to be able
to get a description of it.</p>

<p>buffer and buflen specify the buffer into which the key
description will be placed. If the buffer is too small, the
full size of the description will be returned, and no copy
will take place.</p>

<p>keyctl_describe_alloc() is similar to keyctl_describe()
except that it allocates a buffer big enough to hold the
description and places the description in it. If successful,
A pointer to the buffer is placed in *_buffer. The caller
must free the buffer.</p>

<p>The description will be a string of format:</p>

<p>%s;%d;%d;%08x;%s</p>

<p>where the arguments are: key type name, key UID, key
GID, key permis- sions mask and key description.</p>

<p>NOTE! The key description will not contain any
semicolons, so that should be separated out by working
backwards from the end of the string. This permits extra
information to be inserted before it by later versions of
the kernel simply by inserting more semicolon-termi- nated
substrings.</p>

<p>RETURN VALUE On success keyctl_describe() returns the
amount of data placed into the buffer. If the buffer was too
small, then the size of buffer required will be returned,
but no data will be transferred. On error, the value -1 will
be returned and errno will have been set to an appropriate
error.</p>

<p>On success keyctl_describe_alloc() returns the amount of
data in the buffer, less the NUL terminator. On error, the
value -1 will be returned and errno will have been set to an
appropriate error.</p>

<p>ERRORS ENOKEY The key specified is invalid.</p>

<p>EKEYEXPIRED The key specified has expired.</p>

<p>EKEYREVOKED The key specified had been revoked.</p>

<p>EACCES The key exists, but is not viewable by the
calling process.</p>

<p>LINKING This is a library function that can be found in
libkeyutils. When linking, -lkeyutils should be specified to
the linker.</p>

<p>SEE ALSO keyctl(1), add_key(2), keyctl(2),
request_key(2), keyctl(3), request-key(8)</p>

<p>Linux 4 May 2006 KEYCTL_DESCRIBE(3)</p>
<hr>
</body>
</html>
