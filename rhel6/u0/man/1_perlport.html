<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:10:13 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>PERLPORT(1) Perl Programmers Reference Guide
PERLPORT(1)</p>

<p>NAME perlport - Writing portable Perl</p>

<p>DESCRIPTION Perl runs on numerous operating systems.
While most of them share much in common, they also have
their own unique features.</p>

<p>This document is meant to help you to find out what
constitutes portable Perl code. That way once you make a
decision to write portably, you know where the lines are
drawn, and you can stay within them.</p>

<p>There is a tradeoff between taking full advantage of one
particular type of computer and taking advantage of a full
range of them. Naturally, as you broaden your range and
become more diverse, the common factors drop, and you are
left with an increasingly smaller area of common ground in
which you can operate to accomplish a particular task. Thus,
when you begin attacking a problem, it is important to
consider under which part of the tradeoff curve you want to
operate. Specifically, you must decide whether it is
important that the task that you are coding have the full
generality of being portable, or whether to just get the job
done right now. This is the hardest choice to be made. The
rest is easy, because Perl provides many choices, whichever
way you want to approach your problem.</p>

<p>Looking at it another way, writing portable code is
usually about willfully limiting your available choices.
Naturally, it takes discipline and sacrifice to do that. The
product of portability and convenience may be a constant.
You have been warned.</p>

<p>Be aware of two important points:</p>

<p>Not all Perl programs have to be portable There is no
reason you should not use Perl as a language to glue Unix
tools together, or to prototype a Macintosh application, or
to manage the Windows registry. If it makes no sense to aim
for portability for one reason or another in a given
program, then dont bother.</p>

<p>Nearly all of Perl already is portable Dont be fooled
into thinking that it is hard to create portable Perl code.
It isn t. Perl tries its level-best to bridge the gaps
between whats available on different platforms, and all the
means available to use those features. Thus almost all Perl
code runs on any machine without modification. But there are
some significant issues in writing portable code, and this
document is entirely about those issues.</p>

<p>Heres the general rule: When you approach a task
commonly done using a whole range of platforms, think about
writing portable code. That way, you dont sacrifice much by
way of the implementation choices you can avail yourself of,
and at the same time you can give your users lots of
platform choices. On the other hand, when you have to take
advantage of some unique feature of a particular platform,
as is often the case with systems programming (whether for
Unix, Windows, Mac OS, VMS, etc.), consider writing
platform-specific code.</p>

<p>When the code will run on only two or three operating
systems, you may need to consider only the differences of
those particular systems. The important thing is to decide
where the code will run and to be deliberate in your
decision.</p>

<p>The material below is separated into three main
sections: main issues of portability (&quot;ISSUES&quot;),
platform-specific issues (&quot;PLATFORMS&quot;), and
built-in perl functions that behave differently on various
ports (&quot;FUNCTION IMPLEMENTATIONS&quot;).</p>

<p>This information should not be considered complete; it
includes possibly transient information about idiosyncrasies
of some of the ports, almost all of which are in a state of
constant evolution. Thus, this material should be considered
a perpetual work in progress (&quot;&lt;IMG
SRC=&quot;yellow_sign.gif&quot; ALT=&quot;Under
Construction&quot;&gt;&quot;).</p>

<p>ISSUES Newlines In most operating systems, lines in
files are terminated by newlines. Just what is used as a
newline may vary from OS to OS. Unix traditionally uses
&quot; 12&quot;, one type of DOSish I/O uses &quot; 15
12&quot;, and Mac OS uses &quot; 15&quot;.</p>

<p>Perl uses &quot;0 to represent the &quot;logical&quot;
newline, where what is logical may depend on the platform in
use. In MacPerl, &quot;0 always means &quot; 15&quot;. In
DOSish perls, &quot;0 usually means &quot; 12&quot;, but
when accessing a file in &quot;text&quot; mode, STDIO
translates it to (or from) &quot; 15 12&quot;, depending on
whether youre reading or writing. Unix does the same thing
on ttys in canonical mode. &quot; 15 12&quot; is commonly
referred to as CRLF.</p>

<p>To trim trailing newlines from text lines use chomp().
With default settings that function looks for a trailing
&quot;0 character and thus trims in a portable way.</p>

<p>When dealing with binary files (or text files in binary
mode) be sure to explicitly set $/ to the appropriate value
for your file format before using chomp().</p>

<p>Because of the &quot;text&quot; mode translation, DOSish
perls have limitations in using &quot;seek&quot; and
&quot;tell&quot; on a file accessed in &quot;text&quot;
mode. Stick to &quot;seek&quot;-ing to locations you got
from &quot;tell&quot; (and no others), and you are usually
free to use &quot;seek&quot; and &quot;tell&quot; even in
&quot;text&quot; mode. Using &quot;seek&quot; or
&quot;tell&quot; or other file operations may be
non-portable. If you use &quot;binmode&quot; on a file,
however, you can usually &quot;seek&quot; and
&quot;tell&quot; with arbitrary values in safety.</p>

<p>A common misconception in socket programming is that
&quot;0 eq &quot; 12&quot; everywhere. When using protocols
such as common Internet protocols, &quot; 12&quot; and
&quot; 15&quot; are called for specifically, and the values
of the &quot; (carriage return) are not reliable. logical
&quot;0 and &quot;</p>

<p>0; # WRONG print SOCKET &quot;Hi there, client! print
SOCKET &quot;Hi there, client! 15 12&quot;; # RIGHT</p>

<p>However, using &quot; 15 12&quot; (or &quot; and
unsightly, as well as confusing to those maintaining the
code. As such, the Socket module supplies the Right Thing
for those who want it.</p>

<p>use Socket qw(:DEFAULT :crlf); print SOCKET &quot;Hi
there, client!$CRLF&quot; # RIGHT</p>

<p>When reading from a socket, remember that the default
input record separator $/ is &quot;0, but robust socket code
will recognize as either &quot; 12&quot; or &quot; 15
12&quot; as end of line:</p>

<p>while (&lt;SOCKET&gt;) { # ... }</p>

<p>Because both CRLF and LF end in LF, the input record
separator can be set to LF and any CR stripped later. Better
to write:</p>

<p>use Socket qw(:DEFAULT :crlf); local($/) = LF; # not
needed if $/ is already 12</p>

<p>while (&lt;SOCKET&gt;) { s/$CR?$LF/0; # not sure if
socket uses LF or CRLF, OK # s/ 15? 12/0; # same thing }</p>

<p>This example is preferred over the previous one--even
for Unix platforms--because now any &quot; 15&quot;s (&quot;
there was much rejoicing).</p>

<p>Similarly, functions that return text data--such as a
function that fetches a web page--should sometimes translate
newlines before returning the data, if theyve not yet been
translated to the local newline representation. A single
line of code will often suffice:</p>

<p>$data =~ s/ 15? 12/0g; return $data;</p>

<p>Some of this may be confusing. Heres a handy reference
to the ASCII CR and LF characters. You can print it out and
stick it in your wallet.</p>

<p>LF eq 12 eq A eq CR eq 15 eq D eq | Unix | DOS | Mac |
--------------------------- | LF | LF | CR || CR | CR | LF |
* | LF | CRLF | CR |* | CR | CR | LF |
--------------------------- * text-mode STDIO</p>

<p>The Unix column assumes that you are not accessing a
serial line (like a tty) in canonical mode. If you are, then
CR on input becomes &quot;0, and &quot;0 on output becomes
CRLF.</p>

<p>&quot; in These are just the most common definitions of
&quot;0 and &quot; Perl. There may well be others. For
example, on an EBCDIC implementation such as z/OS (OS/390)
or OS/400 (using the ILE, the PASE is ASCII- based) the
above material is similar to &quot;Unix&quot; but the code
numbers change:</p>

<p>LF eq 25 eq 5 eq LF eq 45 eq 5 eq chr(37) eq CP-0037 37
CR eq 15 eq D eq CR eq 15 eq D eq | z/OS | OS/400 |
---------------------- | LF | LF || CR | CR | * | LF | LF |*
| CR | CR | ---------------------- * text-mode STDIO</p>

<p>Numbers endianness and Width Different CPUs store
integers and floating point numbers in different orders
(called endianness) and widths (32-bit and 64-bit being the
most common today). This affects your programs when they
attempt to transfer numbers in binary format from one CPU
architecture to another, usually either &quot;live&quot; via
network connection, or by storing the numbers to secondary
storage such as a disk file or tape.</p>

<p>Conflicting storage orders make utter mess out of the
numbers. If a little-endian host (Intel, VAX) stores
0x12345678 (305419896 in decimal), a big-endian host
(Motorola, Sparc, PA) reads it as 0x78563412 (2018915346 in
decimal). Alpha and MIPS can be either: Digital/Compaq
used/uses them in little-endian mode; SGI/Cray uses them in
big-endian mode. To avoid this problem in network (socket)
connections use the &quot;pack&quot; and &quot;unpack&quot;
formats &quot;n&quot; and &quot;N&quot;, the
&quot;network&quot; orders. These are guaranteed to be
portable.</p>

<p>As of perl 5.9.2, you can also use the &quot;&gt;&quot;
and &quot;&lt;&quot; modifiers to force big- or
little-endian byte-order. This is useful if you want to
store signed integers or 64-bit integers, for example.</p>

<p>You can explore the endianness of your platform by
unpacking a data structure packed in native format such
as:</p>

<p>print unpack(&quot;h*&quot;, pack(&quot;s2&quot;, 1,
2)), &quot;0; # &rsquo;10002000&rsquo; on e.g. Intel x86 or
Alpha 21064 in little-endian mode # &rsquo;00100020&rsquo;
on e.g. Motorola 68040</p>

<p>If you need to distinguish between endian architectures
you could use either of the variables set like so:</p>

<p>$is_big_endian = unpack(&quot;h*&quot;,
pack(&quot;s&quot;, 1)) =~ /01/; $is_little_endian =
unpack(&quot;h*&quot;, pack(&quot;s&quot;, 1)) =~ /^1/;</p>

<p>Differing widths can cause truncation even between
platforms of equal endianness. The platform of shorter width
loses the upper parts of the number. There is no good
solution for this problem except to avoid transferring or
storing raw binary numbers.</p>

<p>One can circumnavigate both these problems in two ways.
Either transfer and store numbers always in text format,
instead of raw binary, or else consider using modules like
Data::Dumper (included in the standard distribution as of
Perl 5.005) and Storable (included as of perl 5.8). Keeping
all data as text significantly simplifies matters.</p>

<p>The v-strings are portable only up to v2147483647
(0x7FFFFFFF), thats how far EBCDIC, or more precisely
UTF-EBCDIC will go.</p>

<p>Files and Filesystems Most platforms these days
structure files in a hierarchical fashion. So, it is
reasonably safe to assume that all platforms support the
notion of a &quot;path&quot; to uniquely identify a file on
the system. How that path is really written, though, differs
considerably.</p>

<p>Although similar, file path specifications differ
between Unix, Windows, Mac OS, OS/2, VMS, VOS, RISC OS, and
probably others. Unix, for example, is one of the few OSes
that has the elegant idea of a single root directory.</p>

<p>DOS, OS/2, VMS, VOS, and Windows can work similarly to
Unix with &quot;/&quot; as path separator, or in their own
idiosyncratic ways (such as having several root directories
and various &quot;unrooted&quot; device files such NIL: and
LPT:).</p>

<p>Mac OS uses &quot;:&quot; as a path separator instead of
&quot;/&quot;.</p>

<p>The filesystem may support neither hard links
(&quot;link&quot;) nor symbolic links (&quot;symlink&quot;,
&quot;readlink&quot;, &quot;lstat&quot;).</p>

<p>The filesystem may support neither access timestamp nor
change timestamp (meaning that about the only portable
timestamp is the modification timestamp), or one second
granularity of any timestamps (e.g. the FAT filesystem
limits the time granularity to two seconds).</p>

<p>The &quot;inode change timestamp&quot; (the
&quot;-C&quot; filetest) may really be the &quot;creation
timestamp&quot; (which it is not in UNIX).</p>

<p>VOS perl can emulate Unix filenames with &quot;/&quot;
as path separator. The native pathname characters
greater-than, less-than, number-sign, and percent-sign are
always accepted.</p>

<p>RISC OS perl can emulate Unix filenames with
&quot;/&quot; as path separator, or go native and use
&quot;.&quot; for path separator and &quot;:&quot; to signal
filesystems and disk names.</p>

<p>Dont assume UNIX filesystem access semantics: that read,
write, and execute are all the permissions there are, and
even if they exist, that their semantics (for example what
do r, w, and x mean on a directory) are the UNIX ones. The
various UNIX/POSIX compatibility layers usually try to make
interfaces like chmod() work, but sometimes there simply is
no good mapping.</p>

<p>If all this is intimidating, have no (well, maybe only a
little) fear. There are modules that can help. The
File::Spec modules provide methods to do the Right Thing on
whatever platform happens to be running the program.</p>

<p>use File::Spec::Functions; chdir(updir()); # go up one
directory $file = catfile(curdir(), &rsquo;temp&rsquo;,
&rsquo;file.txt&rsquo;); # on Unix and Win32,
&rsquo;./temp/file.txt&rsquo; # on Mac OS,
&rsquo;:temp:file.txt&rsquo; # on VMS,
&rsquo;[.temp]file.txt&rsquo;</p>

<p>File::Spec is available in the standard distribution as
of version 5.004_05. File::Spec::Functions is only in
File::Spec 0.7 and later, and some versions of perl come
with version 0.6. If File::Spec is not updated to 0.7 or
later, you must use the object-oriented interface from
File::Spec (or upgrade File::Spec).</p>

<p>In general, production code should not have file paths
hardcoded. Making them user-supplied or read from a
configuration file is better, keeping in mind that file path
syntax varies on different machines.</p>

<p>This is especially noticeable in scripts like Makefiles
and test suites, which often assume &quot;/&quot; as a path
separator for subdirectories.</p>

<p>Also of use is File::Basename from the standard
distribution, which splits a pathname into pieces (base
filename, full path to directory, and file suffix).</p>

<p>Even when on a single platform (if you can call Unix a
single platform), remember not to count on the existence or
the contents of particular system-specific files or
directories, like /etc/passwd, /etc/sendmail.conf,
/etc/resolv.conf, or even /tmp/. For example, /etc/passwd
may exist but not contain the encrypted passwords, because
the system is using some form of enhanced security. Or it
may not contain all the accounts, because the system is
using NIS. If code does need to rely on such a file, include
a description of the file and its format in the codes
documentation, then make it easy for the user to override
the default location of the file.</p>

<p>Dont assume a text file will end with a newline. They
should, but people forget.</p>

<p>Do not have two files or directories of the same name
with different case, like test.pl and Test.pl, as many
platforms have case-insensitive (or at least case-forgiving)
filenames. Also, try not to have non-word characters (except
for &quot;.&quot;) in the names, and keep them to the 8.3
convention, for maximum portability, onerous a burden though
this may appear.</p>

<p>Likewise, when using the AutoSplit module, try to keep
your functions to 8.3 naming and case-insensitive
conventions; or, at the least, make it so the resulting
files have a unique (case-insensitively) first 8
characters.</p>

<p>Whitespace in filenames is tolerated on most systems,
but not all, and even on systems where it might be
tolerated, some utilities might become confused by such
whitespace.</p>

<p>Many systems (DOS, VMS ODS-2) cannot have more than one
&quot;.&quot; in their filenames.</p>

<p>Dont assume &quot;&gt;&quot; wont be the first character
of a filename. Always use &quot;&lt;&quot; explicitly to
open a file for reading, or even better, use the three-arg
version of open, unless you want the user to be able to
specify a pipe open.</p>

<p>open(FILE, &rsquo;&lt;&rsquo;, $existing_file) or die
$!;</p>

<p>If filenames might use strange characters, it is safest
to open it with &quot;sysopen&quot; instead of
&quot;open&quot;. &quot;open&quot; is magic and can
translate characters like &quot;&gt;&quot;,
&quot;&lt;&quot;, and &quot;|&quot;, which may be the wrong
thing to do. (Sometimes, though, its the right thing.)
Three-arg open can also help protect against this
translation in cases where it is undesirable.</p>

<p>Dont use &quot;:&quot; as a part of a filename since
many systems use that for their own semantics (Mac OS
Classic for separating pathname components, many networking
schemes and utilities for separating the nodename and the
pathname, and so on). For the same reasons, avoid
&quot;@&quot;, &quot;;&quot; and &quot;|&quot;.</p>

<p>Dont assume that in pathnames you can collapse two
leading slashes &quot;//&quot; into one: some networking and
clustering filesystems have special semantics for that. Let
the operating system to sort it out.</p>

<p>The portable filename characters as defined by ANSI C
are</p>

<p>a b c d e f g h i j k l m n o p q r t u v w x y z A B C
D E F G H I J K L M N O P Q R T U V W X Y Z 0 1 2 3 4 5 6 7
8 9 . _ -</p>

<p>and the &quot;-&quot; shouldnt be the first character.
If you want to be hypercorrect, stay case-insensitive and
within the 8.3 naming convention (all the files and
directories have to be unique within one directory if their
names are lowercased and truncated to eight characters
before the &quot;.&quot;, if any, and to three characters
after the &quot;.&quot;, if any). (And do not use
&quot;.&quot;s in directory names.)</p>

<p>System Interaction Not all platforms provide a command
line. These are usually platforms that rely primarily on a
Graphical User Interface (GUI) for user interaction. A
program requiring a command line interface might not work
everywhere. This is probably for the user of the program to
deal with, so dont stay up late worrying about it.</p>

<p>Some platforms cant delete or rename files held open by
the system, this limitation may also apply to changing
filesystem metainformation like file permissions or owners.
Remember to &quot;close&quot; files when you are done with
them. Dont &quot;unlink&quot; or &quot;rename&quot; an open
file. Dont &quot;tie&quot; or &quot;open&quot; a file
already tied or opened; &quot;untie&quot; or
&quot;close&quot; it first.</p>

<p>Don t open the same file more than once at a time for
writing, as some operating systems put mandatory locks on
such files.</p>

<p>Dont assume that write/modify permission on a directory
gives the right to add or delete files/directories in that
directory. That is filesystem specific: in some filesystems
you need write/modify permission also (or even just) in the
file/directory itself. In some filesystems (AFS, DFS) the
permission to add/delete directory entries is a completely
separate permission.</p>

<p>Don t assume that a single &quot;unlink&quot; completely
gets rid of the file: some filesystems (most notably the
ones in VMS) have versioned filesystems, and unlink()
removes only the most recent one (it doesnt remove all the
versions because by default the native tools on those
platforms remove just the most recent version, too). The
portable idiom to remove all the versions of a file is</p>

<p>1 while unlink &quot;file&quot;;</p>

<p>This will terminate if the file is undeleteable for some
reason (protected, not there, and so on).</p>

<p>Don t count on a specific environment variable existing
in %ENV. Dont count on %ENV entries being case-sensitive, or
even case-preserving. Don t try to clear %ENV by saying
&quot;%ENV = ();&quot;, or, if you really have to, make it
conditional on &quot;$^O ne &rsquo;VMS&rsquo;&quot; since in
VMS the %ENV table is much more than a per-process key-value
string table.</p>

<p>On VMS, some entries in the %ENV hash are dynamically
created when their key is used on a read if they did not
previously exist. The values for $ENV{HOME}, $ENV{TERM},
$ENV{HOME}, and $ENV{USER}, are known to be dynamically
generated. The specific names that are dynamically generated
may vary with the version of the C library on VMS, and more
may exist than is documented.</p>

<p>On VMS by default, changes to the %ENV hash are
persistent after the process exits. This can cause
unintended issues.</p>

<p>Dont count on signals or %SIG for anything.</p>

<p>Don t count on filename globbing. Use
&quot;opendir&quot;, &quot;readdir&quot;, and
&quot;closedir&quot; instead.</p>

<p>Don t count on per-program environment variables, or
per-program current directories.</p>

<p>Don t count on specific values of $!, neither numeric
nor especially the strings values-- users may switch their
locales causing error messages to be translated into their
languages. If you can trust a POSIXish environment, you can
portably use the symbols defined by the Errno module, like
ENOENT. And dont trust on the values of $! at all except
immediately after a failed system call.</p>

<p>Command names versus file pathnames Dont assume that the
name used to invoke a command or program with
&quot;system&quot; or &quot;exec&quot; can also be used to
test for the existence of the file that holds the executable
code for that command or program. First, many systems have
&quot;internal&quot; commands that are built-in to the shell
or OS and while these commands can be invoked, there is no
corresponding file. Second, some operating systems (e.g.,
Cygwin, DJGPP, OS/2, and VOS) have required suffixes for
executable files; these suffixes are generally permitted on
the command name but are not required. Thus, a command like
&quot;perl&quot; might exist in a file named
&quot;perl&quot;, &quot;perl.exe&quot;, or
&quot;perl.pm&quot;, depending on the operating system. The
variable &quot;_exe&quot; in the Config module holds the
executable suffix, if any. Third, the VMS port carefully
sets up $^X and $Config{perlpath} so that no further
processing is required. This is just as well, because the
matching regular expression used below would then have to
deal with a possible trailing version number in the VMS file
name.</p>

<p>To convert $^X to a file pathname, taking account of the
requirements of the various operating system possibilities,
say:</p>

<p>use Config; $thisperl = $^X; if ($^O ne
&rsquo;VMS&rsquo;) {$thisperl .= $Config{_exe} unless
$thisperl =~ m/$Config{_exe}$/i;}</p>

<p>To convert $Config{perlpath} to a file pathname,
say:</p>

<p>use Config; $thisperl = $Config{perlpath}; if ($^O ne
&rsquo;VMS&rsquo;) {$thisperl .= $Config{_exe} unless
$thisperl =~ m/$Config{_exe}$/i;}</p>

<p>Networking Dont assume that you can reach the public
Internet.</p>

<p>Don t assume that there is only one way to get through
firewalls to the public Internet.</p>

<p>Dont assume that you can reach outside world through any
other port than 80, or some web proxy. ftp is blocked by
many firewalls.</p>

<p>Dont assume that you can send email by connecting to the
local SMTP port.</p>

<p>Dont assume that you can reach yourself or any node by
the name localhost. The same goes for 127.0.0.1. You will
have to try both.</p>

<p>Don t assume that the host has only one network card, or
that it cant bind to many virtual IP addresses.</p>

<p>Dont assume a particular network device name.</p>

<p>Dont assume a particular set of ioctl()s will work.</p>

<p>Dont assume that you can ping hosts and get replies.</p>

<p>Dont assume that any particular port (service) will
respond.</p>

<p>Don t assume that Sys::Hostname (or any other API or
command) returns either a fully qualified hostname or a
non-qualified hostname: it all depends on how the system had
been configured. Also remember things like DHCP and NAT--
the hostname you get back might not be very useful.</p>

<p>All the above &quot;dont&quot;:s may look daunting, and
they are -- but the key is to degrade gracefully if one
cannot reach the particular network service one wants.
Croaking or hanging do not look very professional.</p>

<p>Interprocess Communication (IPC) In general, dont
directly access the system in code meant to be portable.
That means, no &quot;system&quot;, &quot;exec&quot;,
&quot;fork&quot;, &quot;pipe&quot;,
&quot;&lsquo;&lsquo;&quot;, &quot;qx//&quot;,
&quot;open&quot; with a &quot;|&quot;, nor any of the other
things that makes being a perl hacker worth being.</p>

<p>Commands that launch external processes are generally
supported on most platforms (though many of them do not
support any type of forking). The problem with using them
arises from what you invoke them on. External tools are
often named differently on different platforms, may not be
available in the same location, might accept different
arguments, can behave differently, and often present their
results in a platform-dependent way. Thus, you should seldom
depend on them to produce consistent results. (Then again,
if youre calling netstat -a, you probably dont expect it to
run on both Unix and CP/M.)</p>

<p>One especially common bit of Perl code is opening a pipe
to sendmail:</p>

<p>open(MAIL, &rsquo;|/usr/lib/sendmail -t&rsquo;) or die
&quot;cannot fork sendmail: $!&quot;;</p>

<p>This is fine for systems programming when sendmail is
known to be available. But it is not fine for many non-Unix
systems, and even some Unix systems that may not have
sendmail installed. If a portable solution is needed, see
the various distributions on CPAN that deal with it.
Mail::Mailer and Mail::Send in the MailTools distribution
are commonly used, and provide several mailing methods,
including mail, sendmail, and direct SMTP (via Net::SMTP) if
a mail transfer agent is not available. Mail::Sendmail is a
standalone module that provides simple, platform-independent
mailing.</p>

<p>The Unix System V IPC (&quot;msg*(), sem*(),
shm*()&quot;) is not available even on all Unix
platforms.</p>

<p>Do not use either the bare result of
&quot;pack(&quot;N&quot;, 10, 20, 30, 40)&quot; or bare
v-strings (such as &quot;v10.20.30.40&quot;) to represent
IPv4 addresses: both forms just pack the four bytes into
network order. That this would be equal to the C language
&quot;in_addr&quot; struct (which is what the socket code
internally uses) is not guaranteed. To be portable use the
routines of the Socket extension, such as
&quot;inet_aton()&quot;, &quot;inet_ntoa()&quot;, and
&quot;sockaddr_in()&quot;.</p>

<p>The rule of thumb for portable code is: Do it all in
portable Perl, or use a module (that may internally
implement it with platform-specific code, but expose a
common interface).</p>

<p>External Subroutines (XS) XS code can usually be made to
work with any platform, but dependent libraries, header
files, etc., might not be readily available or portable, or
the XS code itself might be platform-specific, just as Perl
code might be. If the libraries and headers are portable,
then it is normally reasonable to make sure the XS code is
portable, too.</p>

<p>A different type of portability issue arises when
writing XS code: availability of a C compiler on the
end-users system. C brings with it its own portability
issues, and writing XS code will expose you to some of
those. Writing purely in Perl is an easier way to achieve
portability.</p>

<p>Standard Modules In general, the standard modules work
across platforms. Notable exceptions are the CPAN module
(which currently makes connections to external programs that
may not be available), platform-specific modules (like
ExtUtils::MM_VMS), and DBM modules.</p>

<p>There is no one DBM module available on all platforms.
SDBM_File and the others are generally available on all Unix
and DOSish ports, but not in MacPerl, where only NBDM_File
and DB_File are available.</p>

<p>The good news is that at least some DBM module should be
available, and AnyDBM_File will use whichever module it can
find. Of course, then the code needs to be fairly strict,
dropping to the greatest common factor (e.g., not exceeding
1K for each record), so that it will work with any DBM
module. See AnyDBM_File for more details.</p>

<p>Time and Date The system s notion of time of day and
calendar date is controlled in widely different ways. Dont
assume the timezone is stored in $ENV{TZ}, and even if it
is, dont assume that you can control the timezone through
that variable. Don t assume anything about the three- letter
timezone abbreviations (for example that MST would be the
Mountain Standard Time, its been known to stand for Moscow
Standard Time). If you need to use timezones, express them
in some unambiguous format like the exact number of minutes
offset from UTC, or the POSIX timezone format.</p>

<p>Don t assume that the epoch starts at 00:00:00, January
1, 1970, because that is OS- and implementation-specific. It
is better to store a date in an unambiguous representation.
The ISO 8601 standard defines YYYY-MM-DD as the date format,
or YYYY-MM-DDTHH-MM-SS (thats a literal &quot;T&quot;
separating the date from the time). Please do use the ISO
8601 instead of making us to guess what date 02/03/04 might
be. ISO 8601 even sorts nicely as-is. A text representation
(like &quot;1987-12-18&quot;) can be easily converted into
an OS-specific value using a module like Date::Parse. An
array of values, such as those returned by
&quot;localtime&quot;, can be converted to an OS-specific
representation using Time::Local.</p>

<p>When calculating specific times, such as for tests in
time or date modules, it may be appropriate to calculate an
offset for the epoch.</p>

<p>require Time::Local; $offset = Time::Local::timegm(0, 0,
0, 1, 0, 70);</p>

<p>The value for $offset in Unix will be 0, but in Mac OS
will be some large number. $offset can then be added to a
Unix time value to get what should be the proper value on
any system.</p>

<p>On Windows (at least), you shouldnt pass a negative
value to &quot;gmtime&quot; or &quot;localtime&quot;.</p>

<p>Character sets and character encoding Assume very little
about character sets.</p>

<p>Assume nothing about numerical values (&quot;ord&quot;,
&quot;chr&quot;) of characters. Do not use explicit code
point ranges (like -); use for example symbolic character
classes like &quot;[:print:]&quot;.</p>

<p>Do not assume that the alphabetic characters are encoded
contiguously (in the numeric sense). There may be gaps.</p>

<p>Do not assume anything about the ordering of the
characters. The lowercase letters may come before or after
the uppercase letters; the lowercase and uppercase may be
interlaced so that both &quot;a&quot; and &quot;A&quot; come
before &quot;b&quot;; the accented and other international
characters may be interlaced so that ae comes before
&quot;b&quot;.</p>

<p>Internationalisation If you may assume POSIX (a rather
large assumption), you may read more about the POSIX locale
system from perllocale. The locale system at least attempts
to make things a little bit more portable, or at least more
convenient and native-friendly for non-English users. The
system affects character sets and encoding, and date and
time formatting--amongst other things.</p>

<p>If you really want to be international, you should
consider Unicode. See perluniintro and perlunicode for more
information.</p>

<p>If you want to use non-ASCII bytes (outside the bytes
0x00..0x7f) in the &quot;source code&quot; of your code, to
be portable you have to be explicit about what bytes they
are. Someone might for example be using your code under a
UTF-8 locale, in which case random native bytes might be
illegal (&quot;Malformed UTF-8 ...&quot;) This means that
for example embedding ISO 8859-1 bytes beyond 0x7f into your
strings might cause trouble later. If the bytes are native
8-bit bytes, you can use the &quot;bytes&quot; pragma. If
the bytes are in a string (regular expression being a
curious string), you can often also use the &quot;&quot;
notation instead of embedding the bytes as-is. (If you want
to write your code in UTF-8, you can use the
&quot;utf8&quot;.) The &quot;bytes&quot; and
&quot;utf8&quot; pragmata are available since Perl
5.6.0.</p>

<p>System Resources If your code is destined for systems
with severely constrained (or missing!) virtual memory
systems then you want to be especially mindful of avoiding
wasteful constructs such as:</p>

<p># NOTE: this is no longer &quot;bad&quot; in perl5.005
for (0..10000000) {} # bad for (my $x = 0; $x &lt;=
10000000; ++$x) {} # good</p>

<p>@lines = &lt;VERY_LARGE_FILE&gt;; # bad</p>

<p>while (&lt;FILE&gt;) {$file .= $_} # sometimes bad $file
= join(&rsquo;&rsquo;, &lt;FILE&gt;); # better</p>

<p>The last two constructs may appear unintuitive to most
people. The first repeatedly grows a string, whereas the
second allocates a large chunk of memory in one go. On some
systems, the second is more efficient that the first.</p>

<p>Security Most multi-user platforms provide basic levels
of security, usually implemented at the filesystem level.
Some, however, do not-- unfortunately. Thus the notion of
user id, or &quot;home&quot; directory, or even the state of
being logged-in, may be unrecognizable on many platforms. If
you write programs that are security-conscious, it is
usually best to know what type of system you will be running
under so that you can write code explicitly for that
platform (or class of platforms).</p>

<p>Dont assume the UNIX filesystem access semantics: the
operating system or the filesystem may be using some ACL
systems, which are richer languages than the usual rwx. Even
if the rwx exist, their semantics might be different.</p>

<p>(From security viewpoint testing for permissions before
attempting to do something is silly anyway: if one tries
this, there is potential for race conditions-- someone or
something might change the permissions between the
permissions check and the actual operation. Just try the
operation.)</p>

<p>Dont assume the UNIX user and group semantics:
especially, dont expect the $&lt; and $&gt; (or the $( and
$)) to work for switching identities (or memberships).</p>

<p>Don t assume set-uid and set-gid semantics. (And even if
you do, think twice: set-uid and set-gid are a known can of
security worms.)</p>

<p>Style For those times when it is necessary to have
platform-specific code, consider keeping the
platform-specific code in one place, making porting to other
platforms easier. Use the Config module and the special
variable $^O to differentiate platforms, as described in
&quot;PLATFORMS&quot;.</p>

<p>Be careful in the tests you supply with your module or
programs. Module code may be fully portable, but its tests
might not be. This often happens when tests spawn off other
processes or call external programs to aid in the testing,
or when (as noted above) the tests assume certain things
about the filesystem and paths. Be careful not to depend on
a specific output style for errors, such as when checking $!
after a failed system call. Using $! for anything else than
displaying it as output is doubtful (though see the Errno
module for testing reasonably portably for error value).
Some platforms expect a certain output format, and Perl on
those platforms may have been adjusted accordingly. Most
specifically, dont anchor a regex when testing an error
value.</p>

<p>CPAN Testers Modules uploaded to CPAN are tested by a
variety of volunteers on different platforms. These CPAN
testers are notified by mail of each new upload, and reply
to the list with PASS, FAIL, NA (not applicable to this
platform), or UNKNOWN (unknown), along with any relevant
notations.</p>

<p>The purpose of the testing is twofold: one, to help
developers fix any problems in their code that crop up
because of lack of testing on other platforms; two, to
provide users with information about whether a given module
works on a given platform.</p>

<p>Also see:</p>

<p>&middot; Mailing list: cpan-testers@perl.org</p>

<p>&middot; Testing results: http://testers.cpan.org/</p>

<p>PLATFORMS As of version 5.002, Perl is built with a $^O
variable that indicates the operating system it was built
on. This was implemented to help speed up code that would
otherwise have to &quot;use Config&quot; and use the value
of $Config{osname}. Of course, to get more detailed
information about the system, looking into %Config is
certainly recommended.</p>

<p>%Config cannot always be trusted, however, because it
was built at compile time. If perl was built in one place,
then transferred elsewhere, some values may be wrong. The
values may even have been edited after the fact.</p>

<p>Unix Perl works on a bewildering variety of Unix and
Unix-like platforms (see e.g. most of the files in the
hints/ directory in the source code kit). On most of these
systems, the value of $^O (hence
$Config{&rsquo;osname&rsquo;}, too) is determined either by
lowercasing and stripping punctuation from the first field
of the string returned by typing &quot;uname -a&quot; (or a
similar command) at the shell prompt or by testing the file
system for the presence of uniquely named files such as a
kernel or header file. Here, for example, are a few of the
more popular Unix flavors:</p>

<p>uname $^O $Config{&rsquo;archname&rsquo;}
-------------------------------------------- AIX aix aix
BSD/OS bsdos i386-bsdos Darwin darwin darwin dgux dgux
AViiON-dgux DYNIX/ptx dynixptx i386-dynixptx FreeBSD freebsd
freebsd-i386 Haiku haiku BePC-haiku Linux linux arm-linux
Linux linux i386-linux Linux linux i586-linux Linux linux
ppc-linux HP-UX hpux PA-RISC1.1 IRIX irix irix Mac OS X
darwin darwin MachTen PPC machten powerpc-machten NeXT 3
next next-fat NeXT 4 next OPENSTEP-Mach openbsd openbsd
i386-openbsd OSF1 dec_osf alpha-dec_osf reliantunix-n svr4
RM400-svr4 SCO_SV sco_sv i386-sco_sv SINIX-N svr4 RM400-svr4
sn4609 unicos CRAY_C90-unicos sn6521 unicosmk t3e-unicosmk
sn9617 unicos CRAY_J90-unicos SunOS solaris sun4-solaris
SunOS solaris i86pc-solaris SunOS4 sunos sun4-sunos</p>

<p>Because the value of $Config{archname} may depend on the
hardware architecture, it can vary more than the value of
$^O.</p>

<p>DOS and Derivatives Perl has long been ported to
Intel-style microcomputers running under systems like
PC-DOS, MS-DOS, OS/2, and most Windows platforms you can
bring yourself to mention (except for Windows CE, if you
count that). Users familiar with COMMAND.COM or CMD.EXE
style shells should be aware that each of these file
specifications may have subtle differences:</p>

<p>$filespec0 = &quot;c:/foo/bar/file.txt&quot;; $filespec1
= &quot;c:\foo\bar\file.txt&quot;; r l e . $filespec2 =
&rsquo;c:ot x t &rsquo; ; $filespec3 =
&rsquo;c:\foo\bar\file.txt&rsquo;;</p>

<p>System calls accept either &quot;/&quot; or &quot; many
command-line utilities of DOS vintage treat &quot;/&quot; as
the option prefix, so may get confused by filenames
containing &quot;/&quot;. Aside from calling any external
programs, &quot;/&quot; will work just fine, and probably
better, as it is more consistent with popular usage, and
avoids the problem of remembering what to backwhack and what
not to.</p>

<p>The DOS FAT filesystem can accommodate only
&quot;8.3&quot; style filenames. Under the
&quot;case-insensitive, but case-preserving&quot; HPFS
(OS/2) and NTFS (NT) filesystems you may have to be careful
about case returned with functions like &quot;readdir&quot;
or used with functions like &quot;open&quot; or
&quot;opendir&quot;.</p>

<p>DOS also treats several filenames as special, such as
AUX, PRN, NUL, CON, COM1, LPT1, LPT2, etc. Unfortunately,
sometimes these filenames won t even work if you include an
explicit directory prefix. It is best to avoid such
filenames, if you want your code to be portable to DOS and
its derivatives. Its hard to know what these all are,
unfortunately.</p>

<p>Users of these operating systems may also wish to make
use of scripts such as pl2bat.bat or pl2cmd to put wrappers
around your scripts.</p>

<p>Newline (&quot;0) is translated as &quot; 15 12&quot; by
STDIO when reading from and writing to files (see
&quot;Newlines&quot;). &quot;binmode(FILEHANDLE)&quot; will
keep &quot;0 translated as &quot; 12&quot; for that
filehandle. Since it is a no-op on other systems,
&quot;binmode&quot; should be used for cross-platform code
that deals with binary data. Thats assuming you realize in
advance that your data is in binary. General-purpose
programs should often assume nothing about their data.</p>

<p>The $^O variable and the $Config{archname} values for
various DOSish perls are as follows:</p>

<p>OS $^O $Config{archname} ID Version
--------------------------------------------------------
MS-DOS dos ? PC-DOS dos ? OS/2 os2 ? Windows 3.1 ? ? 0 3 01
Windows 95 MSWin32 MSWin32-x86 1 4 00 Windows 98 MSWin32
MSWin32-x86 1 4 10 Windows ME MSWin32 MSWin32-x86 1 ?
Windows NT MSWin32 MSWin32-x86 2 4 xx Windows NT MSWin32
MSWin32-ALPHA 2 4 xx Windows NT MSWin32 MSWin32-ppc 2 4 xx
Windows 2000 MSWin32 MSWin32-x86 2 5 00 Windows XP MSWin32
MSWin32-x86 2 5 01 Windows 2003 MSWin32 MSWin32-x86 2 5 02
Windows CE MSWin32 ? 3 Cygwin cygwin cygwin</p>

<p>The various MSWin32 Perls can distinguish the OS they
are running on via the value of the fifth element of the
list returned from Win32::GetOSVersion(). For example:</p>

<p>if ($^O eq &rsquo;MSWin32&rsquo;) { my @os_version_info
= Win32::GetOSVersion(); print
+(&rsquo;3.1&rsquo;,&rsquo;95&rsquo;,&rsquo;NT&rsquo;)[$os_version_info[4]],&quot;0;
}</p>

<p>There are also Win32::IsWinNT() and Win32::IsWin95(),
try &quot;perldoc Win32&quot;, and as of libwin32 0.19 (not
part of the core Perl distribution) Win32::GetOSName(). The
very portable POSIX::uname() will work too:</p>

<p>c:&gt; perl -MPOSIX -we &quot;print join
&rsquo;|&rsquo;, uname&quot; Windows NT|moonru|5.0|Build
2195 (Service Pack 2)|x86</p>

<p>Also see:</p>

<p>&middot; The djgpp environment for DOS,
http://www.delorie.com/djgpp/ and perldos.</p>

<p>&middot; The EMX environment for DOS, OS/2, etc.
emx@iaehv.nl,
http://www.leo.org/pub/comp/os/os2/leo/gnu/emx+gcc/index.html
or ftp://hobbes.nmsu.edu/pub/os2/dev/emx/ Also perlos2.</p>

<p>&middot; Build instructions for Win32 in perlwin32, or
under the Cygnus environment in perlcygwin.</p>

<p>&middot; The &quot;Win32::*&quot; modules in Win32.</p>

<p>&middot; The ActiveState Pages,
http://www.activestate.com/</p>

<p>&middot; The Cygwin environment for Win32; README.cygwin
(installed as perlcygwin), http://www.cygwin.com/</p>

<p>&middot; The U/WIN environment for Win32,
http://www.research.att.com/sw/tools/uwin/</p>

<p>&middot; Build instructions for OS/2, perlos2</p>

<p>Mac OS Any module requiring XS compilation is right out
for most people, because MacPerl is built using non-free
(and non-cheap!) compilers. Some XS modules that can work
with MacPerl are built and distributed in binary form on
CPAN.</p>

<p>Directories are specified as:</p>

<p>volume:folder:file for absolute pathnames volume:folder:
for absolute pathnames :folder:file for relative pathnames
:folder: for relative pathnames :file for relative pathnames
file for relative pathnames</p>

<p>Files are stored in the directory in alphabetical order.
Filenames are limited to 31 characters, and may include any
character except for null and &quot;:&quot;, which is
reserved as the path separator.</p>

<p>Instead of &quot;flock&quot;, see
&quot;FSpSetFLock&quot; and &quot;FSpRstFLock&quot; in the
Mac::Files module, or &quot;chmod(0444, ...)&quot; and
&quot;chmod(0666, ...)&quot;.</p>

<p>In the MacPerl application, you cant run a program from
the command line; programs that expect @ARGV to be populated
can be edited with something like the following, which
brings up a dialog box asking for the command line
arguments.</p>

<p>if (!@ARGV) { @ARGV = split /,
MacPerl::Ask(&rsquo;Arguments?&rsquo;); }</p>

<p>A MacPerl script saved as a &quot;droplet&quot; will
populate @ARGV with the full pathnames of the files dropped
onto the script.</p>

<p>Mac users can run programs under a type of command line
interface under MPW (Macintosh Programmers Workshop, a free
development environment from Apple). MacPerl was first
introduced as an MPW tool, and MPW can be used like a
shell:</p>

<p>perl myscript.plx some arguments</p>

<p>ToolServer is another app from Apple that provides
access to MPW tools from MPW and the MacPerl app, which
allows MacPerl programs to use &quot;system&quot;,
backticks, and piped &quot;open&quot;.</p>

<p>&quot;Mac OS&quot; is the proper name for the operating
system, but the value in $^O is &quot;MacOS&quot;. To
determine architecture, version, or whether the application
or MPW tool version is running, check:</p>

<p>$is_app = $MacPerl::Version =~ /App/; $is_tool =
$MacPerl::Version =~ /MPW/; ($version) = $MacPerl::Version
=~ /^()/; $is_ppc = $MacPerl::Architecture eq
&rsquo;MacPPC&rsquo;; $is_68k = $MacPerl::Architecture eq
&rsquo;Mac68K&rsquo;;</p>

<p>Mac OS X, based on NeXT s OpenStep OS, runs MacPerl
natively, under the &quot;Classic&quot; environment. There
is no &quot;Carbon&quot; version of MacPerl to run under the
primary Mac OS X environment. Mac OS X and its Open Source
version, Darwin, both run Unix perl natively.</p>

<p>Also see:</p>

<p>&middot; MacPerl Development, http://dev.macperl.org/
.</p>

<p>&middot; The MacPerl Pages, http://www.macperl.com/
.</p>

<p>&middot; The MacPerl mailing lists,
http://lists.perl.org/ .</p>

<p>&middot; MPW,
ftp://ftp.apple.com/developer/Tool_Chest/Core_Mac_OS_Tools/</p>

<p>VMS Perl on VMS is discussed in perlvms in the perl
distribution.</p>

<p>The official name of VMS as of this writing is
OpenVMS.</p>

<p>Perl on VMS can accept either VMS- or Unix-style file
specifications as in either of the following:</p>

<p>$ perl -ne &quot;print if /perl_setup/i&quot;
SYS$LOGIN:LOGIN.COM $ perl -ne &quot;print if
/perl_setup/i&quot; /sys$login/login.com</p>

<p>but not a mixture of both as in:</p>

<p>$ perl -ne &quot;print if /perl_setup/i&quot;
sys$login:/login.com Can&rsquo;t open sys$login:/login.com:
file specification syntax error</p>

<p>Interacting with Perl from the Digital Command Language
(DCL) shell often requires a different set of quotation
marks than Unix shells do. For example:</p>

<p>$ perl -e &quot;print &quot;&quot;Hello,
world.0&quot;&quot; Hello, world.</p>

<p>There are several ways to wrap your perl scripts in DCL
.COM files, if you are so inclined. For example:</p>

<p>$ write sys$output &quot;Hello from DCL!&quot; $ if p1
.eqs. &quot;&quot; $ then perl -x
&rsquo;f$environment(&quot;PROCEDURE&quot;) $ else perl -x -
&rsquo;p1 &rsquo;p2 &rsquo;p3 &rsquo;p4 &rsquo;p5 &rsquo;p6
&rsquo;p7 &rsquo;p8 $ deck/dollars=&quot;__END__&quot;
#!/usr/bin/perl</p>

<p>print &quot;Hello from Perl!0;</p>

<p>__END__ $ endif</p>

<p>Do take care with &quot;$ ASSIGN/nolog/user SYS$COMMAND:
SYS$INPUT&quot; if your perl-in-DCL script expects to do
things like &quot;$read = &lt;STDIN&gt;;&quot;.</p>

<p>The VMS operating system has two filesystems, known as
ODS-2 and ODS-5.</p>

<p>For ODS-2, filenames are in the format
&quot;name.extension;version&quot;. The maximum length for
filenames is 39 characters, and the maximum length for
extensions is also 39 characters. Version is a number from 1
to 32767. Valid characters are
&quot;/[A-Z0-9$_-]/&quot;.</p>

<p>The ODS-2 filesystem is case-insensitive and does not
preserve case. Perl simulates this by converting all
filenames to lowercase internally.</p>

<p>For ODS-5, filenames may have almost any character in
them and can include Unicode characters. Characters that
could be misinterpreted by the DCL shell or file parsing
utilities need to be prefixed with the &quot;^&quot;
character, or replaced with hexadecimal characters prefixed
with the &quot;^&quot; character. Such prefixing is only
needed with the pathnames are in VMS format in applications.
Programs that can accept the UNIX format of pathnames do not
need the escape characters. The maximum length for filenames
is 255 characters. The ODS-5 file system can handle both a
case preserved and a case sensitive mode.</p>

<p>ODS-5 is only available on the OpenVMS for 64 bit
platforms.</p>

<p>Support for the extended file specifications is being
done as optional settings to preserve backward compatibility
with Perl scripts that assume the previous VMS
limitations.</p>

<p>In general routines on VMS that get a UNIX format file
specification should return it in a UNIX format, and when
they get a VMS format specification they should return a VMS
format unless they are documented to do a conversion.</p>

<p>For routines that generate return a file specification,
VMS allows setting if the C library which Perl is built on
if it will be returned in VMS format or in UNIX format.</p>

<p>With the ODS-2 file system, there is not much difference
in syntax of filenames without paths for VMS or UNIX. With
the extended character set available with ODS-5 there can be
a significant difference.</p>

<p>Because of this, existing Perl scripts written for VMS
were sometimes treating VMS and UNIX filenames
interchangeably. Without the extended character set enabled,
this behavior will mostly be maintained for backwards
compatibility.</p>

<p>When extended characters are enabled with ODS-5, the
handling of UNIX formatted file specifications is to that of
a UNIX system.</p>

<p>VMS file specifications without extensions have a
trailing dot. An equivalent UNIX file specification should
not show the trailing dot.</p>

<p>The result of all of this, is that for VMS, for portable
scripts, you can not depend on Perl to present the filenames
in lowercase, to be case sensitive, and that the filenames
could be returned in either UNIX or VMS format.</p>

<p>And if a routine returns a file specification, unless it
is intended to convert it, it should return it in the same
format as it found it.</p>

<p>&quot;readdir&quot; by default has traditionally
returned lowercased filenames. When the ODS-5 support is
enabled, it will return the exact case of the filename on
the disk.</p>

<p>Files without extensions have a trailing period on them,
so doing a &quot;readdir&quot; in the default mode with a
file named A.;5 will return a. when VMS is (though that file
could be opened with &quot;open(FH,
&rsquo;A&rsquo;)&quot;).</p>

<p>With support for extended file specifications and if
&quot;opendir&quot; was given a UNIX format directory, a
file named A.;5 will return a and optionally in the exact
case on the disk. When &quot;opendir&quot; is given a VMS
format directory, then &quot;readdir&quot; should return a.,
and again with the optionally the exact case.</p>

<p>RMS had an eight level limit on directory depths from
any rooted logical (allowing 16 levels overall) prior to VMS
7.2, and even with versions of VMS on VAX up through 7.3.
Hence &quot;PERL_ROOT:[LIB.2.3.4.5.6.7.8]&quot; is a valid
directory specification but
&quot;PERL_ROOT:[LIB.2.3.4.5.6.7.8.9]&quot; is not.
Makefile.PL authors might have to take this into account,
but at least they can refer to the former as
&quot;/PERL_ROOT/lib/2/3/4/5/6/7/8/&quot;.</p>

<p>Pumpkings and module integrators can easily see whether
files with too many directory levels have snuck into the
core by running the following in the top-level source
directory:</p>

<p>$ perl -ne &quot;$_=~s/*//; print if scalar(split //)
&gt; 8;&quot; &lt; MANIFEST</p>

<p>The VMS::Filespec module, which gets installed as part
of the build process on VMS, is a pure Perl module that can
easily be installed on non-VMS platforms and can be helpful
for conversions to and from RMS native formats. It is also
now the only way that you should check to see if VMS is in a
case sensitive mode.</p>

<p>What &quot;0 represents depends on the type of file
opened. It usually represents &quot; 12&quot; but it could
also be &quot; 15&quot;, &quot; 12&quot;, &quot; 15
12&quot;, &quot; 00&quot;, &quot; 40&quot;, or nothing
depending on the file organization and record format. The
VMS::Stdio module provides access to the special fopen()
requirements of files with unusual attributes on VMS.</p>

<p>TCP/IP stacks are optional on VMS, so socket routines
might not be implemented. UDP sockets may not be
supported.</p>

<p>The TCP/IP library support for all current versions of
VMS is dynamically loaded if present, so even if the
routines are configured, they may return a status indicating
that they are not implemented.</p>

<p>The value of $^O on OpenVMS is &quot;VMS&quot;. To
determine the architecture that you are running on without
resorting to loading all of %Config you can examine the
content of the @INC array like so:</p>

<p>if (grep(/VMS_AXP/, @INC)) { print &quot;I&rsquo;m on
Alpha!0;</p>

<p>} elsif (grep(/VMS_VAX/, @INC)) { print &quot;I&rsquo;m
on VAX!0;</p>

<p>} elsif (grep(/VMS_IA64/, @INC)) { print &quot;I&rsquo;m
on IA64!0;</p>

<p>} else { print &quot;I&rsquo;m not so sure about where
$^O is...0; }</p>

<p>In general, the significant differences should only be
if Perl is running on VMS_VAX or one of the 64 bit OpenVMS
platforms.</p>

<p>On VMS, perl determines the UTC offset from the
&quot;SYS$TIMEZONE_DIFFERENTIAL&quot; logical name. Although
the VMS epoch began at 17-NOV-1858 00:00:00.00, calls to
&quot;localtime&quot; are adjusted to count offsets from
01-JAN-1970 00:00:00.00, just like Unix.</p>

<p>Also see:</p>

<p>&middot; README.vms (installed as README_vms),
perlvms</p>

<p>&middot; vmsperl list, vmsperl-subscribe@perl.org</p>

<p>&middot; vmsperl on the web,
http://www.sidhe.org/vmsperl/index.html</p>

<p>VOS Perl on VOS is discussed in README.vos in the perl
distribution (installed as perlvos). Perl on VOS can accept
either VOS- or Unix- style file specifications as in either
of the following:</p>

<p>$ perl -ne &quot;print if /perl_setup/i&quot;
&gt;system&gt;notices $ perl -ne &quot;print if
/perl_setup/i&quot; /system/notices</p>

<p>or even a mixture of both as in:</p>

<p>$ perl -ne &quot;print if /perl_setup/i&quot;
&gt;system/notices</p>

<p>Even though VOS allows the slash character to appear in
object names, because the VOS port of Perl interprets it as
a pathname delimiting character, VOS files, directories, or
links whose names contain a slash character cannot be
processed. Such files must be renamed before they can be
processed by Perl. Note that VOS limits file names to 32 or
fewer characters, file names cannot start with a
&quot;-&quot; character, or contain any character matching
&quot;tr/ !%&amp;&rsquo;()*+;&lt;&gt;?//&quot;</p>

<p>The value of $^O on VOS is &quot;VOS&quot;. To determine
the architecture that you are running on without resorting
to loading all of %Config you can examine the content of the
@INC array like so:</p>

<p>if ($^O =~ /VOS/) { print &quot;I&rsquo;m on a Stratus
box!0; } else { print &quot;I&rsquo;m not on a Stratus
box!0; die; }</p>

<p>Also see:</p>

<p>&middot; README.vos (installed as perlvos)</p>

<p>&middot; The VOS mailing list.</p>

<p>There is no specific mailing list for Perl on VOS. You
can post comments to the comp.sys.stratus newsgroup, or
subscribe to the general Stratus mailing list. Send a letter
with &quot;subscribe Info- Stratus&quot; in the message body
to majordomo@list.stratagy.com.</p>

<p>&middot; VOS Perl on the web at
http://ftp.stratus.com/pub/vos/posix/posix.html</p>

<p>EBCDIC Platforms Recent versions of Perl have been
ported to platforms such as OS/400 on AS/400 minicomputers
as well as OS/390, VM/ESA, and BS2000 for S/390 Mainframes.
Such computers use EBCDIC character sets internally (usually
Character Code Set ID 0037 for OS/400 and either 1047 or
POSIX-BC for S/390 systems). On the mainframe perl currently
works under the &quot;Unix system services for OS/390&quot;
(formerly known as OpenEdition), VM/ESA OpenEdition, or the
BS200 POSIX-BC system (BS2000 is supported in perl 5.6 and
greater). See perlos390 for details. Note that for OS/400
there is also a port of Perl 5.8.1/5.9.0 or later to the
PASE which is ASCII-based (as opposed to ILE which is
EBCDIC- based), see perlos400.</p>

<p>As of R2.5 of USS for OS/390 and Version 2.3 of VM/ESA
these Unix sub- systems do not support the &quot;#!&quot;
shebang trick for script invocation. Hence, on OS/390 and
VM/ESA perl scripts can be executed with a header similar to
the following simple script:</p>

<p>: # use perl eval &rsquo;exec /usr/local/bin/perl -S $0
${1+&quot;$@&quot;}&rsquo; if 0; #!/usr/local/bin/perl #
just a comment really</p>

<p>print &quot;Hello from perl!0;</p>

<p>OS/390 will support the &quot;#!&quot; shebang trick in
release 2.8 and beyond. Calls to &quot;system&quot; and
backticks can use POSIX shell syntax on all S/390
systems.</p>

<p>On the AS/400, if PERL5 is in your library list, you may
need to wrap your perl scripts in a CL procedure to invoke
them like so:</p>

<p>BEGIN CALL PGM(PERL5/PERL)
PARM(&rsquo;/QOpenSys/hello.pl&rsquo;) ENDPGM</p>

<p>This will invoke the perl script hello.pl in the root of
the QOpenSys file system. On the AS/400 calls to
&quot;system&quot; or backticks must use CL syntax.</p>

<p>On these platforms, bear in mind that the EBCDIC
character set may have an effect on what happens with some
perl functions (such as &quot;chr&quot;, &quot;pack&quot;,
&quot;print&quot;, &quot;printf&quot;, &quot;ord&quot;,
&quot;sort&quot;, &quot;sprintf&quot;, &quot;unpack&quot;),
as well as bit-fiddling with ASCII constants using operators
like &quot;^&quot;, &quot;&amp;&quot; and &quot;|&quot;, not
to mention dealing with socket interfaces to ASCII computers
(see &quot;Newlines&quot;).</p>

<p>Fortunately, most web servers for the mainframe will
correctly translate the &quot;0 in the following statement
to its ASCII equivalent&quot; is the same under both Unix
and OS/390 &amp; VM/ESA): (&quot;</p>

<p>0r0; print &quot;Content-type: text/html</p>

<p>The values of $^O on some of these platforms
includes:</p>

<p>uname $^O $Config{&rsquo;archname&rsquo;}
-------------------------------------------- OS/390 os390
os390 OS400 os400 os400 POSIX-BC posix-bc BS2000-posix-bc
VM/ESA vmesa vmesa</p>

<p>Some simple tricks for determining if you are running on
an EBCDIC platform could include any of the following
(perhaps all):</p>

<p>if (&quot;&quot; eq &quot; 5&quot;) { print &quot;EBCDIC
may be spoken here!0; }</p>

<p>if (ord(&rsquo;A&rsquo;) == 193) { print &quot;EBCDIC
may be spoken here!0; }</p>

<p>if (chr(169) eq &rsquo;z&rsquo;) { print &quot;EBCDIC
may be spoken here!0; }</p>

<p>One thing you may not want to rely on is the EBCDIC
encoding of punctuation characters since these may differ
from code page to code page (and once your module or script
is rumoured to work with EBCDIC, folks will want it to work
with all EBCDIC character sets).</p>

<p>Also see:</p>

<p>&middot; perlos390, README.os390, perlbs2000,
README.vmesa, perlebcdic.</p>

<p>&middot; The perl-mvs@perl.org list is for discussion of
porting issues as well as general usage issues for all
EBCDIC Perls. Send a message body of &quot;subscribe
perl-mvs&quot; to majordomo@perl.org.</p>

<p>&middot; AS/400 Perl information at
http://as400.rochester.ibm.com/ as well as on CPAN in the
ports/ directory.</p>

<p>Acorn RISC OS Because Acorns use ASCII with newlines
(&quot;0) in text files as &quot; 12&quot; like Unix, and
because Unix filename emulation is turned on by default,
most simple scripts will probably work &quot;out of the
box&quot;. The native filesystem is modular, and individual
filesystems are free to be case- sensitive or insensitive,
and are usually case-preserving. Some native filesystems
have name length limits, which file and directory names are
silently truncated to fit. Scripts should be aware that the
standard filesystem currently has a name length limit of 10
characters, with up to 77 items in a directory, but other
filesystems may not impose such limitations.</p>

<p>Native filenames are of the form</p>


<p>Filesystem#Special_Field::DiskName.$.Directory.Directory.File</p>

<p>where</p>

<p>Special_Field is not usually present, but may contain .
and $ . Filesystem =~ m|[A-Za-z0-9_]| DsicName =~
m|[A-Za-z0-9_/]| $ represents the root directory . is the
path separator @ is the current directory (per filesystem
but machine global) ^ is the parent directory Directory and
File =~ m|[^ - &quot;.:@\^177]+|</p>

<p>The default filename translation is roughly
&quot;tr|/.|./|;&quot;</p>

<p>Note that &quot;&quot;ADFS::HardDisk.$.File&quot; ne
&rsquo;ADFS::HardDisk.$.File&rsquo;&quot; and that the
second stage of &quot;$&quot; interpolation in regular
expressions will fall foul of the $. if scripts are not
careful.</p>

<p>Logical paths specified by system variables containing
comma-separated search lists are also allowed; hence
&quot;System:Modules&quot; is a valid filename, and the
filesystem will prefix &quot;Modules&quot; with each section
of &quot;System$Path&quot; until a name is made that points
to an object on disk. Writing to a new file
&quot;System:Modules&quot; would be allowed only if
&quot;System$Path&quot; contains a single item list. The
filesystem will also expand system variables in filenames if
enclosed in angle brackets, so
&quot;&lt;System$Dir&gt;.Modules&quot; would look for the
file &quot;$ENV{&rsquo;System$Dir&rsquo;} .
&rsquo;Modules&rsquo;&quot;. The obvious implication of this
is that fully qualified filenames can start with
&quot;&lt;&gt;&quot; and should be protected when
&quot;open&quot; is used for input.</p>

<p>Because &quot;.&quot; was in use as a directory
separator and filenames could not be assumed to be unique
after 10 characters, Acorn implemented the C compiler to
strip the trailing &quot;.c&quot; &quot;.h&quot;
&quot;.s&quot; and &quot;.o&quot; suffix from filenames
specified in source code and store the respective files in
subdirectories named after the suffix. Hence files are
translated:</p>

<p>foo.h h.foo C:foo.h C:h.foo (logical path variable)
sys/os.h sys.h.os (C compiler groks Unix-speak) 10charname.c
c.10charname 10charname.o o.10charname 11charname_.c
c.11charname (assuming filesystem truncates at 10)</p>

<p>The Unix emulation librarys translation of filenames to
native assumes that this sort of translation is required,
and it allows a user-defined list of known suffixes that it
will transpose in this fashion. This may seem transparent,
but consider that with these rules &quot;foo/bar/baz.h&quot;
and &quot;foo/bar/h/baz&quot; both map to
&quot;foo.bar.h.baz&quot;, and that &quot;readdir&quot; and
&quot;glob&quot; cannot and do not attempt to emulate the
reverse mapping. Other &quot;.&quot;s in filenames are
translated to &quot;/&quot;.</p>

<p>As implied above, the environment accessed through %ENV
is global, and the convention is that program specific
environment variables are of the form
&quot;Program$Name&quot;. Each filesystem maintains a
current directory, and the current filesystems current
directory is the global current directory. Consequently,
sociable programs dont change the current directory but rely
on full pathnames, and programs (and Makefiles) cannot
assume that they can spawn a child process which can change
the current directory without affecting its parent (and
everyone else for that matter).</p>

<p>Because native operating system filehandles are global
and are currently allocated down from 255, with 0 being a
reserved value, the Unix emulation library emulates Unix
filehandles. Consequently, you cant rely on passing
&quot;STDIN&quot;, &quot;STDOUT&quot;, or &quot;STDERR&quot;
to your children.</p>

<p>The desire of users to express filenames of the form
&quot;&lt;Foo$Dir&gt;.Bar&quot; on the command line unquoted
causes problems, too: &quot;&lsquo;&lsquo;&quot; command
output capture has to perform a guessing game. It assumes
that a string &quot;&lt;[^&lt;&gt;]+&gt;&quot; is a
reference to an environment variable, whereas anything else
involving &quot;&lt;&quot; or &quot;&gt;&quot; is
redirection, and generally manages to be 99% right. Of
course, the problem remains that scripts cannot rely on any
Unix tools being available, or that any tools found have
Unix-like command line arguments.</p>

<p>Extensions and XS are, in theory, buildable by anyone
using free tools. In practice, many dont, as users of the
Acorn platform are used to binary distributions. MakeMaker
does run, but no available make currently copes with
MakeMaker s makefiles; even if and when this should be
fixed, the lack of a Unix-like shell will cause problems
with makefile rules, especially lines of the form &quot;cd
sdbm &amp;&amp; make all&quot;, and anything using
quoting.</p>

<p>&quot;RISC OS&quot; is the proper name for the operating
system, but the value in $^O is &quot;riscos&quot; (because
we dont like shouting).</p>

<p>Other perls Perl has been ported to many platforms that
do not fit into any of the categories listed above. Some,
such as AmigaOS, Atari MiNT, BeOS, HP MPE/iX, QNX, Plan 9,
and VOS, have been well-integrated into the standard Perl
source code kit. You may need to see the ports/ directory on
CPAN for information, and possibly binaries, for the likes
of: aos, Atari ST, lynxos, riscos, Novell Netware, Tandem
Guardian, etc. (Yes, we know that some of these OSes may
fall under the Unix category, but we are not a standards
body.)</p>

<p>Some approximate operating system names and their $^O
values in the &quot;OTHER&quot; category include:</p>

<p>OS $^O $Config{&rsquo;archname&rsquo;}
------------------------------------------ Amiga DOS amigaos
m68k-amigos BeOS beos MPE/iX mpeix PA-RISC1.1</p>

<p>See also:</p>

<p>&middot; Amiga, README.amiga (installed as
perlamiga).</p>

<p>&middot; Atari, README.mint and Guido Flohrs web page
http://stud.uni-sb.de/~gufl0000/</p>

<p>&middot; Be OS, README.beos</p>

<p>&middot; HP 300 MPE/iX, README.mpeix and Mark Bixbys web
page http://www.bixby.org/mark/perlix.html</p>

<p>&middot; A free perl5-based PERL.NLM for Novell Netware
is available in precompiled binary and source code form from
http://www.novell.com/ as well as from CPAN.</p>

<p>&middot; Plan 9, README.plan9</p>

<p>FUNCTION IMPLEMENTATIONS Listed below are functions that
are either completely unimplemented or else have been
implemented differently on various platforms. Following each
description will be, in parentheses, a list of platforms
that the description applies to.</p>

<p>The list may well be incomplete, or even wrong in some
places. When in doubt, consult the platform-specific README
files in the Perl source distribution, and any other
documentation resources accompanying a given port.</p>

<p>Be aware, moreover, that even among Unix-ish systems
there are variations.</p>

<p>For many functions, you can also query %Config, exported
by default from the Config module. For example, to check
whether the platform has the &quot;lstat&quot; call, check
$Config{d_lstat}. See Config for a full description of
available variables.</p>

<p>Alphabetical Listing of Perl Functions -X
&quot;-r&quot;, &quot;-w&quot;, and &quot;-x&quot; have a
limited meaning only; directories and applications are
executable, and there are no uid/gid considerations.
&quot;-o&quot; is not supported. (Mac OS)</p>

<p>&quot;-w&quot; only inspects the read-only file
attribute (FILE_ATTRIBUTE_READONLY), which determines
whether the directory can be deleted, not whether it can be
written to. Directories always have read and write access
unless denied by discretionary access control lists (DACLs).
(Win32)</p>

<p>&quot;-r&quot;, &quot;-w&quot;, &quot;-x&quot;, and
&quot;-o&quot; tell whether the file is accessible, which
may not reflect UIC-based file protections. (VMS)</p>

<p>&quot;-s&quot; returns the size of the data fork, not
the total size of data fork plus resource fork. (Mac
OS).</p>

<p>&quot;-s&quot; by name on an open file will return the
space reserved on disk, rather than the current extent.
&quot;-s&quot; on an open filehandle returns the current
size. (RISC OS)</p>

<p>&quot;-R&quot;, &quot;-W&quot;, &quot;-X&quot;,
&quot;-O&quot; are indistinguishable from &quot;-r&quot;,
&quot;-w&quot;, &quot;-x&quot;, &quot;-o&quot;. (Mac OS,
Win32, VMS, RISC OS)</p>

<p>&quot;-b&quot;, &quot;-c&quot;, &quot;-k&quot;,
&quot;-g&quot;, &quot;-p&quot;, &quot;-u&quot;,
&quot;-A&quot; are not implemented. (Mac OS)</p>

<p>&quot;-g&quot;, &quot;-k&quot;, &quot;-l&quot;,
&quot;-p&quot;, &quot;-u&quot;, &quot;-A&quot; are not
particularly meaningful. (Win32, VMS, RISC OS)</p>

<p>&quot;-d&quot; is true if passed a device spec without
an explicit directory. (VMS)</p>

<p>&quot;-T&quot; and &quot;-B&quot; are implemented, but
might misclassify Mac text files with foreign characters;
this is the case will all platforms, but may affect Mac OS
often. (Mac OS)</p>

<p>&quot;-x&quot; (or &quot;-X&quot;) determine if a file
ends in one of the executable suffixes. &quot;-S&quot; is
meaningless. (Win32)</p>

<p>&quot;-x&quot; (or &quot;-X&quot;) determine if a file
has an executable file type. (RISC OS)</p>

<p>atan2 Due to issues with various CPUs, math libraries,
compilers, and standards, results for &quot;atan2()&quot;
may vary depending on any combination of the above. Perl
attempts to conform to the Open Group/IEEE standards for the
results returned from &quot;atan2()&quot;, but cannot force
the issue if the system Perl is run on does not allow it.
(Tru64, HP-UX 10.20)</p>

<p>The current version of the standards for
&quot;atan2()&quot; is available at
&lt;http://www.opengroup.org/onlinepubs/009695399/functions/atan2.html&gt;.</p>

<p>binmode Meaningless. (Mac OS, RISC OS)</p>

<p>Reopens file and restores pointer; if function fails,
underlying filehandle may be closed, or pointer may be in a
different position. (VMS)</p>

<p>The value returned by &quot;tell&quot; may be affected
after the call, and the filehandle may be flushed.
(Win32)</p>

<p>chmod Only limited meaning. Disabling/enabling write
permission is mapped to locking/unlocking the file. (Mac
OS)</p>

<p>Only good for changing &quot;owner&quot; read-write
access, &quot;group&quot;, and &quot;other&quot; bits are
meaningless. (Win32)</p>

<p>Only good for changing &quot;owner&quot; and
&quot;other&quot; read-write access. (RISC OS)</p>

<p>Access permissions are mapped onto VOS access-control
list changes. (VOS)</p>

<p>The actual permissions set depend on the value of the
&quot;CYGWIN&quot; in the SYSTEM environment settings.
(Cygwin)</p>

<p>chown Not implemented. (Mac OS, Win32, Plan 9, RISC
OS)</p>

<p>Does nothing, but wont fail. (Win32)</p>

<p>A little funky, because VOSs notion of ownership is a
little funky (VOS).</p>

<p>chroot Not implemented. (Mac OS, Win32, VMS, Plan 9,
RISC OS, VOS, VM/ESA)</p>

<p>crypt May not be available if library or source was not
provided when building perl. (Win32)</p>

<p>dbmclose Not implemented. (VMS, Plan 9, VOS)</p>

<p>dbmopen Not implemented. (VMS, Plan 9, VOS)</p>

<p>dump Not useful. (Mac OS, RISC OS)</p>

<p>Not supported. (Cygwin, Win32)</p>

<p>Invokes VMS debugger. (VMS)</p>

<p>exec Not implemented. (Mac OS)</p>

<p>Implemented via Spawn. (VM/ESA)</p>

<p>Does not automatically flush output handles on some
platforms. (SunOS, Solaris, HP-UX)</p>

<p>exit Emulates UNIX exit() (which considers &quot;exit
1&quot; to indicate an error) by mapping the 1 to SS$_ABORT
(44). This behavior may be overridden with the pragma
&quot;use vmsish &rsquo;exit&rsquo;&quot;. As with the CRTL
s exit() function, &quot;exit 0&quot; is also mapped to an
exit status of SS$_NORMAL (1); this mapping cannot be
overridden. Any other argument to exit() is used directly as
Perls exit status. On VMS, unless the future POSIX_EXIT mode
is enabled, the exit code should always be a valid VMS exit
code and not a generic number. When the POSIX_EXIT mode is
enabled, a generic number will be encoded in a method
compatible with the C library _POSIX_EXIT macro so that it
can be decoded by other programs, particularly ones written
in C, like the GNV package. (VMS)</p>

<p>fcntl Not implemented. (Win32) Some functions available
based on the version of VMS. (VMS)</p>

<p>flock Not implemented (Mac OS, VMS, RISC OS, VOS).</p>

<p>Available only on Windows NT (not on Windows 95).
(Win32)</p>

<p>fork Not implemented. (Mac OS, AmigaOS, RISC OS, VM/ESA,
VMS)</p>

<p>Emulated using multiple interpreters. See perlfork.
(Win32)</p>

<p>Does not automatically flush output handles on some
platforms. (SunOS, Solaris, HP-UX)</p>

<p>getlogin Not implemented. (Mac OS, RISC OS)</p>

<p>getpgrp Not implemented. (Mac OS, Win32, VMS, RISC
OS)</p>

<p>getppid Not implemented. (Mac OS, Win32, RISC OS)</p>

<p>getpriority Not implemented. (Mac OS, Win32, VMS, RISC
OS, VOS, VM/ESA)</p>

<p>getpwnam Not implemented. (Mac OS, Win32)</p>

<p>Not useful. (RISC OS)</p>

<p>getgrnam Not implemented. (Mac OS, Win32, VMS, RISC
OS)</p>

<p>getnetbyname Not implemented. (Mac OS, Win32, Plan
9)</p>

<p>getpwuid Not implemented. (Mac OS, Win32)</p>

<p>Not useful. (RISC OS)</p>

<p>getgrgid Not implemented. (Mac OS, Win32, VMS, RISC
OS)</p>

<p>getnetbyaddr Not implemented. (Mac OS, Win32, Plan
9)</p>

<p>getprotobynumber Not implemented. (Mac OS)</p>

<p>getservbyport Not implemented. (Mac OS)</p>

<p>getpwent Not implemented. (Mac OS, Win32, VM/ESA)</p>

<p>getgrent Not implemented. (Mac OS, Win32, VMS,
VM/ESA)</p>

<p>gethostbyname
&quot;gethostbyname(&rsquo;localhost&rsquo;)&quot; does not
work everywhere: you may have to use
&quot;gethostbyname(&rsquo;127.0.0.1&rsquo;)&quot;. (Mac OS,
Irix 5)</p>

<p>gethostent Not implemented. (Mac OS, Win32)</p>

<p>getnetent Not implemented. (Mac OS, Win32, Plan 9)</p>

<p>getprotoent Not implemented. (Mac OS, Win32, Plan 9)</p>

<p>getservent Not implemented. (Win32, Plan 9)</p>

<p>sethostent Not implemented. (Mac OS, Win32, Plan 9, RISC
OS)</p>

<p>setnetent Not implemented. (Mac OS, Win32, Plan 9, RISC
OS)</p>

<p>setprotoent Not implemented. (Mac OS, Win32, Plan 9,
RISC OS)</p>

<p>setservent Not implemented. (Plan 9, Win32, RISC OS)</p>

<p>endpwent Not implemented. (Mac OS, MPE/iX, VM/ESA,
Win32)</p>

<p>endgrent Not implemented. (Mac OS, MPE/iX, RISC OS,
VM/ESA, VMS, Win32)</p>

<p>endhostent Not implemented. (Mac OS, Win32)</p>

<p>endnetent Not implemented. (Mac OS, Win32, Plan 9)</p>

<p>endprotoent Not implemented. (Mac OS, Win32, Plan 9)</p>

<p>endservent Not implemented. (Plan 9, Win32)</p>

<p>getsockopt SOCKET,LEVEL,OPTNAME Not implemented. (Plan
9)</p>

<p>glob This operator is implemented via the File::Glob
extension on most platforms. See File::Glob for portability
information.</p>

<p>gmtime Same portability caveats as localtime.</p>

<p>ioctl FILEHANDLE,FUNCTION,SCALAR Not implemented.
(VMS)</p>

<p>Available only for socket handles, and it does what the
ioctlsocket() call in the Winsock API does. (Win32)</p>

<p>Available only for socket handles. (RISC OS)</p>

<p>kill &quot;kill(0, LIST)&quot; is implemented for the
sake of taint checking; use with other signals is
unimplemented. (Mac OS)</p>

<p>Not implemented, hence not useful for taint checking.
(RISC OS)</p>

<p>&quot;kill()&quot; doesn t have the semantics of
&quot;raise()&quot;, i.e. it doesnt send a signal to the
identified process like it does on Unix platforms. Instead
&quot;kill($sig, $pid)&quot; terminates the process
identified by $pid, and makes it exit immediately with exit
status $sig. As in Unix, if $sig is 0 and the specified
process exists, it returns true without actually terminating
it. (Win32)</p>

<p>&quot;kill(-9, $pid)&quot; will terminate the process
specified by $pid and recursively all child processes owned
by it. This is different from the Unix semantics, where the
signal will be delivered to all processes in the same
process group as the process specified by $pid. (Win32)</p>

<p>Is not supported for process identification number of 0
or negative numbers. (VMS)</p>

<p>link Not implemented. (Mac OS, MPE/iX, RISC OS)</p>

<p>Link count not updated because hard links are not quite
that hard (They are sort of half-way between hard and soft
links). (AmigaOS)</p>

<p>Hard links are implemented on Win32 under NTFS only.
They are natively supported on Windows 2000 and later. On
Windows NT they are implemented using the Windows POSIX
subsystem support and the Perl process will need
Administrator or Backup Operator privileges to create hard
links.</p>

<p>Available on 64 bit OpenVMS 8.2 and later. (VMS)</p>

<p>localtime Because Perl currently relies on the native
standard C localtime() function, it is only safe to use
times between 0 and (2**31)-1. Times outside this range may
result in unexpected behavior depending on your operating
systems implementation of localtime().</p>

<p>lstat Not implemented. (RISC OS)</p>

<p>Return values (especially for device and inode) may be
bogus. (Win32)</p>

<p>msgctl msgget msgsnd msgrcv Not implemented. (Mac OS,
Win32, VMS, Plan 9, RISC OS, VOS)</p>

<p>open The &quot;|&quot; variants are supported only if
ToolServer is installed. (Mac OS)</p>

<p>open to &quot;|-&quot; and &quot;-|&quot; are
unsupported. (Mac OS, Win32, RISC OS)</p>

<p>Opening a process does not automatically flush output
handles on some platforms. (SunOS, Solaris, HP-UX)</p>

<p>pipe Very limited functionality. (MiNT)</p>

<p>readlink Not implemented. (Win32, VMS, RISC OS)</p>

<p>rename Can t move directories between directories on
different logical volumes. (Win32)</p>

<p>select Only implemented on sockets. (Win32, VMS)</p>

<p>Only reliable on sockets. (RISC OS)</p>

<p>Note that the &quot;select FILEHANDLE&quot; form is
generally portable.</p>

<p>semctl semget semop Not implemented. (Mac OS, Win32,
VMS, RISC OS, VOS)</p>

<p>setgrent Not implemented. (Mac OS, MPE/iX, VMS, Win32,
RISC OS, VOS)</p>

<p>setpgrp Not implemented. (Mac OS, Win32, VMS, RISC OS,
VOS)</p>

<p>setpriority Not implemented. (Mac OS, Win32, VMS, RISC
OS, VOS)</p>

<p>setpwent Not implemented. (Mac OS, MPE/iX, Win32, RISC
OS, VOS)</p>

<p>setsockopt Not implemented. (Plan 9)</p>

<p>shmctl shmget shmread shmwrite Not implemented. (Mac OS,
Win32, VMS, RISC OS, VOS)</p>

<p>sockatmark A relatively recent addition to socket
functions, may not be implemented even in UNIX
platforms.</p>

<p>socketpair Not implemented. (RISC OS, VOS, VM/ESA)</p>

<p>Available on 64 bit OpenVMS 8.2 and later. (VMS)</p>

<p>stat Platforms that do not have rdev, blksize, or blocks
will return these as , so numeric comparison or manipulation
of these fields may cause not numeric warnings.</p>

<p>mtime and atime are the same thing, and ctime is
creation time instead of inode change time. (Mac OS).</p>

<p>ctime not supported on UFS (Mac OS X).</p>

<p>ctime is creation time instead of inode change time
(Win32).</p>

<p>device and inode are not meaningful. (Win32)</p>

<p>device and inode are not necessarily reliable. (VMS)</p>

<p>mtime, atime and ctime all return the last modification
time. Device and inode are not necessarily reliable. (RISC
OS)</p>

<p>dev, rdev, blksize, and blocks are not available. inode
is not meaningful and will differ between stat calls on the
same file. (os2)</p>

<p>some versions of cygwin when doing a
stat(&quot;foo&quot;) and if not finding it may then attempt
to stat(&quot;foo.exe&quot;) (Cygwin)</p>

<p>On Win32 stat() needs to open the file to determine the
link count and update attributes that may have been changed
through hard links. Setting ${^WIN32_SLOPPY_STAT} to a true
value speeds up stat() by not performing this operation.
(Win32)</p>

<p>symlink Not implemented. (Win32, RISC OS)</p>

<p>Implemented on 64 bit VMS 8.3. VMS requires the symbolic
link to be in Unix syntax if it is intended to resolve to a
valid path.</p>

<p>syscall Not implemented. (Mac OS, Win32, VMS, RISC OS,
VOS, VM/ESA)</p>

<p>sysopen The traditional &quot;0&quot;, &quot;1&quot;,
and &quot;2&quot; MODEs are implemented with different
numeric values on some systems. The flags exported by
&quot;Fcntl&quot; (O_RDONLY, O_WRONLY, O_RDWR) should work
everywhere though. (Mac OS, OS/390, VM/ESA)</p>

<p>system Only implemented if ToolServer is installed. (Mac
OS)</p>

<p>As an optimization, may not call the command shell
specified in $ENV{PERL5SHELL}. &quot;system(1, @args)&quot;
spawns an external process and immediately returns its
process designator, without waiting for it to terminate.
Return value may be used subsequently in &quot;wait&quot; or
&quot;waitpid&quot;. Failure to spawn() a subprocess is
indicated by setting $? to &quot;255 &lt;&lt; 8&quot;. $? is
set in a way compatible with Unix (i.e. the exitstatus of
the subprocess is obtained by &quot;$? &gt;&gt; 8&quot;, as
described in the documentation). (Win32)</p>

<p>There is no shell to process metacharacters, and the
native standard is to pass a command line terminated
by&quot; or &quot;0 &quot; &quot; &quot; to the spawned
program. Redirection such as &quot;&gt; foo&quot; is
performed (if at all) by the run time library of the spawned
program. &quot;system&quot; list will call the Unix
emulation librarys &quot;exec&quot; emulation, which
attempts to provide emulation of the stdin, stdout, stderr
in force in the parent, providing the child program uses a
compatible version of the emulation library. scalar will
call the native command line direct and no such emulation of
a child Unix program will exists. Mileage will vary. (RISC
OS)</p>

<p>Far from being POSIX compliant. Because there may be no
underlying /bin/sh tries to work around the problem by
forking and execing the first token in its argument string.
Handles basic redirection (&quot;&lt;&quot; or
&quot;&gt;&quot;) on its own behalf. (MiNT)</p>

<p>Does not automatically flush output handles on some
platforms. (SunOS, Solaris, HP-UX)</p>

<p>The return value is POSIX-like (shifted up by 8 bits),
which only allows room for a made-up value derived from the
severity bits of the native 32-bit condition code (unless
overridden by &quot;use vmsish &rsquo;status&rsquo;&quot;).
If the native condition code is one that has a POSIX value
encoded, the POSIX value will be decoded to extract the
expected exit value. For more details see &quot;$?&quot; in
perlvms. (VMS)</p>

<p>times Only the first entry returned is nonzero. (Mac
OS)</p>

<p>&quot;cumulative&quot; times will be bogus. On anything
other than Windows NT or Windows 2000, &quot;system&quot;
time will be bogus, and &quot;user&quot; time is actually
the time returned by the clock() function in the C runtime
library. (Win32)</p>

<p>Not useful. (RISC OS)</p>

<p>truncate Not implemented. (Older versions of VMS)</p>

<p>Truncation to same-or-shorter lengths only. (VOS)</p>

<p>If a FILEHANDLE is supplied, it must be writable and
opened in append mode (i.e., use &quot;open(FH,
&rsquo;&gt;&gt;filename&rsquo;)&quot; or
&quot;sysopen(FH,...,O_APPEND|O_RDWR)&quot;. If a filename
is supplied, it should not be held open elsewhere.
(Win32)</p>

<p>umask Returns undef where unavailable, as of version
5.005.</p>

<p>&quot;umask&quot; works but the correct permissions are
set only when the file is finally closed. (AmigaOS)</p>

<p>utime Only the modification time is updated. (BeOS, Mac
OS, VMS, RISC OS)</p>

<p>May not behave as expected. Behavior depends on the C
runtime library s implementation of utime(), and the
filesystem being used. The FAT filesystem typically does not
support an &quot;access time&quot; field, and it may limit
timestamps to a granularity of two seconds. (Win32)</p>

<p>wait waitpid Not implemented. (Mac OS)</p>

<p>Can only be applied to process handles returned for
processes spawned using &quot;system(1, ...)&quot; or pseudo
processes created with &quot;fork()&quot;. (Win32)</p>

<p>Not useful. (RISC OS)</p>

<p>Supported Platforms As of July 2002 (the Perl release
5.8.0), the following platforms are able to build Perl from
the standard source code distribution available at
http://www.cpan.org/src/index.html</p>

<p>AIX BeOS BSD/OS (BSDi) Cygwin DG/UX DOS DJGPP 1)
DYNIX/ptx EPOC R5 FreeBSD HI-UXMPP (Hitachi) (5.8.0 worked
but we didn&rsquo;t know it) HP-UX IRIX Linux Mac OS Classic
Mac OS X (Darwin) MPE/iX NetBSD NetWare NonStop-UX
ReliantUNIX (formerly SINIX) OpenBSD OpenVMS (formerly VMS)
Open UNIX (Unixware) (since Perl 5.8.1/5.9.0) OS/2 OS/400
(using the PASE) (since Perl 5.8.1/5.9.0) PowerUX POSIX-BC
(formerly BS2000) QNX Solaris SunOS 4 SUPER-UX (NEC) Tru64
UNIX (formerly DEC OSF/1, Digital UNIX) UNICOS UNICOS/mk UTS
VOS Win95/98/ME/2K/XP 2) WinCE z/OS (formerly OS/390)
VM/ESA</p>

<p>1) in DOS mode either the DOS or OS/2 ports can be used
2) compilers: Borland, MinGW (GCC), VC6</p>

<p>The following platforms worked with the previous
releases (5.6 and 5.7), but we did not manage either to fix
or to test these in time for the 5.8.0 release. There is a
very good chance that many of these will work fine with the
5.8.0.</p>

<p>BSD/OS DomainOS Hurd LynxOS MachTen PowerMAX SCO SV SVR4
Unixware Windows 3.1</p>

<p>Known to be broken for 5.8.0 (but 5.6.1 and 5.7.2 can be
used):</p>

<p>AmigaOS</p>

<p>The following platforms have been known to build Perl
from source in the past (5.005_03 and earlier), but we
havent been able to verify their status for the current
release, either because the hardware/software platforms are
rare or because we don t have an active champion on these
platforms--or both. They used to work, though, so go ahead
and try compiling them, and let perlbug@perl.org of any
trouble.</p>

<p>3b1 A/UX ConvexOS CX/UX DC/OSx DDE SMES DOS EMX Dynix
EP/IX ESIX FPS GENIX Greenhills ISC MachTen 68k MiNT MPC
NEWS-OS NextSTEP OpenSTEP Opus Plan 9 RISC/os SCO ODT/OSR
Stellar SVR2 TI1500 TitanOS Ultrix Unisys Dynix</p>

<p>The following platforms have their own source code
distributions and binaries available via
http://www.cpan.org/ports/</p>

<p>Perl release</p>

<p>OS/400 (ILE) 5.005_02 Tandem Guardian 5.004</p>

<p>The following platforms have only binaries available via
http://www.cpan.org/ports/index.html :</p>

<p>Perl release</p>

<p>Acorn RISCOS 5.005_02 AOS 5.002 LynxOS 5.004_02</p>

<p>Although we do suggest that you always build your own
Perl from the source code, both for maximal configurability
and for security, in case you are in a hurry you can check
http://www.cpan.org/ports/index.html for binary
distributions.</p>

<p>SEE ALSO perlaix, perlamiga, perlapollo, perlbeos,
perlbs2000, perlce, perlcygwin, perldgux, perldos, perlepoc,
perlebcdic, perlfreebsd, perlhurd, perlhpux, perlirix,
perlmachten, perlmacos, perlmacosx, perlmint, perlmpeix,
perlnetware, perlos2, perlos390, perlos400, perlplan9,
perlqnx, perlsolaris, perltru64, perlunicode, perlvmesa,
perlvms, perlvos, perlwin32, and Win32.</p>

<p>AUTHORS / CONTRIBUTORS Abigail &lt;abigail@foad.org&gt;,
Charles Bailey &lt;bailey@newman.upenn.edu&gt;, Graham Barr
&lt;gbarr@pobox.com&gt;, Tom Christiansen
&lt;tchrist@perl.com&gt;, Nicholas Clark
&lt;nick@ccl4.org&gt;, Thomas Dorner
&lt;Thomas.Dorner@start.de&gt;, Andy Dougherty
&lt;doughera@lafayette.edu&gt;, Dominic Dunlop
&lt;domo@computer.org&gt;, Neale Ferguson
&lt;neale@vma.tabnsw.com.au&gt;, David J. Fiander
&lt;davidf@mks.com&gt;, Paul Green
&lt;Paul.Green@stratus.com&gt;, M.J.T. Guy
&lt;mjtg@cam.ac.uk&gt;, Jarkko Hietaniemi
&lt;jhi@iki.fi&gt;, Luther Huffman
&lt;lutherh@stratcom.com&gt;, Nick Ing-Simmons
&lt;nick@ing-simmons.net&gt;, Andreas J. Koenig
&lt;a.koenig@mind.de&gt;, Markus Laker
&lt;mlaker@contax.co.uk&gt;, Andrew M. Langmead
&lt;aml@world.std.com&gt;, Larry Moore
&lt;ljmoore@freespace.net&gt;, Paul Moore
&lt;Paul.Moore@uk.origin-it.com&gt;, Chris Nandor
&lt;pudge@pobox.com&gt;, Matthias Neeracher
&lt;neeracher@mac.com&gt;, Philip Newton
&lt;pne@cpan.org&gt;, Gary Ng
&lt;71564.1743@CompuServe.COM&gt;, Tom Phoenix
&lt;rootbeer@teleport.com&gt;, Andre Pirard
&lt;A.Pirard@ulg.ac.be&gt;, Peter Prymmer
&lt;pvhp@forte.com&gt;, Hugo van der Sanden
&lt;hv@crypt0.demon.co.uk&gt;, Gurusamy Sarathy
&lt;gsar@activestate.com&gt;, Paul J. Schinder
&lt;schinder@pobox.com&gt;, Michael G Schwern
&lt;schwern@pobox.com&gt;, Dan Sugalski
&lt;dan@sidhe.org&gt;, Nathan Torkington
&lt;gnat@frii.com&gt;. John Malmberg
&lt;wb8tyw@qsl.net&gt;</p>

<p>perl v5.10.1 2009-05-14 PERLPORT(1)</p>
<hr>
</body>
</html>
