<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:18:01 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>STRUCT I2C_DRIVER(9) I2C and SMBus Subsystem STRUCT
I2C_DRIVER(9)</p>

<p>NAME struct_i2c_driver - represent an I2C device
driver</p>

<p>SYNOPSIS struct i2c_driver { unsigned int class; int (*
attach_adapter) (struct i2c_adapter *); int (*
detach_adapter) (struct i2c_adapter *); int (* probe)
(struct i2c_client *, const struct i2c_device_id *); int (*
remove) (struct i2c_client *); void (* shutdown) (struct
i2c_client *); int (* suspend) (struct i2c_client *,
pm_message_t mesg); int (* resume) (struct i2c_client *);
int (* command) (struct i2c_client *client, unsigned int
cmd, void *arg); struct device_driver driver; const struct
i2c_device_id * id_table; int (* detect) (struct i2c_client
*, int kind, struct i2c_board_info *); const struct
i2c_client_address_data * address_data; struct list_head
clients; };</p>

<p>MEMBERS class What kind of i2c device we instantiate
(for detect)</p>

<p>attach_adapter Callback for bus addition (for legacy
drivers)</p>

<p>detach_adapter Callback for bus removal (for legacy
drivers)</p>

<p>probe Callback for device binding</p>

<p>remove Callback for device unbinding</p>

<p>shutdown Callback for device shutdown</p>

<p>suspend Callback for device suspend</p>

<p>resume Callback for device resume</p>

<p>command Callback for bus-wide signaling (optional)</p>

<p>driver Device driver model driver</p>

<p>id_table List of I2C devices supported by this
driver</p>

<p>detect Callback for device detection</p>

<p>address_data The I2C addresses to probe, ignore or force
(for detect)</p>

<p>clients List of detected clients we created (for
i2c-core use only)</p>

<p>DESCRIPTION The driver.owner field should be set to the
module owner of this driver. The driver.name field should be
set to the name of this driver.</p>

<p>For automatic device detection, both detect and
address_data must be defined. class should also be set,
otherwise only devices forced with module parameters will be
created. The detect function must fill at least the name
field of the i2c_board_info structure it is handed upon
successful detection, and possibly also the flags field.</p>

<p>If detect is missing, the driver will still work fine
for enumerated devices. Detected devices simply won&acute;t
be supported. This is expected for the many I2C/SMBus
devices which can&acute;t be detected reliably, and the ones
which can always be enumerated in practice.</p>

<p>The i2c_client structure which is handed to the detect
callback is not a real i2c_client. It is initialized just
enough so that you can call i2c_smbus_read_byte_data and
friends on it. Don&acute;t do anything else with it. In
particular, calling dev_dbg and friends on it is not
allowed.</p>

<p>COPYRIGHT Kernel Hackers Manual 2.6. September 2010
STRUCT I2C_DRIVER(9)</p>
<hr>
</body>
</html>
