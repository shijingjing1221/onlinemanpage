<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:04:48 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>ipmi_ui(1) Crude interface to an IPMI system
ipmi_ui(1)</p>

<p>NAME ipmi_ui - Crude interface to an IPMI system</p>

<p>SYNOPSIS ipmiui [-dmsg] [-dmem] [-c]
connection-1[connection-2]</p>

<p>The connections are specified as either:</p>

<p>smi smi-num</p>

<p>or</p>

<p>lan IP-addr port [IP-addr-2 port-2] auth privilege
username password</p>

<p>DESCRIPTION The ipmi_ui program connects to an IPMI
system, and allows access to IPMI entities and sensors and
OpenIPMI controls. It s rather crude, and primarily for
testing OpenIPMI, but it has some use beyond that so it is
provided.</p>

<p>Normally, ipmi_ui starts up in a full-screen format. The
left window shows the output of commands, the right window
shows the logs from OpenIPMI. Both windows are scrollable
with page up and page down keys, press the &quot;F1&quot;
key to choose the the left window to scroll, the
&quot;F2&quot; key to choose the right window to scroll.</p>

<p>Note that you must set your environment TERM variable
properly for your terminal, or ipmi_ui will display garbage
on the screen.</p>

<p>Note that you can put two connection specifications on
the command line, and ipmi_ui will make two connection. You
can only do this if the connections are to the same IPMI
domain through different manage- ment controllers. Also,
each LAN connection may have two IP addresses. These are two
different addresses to the same management controller. So
you may have a total of 4 IP addresses to an IPMI domain,
two man- agement controllers and two IP adresses to each
management controller.</p>

<p>OPTIONS -dmsg Turn on message debugging, this will dump
all messages to the log window.</p>

<p>-dmem Turn on memory debugging, this will cause memory
allocation and deallocations to be checked. When the program
terminates, it will dump all memory that was not properly
freed (leaked).</p>

<p>-snmp Enable the SNMP trap handler. ipmi_ui must be
compiled with SNMP code enabled for this option to be
available.</p>

<p>-c Run the program in command-line mode. This is useful
for scripting. All output goes to standard output, there is
no win- dowing.</p>

<p>smi-num The SMI number to connect to, for systems with
more than on sys- tem interface. Generally, this is 0.</p>

<p>IP-addr The IP address of the LAN interface.</p>

<p>port The UDP port of the LAN interface, general 623.</p>

<p>IP-addr-2 Some systems support multiple IP connections,
this specified the second address and is optional. If
specified, OpenIPMI will use both IP addresses and fail over
to the working one if one of them fails.</p>

<p>port-2 The port for the second IP connection, generally
623.</p>

<p>auth The authorization to use for the connection, either
&quot;none&quot;, &quot;straight&quot;, &quot;md5&quot;, or
&quot;md2&quot;.</p>

<p>privilege The privilege to use for the connection,
either &quot;callback&quot;, &quot;user&quot;,
&quot;operator&quot;, or &quot;admin&quot;. Note that some
IPMI operations will fail without the correct privilege.</p>

<p>username The user name to use for the connection. If
using this anony- mous user, this should be the empty string
&quot;&quot;.</p>

<p>password The password to use for the connection.</p>

<p>ENTITIES Entities are listed by their entity id (the
type of entity they are) and their entity instance. Entities
may be active or inactive in the system, the standard IPMI
algorithm for determining this is used. Com- mands on
entities are:</p>

<p>entities List all the entities in the system. The output
is the entity specifier, followed by an optional entity name
in parenthesis, followed by &quot;present&quot; or &quot;not
present&quot;.</p>

<p>check_presence For the check of presence for all
entities.</p>

<p>fru entity List the FRU information associated with the
entity.</p>

<p>dump_fru is_logical device_address device_id lun
private_bus channel Dump raw information from the specified
FRU device.</p>

<p>SENSORS Sensors define input devices that OpenIPMI can
monitor.</p>

<p>sensors entity List all the sensors that monitor the
given entity. The output is the sensor specifier (the entity
specifier followed by the sensor name, with spaces converted
to ~). followed by the sensor name.</p>

<p>sensor sensor Pull up the given sensor and display all
its information. In full-screen mode, the sensor will be
re-queried every second.</p>

<p>rearm global [assertion-mask deassertion-mask] Rearm the
given sensor. If global is 1, then the whole sensor is
rearmed. If global is 0, then the assertion-mask and
deassertion-mask must be specified telling which thresholds
or states to rearm.</p>

<p>events_enable events scanning assertion-bitmask
deassertion-bitmask Enable or disable events for the given
sensor. events turns events on or off from the sensor (0 or
1). scanning turns scan- ning on or off for the sensor (0 or
1). assertion-bitmask spec- ifies the bitmask of thresholds
or states that should be enabled or disabled when a thrshold
or state is asserted. It is a bunch of 0 s and 1 s, where
the first one is for threshold/state 0, the second for
threshold/state 1, etc. deassertion-bitmask specifies the
bitmask of thresholds or states that should be enabled or
disabled when a thrshold or state is deasserted.</p>

<p>CONTROLS Controls are output devices that can control
things like LEDs, power, reset lines and such.</p>

<p>controls entity List all the controls that control the
given entity. The output is the control specifier (the
entity specifier followed by the control name, with spaces
converted to ~). followed by the con- trol name.</p>

<p>control control Pull up the given control and display
its current state.</p>

<p>set_control val1 [val2 ...] Change the value of a
control. Note that for controls with mul- tiple values,
every value must be specified.</p>

<p>EVENTS Events are asynchronous messages from sensors
that tell the user that a sensor has done something. Events
are generally stored in a system event log (SEL); OpenIPMI
will fetch the events from the SELs in the system.</p>

<p>Since multiple SELs may exist, an event is specified by
the MC it came from in the format &quot;(channel addr)&quot;
and a log number. The same log number may exist in multiple
MCs.</p>

<p>Events are displayed in the log window as they come in.
If they can be correlated with a sensor, they will be
display with as much information as possible.</p>

<p>delevent channel mc-addr log-num Delete the given event.
Note that many SELs do not support individual deletes, so
this may only delete the local copy of the event, not the
one in the SEL. In this case, to delete events in the SEL,
you must delete all the events in the SEL and wait about 10
seconds for OpenIPMI to do a full SEL clear.</p>

<p>clear_sel Delete all events in the SEL. This process may
take some time, so if you do this and quit immediately it
may not be complete.</p>

<p>list_sel List all events in the local copy of the SELs.
This is only the local copy, if the copies in the actual
have change, this wont be reflected.</p>

<p>get_sel_time channel mc-num Get the time in the SEL for
the given MC.</p>

<p>MANAGMENT CONTROLLERS (MCs) In OpenIPMI, you normally
don t deal with management controllers. They are considered
internal to the system. However, for debugging, infor-
mation about them is provided.</p>

<p>mcs List all the MCs in the system and whether they are
active. MCs are displayed in the format &quot;(channel
address)&quot;.</p>

<p>mc channel mc-addr Display a boatload of information
about the MC, mostly coming from the get device id
command.</p>

<p>mccmd channel mc-addr LUN NetFN Cmd [data ...] Send an
IPMI command to the given MC. The MC must exist and be
active to do this.</p>

<p>mc_reset channel mc-addr [warm | cold] Send a warm or
cold reset command to the given MC. The action the MC takes
is system-specific.</p>

<p>scan channel mc-addr Scan for an MC at the given
address. If the MC exists but OpenIPMI didnt know about it,
it will be added. If the MC no longer exists, then it will
be removed.</p>

<p>mc_events_enable channel mc-num enabled Enable or
disable event generation for the given MC.</p>

<p>mc_events_enabled channel mc-num Prints out if the
events are enabled for the given MC.</p>

<p>LAN Parameter Configuration OpenIPMI has functions that
make it easier to configure the LAN parame- ters of a LAN
connection. Note that the LAN parameters have a lock that
OpenIPMI attempts to use. If you read the LAN parameters,
they will be locked until you either write them or clear the
lock.</p>

<p>readlanparm channel mc-num channel Read lanparm
information from an MC and display it in the dis- play
window.</p>

<p>viewlanparm Show current lanparm information in the
display window.</p>

<p>writelanparm channel mc-num channel Write the current
LANPARM information to an MC. Note that this must be the MC
that the parameters were read from.</p>

<p>clearlanparmlock [channel mc-num channel] Clear a
LANPARM lock. If the MC is given, then the LANPARM lock is
directly cleared. If not given, then the LANPARM lock for
the current parms is cleared.</p>

<p>setlanparm config [selector] value Set the given config
item to the value. The optional selector is used for items
that take a selector, like &quot;auth&quot; or any of the
items in &quot;destination&quot;.</p>

<p>Platform Event Filter (PEF) OpenIPMI contains function
to help manage the PEF settings on a BMC. Note that the PEF
parameters have a lock that OpenIPMI attempts to use. If you
read the PEF parameters, they will be locked until you
either write them or clear the lock.</p>

<p>readpef channel mc-num Read the PEF information from an
MC.</p>

<p>clearpeflock [channel mc-num] Clear a PEF lock. If the
MC is given, then the PEF lock on that MC is directly
cleared. If no MC is given, then the current PEFs lock is
cleared.</p>

<p>viewpef Show current pef information in the display
window.</p>

<p>writepef channel mc-num Write the current PEF
information to an MC.</p>

<p>setpef config [selector] value Set the given config item
to the value. The optional selector is used for items that
take a selector, like anything in the event filters, alert
policies, or alert strings.</p>

<p>pet connection channel ip-addr mac_addr eft-selector
policy-num apt- selector lan-dest-selector Set up the
connection for the domain to send PET traps from the given
connection to the given IP/MAC address over the given
channel. This does all the LAN and PEF configuration
required to configure a system to send event traps.</p>

<p>CONNECTIONS OpenIPMI can maintain multiple connections
to a single domain. It will generally only use one of these
at a time (although the other will con- stantly be under
test). This is the &quot;active&quot; connection. You can
query and set which connection is active.</p>

<p>The connection number is the connection from the command
line. You can specify two connections on the command line
(the part beginning with &quot;lan&quot;, &quot;smi&quot;,
etc.). The first connection you specify is connection zero,
the second is connection 1.</p>

<p>is_con_active connection Print out if the given
connection is active or not.</p>

<p>activate_con connection Activate the given
connection.</p>

<p>OTHER COMMANDS msg channel IPMB-addr LUN NetFN Cmd [data
...] Send an IPMI command to the given IPMB address. This is
avail- able in case the given MC cannot be found or
enabled.</p>

<p>sdrs channel mc-addr do-sensors Dump all the sdrs from
the given MC. If do-sensors is true, then dump the device
SDR. If it is false, dump the main SDR repository on the
MC.</p>

<p>scan channel IPMB-addr Perform an IPMB bus scan for the
given IPMB, to try to detect an MC at the given address.
IPMB bus scanning can be slow, this can help speed things up
if you already know the address.</p>

<p>quit Leave the program.</p>

<p>reconnect Attempt to disconnect and reconnect to the
IPMI controller. This is primarily for testing.</p>

<p>display_win Set the display window (left window) for
scrolling, just in case the &quot;F1&quot; key doesnt
work.</p>

<p>log_win Set the log window (right window) for scrolling,
just in case the &quot;F2&quot; key doesnt work.</p>

<p>help Dump some terse help output about all the
commands.</p>

<p>ERROR OUTPUT All error output goes to the log
window.</p>

<p>SEE ALSO ipmilan(8)</p>

<p>KNOWN PROBLEMS Our name is legion.</p>

<p>AUTHOR Corey Minyard &lt;cminyard@mvista.org&gt;</p>

<p>OpenIPMI 05/13/03 ipmi_ui(1)</p>
<hr>
</body>
</html>
