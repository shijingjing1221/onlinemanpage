<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 21:55:49 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>clipboard(n) Tk Built-In Commands clipboard(n)</p>


<p>______________________________________________________________________________</p>

<p>NAME clipboard - Manipulate Tk clipboard</p>

<p>SYNOPSIS clipboard option ?arg arg ...?
_________________________________________________________________</p>

<p>DESCRIPTION This command provides a Tcl interface to the
Tk clipboard, which stores data for later retrieval using
the selection mechanism (via the -selec- tion CLIPBOARD
option). In order to copy data into the clipboard, clipboard
clear must be called, followed by a sequence of one or more
calls to clipboard append. To ensure that the clipboard is
updated atomically, all appends should be completed before
returning to the event loop.</p>

<p>The first argument to clipboard determines the format of
the rest of the arguments and the behavior of the command.
The following forms are currently supported:</p>

<p>clipboard clear ?-displayof window? Claims ownership of
the clipboard on windows display and removes any previous
contents. Window defaults to .. Returns an empty string.</p>

<p>clipboard append ?-displayof window? ?-format format?
?-type type? ?--? data Appends data to the clipboard on
windows display in the form given by type with the
representation given by format and claims ownership of the
clipboard on windows display.</p>

<p>Type specifies the form in which the selection is to be
returned (the desired target for conversion, in ICCCM
terminology), and should be an atom name such as STRING or
FILE_NAME; see the Inter-Client Communication Conventions
Manual for complete details. Type defaults to STRING.</p>

<p>The format argument specifies the representation that
should be used to transmit the selection to the requester
(the second col- umn of Table 2 of the ICCCM), and defaults
to STRING. If format is STRING, the selection is transmitted
as 8-bit ASCII charac- ters. If format is ATOM, then the
data is divided into fields separated by white space; each
field is converted to its atom value, and the 32-bit atom
value is transmitted instead of the atom name. For any other
format, data is divided into fields separated by white space
and each field is converted to a 32-bit integer; an array of
integers is transmitted to the selection requester. Note
that strings passed to clipboard append are concatenated
before conversion, so the caller must take care to ensure
appropriate spacing across string boundaries. All items
appended to the clipboard with the same type must have the
same format.</p>

<p>The format argument is needed only for compatibility
with clip- board requesters that do not use Tk. If the Tk
toolkit is being used to retrieve the CLIPBOARD selection
then the value is con- verted back to a string at the
requesting end, so format is irrelevant.</p>

<p>A -- argument may be specified to mark the end of
options: the next argument will always be used as data. This
feature may be convenient if, for example, data starts with
a -.</p>

<p>clipboard get ?-displayof window? ?-type type? Retrieve
data from the clipboard on window s display. Window defaults
to .. Type specifies the form in which the data is to be
returned and should be an atom name such as STRING or
FILE_NAME. Type defaults to STRING. This command is
equivalent to selection get -selection CLIPBOARD.</p>

<p>EXAMPLES Get the current contents of the clipboard. if
{[catch {clipboard get} contents]} { # There were no
clipboard contents at all }</p>

<p>Set the clipboard to contain a fixed string. clipboard
clear clipboard append &quot;some fixed string&quot;</p>

<p>You can put custom data into the clipboard by using a
custom -type option. This is not necessarily portable, but
can be very useful. The method of passing Tcl scripts this
way is effective, but should be mixed with safe interpreters
in production code. # This is a very simple canvas
serializer; # it produces a script that recreates the
item(s) when executed proc getItemConfig {canvas tag} { set
script {} foreach item [$canvas find withtag $tag] { append
script {$canvas create } [$canvas type $item] append script
{ } [$canvas coords $item] { } foreach config [$canvas
itemconf $item] { lassign $config name - - - value append
script [list $name $value] { } } append script } return
[string trim $script] }</p>

<p># Set up a binding on a canvas to cut and paste an item
set c [canvas .c] pack $c $c create text 150 30 -text
&quot;cut and paste me&quot; bind $c &lt;&lt;Cut&gt;&gt; {
clipboard clear clipboard append -type TkCanvasItem
[getItemConfig %W current] # Delete because this is cut, not
copy. %W delete current } bind $c &lt;&lt;Paste&gt;&gt; {
catch { set canvas %W eval [clipboard get -type
TkCanvasItem] } }</p>

<p>SEE ALSO interp(n), selection(n)</p>

<p>KEYWORDS clear, format, clipboard, append, selection,
type</p>

<p>Tk 8.4 clipboard(n)</p>
<hr>
</body>
</html>
