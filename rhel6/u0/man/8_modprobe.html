<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:07:29 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>MODPROBE(8) MODPROBE(8)</p>

<p>NAME modprobe - program to add and remove modules from
the Linux Kernel</p>

<p>SYNOPSIS modprobe [ -v ] [ -V ] [ -C config-file ] [ -n
] [ -i ] [ -q ] [ -b ] [ -o modulename ] [ modulename ] [
module parameters... ]</p>

<p>modprobe [ -r ] [ -v ] [ -n ] [ -i ] [ modulename...
]</p>

<p>modprobe [ -l ] [ -t dirname ] [ wildcard ]</p>

<p>modprobe [ -c ]</p>

<p>modprobe [ --dump-modversions ]</p>

<p>DESCRIPTION modprobe intelligently adds or removes a
module from the Linux kernel: note that for convenience,
there is no difference between _ and - in module names.
modprobe looks in the module directory /lib/mod- ules/_uname
-r_ for all the modules and other files, except for the
optional /etc/modprobe.conf configuration file and
/etc/modprobe.d directory (see modprobe.conf(5)). modprobe
will also use module options specified on the kernel command
line in the form of &lt;module&gt;.&lt;option&gt;.</p>

<p>Note that this version of modprobe does not do anything
to the module itself: the work of resolving symbols and
understanding parameters is done inside the kernel. So
module failure is sometimes accompanied by a kernel message:
see dmesg(8).</p>

<p>modprobe expects an up-to-date modules.dep file, as
generated by depmod (see depmod(8)). This file lists what
other modules each module needs (if any), and modprobe uses
this to add or remove these dependencies automatically. See
modules.dep(5)).</p>

<p>If any arguments are given after the modulename, they
are passed to the kernel (in addition to any options listed
in the configuration file).</p>

<p>OPTIONS -v --verbose Print messages about what the
program is doing. Usually modprobe only prints messages if
something goes wrong.</p>

<p>This option is passed through install or remove commands
to other modprobe commands in the MODPROBE_OPTIONS
environment variable.</p>

<p>-C --config This option overrides the default
configuration directory/file (/etc/modprobe.d or
/etc/modprobe.conf).</p>

<p>This option is passed through install or remove commands
to other modprobe commands in the MODPROBE_OPTIONS
environment variable.</p>

<p>-c --showconfig Dump out the effective configuration
from the config directory and exit.</p>

<p>-n --dry-run This option does everything but actually
insert or delete the modules (or run the install or remove
commands). Combined with -v, it is useful for debugging
problems.</p>

<p>-i --ignore-install --ignore-remove This option causes
modprobe to ignore install and remove com- mands in the
configuration file (if any) for the module speci- fied on
the command line (any dependent modules are still sub- ject
to commands set for them in the configuration file). See
modprobe.conf(5).</p>

<p>-q --quiet Normally modprobe will report an error if you
try to remove or insert a module it cant find (and isnt an
alias or install/remove command). With this flag, modprobe
will simply ignore any bogus names (the kernel uses this to
opportunisti- cally probe for modules which might
exist).</p>

<p>-r --remove This option causes modprobe to remove rather
than insert a mod- ule. If the modules it depends on are
also unused, modprobe will try to remove them too. Unlike
insertion, more than one module can be specified on the
command line (it does not make sense to specify module
parameters when removing modules).</p>

<p>There is usually no reason to remove modules, but some
buggy modules require it. Your kernel may not support
removal of mod- ules.</p>

<p>-w --wait This option is applicable only with the -r or
--remove option. It causes modprobe to block in the kernel
(within the kernel module handling code itself) waiting for
the specified modules reference count to reach zero. Default
operation is for modprobe to operate like rmmod, which exits
with EWOULDBLOCK if the mod- ules reference count is
non-zero.</p>

<p>-V --version Show version of program and exit.</p>

<p>-f --force Try to strip any versioning information from
the module which might otherwise stop it from loading: this
is the same as using both --force-vermagic and
--force-modversion. Naturally, these checks are there for
your protection, so using this option is dangerous.</p>

<p>This applies to any modules inserted: both the module
(or alias) on the command line and any modules it on which
it depends.</p>

<p>--force-vermagic Every module contains a small string
containing important infor- mation, such as the kernel and
compiler versions. If a module fails to load and the kernel
complains that the &quot;version magic&quot; doesnt match,
you can use this option to remove it. Naturally, this check
is there for your protection, so this using option is
dangerous.</p>

<p>This applies to any modules inserted: both the module
(or alias) on the command line and any modules on which it
depends.</p>

<p>--force-modversion When modules are compiled with
CONFIG_MODVERSIONS set, a section detailing the versions of
every interfaced used by (or supplied by) the module is
created. If a module fails to load and the kernel complains
that the module disagrees about a version of some interface,
you can use &quot;--force-modversion&quot; to remove the
version information altogether. Naturally, this check is
there for your protection, so using this option is
dangerous.</p>

<p>This applies any modules inserted: both the module (or
alias) on the command line and any modules on which it
depends.</p>

<p>-l --list List all modules matching the given wildcard
(or &quot;*&quot; if no wild- card is given). This option is
provided for backwards compati- bility: see find(1) and
basename(1) for a more flexible alterna- tive.</p>

<p>-a --all Insert all module names on the command
line.</p>

<p>-t --type Restrict -l to modules in directories matching
the dirname given. This option is provided for backwards
compatibility: see find(1) and basename(1) for a more
flexible alternative.</p>

<p>-s --syslog This option causes any error messages to go
through the syslog mechanism (as LOG_DAEMON with level
LOG_NOTICE) rather than to standard error. This is also
automatically enabled when stderr is unavailable.</p>

<p>This option is passed through install or remove commands
to other modprobe commands in the MODPROBE_OPTIONS
environment variable.</p>

<p>-S --set-version Set the kernel version, rather than
using uname(2) to decide on the kernel version (which
dictates where to find the modules).</p>

<p>-D --show-depends List the dependencies of a module (or
alias), including the mod- ule itself. This produces a
(possibly empty) set of module file- names, one per line,
each starting with &quot;insmod&quot;. Install com- mands
which apply are shown prefixed by &quot;install&quot;. It
does not run any of the install commands. Note that
modinfo(8) can be used to extract dependencies of a module
from the module itself, but knows nothing of aliases or
install commands.</p>

<p>-o --name This option tries to rename the module which
is being inserted into the kernel. Some testing modules can
usefully be inserted multiple times, but the kernel refuses
to have two modules of the same name. Normally, modules
should not require multiple insertions, as that would make
them useless if there were no module support.</p>

<p>--first-time Normally, modprobe will succeed (and do
nothing) if told to insert a module which is already present
or to remove a module which isn t present. This is ideal for
simple scripts; however, more complicated scripts often want
to know whether modprobe really did something: this option
makes modprobe fail for that case.</p>

<p>--dump-modversions Print out a list of module versioning
information required by a module. This option is commonly
used by distributions in order to package up a Linux kernel
module using module versioning deps.</p>

<p>-b --use-blacklist This option causes modprobe to apply
the blacklist commands in the configuration files (if any)
to module names as well. It is usually used by udev(7).</p>

<p>-d --dirname Directory where modules can be found,
/lib/modules/RELEASE by default.</p>

<p>ENVIRONMENT The MODPROBE_OPTIONS environment variable
can also be used to pass arguments to modprobe.</p>

<p>COPYRIGHT This manual page Copyright 2002, Rusty
Russell, IBM Corporation.</p>

<p>SEE ALSO modprobe.conf(5), lsmod(8), modinfo(8)</p>

<p>2002-12-27 MODPROBE(8)</p>
<hr>
</body>
</html>
