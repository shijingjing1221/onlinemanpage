<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:08:41 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>OCF_HEARTBEAT_VIRTUA(7) OCF resource agents
OCF_HEARTBEAT_VIRTUA(7)</p>

<p>NAME ocf_heartbeat_VirtualDomain - Manages virtual
domains through the libvirt virtualization framework</p>

<p>SYNOPSIS VirtualDomain [start | stop | status | monitor
| migrate_from | migrate_to | meta-data | validate-all]</p>

<p>DESCRIPTION Resource agent for a virtual domain (a.k.a.
domU, virtual machine, virtual environment etc., depending
on context) managed by libvirtd.</p>

<p>SUPPORTED PARAMETERS config Absolute path to the libvirt
configuration file, for this virtual domain. (required,
string, no default)</p>

<p>hypervisor Hypervisor URI to connect to. See the libvirt
documentation for details on supported URI formats. The
default is system dependent. (optional, string, no
default)</p>

<p>force_stop Always forcefully shut down
(&quot;destroy&quot;) the domain on stop. The default
behavior is to resort to a forceful shutdown only after a
graceful shutdown attempt has failed. You should only set
this to true if your virtual domain (or your virtualization
backend) does not support graceful shutdown. (optional,
boolean, default 0)</p>

<p>migration_transport Transport used to connect to the
remote hypervisor while migrating. Please refer to the
libvirt documentation for details on transports available.
If this parameter is omitted, the resource will use
libvirt&acute;s default transport to connect to the remote
hypervisor. (optional, string, no default)</p>

<p>migrate_use_fqdn Use resolver to acquire a fully
qualified domain name for the destination node. Should be
used if migration_transport is set to use TLS/SSL, and
certificates are made out to the FQDN of the node.
(optional, boolean, default 0)</p>

<p>monitor_scripts To additionally monitor services within
the virtual domain, add this parameter with a list of
scripts to monitor. Note: when monitor scripts are used, the
start and migrate_from operations will complete only when
all monitor scripts have completed successfully. Be sure to
set the timeout of these operations to accommodate this
delay. (optional, string, no default)</p>

<p>SUPPORTED ACTIONS This resource agent supports the
following actions (operations):</p>

<p>start Starts the resource. Suggested minimum timeout:
90.</p>

<p>stop Stops the resource. Suggested minimum timeout:
90.</p>

<p>status Performs a status check. Suggested minimum
timeout: 30. Suggested interval: 10.</p>

<p>monitor Performs a detailed status check. Suggested
minimum timeout: 30. Suggested interval: 10.</p>

<p>migrate_from Executes steps necessary for migrating the
resource away from the node. Suggested minimum timeout:
60.</p>

<p>migrate_to Executes steps necessary for migrating the
resource to the node. Suggested minimum timeout: 120.</p>

<p>meta-data Retrieves resource agent metadata (internal
use only). Suggested minimum timeout: 5.</p>

<p>validate-all Performs a validation of the resource
configuration. Suggested minimum timeout: 5.</p>

<p>EXAMPLE The following is an example configuration for a
VirtualDomain resource using the crm(8) shell:</p>

<p>primitive example_VirtualDomain
ocf:heartbeat:VirtualDomain params config=string meta
allow-migrate=&quot;true&quot; op monitor
depth=&quot;0&quot; timeout=&quot;30&quot;
interval=&quot;10&quot;</p>

<p>SEE ALSO
http://www.linux-ha.org/wiki/VirtualDomain_(resource_agent)</p>

<p>AUTHOR Linux-HA contributors (see the resource agent
source for information about individual authors)</p>

<p>resource-agents 1.0.3 07/21/2010
OCF_HEARTBEAT_VIRTUA(7)</p>
<hr>
</body>
</html>
