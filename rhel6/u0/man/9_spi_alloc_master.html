<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:16:46 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>SPI_ALLOC_MASTER(9) Serial Peripheral Interface (S
SPI_ALLOC_MASTER(9)</p>

<p>NAME spi_alloc_master - allocate SPI master
controller</p>

<p>SYNOPSIS struct spi_master * spi_alloc_master(struct
device * dev, unsigned size);</p>

<p>ARGUMENTS dev the controller, possibly using the
platform_bus</p>

<p>size how much zeroed driver-private data to allocate;
the pointer to this memory is in the driver_data field of
the returned device, accessible with
spi_master_get_devdata.</p>

<p>CONTEXT can sleep</p>

<p>DESCRIPTION This call is used only by SPI master
controller drivers, which are the only ones directly
touching chip registers. It&acute;s how they allocate an
spi_master structure, prior to calling
spi_register_master.</p>

<p>This must be called from context that can sleep. It
returns the SPI master structure on success, else NULL.</p>

<p>The caller is responsible for assigning the bus number
and initializing the master&acute;s methods before calling
spi_register_master; and (after errors adding the device)
calling spi_master_put to prevent a memory leak.</p>

<p>COPYRIGHT Kernel Hackers Manual 2.6. September 2010
SPI_ALLOC_MASTER(9)</p>
<hr>
</body>
</html>
