<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 21:57:09 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>DELETE_MODULE(2) Linux Programmer s Guide
DELETE_MODULE(2)</p>

<p>NAME delete_module - Delete a loadable module</p>

<p>SYNOPSIS long sys_delete_module (const char *name_user,
unsigned int flags, const struct timespec *rqtp, struct
timespec *rmtp);</p>

<p>DESCRIPTION delete_module deletes a loadable module.
name_user points to the module name that is given by the
userspace call to this system call. The flags parameter
specifies what actions to take upon module use. There are
two values for the flags parameter:</p>

<p>O_TRUNC If flags is set to this and
CONFIG_MODULE_FORCE_UNLOAD is turned on, deletion can take
place; otherwise, the function returns EBUSY.</p>

<p>O_NONBLOCK If the module is in use,
CONFIG_MODULE_FORCE_UNLOAD is turned on, the module refcount
is non-zero, and O_TRUNC is also defined for the flag, then
deletion can take place; otherwise, the func- tion returns
EWOULDBLOCK.</p>

<p>RETURN VALUE delete_module returns 0 on success;
otherwise, it returns one of the errors listed in the
&quot;Errors&quot; section.</p>

<p>ERRORS -EPERM The current user does not have
administrator capabilities to modify the modules.</p>

<p>-EFAULT An invalid user_name value was specified.</p>

<p>-EINTR A signal interrupt occurred.</p>

<p>-ENOENT An invalid module name was specified.</p>

<p>-EWOULDBLOCK Other running modules are dependent on the
specified module.</p>

<p>-EBUSY The module is already being removed or cannot be
removed.</p>

<p>SEE ALSO init_module(2)</p>

<p>AUTHOR Niki Rahimi</p>

<p>Linux 2.6 2004-March-12 DELETE_MODULE(2)</p>
<hr>
</body>
</html>
