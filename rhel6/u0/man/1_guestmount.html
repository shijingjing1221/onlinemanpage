<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:03:21 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>guestmount(1) Virtualization Support guestmount(1)</p>

<p>NAME guestmount - Mount a guest filesystem on the host
using FUSE and libguestfs</p>

<p>SYNOPSIS guestmount [--options] -a disk.img -m device
[--ro] mountpoint</p>

<p>WARNING You must not use &quot;guestmount&quot; in
read-write mode on live virtual machines. If you do this,
you risk disk corruption in the VM.</p>

<p>DESCRIPTION The guestmount program can be used to mount
virtual machine filesystems and other disk images on the
host. It uses libguestfs for access to the guest filesystem,
and FUSE (the &quot;filesystem in userspace&quot;) to make
it appear as a mountable device.</p>

<p>Along with other options, you have to give at least one
device (-a option) and at least one mountpoint (-m option).
How this works is better explained in the guestfish(1)
manual page, or you can use virt-inspector(1) and/or the
wrapper script &quot;guestmount-wrapper&quot; to help
you.</p>

<p>FUSE lets you mount filesystems as non-root. The
mountpoint must be owned by you, and the filesystem will not
be visible to any other users unless you make certain global
configuration changes to &quot;/etc/fuse.conf&quot;. To
unmount the filesystem, use the &quot;fusermount -u&quot;
command.</p>

<p>EXAMPLES For a typical Windows guest which has its main
filesystem on the first partition:</p>

<p>guestmount -a windows.img -m /dev/sda1 --ro /mnt</p>

<p>For a typical Linux guest which has a /boot filesystem
on the first partition, and the root filesystem on a logical
volume:</p>

<p>guestmount -a linux.img -m /dev/VG/LV -m /dev/sda1:/boot
--ro /mnt</p>

<p>To get virt-inspector(1) to do the hard work of
detecting guest mountpoints for you:</p>

<p>guestmount $(virt-inspector --ro-fish MyGuest) /mnt</p>

<p>(or use --fish if you dont want it to be a read only
mount). The option is called --ro-fish or --fish because
these parameters are compatible with guestfish(1).</p>

<p>If you dont know what filesystems are contained in a
guest or disk image, use virt-list-filesystems(1) first:</p>

<p>virt-list-filesystems MyGuest</p>

<p>If you want to trace the libguestfs calls but without
excessive debugging, we recommend:</p>

<p>guestmount [-a ... -m ...] --trace /mnt</p>

<p>If you want to debug the program, we recommend:</p>

<p>guestmount [-a ... -m ...] --trace --verbose /mnt</p>

<p>OPTIONS -a image | --add image Add a block device or
virtual machine image.</p>

<p>--dir-cache-timeout N Set the readdir cache timeout to N
seconds, the default being 60 seconds. The readdir cache
[actually, there are several semi- independent caches] is
populated after a readdir(2) call with the stat and extended
attributes of the files in the directory, in anticipation
that they will be requested soon after.</p>

<p>There is also a different attribute cache implemented by
FUSE (see the FUSE option -o attr_timeout), but the FUSE
cache does not anticipate future requests, only cache
existing ones.</p>

<p>--fuse-help Display help on special FUSE options (see -o
below).</p>

<p>--help Display brief help and exit.</p>

<p>-m dev[:mnt] | --mount dev[:mnt] Mount the named
partition or logical volume on the given mountpoint in the
guest (this has nothing to do with mountpoints in the
host).</p>

<p>If the mountpoint is omitted, it defaults to
&quot;/&quot;. You have to mount something on
&quot;/&quot;.</p>

<p>-n | --no-sync By default, we attempt to sync the guest
disk when the FUSE mountpoint is unmounted. If you specify
this option, then we dont attempt to sync the disk. See the
discussion of autosync in the guestfs(3) manpage.</p>

<p>-o option | --option option Pass extra options to
FUSE.</p>

<p>To get a list of all the extra options supported by
FUSE, use the command below. Note that only the FUSE -o
options can be passed, and only some of them are a good
idea.</p>

<p>guestmount --fuse-help</p>

<p>Some potentially useful FUSE options:</p>

<p>-o allow_other Allow other users to see the
filesystem.</p>

<p>-o attr_timeout=N Enable attribute caching by FUSE, and
set the timeout to N seconds.</p>

<p>-o kernel_cache Allow the kernel to cache files (reduces
the number of reads that have to go through the guestfs(3)
API). This is generally a good idea if you can afford the
extra memory usage.</p>

<p>-o uid=N -o gid=N Use these options to map all UIDs and
GIDs inside the guest filesystem to the chosen values.</p>

<p>-r | --ro Add devices and mount everything read-only.
Also disallow writes and make the disk appear read-only to
FUSE.</p>

<p>This is highly recommended if you are not going to edit
the guest disk. If the guest is running and this option is
not supplied, then there is a strong risk of disk corruption
in the guest. We try to prevent this from happening, but it
is not always possible.</p>

<p>--selinux Enable SELinux support for the guest.</p>

<p>--trace Trace libguestfs calls (to stderr).</p>

<p>This also stops the daemon from forking into the
background.</p>

<p>-v | --verbose Enable verbose messages from underlying
libguestfs.</p>

<p>-V | --version Display the program version and exit.</p>

<p>SEE ALSO guestfish(1), virt-inspector(1), virt-cat(1),
virt-edit(1), virt-tar(1), guestfs(3),
&lt;http://libguestfs.org/&gt;,
&lt;http://fuse.sf.net/&gt;.</p>

<p>AUTHORS Richard W.M. Jones (&quot;rjones at redhat dot
com&quot;)</p>

<p>COPYRIGHT Copyright (C) 2009 Red Hat Inc.
&lt;http://libguestfs.org/&gt;</p>

<p>This program is free software; you can redistribute it
and/or modify it under the terms of the GNU General Public
License as published by the Free Software Foundation; either
version 2 of the License, or (at your option) any later
version.</p>

<p>This program is distributed in the hope that it will be
useful, but WITHOUT ANY WARRANTY; without even the implied
warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
PURPOSE. See the GNU General Public License for more
details.</p>

<p>You should have received a copy of the GNU General
Public License along with this program; if not, write to the
Free Software Foundation, Inc., 675 Mass Ave, Cambridge, MA
02139, USA.</p>

<p>libguestfs-1.2.7 2010-03-16 guestmount(1)</p>
<hr>
</body>
</html>
