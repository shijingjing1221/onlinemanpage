<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 22:18:07 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>STRUCT SPI_MESSAGE(9) Serial Peripheral Interface (S
STRUCT SPI_MESSAGE(9)</p>

<p>NAME struct_spi_message - one multi-segment SPI
transaction</p>

<p>SYNOPSIS struct spi_message { struct list_head
transfers; struct spi_device * spi; unsigned
is_dma_mapped:1; void (* complete) (void *context); void *
context; unsigned actual_length; int status; struct
list_head queue; void * state; };</p>

<p>MEMBERS transfers list of transfer segments in this
transaction</p>

<p>spi SPI device to which the transaction is queued</p>

<p>is_dma_mapped if true, the caller provided both dma and
cpu virtual addresses for each transfer buffer</p>

<p>complete called to report transaction completions</p>

<p>context the argument to complete when it&acute;s
called</p>

<p>actual_length the total number of bytes that were
transferred in all successful segments</p>

<p>status zero for success, else negative errno</p>

<p>queue for use by whichever driver currently owns the
message</p>

<p>state for use by whichever driver currently owns the
message</p>

<p>DESCRIPTION A spi_message is used to execute an atomic
sequence of data transfers, each represented by a struct
spi_transfer. The sequence is atomic in the sense that no
other spi_message may use that SPI bus until that sequence
completes. On some systems, many such sequences can execute
as as single programmed DMA transfer. On all systems, these
messages are queued, and might complete after transactions
to other devices. Messages sent to a given spi_device are
alway executed in FIFO order.</p>

<p>The code that submits an spi_message (and its
spi_transfers) to the lower layers is responsible for
managing its memory. Zero-initialize every field you
don&acute;t set up explicitly, to insulate against future
API updates. After you submit a message and its transfers,
ignore them until its completion callback.</p>

<p>COPYRIGHT Kernel Hackers Manual 2.6. September 2010
STRUCT SPI_MESSAGE(9)</p>
<hr>
</body>
</html>
