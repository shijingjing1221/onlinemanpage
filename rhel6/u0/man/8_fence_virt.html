<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 21:59:37 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>FENCE_AGENT(8) FENCE_AGENT(8)</p>

<p>NAME fence_virt - Fencing agent for virtual machines
using VM Channel</p>

<p>fence_xvm - Fencing agent for virtual machines using
multicast</p>

<p>DESCRIPTION fence_virt and fence_xvm are an I/O Fencing
agents which can be used with virtual machines. Fence_xvm is
backward compatible with fence_xvmd.</p>

<p>Fence_virt and fence_xvm talk to fence_virtd, which
supports multiple backend plugins, including: - libvirt for
single-node operation - Cluster Checkpoints when using
Linux-cluster release 3.0.0 or later - libvirt-qpid for
multi-node, non-cluster operation</p>

<p>For compatibility, fence_xvm may talk to fence_xvmd from
linux-cluster release 2 or later.</p>

<p>fence_virt and fence_xvm accept options on the command
line as well as from stdin. The fencing daemon sends
parameters through stdin when it execs the agent. The agent
may be run by itself with command line options, which is
useful for testing or turning on or off virtual machines
from scripts.</p>

<p>GENERAL PARAMETERS</p>

<p>-d Increment (command line) debug level</p>

<p>-H Virtual machine (domain UUID or name) to fence</p>

<p>-o Fencing action (null, off, on, reboot, status,
monitor, list, or metadata) (Default Value: reboot). See the
FENCING ACTIONS sec- tion.</p>

<p>-t Fencing timeout (in seconds) (Default Value: 30)</p>

<p>MULTICAST PARAMETERS These parameters are used only when
using fence_virt in multicast mode (e.g. by running
fence_xvm).</p>

<p>-i IP Family (auto, ipv4, ipv6) (Default Value:
auto)</p>

<p>-a Multicast address (Default Values: 225.0.0.12 /
ff02::3:1)</p>

<p>-p IP port (Default Value: 1229)</p>

<p>-T Multicast time-to-live (in hops) (Default Value:
2)</p>

<p>-r Multicast retransmit time (in 1/10sec) (Default
Value: 20)</p>

<p>-C Authentication (none, sha1, sha256, sha512) (Default
Value: sha256)</p>

<p>-c Packet hash strength (none, sha1, sha256, sha512)
(Default Value: sha256)</p>

<p>-k Shared key file (Default Value:
/etc/cluster/fence_xvm.key)</p>

<p>-u Specify if using fence_virt with older fence_xvmd
installations which are using UUIDs. Fence_virtd ignores
this parameter.</p>

<p>SERIAL/VMCHANNEL PARAMETERS These parameters are used
only when using fence_virt in multicast mode (e.g. by
running fence_xvm).</p>

<p>-D Serial device (fence_virt mode). On the host, the
serial device must be mapped in each domains configuration
file. See fence_virt.conf(5) for more information.
Specifying a serial device causes fence_virt to use serial
mode (as opposed to VMChannel mode).</p>

<p>-P Serial parameters. (Default Value: 115200,8N1)</p>

<p>-A VMChannel IP address (Default Value: 10.0.2.179)</p>

<p>-p VMChannel IP port (Default Value: 1229)</p>

<p>GENERAL STDIN PARAMETERS These parameters are passed to
fence_virt via standard input if no com- mand line options
are present. They are presented to fence_virt in the
form:</p>

<p>name=value</p>

<p>debug Specify debugging level</p>

<p>port Virtual machine (domain UUID or name) to fence</p>

<p>action Fencing action (null, off, on, reboot, status,
monitor, list, or metadata) (Default Value: reboot). See the
FENCING ACTIONS sec- tion.</p>

<p>timeout Fencing timeout (in seconds) (Default Value:
30)</p>

<p>MULTICAST STDIN PARAMETERS ip_family IP Family ([auto],
ipv4, ipv6) (Default Value: auto)</p>

<p>multicast_address Multicast address (Defaults:
225.0.0.12 / ff02::3:1)</p>

<p>port IP port (Default Value: 1229)</p>

<p>multicast_ttl Multicast time-to-live (in hops) (Default
Value: 2)</p>

<p>retrans Multicast retransmit time (in 1/10sec) (Default
Value: 20)</p>

<p>auth Authentication (none, sha1, sha256, sha512)
(Default Value: sha256)</p>

<p>hash Packet hash strength (none, sha1, sha256, sha512)
(Default Value: sha256)</p>

<p>key_file Shared key file (Default Value:
/etc/cluster/fence_xvm.key)</p>

<p>use_uuid Specify if using fence_virt with older
fence_xvmd installations which are using UUIDs. Fence_virtd
ignores this parameter.</p>

<p>SERIAL/VMCHANNEL STDIN PARAMETERS serial_device Serial
device. On the host, the serial device must be mapped in
each domain s configuration file. See fence_virt.conf(5) for
more information. If specified, causes fence_virt to operate
in serial mode (not specifying causes fence_virt to operate
in VM Channel mode).</p>

<p>serial_params Serial parameters. Default=115200,8N1.</p>

<p>channel_ip Channel IP. Default=10.0.2.179</p>

<p>ipport Channel port. Default=1229</p>

<p>FENCING ACTIONS</p>

<p>off Destroy or turn off virtual machine.</p>

<p>reboot Reboot virtual machine; i.e. restart the virtual
machine on the same host where it is currently running.</p>

<p>on Turn on a virtual machine. Note: Turning on a virtual
machine only works with some fence_virt backends.</p>

<p>status Check whether a virtual machine is running or
not.</p>

<p>monitor Check the health of fence_virtds backend
plugin.</p>

<p>list List virtual machines which may be fenced by
fence_virtd (not supported on all backends).</p>

<p>metadata Print XML metadata to standard output.</p>

<p>SEE ALSO fence_virtd(8), fence(8),
fence_virtd.conf(5)</p>

<p>fence_virt (Fence Agent) 2009-12-04 FENCE_AGENT(8)</p>
<hr>
</body>
</html>
