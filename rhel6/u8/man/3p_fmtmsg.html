<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:13:27 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>FMTMSG(3P) POSIX Programmer s Manual FMTMSG(3P)</p>

<p>PROLOG This manual page is part of the POSIX Programmer
s Manual. The Linux implementation of this interface may
differ (consult the corresponding Linux manual page for
details of Linux behavior), or the interface may not be
implemented on Linux.</p>

<p>NAME fmtmsg - display a message in the specified format
on standard error and/or a system console</p>

<p>SYNOPSIS #include &lt;fmtmsg.h&gt;</p>

<p>int fmtmsg(long classification, const char *label, int
severity, const char *text, const char *action, const char
*tag);</p>

<p>DESCRIPTION The fmtmsg() function shall display messages
in a specified format instead of the traditional printf()
function.</p>

<p>Based on a message s classification component, fmtmsg()
shall write a formatted message either to standard error, to
the console, or to both.</p>

<p>A formatted message consists of up to five components as
defined below. The component classification is not part of a
message displayed to the user, but defines the source of the
message and directs the display of the formatted
message.</p>

<p>classification Contains the sum of identifying values
constructed from the con- stants defined below. Any one
identifier from a subclass may be used in combination with a
single identifier from a different subclass. Two or more
identifiers from the same subclass should not be used
together, with the exception of identifiers from the display
subclass. (Both display subclass identifiers may be used so
that messages can be displayed to both standard error and
the system console.)</p>

<p>Major Classifications</p>

<p>Identifies the source of the condition. Identifiers are:
MM_HARD (hardware), MM_SOFT (software), and MM_FIRM
(firmware).</p>

<p>Message Source Subclassifications</p>

<p>Identifies the type of software in which the problem is
detected. Identifiers are: MM_APPL (application), MM_UTIL
(utility), and MM_OPSYS (operating system).</p>

<p>Display Subclassifications</p>

<p>Indicates where the message is to be displayed.
Identifiers are: MM_PRINT to display the message on the
standard error stream, MM_CONSOLE to display the message on
the system console. One or both identifiers may be used.</p>

<p>Status Subclassifications</p>

<p>Indicates whether the application can recover from the
condi- tion. Identifiers are: MM_RECOVER (recoverable) and
MM_NRECOV (non-recoverable).</p>

<p>An additional identifier, MM_NULLMC, indicates that no
classification component is supplied for the message.</p>

<p>label Identifies the source of the message. The format
is two fields separated by a colon. The first field is up to
10 bytes, the second is up to 14 bytes.</p>

<p>severity Indicates the seriousness of the condition.
Identifiers for the levels of severity are:</p>

<p>MM_HALT Indicates that the application has encountered a
severe fault and is halting. Produces the string
&quot;HALT&quot; .</p>

<p>MM_ERROR Indicates that the application has detected a
fault. Produces the string &quot;ERROR&quot; .</p>

<p>MM_WARNING Indicates a condition that is out of the
ordinary, that might be a problem, and should be watched.
Produces the string &quot;WARNING&quot; .</p>

<p>MM_INFO Provides information about a condition that is
not in error. Produces the string &quot;INFO&quot; .</p>

<p>MM_NOSEV Indicates that no severity level is supplied
for the message.</p>

<p>text Describes the error condition that produced the
message. The character string is not limited to a specific
size. If the char- acter string is empty, then the text
produced is unspecified.</p>

<p>action Describes the first step to be taken in the
error-recovery pro- cess. The fmtmsg() function precedes the
action string with the prefix: &quot;TO FIX:&quot; . The
action string is not limited to a spe- cific size.</p>

<p>tag An identifier that references on-line documentation
for the mes- sage. Suggested usage is that tag includes the
label and a unique identifying number. A sample tag is
&quot;XSI:cat:146&quot; .</p>

<p>The MSGVERB environment variable (for message verbosity)
shall deter- mine for fmtmsg() which message components it
is to select when writing messages to standard error. The
value of MSGVERB shall be a colon-sepa- rated list of
optional keywords. Valid keywords are: label, severity,
text, action, and tag. If MSGVERB contains a keyword for a
component and the components value is not the component s
null value, fmtmsg() shall include that component in the
message when writing the message to standard error. If
MSGVERB does not include a keyword for a message component,
that component shall not be included in the display of the
message. The keywords may appear in any order. If MSGVERB is
not defined, if its value is the null string, if its value
is not of the correct format, or if it contains keywords
other than the valid ones listed above, fmtmsg() shall
select all components.</p>

<p>MSGVERB shall determine which components are selected
for display to standard error. All message components shall
be included in console messages.</p>

<p>RETURN VALUE The fmtmsg() function shall return one of
the following values:</p>

<p>MM_OK The function succeeded.</p>

<p>MM_NOTOK The function failed completely.</p>

<p>MM_NOMSG The function was unable to generate a message
on standard error, but otherwise succeeded.</p>

<p>MM_NOCON The function was unable to generate a console
message, but oth- erwise succeeded.</p>

<p>ERRORS None.</p>

<p>The following sections are informative.</p>

<p>EXAMPLES 1. The following example of fmtmsg():</p>

<p>fmtmsg(MM_PRINT, &quot;XSI:cat&quot;, MM_ERROR,
&quot;illegal option&quot;, &quot;refer to cat in user s
reference manual&quot;, &quot;XSI:cat:001&quot;)</p>

<p>produces a complete message in the specified message
format:</p>

<p>XSI:cat: ERROR: illegal option TO FIX: refer to cat in
uses reference manual XSI:cat:001</p>

<p>2. When the environment variable MSGVERB is set as
follows:</p>

<p>MSGVERB=severity:text:action</p>

<p>and Example 1 is used, fmtmsg() produces:</p>

<p>ERROR: illegal option TO FIX: refer to cat in uses
reference manual</p>

<p>APPLICATION USAGE One or more message components may be
systematically omitted from mes- sages generated by an
application by using the null value of the argu- ment for
that component.</p>

<p>RATIONALE None.</p>

<p>FUTURE DIRECTIONS None.</p>

<p>SEE ALSO printf(), the Base Definitions volume of IEEE
Std 1003.1-2001, &lt;fmtmsg.h&gt;</p>

<p>COPYRIGHT Portions of this text are reprinted and
reproduced in electronic form from IEEE Std 1003.1, 2003
Edition, Standard for Information Technology -- Portable
Operating System Interface (POSIX), The Open Group Base
Specifications Issue 6, Copyright (C) 2001-2003 by the
Institute of Electrical and Electronics Engineers, Inc and
The Open Group. In the event of any discrepancy between this
version and the original IEEE and The Open Group Standard,
the original IEEE and The Open Group Standard is the referee
document. The original Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>

<p>IEEE/The Open Group 2003 FMTMSG(3P)</p>
<hr>
</body>
</html>
