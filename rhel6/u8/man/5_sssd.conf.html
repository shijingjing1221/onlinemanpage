<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:36:04 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>SSSD.CONF(5) File Formats and Conventions
SSSD.CONF(5)</p>

<p>NAME sssd.conf - the configuration file for SSSD</p>

<p>FILE FORMAT The file has an ini-style syntax and
consists of sections and parameters. A section begins with
the name of the section in square brackets and continues
until the next section begins. An example of section with
single and multi-valued parameters:</p>

<p>[section] key = value key2 = value2,value3</p>

<p>The data types used are string (no quotes needed),
integer and bool (with values of TRUE/FALSE).</p>

<p>A line comment starts with a hash sign (#) or a
semicolon (;). Inline comments are not supported.</p>

<p>All sections can have an optional description parameter.
Its function is only as a label for the section.</p>

<p>sssd.conf must be a regular file, owned by root and only
root may read from or write to the file.</p>

<p>GENERAL OPTIONS Following options are usable in more
than one configuration sections.</p>

<p>Options usable in all sections debug_level (integer)
SSSD supports two representations for specifying the debug
level. The simplest is to specify a decimal value from 0-9,
which represents enabling that level and all lower-level
debug messages. The more comprehensive option is to specify
a hexadecimal bitmask to enable or disable specific levels
(such as if you wish to suppress a level).</p>

<p>Please note that each SSSD service logs into its own log
file. Also please note that enabling debug_level in the
[sssd] section only enables debugging just for the sssd
process itself, not for the responder or provider processes.
The debug_level parameter should be added to all sections
that you wish to produce debug logs from.</p>

<p>In addition to changing the log level in the config file
using the debug_level parameter, which is persistent, but
requires SSSD restart, it is also possible to change the
debug level on the fly using the sss_debuglevel(8) tool.</p>

<p>Currently supported debug levels:</p>

<p>0, 0x0010: Fatal failures. Anything that would prevent
SSSD from starting up or causes it to cease running.</p>

<p>1, 0x0020: Critical failures. An error that
doesn&acute;t kill the SSSD, but one that indicates that at
least one major feature is not going to work properly.</p>

<p>2, 0x0040: Serious failures. An error announcing that a
particular request or operation has failed.</p>

<p>3, 0x0080: Minor failures. These are the errors that
would percolate down to cause the operation failure of
2.</p>

<p>4, 0x0100: Configuration settings.</p>

<p>5, 0x0200: Function data.</p>

<p>6, 0x0400: Trace messages for operation functions.</p>

<p>7, 0x1000: Trace messages for internal control
functions.</p>

<p>8, 0x2000: Contents of function-internal variables that
may be interesting.</p>

<p>9, 0x4000: Extremely low-level tracing information.</p>

<p>To log required bitmask debug levels, simply add their
numbers together as shown in following examples:</p>

<p>Example: To log fatal failures, critical failures,
serious failures and function data use 0x0270.</p>

<p>Example: To log fatal failures, configuration settings,
function data, trace messages for internal control functions
use 0x1310.</p>

<p>Note: The bitmask format of debug levels was introduced
in 1.7.0.</p>

<p>Default: 0</p>

<p>debug_timestamps (bool) Add a timestamp to the debug
messages. If journald is enabled for SSSD debug logging this
option is ignored.</p>

<p>Default: true</p>

<p>debug_microseconds (bool) Add microseconds to the
timestamp in debug messages. If journald is enabled for SSSD
debug logging this option is ignored.</p>

<p>Default: false</p>

<p>Options usable in SERVICE and DOMAIN sections timeout
(integer) Timeout in seconds between heartbeats for this
service. This is used to ensure that the process is alive
and capable of answering requests.</p>

<p>Default: 10</p>

<p>SPECIAL SECTIONS The [sssd] section Individual pieces of
SSSD functionality are provided by special SSSD services
that are started and stopped together with SSSD. The
services are managed by a special service frequently called
monitor . The [sssd] section is used to configure the
monitor as well as some other important options like the
identity domains.</p>

<p>Section parameters</p>

<p>config_file_version (integer) Indicates what is the
syntax of the config file. SSSD 0.6.0 and later use version
2.</p>

<p>services Comma separated list of services that are
started when sssd itself starts.</p>

<p>Supported services: nss, pam , sudo , autofs , ssh , pac
, ifp</p>

<p>reconnection_retries (integer) Number of times services
should attempt to reconnect in the event of a Data Provider
crash or restart before they give up</p>

<p>Default: 3</p>

<p>domains A domain is a database containing user
information. SSSD can use more domains at the same time, but
at least one must be configured or SSSD won&acute;t start.
This parameter described the list of domains in the order
you want them to be queried. A domain name should only
consist of alphanumeric ASCII characters, dashes, dots and
underscores.</p>

<p>re_expression (string) Default regular expression that
describes how to parse the string containing user name and
domain into these components.</p>

<p>Each domain can have an individual regular expression
configured. For some ID providers there are also default
regular expressions. See DOMAIN SECTIONS for more info on
these regular expressions.</p>

<p>full_name_format (string) A printf(3)-compatible format
that describes how to compose a fully qualified name from
user name and domain name components.</p>

<p>The following expansions are supported:</p>

<p>%1$s user name</p>

<p>%2$s domain name as specified in the SSSD config
file.</p>

<p>%3$s domain flat name. Mostly usable for Active
Directory domains, both directly configured or discovered
via IPA trusts.</p>

<p>Each domain can have an individual format string
configured. see DOMAIN SECTIONS for more info on this
option.</p>

<p>try_inotify (boolean) SSSD monitors the state of
resolv.conf to identify when it needs to update its internal
DNS resolver. By default, we will attempt to use inotify for
this, and will fall back to polling resolv.conf every five
seconds if inotify cannot be used.</p>

<p>There are some limited situations where it is preferred
that we should skip even trying to use inotify. In these
rare cases, this option should be set to
&acute;false&acute;</p>

<p>Default: true on platforms where inotify is supported.
False on other platforms.</p>

<p>Note: this option will have no effect on platforms where
inotify is unavailable. On these platforms, polling will
always be used.</p>

<p>krb5_rcache_dir (string) Directory on the filesystem
where SSSD should store Kerberos replay cache files.</p>

<p>This option accepts a special value __LIBKRB5_DEFAULTS__
that will instruct SSSD to let libkrb5 decide the
appropriate location for the replay cache.</p>

<p>Default: Distribution-specific and specified at
build-time. (__LIBKRB5_DEFAULTS__ if not configured)</p>

<p>user (string) The user to drop the privileges to where
appropriate to avoid running as the root user.</p>

<p>Default: not set, process will run as root</p>

<p>default_domain_suffix (string) This string will be used
as a default domain name for all names without a domain name
component. The main use case is environments where the
primary domain is intended for managing host policies and
all users are located in a trusted domain. The option allows
those users to log in just with their user name without
giving a domain name as well.</p>

<p>Please note that if this option is set all users from
the primary domain have to use their fully qualified name,
e.g. user@domain.name, to log in. Setting this option
changes default of use_fully_qualified_names to True. It is
not allowed to use this option together with
use_fully_qualified_names set to False.</p>

<p>Default: not set</p>

<p>override_space (string) This parameter will replace
spaces (space bar) with the given character for user and
group names. e.g. (_). User name &quot;john doe&quot; will
be &quot;john_doe&quot; This feature was added to help
compatibility with shell scripts that have difficulty
handling spaces, due to the default field separator in the
shell.</p>

<p>Please note it is a configuration error to use a
replacement character that might be used in user or group
names. If a name contains the replacement character SSSD
tries to return the unmodified name but in general the
result of a lookup is undefined.</p>

<p>Default: not set (spaces will not be replaced)</p>

<p>certificate_verification (string) With this parameter
the certificate verification can be tuned with a comma
separated list of options. Supported options are:</p>

<p>no_ocsp Disables Online Certificate Status Protocol
(OCSP) checks. This might be needed if the OCSP servers
defined in the certificate are not reachable from the
client.</p>

<p>Unknown options are reported but ignored.</p>

<p>Default: not set, i.e. do not restrict certificate
vertification</p>

<p>SERVICES SECTIONS Settings that can be used to configure
different services are described in this section. They
should reside in the [$NAME] section, for example, for NSS
service, the section would be [nss]</p>

<p>General service configuration options These options can
be used to configure any service.</p>

<p>reconnection_retries (integer) Number of times services
should attempt to reconnect in the event of a Data Provider
crash or restart before they give up</p>

<p>Default: 3</p>

<p>fd_limit This option specifies the maximum number of
file descriptors that may be opened at one time by this SSSD
process. On systems where SSSD is granted the
CAP_SYS_RESOURCE capability, this will be an absolute
setting. On systems without this capability, the resulting
value will be the lower value of this or the limits.conf
&quot;hard&quot; limit.</p>

<p>Default: 8192 (or limits.conf &quot;hard&quot;
limit)</p>

<p>client_idle_timeout This option specifies the number of
seconds that a client of an SSSD process can hold onto a
file descriptor without communicating on it. This value is
limited in order to avoid resource exhaustion on the
system.</p>

<p>Default: 60</p>

<p>force_timeout (integer) If a service is not responding
to ping checks (see the timeout option), it is first sent
the SIGTERM signal that instructs it to quit gracefully. If
the service does not terminate after force_timeout seconds,
the monitor will forcibly shut it down by sending a SIGKILL
signal.</p>

<p>Default: 60</p>

<p>offline_timeout (integer) When SSSD switches to offline
mode the amount of time before it tries to go back online
will increase based upon the time spent disconnected. This
value is in seconds and calculated by the following:</p>

<p>offline_timeout + random_offset</p>

<p>The random offset can increment up to 30 seconds. After
each unsuccessful attempt to go online, the new interval is
recalculated by the following:</p>

<p>new_interval = old_interval*2 + random_offset</p>

<p>Note that the maximum length of each interval is
currently limited to one hour. If the calculated length of
new_interval is greater than an hour, it will be forced to
one hour.</p>

<p>Default: 60</p>

<p>subdomain_inherit (string) Specifies a list of
configuration parameters that should be inherited by a
subdomain. Please note that only selected parameters can be
inherited. Currently the following options can be
inherited:</p>

<p>ignore_group_members</p>

<p>ldap_purge_cache_timeout</p>

<p>ldap_use_tokengroups</p>

<p>ldap_user_principal</p>

<p>Example:</p>

<p>subdomain_inherit = ldap_purge_cache_timeout</p>

<p>Default: none</p>

<p>NSS configuration options These options can be used to
configure the Name Service Switch (NSS) service.</p>

<p>enum_cache_timeout (integer) How many seconds should
nss_sss cache enumerations (requests for info about all
users)</p>

<p>Default: 120</p>

<p>entry_cache_nowait_percentage (integer) The entry cache
can be set to automatically update entries in the background
if they are requested beyond a percentage of the
entry_cache_timeout value for the domain.</p>

<p>For example, if the domain&acute;s entry_cache_timeout
is set to 30s and entry_cache_nowait_percentage is set to 50
(percent), entries that come in after 15 seconds past the
last cache update will be returned immediately, but the SSSD
will go and update the cache on its own, so that future
requests will not need to block waiting for a cache
update.</p>

<p>Valid values for this option are 0-99 and represent a
percentage of the entry_cache_timeout for each domain. For
performance reasons, this percentage will never reduce the
nowait timeout to less than 10 seconds. (0 disables this
feature)</p>

<p>Default: 50</p>

<p>entry_negative_timeout (integer) Specifies for how many
seconds nss_sss should cache negative cache hits (that is,
queries for invalid database entries, like nonexistent ones)
before asking the back end again.</p>

<p>Default: 15</p>

<p>filter_users, filter_groups (string) Exclude certain
users from being fetched from the sss NSS database. This is
particularly useful for system accounts. This option can
also be set per-domain or include fully-qualified names to
filter only users from the particular domain.</p>

<p>Default: root</p>

<p>filter_users_in_groups (bool) If you want filtered user
still be group members set this option to false.</p>

<p>Default: true</p>

<p>override_homedir (string) Override the user&acute;s home
directory. You can either provide an absolute value or a
template. In the template, the following sequences are
substituted:</p>

<p>%u login name</p>

<p>%U UID number</p>

<p>%d domain name</p>

<p>%f fully qualified user name (user@domain)</p>

<p>%P UPN - User Principal Name (name@REALM)</p>

<p>%o The original home directory retrieved from the
identity provider.</p>

<p>%H The value of configure option homedir_substring.</p>

<p>%% a literal &acute;%&acute;</p>

<p>This option can also be set per-domain.</p>

<p>example:</p>

<p>override_homedir = /home/%u</p>

<p>Default: Not set (SSSD will use the value retrieved from
LDAP)</p>

<p>homedir_substring (string) The value of this option will
be used in the expansion of the override_homedir option if
the template contains the format string %H. An LDAP
directory entry can directly contain this template so that
this option can be used to expand the home directory path
for each client machine (or operating system). It can be set
per-domain or globally in the [nss] section. A value
specified in a domain section will override one set in the
[nss] section.</p>

<p>Default: /home</p>

<p>fallback_homedir (string) Set a default template for a
user&acute;s home directory if one is not specified
explicitly by the domain&acute;s data provider.</p>

<p>The available values for this option are the same as for
override_homedir.</p>

<p>example:</p>

<p>fallback_homedir = /home/%u</p>

<p>Default: not set (no substitution for unset home
directories)</p>

<p>override_shell (string) Override the login shell for all
users. This option supersedes any other shell options if it
takes effect and can be set either in the [nss] section or
per-domain.</p>

<p>Default: not set (SSSD will use the value retrieved from
LDAP)</p>

<p>allowed_shells (string) Restrict user shell to one of
the listed values. The order of evaluation is:</p>

<p>1. If the shell is present in /etc/shells, it is
used.</p>

<p>2. If the shell is in the allowed_shells list but not in
/etc/shells , use the value of the shell_fallback
parameter.</p>

<p>3. If the shell is not in the allowed_shells list and
not in /etc/shells, a nologin shell is used.</p>

<p>The wildcard (*) can be used to allow any shell.</p>

<p>The (*) is useful if you want to use shell_fallback in
case that user&acute;s shell is not in /etc/shells and
maintaining list of all allowed shells in allowed_shells
would be to much overhead.</p>

<p>An empty string for shell is passed as-is to libc.</p>

<p>The /etc/shells is only read on SSSD start up, which
means that a restart of the SSSD is required in case a new
shell is installed.</p>

<p>Default: Not set. The user shell is automatically
used.</p>

<p>vetoed_shells (string) Replace any instance of these
shells with the shell_fallback</p>

<p>shell_fallback (string) The default shell to use if an
allowed shell is not installed on the machine.</p>

<p>Default: /bin/sh</p>

<p>default_shell The default shell to use if the provider
does not return one during lookup. This option can be
specified globally in the [nss] section or per-domain.</p>

<p>Default: not set (Return NULL if no shell is specified
and rely on libc to substitute something sensible when
necessary, usually /bin/sh)</p>

<p>get_domains_timeout (int) Specifies time in seconds for
which the list of subdomains will be considered valid.</p>

<p>Default: 60</p>

<p>memcache_timeout (int) Specifies time in seconds for
which records in the in-memory cache will be valid.</p>

<p>Default: 300</p>

<p>NOTE: If the environment variable SSS_NSS_USE_MEMCACHE
is set to &quot;NO&quot;, client applications will not use
the fast in-memory cache.</p>

<p>user_attributes (string) Some of the additional NSS
responder requests can return more attributes than just the
POSIX ones defined by the NSS interface. The list of
attributes is controlled by this option. It is handled the
same way as the user_attributes option of the InfoPipe
responder (see sssd-ifp(5) for details) but with no default
values.</p>

<p>To make configuration more easy the NSS responder will
check the InfoPipe option if it is not set for the NSS
responder.</p>

<p>Default: not set, fallback to InfoPipe option</p>

<p>PAM configuration options These options can be used to
configure the Pluggable Authentication Module (PAM)
service.</p>

<p>offline_credentials_expiration (integer) If the
authentication provider is offline, how long should we allow
cached logins (in days since the last successful online
login).</p>

<p>Default: 0 (No limit)</p>

<p>offline_failed_login_attempts (integer) If the
authentication provider is offline, how many failed login
attempts are allowed.</p>

<p>Default: 0 (No limit)</p>

<p>offline_failed_login_delay (integer) The time in minutes
which has to pass after offline_failed_login_attempts has
been reached before a new login attempt is possible.</p>

<p>If set to 0 the user cannot authenticate offline if
offline_failed_login_attempts has been reached. Only a
successful online authentication can enable offline
authentication again.</p>

<p>Default: 5</p>

<p>pam_verbosity (integer) Controls what kind of messages
are shown to the user during authentication. The higher the
number to more messages are displayed.</p>

<p>Currently sssd supports the following values:</p>

<p>0: do not show any message</p>

<p>1: show only important messages</p>

<p>2: show informational messages</p>

<p>3: show all messages and debug information</p>

<p>Default: 1</p>

<p>pam_id_timeout (integer) For any PAM request while SSSD
is online, the SSSD will attempt to immediately update the
cached identity information for the user in order to ensure
that authentication takes place with the latest
information.</p>

<p>A complete PAM conversation may perform multiple PAM
requests, such as account management and session opening.
This option controls (on a per-client-application basis) how
long (in seconds) we can cache the identity information to
avoid excessive round-trips to the identity provider.</p>

<p>Default: 5</p>

<p>pam_pwd_expiration_warning (integer) Display a warning N
days before the password expires.</p>

<p>Please note that the backend server has to provide
information about the expiration time of the password. If
this information is missing, sssd cannot display a
warning.</p>

<p>If zero is set, then this filter is not applied, i.e. if
the expiration warning was received from backend server, it
will automatically be displayed.</p>

<p>This setting can be overridden by setting
pwd_expiration_warning for a particular domain.</p>

<p>Default: 0</p>

<p>get_domains_timeout (int) Specifies time in seconds for
which the list of subdomains will be considered valid.</p>

<p>Default: 60</p>

<p>pam_trusted_users (string) Specifies the comma-separated
list of UID values or user names that are allowed to access
the PAM responder. User names are resolved to UIDs at
startup.</p>

<p>Default: all (All users are allowed to access the PAM
responder)</p>

<p>Please note that UID 0 is always allowed to access the
PAM responder even in case it is not in the
pam_trusted_users list.</p>

<p>pam_public_domains (string) Specifies the
comma-separated list of domain names that are accessible
even to untrusted users.</p>

<p>Two special values for pam_public_domains option are
defined:</p>

<p>all (Untrusted users are allowed to access all domains
in PAM responder.)</p>

<p>none (Untrusted users are not allowed to access any
domains PAM in responder.)</p>

<p>Default: none</p>

<p>pam_account_expired_message (string) Allows a custom
expiration message to be set, replacing the default
&acute;Permission denied&acute; message.</p>

<p>Note: Please be aware that message is only printed for
the SSH service unless pam_verbostiy is set to 3 (show all
messages and debug information).</p>

<p>example:</p>

<p>pam_account_expired_message = Account expired, please
contact help desk.</p>

<p>Default: none</p>

<p>pam_account_locked_message (string) Allows a custom
lockout message to be set, replacing the default
&acute;Permission denied&acute; message.</p>

<p>example:</p>

<p>pam_account_locked_message = Account locked, please
contact help desk.</p>

<p>Default: none</p>

<p>pam_account_locked_message (string) If user is
authenticating and account is locked then by default
&acute;Permission denied&acute; is output. This output will
be changed to content of this variable if it is set.</p>

<p>example:</p>

<p>pam_account_locked_message = Account locked, please call
help desk.</p>

<p>Default: none</p>

<p>p11_child_timeout (integer) How many seconds will
pam_sss wait for p11_child to finish.</p>

<p>Default: 10</p>

<p>SUDO configuration options These options can be used to
configure the sudo service. The detailed instructions for
configuration of sudo(8) to work with sssd(8) are in the
manual page sssd-sudo(5).</p>

<p>sudo_timed (bool) Whether or not to evaluate the
sudoNotBefore and sudoNotAfter attributes that implement
time-dependent sudoers entries.</p>

<p>Default: false</p>

<p>AUTOFS configuration options These options can be used
to configure the autofs service.</p>

<p>autofs_negative_timeout (integer) Specifies for how many
seconds should the autofs responder negative cache hits
(that is, queries for invalid map entries, like nonexistent
ones) before asking the back end again.</p>

<p>Default: 15</p>

<p>Please note that the automounter only reads the master
map on startup, so if any autofs-related changes are made to
the sssd.conf, you typically also need to restart the
automounter daemon after restarting the SSSD.</p>

<p>SSH configuration options These options can be used to
configure the SSH service.</p>

<p>ssh_hash_known_hosts (bool) Whether or not to hash host
names and addresses in the managed known_hosts file.</p>

<p>Default: true</p>

<p>ssh_known_hosts_timeout (integer) How many seconds to
keep a host in the managed known_hosts file after its host
keys were requested.</p>

<p>Default: 180</p>

<p>ca_db (string) Path to a storage of trusted CA
certificates. The option is used to validate user
certificates before deriving public ssh keys from them.</p>

<p>Default: /etc/pki/nssdb</p>

<p>PAC responder configuration options The PAC responder
works together with the authorization data plugin for MIT
Kerberos sssd_pac_plugin.so and a sub-domain provider. The
plugin sends the PAC data during a GSSAPI authentication to
the PAC responder. The sub-domain provider collects domain
SID and ID ranges of the domain the client is joined to and
of remote trusted domains from the local domain controller.
If the PAC is decoded and evaluated some of the following
operations are done:</p>

<p>&middot; If the remote user does not exist in the cache,
it is created. The uid is determined with the help of the
SID, trusted domains will have UPGs and the gid will have
the same value as the uid. The home directory is set based
on the subdomain_homedir parameter. The shell will be empty
by default, i.e. the system defaults are used, but can be
overwritten with the default_shell parameter.</p>

<p>&middot; If there are SIDs of groups from domains sssd
knows about, the user will be added to those groups.</p>

<p>These options can be used to configure the PAC
responder.</p>

<p>allowed_uids (string) Specifies the comma-separated list
of UID values or user names that are allowed to access the
PAC responder. User names are resolved to UIDs at
startup.</p>

<p>Default: 0 (only the root user is allowed to access the
PAC responder)</p>

<p>Please note that although the UID 0 is used as the
default it will be overwritten with this option. If you
still want to allow the root user to access the PAC
responder, which would be the typical case, you have to add
0 to the list of allowed UIDs as well.</p>

<p>DOMAIN SECTIONS These configuration options can be
present in a domain configuration section, that is, in a
section called [domain/NAME]</p>

<p>min_id,max_id (integer) UID and GID limits for the
domain. If a domain contains an entry that is outside these
limits, it is ignored.</p>

<p>For users, this affects the primary GID limit. The user
will not be returned to NSS if either the UID or the primary
GID is outside the range. For non-primary group memberships,
those that are in range will be reported as expected.</p>

<p>These ID limits affect even saving entries to cache, not
only returning them by name or ID.</p>

<p>Default: 1 for min_id, 0 (no limit) for max_id</p>

<p>enumerate (bool) Determines if a domain can be
enumerated. This parameter can have one of the following
values:</p>

<p>TRUE = Users and groups are enumerated</p>

<p>FALSE = No enumerations for this domain</p>

<p>Default: FALSE</p>

<p>Note: Enabling enumeration has a moderate performance
impact on SSSD while enumeration is running. It may take up
to several minutes after SSSD startup to fully complete
enumerations. During this time, individual requests for
information will go directly to LDAP, though it may be slow,
due to the heavy enumeration processing. Saving a large
number of entries to cache after the enumeration completes
might also be CPU intensive as the memberships have to be
recomputed.</p>

<p>While the first enumeration is running, requests for the
complete user or group lists may return no results until it
completes.</p>

<p>Further, enabling enumeration may increase the time
necessary to detect network disconnection, as longer
timeouts are required to ensure that enumeration lookups are
completed successfully. For more information, refer to the
man pages for the specific id_provider in use.</p>

<p>For the reasons cited above, enabling enumeration is not
recommended, especially in large environments.</p>

<p>subdomain_enumerate (string) Whether any of autodetected
trusted domains should be enumerated. The supported values
are:</p>

<p>all All discovered trusted domains will be
enumerated</p>

<p>none No discovered trusted domains will be
enumerated</p>

<p>Optionally, a list of one or more domain names can
enable enumeration just for these trusted domains.</p>

<p>Default: none</p>

<p>force_timeout (integer) If a service is not responding
to ping checks (see the timeout option), it is first sent
the SIGTERM signal that instructs it to quit gracefully. If
the service does not terminate after force_timeout seconds,
the monitor will forcibly shut it down by sending a SIGKILL
signal.</p>

<p>Default: 60</p>

<p>entry_cache_timeout (integer) How many seconds should
nss_sss consider entries valid before asking the backend
again</p>

<p>The cache expiration timestamps are stored as attributes
of individual objects in the cache. Therefore, changing the
cache timeout only has effect for newly added or expired
entries. You should run the sss_cache(8) tool in order to
force refresh of entries that have already been cached.</p>

<p>Default: 5400</p>

<p>entry_cache_user_timeout (integer) How many seconds
should nss_sss consider user entries valid before asking the
backend again</p>

<p>Default: entry_cache_timeout</p>

<p>entry_cache_group_timeout (integer) How many seconds
should nss_sss consider group entries valid before asking
the backend again</p>

<p>Default: entry_cache_timeout</p>

<p>entry_cache_netgroup_timeout (integer) How many seconds
should nss_sss consider netgroup entries valid before asking
the backend again</p>

<p>Default: entry_cache_timeout</p>

<p>entry_cache_service_timeout (integer) How many seconds
should nss_sss consider service entries valid before asking
the backend again</p>

<p>Default: entry_cache_timeout</p>

<p>entry_cache_sudo_timeout (integer) How many seconds
should sudo consider rules valid before asking the backend
again</p>

<p>Default: entry_cache_timeout</p>

<p>entry_cache_autofs_timeout (integer) How many seconds
should the autofs service consider automounter maps valid
before asking the backend again</p>

<p>Default: entry_cache_timeout</p>

<p>entry_cache_ssh_host_timeout (integer) How many seconds
to keep a host ssh key after refresh. IE how long to cache
the host key for.</p>

<p>Default: entry_cache_timeout</p>

<p>refresh_expired_interval (integer) Specifies how many
seconds SSSD has to wait before triggering a background
refresh task which will refresh all expired or nearly
expired records.</p>

<p>The background refresh will process users, groups and
netgroups in the cache.</p>

<p>You can consider setting this value to 3/4 *
entry_cache_timeout.</p>

<p>Default: 0 (disabled)</p>

<p>cache_credentials (bool) Determines if user credentials
are also cached in the local LDB cache</p>

<p>User credentials are stored in a SHA512 hash, not in
plaintext</p>

<p>Default: FALSE</p>

<p>cache_credentials_minimal_first_factor_length (int) If
2-Factor-Authentication (2FA) is used and credentials should
be saved this value determines the minimal length the first
authentication factor (long term password) must have to be
saved as SHA512 hash into the cache.</p>

<p>This should avoid that the short PINs of a PIN based 2FA
scheme are saved in the cache which would make them easy
targets for brute-force attacks.</p>

<p>Default: 8</p>

<p>account_cache_expiration (integer) Number of days
entries are left in cache after last successful login before
being removed during a cleanup of the cache. 0 means keep
forever. The value of this parameter must be greater than or
equal to offline_credentials_expiration.</p>

<p>Default: 0 (unlimited)</p>

<p>pwd_expiration_warning (integer) Display a warning N
days before the password expires.</p>

<p>If zero is set, then this filter is not applied, i.e. if
the expiration warning was received from backend server, it
will automatically be displayed.</p>

<p>Please note that the backend server has to provide
information about the expiration time of the password. If
this information is missing, sssd cannot display a warning.
Also an auth provider has to be configured for the
backend.</p>

<p>Default: 7 (Kerberos), 0 (LDAP)</p>

<p>id_provider (string) The identification provider used
for the domain. Supported ID providers are:</p>

<p>proxy: Support a legacy NSS provider</p>

<p>local: SSSD internal provider for local users</p>

<p>ldap : LDAP provider. See sssd-ldap(5) for more
information on configuring LDAP.</p>

<p>ipa : FreeIPA and Red Hat Enterprise Identity Management
provider. See sssd-ipa(5) for more information on
configuring FreeIPA.</p>

<p>ad: Active Directory provider. See sssd-ad(5) for more
information on configuring Active Directory.</p>

<p>use_fully_qualified_names (bool) Use the full name and
domain (as formatted by the domain&acute;s full_name_format)
as the user&acute;s login name reported to NSS.</p>

<p>If set to TRUE, all requests to this domain must use
fully qualified names. For example, if used in LOCAL domain
that contains a &quot;test&quot; user, getent passwd test
wouldn&acute;t find the user while getent passwd test@LOCAL
would.</p>

<p>NOTE: This option has no effect on netgroup lookups due
to their tendency to include nested netgroups without
qualified names. For netgroups, all domains will be searched
when an unqualified name is requested.</p>

<p>Default: FALSE (TRUE if default_domain_suffix is
used)</p>

<p>ignore_group_members (bool) Do not return group members
for group lookups.</p>

<p>If set to TRUE, the group membership attribute is not
requested from the ldap server, and group members are not
returned when processing group lookup calls, such as
getgrnam(3) or getgrgid(3). As an effect, getent group
$groupname would return the requested group as if it was
empty.</p>

<p>Enabling this option can also make access provider
checks for group membership significantly faster, especially
for groups containing many members.</p>

<p>Default: FALSE</p>

<p>auth_provider (string) The authentication provider used
for the domain. Supported auth providers are:</p>

<p>ldap for native LDAP authentication. See sssd-ldap(5)
for more information on configuring LDAP.</p>

<p>krb5 for Kerberos authentication. See sssd-krb5(5) for
more information on configuring Kerberos.</p>

<p>ipa : FreeIPA and Red Hat Enterprise Identity Management
provider. See sssd-ipa(5) for more information on
configuring FreeIPA.</p>

<p>ad: Active Directory provider. See sssd-ad(5) for more
information on configuring Active Directory.</p>

<p>proxy for relaying authentication to some other PAM
target.</p>

<p>local: SSSD internal provider for local users</p>

<p>none disables authentication explicitly.</p>

<p>Default: id_provider is used if it is set and can handle
authentication requests.</p>

<p>access_provider (string) The access control provider
used for the domain. There are two built-in access providers
(in addition to any included in installed backends) Internal
special providers are:</p>

<p>permit always allow access. It&acute;s the only
permitted access provider for a local domain.</p>

<p>deny always deny access.</p>

<p>ldap for native LDAP authentication. See sssd-ldap(5)
for more information on configuring LDAP.</p>

<p>ipa : FreeIPA and Red Hat Enterprise Identity Management
provider. See sssd-ipa(5) for more information on
configuring FreeIPA.</p>

<p>ad: Active Directory provider. See sssd-ad(5) for more
information on configuring Active Directory.</p>

<p>simple access control based on access or deny lists. See
sssd- simple(5) for more information on configuring the
simple access module.</p>

<p>Default: permit</p>

<p>chpass_provider (string) The provider which should
handle change password operations for the domain. Supported
change password providers are:</p>

<p>ldap to change a password stored in a LDAP server. See
sssd- ldap(5) for more information on configuring LDAP.</p>

<p>krb5 to change the Kerberos password. See sssd-krb5(5)
for more information on configuring Kerberos.</p>

<p>ipa : FreeIPA and Red Hat Enterprise Identity Management
provider. See sssd-ipa(5) for more information on
configuring FreeIPA.</p>

<p>ad: Active Directory provider. See sssd-ad(5) for more
information on configuring Active Directory.</p>

<p>proxy for relaying password changes to some other PAM
target.</p>

<p>none disallows password changes explicitly.</p>

<p>Default: auth_provider is used if it is set and can
handle change password requests.</p>

<p>sudo_provider (string) The SUDO provider used for the
domain. Supported SUDO providers are:</p>

<p>ldap for rules stored in LDAP. See sssd-ldap(5) for more
information on configuring LDAP.</p>

<p>ipa the same as ldap but with IPA default settings.</p>

<p>ad the same as ldap but with AD default settings.</p>

<p>none disables SUDO explicitly.</p>

<p>Default: The value of id_provider is used if it is
set.</p>

<p>The detailed instructions for configuration of
sudo_provider are in the manual page sssd-sudo(5). There are
many configuration options that can be used to adjust the
behavior. Please refer to &quot;ldap_sudo_*&quot; in
sssd-ldap(5).</p>

<p>selinux_provider (string) The provider which should
handle loading of selinux settings. Note that this provider
will be called right after access provider ends. Supported
selinux providers are:</p>

<p>ipa to load selinux settings from an IPA server. See
sssd-ipa(5) for more information on configuring IPA.</p>

<p>none disallows fetching selinux settings explicitly.</p>

<p>Default: id_provider is used if it is set and can handle
selinux loading requests.</p>

<p>subdomains_provider (string) The provider which should
handle fetching of subdomains. This value should be always
the same as id_provider. Supported subdomain providers
are:</p>

<p>ipa to load a list of subdomains from an IPA server. See
sssd- ipa(5) for more information on configuring IPA.</p>

<p>ad to load a list of subdomains from an Active Directory
server. See sssd-ad(5) for more information on configuring
the AD provider.</p>

<p>none disallows fetching subdomains explicitly.</p>

<p>Default: The value of id_provider is used if it is
set.</p>

<p>autofs_provider (string) The autofs provider used for
the domain. Supported autofs providers are:</p>

<p>ldap to load maps stored in LDAP. See sssd-ldap(5) for
more information on configuring LDAP.</p>

<p>ipa to load maps stored in an IPA server. See
sssd-ipa(5) for more information on configuring IPA.</p>

<p>ad to load maps stored in an AD server. See sssd-ad(5)
for more information on configuring the AD provider.</p>

<p>none disables autofs explicitly.</p>

<p>Default: The value of id_provider is used if it is
set.</p>

<p>hostid_provider (string) The provider used for
retrieving host identity information. Supported hostid
providers are:</p>

<p>ipa to load host identity stored in an IPA server. See
sssd- ipa(5) for more information on configuring IPA.</p>

<p>none disables hostid explicitly.</p>

<p>Default: The value of id_provider is used if it is
set.</p>

<p>re_expression (string) Regular expression for this
domain that describes how to parse the string containing
user name and domain into these components. The
&quot;domain&quot; can match either the SSSD configuration
domain name, or, in the case of IPA trust subdomains and
Active Directory domains, the flat (NetBIOS) name of the
domain.</p>

<p>Default for the AD and IPA provider:
(((?P&lt;domain&gt;[^\]+)\(?P&lt;name&gt;.+$))|((?P&lt;name&gt;[^@]+)@(?P&lt;domain&gt;.+$))|(^(?P&lt;name&gt;[^@\]+)$))
which allows three different styles for user names:</p>

<p>&middot; username</p>

<p>&middot; username@domain.name</p>

<p>&middot; domainsername While the first two correspond to
the general default the third one is introduced to allow
easy integration of users from Windows domains.</p>

<p>Default: (?P&lt;name&gt;[^@]+)@?(?P&lt;domain&gt;[^@]*$)
which translates to &quot;the name is everything up to the @
sign, the domain everything after that&quot;</p>

<p>PLEASE NOTE: the support for non-unique named
subpatterns is not available on all platforms (e.g. RHEL5
and SLES10). Only platforms with libpcre version 7 or higher
can support non-unique named subpatterns.</p>

<p>PLEASE NOTE ALSO: older version of libpcre only support
the Python syntax (?P&lt;name&gt;) to label subpatterns.</p>

<p>full_name_format (string) A printf(3)-compatible format
that describes how to compose a fully qualified name from
user name and domain name components.</p>

<p>The following expansions are supported:</p>

<p>%1$s user name</p>

<p>%2$s domain name as specified in the SSSD config
file.</p>

<p>%3$s domain flat name. Mostly usable for Active
Directory domains, both directly configured or discovered
via IPA trusts.</p>

<p>Default: %1$s@%2$s.</p>

<p>lookup_family_order (string) Provides the ability to
select preferred address family to use when performing DNS
lookups.</p>

<p>Supported values:</p>

<p>ipv4_first: Try looking up IPv4 address, if that fails,
try IPv6</p>

<p>ipv4_only: Only attempt to resolve hostnames to IPv4
addresses.</p>

<p>ipv6_first: Try looking up IPv6 address, if that fails,
try IPv4</p>

<p>ipv6_only: Only attempt to resolve hostnames to IPv6
addresses.</p>

<p>Default: ipv4_first</p>

<p>dns_resolver_timeout (integer) Defines the amount of
time (in seconds) to wait for a reply from the DNS resolver
before assuming that it is unreachable. If this timeout is
reached, the domain will continue to operate in offline
mode.</p>

<p>Default: 6</p>

<p>dns_discovery_domain (string) If service discovery is
used in the back end, specifies the domain part of the
service discovery DNS query.</p>

<p>Default: Use the domain part of machine&acute;s
hostname</p>

<p>override_gid (integer) Override the primary GID value
with the one specified.</p>

<p>case_sensitive (string) Treat user and group names as
case sensitive. At the moment, this option is not supported
in the local provider. Possible option values are:</p>

<p>True Case sensitive. This value is invalid for AD
provider.</p>

<p>False Case insensitive.</p>

<p>Preserving Same as False (case insensitive), but does
not lowercase names in the result of NSS operations. Note
that name aliases (and in case of services also protocol
names) are still lowercased in the output.</p>

<p>Default: True (False for AD provider)</p>

<p>proxy_fast_alias (boolean) When a user or group is
looked up by name in the proxy provider, a second lookup by
ID is performed to &quot;canonicalize&quot; the name in case
the requested name was an alias. Setting this option to true
would cause the SSSD to perform the ID lookup from cache for
performance reasons.</p>

<p>Default: false</p>

<p>subdomain_homedir (string) Use this homedir as default
value for all subdomains within this domain in IPA AD trust.
See override_homedir for info about possible values. In
addition to those, the expansion below can only be used with
subdomain_homedir.</p>

<p>%F flat (NetBIOS) name of a subdomain.</p>

<p>The value can be overridden by override_homedir
option.</p>

<p>Default: /home/%d/%u</p>

<p>realmd_tags (string) Various tags stored by the realmd
configuration service for this domain.</p>

<p>cached_auth_timeout (int) Specifies time in seconds
since last successful online authentication for which user
will be authenticated using cached credentials while SSSD is
in the online mode.</p>

<p>Special value 0 implies that this feature is
disabled.</p>

<p>Please note that if cached_auth_timeout is longer than
pam_id_timeout then the back end could be called to handle
initgroups.</p>

<p>Default: 0</p>

<p>Options valid for proxy domains.</p>

<p>proxy_pam_target (string) The proxy target PAM proxies
to.</p>

<p>Default: not set by default, you have to take an
existing pam configuration or create a new one and add the
service name here.</p>

<p>proxy_lib_name (string) The name of the NSS library to
use in proxy domains. The NSS functions searched for in the
library are in the form of _nss_$(libName)_$(function), for
example _nss_files_getpwent.</p>

<p>The local domain section This section contains settings
for domain that stores users and groups in SSSD native
database, that is, a domain that uses id_provider=local.</p>

<p>Section parameters</p>

<p>default_shell (string) The default shell for users
created with SSSD userspace tools.</p>

<p>Default: /bin/bash</p>

<p>base_directory (string) The tools append the login name
to base_directory and use that as the home directory.</p>

<p>Default: /home</p>

<p>create_homedir (bool) Indicate if a home directory
should be created by default for new users. Can be
overridden on command line.</p>

<p>Default: TRUE</p>

<p>remove_homedir (bool) Indicate if a home directory
should be removed by default for deleted users. Can be
overridden on command line.</p>

<p>Default: TRUE</p>

<p>homedir_umask (integer) Used by sss_useradd(8) to
specify the default permissions on a newly created home
directory.</p>

<p>Default: 077</p>

<p>skel_dir (string) The skeleton directory, which contains
files and directories to be copied in the user&acute;s home
directory, when the home directory is created by
sss_useradd(8)</p>

<p>Default: /etc/skel</p>

<p>mail_dir (string) The mail spool directory. This is
needed to manipulate the mailbox when its corresponding user
account is modified or deleted. If not specified, a default
value is used.</p>

<p>Default: /var/mail</p>

<p>userdel_cmd (string) The command that is run after a
user is removed. The command us passed the username of the
user being removed as the first and only parameter. The
return code of the command is not taken into account.</p>

<p>Default: None, no command is run</p>

<p>EXAMPLE The following example shows a typical SSSD
config. It does not describe configuration of the domains
themselves - refer to documentation on configuring domains
for more details.</p>

<p>[sssd] domains = LDAP services = nss, pam
config_file_version = 2</p>

<p>[nss] filter_groups = root filter_users = root</p>

<p>[pam]</p>

<p>[domain/LDAP] id_provider = ldap ldap_uri =
ldap://ldap.example.com ldap_search_base =
dc=example,dc=com</p>

<p>auth_provider = krb5 krb5_server = kerberos.example.com
krb5_realm = EXAMPLE.COM cache_credentials = true</p>

<p>min_id = 10000 max_id = 20000 enumerate = False</p>

<p>SEE ALSO sssd(8), sssd.conf(5), sssd-ldap(5),
sssd-krb5(5), sssd-simple(5), sssd-ipa(5), sssd-ad(5),
sssd-sudo(5), sss_cache(8), sss_debuglevel(8),
sss_groupadd(8), sss_groupdel(8), sss_groupshow(8),
sss_groupmod(8), sss_useradd(8), sss_userdel(8),
sss_usermod(8), sss_obfuscate(8), sss_seed(8),
sssd_krb5_locator_plugin(8), sss_ssh_authorizedkeys(8),
sss_ssh_knownhostsproxy(8), sssd-ifp(5), pam_sss(8).
sss_rpcidmapd(5)</p>

<p>AUTHORS The SSSD upstream -
http://fedorahosted.org/sssd</p>

<p>SSSD 03/17/2016 SSSD.CONF(5)</p>
<hr>
</body>
</html>
