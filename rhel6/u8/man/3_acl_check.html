<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:04:09 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>ACL_CHECK(3) BSD Library Functions Manual
ACL_CHECK(3)</p>

<p>NAME acl_check - check an ACL for validity</p>

<p>LIBRARY Linux Access Control Lists library (libacl,
-lacl).</p>

<p>SYNOPSIS #include &lt;sys/types.h&gt; #include
&lt;acl/libacl.h&gt;</p>

<p>int acl_check(acl_t acl, int *last);</p>

<p>DESCRIPTION The acl_check() function checks the ACL
referred to by the argument acl for validity.</p>

<p>The three required entries ACL_USER_OBJ, ACL_GROUP_OBJ,
and ACL_OTHER must exist exactly once in the ACL. If the ACL
contains any ACL_USER or ACL_GROUP entries, then an ACL_MASK
entry is also required. The ACL may contain at most one
ACL_MASK entry.</p>

<p>The user identifiers must be unique among all entries of
type ACL_USER. The group identifiers must be unique among
all entries of type ACL_GROUP.</p>

<p>If the ACL referred to by acl is invalid, acl_check()
returns a positive error code that indicates which type of
error was detected. The follow- ing symbolic error codes are
defined:</p>

<p>ACL_MULTI_ERROR The ACL contains multiple entries that
have a tag type that may occur at most once.</p>

<p>ACL_DUPLICATE_ERROR The ACL contains multiple ACL_USER
entries with the same user ID, or multiple ACL_GROUP entries
with the same group ID.</p>

<p>ACL_MISS_ERROR A required entry is missing.</p>

<p>ACL_ENTRY_ERROR The ACL contains an invalid entry tag
type.</p>

<p>The acl_error() function can be used to translate error
codes to text messages.</p>

<p>In addition, if the pointer last is not NULL,
acl_check() assigns the number of the ACL entry at which the
error was detected to the value pointed to by last. Entries
are numbered starting with zero, in the order in which they
would be returned by the acl_get_entry() function.</p>

<p>RETURN VALUE If successful, the acl_check() function
returns 0 if the ACL referred to by acl is valid, and a
positive error code if the ACL is invalid. Other- wise, a
value of -1 is returned and the global variable errno is set
to indicate the error.</p>

<p>ERRORS If any of the following conditions occur, the
acl_check() function returns -1 and sets errno to the
corresponding value:</p>

<p>[EINVAL] The argument acl is not a valid pointer to an
ACL.</p>

<p>STANDARDS This is a non-portable, Linux specific
extension to the ACL manipulation functions defined in IEEE
Std 1003.1e draft 17 (POSIX.1e, abandoned).</p>

<p>SEE ALSO acl_valid(3), acl(5)</p>

<p>AUTHOR Written by Andreas Gruenbacher
a.gruenbacher@bestbits.at.</p>

<p>Linux ACL March 23, 2002 Linux ACL</p>
<hr>
</body>
</html>
