<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:46:08 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>XkbFreeClientMap(3) XKB FUNCTIONS
XkbFreeClientMap(3)</p>

<p>NAME XkbFreeClientMap - Free memory used by the client
map member of an Xkb- DescRec structure</p>

<p>SYNOPSIS void XkbFreeClientMap (XkbDescPtr xkb, unsigned
int which, Bool free_all);</p>

<p>ARGUMENTS - xkb keyboard description containing client
map to free</p>

<p>- which mask identifying components of map to free</p>

<p>- free_all True =&gt; free all client components and map
itself</p>

<p>DESCRIPTION XkbFreeClientMap frees the components of
client map specified by which in the XkbDescRec structure
specified by the xkb parameter and sets the corresponding
structure component values to NULL. The which parameter
specifies a combination of the client map masks shown in
Table 1.</p>

<p>If free_all is True, which is ignored; XkbFreeClientMap
frees every non-NULL structure component in the client map,
frees the Xkb- ClientMapRec structure referenced by the map
member of the xkb parame- ter, and sets the map member to
NULL.</p>

<p>Table 1 XkbAllocClientMap Masks
--------------------------------------------------------------
Mask Effect
--------------------------------------------------------------
XkbKeyTypesMask The type_count field specifies the num- ber
of entries to preallocate for the types field of the client
map. If the type_count field is less than XkbNumRe-
quiredTypes returns BadValue.</p>

<p>XkbKeySymsMask The min_key_code and max_key_code fields
of the xkb parameter are used to allo- cate the syms and
key_sym_map fields of the client map. The fields are
allocated to contain the maximum number of entries necessary
for max_key_code - min_key_code + 1 keys.</p>

<p>XkbModifierMapMask The min_key_code and max_key_code
fields of the xkb parameter are used to allo- cate the
modmap field of the client map. The field is allocated to
contain the maximum number of entries necessary for
max_key_code - min_key_code + 1 keys.</p>

<p>NOTE: The min_key_code and max_key_code fields of the
xkb parameter must be legal values if the XkbKeySymsMask or
XkbModifierMapMask masks are set in the which parameter. If
they are not valid, XkbAlloc- ClientMap returns
BadValue.</p>

<p>STRUCTURES The complete description of an Xkb keyboard
is given by an XkbDescRec. The component structures in the
XkbDescRec represent the major Xkb components.</p>

<p>typedef struct { struct _XDisplay * display; /
connection to X server */ unsigned short flags; / private to
Xkb, do not modify */ unsigned short device_spec; / device
of interest */ KeyCode min_key_code; / minimum keycode for
device */ KeyCode max_key_code; / maximum keycode for device
*/ XkbControlsPtr ctrls; / controls */ XkbServerMapPtr
server; / server keymap */ XkbClientMapPtr map; / client
keymap */ XkbIndicatorPtr indicators; / indicator map */
XkbNamesPtr names; / names for all components */
XkbCompatMapPtr compat; / compatibility map */
XkbGeometryPtr geom; / physical geometry of keyboard */ }
XkbDescRec, *XkbDescPtr;</p>

<p>The display field points to an X display structure. The
flags field is private to the library: modifying flags may
yield unpredictable results. The device_spec field specifies
the device identifier of the keyboard input device, or
XkbUseCoreKeyboard, which specifies the core keyboard
device. The min_key_code and max_key_code fields specify the
least and greatest keycode that can be returned by the
keyboard.</p>

<p>Each structure component has a corresponding mask bit
that is used in function calls to indicate that the
structure should be manipulated in some manner, such as
allocating it or freeing it. These masks and their
relationships to the fields in the XkbDescRec are shown in
Table 2.</p>

<p>Table 2 Mask Bits for XkbDescRec
-------------------------------------------------- Mask Bit
XkbDescRec Field Value
--------------------------------------------------
XkbControlsMask ctrls (1L&lt;&lt;0) XkbServerMapMask server
(1L&lt;&lt;1) XkbIClientMapMask map (1L&lt;&lt;2)
XkbIndicatorMapMask indicators (1L&lt;&lt;3) XkbNamesMask
names (1L&lt;&lt;4) XkbCompatMapMask compat (1L&lt;&lt;5)
XkbGeometryMask geom (1L&lt;&lt;6) XkbAllComponentsMask All
Fields (0x7f)</p>

<p>The map field of the complete Xkb keyboard description
is a pointer to the Xkb client map, which is of type
XkbClientMapRec:</p>

<p>typedef struct { / Client Map */ unsigned char
size_types; / # occupied entries in types */ unsigned char
num_types; / # entries in types */ XkbKeyTypePtr types; /
vector of key types used by this keymap */ unsigned short
size_syms; / length of the syms array */ unsigned short
num_syms; / # entries in syms */ KeySym * syms; / linear 2d
tables of keysyms, 1 per key */ XkbSymMapPtr key_sym_map; /
1 per keycode, maps keycode to syms */ unsigned char *
modmap; / 1 per keycode, real mods bound to key */ }
XkbClientMapRec, *XkbClientMapPtr;</p>

<p>DIAGNOSTICS BadValue An argument is out of range</p>

<p>SEE ALSO XkbAllocClientMap(3)</p>

<p>X Version 11 libX11 1.6.3 XkbFreeClientMap(3)</p>
<hr>
</body>
</html>
