<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:28:10 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>PIC(1) PIC(1)</p>

<p>NAME pic - compile pictures for troff or TeX</p>

<p>SYNOPSIS pic [ -nvCSU ] [ filename ... ] pic -t [
-cvzCSU ] [ filename ... ]</p>

<p>DESCRIPTION This manual page describes the GNU version
of pic, which is part of the groff document formatting
system. pic compiles descriptions of pic- tures embedded
within troff or TeX input files into commands that are
understood by TeX or troff. Each picture starts with a line
beginning with .PS and ends with a line beginning with .PE.
Anything outside of .PS and .PE is passed through without
change.</p>

<p>It is the user s responsibility to provide appropriate
definitions of the PS and PE macros. When the macro package
being used does not sup- ply such definitions (for example,
old versions of -ms), appropriate definitions can be
obtained with -mpic: these will center each picture.</p>

<p>OPTIONS Options that do not take arguments may be
grouped behind a single -. The special option -- can be used
to mark the end of the options. A filename of - refers to
the standard input.</p>

<p>-C Recognize .PS and .PE even when followed by a
character other than space or newline.</p>

<p>-S Safer mode; do not execute sh commands. This can be
useful when operating on untrustworthy input. (enabled by
default)</p>

<p>-U Unsafe mode; revert the default option -S.</p>

<p>-n Don t use the groff extensions to the troff drawing
commands. You should use this if you are using a
postprocessor that doesnt support these extensions. The
extensions are described in groff_out(5). The -n option also
causes pic not to use zero- length lines to draw dots in
troff mode.</p>

<p>-t TeX mode.</p>

<p>-c Be more compatible with tpic. Implies -t. Lines
beginning with are not passed through transparently. Lines
beginning with . are passed through with the initial .
changed to . A line beginning with .ps is given special
treatment: it takes an optional integer argument specifying
the line thickness (pen size) in milliinches; a missing
argument restores the previous line thickness; the default
line thickness is 8 milliinches. The line thickness thus
specified takes effect only when a non- negative line
thickness has not been specified by use of the thickness
attribute or by setting the linethick variable.</p>

<p>-v Print the version number.</p>

<p>-z In TeX mode draw dots using zero-length lines.</p>

<p>The following options supported by other versions of pic
are ignored:</p>

<p>-D Draw all lines using the sequence. pic always does
this.</p>

<p>-T dev Generate output for the troff device dev. This is
unnecessary because the troff output generated by pic is
device-independent.</p>

<p>USAGE This section describes only the differences
between GNU pic and the original version of pic. Many of
these differences also apply to newer versions of Unix pic.
A complete documentation is available in the file</p>

<p>/usr/share/doc/groff/1.18.1.4/pic.ms</p>

<p>TeX mode TeX mode is enabled by the -t option. In TeX
mode, pic will define a vbox calledgraph for each picture.
You must yourself print that vbox using, for example, the
command</p>

<p>Actually, since the vbox has a height of zero this will
produce slightly more vertical space above the picture than
below it;</p>

<p>would avoid this.</p>

<p>You must use a TeX driver that supports the tpic
specials, version 2.</p>

<p>Lines beginning with are passed through transparently; a
% is added to the end of the line to avoid unwanted spaces.
You can safely use this feature to change fonts or to change
the value ofb aaselineskip. Anything else may well produce
undesirable results; use at your own risk. Lines beginning
with a period are not given any special treat- ment.</p>

<p>Commands for variable = expr1 to expr2 [by [*]expr3] do
X body X Set variable to expr1. While the value of variable
is less than or equal to expr2, do body and increment
variable by expr3; if by is not given, increment variable by
1. If expr3 is prefixed by * then variable will instead be
multiplied by expr3. X can be any character not occurring in
body.</p>

<p>if expr then X if-true X [else Y if-false Y] Evaluate
expr; if it is non-zero then do if-true, otherwise do
if-false. X can be any character not occurring in if-true. Y
can be any character not occurring in if-false.</p>

<p>print arg... Concatenate the arguments and print as a
line on stderr. Each arg must be an expression, a position,
or text. This is useful for debugging.</p>

<p>command arg... Concatenate the arguments and pass them
through as a line to troff or TeX. Each arg must be an
expression, a position, or text. This has a similar effect
to a line beginning with . or but allows the values of
variables to be passed through.</p>

<p>sh X command X Pass command to a shell. X can be any
character not occurring in command.</p>

<p>copy &quot;filename&quot; Include filename at this point
in the file.</p>

<p>copy [&quot;filename&quot;] thru X body X [until
&quot;word&quot;] copy [&quot;filename&quot;] thru macro
[until &quot;word&quot;] This construct does body once for
each line of filename; the line is split into
blank-delimited words, and occurrences of $i in body, for i
between 1 and 9, are replaced by the i-th word of the line.
If filename is not given, lines are taken from the current
input up to .PE. If an until clause is specified, lines will
be read only until a line the first word of which is word;
that line will then be discarded. X can be any character not
occurring in body. For example,</p>

<p>.PS copy thru % circle at ($1,$2) % until
&quot;END&quot; 1 2 3 4 5 6 END box .PE</p>

<p>is equivalent to</p>

<p>.PS circle at (1,2) circle at (3,4) circle at (5,6) box
.PE</p>

<p>The commands to be performed for each line can also be
taken from a macro defined earlier by giving the name of the
macro as the argument to thru.</p>

<p>reset reset variable1[,] variable2 ... Reset pre-defined
variables variable1, variable2 ... to their default values.
If no arguments are given, reset all pre- defined variables
to their default values. Note that assigning a value to
scale also causes all pre-defined variables that con- trol
dimensions to be reset to their default values times the new
value of scale.</p>

<p>plot expr [&quot;text&quot;] This is a text object which
is constructed by using text as a format string for sprintf
with an argument of expr. If text is omitted a format string
of &quot;%g&quot; is used. Attributes can be specified in
the same way as for a normal text object. Be very careful
that you specify an appropriate format string; pic does only
very limited checking of the string. This is deprecated in
favour of sprintf.</p>

<p>variable := expr This is similar to = except variable
must already be defined, and expr will be assigned to
variable without creating a vari- able local to the current
block. (By contrast, = defines the variable in the current
block if it is not already defined there, and then changes
the value in the current block only.) For example, the
following:</p>

<p>.PS x = 3 y = 3 [ x := 5 y = 5 ] print x &quot; &quot; y
.PE</p>

<p>prints 5 3.</p>

<p>Arguments of the form</p>

<p>X anything X</p>

<p>are also allowed to be of the form</p>

<p>{ anything }</p>

<p>In this case anything can contain balanced occurrences
of { and }. Strings may contain X or imbalanced occurrences
of { and }.</p>

<p>Expressions The syntax for expressions has been
significantly extended:</p>

<p>x ^ y (exponentiation) sin(x) cos(x) atan2(y, x) log(x)
(base 10) exp(x) (base 10, ie 10^x) sqrt(x) int(x) rand()
(return a random number between 0 and 1) rand(x) (return a
random number between 1 and x; deprecated) srand(x) (set the
random number seed) max(e1, e2) min(e1, e2) !e e1 &amp;&amp;
e2 e1 || e2 e1 == e2 e1 != e2 e1 &gt;= e2 e1 &gt; e2 e1
&lt;= e2 e1 &lt; e2 &quot;str1&quot; == &quot;str2&quot;
&quot;str1&quot; != &quot;str2&quot;</p>

<p>String comparison expressions must be parenthesised in
some contexts to avoid ambiguity.</p>

<p>Other Changes A bare expression, expr, is acceptable as
an attribute; it is equiva- lent to dir expr, where dir is
the current direction. For example</p>

<p>line 2i</p>

<p>means draw a line 2 inches long in the current
direction. The i (or I ) character is ignored; to use
another measurement unit, set the scale variable to an
appropriate value.</p>

<p>The maximum width and height of the picture are taken
from the vari- ables maxpswid and maxpsht. Initially these
have values 8.5 and 11.</p>

<p>Scientific notation is allowed for numbers. For example
x = 5e-2</p>

<p>Text attributes can be compounded. For example,
&quot;foo&quot; above ljust is legal.</p>

<p>There is no limit to the depth to which blocks can be
examined. For example, [A: [B: [C: box ]]] with .A.B.C.sw at
1,2 circle at last [].A.B.C is acceptable.</p>

<p>Arcs now have compass points determined by the circle of
which the arc is a part.</p>

<p>Circles and arcs can be dotted or dashed. In TeX mode
splines can be dotted or dashed.</p>

<p>Boxes can have rounded corners. The rad attribute
specifies the radius of the quarter-circles at each corner.
If no rad or diam attribute is given, a radius of boxrad is
used. Initially, boxrad has a value of 0. A box with rounded
corners can be dotted or dashed.</p>

<p>The .PS line can have a second argument specifying a
maximum height for the picture. If the width of zero is
specified the width will be ignored in computing the scaling
factor for the picture. Note that GNU pic will always scale
a picture by the same amount vertically as well as
horizontally. This is different from the DWB 2.0 pic which
may scale a picture by a different amount vertically than
horizontally if a height is specified.</p>

<p>Each text object has an invisible box associated with
it. The compass points of a text object are determined by
this box. The implicit motion associated with the object is
also determined by this box. The dimensions of this box are
taken from the width and height attributes; if the width
attribute is not supplied then the width will be taken to be
textwid; if the height attribute is not supplied then the
height will be taken to be the number of text strings
associated with the object times textht. Initially textwid
and textht have a value of 0.</p>

<p>In (almost all) places where a quoted text string can be
used, an expression of the form</p>

<p>sprintf(&quot;format&quot;, arg,...)</p>

<p>can also be used; this will produce the arguments
formatted according to format, which should be a string as
described in printf(3) appropri- ate for the number of
arguments supplied.</p>

<p>The thickness of the lines used to draw objects is
controlled by the linethick variable. This gives the
thickness of lines in points. A negative value means use the
default thickness: in TeX output mode, this means use a
thickness of 8 milliinches; in TeX output mode with the -c
option, this means use the line thickness specified by .ps
lines; in troff output mode, this means use a thickness
proportional to the pointsize. A zero value means draw the
thinnest possible line sup- ported by the output device.
Initially it has a value of -1. There is also a thick[ness]
attribute. For example,</p>

<p>circle thickness 1.5</p>

<p>would draw a circle using a line with a thickness of 1.5
points. The thickness of lines is not affected by the value
of the scale variable, nor by the width or height given in
the .PS line.</p>

<p>Boxes (including boxes with rounded corners), circles
and ellipses can be filled by giving them an attribute of
fill[ed]. This takes an optional argument of an expression
with a value between 0 and 1; 0 will fill it with white, 1
with black, values in between with a proportion- ally gray
shade. A value greater than 1 can also be used: this means
fill with the shade of gray that is currently being used for
text and lines. Normally this will be black, but output
devices may provide a mechanism for changing this. Without
an argument, then the value of the variable fillval will be
used. Initially this has a value of 0.5. The invisible
attribute does not affect the filling of objects. Any text
associated with a filled object will be added after the
object has been filled, so that the text will not be
obscured by the filling.</p>

<p>Three additional modifiers are available to specify
colored objects: outline[d] sets the color of the outline,
shaded the fill color, and colo[u]r[ed] sets both. All three
keywords expect a suffix specifying the color, for
example</p>

<p>circle shaded &quot;green&quot; outline
&quot;black&quot;</p>

<p>Currently, color support isn t available in TeX mode.
Predefined color names for groff are in the device macro
files, for example ps.tmac; additional colors can be defined
with the .defcolor request (see the manual page of troff(1)
for more details).</p>

<p>pic assumes that at the beginning of a picture both
glyph and fill color are set to the default value.</p>

<p>Arrow heads will be drawn as solid triangles if the
variable arrowhead is non-zero and either TeX mode is
enabled or the -n option has not been given. Initially
arrowhead has a value of 1. Note that solid arrow heads are
always filled with the current outline color.</p>

<p>The troff output of pic is device-independent. The -T
option is there- fore redundant. All numbers are taken to be
in inches; numbers are never interpreted to be in troff
machine units.</p>

<p>Objects can have an aligned attribute. This will only
work if the postprocessor is grops. Any text associated with
an object having the aligned attribute will be rotated about
the center of the object so that it is aligned in the
direction from the start point to the end point of the
object. Note that this attribute will have no effect for
objects whose start and end points are coincident.</p>

<p>In places where nth is allowedexpth is also allowed.
Note thatth is a single token: no space is allowed between
the and the th. For example,</p>

<p>for i = 1 to 4 do { line fromth box.nw toi+th box.se
}</p>

<p>CONVERSION To obtain a stand-alone picture from a pic
file, enclose your pic code with .PS and .PE requests; roff
configuration commands may be added at the beginning of the
file, but no roff text.</p>

<p>It is necessary to feed this file into groff without
adding any page information, so you must check which .PS and
.PE requests are actually called. For example, the mm macro
package adds a page number, which is very annoying. At the
moment, calling standard groff without any macro package
works. Alternatively, you can define your own requests, e.g.
to do nothing:</p>

<p>.de PS .. .de PE ..</p>

<p>groff itself does not provide direct conversion into
other graphics file formats. But there are lots of
possibilities if you first trans- form your picture into
PostScript&reg; format using the groff option -Tps. Since
this ps-file lacks BoundingBox information it is not very
useful by itself, but it may be fed into other conversion
programs, usually named ps2other or pstoother or the like.
Moreover, the PostScript interpreter ghostscript (gs) has
built-in graphics conversion devices that are called with
the option</p>

<p>gs -sDEVICE=&lt;devname&gt;</p>

<p>Call gs --help</p>

<p>for a list of the available devices.</p>

<p>As the Encapsulated PostScript File Format EPS is
getting more and more important, and the conversion wasnt
regarded trivial in the past you might be interested to know
that there is a conversion tool named ps2eps which does the
right job. It is much better than the tool ps2epsi packaged
with gs.</p>

<p>For bitmapped graphic formats, you should use pstopnm;
the resulting (intermediate) PNM file can be then converted
to virtually any graphics format using the tools of the
netpbm package .</p>

<p>FILES /usr/share/groff/1.18.1.4/tmac/pic.tmac Example
definitions of the PS and PE macros.</p>

<p>SEE ALSO troff(1), groff_out(5), tex(1), gs(1),
ps2eps(1), pstopnm(1), ps2epsi(1), pnm(5)</p>

<p>Tpic: Pic for TeX</p>

<p>Brian W. Kernighan, PIC A Graphics Language for
Typesetting (User Manual). AT&amp;T Bell Laboratories,
Computing Science Technical Report No. 116
&lt;http://cm.bell-labs.com/cm/cs/cstr/116.ps.gz&gt;
(revised May, 1991).</p>

<p>ps2eps is available from CTAN mirrors, e.g.
&lt;ftp://ftp.dante.de/tex-archive/support/ps2eps/&gt;</p>

<p>W. Richard Stevens - Turning PIC Into HTML
&lt;http://www.kohala.com/start/troff/pic2html.html&gt;</p>

<p>W. Richard Stevens - Examples of picMacros
&lt;http://www.kohala.com/start/troff/pic.examples.ps&gt;</p>

<p>BUGS Input characters that are invalid for groff (ie
those with ASCII code 0, or 013 octal, or between 015 and
037 octal, or between 0200 and 0237 octal) are rejected even
in TeX mode.</p>

<p>The interpretation of fillval is incompatible with the
pic in 10th edi- tion Unix, which interprets 0 as black and
1 as white.</p>

<p>PostScript&reg; is a registered trademark of Adobe
Systems Incorporation.</p>

<p>Groff Version 1.18.1.4 20 September 2002 PIC(1)</p>
<hr>
</body>
</html>
