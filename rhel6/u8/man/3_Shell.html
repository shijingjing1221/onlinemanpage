<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:34:18 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>Shell(3pm) Perl Programmers Reference Guide
Shell(3pm)</p>

<p>NAME Shell - run shell commands transparently within
perl</p>

<p>SYNOPSIS use Shell qw(cat ps cp); $passwd =
cat(&rsquo;&lt;/etc/passwd&rsquo;); @pslines =
ps(&rsquo;-ww&rsquo;), cp(&quot;/etc/passwd&quot;,
&quot;/tmp/passwd&quot;);</p>

<p># object oriented my $sh = Shell-&gt;new; print
$sh-&gt;ls(&rsquo;-l&rsquo;);</p>

<p>DESCRIPTION Caveats This package is included as a show
case, illustrating a few Perl features. It shouldn t be used
for production programs. Although it does provide a simple
interface for obtaining the standard output of arbitrary
commands, there may be better ways of achieving what you
need.</p>

<p>Running shell commands while obtaining standard output
can be done with the &quot;qx/STRING/&quot; operator, or by
calling &quot;open&quot; with a filename expression that
ends with &quot;|&quot;, giving you the option to process
one line at a time. If you dont need to process standard
output at all, you might use &quot;system&quot; (in
preference of doing a print with the collected standard
output).</p>

<p>Since Shell.pm and all of the aforementioned techniques
use your systems shell to call some local command, none of
them is portable across different systems. Note, however,
that there are several built in functions and library
packages providing portable implementations of functions
operating on files, such as: &quot;glob&quot;,
&quot;link&quot; and &quot;unlink&quot;, &quot;mkdir&quot;
and &quot;rmdir&quot;, &quot;rename&quot;,
&quot;File::Compare&quot;, &quot;File::Copy&quot;,
&quot;File::Find&quot; etc.</p>

<p>Using Shell.pm while importing &quot;foo&quot; creates a
subroutine &quot;foo&quot; in the namespace of the importing
package. Calling &quot;foo&quot; with arguments
&quot;arg1&quot;, &quot;arg2&quot;,... results in a shell
command &quot;foo arg1 arg2...&quot;, where the function
name and the arguments are joined with a blank. (See the
subsection on Escaping magic characters.) Since the result
is essentially a command line to be passed to the shell,
your notion of arguments to the Perl function is not
necessarily identical to what the shell treats as a command
line token, to be passed as an individual argument to the
program. Furthermore, note that this implies that
&quot;foo&quot; is callable by file name only, which
frequently depends on the setting of the programs
environment.</p>

<p>Creating a Shell object gives you the opportunity to
call any command in the usual OO notation without requiring
you to announce it in the &quot;use Shell&quot; statement.
Don t assume any additional semantics being associated with
a Shell object: in no way is it similar to a shell process
with its environment or current working directory or any
other setting.</p>

<p>Escaping Magic Characters It is, in general, impossible
to take care of quoting the shells magic characters. For
some obscure reason, however, Shell.pm quotes apostrophes
(&quot;&rsquo;&quot;) and backslashes (&quot;
(&quot;&quot;&quot;) on Windows.</p>

<p>Configuration If you set $Shell::capture_stderr to 1,
the module will attempt to capture the standard error output
of the process as well. This is done by adding
&quot;2&gt;&amp;1&quot; to the command line, so dont try
this on a system not supporting this redirection.</p>

<p>Setting $Shell::capture_stderr to -1 will send standard
error to the bit bucket (i.e., the equivalent of adding
&quot;2&gt;/dev/null&quot; to the command line). The same
caveat regarding redirection applies.</p>

<p>If you set $Shell::raw to true no quoting whatsoever is
done.</p>

<p>BUGS Quoting should be off by default.</p>

<p>It isnt possible to call shell built in commands, but it
can be done by using a workaround, e.g. shell( -c, set
).</p>

<p>Capturing standard error does not work on some systems
(e.g. VMS).</p>

<p>AUTHOR Date: Thu, 22 Sep 94 16:18:16 -0700 Message-Id:
&lt;9409222318.AA17072@scalpel.netlabs.com&gt; To:
perl5-porters@isu.edu From: Larry Wall
&lt;lwall@scalpel.netlabs.com&gt; Subject: a new module I
just wrote</p>

<p>Heres one thatll whack your mind a little out.</p>

<p>#!/usr/bin/perl</p>

<p>use Shell;</p>

<p>$foo = echo(&quot;howdy&quot;,
&quot;&lt;funny&gt;&quot;, &quot;world&quot;); print
$foo;</p>

<p>$passwd = cat(&quot;&lt;/etc/passwd&quot;); print
$passwd;</p>

<p>sub ps; print ps -ww;</p>

<p>cp(&quot;/etc/passwd&quot;,
&quot;/etc/passwd.orig&quot;);</p>

<p>Thats maybe too gonzo. It actually exports an AUTOLOAD
to the current package (and uncovered a bug in Beta 3, by
the way). Maybe the usual usage should be</p>

<p>use Shell qw(echo cat ps cp);</p>

<p>Larry Wall</p>

<p>Changes by Jenda@Krynicky.cz and Dave Cottle
&lt;d.cottle@csc.canterbury.ac.nz&gt;.</p>

<p>Changes for OO syntax and bug fixes by Casey West
&lt;casey@geeknest.com&gt;.</p>

<p>$Shell::raw and pod rewrite by Wolfgang Laun.</p>

<p>Rewritten to use closures rather than &quot;eval
&quot;string&quot;&quot; by Adriano Ferreira.</p>

<p>perl v5.10.1 2009-02-12 Shell(3pm)</p>
<hr>
</body>
</html>
