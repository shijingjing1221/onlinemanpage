<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:43:55 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>virt-tar(1) Virtualization Support virt-tar(1)</p>

<p>NAME virt-tar - Extract or upload files to a virtual
machine</p>

<p>SYNOPSIS virt-tar [--options] -x domname directory
tarball</p>

<p>virt-tar [--options] -u domname tarball directory</p>

<p>virt-tar [--options] disk.img [disk.img ...] -x
directory tarball</p>

<p>virt-tar [--options] disk.img [disk.img ...] -u tarball
directory</p>

<p>OBSOLETE This tool is obsolete. Use virt-copy-in(1),
virt-copy-out(1), virt-tar-in(1), virt-tar-out(1) as
replacements.</p>

<p>EXAMPLES Download &quot;/home&quot; from the VM into a
local tarball:</p>

<p>virt-tar -x domname /home home.tar</p>

<p>virt-tar -zx domname /home home.tar.gz</p>

<p>Upload a local tarball and unpack it inside
&quot;/tmp&quot; in the VM:</p>

<p>virt-tar -u domname uploadstuff.tar /tmp</p>

<p>virt-tar -zu domname uploadstuff.tar.gz /tmp</p>

<p>WARNING You must not use &quot;virt-tar&quot; with the
-u option (upload) on live virtual machines. If you do this,
you risk disk corruption in the VM. &quot;virt-tar&quot;
tries to stop you from doing this, but doesn t catch all
cases.</p>

<p>You can use -x (extract) on live virtual machines, but
you might get inconsistent results or errors if there is
filesystem activity inside the VM. If the live VM is synched
and quiescent, then &quot;virt-tar&quot; will usually work,
but the only way to guarantee consistent results is if the
virtual machine is shut down.</p>

<p>DESCRIPTION &quot;virt-tar&quot; is a general purpose
archive tool for downloading and uploading parts of a guest
filesystem. There are many possibilities: making backups,
uploading data files, snooping on guest activity, fixing or
customizing guests, etc.</p>

<p>If you want to just view a single file, use virt-cat(1).
If you just want to edit a single file, use virt-edit(1).
For more complex cases you should look at the guestfish(1)
tool.</p>

<p>There are two modes of operation: -x (eXtract) downloads
a directory and its contents (recursively) from the virtual
machine into a local tarball. -u uploads from a local
tarball, unpacking it into a directory inside the virtual
machine. You cannot use these two options together.</p>

<p>In addition, you may need to use the -z (gZip) option to
enable compression. When uploading, you have to specify -z
if the upload file is compressed because virt-tar wont
detect this on its own.</p>

<p>&quot;virt-tar&quot; can only handle tar (optionally
gzipped) format tarballs. For example it cannot do PKZip
files or bzip2 compression. If you want that then you ll
have to rebuild the tarballs yourself. (This is a limitation
of the libguestfs(3) API).</p>

<p>OPTIONS --help Display brief help.</p>

<p>--version Display version number and exit.</p>

<p>-c URI --connect URI If using libvirt, connect to the
given URI. If omitted, then we connect to the default
libvirt hypervisor.</p>

<p>If you specify guest block devices directly, then
libvirt is not used at all.</p>

<p>--format raw Specify the format of disk images given on
the command line. If this is omitted then the format is
autodetected from the content of the disk image.</p>

<p>If disk images are requested from libvirt, then this
program asks libvirt for this information. In this case, the
value of the format parameter is ignored.</p>

<p>If working with untrusted raw-format guest disk images,
you should ensure the format is always specified.</p>

<p>-x --extract --download -u --upload Use -x to extract
(download) a directory from a virtual machine to a local
tarball.</p>

<p>Use -u to upload and unpack from a local tarball into a
virtual machine. Please read the &quot;WARNING&quot; section
above before using this option.</p>

<p>You must specify exactly one of these options.</p>

<p>-z --gzip Specify that the input or output tarball is
gzip-compressed.</p>

<p>SHELL QUOTING Libvirt guest names can contain arbitrary
characters, some of which have meaning to the shell such as
&quot;#&quot; and space. You may need to quote or escape
these characters on the command line. See the shell manual
page sh(1) for details.</p>

<p>SEE ALSO guestfs(3), guestfish(1), virt-cat(1),
virt-edit(1), virt-copy-in(1), virt-copy-out(1),
virt-tar-in(1), virt-tar-out(1), Sys::Guestfs(3),
Sys::Guestfs::Lib(3), Sys::Virt(3),
http://libguestfs.org/.</p>

<p>AUTHOR Richard W.M. Jones
http://people.redhat.com/~rjones/</p>

<p>COPYRIGHT Copyright (C) 2009 Red Hat Inc.</p>

<p>LICENSE This program is free software; you can
redistribute it and/or modify it under the terms of the GNU
General Public License as published by the Free Software
Foundation; either version 2 of the License, or (at your
option) any later version.</p>

<p>This program is distributed in the hope that it will be
useful, but WITHOUT ANY WARRANTY; without even the implied
warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
PURPOSE. See the GNU General Public License for more
details.</p>

<p>You should have received a copy of the GNU General
Public License along with this program; if not, write to the
Free Software Foundation, Inc., 51 Franklin Street, Fifth
Floor, Boston, MA 02110-1301 USA.</p>

<p>BUGS To get a list of bugs against libguestfs, use this
link:
https://bugzilla.redhat.com/buglist.cgi?component=libguestfs&amp;product=Virtualization+Tools</p>

<p>To report a new bug against libguestfs, use this link:
https://bugzilla.redhat.com/enter_bug.cgi?component=libguestfs&amp;product=Virtualization+Tools</p>

<p>When reporting a bug, please supply:</p>

<p>&middot; The version of libguestfs.</p>

<p>&middot; Where you got libguestfs (eg. which Linux
distro, compiled from source, etc)</p>

<p>&middot; Describe the bug accurately and give a way to
reproduce it.</p>

<p>&middot; Run libguestfs-test-tool(1) and paste the
complete, unedited output into the bug report.</p>

<p>libguestfs-1.20.11 2013-08-27 virt-tar(1)</p>
<hr>
</body>
</html>
