<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:43:44 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>VFS_RECYCLE(8) System Administration tools
VFS_RECYCLE(8)</p>

<p>NAME vfs_recycle - Samba VFS recycle bin</p>

<p>SYNOPSIS vfs objects = recycle</p>

<p>DESCRIPTION This VFS module is part of the samba(7)
suite.</p>

<p>The vfs_recycle intercepts file deletion requests and
moves the affected files to a temporary repository rather
than deleting them immediately. This gives the same effect
as the Recycle Bin on Windows computers.</p>

<p>The Recycle Bin will not appear in Windows Explorer
views of the network file system (share) nor on any mapped
drive. Instead, a directory called .recycle will be
automatically created when the first file is deleted and
recycle:repository is not configured. If recycle:repository
is configured, the name of the created directory depends on
recycle:repository. Users can recover files from the recycle
bin. If the recycle:keeptree option has been specified,
deleted files will be found in a path identical with that
from which the file was deleted.</p>

<p>This module is stackable.</p>

<p>OPTIONS recycle:repository = PATH Path of the directory
where deleted files should be moved.</p>

<p>If this option is not set, the default path .recycle is
used.</p>

<p>recycle:directory_mode = MODE Set MODE to the octal mode
the recycle repository should be created with. The recycle
repository will be created when first file is deleted. If
recycle:subdir_mode is not set, MODE also applies to
subdirectories.</p>

<p>If this option is not set, the default mode 0700 is
used.</p>

<p>recycle:subdir_mode = MODE Set MODE to the octal mode
with which sub directories of the recycle repository should
be created.</p>

<p>If this option is not set, subdirectories will be
created with the mode from recycle:directory_mode.</p>

<p>recycle:keeptree = BOOL Specifies whether the directory
structure should be preserved or whether the files in a
directory that is being deleted should be kept separately in
the repository.</p>

<p>recycle:versions = BOOL If this option is True, two
files with the same name that are deleted will both be kept
in the repository. Newer deleted versions of a file will be
called &quot;Copy #x of filename&quot;.</p>

<p>recycle:touch = BOOL Specifies whether a file&rsquo;s
access date should be updated when the file is moved to the
repository.</p>

<p>recycle:touch_mtime = BOOL Specifies whether a
file&rsquo;s last modified date should be updated when the
file is moved to the repository.</p>

<p>recycle:minsize = BYTES Files that are smaller than the
number of bytes specified by this parameter will not be put
into the repository.</p>

<p>recycle:maxsize = BYTES Files that are larger than the
number of bytes specified by this parameter will not be put
into the repository.</p>

<p>recycle:exclude = LIST List of files that should not be
put into the repository when deleted, but deleted in the
normal way. Wildcards such as * and ? are supported.</p>

<p>recycle:exclude_dir = LIST List of directories whose
files should not be put into the repository when deleted,
but deleted in the normal way. Wildcards such as * and ? are
supported.</p>

<p>recycle:noversions = LIST Specifies a list of paths
(wildcards such as * and ? are supported) for which no
versioning should be used. Only useful when recycle:versions
is enabled.</p>

<p>EXAMPLES Move files &quot;deleted&quot; on share to
/data/share/.recycle instead of deleting them:</p>

<p>[share] path = /data/share vfs objects = recycle
recycle:repository = .recycle recycle:keeptree = yes
recycle:versions = yes</p>

<p>VERSION This man page is correct for version 3.0.25 of
the Samba suite.</p>

<p>AUTHOR The original Samba software and related utilities
were created by Andrew Tridgell. Samba is now developed by
the Samba Team as an Open Source project similar to the way
the Linux kernel is developed.</p>

<p>Samba 3.6 04/11/2016 VFS_RECYCLE(8)</p>
<hr>
</body>
</html>
