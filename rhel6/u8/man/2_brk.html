<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:06:50 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>BRK(2) Linux Programmer s Manual BRK(2)</p>

<p>NAME brk, sbrk - change data segment size</p>

<p>SYNOPSIS #include &lt;unistd.h&gt;</p>

<p>int brk(void *addr);</p>

<p>void *sbrk(intptr_t increment);</p>

<p>Feature Test Macro Requirements for glibc (see
feature_test_macros(7)):</p>

<p>brk(), sbrk(): _BSD_SOURCE || _SVID_SOURCE ||
_XOPEN_SOURCE &gt;= 500</p>

<p>DESCRIPTION brk() and sbrk() change the location of the
program break, which defines the end of the processs data
segment (i.e., the program break is the first location after
the end of the uninitialized data segment). Increasing the
program break has the effect of allocating memory to the
process; decreasing the break deallocates memory.</p>

<p>brk() sets the end of the data segment to the value
specified by addr, when that value is reasonable, the system
has enough memory, and the process does not exceed its
maximum data size (see setrlimit(2)).</p>

<p>sbrk() increments the program s data space by increment
bytes. Calling sbrk() with an increment of 0 can be used to
find the current location of the program break.</p>

<p>RETURN VALUE On success, brk() returns zero. On error,
-1 is returned, and errno is set to ENOMEM. (But see Linux
Notes below.)</p>

<p>On success, sbrk() returns the previous program break.
(If the break was increased, then this value is a pointer to
the start of the newly allocated memory). On error, (void *)
-1 is returned, and errno is set to ENOMEM.</p>

<p>CONFORMING TO 4.3BSD; SUSv1, marked LEGACY in SUSv2,
removed in POSIX.1-2001.</p>

<p>NOTES Avoid using brk() and sbrk(): the malloc(3) memory
allocation package is the portable and comfortable way of
allocating memory.</p>

<p>Various systems use various types for the argument of
sbrk(). Common are int, ssize_t, ptrdiff_t, intptr_t.</p>

<p>Linux Notes The return value described above for brk()
is the behavior provided by the glibc wrapper function for
the Linux brk() system call. (On most other implementations,
the return value from brk() is the same; this return value
was also specified in SUSv2.) However, the actual Linux
system call returns the new program break on success. On
failure, the system call returns the current break. The
glibc wrapper function does some work (i.e., checks whether
the new break is less than addr) to provide the 0 and -1
return values described above.</p>

<p>On Linux, sbrk() is implemented as a library function
that uses the brk() system call, and does some internal
bookkeeping so that it can return the old break value.</p>

<p>SEE ALSO execve(2), getrlimit(2), end(3), malloc(3)</p>

<p>COLOPHON This page is part of release 3.22 of the Linux
man-pages project. A description of the project, and
information about reporting bugs, can be found at
http://www.kernel.org/doc/man-pages/.</p>

<p>Linux 2008-06-18 BRK(2)</p>
<hr>
</body>
</html>
