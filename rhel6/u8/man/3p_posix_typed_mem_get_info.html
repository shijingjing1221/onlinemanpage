<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:28:47 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>POSIX_TYPED_MEM_GET_INFO(3PPOSIX Programmer s
ManuPOSIX_TYPED_MEM_GET_INFO(3P)</p>

<p>PROLOG This manual page is part of the POSIX Programmer
s Manual. The Linux implementation of this interface may
differ (consult the corresponding Linux manual page for
details of Linux behavior), or the interface may not be
implemented on Linux.</p>

<p>NAME posix_typed_mem_get_info - query typed memory
information (ADVANCED REALTIME)</p>

<p>SYNOPSIS #include &lt;sys/mman.h&gt;</p>

<p>int posix_typed_mem_get_info(int fildes, struct
posix_typed_mem_info *info);</p>

<p>DESCRIPTION The posix_typed_mem_get_info() function
shall return, in the posix_tmi_length field of the
posix_typed_mem_info structure pointed to by info, the
maximum length which may be successfully allocated by the
typed memory object designated by fildes. This maximum
length shall take into account the flag
POSIX_TYPED_MEM_ALLOCATE or POSIX_TYPED_MEM_ALLOCATE_CONTIG
specified when the typed memory object represented by fildes
was opened. The maximum length is dynamic; there- fore, the
value returned is valid only while the current mapping of
the corresponding typed memory pool remains unchanged.</p>

<p>If fildes represents a typed memory object opened with
neither the POSIX_TYPED_MEM_ALLOCATE flag nor the
POSIX_TYPED_MEM_ALLOCATE_CONTIG flag specified, the returned
value of info-&gt;posix_tmi_length is unspec- ified.</p>

<p>The posix_typed_mem_get_info() function may return
additional implemen- tation-defined information in other
fields of the posix_typed_mem_info structure pointed to by
info.</p>

<p>If the memory object specified by fildes is not a typed
memory object, then the behavior of this function is
undefined.</p>

<p>RETURN VALUE Upon successful completion, the
posix_typed_mem_get_info() function shall return zero;
otherwise, the corresponding error status value shall be
returned.</p>

<p>ERRORS The posix_typed_mem_get_info() function shall
fail if:</p>

<p>EBADF The fildes argument is not a valid open file
descriptor.</p>

<p>ENODEV The fildes argument is not connected to a memory
object sup- ported by this function.</p>

<p>This function shall not return an error code of
[EINTR].</p>

<p>The following sections are informative.</p>

<p>EXAMPLES None.</p>

<p>APPLICATION USAGE None.</p>

<p>RATIONALE An application that needs to allocate a block
of typed memory with length dependent upon the amount of
memory currently available must either query the typed
memory object to obtain the amount available, or repeatedly
invoke mmap() attempting to guess an appropriate length.
While the latter method is existing practice with malloc(),
it is awk- ward and imprecise. The
posix_typed_mem_get_info() function allows an application to
immediately determine available memory. This is particu-
larly important for typed memory objects that may in some
cases be scarce resources. Note that when a typed memory
pool is a shared resource, some form of mutual-exclusion or
synchronization may be required while typed memory is being
queried and allocated to prevent race conditions.</p>

<p>The existing fstat() function is not suitable for this
purpose. We realize that implementations may wish to provide
other attributes of typed memory objects (for example,
alignment requirements, page size, and so on). The fstat()
function returns a structure which is not extensible and,
furthermore, contains substantial information that is
inappropriate for typed memory objects.</p>

<p>FUTURE DIRECTIONS None.</p>

<p>SEE ALSO fstat(), mmap(), posix_typed_mem_open(), the
Base Definitions volume of IEEE Std 1003.1-2001,
&lt;sys/mman.h&gt;</p>

<p>COPYRIGHT Portions of this text are reprinted and
reproduced in electronic form from IEEE Std 1003.1, 2003
Edition, Standard for Information Technology -- Portable
Operating System Interface (POSIX), The Open Group Base
Specifications Issue 6, Copyright (C) 2001-2003 by the
Institute of Electrical and Electronics Engineers, Inc and
The Open Group. In the event of any discrepancy between this
version and the original IEEE and The Open Group Standard,
the original IEEE and The Open Group Standard is the referee
document. The original Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>

<p>IEEE/The Open Group 2003
POSIX_TYPED_MEM_GET_INFO(3P)</p>
<hr>
</body>
</html>
