<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:43:10 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>USB_AUTOPM_GET_INTER(9) USB Core APIs
USB_AUTOPM_GET_INTER(9)</p>

<p>NAME usb_autopm_get_interface - increment a USB
interface&acute;s PM-usage counter</p>

<p>SYNOPSIS int usb_autopm_get_interface(struct
usb_interface * intf);</p>

<p>ARGUMENTS intf the usb_interface whose counter should be
incremented</p>

<p>DESCRIPTION This routine should be called by an
interface driver when it wants to use intf and needs to
guarantee that it is not suspended. In addition, the routine
prevents intf from being autosuspended subsequently. (Note
that this will not prevent suspend events originating in the
PM core.) This prevention will persist until
usb_autopm_put_interface is called or intf is unbound. A
typical example would be a character-device driver when its
device file is opened.</p>

<p>The routine increments intf&acute;s usage counter.
(However if the autoresume fails then the counter is
re-decremented.) So long as the counter is greater than 0,
autosuspend will not be allowed for intf or its usb_device.
When the driver is finished using intf it should call
usb_autopm_put_interface to decrement the usage counter and
queue a delayed autosuspend request (if the counter is &lt;=
0).</p>

<p>Note that intf-&gt;pm_usage_cnt is owned by the
interface driver. The core will not change its value other
than the increment and decrement in usb_autopm_get_interface
and usb_autopm_put_interface. The driver may use this simple
counter-oriented discipline or may set the value any way it
likes.</p>

<p>Resume method calls generated by this routine can arrive
at any time while intf is suspended. They are not protected
by the usb_device&acute;s lock but only by its pm_mutex.
Drivers must provide their own synchronization.</p>

<p>This routine can run only in process context.</p>

<p>COPYRIGHT Kernel Hackers Manual 2.6. April 2016
USB_AUTOPM_GET_INTER(9)</p>
<hr>
</body>
</html>
