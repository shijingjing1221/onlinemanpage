<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:06:51 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>BSMTP(1) Network backup, recovery and verification
BSMTP(1)</p>

<p>NAME bsmtp - Baculas SMTP client (mail submission
program)</p>

<p>SYNOPSIS bsmtp [options] &lt;recipient&gt;
&lt;...&gt;</p>

<p>DESCRIPTION bsmtp is a simple mail user agent designed
to permit more flexibility than the standard mail programs
typically found on Unix systems, and to ease portability. It
can even run on Windows machines. It is used by the Director
daemon to send notifications and requests to the
operator.</p>

<p>OPTIONS -8 Encode the mail in UTF-8.</p>

<p>-c Set the Cc: header.</p>

<p>-d nn Set debug level to nn.</p>

<p>-dt Print timestamp in debug output.</p>

<p>-f Set the From: header. If not specified, bsmtp will
try to use your username.</p>

<p>-h mailhost:port Use mailhost:port as the SMTP server.
(default port: 25)</p>

<p>-s Set the Subject: header.</p>

<p>-r Set the Reply-To:: header.</p>

<p>-l Set the maximum number of lines to be sent. (default:
unlimited)</p>

<p>-? Show version and usage of program.</p>

<p>USAGE recipients is a space separated list of email
addresses.</p>

<p>The body of the email message is read from standard
input. Message is ended by sending the EOF character (Ctrl-D
on many systems) on the start of a new line, much like many
mail commands.</p>

<p>The actual, automated behavior of bsmtp will depend on
the mail-related configuration of the Director in the
Messages ressource of bacula- dir.conf.</p>

<p>Interactive use of bsmtp is pertinent to manually test
and ensure these configuration bits are valid. This is
highly recommended.</p>

<p>CONFIGURATION These commands should each appear on a
single line in the configuration file.</p>

<p>Messages { Name = Standard mailcommand =
&quot;/home/bacula/bin/bsmtp -h mail.domain.com -f -s
operatorcommand = &quot;/home/bacula/bin/bsmtp -h
mail.domain.com -f -s mail = sysadmin@site.domain.com = all,
!skipped operator = sysop@site.domain.com = mount console =
all, !skipped, !saved }</p>

<p>home/bacula/bin is replaced with the path to the Bacula
binary direc- tory, and mail.domain.com is replaced with the
fully qualified name of an SMTP server, which usually listen
on port 25.</p>

<p>ENVIRONMENT If the -h option is not specified, bsmtp
will use environment variable SMTPSERVER, or localhost if
not set.</p>

<p>NOTES Since bsmtp always uses a TCP connection rather
than writing to a spool file, you may find that your From:
address is being rejected because it does not contain a
valid domain, or because your message has gotten caught in
spam filtering rules. Generally, you should specify a fully
qualified domain name in the from field, and depending on
whether your SMTP gateway is Exim or Sendmail, you may need
to modify the syntax of the from part of the message.</p>

<p>If bsmtp cannot connect to the specified mail host, it
will retry to connect to localhost.</p>

<p>BUGS If you are getting incorrect dates (e.g. 1970) and
you are running with a non-English locale, you might try
setting the LANG=&quot;en_US&quot; environ- ment
variable.</p>

<p>AUTHOR This manual page was written by Jose Luis Tallon
&lt;jltallon@adv-solutions.net&gt;, revised and edited by
Lucas B. Cohen &lt;lbc@members.fsf.org&gt;.</p>

<p>SEE ALSO bacula-dir(8)</p>

<p>Kern Sibbald 6 December 2009 BSMTP(1)</p>
<hr>
</body>
</html>
