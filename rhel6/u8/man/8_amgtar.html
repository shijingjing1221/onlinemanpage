<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:04:31 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>AMGTAR(8) System Administration Commands AMGTAR(8)</p>

<p>NAME amgtar - Amanda Application to interface with GNU
Tar</p>

<p>DESCRIPTION Amgtar is an Amanda Application API script.
It should not be run by users directly. It uses GNU Tar to
backup and restore data.</p>

<p>PROPERTIES This section lists the properties that
control amgtar&acute;s functionality. See
amanda-applications(7) for information on application
properties and how they are configured.</p>

<p>ATIME-PRESERVE</p>

<p>If &quot;YES&quot; (the default), amgtar use the
--atime-preserve=system option of gnutar to not update the
atime of all files accessed; if &quot;NO&quot;, gnutar will
updates the atime for all files accessed. This property
works only if you have gnutar 1.15.90 or newer, if not, you
must set ATIME_PRESERVE to &quot;NO&quot;.</p>

<p>CHECK-DEVICE</p>

<p>If &quot;YES&quot; (the default), amgtar checks that the
device number doesn&acute;t change for each file. If
&quot;NO&quot;, changes in device number are ignored. To
ignore device numbers, tar must support the
--no-check-device option (gnutar 1.19.90 and newer). This
option is needed for some filesystems and devices on which
device numbers change frequently, such as LVM or
FiberChannel.</p>

<p>DIRECTORY</p>

<p>If set, gnutar will backup from that directory instead
of the diskdevice set by the DLE.</p>

<p>GNUTAR-LISTDIR</p>

<p>The directory where gnutar stores the database it uses
to generate incremental dumps. The default is set when
Amanda is built.</p>

<p>GNUTAR-PATH</p>

<p>The path to the gnutar binary. The default is set when
Amanda is built.</p>

<p>ONE-FILE-SYSTEM</p>

<p>If &quot;YES&quot; (the default), do not allow gnutar to
cross filesystem boundaries. If &quot;NO&quot;, gnutar will
cross filesystem boundaries. This corresponds to the
--one-filesystem option of gnutar.</p>

<p>TAR-BLOCKSIZE</p>

<p>Block size of Nx512 bytes (default N=20). This
corresponds to the --blocking-factor option of gnutar.</p>

<p>SPARSE</p>

<p>If &quot;YES&quot; (the default), gnutar will store
sparse files efficiently. If &quot;NO&quot;, then the
--sparse option is not given to gnutar, and it will not try
to detect sparse files.</p>

<p>EXIT-HANDLING</p>

<p>List which exit status of gtar are good or bad. eg.
&quot;1=GOOD 2=BAD&quot;, exit status of 1 will produce a
good backup, exit status of 2 will give an error.</p>

<p>NORMAL</p>

<p>List all regex (POSIX Extended Regular Expression
syntax) that are normal output from gtar. These output are
in the &quot;FAILED DUMP DETAILS&quot; section of the email
report if the dump result is STRANGE or FAILED. Default
values: &quot;^could not open conf file&quot; &quot;^Elapsed
time:&quot; &quot;^Throughput&quot; &quot;: socket
ignored$&quot; &quot;: File .* shrunk by [0-9][0-9]* bytes,
padding with zeros&quot; &quot;: Cannot add file .*: No such
file or directory$&quot; &quot;: Error exit delayed from
previous errors&quot; To treat one of these default patterns
differently, specify it explicitly in a different
property.</p>

<p>IGNORE</p>

<p>List all regex (POSIX Extended Regular Expression
syntax) that amanda ignore. These output are never in the
email report. Default values: &quot;: Directory is
new$&quot; &quot;: Directory has been renamed&quot; To treat
one of these default patterns differently, specify it
explicitly in a different property.</p>

<p>STRANGE</p>

<p>List all regex (POSIX Extended Regular Expression
syntax) that are strange output from gtar. All gtar output
that doesn&acute;t match a normal or ignore regex are
strange by default. The result of the dump is STRANGE if
gtar produce a strange output. These output are in the
&quot;FAILED DUMP DETAILS&quot; section of the email
report.</p>

<p>EXAMPLE define application-tool app_amgtar { property
&quot;ATIME-PRESERVE&quot; &quot;NO&quot; property
&quot;CHECK-DEVICE&quot; &quot;YES&quot; property
&quot;GNUTAR-LISTDIR&quot; &quot; property
&quot;GNUTAR-PATH&quot; &quot;/bin/tar&quot; property
&quot;ONE-FILE-SYSTEM&quot; &quot;YES&quot; property
&quot;TAR_BLOCKSIZE&quot; &quot;20&quot; property
&quot;SPARSE&quot; &quot;YES&quot; property
&quot;EXIT-HANDLING&quot; &quot;1=GOOD 2=BAD&quot; # change
a default NORMAL regex to a STRANGE regex. property
&quot;STRANGE&quot; &quot;: socket ignored$&quot; # add
three new IGNORE regex property &quot;IGNORE&quot; &quot;:
Directory is new$&quot; property append &quot;IGNORE&quot;
&quot;: Directory has been renamed&quot; property append
&quot;IGNORE&quot; &quot;file changed as we read it$&quot;
}</p>

<p>SEE ALSO amanda.conf(5), amanda-applications(7)</p>

<p>AUTHORS Jean-Louis Martineau
&lt;martineau@zmanda.com&gt; Zmanda, Inc.
(http://www.zmanda.com)</p>

<p>Dustin J. Mitchell &lt;dustin@zmanda.com&gt; Zmanda,
Inc. (http://www.zmanda.com)</p>

<p>Amanda 2.6.1p2 11/05/2009 AMGTAR(8)</p>
<hr>
</body>
</html>
