<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:43:43 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>VFS_FILEID(8) System Administration tools
VFS_FILEID(8)</p>

<p>NAME vfs_fileid - Generates file_id structs with unique
device id values for cluster setups</p>

<p>SYNOPSIS vfs objects = fileid</p>

<p>DESCRIPTION This VFS module is part of the samba(7)
suite.</p>

<p>Samba uses file_id structs to uniquely identify files
for locking purpose. By default the file_id contains the
device and inode number returned by the stat() system call.
As the file_id is a unique identifier of a file, it must be
the same on all nodes in a cluster setup. This module
overloads the SMB_VFS_FILE_ID_CREATE() operation and
generates the device number based on the configured
algorithm (see the &quot;fileid:algorithm&quot; option).</p>

<p>OPTIONS fileid:algorithm = ALGORITHM Available
algorithms are fsname and fsid. The default value is
fsname.</p>

<p>The fsname algorithm generates device id by hashing the
kernel device name.</p>

<p>The fsid algorithm generates the device id from the
f_fsid returned from the statfs() syscall.</p>

<p>fileid:mapping = ALGORITHM This option is the legacy
version of the fileid:algorithm option, which was used in
earlier versions of fileid mapping feature in custom Samba
3.0 versions.</p>

<p>EXAMPLES Usage of the fileid module with the fsid
algorithm:</p>

<p>[global] vfs objects = fileid fileid:algorithm =
fsid</p>

<p>VERSION This man page is correct for version 3.2 of the
Samba suite.</p>

<p>AUTHOR The original Samba software and related utilities
were created by Andrew Tridgell. Samba is now developed by
the Samba Team as an Open Source project similar to the way
the Linux kernel is developed.</p>

<p>Samba 3.6 04/11/2016 VFS_FILEID(8)</p>
<hr>
</body>
</html>
