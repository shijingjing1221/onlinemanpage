<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:36:34 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>STRUCT FF_DEVICE(9) Input Subsystem STRUCT
FF_DEVICE(9)</p>

<p>NAME struct_ff_device - force-feedback part of an input
device</p>

<p>SYNOPSIS struct ff_device { int (* upload) (struct
input_dev *dev, struct ff_effect *effect,struct ff_effect
*old); int (* erase) (struct input_dev *dev, int effect_id);
int (* playback) (struct input_dev *dev, int effect_id, int
value); void (* set_gain) (struct input_dev *dev, u16 gain);
void (* set_autocenter) (struct input_dev *dev, u16
magnitude); void (* destroy) (struct ff_device *); void *
private; unsigned long ffbit[BITS_TO_LONGS(FF_CNT)]; struct
mutex mutex; int max_effects; struct ff_effect * effects;
struct file * effect_owners[]; };</p>

<p>MEMBERS upload Called to upload an new effect into
device</p>

<p>erase Called to erase an effect from device</p>

<p>playback Called to request device to start playing
specified effect</p>

<p>set_gain Called to set specified gain</p>

<p>set_autocenter Called to auto-center device</p>

<p>destroy called by input core when parent input device is
being destroyed</p>

<p>private driver-specific data, will be freed
automatically</p>

<p>ffbit[BITS_TO_LONGS(FF_CNT)] bitmap of force feedback
capabilities truly supported by device (not emulated like
ones in input_dev-&gt;ffbit)</p>

<p>mutex mutex for serializing access to the device</p>

<p>max_effects maximum number of effects supported by
device</p>

<p>effects pointer to an array of effects currently loaded
into device</p>

<p>effect_owners[] array of effect owners; when file handle
owning an effect gets closed the effect is automatically
erased</p>

<p>DESCRIPTION Every force-feedback device must implement
upload and playback methods; erase is optional. set_gain and
set_autocenter need only be implemented if driver sets up
FF_GAIN and FF_AUTOCENTER bits.</p>

<p>Note that playback, set_gain and set_autocenter are
called with dev-&gt;event_lock spinlock held and interrupts
off and thus may not sleep.</p>

<p>COPYRIGHT Kernel Hackers Manual 2.6. April 2016 STRUCT
FF_DEVICE(9)</p>
<hr>
</body>
</html>
