<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:32:30 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>sane-plustek_pp(5) SANE Scanner Access Now Easy
sane-plustek_pp(5)</p>

<p>NAME sane-plustek_pp - SANE backend for Plustek parallel
port flatbed scan- ners</p>

<p>DESCRIPTION The sane-plustek_pp library implements a
SANE (Scanner Access Now Easy) backend that provides access
to Plustek ASIC 9600[1/3] and P9800[1/3] based parallel port
flatbed scanners. The access of the scanner is either done
directly by the backend or via kernel module, called pt_drv
which can be created out of the plustek_pp backend code -
see also sec- tion BUILDING THE KERNEL MODULE for further
information.</p>

<p>SUPPORTED DEVICES At present, the following scanners
should work with this backend and/or the kernel module:</p>

<p>PLUSTEK SCANNERS</p>

<p>Parallelport Model: ASIC: Properties:
---------------------- ----- ------------------------
OpticPro PT12 98003 600x1200 dpi 36bit 512Kb OpticPro P12
98003 600x1200 dpi 36bit 512Kb OpticPro 9636T/12000T 98001
600x1200 dpi 36bit 512Kb OpticPro 12000P Turbo 98001
600x1200 dpi 36bit 512Kb OpticPro 9636P+/Turbo 98001
600x1200 dpi 36bit 512Kb OpticPro 9636P 96003 600x1200 dpi
36bit 128Kb OpticPro 12000P/96000P 96003 600x1200 dpi 36bit
128Kb OpticPro 1236P 96003 600x1200 dpi 30bit 128Kb OpticPro
9600P 96003 600x1200 dpi 30bit 128Kb OpticPro 9630P/FBIV
96003 600x1200 dpi 30bit 128Kb OpticPro 9630PL (14&quot;)
96003 600x1200 dpi 30bit 128Kb OpticPro A3I 96003 400x800
dpi 36bit 128Kb OpticPro 600P/6000P 96003 300x600 dpi 30bit
32Kb OpticPro 4831P 96003 300x600 dpi 30bit 32Kb OpticPro
4830P/FBIII 96003 300x600 dpi 30bit 32Kb OpticPro 4800P/FBII
96001 300x600 dpi 24bit 32Kb</p>

<p>PRIMAX SCANNERS</p>

<p>There are some scanners sold by Primax, but they are in
fact Plustek devices. These scanners are also supported. The
following table will show the relationship:</p>

<p>Model: Plustek Model: Remarks:
--------------------------- -------------- ------------
Colorado 4800 OpticPro 4800 not tested Compact 4800 Direct
OpticPro 600 mov=2 Compact 4800 Direct 30bit OpticPro 4830
mov=7 Compact 9600 Direct 30bit OpticPro 9630 works</p>

<p>GENIUS SCANNERS</p>

<p>The following devices are sold as Genius Scanners, but
are in fact Plustek devices. The table will show the
relationship:</p>

<p>Model: Remarks: ---------------------------
---------------------------- Colorpage Vivid III V2 Like P12
but has two buttons and Wolfson DAC</p>

<p>ARIES SCANNERS</p>

<p>Theres one scanner sold as Aries Scanner, but is in fact
a Plustek device. The following table will show the
relationship:</p>

<p>Model: Plustek Model: Remarks:
--------------------------- -------------- ------------
Scan-It 4800 OpticPro 600 mov=2</p>

<p>BrightScan SCANNERS</p>

<p>There s one scanner sold as BrightScan OpticPro Scanner,
this is also a rebadged Plustek device. The following table
will show the relation- ship:</p>

<p>Model: Remarks: ---------------------------
---------------------------- BrightScan OpticPro OpticPro
P12</p>

<p>DEVICE NAMES This backend works in two modes, the so
called &quot;direct-mode&quot; and the
&quot;kernel-mode&quot;. In direct-mode, the user-space
backend is used, in ker- nel-mode, you should have a
kernel-module named pt_drv loaded. This backends default
device is:</p>

<p>0x378</p>

<p>This &quot;default device&quot; will be used, if no
configuration file can be found. It is rather the base
address of the parallel port on i386 machines.</p>

<p>As the backend supports up to four devices, it is
possible to specify them in the configuration file</p>

<p>/etc/sane.d/plustek_pp.conf</p>

<p>See this file for examples.</p>

<p>CONFIGURATION This section describes the backends
configuration file entries. The file is located at:
/etc/sane.d/plustek_pp.conf</p>

<p>For a proper setup, you will need at least two entries:
[direct] device 0x378</p>

<p>or [kernel] device /dev/pt_drv</p>

<p>direct tells the backend, that the following devicename
(here 0x378) has to be interpreted as parallel port scanner
device. In fact it is the address to use, alternatively you
can use /dev/parport0 if the backend has been compiled with
libieee1284 support. kernel should only be used, when a
kernel-module has been built out of the backend sources. See
below for more instructions about this.</p>

<p>Further options:</p>

<p>option warmup t t specifies the warmup period in
seconds</p>

<p>option lampOff t t is the time in seconds for switching
off the lamps in standby mode</p>

<p>option lOffonEnd b b specifies the behaviour when
closing the backend, 1 --&gt; switch lamps off, 0 --&gt; do
not change lamp status</p>

<p>option mov m m is the model override switch, which only
works in direct mode.</p>

<p>m = 0 default: no override</p>

<p>m = 1 OpticPro 9630PL override (works if OP9630 has been
detected) forces legal size (14&quot;)</p>

<p>m = 2 Primax 4800Direct override (works if OP600 has
been detected) swaps red/green color</p>

<p>m = 3 OpticPro 9636 override (works if OP9636 has been
detected) disables backends transparency/negative capa-
bilities</p>

<p>m = 4 OpticPro 9636P override (works if OP9636 has been
detected) disables backends transparency/negative capa-
bilities</p>

<p>m = 5 OpticPro A3I override (works if OP12000 has been
detected) enables A3 scanning</p>

<p>m = 6 OpticPro 4800P override (works if OP600 has been
detected) swaps red/green color</p>

<p>m = 7 Primax 4800Direct 30bit override (works if OP4830
has been detected)</p>

<p>See the plustek_pp.conf file for examples.</p>

<p>BUILDING THE KERNEL MODULE As mentioned before, the
plustek_pp backend code can also be compiled and installed
as linux kernel module. To do so, you will need the
source-files of this sane-backend installation. Unpack this
tar-ball and go to the directory: sane-backends/doc/plustek
Within this directory, you should find a script called:
MakeModule.sh Now if your Linux kernelsources are installed
correctly, it should be possible to build, install and load
the module pt_drv. Please note, that the kernelsources need
to be configured correctly. Refer to your distributions
manual on how this is done. As root user, try
./MakeModule.sh the script will try and get all necessary
information about your run- ning kernel and will lead you
through the whole installation process. Note: Installing and
loading the can only be done as superuser.</p>

<p>KERNEL MODULE SETUP The configuration of the kernel
module is done by providing some or more options found below
to the kernel module at load time. This can be done by
invoking insmod with the appropriate parameters or appending
the options to the file /etc/modules.conf (kernel &lt;
2.6.x) or /etc/modprobe.conf (kernel &gt;= 2.6.x)</p>

<p>The Options: lampoff=lll The value lll tells the driver,
after how many seconds to switch-off the lamp(s). The
default value is 180. 0 will dis- able this feature. HINT:
Do not use a value that is too small, because often
switching on/off the lamps will reduce their lifetime.</p>

<p>port=ppp ppp specifies the port base address, where the
scanner is con- nected to. The default value is 0x378, which
normaly is stan- dard.</p>

<p>warmup=www www specifies the time in seconds, how long a
lamp has to be on, until the driver will start to scan. The
default value is 30.</p>

<p>lOffonEnd=e e specifies the behaviour when unloading the
driver, 1 --&gt; switch lamps off, 0 --&gt; do not change
lamp status</p>

<p>slowIO=s s specifies which I/O functions the driver
should use, 1 --&gt; use delayed functions, 0 --&gt; use the
non-delayed ones</p>

<p>forceMode=fm fm specifies port mode which should be
used, 0 --&gt; autodetec- tion, 1 --&gt; use SPP mode and 2
--&gt; use EPP mode</p>

<p>mov=m</p>

<p>m = 0 default: no override</p>

<p>m = 1 OpticPro 9630PL override (works if OP9630 has been
detected) forces legal size (14&quot;)</p>

<p>m = 2 Primax 4800Direct override (works if OP600 has
been detected) swaps red/green color</p>

<p>m = 3 OpticPro 9636 override (works if OP9636 has been
detected) disables backends transparency/negative capa-
bilities</p>

<p>m = 4 OpticPro 9636P override (works if OP9636 has been
detected) disables backends transparency/negative capa-
bilities</p>

<p>m = 5 OpticPro A3I override (works if OP12000 has been
detected) enables A3 scanning</p>

<p>m = 6 OpticPro 4800P override (works if OP600 has been
detected) swaps red/green color</p>

<p>m = 7 Primax 4800Direct 30bit override (works if OP4830
has been detected)</p>

<p>Sample entry for file /etc/modules.conf : alias
char-major-40 pt_drv pre-install pt_drv modprobe -k parport
options pt_drv lampoff=180 warmup=15 port=0x378 lOffonEnd=0
mov=0 slowIO=0 forceMode=0</p>

<p>For multidevice support, simply add values separated by
commas to the different options options pt_drv
port=0x378,0x278 mov=0,4 slowIO=0,1 forceMode=0,1</p>

<p>Remember to call depmod after changing
/etc/conf.modules.</p>

<p>PARALLEL PORT MODES The current driver works best, when
the parallel port has been set to EPP-mode. When detecting
any other mode such as ECP or PS/2 the driver tries to set
to a faster, supported mode. If this fails, it will use the
SPP mode, as this mode should work with all Linux supported
paral- lel ports. If in doubt, enter your BIOS and set it to
any mode except ECP.</p>

<p>Former Plustek scanner models (4830, 9630) supplied a
ISA parallel port adapter card. This card is not supported
by the driver.</p>

<p>The ASIC 96001/3 based models have sometimes trouble
with high resolu- tion modes. If you encounter sporadic
corrupted images (parts dupli- cated or shifted
horizontally) kill all other applications before scan- ning
and (if sufficient memory available) disable swapping.</p>

<p>See the plustek_pp.conf file for examples.</p>

<p>FILES /etc/sane.d/plustek_pp.conf The backend
configuration file</p>

<p>/usr/lib64/sane/libsane-plustek_pp.a The static library
implementing this backend.</p>

<p>/usr/lib64/sane/libsane-plustek_pp.so The shared library
implementing this backend (present on systems that support
dynamic loading).</p>


<p>/lib/modules/&lt;Kernel-Version&gt;/kernel/drivers/parport/pt_drv.o
The Linux kernelmodule for kernels &lt; 2.6.x.</p>


<p>/lib/modules/&lt;Kernel-Version&gt;/kernel/drivers/parport/pt_drv.ko
The Linux kernelmodule for kernels &gt;= 2.6.x.</p>

<p>ENVIRONMENT SANE_CONFIG_DIR This environment variable
specifies the list of directories that may contain the
configuration file. Under UNIX, the directories are
separated by a colon (:), under OS/2, they are separated by
a semi-colon (;). If this variable is not set, the config-
uration file is searched in two default directories: first,
the current working directory (&quot;.&quot;) and then in
/etc/sane.d. If the value of the environment variable ends
with the directory sepa- rator character, then the default
directories are searched after the explicitly specified
directories. For example, setting SANE_CONFIG_DIR to
&quot;/tmp/config:&quot; would result in directories
&quot;tmp/config&quot;, &quot;.&quot;, and
&quot;/etc/sane.d&quot; being searched (in this order).</p>

<p>SANE_DEBUG_PLUSTEK_PP If the library was compiled with
debug support enabled, this environment variable controls
the debug level for this backend. Higher debug levels
increase the verbosity of the output.</p>

<p>Example: export SANE_DEBUG_PLUSTEK_PP=10</p>

<p>SEE ALSO sane(7),
/usr/share/doc/sane-backends-1.0.21/plustek/Plustek-PARPORT.changes
http://www.gjaeger.de/scanner/plustek_pp/</p>

<p>CONTACT AND BUG-REPORTS Please send any information and
bug-reports to: SANE Mailing List</p>

<p>Additional info and hints can be obtained from our
Mailing-List archive at:
http://www.sane-project.org/mailing-lists.html</p>

<p>or directly from the projects homepage at:
http://www.gjaeger.de/scanner/plustek_pp/</p>

<p>To obtain debug messages from the backend, please set
the environment- variable SANE_DEBUG_PLUSTEK_PP before
calling your favorite scan-fron- tend (i.e. xscanimage).
i.e.: export SANE_DEBUG_PLUSTEK_PP=20 ; xscanimage</p>

<p>The value controls the verbosity of the backend.</p>

<p>KNOWN BUGS &amp; RESTRICTIONS * The Halftoning works,
but the quality is poor</p>

<p>* Printers (especially HP models) will start to print
during scanning. This in fact is a problem to other printers
too, using bidirectional protocol (see www.plustek.com
(TAIWAN) page for further details)</p>

<p>* The driver does not support these manic scalings up to
16 times the physical resolution. The only scaling is done
on resolutions between the physical resolution of the
CCD-sensor and the stepper motor i.e. you have a 600x1200
dpi scanner and you are scanning using 800dpi, so scaling is
necessary, because the sensor only delivers 600dpi but the
motor is capable to perform 800dpi steps.</p>

<p>* On some devices, the pictures seems bluish</p>

<p>ASIC 98001 based models:</p>

<p>* The 300dpi transparency and negative mode does not
work correctly.</p>

<p>* There is currently no way to distinguish a model with
and without transparency unit.</p>

<p>* The scanned images seem to be too dark (P9636T)</p>

<p>ASIC 96003/1 based models:</p>

<p>* 30bit mode is currently not supported.</p>

<p>* On low end systems under heavy system load the driver
may lose data, which can result in picture corruption or
cause the sensor to hit the scan bed.</p>

<p>* The scanning speed on 600x1200 dpi models is slow.</p>

<p>* The scanning quality of the A3I is poor</p>

<p>14 Jul 2008 sane-plustek_pp(5)</p>
<hr>
</body>
</html>
