<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:40:33 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>TDBBACKUP(8) System Administration tools
TDBBACKUP(8)</p>

<p>NAME tdbbackup - tool for backing up and for validating
the integrity of samba .tdb files</p>

<p>SYNOPSIS tdbbackup [-s suffix] [-v] [-h] [-l]</p>

<p>DESCRIPTION This tool is part of the samba(1) suite.</p>

<p>tdbbackup is a tool that may be used to backup samba
.tdb files. This tool may also be used to verify the
integrity of the .tdb files prior to samba startup or during
normal operation. If it finds file damage and it finds a
prior backup the backup file will be restored.</p>

<p>OPTIONS -h Get help information.</p>

<p>-s suffix The -s option allows the administrator to
specify a file backup extension. This way it is possible to
keep a history of tdb backup files by using a new suffix for
each backup.</p>

<p>-v The -v will check the database for damages (corrupt
data) which if detected causes the backup to be
restored.</p>

<p>-l This options disables any locking, by passing
TDB_NOLOCK to tdb_open_ex(). Only use this for database
files which are not used by any other process! And also only
if it is otherwise not possible to open the database, e.g.
databases which were created with mutex locking.</p>

<p>COMMANDS GENERAL INFORMATION</p>

<p>The tdbbackup utility can safely be run at any time. It
was designed so that it can be used at any time to validate
the integrity of tdb files, even during Samba operation.
Typical usage for the command will be:</p>

<p>tdbbackup [-s suffix] *.tdb</p>

<p>Before restarting samba the following command may be run
to validate .tdb files:</p>

<p>tdbbackup -v [-s suffix] *.tdb</p>

<p>Samba .tdb files are stored in various locations, be
sure to run backup all .tdb file on the system. Important
files includes:</p>

<p>&middot; secrets.tdb - usual location is in the
/usr/local/samba/private directory, or on some systems in
/etc/samba.</p>

<p>&middot; passdb.tdb - usual location is in the
/usr/local/samba/private directory, or on some systems in
/etc/samba.</p>

<p>&middot; *.tdb located in the /usr/local/samba/var
directory or on some systems in the /var/cache or
/var/lib/samba directories.</p>

<p>VERSION This man page is correct for version 3 of the
Samba suite.</p>

<p>AUTHOR The original Samba software and related utilities
were created by Andrew Tridgell. Samba is now developed by
the Samba Team as an Open Source project similar to the way
the Linux kernel is developed.</p>

<p>The tdbbackup man page was written by John H
Terpstra.</p>

<p>Samba 3.6 2015-04-25 TDBBACKUP(8)</p>
<hr>
</body>
</html>
