<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:42:31 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>ttyi(4) Special files ttyi(4)</p>

<p>NAME ttyI - ISDN character devices with modem
emulator</p>

<p>DESCRIPTION ttyI[0-63] are emulated tty devices of the
Linux ISDN subsystem. These devices can be used in the same
way as the traditional serial devices ttySx. The official
major device numbers are 43 for ttyI . The minor device
numbers start with 0 and end with 63.</p>

<p>The ISDN tty devices are equipped with a modem emulation
implementing a set of traditional and some special AT
commands. This provides easy use together with almost all
communication software that uses modem com- mands:
minicom(1), seyon(1), XCept(1), uucico(8), mgetty(8),
dip(8), pppd(8) and more. When enabled during kernel
configuration, the emula- tor is capable of a reduced set of
commands to support audio. To use audio features, an ISDN
card with a audio-capable low-level driver is needed.
Currently the only audio-capable drivers are the teles and
HiSax driver.</p>

<p>The line disciplines are handled by the kernel so that
SLIP, CSLIP and asynchronous PPP are possible.</p>

<p>The port speed of the ISDN tty devices is always 64000
bps.</p>

<p>AT COMMAND SET The description of AT commands here does
not cover audio related com- mands. For a description of
audio related commands, see isdn_audio(4). The following AT
commands are supported by ISDN tty devices:</p>

<p>ATA Answer an incoming call.</p>

<p>ATDnum Dial number num. Allowed are digits [0-9] and the
characters &quot;,&quot;, &quot;#&quot;, &quot;.&quot;,
&quot;*&quot;, &quot;W&quot;, &quot;P&quot;, &quot;T&quot;,
&quot;S&quot;, &quot;-&quot;. The characters are ignored
except of &quot;S&quot; which indicates a SPV if it precedes
the number (only German 1TR6 ISDN).</p>

<p>ATE0 Echo off.</p>

<p>ATE1 Echo on (default).</p>

<p>ATH Hang up.</p>

<p>ATH0 Hang up.</p>

<p>ATH1 Off hook (ignored).</p>

<p>ATI Return device Information (&quot;ISDN for
Linux...&quot;).</p>

<p>ATI0 Return device Information (&quot;ISDN for
Linux...&quot;).</p>

<p>ATI1 Return device Information (&quot;ISDN for
Linux...&quot;).</p>

<p>ATI2 Return Statistics of last connection.</p>

<p>ATO Return from command mode to online mode (data
mode).</p>

<p>ATQ0 Enable result codes (default).</p>

<p>ATQ1 Disable result codes.</p>

<p>ATSx=y Set register x to value y.</p>

<p>ATSx? Show content of register x.</p>

<p>ATSx.y=z Set register x, bit y to value z</p>

<p>ATSx.y? Show bit y of register x.</p>

<p>ATV0 Print result code as number.</p>

<p>ATV1 Print result code as text (default).</p>

<p>ATZ Reset all registers and load profile values.</p>

<p>AT&amp;Bx Set packet size of outgoing packets to value x
(maximum 4000). The actual packet size depends on the
hardware driver and may be smaller than x (e.g. with the
teles driver). There will be no error message if the value
is bigger than the hardware driver can process. However the
size of the outgoing packets will be set correctly.</p>

<p>AT&amp;D2 DTR falling edge: hang up and return to
command mode (default).</p>

<p>AT&amp;D3 DTR falling edge: hang up, return to command
mode and reset all registers.</p>

<p>AT&amp;Ex Set MSN (Euro-ISDN, EDSS1) or EAZ (German
1TR6) to value x. For MSNs, x is a string of digits
representing the local phone num- ber, while for EAZs x
should be only the last digit of the Num- ber.</p>

<p>AT&amp;F Set all registers and profile to
&quot;factory-defaults&quot;.</p>

<p>AT&amp;Lplist Set list of phone numbers to listen on.
plist is a list of wildcard patterns separated by semicolon.
If this is set, it has precedence over the MSN set by
AT&amp;E.</p>

<p>AT&amp;V Show current register settings.</p>

<p>AT&amp;W0 Write registers and EAZ/MSN to profile. (You
need to run iprofd(8) for making changes permanent.)</p>

<p>AT&amp;X0 Disable BTX-Mode (default).</p>

<p>AT&amp;X1 Enable BTX-Mode.</p>

<p>ESCAPE SEQUENCE During a data connection, the driver can
be set to command mode by typ- ing in delay+++delay. The
escape character (default &quot;+&quot;) may be set via
register 2. The delay must be at least 1.5 seconds and
between each escape character the pause must not exceed 0.5
seconds. ATO brings the modem emulation back to data
mode.</p>

<p>REGISTERS 0 (default 0) Number of rings on which the
&quot;modem&quot; will answer. (S0=0 will disable auto
answering).</p>

<p>1 (default 0) Counts and stores the number of rings from
an incoming call.</p>

<p>2 (default 43 = +) ASCII code of the escape
character.</p>

<p>3 (default 13 = CR) ASCII code of Carriage Return.</p>

<p>4 (default 10 = LF) ASCII code of Line Feed.</p>

<p>5 (default 8 = BS) ASCII code of Backspace.</p>

<p>6 (default 3) Duration, in number of seconds, modem
waits before dialling.</p>

<p>7 (default 60) Wait time for carrier in seconds.</p>

<p>8 (default 2) Pause time for comma (,) in dial command
in seconds (ignored).</p>

<p>9 (default 6) Carrier detect time in tenths of seconds
(ignored).</p>

<p>10 (default 7) Wait time until hangup after carrier loss
in tenths of seconds (ignored).</p>

<p>11 (default 70) Duration and delay in milliseconds for
touch tone dialling (ignored).</p>

<p>12 (default 69) Bit-mapped register. Bit Description 0 0
= Suppress response messages. 1 = Show response messages. 1
0 = Response messages as text. 1 = Numeric response
messages. 2 0 = Echo off. 1 = Echo on. 3 0 = DCD always on.
1 = DCD follows carrier. 4 0 = CTS follows RTS. 1 = Ignore
RTS, CTS always on. 5 0 = Low-edge on DTR: Hangup and return
to command mode. 1 = Same as 0 but also resets all
registers. 6 0 = DSR always on. 1 = DSR on only if channel
is available. 7 0 = Cisco-PPP-flag-hack off. 1 =
Cisco-PPP-flag-hack on.</p>

<p>13 (default 4) Bit-mapped register. Bit Description 0 0
= Use delayed sending of data. 1 = Immediately send data. 1
0 = T.70 protocol off. 1 = T.70 protocol on. 2 0 = Dont
hangup on DTR low. 1 = Hangup on DTR low. 3 0 = Standard
response messages. 1 = Extended response messages. 4 0 =
CALLER NUMBER before every RING. 1 = CALLER NUMBER after
first RING. 5 0 = Disable extended T.70 protocol. 1 = Enable
extended T.70 protocol. 6 0 = Disable RUNG message. 1 = RUNG
on cancelled incoming call. 7 0 = Disable display messages
from net. 1 = Enable disable messages from net.</p>

<p>14 (default 0) Layer-2 protocol. 0 = X75/LAPB with
I-frames. 1 = X75/LAPB with UI-frames. 2 = X75/LAPB with
BUI-frames. 3 = HDLC. 4 = TRANSPARENT. 10 = Analog Modem.
(only if hardware supports this) 11 = Fax G3. (only if
hardware supports this)</p>

<p>15 (default 0) Layer-3 protocol. 0 = transparent 1 =
transparent with audio features (e.g. DSP) 2 = Fax G3</p>

<p>16 (default 250) Outgoing packet size / 16.</p>

<p>17 reserved.</p>

<p>18 (default 4) Service-Octet-1 to accept or to be used
on dial out. Bit-mapped register. Bit Description 0 Service
1 (audio) when set. 1 Service 5 (BTX) when set. 2 Service 7
(data) when set.</p>

<p>Note: It is possible to set more than one bit. In this
case, on outgoing calls, the most significant 1-bit is
chosen to select the outgoing service octet. On incoming
calls the selected services are accepted, contents of
register 14 is ignored and the Layer-2-protocol is
automatically set with the following values to match the
service of the incoming call:</p>

<p>Incoming service audio (Reg. 20.0 = 1) L2-protocol is
set to 4 (TRANSPARENT).</p>

<p>Incoming service BTX (Reg. 20.1 = 1) L2-protocol is set
to 0 (X75/LAPB with I-frames).</p>

<p>Incoming service date (Reg. 20.2 = 1) L2-protocol is set
to 0 (X75/LAPB with I-frames).</p>

<p>19 (default 0) Service-Octet-2 (ignored when using
EDSS1).</p>

<p>20 (read only) Service-Octet-1 of last incoming call.
This bit-mapped register is set on incoming call (during
RING). Mapping is the same like register 18.</p>

<p>21 (read only) Bit-mapped register. Set on incoming call
(during RING) to the value of octet 3 of calling party
number Information Element (Numbering plan). See section
4.5.10 of ITU Q.931.</p>

<p>22 (read only) Bit-mapped register. Set on incoming call
(during RING) to the value of octet 3a of calling party
number Information Element (Screening info). See section
4.5.10 of ITU Q.931.</p>

<p>23 (default 0) Bit-mapped register. Bit Description 0 0
= Disable CPN extended RING. 1 = Enable CPN extended RING. 1
0 = Disable CPN extended FCON. 1 = Enable CPN extended
FCON.</p>

<p>NOTE There used also be cui devices (major device number
44), but since the cua devices for regular tty devices are
no longer sup- ported in the kernel, these are also no
longer supported for ISDN4linux.</p>

<p>AUTHOR Fritz Elfert &lt;fritz@isdn4linux.de&gt; modified
by Paul Slootman &lt;paul@isdn4linux.de&gt;</p>

<p>SEE ALSO icnctrl(8), telesctrl(8), isdninfo(4),
isdn_audio(4), isdnctrl(8).</p>

<p>ISDN 4 Linux 3.13 2002/01/31 ttyi(4)</p>
<hr>
</body>
</html>
