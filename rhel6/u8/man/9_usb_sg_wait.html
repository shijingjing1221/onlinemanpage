<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:43:23 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>USB_SG_WAIT(9) USB Core APIs USB_SG_WAIT(9)</p>

<p>NAME usb_sg_wait - synchronously execute scatter/gather
request</p>

<p>SYNOPSIS void usb_sg_wait(struct usb_sg_request *
io);</p>

<p>ARGUMENTS io request block handle, as initialized with
usb_sg_init. some fields become accessible when this call
returns.</p>

<p>CONTEXT !in_interrupt ()</p>

<p>DESCRIPTION This function blocks until the specified I/O
operation completes. It leverages the grouping of the
related I/O requests to get good transfer rates, by queueing
the requests. At higher speeds, such queuing can
significantly improve USB throughput.</p>

<p>There are three kinds of completion for this function.
(1) success, where io-&gt;status is zero. The number of
io-&gt;bytes transferred is as requested. (2) error, where
io-&gt;status is a negative errno value. The number of
io-&gt;bytes transferred before the error is usually less
than requested, and can be nonzero. (3) cancellation, a type
of error with status -ECONNRESET that is initiated by
usb_sg_cancel.</p>

<p>When this function returns, all memory allocated through
usb_sg_init or this call will have been freed. The request
block parameter may still be passed to usb_sg_cancel, or it
may be freed. It could also be reinitialized and then
reused.</p>

<p>DATA TRANSFER RATES Bulk transfers are valid for full or
high speed endpoints. The best full speed data rate is 19
packets of 64 bytes each per frame, or 1216 bytes per
millisecond. The best high speed data rate is 13 packets of
512 bytes each per microframe, or 52 KBytes per
millisecond.</p>

<p>The reason to use interrupt transfers through this API
would most likely be to reserve high speed bandwidth, where
up to 24 KBytes per millisecond could be transferred. That
capability is less useful for low or full speed interrupt
endpoints, which allow at most one packet per millisecond,
of at most 8 or 64 bytes (respectively).</p>

<p>It is not necessary to call this function to reserve
bandwidth for devices under an xHCI host controller, as the
bandwidth is reserved when the configuration or interface
alt setting is selected.</p>

<p>COPYRIGHT Kernel Hackers Manual 2.6. April 2016
USB_SG_WAIT(9)</p>
<hr>
</body>
</html>
