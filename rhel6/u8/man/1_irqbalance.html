<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:20:16 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>IRQBALANCE(1) irqbalance IRQBALANCE(1)</p>

<p>NAME irqbalance - distribute hardware interrupts across
processors on a mul- tiprocessor system</p>

<p>SYNOPSIS irqbalance</p>

<p>DESCRIPTION The purpose of irqbalance is distribute
hardware interrupts across pro- cessors on a multiprocessor
system in order to increase performance.</p>

<p>OPTIONS -o, --oneshot Causes irqbalance to be run once,
after which the daemon exits</p>

<p>-d, --debug Causes irqbalance to print extra debug
information. Implies --foreground</p>

<p>-f, --foreground Causes irqbalance to run in the
foreground (without --debug)</p>

<p>-h, --hintpolicy=[exact | subset | ignore] Set the
policy for how irq kernel affinity hinting is treated. Can
be one of:</p>

<p>exact irq affinity hint is applied unilaterally and
never violated</p>

<p>subset irq is balanced, but the assigned object will be
a subset of the affintiy hint</p>

<p>ignore irq affinity hint value is completely ignored</p>

<p>The default value for hintpolicy is ignore</p>

<p>-p, --powerthresh=&lt;threshold&gt; Set the threshold at
which we attempt to move a cpu into power- save mode If more
than &lt;threshold&gt; cpus are more than 1 standard
deviation below the average cpu softirq workload, and no
cpus are more than 1 standard deviation above (and have more
than 1 irq assigned to them), attempt to place 1 cpu in
powersave mode. In powersave mode, a cpu will not have any
irqs balanced to it, in an effort to prevent that cpu from
waking up without need.</p>

<p>-i, --banirq=&lt;irqnum&gt; Add the specified irq to the
set of banned irqs. irqbalance will not affect the affinity
of any irqs on the banned list, allowing them to be
specified manually. This option is addative and can be
specified multiple times. For example to ban irqs 43 and 44
from balancing, use the following command line: irqbalance
--banirq=43 --banirq=44</p>

<p>--deepestcache=&lt;integer&gt; This allows a user to
specify the cache level at which irqbal- ance partitions
cache domains. Specifying a deeper cache may allow a greater
degree of flexibility for irqbalance to assign irq affinity
to achieve greater performance increases, but set- ting a
cache depth too large on some systems (specifically where
all cpus on a system share the deepest cache lavel), will
cause irqbalance to see balancing as unnesessecary.
irqbalance --deepestcache=2</p>

<p>The default value for deepestcache is 2.</p>

<p>-b, --banscript=&lt;script&gt; Execute the specified
script for each irq that is discovered, passing the sysfs
path to the associated device as the first argument, and the
irq vector as the second. An exit value of 0 tells
irqbalance that this interrupt should balanced and managed
as a normal irq, while a non-zero exit code indicates this
irq should be ignored by irqbalance completely (see --banirq
above). Use of this script provides users the ability to
dynamically select which irqs get exluded from balancing,
and provides an opportunity for manual affinity setting in
one single code point.</p>

<p>-l, --policyscript=&lt;script&gt; When specified, the
referenced script will execute once for each discovered irq,
with the sysfs device path and irq number passed as
arguments. Note that the device path argument will point to
the parent directory from which the irq attributes directory
may be directly opened. The script may specify zero or more
key=value pairs that will guide irqbalance in the management
of that irq. Key=value pairs are printed by the script on
stdout and will be captured and interpreted by irqbalance.
Irqbalance expects a zero exit code from the provided
utility. Recognized key=value pairs are:</p>

<p>ban=[true | false] Directs irqbalance to exclude the
passed in irq from balancing</p>

<p>balance_level=[none | package | cache | core] This
allows a user to override the balance level of a given irq.
By default the balance level is determined automatically
based on the pci device class of the device that owns the
irq.</p>

<p>numa_node=&lt;integer&gt; This allows a user to override
the numa node that sysfs indi- cates a given device irq is
local to. Often, systems will not specify this information
in ACPI, and as a result devicesa are considered equidistant
from all numa nodes in a system. This option allows for that
hardware provided information to be over- ridden, so that
irqbalance can bias irq affinity for these devices toward
its most local node. Note that specifying a -1 here forces
irqbalance to consider an interrupt from a device to be
equidistant from all nodes.</p>

<p>-s, --pid=&lt;file&gt; Have irqbalance write its process
id to the specified file. By default no pidfile is written.
The written pidfile is automati- cally unlinked when
irqbalance exits. It is ignored when used with --debug or
--foreground.</p>

<p>ENVIRONMENT VARIABLES IRQBALANCE_ONESHOT Same as
--oneshot</p>

<p>IRQBALANCE_DEBUG Same as --debug</p>

<p>IRQBALANCE_BANNED_CPUS Provides a mask of cpus which
irqbalance should ignore and never assign interrupts to</p>

<p>SIGNALS SIGHUP Forces a rescan of the available irqs and
system topology</p>

<p>Homepage https://github.com/Irqbalance/irqbalance</p>

<p>Linux Dec 2006 IRQBALANCE(1)</p>
<hr>
</body>
</html>
