<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:43:17 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>USB_GADGET_CONFIG_BU(9) Kernel Mode Gadget API
USB_GADGET_CONFIG_BU(9)</p>

<p>NAME usb_gadget_config_buf - builts a complete
configuration descriptor</p>

<p>SYNOPSIS int usb_gadget_config_buf(const struct
usb_config_descriptor * config, void * buf, unsigned length,
const struct usb_descriptor_header ** desc);</p>

<p>ARGUMENTS config Header for the descriptor, including
characteristics such as power requirements and number of
interfaces.</p>

<p>buf Buffer for the resulting configuration
descriptor.</p>

<p>length Length of buffer. If this is not big enough to
hold the entire configuration descriptor, an error code will
be returned.</p>

<p>desc Null-terminated vector of pointers to the
descriptors (interface, endpoint, etc) defining all
functions in this device configuration.</p>

<p>DESCRIPTION This copies descriptors into the response
buffer, building a descriptor for that configuration. It
returns the buffer length or a negative status code. The
config.wTotalLength field is set to match the length of the
result, but other descriptor fields (including power usage
and interface count) must be set by the caller.</p>

<p>Gadget drivers could use this when constructing a config
descriptor in response to USB_REQ_GET_DESCRIPTOR. They will
need to patch the resulting bDescriptorType value if
USB_DT_OTHER_SPEED_CONFIG is needed.</p>

<p>AUTHOR David Brownell
&lt;dbrownell@users.sourceforge.net&gt; Author.</p>

<p>COPYRIGHT Kernel Hackers Manual 2.6. April 2016
USB_GADGET_CONFIG_BU(9)</p>
<hr>
</body>
</html>
