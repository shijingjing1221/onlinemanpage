<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:42:06 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>TMPWATCH(8) System Administrator s Manual
TMPWATCH(8)</p>

<p>NAME tmpwatch - removes files which havent been accessed
for a period of time</p>

<p>SYNOPSIS tmpwatch [-u|-m|-c] [-MUadfqstvx] [--verbose]
[--force] [--all] [--nodirs] [--nosymlinks] [--test]
[--fuser] [--quiet] [--atime|--mtime|--ctime] [--dirmtime]
[--exclude path] [--exclude-user user] time dirs</p>

<p>DESCRIPTION tmpwatch recursively removes files which
haven t been accessed for a given time. Normally, its used
to clean up directories which are used for temporary holding
space such as /tmp.</p>

<p>When changing directories, tmpwatch is very sensitive to
possible race conditions and will exit with an error if one
is detected. It does not follow symbolic links in the
directories it s cleaning (even if a sym- bolic link is
given as its argument), will not switch filesystems, skips
lost+found directories owned by the root user, and only
removes empty directories, regular files, and symbolic
links.</p>

<p>By default, tmpwatch dates files by their atime (access
time), not their mtime (modification time). If files aren t
being removed when ls -l implies they should be, use ls -u
to examine their atime to see if that explains the
problem.</p>

<p>If the --atime, --ctime or --mtime options are used in
combination, the decision about deleting a file will be
based on the maximum of these times. The --dirmtime option
implies ignoring atime of directories, even if the --atime
option is used.</p>

<p>The time parameter defines the threshold for removing
files. If the file has not been accessed for time, the file
is removed. The time argument is a number with an optional
single-character suffix specify- ing the units: m for
minutes, h for hours, d for days. If no suffix is specified,
time is in hours.</p>

<p>Following this, one or more directories may be given for
tmpwatch to clean up.</p>

<p>OPTIONS -u, --atime Make the decision about deleting a
file based on the files atime (access time). This is the
default.</p>

<p>Note that the periodic updatedb file system scans keep
the atime of directories recent.</p>

<p>-m, --mtime Make the decision about deleting a file
based on the files mtime (modification time) instead of the
atime.</p>

<p>-c, --ctime Make the decision about deleting a file
based on the files ctime (inode change time) instead of the
atime; for directories, make the decision based on the
mtime.</p>

<p>-M, --dirmtime Make the decision about deleting a
directory based on the direc- torys mtime (modification
time) instead of the atime; com- pletely ignore atime for
directories.</p>

<p>-a, --all Remove all file types, not just regular files,
symbolic links and directories.</p>

<p>-d, --nodirs Do not attempt to remove directories, even
if they are empty.</p>

<p>-f, --force Remove files even if root doesnt have write
access (akin to rm -f).</p>

<p>-l, --nosymlinks Do not attempt to remove symbolic
links.</p>

<p>-q, --quiet Report only fatal errors.</p>

<p>-s, --fuser Attempt to use the &quot;fuser&quot; command
to see if a file is already open before removing it. Not
enabled by default. Does help in some circumstances, but not
all. Dependent on fuser being installed in /sbin. Not
supported on HP-UX or Solaris.</p>

<p>-t, --test Dont remove files, but go through the motions
of removing them. This implies -v.</p>

<p>-U, --exclude-user=user Don t remove files owned by
user, which can be an user name or numeric user ID.</p>

<p>-v, --verbose Print a verbose display. Two levels of
verboseness are available -- use this option twice to get
the most verbose output.</p>

<p>-x, --exclude=path Skip path; if path is a directory,
all files contained in it are skipped too. If path does not
exist, it must be an absolute path that contains no symbolic
links.</p>

<p>-X, --exclude-pattern=pattern Skip paths matching
pattern; if a directory matches pattern, all files contained
in it are skipped too. pattern must match an absolute path
that contains no symbolic links.</p>

<p>SEE ALSO cron(1), ls(1), rm(1), fuser(1)</p>

<p>WARNINGS GNU-style long options are not supported on
HP-UX.</p>

<p>AUTHORS Erik Troan &lt;ewt@redhat.com&gt; Preston Brown
&lt;pbrown@redhat.com&gt; Nalin Dahyabhai
&lt;nalin@redhat.com&gt; Miloslav Trmac
&lt;mitr@redhat.com&gt;</p>

<p>4th Berkeley Distribution 2009-10-15 TMPWATCH(8)</p>
<hr>
</body>
</html>
