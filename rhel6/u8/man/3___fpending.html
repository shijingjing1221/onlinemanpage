<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:13:33 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>STDIO_EXT(3) Linux Programmer s Manual STDIO_EXT(3)</p>

<p>NAME __fbufsize, __flbf, __fpending, __fpurge,
__freadable, __freading, __fsetlocking, __fwritable,
__fwriting, _flushlbf - interfaces to stdio FILE
structure</p>

<p>SYNOPSIS #include &lt;stdio.h&gt; #include
&lt;stdio_ext.h&gt;</p>

<p>size_t __fbufsize(FILE *stream); size_t __fpending(FILE
*stream); int __flbf(FILE *stream); int __freadable(FILE
*stream); int __fwritable(FILE *stream); int __freading(FILE
*stream); int __fwriting(FILE *stream); int
__fsetlocking(FILE *stream, int type); void _flushlbf(void);
void __fpurge(FILE *stream);</p>

<p>DESCRIPTION Solaris introduced routines to allow
portable access to the internals of the FILE structure, and
glibc also implemented these.</p>

<p>The __fbufsize() function returns the size of the buffer
currently used by the given stream.</p>

<p>The __fpending() function returns the number of bytes in
the output buffer. For wide-oriented streams the unit is
wide characters. This function is undefined on buffers in
reading mode, or opened read-only.</p>

<p>The __flbf() function returns a non-zero value if the
stream is line- buffered, and zero otherwise.</p>

<p>The __freadable() function returns a non-zero value if
the stream allows reading, and zero otherwise.</p>

<p>The __fwritable() function returns a non-zero value if
the stream allows writing, and zero otherwise.</p>

<p>The __freading() function returns a non-zero value if
the stream is read-only, or if the last operation on the
stream was a read operation, and zero otherwise.</p>

<p>The __fwriting() function returns a non-zero value if
the stream is write-only (or append-only), or if the last
operation on the stream was a write operation, and zero
otherwise.</p>

<p>The __fsetlocking() function can be used to select the
desired type of locking on the stream. It returns the
current type. The type argument can take the following three
values:</p>

<p>FSETLOCKING_INTERNAL Perform implicit locking around
every operation on the given stream (except for the
*_unlocked ones). This is the default.</p>

<p>FSETLOCKING_BYCALLER The caller will take care of the
locking (possibly using flock- file(3) in case there is more
than one thread), and the stdio routines will not do locking
until the state is reset to FSET- LOCKING_INTERNAL.</p>

<p>FSETLOCKING_QUERY Dont change the type of locking. (Only
return it.)</p>

<p>The _flushlbf() function flushes all line-buffered
streams. (Presum- ably so that output to a terminal is
forced out, say before reading keyboard input.)</p>

<p>The __fpurge() function discards the contents of the
streams buffer.</p>

<p>SEE ALSO flockfile(3), fpurge(3)</p>

<p>COLOPHON This page is part of release 3.22 of the Linux
man-pages project. A description of the project, and
information about reporting bugs, can be found at
http://www.kernel.org/doc/man-pages/.</p>

<p>2001-12-16 STDIO_EXT(3)</p>
<hr>
</body>
</html>
