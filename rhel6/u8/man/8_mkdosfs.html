<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:23:22 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>MKDOSFS(8) MKDOSFS(8)</p>

<p>NAME mkdosfs - create an MS-DOS file system under
Linux</p>

<p>SYNOPSIS mkdosfs|mkfs.msdos|mkfs.vfat [ -a ] [ -A ] [ -b
sector-of-backup ] [ -c ] [ -l filename ] [ -C ] [ -f
number-of-FATs ] [ -F FAT-size ] [ -h
number-of-hidden-sectors ] [ -i volume-id ] [ -I ] [ -m
message-file ] [ -n volume-name ] [ -r root-dir-entries ] [
-R number-of-reserved-sec- tors ] [ -s sectors-per-cluster ]
[ -S logical-sector-size ] [ -v ] device [ block-count ]</p>

<p>DESCRIPTION mkdosfs is used to create an MS-DOS file
system under Linux on a device (usually a disk partition).
device is the special file corresponding to the device (e.g
/dev/hdXX). block-count is the number of blocks on the
device. If omitted, mkdosfs automatically determines the
file sys- tem size.</p>

<p>OPTIONS -a Normally, for any filesystem except very
small ones, mkdosfs will align all the data structures to
cluster size, to make sure that as long as the partition is
properly aligned, so will all the data structures in the
filesystem. This option disables alignment; this may provide
a handful of additional clusters of storage at the expense
of a significant performance degradation on RAIDs, flash
media or large-sector hard disks.</p>

<p>-A Use Atari variation of the MS-DOS file system. This
is default if mkdosfs is run on an Atari, then this option
turns off Atari format. There are some differences when
using Atari format: If not directed otherwise by the user,
mkdosfs will always use 2 sectors per cluster, since GEMDOS
doesnt like other values very much. It will also obey the
maximum number of sectors GEMDOS can handle. Larger file
systems are managed by raising the log- ical sector size.
Under Atari format, an Atari-compatible serial number for
the file system is generated, and a 12 bit FAT is used only
for file systems that have one of the usual floppy sizes
(720k, 1.2M, 1.44M, 2.88M), a 16 bit FAT otherwise. This can
be overridden with the -F option. Some PC-specific boot sec-
tor fields aren t written, and a boot message (option -m) is
ignored.</p>

<p>-b sector-of-backup Selects the location of the backup
boot sector for FAT32. Default depends on number of reserved
sectors, but usually is sector 6. The backup must be within
the range of reserved sec- tors.</p>

<p>-c Check the device for bad blocks before creating the
file system.</p>

<p>-C Create the file given as device on the command line,
and write the to-be-created file system to it. This can be
used to create the new file system in a file instead of on a
real device, and to avoid using dd in advance to create a
file of appropriate size. With this option, the block-count
must be given, because otherwise the intended size of the
file system wouldnt be known. The file created is a sparse
file, which actually only contains the meta-data areas (boot
sector, FATs, and root direc- tory). The data portions wont
be stored on the disk, but the file nevertheless will have
the correct size. The resulting file can be copied later to
a floppy disk or other device, or mounted through a loop
device.</p>

<p>-f number-of-FATs Specify the number of file allocation
tables in the file system. The default is 2. Currently the
Linux MS-DOS file system does not support more than 2
FATs.</p>

<p>-F FAT-size Specifies the type of file allocation tables
used (12, 16 or 32 bit). If nothing is specified, mkdosfs
will automatically select between 12, 16 and 32 bit,
whatever fits better for the file system size.</p>

<p>-h number-of-hidden-sectors Select the number of hidden
sectors in the volume. Apparently some digital cameras get
indigestion if you feed them a CF card without such hidden
sectors, this option allows you to satisfy them. Assumes
&acute;0&acute; if no value is given on the command
line.</p>

<p>-i volume-id Sets the volume ID of the newly created
file system; volume-id is a 32-bit hexadecimal number (for
example, 2e24ec82). The default is a number which depends on
the file system creation time.</p>

<p>-I It is typical for fixed disk devices to be
partitioned so, by default, you are not permitted to create
a filesystem across the entire device. mkdosfs will complain
and tell you that it refuses to work. This is different when
using MO disks. One doesn t always need partitions on MO
disks. The file system can go directly to the whole disk.
Under other OSes this is known as the superfloppy
format.</p>

<p>This switch will force mkdosfs to work properly.</p>

<p>-l filename Read the bad blocks list from filename.</p>

<p>-m message-file Sets the message the user receives on
attempts to boot this file system without having properly
installed an operating system. The message file must not
exceed 418 bytes once line feeds have been converted to
carriage return-line feed combinations, and tabs have been
expanded. If the filename is a hyphen (-), the text is taken
from standard input.</p>

<p>-n volume-name Sets the volume name (label) of the file
system. The volume name can be up to 11 characters long. The
default is no label.</p>

<p>-r root-dir-entries Select the number of entries
available in the root directory. The default is 112 or 224
for floppies and 512 for hard disks.</p>

<p>-R number-of-reserved-sectors Select the number of
reserved sectors. With FAT32 format at least 2 reserved
sectors are needed, the default is 32. Other- wise the
default is 1 (only the boot sector).</p>

<p>-s sectors-per-cluster Specify the number of disk
sectors per cluster. Must be a power of 2, i.e. 1, 2, 4, 8,
... 128.</p>

<p>-S logical-sector-size Specify the number of bytes per
logical sector. Must be a power of 2 and greater than or
equal to 512, i.e. 512, 1024, 2048, 4096, 8192, 16384, or
32768.</p>

<p>-v Verbose execution.</p>

<p>BUGS mkdosfs can not create boot-able file systems. This
isnt as easy as you might think at first glance for various
reasons and has been dis- cussed a lot already. mkdosfs
simply will not support it ;)</p>

<p>AUTHOR Dave Hudson - &lt;dave@humbug.demon.co.uk&gt;;
modified by Peter Anvin &lt;hpa@yggdrasil.com&gt;. Fixes and
additions by Roman Hodek &lt;roman@hodek.net&gt; for
Debian/GNU Linux.</p>

<p>ACKNOWLEDGMENTS mkdosfs is based on code from mke2fs
(written by Remy Card - &lt;card@masi.ibp.fr&gt;) which is
itself based on mkfs (written by Linus Torvalds -
&lt;torvalds@cs.helsinki.fi&gt;).</p>

<p>SEE ALSO dosfsck(8), dosfslabel(8), mkfs(8)</p>

<p>Version 2.x 5 May 1995 MKDOSFS(8)</p>
<hr>
</body>
</html>
