<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:22:10 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>LNSTAT(8) LNSTAT(8)</p>

<p>NAME lnstat - unified linux network statistics</p>

<p>SYNOPSIS lnstat [options]</p>

<p>DESCRIPTION This manual page documents briefly the
lnstat command.</p>

<p>lnstat is a generalized and more feature-complete
replacement for the old rtstat program. It is commonly used
to periodically print a selec- tion of statistical values
exported by the kernel. In addition to routing cache
statistics, it supports any kind of statistics the linux
kernel exports via a file in /proc/net/stat/.</p>

<p>Each file in /proc/net/stat/ contains a header line
listing the column names. These names are used by lnstat as
keys for selecting which statistics to print. For every CPU
present in the system, a line fol- lows which lists the
actual values for each column of the file. lnstat sums these
values up (which in fact are counters) before printing them.
After each interval, only the difference to the last value
is printed.</p>

<p>Files and columns may be selected by using the -f and -k
parameters. By default, all columns of all files are
printed.</p>

<p>OPTIONS These programs follow the usual GNU command line
syntax, with long options starting with two dashes (- ).
lnstat supports the following options.</p>

<p>-h, --help Show summary of options.</p>

<p>-V, --version Show version of program.</p>

<p>-c, --count &lt;count&gt; Print &lt;count&gt; number of
intervals.</p>

<p>-d, --dump Dump list of available files/keys.</p>

<p>-f, --file &lt;file&gt; Statistics file to use, may be
specified multiple times. By default all files in
/proc/net/stat are scanned.</p>

<p>-i, --interval &lt;intv&gt; Set interval to intv
seconds.</p>

<p>-k, --keys k,k,k,... Display only keys specified. Each
key k is of the form [file:]key. If &lt;file&gt; is given,
the search for the given key is limited to that file.
Otherwise the first file containing the searched key is
being used.</p>

<p>-s, --subject [0-2] Specify display of subject/header. 0
means no header at all, 1 prints a header only at start of
the program and 2 prints a header every 20 lines.</p>

<p>-w, --width n,n,n,... Width for each field.</p>

<p>USAGE EXAMPLES # lnstat -d Get a list of supported
statistics files.</p>

<p># lnstat -k
arp_cache:entries,rt_cache:in_hit,arp_cache:destroys Select
the specified files and keys.</p>

<p># lnstat -i 10 Use an interval of 10 seconds.</p>

<p># lnstat -f ip_conntrack Use only the specified file for
statistics.</p>

<p># lnstat -s 0 Do not print a header at all.</p>

<p># lnstat -s 20 Print a header at start and every 20
lines.</p>

<p># lnstat -c -1 -i 1 -f rt_cache -k
entries,in_hit,in_slow_tot Display statistics for keys
entries, in_hit and in_slow_tot of field rt_cache every
second.</p>

<p>FILES /proc/net/stat/arp_cache,
/proc/net/stat/ndisc_cache Statistics around neighbor cache
and ARP. arp_cache is for IPv4, ndisc_cache is the same for
IPv6.</p>

<p>entries Number of entries in the neighbor table.</p>

<p>allocs How many neighbor entries have been
allocated.</p>

<p>destroys How many neighbor entries have been
removed.</p>

<p>hash_grows How often the neighbor (hash) table was
increased.</p>

<p>lookups How many lookups were performed.</p>

<p>hits How many lookups were successful.</p>

<p>res_failed How many neighbor lookups failed.</p>

<p>rcv_probes_mcast How many multicast neighbor
solicitations were received. (IPv6 only.)</p>

<p>rcv_probes_ucast How many unicast neighbor solicitations
were received. (IPv6 only.)</p>

<p>periodic_gc_runs How many garbage collection runs were
executed.</p>

<p>forced_gc_runs How many forced garbage collection runs
were exe- cuted. Happens when adding an entry and the table
is too full.</p>

<p>unresolved_discards How many neighbor table entries were
dis- carded due to lookup failure.</p>

<p>table_fulls Number of table overflows. Happens if table
is full and forced GC run (see forced_gc_runs) has
failed.</p>

<p>/proc/net/stat/ip_conntrack, /proc/net/stat/nf_conntrack
Conntrack related counters. ip_conntrack is for backwards
com- patibility with older userspace only and shows the same
data as nf_conntrack.</p>

<p>entries Number of entries in conntrack table.</p>

<p>searched Number of conntrack table lookups
performed.</p>

<p>found Number of searched entries which were
successful.</p>

<p>new Number of conntrack entries added which were not
expected before.</p>

<p>invalid Number of packets seen which can not be
tracked.</p>

<p>ignore Number of packets seen which are already
connected to a conntrack entry.</p>

<p>delete Number of conntrack entries which were
removed.</p>

<p>delete_list Number of conntrack entries which were put
to dying list.</p>

<p>insert Number of entries inserted into the list.</p>

<p>insert_failed Number of entries for which list insertion
was attempted but failed (happens if the same entry is
already present).</p>

<p>drop Number of packets dropped due to conntrack failure.
Either new conntrack entry allocation failed, or protocol
helper dropped the packet.</p>

<p>early_drop Number of dropped conntrack entries to make
room for new ones, if maximum table size was reached.</p>

<p>icmp_error Number of packets wich could not be tracked
due to error situation. This is a subset of invalid.</p>

<p>expect_new Number of conntrack entries added after an
expecta- tion for them was already present.</p>

<p>expect_create Number of expectations added.</p>

<p>expect_delete Number of expectations deleted.</p>

<p>search_restart Number of conntrack table lookups which
had to be restarted due to hashtable resizes.</p>

<p>/proc/net/stat/rt_cache Routing cache statistics.</p>

<p>entries Number of entries in routing cache.</p>

<p>in_hit Number of route cache hits for incoming packets.
Depre- cated since IP route cache removal, therefore always
zero.</p>

<p>in_slow_tot Number of routing cache entries added for
input traffic.</p>

<p>in_slow_mc Number of multicast routing cache entries
added for input traffic.</p>

<p>in_no_route Number of input packets for which no routing
table entry was found.</p>

<p>in_brd Number of matched input broadcast packets.</p>

<p>in_martian_dst Number of incoming martian destination
packets.</p>

<p>in_martian_src Number of incoming martian source
packets.</p>

<p>out_hit Number of route cache hits for outgoing packets.
Depre- cated since IP route cache removal, therefore always
zero.</p>

<p>out_slow_tot Number of routing cache entries added for
output traffic.</p>

<p>out_slow_mc Number of multicast routing cache entries
added for output traffic.</p>

<p>gc_total Total number of garbage collection runs.
Deprecated since IP route cache removal, therefore always
zero.</p>

<p>gc_ignored Number of ignored garbage collection runs due
to min- imum GC interval not reached and routing cache not
full. Depre- cated since IP route cache removal, therefore
always zero.</p>

<p>gc_goal_miss Number of garbage collector goal misses.
Deprecated since IP route cache removal, therefore always
zero.</p>

<p>gc_dst_overflow Number of destination cache overflows.
Depre- cated since IP route cache removal, therefore always
zero.</p>

<p>in_hlist_search Number of hash table list traversals for
input traffic. Deprecated since IP route cache removal,
therefore always zero.</p>

<p>out_hlist_search Number of hash table list traversals
for output traffic. Deprecated since IP route cache removal,
therefore always zero.</p>

<p>SEE ALSO ip(8), and
/usr/share/doc/iproute-2.6.32/README.lnstat (package
iproute-doc on Debian)</p>

<p>AUTHOR lnstat was written by Harald Welte
&lt;laforge@gnumonks.org&gt;.</p>

<p>This manual page was written by Michael Prokop
&lt;mika@grml.org&gt; for the Debian project (but may be
used by others).</p>

<p>LNSTAT(8)</p>
<hr>
</body>
</html>
