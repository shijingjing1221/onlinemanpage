<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:13:04 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>FENCE_AGENT(8) FENCE_AGENT(8)</p>

<p>NAME fence_vmware - Fence agent for VMWare</p>

<p>DESCRIPTION fence_vmware is an I/O Fencing agent which
can be used with the VMware ESX, VMware ESXi or VMware
Server to fence virtual machines.</p>

<p>Before you can use this agent, it must be installed VI
Perl Toolkit or vmrun command on every node you want to make
fencing.</p>

<p>VI Perl Toolkit is preferred for VMware ESX/ESXi and
Virtual Center. Vmrun command is only solution for VMware
Server 1/2 (this command will works against ESX/ESXi 3.5 up2
and VC up2 too, but not cluster aware!) and is available as
part of VMware VIX API SDK package. VI Perl and VIX API SDK
are both available from VMware web pages (not int RHEL
reposi- tory!).</p>

<p>You can specify type of VMware you are connecting to
with -d switch (or vmware_type for stdin). Possible values
are esx, server2 and server1.Default value is esx, which
will use VI Perl. With server1 and server2, vmrun command is
used.</p>

<p>After you have successfully installed VI Perl Toolkit or
VIX API, you should be able to run fence_vmware_helper (part
of this agent) or vmrun command. This agent supports only
vmrun from version 2.0.0 (VIX API 1.6.0).</p>

<p>fence_vmware accepts options on the command line as well
as from stdin. Fenced sends parameters through stdin when it
execs the agent. fence_vmware can be run by itself with
command line options. This is useful for testing and for
turning outlets on or off from scripts.</p>

<p>Vendor URL: http://www.vmware.com</p>

<p>PARAMETERS</p>

<p>-o, --action=[action] Fencing Action (Default Value:
reboot)</p>

<p>-e, --exec=[command] Command to execute</p>

<p>-k, --identity-file=[filename] Identity file for ssh</p>

<p>-4, --inet4-only Forces agent to use IPv4 addresses
only</p>

<p>-6, --inet6-only Forces agent to use IPv6 addresses
only</p>

<p>-a, --ip=[ip] IP Address or Hostname This parameter is
always required.</p>

<p>-u, --ipport=[port] TCP/UDP port to use for connection
with device (Default Value: 22)</p>

<p>-l, --username=[name] Login Name This parameter is
always required.</p>

<p>-p, --password=[password] Login password or
passphrase</p>

<p>-S, --password-script=[script] Script to retrieve
password</p>

<p>-x, --ssh SSH connection (Default Value: 1)</p>

<p>--ssh-options=[options] SSH options to use</p>

<p>-d, --vmware_type=[type] Type of VMware to connect
(Default Value: esx)</p>

<p>-s, --vmware-datacenter=[dc] Show only machines in
specified datacenter</p>

<p>-v, --verbose Verbose mode</p>

<p>-D, --debug-file=[debugfile] Write debug information to
given file</p>

<p>-V, --version Display version information and exit</p>

<p>-h, --help Display help and exit</p>

<p>--delay=[seconds] Wait X seconds before fencing is
started (Default Value: 0)</p>

<p>--login-timeout=[seconds] Wait X seconds for cmd prompt
after login (Default Value: 5)</p>

<p>--power-timeout=[seconds] Test X seconds for status
change after ON/OFF (Default Value: 20)</p>

<p>--power-wait=[seconds] Wait X seconds after issuing
ON/OFF (Default Value: 0)</p>

<p>--shell-timeout=[seconds] Wait X seconds for cmd prompt
after issuing command (Default Value: 3)</p>

<p>--retry-on=[attempts] Count of attempts to retry power
on (Default Value: 1)</p>

<p>--ssh-path=[path] Path to ssh binary (Default Value:
/usr/bin/ssh)</p>

<p>ACTIONS</p>

<p>on Power on machine.</p>

<p>off Power off machine.</p>

<p>reboot Reboot machine.</p>

<p>status This returns the status of the plug/virtual
machine.</p>

<p>list List available plugs with aliases/virtual machines
if there is support for more then one device. Returns N/A
otherwise.</p>

<p>list-status List available plugs with aliases/virtual
machines and their power state if it can be obtained without
additional commands.</p>

<p>monitor Check the health of fence device</p>

<p>metadata Display the XML metadata describing this
resource.</p>

<p>STDIN PARAMETERS</p>

<p>action Fencing Action (Default Value: reboot)</p>

<p>exec Command to execute</p>

<p>identity_file Identity file for ssh</p>

<p>inet4_only Forces agent to use IPv4 addresses only</p>

<p>inet6_only Forces agent to use IPv6 addresses only</p>

<p>ipaddr IP Address or Hostname This parameter is always
required.</p>

<p>ipport TCP/UDP port to use for connection with device
(Default Value: 22)</p>

<p>login Login Name This parameter is always required.</p>

<p>passwd Login password or passphrase</p>

<p>passwd_script Script to retrieve password</p>

<p>secure SSH connection (Default Value: 1)</p>

<p>ssh_options SSH options to use</p>

<p>vmware_type Type of VMware to connect (Default Value:
esx)</p>

<p>vmware_datacenter Show only machines in specified
datacenter</p>

<p>verbose Verbose mode</p>

<p>debug Write debug information to given file</p>

<p>version Display version information and exit</p>

<p>help Display help and exit</p>

<p>delay Wait X seconds before fencing is started (Default
Value: 0)</p>

<p>login_timeout Wait X seconds for cmd prompt after login
(Default Value: 5)</p>

<p>power_timeout Test X seconds for status change after
ON/OFF (Default Value: 20)</p>

<p>power_wait Wait X seconds after issuing ON/OFF (Default
Value: 0)</p>

<p>shell_timeout Wait X seconds for cmd prompt after
issuing command (Default Value: 3)</p>

<p>retry_on Count of attempts to retry power on (Default
Value: 1)</p>

<p>ssh_path Path to ssh binary (Default Value:
/usr/bin/ssh)</p>

<p>fence_vmware (Fence Agent) 2009-10-20 FENCE_AGENT(8)</p>
<hr>
</body>
</html>
