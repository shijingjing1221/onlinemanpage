<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:16:20 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>GLOB(3) Linux Programmer s Manual GLOB(3)</p>

<p>NAME glob, globfree - find pathnames matching a pattern,
free memory from glob()</p>

<p>SYNOPSIS #include &lt;glob.h&gt;</p>

<p>int glob(const char *pattern, int flags, int (*errfunc)
(const char *epath, int eerrno), glob_t *pglob); void
globfree(glob_t *pglob);</p>

<p>DESCRIPTION The glob() function searches for all the
pathnames matching pattern according to the rules used by
the shell (see glob(7)). No tilde expansion or parameter
substitution is done; if you want these, use wordexp(3).</p>

<p>The globfree() function frees the dynamically allocated
storage from an earlier call to glob().</p>

<p>The results of a glob() call are stored in the structure
pointed to by pglob. This structure is of type glob_t
(declared in &lt;glob.h&gt;) and includes the following
elements defined by POSIX.2 (more may be present as an
extension):</p>

<p>typedef struct { size_t gl_pathc; /* Count of paths
matched so far */ char **gl_pathv; /* List of matched
pathnames. */ size_t gl_offs; /* Slots to reserve in
gl_pathv. */ } glob_t;</p>

<p>Results are stored in dynamically allocated storage.</p>

<p>The argument flags is made up of the bitwise OR of zero
or more the following symbolic constants, which modify the
behavior of glob():</p>

<p>GLOB_ERR Return upon a read error (because a directory
does not have read permission, for example). By default,
glob() attempts carry on despite errors, reading all of the
directories that it can.</p>

<p>GLOB_MARK Append a slash to each path which corresponds
to a directory.</p>

<p>GLOB_NOSORT Don t sort the returned pathnames. The only
reason to do this is to save processing time. By default,
the returned pathnames are sorted.</p>

<p>GLOB_DOOFFS Reserve pglob-&gt;gl_offs slots at the
beginning of the list of strings in pglob-&gt;pathv. The
reserved slots contain NULL point- ers.</p>

<p>GLOB_NOCHECK If no pattern matches, return the original
pattern. By default, glob() returns GLOB_NOMATCH if there
are no matches.</p>

<p>GLOB_APPEND Append the results of this call to the
vector of results returned by a previous call to glob(). Do
not set this flag on the first invocation of glob().</p>

<p>GLOB_NOESCAPE Dont allow backslash (&rsquo;&acute;) to
be used as an escape character. Normally, a backslash can be
used to quote the following charac- ter, providing a
mechanism to turn off the special meaning
metacharacters.</p>

<p>flags may also include any of the following, which are
GNU extensions and not defined by POSIX.2:</p>

<p>GLOB_PERIOD Allow a leading period to be matched by
metacharacters. By default, metacharacters can t match a
leading period.</p>

<p>GLOB_ALTDIRFUNC Use alternative functions
pglob-&gt;gl_closedir, pglob-&gt;gl_readdir,
pglob-&gt;gl_opendir, pglob-&gt;gl_lstat, and
pglob-&gt;gl_stat for file system access instead of the
normal library functions.</p>

<p>GLOB_BRACE Expand csh(1) style brace expressions of the
form {a,b}. Brace expressions can be nested. Thus, for
example, specifying the pattern
&quot;{foo/{,cat,dog},bar}&quot; would return the same
results as four separate glob() calls using the strings:
&quot;foo/&quot;, &quot;foo/cat&quot;, &quot;foo/dog&quot;,
and &quot;bar&quot;.</p>

<p>GLOB_NOMAGIC If the pattern contains no metacharacters
then it should be returned as the sole matching word, even
if there is no file with that name.</p>

<p>GLOB_TILDE Carry out tilde expansion. If a tilde
(&rsquo;~&rsquo;) is the only charac- ter in the pattern, or
an initial tilde is followed immediately by a slash
(&rsquo;/&rsquo;), then the home directory of the caller is
sub- stituted for the tilde. If an initial tilde is followed
by a username (e.g., &quot;~andrea/bin&quot;), then the
tilde and username are substituted by the home directory of
that user. If the username is invalid, or the home directory
cannot be determined, then no substitution is performed.</p>

<p>GLOB_TILDE_CHECK This provides behavior similar to that
of GLOB_TILDE. The dif- ference is that if the username is
invalid, or the home direc- tory cannot be determined, then
instead of using the pattern itself as the name, glob()
returns GLOB_NOMATCH to indicate an error.</p>

<p>GLOB_ONLYDIR This is a hint to glob() that the caller is
interested only in directories that match the pattern. If
the implementation can easily determine file-type
information, then non-directory files are not returned to
the caller. However, the caller must still check that
returned files are directories. (The purpose of this flag is
merely to optimize performance when the caller is inter-
ested only in directories.)</p>

<p>If errfunc is not NULL, it will be called in case of an
error with the arguments epath, a pointer to the path which
failed, and eerrno, the value of errno as returned from one
of the calls to opendir(3), read- dir(3), or stat(2). If
errfunc returns non-zero, or if GLOB_ERR is set, glob() will
terminate after the call to errfunc.</p>

<p>Upon successful return, pglob-&gt;gl_pathc contains the
number of matched pathnames and pglob-&gt;gl_pathv contains
a pointer to the list of pointers to matched pathnames. The
list of pointers is terminated by a NULL pointer.</p>

<p>It is possible to call glob() several times. In that
case, the GLOB_APPEND flag has to be set in flags on the
second and later invoca- tions.</p>

<p>As a GNU extension, pglob-&gt;gl_flags is set to the
flags specified, ored with GLOB_MAGCHAR if any
metacharacters were found.</p>

<p>RETURN VALUE On successful completion, glob() returns
zero. Other possible returns are:</p>

<p>GLOB_NOSPACE for running out of memory,</p>

<p>GLOB_ABORTED for a read error, and</p>

<p>GLOB_NOMATCH for no found matches.</p>

<p>CONFORMING TO POSIX.2, POSIX.1-2001.</p>

<p>NOTES The structure elements gl_pathc and gl_offs are
declared as size_t in glibc 2.1, as they should be according
to POSIX.2, but are declared as int in libc4, libc5 and
glibc 2.0.</p>

<p>BUGS The glob() function may fail due to failure of
underlying function calls, such as malloc(3) or opendir(3).
These will store their error code in errno.</p>

<p>EXAMPLE One example of use is the following code, which
simulates typing</p>

<p>ls -l *.c ../*.c</p>

<p>in the shell:</p>

<p>glob_t globbuf;</p>

<p>globbuf.gl_offs = 2; glob(&quot;*.c&quot;, GLOB_DOOFFS,
NULL, &amp;globbuf); glob(&quot;../*.c&quot;, GLOB_DOOFFS |
GLOB_APPEND, NULL, &amp;globbuf); globbuf.gl_pathv[0] =
&quot;ls&quot;; globbuf.gl_pathv[1] = &quot;-l&quot;;
execvp(&quot;ls&quot;, &amp;globbuf.gl_pathv[0]);</p>

<p>SEE ALSO ls(1), sh(1), stat(2), exec(3), fnmatch(3),
malloc(3), opendir(3), readdir(3), wordexp(3), glob(7)</p>

<p>COLOPHON This page is part of release 3.22 of the Linux
man-pages project. A description of the project, and
information about reporting bugs, can be found at
http://www.kernel.org/doc/man-pages/.</p>

<p>GNU 2007-10-10 GLOB(3)</p>
<hr>
</body>
</html>
