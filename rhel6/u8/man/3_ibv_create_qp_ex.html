<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:19:13 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>IBV_CREATE_QP_EX(3) Libibverbs Programmer s Manual
IBV_CREATE_QP_EX(3)</p>

<p>NAME ibv_create_qp_ex, ibv_destroy_qp - create or
destroy a queue pair (QP)</p>

<p>SYNOPSIS #include &lt;infiniband/verbs.h&gt;</p>

<p>struct ibv_qp *ibv_create_qp_ex(struct ibv_context
*context, struct ibv_qp_init_attr_ex *qp_init_attr);</p>

<p>int ibv_destroy_qp(struct ibv_qp *qp);</p>

<p>DESCRIPTION ibv_create_qp_ex() creates a queue pair (QP)
associated with the pro- tection domain pd. The argument
qp_init_attr_ex is an ibv_qp_init_attr_ex struct, as defined
in &lt;infiniband/verbs.h&gt;.</p>

<p>struct ibv_qp_init_attr_ex { void *qp_context; /*
Associated context of the QP */ struct ibv_cq *send_cq; /*
CQ to be associated with the Send Queue (SQ) */ struct
ibv_cq *recv_cq; /* CQ to be associated with the Receive
Queue (RQ) */ struct ibv_srq *srq; /* SRQ handle if QP is to
be associated with an SRQ, otherwise NULL */ struct
ibv_qp_cap cap; /* QP capabilities */ enum ibv_qp_type
qp_type; /* QP Transport Service Type: IBV_QPT_RC,
IBV_QPT_UC, IBV_QPT_UD or IBV_QPT_RAW_PACKET */ int
sq_sig_all; /* If set, each Work Request (WR) submitted to
the SQ generates a completion entry */ uint32_t comp_mask;
/* Identifies valid fields */ struct ibv_pd *pd; /* PD to be
associated with the QP */ struct ibv_xrcd *xrcd; /* XRC
domain to be associated with the target QP */ enum
ibv_qp_create_flags create_flags; /* Creation flags for this
QP */ };</p>

<p>struct ibv_qp_cap { uint32_t max_send_wr; /* Requested
max number of outstanding WRs in the SQ */ uint32_t
max_recv_wr; /* Requested max number of outstanding WRs in
the RQ */ uint32_t max_send_sge; /* Requested max number of
scatter/gather (s/g) elements in a WR in the SQ */ uint32_t
max_recv_sge; /* Requested max number of s/g elements in a
WR in the SQ */ uint32_t max_inline_data;/* Requested max
number of data (bytes) that can be posted inline to the SQ,
otherwise 0 */ };</p>

<p>The function ibv_create_qp_ex() will update the
qp_init_attr_ex-&gt;cap struct with the actual QP values of
the QP that was created; the values will be greater than or
equal to the values requested.</p>

<p>ibv_destroy_qp() destroys the QP qp.</p>

<p>RETURN VALUE ibv_create_qp_ex() returns a pointer to the
created QP, or NULL if the request fails. Check the QP
number (qp_num) in the returned QP.</p>

<p>ibv_destroy_qp() returns 0 on success, or the value of
errno on failure (which indicates the failure reason).</p>

<p>NOTES The attributes max_recv_wr and max_recv_sge are
ignored by ibv_cre- ate_qp_ex() if the QP is to be
associated with an SRQ.</p>

<p>ibv_destroy_qp() fails if the QP is attached to a
multicast group.</p>

<p>SEE ALSO ibv_alloc_pd(3), ibv_modify_qp(3),
ibv_query_qp(3)</p>

<p>AUTHORS Yishai Hadas &lt;yishaih@mellanox.com&gt;</p>

<p>libibverbs 2013-06-26 IBV_CREATE_QP_EX(3)</p>
<hr>
</body>
</html>
