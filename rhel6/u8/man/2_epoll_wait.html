<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:11:06 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>EPOLL_WAIT(2) Linux Programmer s Manual
EPOLL_WAIT(2)</p>

<p>NAME epoll_wait, epoll_pwait - wait for an I/O event on
an epoll file descriptor</p>

<p>SYNOPSIS #include &lt;sys/epoll.h&gt;</p>

<p>int epoll_wait(int epfd, struct epoll_event *events, int
maxevents, int timeout); int epoll_pwait(int epfd, struct
epoll_event *events, int maxevents, int timeout, const
sigset_t *sigmask);</p>

<p>DESCRIPTION The epoll_wait() system call waits for
events on the epoll instance referred to by the file
descriptor epfd. The memory area pointed to by events will
contain the events that will be available for the caller. Up
to maxevents are returned by epoll_wait(). The maxevents
argument must be greater than zero.</p>

<p>The call waits for a maximum time of timeout
milliseconds. Specifying a timeout of -1 makes epoll_wait()
wait indefinitely, while specifying a timeout equal to zero
makes epoll_wait() to return immediately even if no events
are available (return code equal to zero).</p>

<p>The struct epoll_event is defined as :</p>

<p>typedef union epoll_data { void *ptr; int fd; uint32_t
u32; uint64_t u64; } epoll_data_t;</p>

<p>struct epoll_event { uint32_t events; /* Epoll events */
epoll_data_t data; /* User data variable */ };</p>

<p>The data of each returned structure will contain the
same data the user set with an epoll_ctl(2)
(EPOLL_CTL_ADD,EPOLL_CTL_MOD) while the events member will
contain the returned event bit field.</p>

<p>epoll_pwait() The relationship between epoll_wait() and
epoll_pwait() is analogous to the relationship between
select(2) and pselect(2): like pselect(2), epoll_pwait()
allows an application to safely wait until either a file
descriptor becomes ready or until a signal is caught.</p>

<p>The following epoll_pwait() call:</p>

<p>ready = epoll_pwait(epfd, &amp;events, maxevents,
timeout, &amp;sigmask);</p>

<p>is equivalent to atomically executing the following
calls:</p>

<p>sigset_t origmask;</p>

<p>sigprocmask(SIG_SETMASK, &amp;sigmask, &amp;origmask);
ready = epoll_wait(epfd, &amp;events, maxevents, timeout);
sigprocmask(SIG_SETMASK, &amp;origmask, NULL);</p>

<p>The sigmask argument may be specified as NULL, in which
case epoll_pwait() is equivalent to epoll_wait().</p>

<p>RETURN VALUE When successful, epoll_wait() returns the
number of file descriptors ready for the requested I/O, or
zero if no file descriptor became ready during the requested
timeout milliseconds. When an error occurs, epoll_wait()
returns -1 and errno is set appropriately.</p>

<p>ERRORS EBADF epfd is not a valid file descriptor.</p>

<p>EFAULT The memory area pointed to by events is not
accessible with write permissions.</p>

<p>EINTR The call was interrupted by a signal handler
before any of the requested events occurred or the timeout
expired; see signal(7).</p>

<p>EINVAL epfd is not an epoll file descriptor, or
maxevents is less than or equal to zero.</p>

<p>VERSIONS epoll_pwait() was added to Linux in kernel
2.6.19.</p>

<p>Glibc support for epoll_pwait() is provided starting
with version 2.6.</p>

<p>CONFORMING TO epoll_wait() is Linux-specific, and was
introduced in kernel 2.5.44.</p>

<p>SEE ALSO epoll_create(2), epoll_ctl(2), epoll(7)</p>

<p>COLOPHON This page is part of release 3.22 of the Linux
man-pages project. A description of the project, and
information about reporting bugs, can be found at
http://www.kernel.org/doc/man-pages/.</p>

<p>Linux 2009-01-17 EPOLL_WAIT(2)</p>
<hr>
</body>
</html>
