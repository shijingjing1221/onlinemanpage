<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:15:44 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>GETRUSAGE(2) Linux Programmer s Manual GETRUSAGE(2)</p>

<p>NAME getrusage - get resource usage</p>

<p>SYNOPSIS #include &lt;sys/time.h&gt; #include
&lt;sys/resource.h&gt;</p>

<p>int getrusage(int who, struct rusage *usage);</p>

<p>DESCRIPTION getrusage() returns resource usage measures
for who, which can be one of the following:</p>

<p>RUSAGE_SELF Return resource usage statistics for the
calling process, which is the sum of resources used by all
threads in the process.</p>

<p>RUSAGE_CHILDREN Return resource usage statistics for all
children of the calling process that have terminated and
been waited for. These statis- tics will include the
resources used by grandchildren, and fur- ther removed
descendants, if all of the intervening descendants waited on
their terminated children.</p>

<p>RUSAGE_THREAD (since Linux 2.6.26) Return resource usage
statistics for the calling thread.</p>

<p>The resource usages are returned in the structure
pointed to by usage, which has the following form:</p>

<p>struct rusage { struct timeval ru_utime; /* user time
used */ struct timeval ru_stime; /* system time used */ long
ru_maxrss; /* maximum resident set size */ long ru_ixrss; /*
integral shared memory size */ long ru_idrss; /* integral
unshared data size */ long ru_isrss; /* integral unshared
stack size */ long ru_minflt; /* page reclaims */ long
ru_majflt; /* page faults */ long ru_nswap; /* swaps */ long
ru_inblock; /* block input operations */ long ru_oublock; /*
block output operations */ long ru_msgsnd; /* messages sent
*/ long ru_msgrcv; /* messages received */ long ru_nsignals;
/* signals received */ long ru_nvcsw; /* voluntary context
switches */ long ru_nivcsw; /* involuntary context switches
*/ };</p>

<p>RETURN VALUE On success, zero is returned. On error, -1
is returned, and errno is set appropriately.</p>

<p>ERRORS EFAULT usage points outside the accessible
address space.</p>

<p>EINVAL who is invalid.</p>

<p>CONFORMING TO SVr4, 4.3BSD. POSIX.1-2001 specifies
getrusage(), but only specifies the fields ru_utime and
ru_stime.</p>

<p>RUSAGE_THREAD is Linux-specific.</p>

<p>NOTES Resource usage metrics are preserved across an
execve(2).</p>

<p>Including &lt;sys/time.h&gt; is not required these days,
but increases porta- bility. (Indeed, struct timeval is
defined in &lt;sys/time.h&gt;.)</p>

<p>In Linux kernel versions before 2.6.9, if the
disposition of SIGCHLD is set to SIG_IGN then the resource
usages of child processes are automat- ically included in
the value returned by RUSAGE_CHILDREN, although POSIX.1-2001
explicitly prohibits this. This non-conformance is recti-
fied in Linux 2.6.9 and later.</p>

<p>The structure definition shown at the start of this page
was taken from 4.3BSD Reno. Not all fields are meaningful
under Linux. In Linux 2.4 only the fields ru_utime,
ru_stime, ru_minflt, and ru_majflt are main- tained. Since
Linux 2.6, ru_nvcsw and ru_nivcsw are also maintained.</p>

<p>See also the description of /proc/PID/stat in
proc(5).</p>

<p>SEE ALSO clock_gettime(2), getrlimit(2), times(2),
wait(2), wait4(2), clock(3)</p>

<p>COLOPHON This page is part of release 3.22 of the Linux
man-pages project. A description of the project, and
information about reporting bugs, can be found at
http://www.kernel.org/doc/man-pages/.</p>

<p>Linux 2008-10-06 GETRUSAGE(2)</p>
<hr>
</body>
</html>
