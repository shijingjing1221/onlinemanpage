<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:33:11 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>SDL_Event(3) SDL API Reference SDL_Event(3)</p>

<p>NAME SDL_Event - General event structure</p>

<p>STRUCTURE DEFINITION typedef union{ Uint8 type;
SDL_ActiveEvent active; SDL_KeyboardEvent key;
SDL_MouseMotionEvent motion; SDL_MouseButtonEvent button;
SDL_JoyAxisEvent jaxis; SDL_JoyBallEvent jball;
SDL_JoyHatEvent jhat; SDL_JoyButtonEvent jbutton;
SDL_ResizeEvent resize; SDL_ExposeEvent expose;
SDL_QuitEvent quit; SDL_UserEvent user; SDL_SysWMEvent
syswm; } SDL_Event;</p>

<p>STRUCTURE DATA type The type of event</p>

<p>active Activation event</p>

<p>key Keyboard event</p>

<p>motion Mouse motion event</p>

<p>button Mouse button event</p>

<p>jaxis Joystick axis motion event</p>

<p>jball Joystick trackball motion event</p>

<p>jhat Joystick hat motion event</p>

<p>jbutton Joystick button event</p>

<p>resize Application window resize event</p>

<p>expose Application window expose event</p>

<p>quit Application quit request event</p>

<p>user User defined event</p>

<p>syswm Undefined window manager event</p>

<p>DESCRIPTION The SDL_Event union is the core to all event
handling is SDL, its prob- ably the most important structure
after SDL_Surface. SDL_Event is a union of all event
structures used in SDL, using it is a simple matter of
knowing which union member relates to which event type.</p>

<p>Event type Event Structure</p>

<p>SDL_ACTIVEEVENT SDL_ActiveEvent</p>

<p>SDL_KEYDOWN/UP SDL_KeyboardEvent</p>

<p>SDL_MOUSEMOTION SDL_MouseMotionEvent</p>

<p>SDL_MOUSEBUTTONDOWN/UP SDL_MouseButtonEvent</p>

<p>SDL_JOYAXISMOTION SDL_JoyAxisEvent</p>

<p>SDL_JOYBALLMOTION SDL_JoyBallEvent</p>

<p>SDL_JOYHATMOTION SDL_JoyHatEvent</p>

<p>SDL_JOYBUTTONDOWN/UP SDL_JoyButtonEvent</p>

<p>SDL_QUIT SDL_QuitEvent</p>

<p>SDL_SYSWMEVENT SDL_SysWMEvent</p>

<p>SDL_VIDEORESIZE SDL_ResizeEvent</p>

<p>SDL_VIDEOEXPOSE SDL_ExposeEvent</p>

<p>SDL_USEREVENT SDL_UserEvent</p>

<p>USE The SDL_Event structure has two uses</p>

<p>&middot; Reading events on the event queue</p>

<p>&middot; Placing events on the event queue</p>

<p>Reading events from the event queue is done with either
SDL_PollEvent or SDL_PeepEvents. Well use SDL_PollEvent and
step through an example.</p>

<p>First off, we create an empty SDL_Event structure.</p>

<p>SDL_Event test_event;</p>

<p>SDL_PollEvent removes the next event from the event
queue, if there are no events on the queue it returns 0
otherwise it returns 1. We use a while loop to process each
event in turn.</p>

<p>while(SDL_PollEvent(&amp;test_event)) {</p>

<p>The SDL_PollEvent function take a pointer to an
SDL_Event structure that is to be filled with event
information. We know that if SDL_PollEvent removes an event
from the queue then the event informa- tion will be placed
in our test_event structure, but we also know that the type
of event will be placed in the type member of test_event. So
to handle each event type seperately we use a switch
statement.</p>

<p>switch(test_event.type) {</p>

<p>We need to know what kind of events were looking for and
the event type s of those events. So lets assume we want to
detect where the user is moving the mouse pointer within our
application. We look through our event types and notice that
SDL_MOUSEMOTION is, more than likely, the event were looking
for. A little more research tells use that SDL_MOUSEMOTION
events are handled within the SDL_MouseMotionEvent structure
which is the motion member of SDL_Event. We can check for
the SDL_MOUSEMOTION event type within our switch statement
like so:</p>

<p>case SDL_MOUSEMOTION:</p>

<p>All we need do now is read the information out of the
motion member of test_event.</p>

<p>printf(&quot;We got a motion event. &quot;);
printf(&quot;Current mouse position is: (%d, %d) &quot;,
test_event.motion.x, test_event.motion.y); break; default:
printf(&quot;Unhandled Event! &quot;); break; } }
printf(&quot;Event queue empty. &quot;);</p>

<p>It is also possible to push events onto the event queue
and so use it as a two-way communication path. Both
SDL_PushEvent and SDL_PeepEvents allow you to place events
onto the event queue. This is usually used to place a
SDL_USEREVENT on the event queue, however you could use it
to post fake input events if you wished. Creating your own
events is a simple matter of choosing the event type you
want, setting the type member and filling the appropriate
member structure with information.</p>

<p>SDL_Event user_event;</p>

<p>user_event.type=SDL_USEREVENT; user_event.user.code=2;
user_event.user.data1=NULL; user_event.user.data2=NULL;
SDL_PushEvent(&amp;user_event);</p>

<p>SEE ALSO SDL_PollEvent, SDL_PushEvent,
SDL_PeepEvents</p>

<p>SDL Tue 11 Sep 2001, 22:59 SDL_Event(3)</p>
<hr>
</body>
</html>
