<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:19:37 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>IMAPD.CONF(5) IMAPD.CONF(5)</p>

<p>*</p>

<p>NAME imapd.conf - IMAP configuration file</p>

<p>DESCRIPTION /etc/imapd.conf is the configuration file
for the Cyrus IMAP server. It defines local parameters for
IMAP.</p>

<p>Each line of the /etc/imapd.conf file has the form</p>

<p>option: value</p>

<p>where option is the name of the configuration option
being set and value is the value that the configuration
option is being set to.</p>

<p>Although there is no limit to the length of a line, a
(backslash) character may be used as the last character on a
line to force it to continue on the next one. No additional
whitespace is inserted before or after the . Note that a
line that is split using charac- ter(s) is still considered
a single line. For example</p>

<p>option: value1 value2 value3</p>

<p>is equivalent to</p>

<p>option: value1 value2 value3</p>

<p>Blank lines and lines beginning with # are ignored.</p>

<p>For boolean and enumerated options, the values yes, on,
t , true and 1 turn the option on, the values no, off, f,
false and 0 turn the option off.</p>

<p>FIELD DESCRIPTIONS The sections below detail options
that can be placed in the /etc/imapd.conf file, and show
each option s default value. Some options have no default
value, these are listed with &lt;no default&gt;. Some
options default to the empty string, these are listed with
&lt;none&gt;.</p>

<p>admins: &lt;empty string&gt; The list of userids with
administrative rights. Separate each userid with a space.
Sites using Kerberos authentication may use separate
&quot;admin&quot; instances.</p>

<p>Note that accounts used by users should not be
administrators. Admin- istrative accounts should not receive
mail. That is, if user &quot;jbRo&quot; is a user reading
mail, he should not also be in the admins line. Some
problems may occur otherwise, most notably the ability of
administra- tors to create top-level mailboxes visible to
users, but not writable by users.</p>

<p>afspts_localrealms: &lt;none&gt; The list of realms
which are to be treated as local, and thus stripped during
identifier canonicalization (for the AFSPTS ptloader
module). This is different from loginrealms in that it
occurs later in the authorization process (as the user id is
canonified for PTS lookup)</p>

<p>afspts_mycell: &lt;none&gt; Cell to use for AFS PTS
lookups. Defaults to the local cell.</p>

<p>allowallsubscribe: 0 Allow subscription to nonexistent
mailboxes. This option is typi- cally used on backend
servers in a Murder so that users can sub- scribe to
mailboxes that don t reside on their &quot;home&quot;
server. This option can also be used as a workaround for
IMAP clients which don t play well with nonexistent or
unselectable mailboxes (e.g., Microsoft Outlook).</p>

<p>allowanonymouslogin: 0 Permit logins by the user
&quot;anonymous&quot; using any password. Also allows use of
the SASL ANONYMOUS mechanism.</p>

<p>allowapop: 1 Allow use of the POP3 APOP authentication
command.</p>

<p>Note that this command requires that SASL is compiled
with APOP sup- port, that the plaintext passwords are
available in a SASL auxprop backend (e.g., sasldb), and that
the system can provide enough entropy (e.g., from
/dev/urandom) to create a challenge in the banner.</p>

<p>allownewnews: 0 Allow use of the NNTP NEWNEWS
command.</p>

<p>Note that this is a very expensive command and should
only be enabled when absolutely necessary.</p>

<p>allowplaintext: 0 Allow the use of cleartext passwords
on the wire.</p>

<p>allowusermoves: 0 Allow moving user accounts (with
associated meta-data) via RENAME or XFER.</p>

<p>Note that measures should be taken to make sure that the
user being moved is not logged in, and cannot login during
the move. Failure to do so may result in the users meta-data
(seen state, subscriptions, etc) being corrupted or out of
date.</p>

<p>altnamespace: 0 Use the alternate IMAP namespace, where
personal folders reside at the same level in the hierarchy
as INBOX.</p>

<p>This option ONLY applies where interaction takes place
with the client/user. Currently this is limited to the IMAP
protocol (imapd) and Sieve scripts (lmtpd). This option does
NOT apply to admin tools such as cyradm (admins ONLY),
reconstruct, quota, etc., NOR does it affect LMTP delivery
of messages directly to mailboxes via plus- addressing.</p>

<p>annotation_db: skiplist The cyrusdb backend to use for
mailbox annotations.</p>

<p>Allowed values: berkeley, berkeley-hash, skiplist</p>

<p>anyoneuseracl: 1 Should non-admin users be allowed to
set ACLs for the anyone user on their mailboxes? In a large
organization this can cause support problems, but its
enabled by default.</p>

<p>annotation_definitions: &lt;none&gt; File containing
external (third-party) annotation definitions.</p>

<p>Each line of the file specifies the properties of an
annotation and has the following form:</p>

<p>name, scope, attrib-type, proxy-type, attrib-names,
acl</p>

<p>name is the hierarchical name as in the draft standard,
typically of the form /vendor/acme/blurdybloop</p>

<p>scope specifies whether the annotation is for the server
or a mailbox</p>

<p>attrib-type specifies the attribute data type which is
one of: string, boolean, int, uint, or content-type</p>

<p>proxy-type specifies whether this attribute is for the
backend or proxy servers or both (proxy_and_backend)</p>

<p>attrib-names is the space-separated list of available
attributes for the anno- tation. Possible attribute names
are (where the suffixless foo permits both foo.priv and
foo.shared): alue, value.shared, value.priv, size,
size.shared, size.priv, modifiedsince, modi-
fiedsince.shared, modifiedsince.priv, content-type, content-
type.shared, content-type.priv</p>

<p>acl is the extra ACL requirements for setting
annotations. This is the standard IMAP ACL permission bit
string format. Particularly use- ful is the a right to
require admin privileges. Note that some ACL requirements
(read and write on the mailbox) are hard-wired in the
server</p>

<p>Blank lines and lines beginning with # are ignored.</p>

<p>auth_mech: unix The authorization mechanism to use.</p>

<p>Allowed values: unix, pts, krb, krb5</p>

<p>autocreatequota: 0 If nonzero, normal users may create
their own IMAP accounts by creating the mailbox INBOX. The
users quota is set to the value if it is positive, otherwise
the user has unlimited quota.</p>

<p>berkeley_cachesize: 512 Size (in kilobytes) of the
shared memory buffer pool (cache) used by the berkeley
environment. The minimum allowed value is 20. The maximum
allowed value is 4194303 (4GB).</p>

<p>berkeley_locks_max: 50000 Maximum number of locks to be
held or requested in the berkeley environment.</p>

<p>berkeley_txns_max: 100 Maximum number of transactions to
be supported in the berkeley environment.</p>

<p>client_timeout: 10 Number of seconds to wait before
returning a timeout failure when performing a client
connection (e.g., in a murder environment)</p>

<p>createonpost: 0 If yes, when lmtpd receives an incoming
mail for an INBOX that does not exist, then the INBOX is
automatically created by lmtpd.</p>

<p>autocreateinboxfolders: &lt;none&gt; If a user does not
have an INBOX created then the INBOX as well as some INBOX
subfolders are created under two conditions. 1. The user
logins via the IMAP or the POP3 protocol. (autocreatequota
option must have a nonzero value) 2. A message arrives for
the user through the LMTPD protocol.(createonpost option
must be yes) autocreateinboxfolders is a list of INBOX s
subfolders separated by a &quot;|&quot;, that are
automatically created by the server under the previous two
situations.</p>

<p>autosubscribeinboxfolders: &lt;none&gt; A list of folder
names, separated by &quot;|&quot;, that the users get auto-
matically subscribed to, when their INBOX is created. These
folder names must have been included in the
autocreateinboxfolders option of the imapd.conf.</p>

<p>autosubscribesharedfolders: &lt;none&gt; A list of
shared folders (bulletin boards), separated by
&quot;|&quot;, that the users get automatically subscribed
to, after their INBOX is created. The shared folder must
have been created and the user must have the required
permissions to get subscribed to it. Other- wise,
subscribing to the shared folder fails.</p>

<p>autosubscribe_all_sharedfolders: 0 If set to yes, the
user is automatically subscribed to all shared folders, one
has permission to subscribe to.</p>

<p>autocreate_sieve_script: &lt;none&gt; The full path of a
file that contains a sieve script. This script automatically
becomes a users initial default sieve filter script. When
this option is not defined, no default sieve filter is
created. The file must be readable by the cyrus daemon.</p>

<p>autocreate_sieve_compiledscript: &lt;none&gt; The full
path of a file that contains a compiled in bytecode sieve
script. This script automatically becomes a users initial
default sieve filter script. If this option is not
specified, or the filename doesn t exist then the script
defined by autocre- ate_sieve_script is compiled on the fly
and installed as the users default sieve script</p>

<p>generate_compiled_sieve_script: 0 If set to yes and no
compiled sieve script file exists, the sieve script which is
compiled on the fly will be saved in the file name that
autocreate_sieve_compiledscript option points to. In order a
compiled script to be generated, autocreate_sieve_script and
autocreate_sieve_compiledscript must have valid values</p>

<p>autocreate_users: anyone A space separated list of users
and/or groups that are allowed their INBOX to be
automatically created.</p>

<p>configdirectory: &lt;none&gt; The pathname of the IMAP
configuration directory. This field is required.</p>

<p>debug_command: &lt;none&gt; Debug command to be used by
processes started with -D option. The string is a C format
string that gets 3 options: the first is the name of the
executable (without path). The second is the pid (integer)
and the third is the service ID. Example: /usr/local/bin/gdb
/usr/cyrus/bin/%s %d</p>

<p>defaultacl: anyone lrs The Access Control List (ACL)
placed on a newly-created (non-user) mailbox that does not
have a parent mailbox.</p>

<p>defaultdomain: &lt;none&gt; The default domain for
virtual domain support</p>

<p>defaultpartition: &lt;none&gt; The partition name used
by default for new mailboxes. If not specified, the
partition with the most free space will be used for new
mailboxes.</p>

<p>defaultserver: &lt;none&gt; The backend server name used
by default for new mailboxes. If not specified, the server
with the most free space will be used for new mailboxes.</p>

<p>deletedprefix: DELETED If &quot;delete_mode&quot; set to
be &quot;delayed&quot;, the prefix for the deleted mailboxes
hierarchy. The hierarchy delimiter will be automati- cally
appended.</p>

<p>delete_mode: immediate The manner in which mailboxes are
deleted. &quot;Immediate&quot; mode is the default behavior
in which mailboxes are removed immediately. In
&quot;delayed&quot; mode, mailboxes are renamed to a special
hiearchy defined by the &quot;deletedprefix&quot; option to
be removed later by cyr_expire.</p>

<p>Allowed values: immediate, delayed</p>

<p>deleteright: c Deprecated - only used for backwards
compatibility with existing installations. Lists the old RFC
2086 right which was used to grant the user the ability to
delete a mailbox. If a user has this right, they will
automatically be given the new x right.</p>

<p>disconnect_on_vanished_mailbox: 0 If enabled,
IMAP/POP3/NNTP clients will be disconnected by the server if
the currently selected mailbox is (re)moved by another
session. Otherwise, the missing mailbox is treated as empty
while in use by the client.</p>

<p>duplicate_db: berkeley-nosync The cyrusdb backend to use
for the duplicate delivery suppression and sieve.</p>

<p>Allowed values: berkeley, berkeley-nosync,
berkeley-hash, berke- ley-hash-nosync, skiplist, sql</p>

<p>duplicatesuppression: 1 If enabled, lmtpd will suppress
delivery of a message to a mailbox if a message with the
same message-id (or resent-message-id) is recorded as having
already been delivered to the mailbox. Records the mailbox
and message-id/resent-message-id of all successful
deliveries.</p>

<p>expunge_mode: immediate The mode in which messages (and
their corresponding cache entries) are expunged.
&quot;Immediate&quot; mode is the default behavior in which
the message files and cache entries are purged at the time
of the EXPUNGE. In &quot;delayed&quot; mode, the messages
are removed from the mailbox index at the time of the
EXPUNGE (hiding them from the client), but the message files
and cache entries are left behind, to be purged at a later
time by &quot;cyr_expire&quot;. This reduces the amount of
I/O that takes place at the time of EXPUNGE and should
result in greater responsiveness for the client, especially
when expunging a large number of messages.</p>

<p>Allowed values: immediate, delayed</p>

<p>flushseenstate: 0 If enabled, changes to the seen state
will be flushed to disk immediately, otherwise changes will
be cached and flushed when the mailbox is closed. This
option may be used to fix the problem of previously read
messages being marked as unread in Microsoft Out- look, at
the expense of a loss of performance/scalability.</p>

<p>foolstupidclients: 0 If enabled, only list the personal
namespace when a LIST &quot;*&quot; is performed (it changes
the request to a LIST &quot;INBOX*&quot;).</p>

<p>force_sasl_client_mech: &lt;none&gt; Force preference of
a given SASL mechanism for client side opera- tions (e.g.,
murder environments). This is separate from (and overridden
by) the ability to use the &lt;host shortname&gt;_mechs
option to set preferred mechanisms for a specific host</p>

<p>fulldirhash: 0 If enabled, uses an improved directory
hashing scheme which hashes on the entire username instead
of using just the first letter as the hash. This changes
hash algorithm used for quota and user directories and if
hashimapspool is enabled, the entire mail spool.</p>

<p>Note that this option CANNOT be changed on a live
system. The server must be quiesced and then the directories
moved with the rehash util- ity.</p>

<p>guid_mode: off The method used to calculate Globally
Unique IDentifiers of mes- sages (used by the replication
engine). The &quot;sha1&quot; method calcu- lates a SHA1
hash of the entire message</p>

<p>Allowed values: off, sha1</p>

<p>hashimapspool: 0 If enabled, the partitions will also be
hashed, in addition to the hashing done on configuration
directories. This is recommended if one partition has a very
bushy mailbox tree.</p>

<p>hostname_mechs: &lt;none&gt; Force a particular list of
SASL mechanisms to be used when authen- ticating to the
backend server hostname (where hostname is the short
hostname of the server in question). If it is not specified
it will query the server for available mechanisms and pick
one to use. - Cyrus Murder</p>

<p>hostname_password: &lt;none&gt; The password to use for
authentication to the backend server host- name (where
hostname is the short hostname of the server) - Cyrus
Murder</p>

<p>idlesocket: {configdirectory}/socket/idle Unix domain
socket that idled listens on.</p>

<p>ignorereference: 0 For backwards compatibility with
Cyrus 1.5.10 and earlier -- ignore the reference argument in
LIST or LSUB commands.</p>

<p>imapidlepoll: 60 The interval (in seconds) for polling
for mailbox changes and ALERTs while running the IDLE
command. This option is used when idled is not enabled or
cannot be contacted. The minimum value is 1. A value of 0
will disable IDLE.</p>

<p>imapidresponse: 1 If enabled, the server responds to an
ID command with a parameter list containing: version,
vendor, support-url, os, os-version, command, arguments,
environment. Otherwise the server returns NIL.</p>

<p>imapmagicplus: 0 Only list a restricted set of mailboxes
via IMAP by using userid+namespace syntax as the
authentication/authorization id. Using userid+ (with an
empty namespace) will list only subscribed mailboxes.</p>

<p>implicit_owner_rights: lkxa The implicit Access Control
List (ACL) for the owner of a mailbox.</p>

<p>@include: &lt;none&gt; Directive which includes the
specified file as part of the config- uration. If the path
to the file is not absolute, CYRUS_PATH is prepended.</p>

<p>improved_mboxlist_sort: 0 If enabled, a special
comparator will be used which will correctly sort mailbox
names that contain characters such as and -.</p>

<p>Note that this option SHOULD NOT be changed on a live
system. The mailboxes database should be dumped before the
option is changed, removed, and then undumped after changing
the option.</p>

<p>ldap_authz: &lt;none&gt; SASL authorization ID for the
LDAP server</p>

<p>ldap_base: &lt;empty string&gt; Contains the LDAP base
dn for the LDAP ptloader module</p>

<p>ldap_bind_dn: &lt;none&gt; Bind DN for the connection to
the LDAP server (simple bind). Do not use for anonymous
simple binds</p>

<p>ldap_deref: never Specify how aliases dereferencing is
handled during search.</p>

<p>Allowed values: search, find, always, never</p>

<p>ldap_filter: (uid=%u) Specify a filter that searches
user identifiers. The following tokens can be used in the
filter string:</p>

<p>%% = % %u = user %U = user portion of %u (%U = test when
%u = test@domain.tld) %d = domain portion of %u if available
(%d = domain.tld when %u = %test@domain.tld), otherwise same
as %r %D = user dn. (use when ldap_member_method: filter)
%1-9 = domain tokens (%1 = tld, %2 = domain when %d =
domain.tld)</p>

<p>ldap_filter is not used when ldap_sasl is enabled.</p>

<p>ldap_group_base: &lt;empty string&gt; LDAP base dn for
ldap_group_filter.</p>

<p>ldap_group_filter: (cn=%u) Specify a filter that
searches for group identifiers. See ldap_filter for more
options.</p>

<p>ldap_group_scope: sub Specify search scope for
ldap_group_filter.</p>

<p>Allowed values: sub, one, base</p>

<p>ldap_id: &lt;none&gt; SASL authentication ID for the
LDAP server</p>

<p>ldap_mech: &lt;none&gt; SASL mechanism for LDAP
authentication</p>

<p>ldap_member_attribute: &lt;none&gt; See
ldap_member_method.</p>

<p>ldap_member_base: &lt;empty string&gt; LDAP base dn for
ldap_member_filter.</p>

<p>ldap_member_filter: (member=%D) Specify a filter for
&quot;ldap_member_method: filter&quot;. See ldap_fil- ter
for more options.</p>

<p>ldap_member_method: attribute Specify a group method.
The &quot;attribute&quot; method retrieves groups from a
multi-valued attribute specified in
ldap_member_attribute.</p>

<p>The &quot;filter&quot; method uses a filter, specified
by ldap_member_fil- ter, to find groups;
ldap_member_attribute is a single-value attribute group
name.</p>

<p>Allowed values: attribute, filter</p>

<p>ldap_member_scope: sub Specify search scope for
ldap_member_filter.</p>

<p>Allowed values: sub, one, base</p>

<p>ldap_password: &lt;none&gt; Password for the connection
to the LDAP server (SASL and simple bind). Do not use for
anonymous simple binds</p>

<p>ldap_realm: &lt;none&gt; SASL realm for LDAP
authentication</p>

<p>ldap_referrals: 0 Specify whether or not the client
should follow referrals.</p>

<p>ldap_restart: 1 Specify whether or not LDAP I/O
operations are automatically restarted if they abort
prematurely.</p>

<p>ldap_sasl: 1 Use SASL for LDAP binds in the LDAP PTS
module.</p>

<p>ldap_sasl_authc: &lt;none&gt; Deprecated. Use
ldap_id</p>

<p>ldap_sasl_authz: &lt;none&gt; Deprecated. Use
ldap_authz</p>

<p>ldap_sasl_mech: &lt;none&gt; Deprecated. Use
ldap_mech</p>

<p>ldap_sasl_password: &lt;none&gt; Deprecated. User
ldap_password</p>

<p>ldap_sasl_realm: &lt;none&gt; Deprecated. Use
ldap_realm</p>

<p>ldap_scope: sub Specify search scope.</p>

<p>Allowed values: sub, one, base</p>

<p>ldap_servers: ldap://localhost/ Deprecated. Use
ldap_uri</p>

<p>ldap_size_limit: 1 Specify a number of entries for a
search request to return.</p>

<p>ldap_start_tls: 0 Use StartTLS extended operation. Do
not use ldaps: ldap_uri when this option is enabled.</p>

<p>ldap_time_limit: 5 Specify a number of seconds for a
search request to complete.</p>

<p>ldap_timeout: 5 Specify a number of seconds a search can
take before timing out.</p>

<p>ldap_tls_cacert_dir: &lt;none&gt; Path to directory with
CA (Certificate Authority) certificates.</p>

<p>ldap_tls_cacert_file: &lt;none&gt; File containing CA
(Certificate Authority) certificate(s).</p>

<p>ldap_tls_cert: &lt;none&gt; File containing the client
certificate.</p>

<p>ldap_tls_check_peer: 0 Require and verify server
certificate. If this option is yes, you must specify
ldap_tls_cacert_file or ldap_tls_cacert_dir.</p>

<p>ldap_tls_ciphers: &lt;none&gt; List of SSL/TLS ciphers
to allow. The format of the string is described in
ciphers(1).</p>

<p>ldap_tls_key: &lt;none&gt; File containing the private
client key.</p>

<p>ldap_uri: &lt;none&gt; Contains a list of the URLs of
all the LDAP servers when using the LDAP PTS module.</p>

<p>ldap_version: 3 Specify the LDAP protocol version. If
ldap_start_tls and/or ldap_use_sasl are enabled,
ldap_version will be automatically set to 3.</p>

<p>lmtp_downcase_rcpt: 0 If enabled, lmtpd will convert the
recipient addresses to lower- case (up to a + character, if
present).</p>

<p>lmtp_fuzzy_mailbox_match: 0 If enabled, and the mailbox
specified in the detail part of the recipient (everything
after the +) does not exist, lmtpd will try to find the
closest match (ignoring case, ignoring whitespace, falling
back to parent) to the specified mailbox name.</p>

<p>lmtp_over_quota_perm_failure: 0 If enabled, lmtpd
returns a permanent failure code when a users mailbox is
over quota. By default, the failure is temporary, causing
the MTA to queue the message and retry later.</p>

<p>lmtp_strict_quota: 0 If enabled, lmtpd returns a failure
code when the incoming message will cause the users mailbox
to exceed its quota. By default, the failure wont occur
until the mailbox is already over quota.</p>

<p>lmtpsocket: {configdirectory}/socket/lmtp Unix domain
socket that lmtpd listens on, used by deliver(8). This
should match the path specified in cyrus.conf(5).</p>

<p>loginrealms: &lt;empty string&gt; The list of remote
realms whose users may authenticate using cross-realm
authentication identifiers. Separate each realm name by a
space. (A cross-realm identity is considered any identity
returned by SASL with an &quot;@&quot; in it.).</p>

<p>loginuseacl: 0 If enabled, any authentication identity
which has a rights on a users INBOX may log in as that
user.</p>

<p>logtimestamps: 0 Include notations in the protocol
telemetry logs indicating the number of seconds since the
last command or response.</p>

<p>mailbox_default_options: 0 Default &quot;options&quot;
field for the mailbox on create. Youll want to know what
youre doing before setting this, but it can apply some
default annotations like condstore or duplicate
supression</p>

<p>mailnotifier: &lt;none&gt; Notifyd(8) method to use for
&quot;MAIL&quot; notifications. If not set, &quot;MAIL&quot;
notifications are disabled.</p>

<p>maxheaderlines: 1000 Maximum number of lines of header
that will be processed into cache records. Default 1000. If
set to zero, it is unlimited. If a message hits the limit,
an error will be logged and the rest of the lines in the
header will be skipped. This is to avoid mal- formed
messages causing giant cache records</p>

<p>maxmessagesize: 0 Maximum incoming LMTP message size. If
non-zero, lmtpd will reject messages larger than
maxmessagesize bytes. If set to 0, this will allow messages
of any size (the default).</p>

<p>maxquoted: 131072 Maximum size of a single quoted string
for the parser. Default 128k</p>

<p>maxword: 131072 Maximum size of a single word for the
parser. Default 128k</p>

<p>mboxkey_db: skiplist The cyrusdb backend to use for
mailbox keys.</p>

<p>Allowed values: berkeley, skiplist</p>

<p>mboxlist_db: skiplist The cyrusdb backend to use for the
mailbox list.</p>

<p>Allowed values: flat, berkeley, berkeley-hash,
skiplist</p>

<p>metapartition_files: &lt;empty string&gt;
Space-separated list of metadata files to be stored on a
meta- partition rather than in the mailbox directory on a
spool parti- tion.</p>

<p>Allowed values: header, index, cache, expunge, squat</p>

<p>metapartition-name: &lt;none&gt; The pathname of the
metadata partition name, corresponding to spool partition
partition-name. For any mailbox residing in a directory on
partition-name, the metadata files listed in meta-
partition_files will be stored in a corresponding directory
on metapartition-name. Note that not every partition-name
option is required to have a corresponding
metapartition-name option, so that you can selectively
choose which spool partitions will have separate metadata
partitions.</p>

<p>mupdate_authname: &lt;none&gt; The SASL username
(Authentication Name) to use when authenticating to the
mupdate server (if needed).</p>

<p>mupdate_config: standard The configuration of the
mupdate servers in the Cyrus Murder. The
&quot;standard&quot; config is one in which there are
discreet frontend (proxy) and backend servers. The
&quot;unified&quot; config is one in which a server can be
both a frontend and backend. The &quot;replicated&quot;
config is one in which multiple backend servers all share
the same mailspool, but each have their own
&quot;replicated&quot; copy of mail- boxes.db.</p>

<p>Allowed values: standard, unified, replicated</p>

<p>md5_dir: /var/lib/imap/md5 Top level directory for MD5
store manipulated by make_md5. File structure within this
directory is one file for each user on the system, hashed on
the first letter of the userid (e.g.,
/var/imap/md5/d/dpc22).</p>

<p>Note: This Invoca RPM build uses /var/lib/imap/md5 by
default instead of /var/imap/md5 for md5_dir.</p>

<p>md5_user_map: &lt;none&gt; Map file (cdb) to allow
partial make_md5 runs. Maps username to UID</p>

<p>munge8bit: 1 If enabled, lmtpd munges messages with
8-bit characters in the headers. The 8-bit characters are
changed to X. If reject8bit is enabled, setting munge8bit
has no effect. (A proper solution to non-ASCII characters in
headers is offered by RFC 2047 and its predecessors.)</p>

<p>mupdate_connections_max: 128 The max number of
connections that a mupdate process will allow, this is
related to the number of file descriptors in the mupdate
process. Beyond this number connections will be immediately
issued a BYE response.</p>

<p>mupdate_password: &lt;none&gt; The SASL password (if
needed) to use when authenticating to the mupdate
server.</p>

<p>mupdate_port: 3905 The port of the mupdate server for
the Cyrus Murder</p>

<p>mupdate_realm: &lt;none&gt; The SASL realm (if needed)
to use when authenticating to the mup- date server.</p>

<p>mupdate_retry_delay: 20 The base time to wait between
connection retries to the mupdate server.</p>

<p>mupdate_server: &lt;none&gt; The mupdate server for the
Cyrus Murder</p>

<p>mupdate_username: &lt;empty string&gt; The SASL username
(Authorization Name) to use when authenticating to the
mupdate server</p>

<p>mupdate_workers_max: 50 The maximum number of mupdate
worker threads (overall)</p>

<p>mupdate_workers_maxspare: 10 The maximum number of idle
mupdate worker threads</p>

<p>mupdate_workers_minspare: 2 The minimum number of idle
mupdate worker threads</p>

<p>mupdate_workers_start: 5 The number of mupdate worker
threads to start</p>

<p>netscapeurl: &lt;none&gt; If enabled at compile time,
this specifies a URL to reply when Netscape asks the server
where the mail administration HTTP server is. Administrators
should set this to a local resource.</p>

<p>newsmaster: news Userid that is used for checking access
controls when executing Usenet control messages. For
instance, to allow articles to be automatically deleted by
cancel messages, give the &quot;news&quot; user the d right
on the desired mailboxes. To allow newsgroups to be
automatically created, deleted and renamed by the
corresponding control messages, give the &quot;news&quot;
user the c right on the desired mailbox hierarchies.</p>

<p>newspeer: &lt;none&gt; A list of whitespace-separated
news server specifications to which articles should be fed.
Each server specification is a string of the form
[user[:pass]@]host[:port][/wildmat] where host is the fully
qualified hostname of the server, port is the port on which
the server is listening, user and pass are the authenti-
cation credentials and wildmat is a pattern that specifies
which groups should be fed. If no port is specified, port
119 is used. If no wildmat is specified, all groups are fed.
If user is specified (even if empty), then the NNTP POST
command will be used to feed the article to the server,
otherwise the IHAVE command will be used.</p>

<p>A @ may be used in place of ! in the wildmat to prevent
feed- ing articles cross-posted to the given group,
otherwise cross- posted articles are fed if any part of the
wildmat matches. For example, the string
&quot;peer.example.com:*,!control.*,@local.*&quot; would
feed all groups except control messages and local groups to
peer.example.com. In the case of cross-posting to local
groups, these articles would not be fed.</p>

<p>newspostuser: &lt;none&gt; Userid used to deliver usenet
articles to newsgroup folders (usu- ally via lmtp2nntp). For
example, if set to &quot;post&quot;, email sent to
&quot;post+comp.mail.imap&quot; would be delivered to the
&quot;comp.mail.imap&quot; folder.</p>

<p>When set, the Cyrus NNTP server will add a To: header to
each incoming usenet article. This To: header will contain
email delivery addresses corresponding to each newsgroup in
the News- groups: header. By default, a To: header is not
added to usenet articles.</p>

<p>newsprefix: &lt;none&gt; Prefix to be prepended to
newsgroup names to make the correspond- ing IMAP mailbox
names.</p>

<p>nntptimeout: 3 Set the length of the NNTP server s
inactivity autologout timer, in minutes. The minimum value
is 3, the default.</p>

<p>notifysocket: {configdirectory}/socket/notify Unix
domain socket that the mail notification daemon listens
on.</p>

<p>partition-name: &lt;none&gt; The pathname of the
partition name. At least one partition path- name MUST be
specified. If the defaultpartition option is used, then its
pathname MUST be specified. For example, if the value of the
defaultpartion option is default, then the partition-default
field is required.</p>

<p>plaintextloginpause: 0 Number of seconds to pause after
a successful plaintext login. For systems that support
strong authentication, this permits users to perceive a cost
of using plaintext passwords. (This does not affect the use
of PLAIN in SASL authentications.)</p>

<p>plaintextloginalert: &lt;none&gt; Message to send to
client after a successful plaintext login.</p>

<p>popexpiretime: -1 The number of days advertised as being
the minimum a message may be left on the POP server before
it is deleted (via the CAPA com- mand, defined in the POP3
Extension Mechanism, which some clients may support).
&quot;NEVER&quot;, the default, may be specified with a
nega- tive number. The Cyrus POP3 server never deletes mail,
no matter what the value of this parameter is. However, if a
site imple- ments a less liberal policy, it needs to change
this parameter accordingly.</p>

<p>popminpoll: 0 Set the minimum amount of time the server
forces users to wait between successive POP logins, in
minutes.</p>

<p>popsubfolders: 0 Allow access to subfolders of INBOX via
POP3 by using userid+sub- folder syntax as the
authentication/authorization id.</p>

<p>poppollpadding: 1 Create a softer minimum poll
restriction. Allows poppollpadding connections before the
minpoll restriction is triggered. Addi- tionally, one
padding entry is recovered every popminpoll minutes. This
allows for the occasional polling rate faster than popmin-
poll, (i.e., for clients that require a send/receive to send
mail) but still enforces the rate long-term. Default is 1
(disabled).</p>

<p>The easiest way to think of it is a queue of past
connections, with one slot being filled for every
connection, and one slot being cleared every popminpoll
minutes. When the queue is full, the user will not be able
to check mail again until a slot is cleared. If the user
waits a sufficient amount of time, they will get back many
or all of the slots.</p>

<p>poptimeout: 10 Set the length of the POP server s
inactivity autologout timer, in minutes. The minimum value
is 10, the default.</p>

<p>popuseacl: 0 Enforce IMAP ACLs in the pop server. Due to
the nature of the POP3 protocol, the only rights which are
used by the pop server are r, t, and s for the owner of the
mailbox. The r right allows the user to open the mailbox and
list/retrieve messages. The t right allows the user to
delete messages. The s right allows messages retrieved by
the user to have the seen flag set (only if popuseimapflags
is also enabled).</p>

<p>popuseimapflags: 0 If enabled, the pop server will set
and obey IMAP flags. Messages having the deleted flag are
ignored as if they do not exist. Mes- sages that are
retrieved by the client will have the seen flag set. All
messages will have the recent flag unset.</p>

<p>postmaster: postmaster Username that is used as the From
address in rejection MDNs pro- duced by sieve.</p>

<p>postuser: &lt;empty string&gt; Userid used to deliver
messages to shared folders. For example, if set to
&quot;bb&quot;, email sent to &quot;bb+shared.blah&quot;
would be delivered to the &quot;shared.blah&quot; folder. By
default, an email address of &quot;+shared.blah&quot; would
be used.</p>

<p>proxy_authname: proxy The authentication name to use
when authenticating to a backend server in the Cyrus
Murder.</p>

<p>proxy_compress: 0 Try to enable protocol-specific
compression when performing a client connection to a backend
server in the Cyrus Murder.</p>

<p>Note that this should only be necessary over slow
network connections. Also note that currently only IMAP and
MUPDATE support compression.</p>

<p>proxy_password: &lt;none&gt; The default password to use
when authenticating to a backend server in the Cyrus Murder.
May be overridden on a host-specific basis using the
hostname_password option.</p>

<p>proxy_realm: &lt;none&gt; The authentication realm to
use when authenticating to a backend server in the Cyrus
Murder</p>

<p>proxyd_allow_status_referral: 0 Set to true to allow
proxyd to issue referrals to clients that support it when
answering the STATUS command. This is disabled by default
since some clients issue many STATUS commands in a row, and
do not cache the connections that these referrals would
cause, thus resulting in a higher authentication load on the
respective backend server.</p>

<p>proxyd_disable_mailbox_referrals: 0 Set to true to
disable the use of mailbox-referrals on the proxy
servers.</p>

<p>proxyservers: &lt;none&gt; A list of users and groups
that are allowed to proxy for other users, separated by
spaces. Any user listed in this will be allowed to login for
any other user: use with caution.</p>

<p>pts_module: afskrb The PTS module to use.</p>

<p>Allowed values: afskrb, ldap</p>

<p>ptloader_sock: &lt;none&gt; Unix domain socket that
ptloader listens on. (defaults to con-
figdir/ptclient/ptsock)</p>

<p>ptscache_db: berkeley The cyrusdb backend to use for the
pts cache.</p>

<p>Allowed values: berkeley, berkeley-hash, skiplist</p>

<p>ptscache_timeout: 10800 The timeout (in seconds) for the
PTS cache database when using the auth_krb_pts authorization
method (default: 3 hours).</p>

<p>ptskrb5_convert524: 1 When using the AFSKRB ptloader
module with Kerberos 5 canonical- ization, do the final 524
conversion to get a n AFS style name (using . instead of /,
and using short names</p>

<p>ptskrb5_strip_default_realm: 1 When using the AFSKRB
ptloader module with Kerberos 5 canonical- ization, strip
the default realm from the userid (this does not affect the
stripping of realms specified by the afspts_localrealms
option)</p>

<p>qosmarking: cs0 This specifies the Class Selector or
Differentiated Services Code Point designation on IP headers
(in the ToS field).</p>

<p>Allowed values: cs0, cs1, cs2, cs3, cs4, cs5, cs6, cs7,
af11, af12, af13, af21, af22, af23, af31, af32, af33, af41,
af42, af43, ef</p>

<p>quota_db: quotalegacy The cyrusdb backend to use for
quotas.</p>

<p>Allowed values: flat, berkeley, berkeley-hash, skiplist,
sql, quo- talegacy</p>

<p>quotawarn: 90 The percent of quota utilization over
which the server generates warnings.</p>

<p>quotawarnkb: 0 The maximum amount of free space (in kB)
at which to give a quota warning (if this value is 0, or if
the quota is smaller than this amount, than warnings are
always given).</p>

<p>reject8bit: 0 If enabled, lmtpd rejects messages with
8-bit characters in the headers.</p>

<p>rfc2046_strict: 0 If enabled, imapd will be strict (per
RFC 2046) when matching MIME boundary strings. This means
that boundaries containing other boundaries as substrings
will be treated as identical. Since enabling this option
will break some messages created by Eudora 5.1 (and
earlier), it is recommended that it be left disabled unless
there is good reason to do otherwise.</p>

<p>rfc3028_strict: 1 If enabled, Sieve will be strict (per
RFC 3028) with regards to which headers are allowed to be
used in address and envelope tests. This means that only
those headers which are defined to contain addresses will be
allowed in address tests and only &quot;to&quot; and
&quot;from&quot; will be allowed in envelope tests. When
disabled, ANY grammatically correct header will be
allowed.</p>

<p>sasl_auto_transition: 0 If enabled, the SASL library
will automatically create authentica- tion secrets when
given a plaintext password. See the SASL docu-
mentation.</p>

<p>sasl_maximum_layer: 256 Maximum SSF (security strength
factor) that the server will allow a client to
negotiate.</p>

<p>sasl_minimum_layer: 0 The minimum SSF that the server
will allow a client to negotiate. A value of 1 requires
integrity protection; any higher value requires some amount
of encryption.</p>

<p>sasl_option: 0 Any SASL option can be set by preceding
it with &quot;sasl_&quot;. This file overrides the SASL
configuration file.</p>

<p>sasl_pwcheck_method: &lt;none&gt; The mechanism used by
the server to verify plaintext passwords. Possible values
include &quot;auxprop&quot;, &quot;saslauthd&quot;, and
&quot;pwcheck&quot;.</p>

<p>seenstate_db: skiplist The cyrusdb backend to use for
the seen state.</p>

<p>Allowed values: flat, berkeley, berkeley-hash,
skiplist</p>

<p>sendmail: /usr/lib/sendmail The pathname of the sendmail
executable. Sieve invokes sendmail for sending rejections,
redirects and vacation responses.</p>

<p>serverlist: &lt;none&gt; Whitespace separated list of
backend server names. Used for find- ing server with the
most available free space for proxying CREATE.</p>

<p>servername: &lt;none&gt; This is the hostname visible in
the greeting messages of the POP, IMAP and LMTP daemons. If
it is unset, then the result returned from gethostname(2) is
used.</p>

<p>serverinfo: on The server information to display in the
greeting and capability responses. Information is displayed
as follows:</p>

<p>&quot;off&quot; = no server information in the greeting
or capabilities &quot;min&quot; = servername in the
greeting; no server information in the capabilities
&quot;on&quot; = servername and product version in the
greeting; product version in the capabilities</p>

<p>Allowed values: off, min, on</p>

<p>sha1_dir: &lt;none&gt; Top level directory for SHA1
store manipulated by make_sha1. File structure within this
directory is one file for each user on the system, hashed on
the first letter of the userid (e.g:
/var/imap/sha1/d/dpc22).</p>

<p>sharedprefix: Shared Folders If using the alternate IMAP
namespace, the prefix for the shared namespace. The
hierarchy delimiter will be automatically appended.</p>

<p>sieve_allowreferrals: 1 If enabled, timsieved will issue
referrals to clients when the user s scripts reside on a
remote server (in a Murder). Other- wise, timsieved will
proxy traffic to the remote server.</p>

<p>sieve_extensions: fileinto reject vacation imapflags
notify envelope relational regex subaddress copy
Space-separated list of Sieve extensions allowed to be used
in sieve scripts, enforced at submission by timsieved(8).
Any previ- ously installed script will be unaffected by this
option and will continue to execute regardless of the
extensions used. This option has no effect on options that
are disabled at compile time (e.g., &quot;regex&quot;).</p>

<p>Allowed values: fileinto, reject, vacation, imapflags,
notify, include, envelope, body, relational, regex,
subaddress, copy</p>

<p>sieve_maxscriptsize: 32 Maximum size (in kilobytes) any
sieve script can be, enforced at submission by
timsieved(8).</p>

<p>sieve_maxscripts: 5 Maximum number of sieve scripts any
user may have, enforced at submission by timsieved(8).</p>

<p>sieve_utf8fileinto: 0 If enabled, the sieve engine
expects folder names for the fileinto action in scripts to
use UTF8 encoding. Otherwise, modified UTF7 encoding should
be used.</p>

<p>sieve_sasl_send_unsolicited_capability: 0 If enabled,
timsieved will emit a capability response after a suc-
cessful SASL authentication, per
draft-martin-managesieve-12.txt .</p>

<p>sievedir: /usr/sieve If sieveusehomedir is false, this
directory is searched for Sieve scripts.</p>

<p>sievenotifier: &lt;none&gt; Notifyd(8) method to use for
&quot;SIEVE&quot; notifications. If not set,
&quot;SIEVE&quot; notifications are disabled.</p>

<p>This method is only used when no method is specified in
the script.</p>

<p>sieveusehomedir: 0 If enabled, lmtpd will look for Sieve
scripts in users home directories: ~user/.sieve.</p>

<p>anysievefolder: 0 It must be &quot;yes&quot; in order to
permit the autocreation of any INBOX subfolder requested by
a sieve filter, through the &quot;fileinto&quot; action.
(default = no)</p>

<p>autosievefolders: &lt;none&gt; It is a &quot;|&quot;
separated list of subfolders of INBOX that will be
automatically created, if requested by a sieve filter,
through the &quot;fileinto&quot; action. (default = null)
i.e. autosievefolders: Junk | Spam</p>

<p>singleinstancestore: 1 If enabled, imapd, lmtpd and
nntpd attempt to only write one copy of a message per
partition and create hard links, resulting in a potentially
large disk savings.</p>

<p>skiplist_always_checkpoint: 1 If enabled, this option
forces the skiplist cyrusdb backend to always checkpoint
when doing a recovery. This causes slightly more IO, but on
the other hand leads to more efficient databases, and the
entire file is already &quot;hot&quot;.</p>

<p>skiplist_unsafe: 0 If enabled, this option forces the
skiplist cyrusdb backend to not sync writes to the disk.
Enabling this option is NOT RECOMMENDED.</p>

<p>soft_noauth: 1 If enabled, lmtpd returns temporary
failures if the client does not successfully authenticate.
Otherwise lmtpd returns permanent failures (causing the mail
to bounce immediately).</p>

<p>sql_database: &lt;none&gt; Name of the database which
contains the cyrusdb table(s).</p>

<p>sql_engine: &lt;none&gt; Name of the SQL engine to
use.</p>

<p>Allowed values: mysql, pgsql, sqlite</p>

<p>sql_hostnames: &lt;empty string&gt; Comma separated list
of SQL servers (in host[:port] format).</p>

<p>sql_passwd: &lt;none&gt; Password to use for
authentication to the SQL server.</p>

<p>sql_user: &lt;none&gt; Username to use for
authentication to the SQL server.</p>

<p>sql_usessl: 0 If enabled, a secure connection will be
made to the SQL server.</p>

<p>srvtab: &lt;empty string&gt; The pathname of srvtab file
containing the server s private key. This option is passed
to the SASL library and overrides its default setting.</p>

<p>submitservers: &lt;none&gt; A list of users and groups
that are allowed to resolve &quot;urlauth=submit+&quot; IMAP
URLs, separated by spaces. Any user listed in this will be
allowed to fetch the contents of any valid
&quot;urlauth=submit+&quot; IMAP URL: use with caution.</p>

<p>subscription_db: flat The cyrusdb backend to use for the
subscriptions list.</p>

<p>Allowed values: flat, berkeley, berkeley-hash,
skiplist</p>

<p>statuscache: 0 Enable/disable the imap status cache.</p>

<p>statuscache_db: berkeley-nosync The cyrusdb backend to
use for the imap status cache.</p>

<p>Allowed values: berkeley, berkeley-nosync,
berkeley-hash, berke- ley-hash-nosync, skiplist</p>

<p>sync_authname: &lt;none&gt; The authentication name to
use when authenticating to a sync server.</p>

<p>sync_batch_size: 0 Maximum number of messages to upload
to a replica at one time. A batch size of 0, the default,
will disable batching (ALL messages will be sent).</p>

<p>sync_compress: 0 Enable compression on replication
traffic</p>

<p>sync_host: &lt;none&gt; Name of the host (replica
running sync_server(8)) to which repli- cation actions will
be sent by sync_client(8).</p>

<p>sync_log: 0 Enable replication action logging by
lmtpd(8), imapd(8), pop3d(8), and nntpd(8). The log
{configdirectory}/sync/log is used by sync_client(8) for
&quot;rolling&quot; replication.</p>

<p>sync_password: &lt;none&gt; The default password to use
when authenticating to a sync server.</p>

<p>sync_realm: &lt;none&gt; The authentication realm to use
when authenticating to a sync server.</p>

<p>sync_repeat_interval: 1 Minimum interval (in seconds)
between replication runs in rolling replication mode. If a
replication run takes longer than this time, we repeat
immediately.</p>

<p>sync_shutdown_file: &lt;none&gt; Simple latch used to
tell sync_client(8) that it should shut down at the next
opportunity. Safer than sending signals to running
processes</p>

<p>syslog_prefix: &lt;none&gt; String to be prepended to
the process name in syslog entries.</p>

<p>temp_path: /tmp The pathname to store temporary files
in</p>

<p>timeout: 30 The length of the IMAP servers inactivity
autologout timer, in minutes. The minimum value is 30, the
default.</p>

<p>tls_ca_file: &lt;none&gt; File containing one or more
Certificate Authority (CA) certifi- cates.</p>

<p>tls_ca_path: &lt;none&gt; Path to directory with
certificates of CAs. This directory must have filenames with
the hashed value of the certificates (see openssl(XXX)).</p>

<p>tlscache_db: berkeley-nosync The cyrusdb backend to use
for the TLS cache.</p>

<p>Allowed values: berkeley, berkeley-nosync,
berkeley-hash, berke- ley-hash-nosync, skiplist, sql</p>

<p>tls_cert_file: &lt;none&gt; File containing the
certificate presented for server authentica- tion during
STARTTLS. A value of &quot;disabled&quot; will disable
SSL/TLS.</p>

<p>tls_cipher_list: DEFAULT The list of SSL/TLS ciphers to
allow. The format of the string is described in
ciphers(1).</p>

<p>tls_key_file: &lt;none&gt; File containing the private
key belonging to the server certifi- cate. A value of
&quot;disabled&quot; will disable SSL/TLS.</p>

<p>tls_require_cert: 0 Require a client certificate for ALL
services (imap, pop3, lmtp, sieve).</p>

<p>tls_session_timeout: 1440 The length of time (in
minutes) that a TLS session will be cached for later reuse.
The maximum value is 1440 (24 hours), the default. A value
of 0 will disable session caching.</p>

<p>umask: 077 The umask value used by various Cyrus IMAP
programs.</p>

<p>userdeny_db: flat The cyrusdb backend to use for the
user access list.</p>

<p>Allowed values: flat, berkeley, berkeley-hash, skiplist,
sql</p>

<p>user_folder_limit: 0 Limit the number of folders a user
can create in their INBOX. Set to 0 (default) for no limit.
Only affects folders in user.</p>

<p>username_tolower: 1 Convert usernames to all lowercase
before login/authentication. This is useful with
authentication backends which ignore case dur- ing username
lookups (such as LDAP).</p>

<p>userprefix: Other Users If using the alternate IMAP
namespace, the prefix for the other users namespace. The
hierarchy delimiter will be automatically appended.</p>

<p>unix_group_enable: 1 Should we look up groups when using
auth_unix (disable this if you are not using groups in ACLs
for your IMAP server, and you are using auth_unix with a
backend (such as LDAP) that can make get- grent() calls very
slow)</p>

<p>unixhierarchysep: 0 Use the UNIX separator character /
for delimiting levels of mailbox hierarchy. The default is
to use the netnews separator character ..</p>

<p>virtdomains: off Enable virtual domain support. If
enabled, the users domain will be determined by splitting a
fully qualified userid at the last @ or % symbol. If the
userid is unqualified, and the virtdo- mains option is set
to &quot;on&quot;, then the domain will be determined by
doing a reverse lookup on the IP address of the incoming
network interface, otherwise the user is assumed to be in
the default domain (if set).</p>

<p>Allowed values: off, userid, on</p>

<p>normalizeuid: 0 Lowercase uid and strip leading and
trailing blanks. It is recom- mended to set this to yes,
especially if OpenLDAP is used as authentication source.</p>

<p>tls_prefer_server_ciphers: 0 Prefer the ciphers on the
server side instead of client side</p>

<p>tls_versions: ssl2 ssl3 tls1_0 tls1_1 tls1_2 A list of
SSL/TLS versions to not disable. Cyrus IMAP SSL/TLS starts
with all protocols, and substracts protocols not in this
list. Newer versions of SSL/TLS will need to be added here
to allow them to get disabled.</p>

<p>SEE ALSO imapd(8), pop3d(8), nntpd(8), lmtpd(8),
timsieved(8), idled(8), noti- fyd(8), deliver(8),
cyrus-cyrus-master(8), ciphers(1)</p>

<p>CMU Project Cyrus IMAPD.CONF(5)</p>
<hr>
</body>
</html>
