<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:25:29 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>PAM_FILTER(8) Linux-PAM Manual PAM_FILTER(8)</p>

<p>NAME pam_filter - PAM filter module</p>

<p>SYNOPSIS pam_filter.so [debug] [new_term] [non_term]
run1|run2 filter [...]</p>

<p>DESCRIPTION This module is intended to be a platform for
providing access to all of the input/output that passes
between the user and the application. It is only suitable
for tty-based and (stdin/stdout) applications.</p>

<p>To function this module requires filters to be installed
on the system. The single filter provided with the module
simply transposes upper and lower case letters in the input
and output streams. (This can be very annoying and is not
kind to termcap based editors).</p>

<p>Each component of the module has the potential to invoke
the desired filter. The filter is always execv(2) with the
privilege of the calling application and not that of the
user. For this reason it cannot usually be killed by the
user without closing their session.</p>

<p>OPTIONS debug Print debug information.</p>

<p>new_term The default action of the filter is to set the
PAM_TTY item to indicate the terminal that the user is using
to connect to the application. This argument indicates that
the filter should set PAM_TTY to the filtered
pseudo-terminal.</p>

<p>non_term don&acute;t try to set the PAM_TTY item.</p>

<p>runX In order that the module can invoke a filter it
should know when to invoke it. This argument is required to
tell the filter when to do this.</p>

<p>Permitted values for X are 1 and 2. These indicate the
precise time that the filter is to be run. To understand
this concept it will be useful to have read the pam(3)
manual page. Basically, for each management group there are
up to two ways of calling the module&acute;s functions. In
the case of the authentication and session components there
are actually two separate functions. For the case of
authentication, these functions are pam_authenticate(3) and
pam_setcred(3), here run1 means run the filter from the
pam_authenticate function and run2 means run the filter from
pam_setcred. In the case of the session modules, run1
implies that the filter is invoked at the
pam_open_session(3) stage, and run2 for
pam_close_session(3).</p>

<p>For the case of the account component. Either run1 or
run2 may be used.</p>

<p>For the case of the password component, run1 is used to
indicate that the filter is run on the first occasion of
pam_chauthtok(3) (the PAM_PRELIM_CHECK phase) and run2 is
used to indicate that the filter is run on the second
occasion (the PAM_UPDATE_AUTHTOK phase).</p>

<p>filter The full pathname of the filter to be run and any
command line arguments that the filter might expect.</p>

<p>MODULE TYPES PROVIDED All module types (auth, account,
password and session) are provided.</p>

<p>RETURN VALUES PAM_SUCCESS The new filter was set
successfully.</p>

<p>PAM_ABORT Critical error, immediate abort.</p>

<p>EXAMPLES Add the following line to /etc/pam.d/login to
see how to configure login to transpose upper and lower case
letters once the user has logged in:</p>

<p>session required pam_filter.so run1
/lib/security/pam_filter/upperLOWER</p>

<p>SEE ALSO pam.conf(5), pam.d(5), pam(8)</p>

<p>AUTHOR pam_filter was written by Andrew G. Morgan
&lt;morgan@kernel.org&gt;.</p>

<p>Linux-PAM Manual 06/16/2009 PAM_FILTER(8)</p>
<hr>
</body>
</html>
