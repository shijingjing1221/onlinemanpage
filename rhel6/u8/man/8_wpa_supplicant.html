<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:44:36 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>WPA_SUPPLICANT(8) WPA_SUPPLICANT(8)</p>

<p>NAME wpa_supplicant - Wi-Fi Protected Access client and
IEEE 802.1X suppli- cant</p>

<p>SYNOPSIS wpa_supplicant [ -BddfhKLqqtuvW ] [ -iifname ]
[ -cconfig file ] [ -Ddriver ] [ -PPID_file ] [ -foutput
file ]</p>

<p>OVERVIEW Wireless networks do not require physical
access to the network equip- ment in the same way as wired
networks. This makes it easier for unau- thorized users to
passively monitor a network and capture all transmit- ted
frames. In addition, unauthorized use of the network is much
eas- ier. In many cases, this can happen even without user s
explicit knowl- edge since the wireless LAN adapter may have
been configured to auto- matically join any available
network.</p>

<p>Link-layer encryption can be used to provide a layer of
security for wireless networks. The original wireless LAN
standard, IEEE 802.11, included a simple encryption
mechanism, WEP. However, that proved to be flawed in many
areas and network protected with WEP cannot be consider
secure. IEEE 802.1X authentication and frequently changed
dynamic WEP keys can be used to improve the network
security, but even that has inherited security issues due to
the use of WEP for encryption. Wi-Fi Protected Access and
IEEE 802.11i amendment to the wireless LAN stan- dard
introduce a much improvement mechanism for securing wireless
net- works. IEEE 802.11i enabled networks that are using
CCMP (encryption mechanism based on strong cryptographic
algorithm AES) can finally be called secure used for
applications which require efficient protection against
unauthorized access.</p>

<p>wpa_supplicant is an implementation of the WPA
Supplicant component, i.e., the part that runs in the client
stations. It implements WPA key negotiation with a WPA
Authenticator and EAP authentication with Authentication
Server. In addition, it controls the roaming and IEEE 802.11
authentication/association of the wireless LAN driver.</p>

<p>wpa_supplicant is designed to be a &quot;daemon&quot;
program that runs in the background and acts as the backend
component controlling the wireless connection.
wpa_supplicant supports separate frontend programs and an
example text-based frontend, wpa_cli, is included with
wpa_supplicant.</p>

<p>Before wpa_supplicant can do its work, the network
interface must be available. That means that the physical
device must be present and enabled, and the driver for the
device must be loaded. The daemon will exit immediately if
the device is not already available.</p>

<p>After wpa_supplicant has configured the network device,
higher level configuration such as DHCP may proceed. There
are a variety of ways to integrate wpa_supplicant into a
machine s networking scripts, a few of which are described
in sections below.</p>

<p>The following steps are used when associating with an AP
using WPA:</p>

<p>&middot; wpa_supplicant requests the kernel driver to
scan neighboring BSSes</p>

<p>&middot; wpa_supplicant selects a BSS based on its
configuration</p>

<p>&middot; wpa_supplicant requests the kernel driver to
associate with the cho- sen BSS</p>

<p>&middot; If WPA-EAP: integrated IEEE 802.1X Supplicant
completes EAP authenti- cation with the authentication
server (proxied by the Authenticator in the AP)</p>

<p>&middot; If WPA-EAP: master key is received from the
IEEE 802.1X Supplicant</p>

<p>&middot; If WPA-PSK: wpa_supplicant uses PSK as the
master session key</p>

<p>&middot; wpa_supplicant completes WPA 4-Way Handshake
and Group Key Handshake with the Authenticator (AP)</p>

<p>&middot; wpa_supplicant configures encryption keys for
unicast and broadcast</p>

<p>&middot; normal data packets can be transmitted and
received</p>

<p>SUPPORTED FEATURES Supported WPA/IEEE 802.11i
features:</p>

<p>&middot; WPA-PSK (&quot;WPA-Personal&quot;)</p>

<p>&middot; WPA with EAP (e.g., with RADIUS authentication
server) (&quot;WPA-Enter- prise&quot;) Following
authentication methods are supported with an inte- grate
IEEE 802.1X Supplicant:</p>

<p>&middot; EAP-TLS</p>

<p>&middot; EAP-PEAP/MSCHAPv2 (both PEAPv0 and PEAPv1)</p>

<p>&middot; EAP-PEAP/TLS (both PEAPv0 and PEAPv1)</p>

<p>&middot; EAP-PEAP/GTC (both PEAPv0 and PEAPv1)</p>

<p>&middot; EAP-PEAP/OTP (both PEAPv0 and PEAPv1)</p>

<p>&middot; EAP-PEAP/MD5-Challenge (both PEAPv0 and
PEAPv1)</p>

<p>&middot; EAP-TTLS/EAP-MD5-Challenge</p>

<p>&middot; EAP-TTLS/EAP-GTC</p>

<p>&middot; EAP-TTLS/EAP-OTP</p>

<p>&middot; EAP-TTLS/EAP-MSCHAPv2</p>

<p>&middot; EAP-TTLS/EAP-TLS</p>

<p>&middot; EAP-TTLS/MSCHAPv2</p>

<p>&middot; EAP-TTLS/MSCHAP</p>

<p>&middot; EAP-TTLS/PAP</p>

<p>&middot; EAP-TTLS/CHAP</p>

<p>&middot; EAP-SIM</p>

<p>&middot; EAP-AKA</p>

<p>&middot; EAP-PSK</p>

<p>&middot; EAP-PAX</p>

<p>&middot; LEAP (note: requires special support from the
driver for IEEE 802.11 authentication)</p>

<p>&middot; (following methods are supported, but since
they do not generate keying material, they cannot be used
with WPA or IEEE 802.1X WEP keying)</p>

<p>&middot; EAP-MD5-Challenge</p>

<p>&middot; EAP-MSCHAPv2</p>

<p>&middot; EAP-GTC</p>

<p>&middot; EAP-OTP</p>

<p>&middot; key management for CCMP, TKIP, WEP104,
WEP40</p>

<p>&middot; RSN/WPA2 (IEEE 802.11i)</p>

<p>&middot; pre-authentication</p>

<p>&middot; PMKSA caching</p>

<p>AVAILABLE DRIVERS A summary of available driver backends
is below. Support for each of the driver backends is chosen
at wpa_supplicant compile time. For a list of supported
driver backends that may be used with the -D option on your
system, refer to the help output of wpa_supplicant
(wpa_suppli- cant -h).</p>

<p>hostap (default) Host AP driver (Intersil Prism2/2.5/3).
(this can also be used with Linuxant DriverLoader).</p>

<p>hermes Agere Systems Inc. driver
(Hermes-I/Hermes-II).</p>

<p>madwifi MADWIFI 802.11 support (Atheros, etc.).</p>

<p>atmel ATMEL AT76C5XXx (USB, PCMCIA).</p>

<p>wext Linux wireless extensions (generic).</p>

<p>ndiswrapper Linux ndiswrapper.</p>

<p>broadcom Broadcom wl.o driver.</p>

<p>ipw Intel ipw2100/2200 driver.</p>

<p>wired wpa_supplicant wired Ethernet driver</p>

<p>roboswitch wpa_supplicant Broadcom switch driver</p>

<p>bsd BSD 802.11 support (Atheros, etc.).</p>

<p>ndis Windows NDIS driver.</p>

<p>COMMAND LINE OPTIONS Most command line options have
global scope. Some are given per inter- face, and are only
valid if at least one -i option is specified, other- wise
they re ignored. Option groups for different interfaces must
be separated by -N option.</p>

<p>-b br_ifname Optional bridge interface name. (Per
interface)</p>

<p>-B Run daemon in the background.</p>

<p>-c filename Path to configuration file. (Per
interface)</p>

<p>-C ctrl_interface Path to ctrl_interface socket (Per
interface. Only used if -c is not).</p>

<p>-i ifname Interface to listen on. Multiple instances of
this option can be present, one per interface, separated by
-N option (see below).</p>

<p>-d Increase debugging verbosity (-dd even more).</p>

<p>-D driver Driver to use (can be multiple drivers:
nl80211,wext). (Per interface, see the available options
below.)</p>

<p>-f output file Log output to specified file instead of
stdout.</p>

<p>-g global ctrl_interface Path to global ctrl_interface
socket. If specified, interface definitions may be
omitted.</p>

<p>-K Include keys (passwords, etc.) in debug output.</p>

<p>-t Include timestamp in debug messages.</p>

<p>-h Help. Show a usage message.</p>

<p>-L Show license (GPL and BSD).</p>

<p>-p Driver parameters. (Per interface)</p>

<p>-P PID_file Path to PID file.</p>

<p>-q Decrease debugging verbosity (-qq even less).</p>

<p>-u Enabled DBus control interface. If enabled, interface
defini- tions may be omitted.</p>

<p>-v Show version.</p>

<p>-W Wait for a control interface monitor before
starting.</p>

<p>-N Start describing new interface.</p>

<p>EXAMPLES In most common cases, wpa_supplicant is started
with:</p>

<p>wpa_supplicant -B -c/etc/wpa_supplicant.conf -iwlan0</p>

<p>This makes the process fork into background.</p>

<p>The easiest way to debug problems, and to get debug log
for bug reports, is to start wpa_supplicant on foreground
with debugging enabled:</p>

<p>wpa_supplicant -c/etc/wpa_supplicant.conf -iwlan0 -d</p>

<p>If the specific driver wrapper is not known beforehand,
it is possible to specify multiple comma separated driver
wrappers on the command line. wpa_supplicant will use the
first driver wrapper that is able to initialize the
interface.</p>

<p>wpa_supplicant -Dnl80211,wext -c/etc/wpa_supplicant.conf
-iwlan0</p>

<p>wpa_supplicant can control multiple interfaces (radios)
either by run- ning one process for each interface
separately or by running just one process and list of
options at command line. Each interface is sepa- rated with
-N argument. As an example, following command would start
wpa_supplicant for two interfaces:</p>

<p>wpa_supplicant -c wpa1.conf -i wlan0 -D hostap -N -c
wpa2.conf -i ath0 -D madwifi</p>

<p>OS REQUIREMENTS Current hardware/software
requirements:</p>

<p>&middot; Linux kernel 2.4.x or 2.6.x with Linux Wireless
Extensions v15 or newer</p>

<p>&middot; FreeBSD 6-CURRENT</p>

<p>&middot; Microsoft Windows with WinPcap (at least WinXP,
may work with other versions)</p>

<p>SUPPORTED DRIVERS Host AP driver for Prism2/2.5/3
(development snapshot/v0.2.x) (http://hostap.epitest.fi/)
Driver needs to be set in Managed mode (iwconfig wlan0 mode
managed). Please note that station firmware version needs to
be 1.7.0 or newer to work in WPA mode.</p>

<p>Linuxant DriverLoader
(http://www.linuxant.com/driverloader/) with Windows NDIS
driver for your wlan card supporting WPA.</p>

<p>Agere Systems Inc. Linux Driver
(http://www.agere.com/support/drivers/) Please note that the
driver interface file (driver_hermes.c) and hardware
specific include files are not included in the
wpa_supplicant distribu- tion. You will need to copy these
from the source package of the Agere driver.</p>

<p>madwifi driver for cards based on Atheros chip set
(ar521x) (http://sourceforge.net/projects/madwifi/) Please
note that you will need to modify the wpa_supplicant .config
file to use the correct path for the madwifi driver root
directory (CFLAGS += -I../madwifi/wpa line in example
defconfig).</p>

<p>ATMEL AT76C5XXx driver for USB and PCMCIA cards
(http://atmelwlandriver.sourceforge.net/).</p>

<p>Linux ndiswrapper (http://ndiswrapper.sourceforge.net/)
with Windows NDIS driver.</p>

<p>Broadcom wl.o driver This is a generic Linux driver for
Broadcom IEEE 802.11a/g cards. However, it is proprietary
driver that is not publicly available except for couple of
exceptions, mainly Broadcom-based APs/wireless routers that
use Linux. The driver binary can be downloaded, e.g., from
Linksys support site
(http://www.linksys.com/support/gpl.asp) for Linksys WRT54G.
The GPL tarball includes cross-compiler and the needed
header file, wlioctl.h, for compiling wpa_supplicant. This
driver support in wpa_supplicant is expected to work also
with other devices based on Broadcom driver (assuming the
driver includes client mode support).</p>

<p>Intel ipw2100 driver
(http://sourceforge.net/projects/ipw2100/)</p>

<p>Intel ipw2200 driver
(http://sourceforge.net/projects/ipw2200/)</p>

<p>Linux wireless extensions In theory, any driver that
supports Linux wireless extensions can be used with IEEE
802.1X (i.e., not WPA) when using ap_scan=0 option in
configuration file.</p>

<p>Wired Ethernet drivers Use ap_scan=0.</p>

<p>BSD net80211 layer (e.g., Atheros driver) At the moment,
this is for FreeBSD 6-CURRENT branch.</p>

<p>Windows NDIS The current Windows port requires WinPcap
(http://win- pcap.polito.it/). See README-Windows.txt for
more information.</p>

<p>wpa_supplicant was designed to be portable for different
drivers and operating systems. Hopefully, support for more
wlan cards and OSes will be added in the future. See
developer.txt for more information about the design of
wpa_supplicant and porting to other drivers. One main goal
is to add full WPA/WPA2 support to Linux wireless extensions
to allow new drivers to be supported without having to
implement new driver-specific interface code in
wpa_supplicant.</p>

<p>ARCHITECTURE The wpa_supplicant system consists of the
following components:</p>

<p>wpa_supplicant.conf the configuration file describing
all networks that the user wants the computer to connect
to.</p>

<p>wpa_supplicant the program that directly interacts with
the network interface.</p>

<p>wpa_cli the client program that provides a high-level
interface to the functionality of the daemon.</p>

<p>wpa_passphrase a utility needed to construct
wpa_supplicant.conf files that include encrypted
passwords.</p>

<p>QUICK START First, make a configuration file, e.g.
/etc/wpa_supplicant.conf, that describes the networks you
are interested in. See wpa_suppli- cant.conf(5) for
details.</p>

<p>Once the configuration is ready, you can test whether
the configuration works by running wpa_supplicant with
following command to start it on foreground with debugging
enabled:</p>

<p>wpa_supplicant -iwlan0 -c/etc/wpa_supplicant.conf -d</p>

<p>Assuming everything goes fine, you can start using
following command to start wpa_supplicant on background
without debugging:</p>

<p>wpa_supplicant -iwlan0 -c/etc/wpa_supplicant.conf -B</p>

<p>Please note that if you included more than one driver
interface in the build time configuration (.config), you may
need to specify which interface to use by including
-D&lt;driver name&gt; option on the command line.</p>

<p>INTERFACE TO PCMCIA-CS/CARDMRG For example, following
small changes to pcmcia-cs scripts can be used to enable WPA
support:</p>

<p>Add MODE=&quot;Managed&quot; and WPA=&quot;y&quot; to
the network scheme in /etc/pcm- cia/wireless.opts.</p>

<p>Add the following block to the end of start action
handler in /etc/pcm- cia/wireless:</p>

<p>if [ &quot;$WPA&quot; = &quot;y&quot; -a -x
/usr/local/bin/wpa_supplicant ]; then
/usr/local/bin/wpa_supplicant -B -c/etc/wpa_supplicant.conf
-i$DEVICE fi</p>

<p>Add the following block to the end of stop action
handler (may need to be separated from other actions) in
/etc/pcmcia/wireless:</p>

<p>if [ &quot;$WPA&quot; = &quot;y&quot; -a -x
/usr/local/bin/wpa_supplicant ]; then killall wpa_supplicant
fi</p>

<p>This will make cardmgr start wpa_supplicant when the
card is plugged in.</p>

<p>SEE ALSO wpa_background(8) wpa_supplicant.conf(5)
wpa_cli(8) wpa_passphrase(8)</p>

<p>LEGAL wpa_supplicant is copyright (c) 2003-2007, Jouni
Malinen &lt;j@w1.fi&gt; and contributors. All Rights
Reserved.</p>

<p>This program is dual-licensed under both the GPL version
2 and BSD license. Either license may be used at your
option.</p>

<p>07 September 2010 WPA_SUPPLICANT(8)</p>
<hr>
</body>
</html>
