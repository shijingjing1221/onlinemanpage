<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:06:28 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>BLTK(1) Battery life tool kit BLTK(1)</p>

<p>NAME bltk - tool kit is used to measure battery life and
performance under different workloads on Linux.</p>

<p>SYNOPSIS bltk [-hVvaNAcCBXswiIRPOYZyQzxul] [-t sec] [-r
results_dir] [-m {0,1}] [-U path] [-g setup] [-J pid] [-T
time] [-F file] [-W app] [-L title] [-K comment] [-e app]
[-E app] [-p percent] [-d percent] [-o {0,1,2}] [-q file]
[-b percent] [-f command] [-k num]</p>

<p>DESCRIPTION The BLTK can be used with various workloads
to simulate different types of laptop usage. The following
workloads are currently implemented:</p>

<p>Idle workload collect statistics only (mostly used to
measure battery life)</p>

<p>Reader workload simulates text reading on laptop (mostly
used to measure battery life)</p>

<p>Playback workload simulates laptop entertaining usage
(produces constant average load on the system)</p>

<p>Office Activity workload simulates laptop usage for
different office activities (based on OpenOffice.org office
suit)</p>

<p>When started, test collects platform/OS initial info and
if its OK prompts user to unplug AC adapter. After cable
unplugged, workload started. During the workload execution
test harness collects various system information (e.g. CPU
load, battery drain, display state, CPU frequency, etc...).
After battery completely discharged user should plug the AC
cable back and boot the system. When it is done the results
are available.</p>

<p>There are several tools for result evaluation. They
allow creating report file for test run, to gather results
into a table for system comparison, and to draw graphs for
different purposes.</p>

<p>Results - after the battery dies and the system booted
back, the results are available. They are stored in
bltk/&lt;wokload_name&gt;.results directory (or in the
directory, specified in -r option). If target directory
already exist the tool will add numeric extension to its
name (.001, .002 e.t.c.) The results consist of the
following files (see below for detailed description):</p>

<p>cmd In this file bltk command with arguments are
stored</p>

<p>infoi&lt;N&gt;.log (info1.log, info2.log, ...) Here
initial system info is stored. Another two files (info1.log,
info2.log) contains system info after AC adapter was
unplugged, and on 5% battery capacity remained. They are
used to check whether any changes occurred during test
execution.</p>

<p>stat.log Statistics generated by bltk harness are stored
here. One statistic line generated per 1 minute (or per
number of seconds, specified in -t option).</p>

<p>system&lt;N&gt; When -k 1 is used, the system
information is stored under this directory. The numbers at
the end of directory name have the following meanings:</p>

<p>0 initial system info</p>

<p>1 system info after AC adapter was unplugged</p>

<p>2 system info on 5% battery capacity remained</p>

<p>version this file contains version information</p>

<p>workload the file contains info about workload</p>

<p>work_out.log</p>

<p>err.log There are stored any error messages</p>

<p>warning.log Contains warnings</p>

<p>work.log Strings generated by USR1, USR2 signals from
workload. String format is the same as in the stat.log
file.</p>

<p>fail when test fails</p>

<p>score</p>

<p>Report</p>

<p>Report.table</p>

<p>OPTIONS -h, --help Help; display a help message and then
exits.</p>

<p>-V, --version Version; display version number and then
exits.</p>

<p>-v, --verbose Verbose</p>

<p>-a, --ac-ignore ignore ac adapter state check
(on/off)</p>

<p>-N, --time-stat-ignore disable time statistics</p>

<p>-A, --ac-stat-ignore disable ac adapter statistics</p>

<p>-c, --cpu-stat-ignore disable cpu load statistics</p>

<p>-C, --cpu-add-stat-ignore disable cpu additional
statistics</p>

<p>-B, --bat-stat-ignore disable battery statistics</p>

<p>-X, --disp-stat-ignore Disable display state
statistics</p>

<p>-H, --hd-stat-ignore disable hard drive state
statistics</p>

<p>-t seconds, --report-time seconds frequency of report
line generation in seconds</p>

<p>-r results_dir, --results results_dir name of results
directory</p>

<p>-s, --stat-ignore disable all statistics</p>

<p>-w, --work-stat-ignore disable workload statistics</p>

<p>-m {0,1}, --stat-memory {0,1} dump statistics directly
on disk or keep in memory, if statis- tics are kept in
memory, it will be dumped on disk at low battery capacity,
or at the test end</p>

<p>0 disk</p>

<p>1 memory (by default)</p>

<p>-i, --idle-test idle test</p>

<p>-I, --idle idle workload</p>

<p>-R, --reader reader workload</p>

<p>-P, --player playback workload</p>

<p>-O, --office office productivity workload</p>

<p>-U path, --user path user-specified workload (path to
executable)</p>

<p>-g routine, --user-init routine&quot; setup routines for
user-specified workload</p>

<p>-Y, --discharging battery discharge mode</p>

<p>-Z, --charging battery charge mode</p>

<p>-J pid, --jobs pid make jobs number</p>

<p>-T seconds, --time seconds workload time</p>

<p>-F, --file workload file</p>

<p>-W, --prog workload program name of player (player
workload, default mplayer ) name of web-browser (reader
workload, default firefox)</p>

<p>-L, --title title of web-browser document</p>

<p>-M, --manufacturer enable time and cpu load statistics
only</p>

<p>-S, --show demo/debug mode, one iteration only</p>

<p>-n, --show-num demo/debug mode, show-num iteration</p>

<p>-j, --show-cnt demo/debug mode, show-cnt sub
iteration</p>

<p>-T seconds, --show-time seconds demo/debug mode, debug
time</p>

<p>-K comment, --comment comment user comment for
report</p>

<p>-e application, --init-prog application run program
before test starting</p>

<p>-E application, --init-prog-su application run program
as root before test starting</p>

<p>-y, --yes auto yes answer to all questions</p>

<p>-Q, --debug debug workload (see cpu-load and disp-load
below)</p>

<p>-p percent, --cpu-load percent debug workload, the time
cpu loaded in percent</p>

<p>-d percent, --disp-load percent Debug workload, the time
display on in percent</p>

<p>-o {0,1,2}, --output {0,1,2} direct workload output:</p>

<p>0 file</p>

<p>1 file and console</p>

<p>2 /dev/null, other - console</p>

<p>-z, --debug-vars debug option</p>

<p>-q file, --debug-vars-file file debug option - debug
variables file</p>

<p>-x, --dpms debug option - try to use display power
management</p>

<p>-u, --spy debug option - try to find out unexpected
system activity</p>

<p>-l, --simul-laptop debug option, laptop simulation</p>

<p>-b percent, --bat-sync percent debug option, battery
critical capacity, default 5%</p>

<p>-f command, --user-field command the output of
user-specified command being added to statistics Example: -f
&quot;cat /proc/acpi/thermal_zone/TZ01/temperature | awk
{print }&quot;</p>

<p>-k num, --stat-system num debug option, save system
files, default 0</p>

<p>EXAMPLES bltk -I or --idle idle workload running</p>

<p>bltk -R or --reader reader workload running</p>

<p>bltk -O or --office office workload running</p>

<p>bltk -P or --player player workload running</p>

<p>bltk -i or --idle-test -T 60 -t 1 idle test running for
60 seconds, stats interval 1 second</p>

<p>SEE ALSO bltk.conf(5), bltk_report(1)</p>

<p>AUTHOR Konstantin Karasyov
&lt;konstantin.a.karasyov@intel.com&gt; Vladimir Lebedev
&lt;vladimir.p.lebedev@intel.com&gt;</p>

<p>BLTK 15 July 2008 BLTK(1)</p>
<hr>
</body>
</html>
