<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:40:30 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>TCP_TABLE(5) TCP_TABLE(5)</p>

<p>NAME tcp_table - Postfix client/server table lookup
protocol</p>

<p>SYNOPSIS postmap -q &quot;string&quot; tcp:host:port</p>

<p>postmap -q - tcp:host:port &lt;inputfile</p>

<p>DESCRIPTION The Postfix mail system uses optional tables
for address rewriting or mail routing. These tables are
usually in dbm or db format. Alterna- tively, table lookups
can be directed to a TCP server.</p>

<p>To find out what types of lookup tables your Postfix
system supports use the &quot;postconf -m&quot; command.</p>

<p>To test lookup tables, use the &quot;postmap -q&quot;
command as described in the SYNOPSIS above.</p>

<p>PROTOCOL DESCRIPTION The TCP map class implements a very
simple protocol: the client sends a request, and the server
sends one reply. Requests and replies are sent as one line
of ASCII text, terminated by the ASCII newline character.
Request and reply parameters (see below) are separated by
whitespace.</p>

<p>Send and receive operations must complete in 100
seconds.</p>

<p>REQUEST FORMAT Each request specifies a command, a
lookup key, and possibly a lookup result.</p>

<p>get SPACE key NEWLINE Look up data under the specified
key.</p>

<p>put SPACE key SPACE value NEWLINE This request is
currently not implemented.</p>

<p>REPLY FORMAT Each reply specifies a status code and
text. Replies must be no longer than 4096 characters
including the newline terminator.</p>

<p>500 SPACE text NEWLINE In case of a lookup request, the
requested data does not exist. In case of an update request,
the request was rejected. The text describes the nature of
the problem.</p>

<p>400 SPACE text NEWLINE This indicates an error
condition. The text describes the nature of the problem. The
client should retry the request later.</p>

<p>200 SPACE text NEWLINE The request was successful. In
the case of a lookup request, the text contains an encoded
version of the requested data.</p>

<p>ENCODING In request and reply parameters, the character
%, each non-printing character, and each whitespace
character must be replaced by %XX, where XX is the
corresponding ASCII hexadecimal character value. The
hexadec- imal codes can be specified in any case (upper,
lower, mixed).</p>

<p>The Postfix client always encodes a request. The server
may omit the encoding as long as the reply is guaranteed to
not contain the % or NEWLINE character.</p>

<p>SECURITY Do not use TCP lookup tables for security
critical purposes. The client-server connection is not
protected and the server is not authen- ticated.</p>

<p>BUGS Only the lookup method is currently
implemented.</p>

<p>The client does not hang up when the connection is idle
for a long time.</p>

<p>SEE ALSO postmap(1), Postfix lookup table manager
regexp_table(5), format of regular expression tables
pcre_table(5), format of PCRE tables cidr_table(5), format
of CIDR tables</p>

<p>README FILES Use &quot;postconf readme_directory&quot;
or &quot;postconf html_directory&quot; to locate this
information. DATABASE_README, Postfix lookup table
overview</p>

<p>LICENSE The Secure Mailer license must be distributed
with this software.</p>

<p>AUTHOR(S) Wietse Venema IBM T.J. Watson Research P.O.
Box 704 Yorktown Heights, NY 10598, USA</p>

<p>TCP_TABLE(5)</p>
<hr>
</body>
</html>
