<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:43:43 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>VFS_CROSSRENAME(8) System Administration tools
VFS_CROSSRENAME(8)</p>

<p>NAME vfs_crossrename - server side rename files across
filesystem boundaries</p>

<p>SYNOPSIS vfs objects = crossrename</p>

<p>DESCRIPTION This VFS module is part of the samba(7)
suite.</p>

<p>The vfs_crossrename VFS module allows server side rename
operations even if source and target are on different
physical devices. A &quot;move&quot; in Explorer is usually
a rename operation if it is inside of a single share or
device. Usually such a rename operation returns
NT_STATUS_NOT_SAME_DEVICE and the client has to move the
file by manual copy and delete operations. If the rename by
copy is done by the server this can be much more efficient.
vfs_crossrename tries to do this server-side cross-device
rename operation.</p>

<p>There are however limitations that this module currently
does not solve:</p>

<p>The ACLs of files are not preserved,</p>

<p>meta data in EAs are not preserved,</p>

<p>renames of whole subdirectories cannot be done
recursively, in that case we still return
STATUS_NOT_SAME_DEVICE and let the client decide what to
do,</p>

<p>rename operations of huge files can cause hangs on the
client because clients expect a rename operation to return
fast.</p>

<p>This module is stackable.</p>

<p>OPTIONS crossrename:sizelimit = BYTES server-side
cross-device-renames are only done for files if the filesize
is not larger than the defined size in MiB to prevent
timeouts. The default sizelimit is 20 (MiB)</p>

<p>EXAMPLES To add server-side cross-device renames inside
of a share for all files sized up to 50MB:</p>

<p>[testshare] path = /data/mounts vfs objects =
crossrename crossrename:sizelimit = 50</p>

<p>VERSION This man page is correct for version 3.6.0 of
the Samba suite.</p>

<p>AUTHOR The original Samba software and related utilities
were created by Andrew Tridgell. Samba is now developed by
the Samba Team as an Open Source project similar to the way
the Linux kernel is developed.</p>

<p>Samba 3.6 04/11/2016 VFS_CROSSRENAME(8)</p>
<hr>
</body>
</html>
