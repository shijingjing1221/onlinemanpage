<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:20:05 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>ipmievd(8) ipmievd(8)</p>

<p>NAME ipmievd - IPMI event daemon for sending events to
syslog</p>

<p>SYNOPSIS ipmievd [-c|-h|-d N|-v|-V] -I open &lt;open |
sel&gt; [&lt;option&gt;]</p>

<p>ipmievd [-c|-h|-v|-V] -I lan -H &lt;hostname&gt; [-p
&lt;port&gt;] [-U &lt;username&gt;] [-A &lt;authtype&gt;]
[-L &lt;privlvl&gt;] [-a|-E|-P|-f &lt;password&gt;] [-o
&lt;oemtype&gt;] [-O &lt;sel oem&gt;] sel
[&lt;option&gt;]</p>

<p>ipmievd [-c|-h|-v|-V] -I lanplus -H &lt;hostname&gt; [-p
&lt;port&gt;] [-U &lt;username&gt;] [-L &lt;privlvl&gt;]
[-a|-E|-P|-f &lt;password&gt;] [-o &lt;oemtype&gt;] [-O
&lt;sel oem&gt;] [-C &lt;ciphersuite&gt;] sel
[&lt;option&gt;]</p>

<p>DESCRIPTION ipmievd is a daemon which will listen for
events from the BMC that are being sent to the SEL and also
log those messages to syslog. It is able to run in one of
two modes: either using the Event Message Buffer and
asynchronous event notification from the OpenIPMI kernel
driver or actively polling the contents of the SEL for new
events. Upon receipt of an event via either mechanism it
will be logged to syslog with the LOG_LOCAL4 facility.</p>

<p>It is based on the ipmitool utility and shares the same
IPMI interface support and session setup options. Please see
the ipmitool manpage for more information on supported IPMI
interfaces.</p>

<p>OPTIONS -a Prompt for the remote server password.</p>

<p>-A &lt;authtype&gt; Specify an authentication type to
use during IPMIv1.5 lan ses- sion activation. Supported
types are NONE, PASSWORD, MD2, MD5, or OEM.</p>

<p>-c Present output in CSV (comma separated variable)
format. This is not available with all commands.</p>

<p>-C &lt;ciphersuite&gt; The remote server authentication,
integrity, and encryption algorithms to use for IPMIv2
lanplus connections. See table 22-19 in the IPMIv2
specification. The default is 3 which spec- ifies
RAKP-HMAC-SHA1 authentication, HMAC-SHA1-96 integrity, and
AES-CBC-128 encryption algorightms.</p>

<p>-E The remote server password is specified by the
environment vari- able IPMI_PASSWORD.</p>

<p>-f &lt;password_file&gt; Specifies a file containing the
remote server password. If this option is absent, or if
password_file is empty, the password will default to
NULL.</p>

<p>-h Get basic usage help from the command line.</p>

<p>-H &lt;address&gt; Remote server address, can be IP
address or hostname. This option is required for lan and
lanplus interfaces.</p>

<p>-I &lt;interface&gt; Selects IPMI interface to use.
Supported interfaces that are compiled in are visible in the
usage help output.</p>

<p>-L &lt;privlvl&gt; Force session privilege level. Can be
CALLBACK, USER, OPERATOR, ADMIN. Default is ADMIN.</p>

<p>-m &lt;local_address&gt; Set the local IPMB address. The
default is 0x20 and there should be no need to change it for
normal operation.</p>

<p>-o &lt;oemtype&gt; Select OEM type to support. This
usually involves minor hacks in place in the code to work
around quirks in various BMCs from various manufacturers.
Use -o list to see a list of current supported OEM
types.</p>

<p>-O &lt;sel oem&gt; Open selected file and read OEM SEL
event descriptions to be used during SEL listings. See
examples in contrib dir for file format.</p>

<p>-p &lt;port&gt; Remote server UDP port to connect to.
Default is 623.</p>

<p>-P &lt;password&gt; Remote server password is specified
on the command line. If supported it will be obscured in the
process list. Note! Speci- fying the password as a command
line option is not recommended.</p>

<p>-S &lt;sdr_cache_file&gt; Use local file for remote SDR
cache. Using a local SDR cache can drastically increase
performance for commands that require knowledge of the
entire SDR to perform their function.</p>

<p>-t &lt;target_address&gt; Bridge IPMI requests to the
remote target address.</p>

<p>-U &lt;username&gt; Remote server username, default is
NULL user.</p>

<p>-d N Use device number N to specify the /dev/ipmiN (or
/dev/ipmi/N or /dev/ipmidev/N) device to use for in-band BMC
communication. Used to target a specific BMC on a
multi-node, multi-BMC system through the ipmi device driver
interface. Default is 0.</p>

<p>-v Increase verbose output level. This option may be
specified multiple times to increase the level of debug
output. If given three times you will get hexdumps of all
incoming and outgoing packets.</p>

<p>-V Display version information.</p>

<p>If no password method is specified then ipmievd will
prompt the user for a password. If no password is entered at
the prompt, the remote server password will default to
NULL.</p>

<p>COMMANDS help This can be used to get command-line help.
It may also be placed at the end of commands to get option
usage help.</p>

<p>&gt; ipmievd help Commands: open Use OpenIPMI for
asyncronous notification of events sel Poll SEL for
notification of events</p>

<p>open This command starts ipmievd with the OpenIPMI event
watching mechanism which relies on the Event Message Buffer
feature of IPMI. This requires a properly installed and
configured OpenIPMI driver on Linux and is only valid to be
run through the open interface. See the ipmitool manpage and
associated docu- mentation for more information on setting
up the OpenIPMI driver.</p>

<p>Note: Some BMC do not support the Event Message Buffer
required for this command. Other BMCs claim to support it
but do not actually deliver events to it. If this is the
case please use the sel method.</p>

<p>daemon Launch process as a daemon and reparent to init
process. All messages will be sent to syslog. This is the
default action.</p>

<p>nodaemon Do NOT become a daemon, instead log all
messages to stderr.</p>

<p>pidfile=&lt;filename&gt; Save process ID to this file
when in daemon mode. Defaults to /var/run/ipmievd.pidN
(where N is the ipmi device number -- defaults to 0).</p>

<p>sel This command starts ipmievd with the SEL Polling
event watching mechanism. This will poll the SEL
periodically to determine if new events have been logged.
This command should work with all BMCs and is capable of
using the LAN interface as well to moni- tor a remote system
and log its events to a local syslog.</p>

<p>daemon Launch process as a daemon and reparent to init
process. All messages will be sent to syslog. This is the
default action.</p>

<p>nodaemon Do NOT become a daemon, instead log all
messages to stderr.</p>

<p>pidfile=&lt;filename&gt; Save process ID to this file
when in daemon mode. Defaults to /var/run/ipmievd.pidN
(where N is the ipmi device number -- defaults to 0).</p>

<p>timeout=&lt;seconds&gt; Time between checks for SEL
polling method. Default is 10 seconds.</p>

<p>EXAMPLES Example 1: Daemon process watching OpenIPMI for
events</p>

<p>&gt; ipmievd -I open open daemon</p>

<p>Example 2: Local non-daemon process checking remote SEL
every 30 sec- onds</p>

<p>&gt; ipmievd -I lan -H 1.2.3.4 -f passfile sel nodaemon
timeout=30 Reading Sensors... Waiting for Events...</p>

<p>AUTHOR Duncan Laurie &lt;duncan@iceblink.org&gt;</p>

<p>SEE ALSO IPMItool Homepage
http://ipmitool.sourceforge.net</p>

<p>Intelligent Platform Management Interface Specification
http://www.intel.com/design/servers/ipmi</p>

<p>OpenIPMI Homepage http://openipmi.sourceforge.net</p>

<p>Duncan Laurie ipmievd(8)</p>
<hr>
</body>
</html>
