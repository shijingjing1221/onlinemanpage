<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:23:17 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>mgetty(8) mgetty+sendfax manual mgetty(8)</p>

<p>NAME mgetty - smart modem getty</p>

<p>SYNOPSIS mgetty [options] ttydevice [gettydefs]</p>

<p>DESCRIPTION Mgetty is a smart getty replacement,
designed to be used with hayes compatible data and data/fax
modems. Mgetty knows about modem initial- ization, manual
modem answering (so your modem doesn t answer if the machine
isnt ready), UUCP locking (so you can use the same device
for dial-in and dial-out). Mgetty provides very extensive
logging facili- ties.</p>

<p>This manpage doesn t try to detail mgetty setup in
detail, it just lists the most important options. For
detailed instructions, see the info file mgetty.info
(mgetty.texi).</p>

<p>OPTIONS -k &lt;space&gt; Tells mgetty to leave
&lt;space&gt; kbytes free on disk when receiving a fax.</p>

<p>-x &lt;debug level&gt; Use the given level of verbosity
for logging - 0 means no log- ging, 9 is really noisy. The
log file is usually /tmp/log_mg.&lt;device&gt;</p>

<p>-s &lt;speed&gt; Set the port speed to use, e.g.
&quot;-s 19200&quot;.</p>

<p>-r Tells mgetty that it is running on a direct line.
UUCP locking is done, but no modem initialization
whatsoever.</p>

<p>-p &lt;login prompt&gt; Use the given string to prompt
users for their login names. Var- ious tokens are allowed in
this string. These tokens are: @ for the system name, 0 0
for newline, bell, and form feed, will expand to the OS
respectively. and version and release. P, and will expand to
the tty name (&quot;ttyS0&quot;). will give the Caller ID, I
the &quot;CONNECT foobar&quot; string w i returned by the
modem, and or loutput the port lspeed. and U give the number
of users currently logged in. be changed into the result of
ctime(), and and or T will output the date and time,
respectively. Finally, &lt;digit&gt; will use digit as
octal/decimal/hexadecimal representation of the character to
follow.</p>

<p>The default prompt is specified at compile time.</p>

<p>-n # Tells mgetty to pick up the phone after the #th
RING. Default is 1.</p>

<p>-R &lt;t&gt; Tells mgetty to go into
&quot;ringback&quot; (aka &quot;ring-twice&quot;) mode. That
means: the first call is never answered, instead the caller
has to hang up after the phone RINGs, wait 30 seconds, and
then call again in the next &lt;t&gt; seconds for mgetty to
pick up. If no call comes, mgetty will exit.</p>

<p>I do not really recommend using this, better get a
second phone line for the modem.</p>

<p>-i &lt;issue file&gt; Output &lt;issue file&gt; instead
of /etc/issue before prompting for the user name. The same
token substitutions as for the the login prompt are done in
this file.</p>

<p>-D Tells mgetty that the modem is to be treated as a
DATA modem, no fax initalization is attempted.</p>

<p>-F Tells mgetty that DATA calls are not allowed and the
modem should be set to Fax-Only.</p>

<p>-C &lt;class&gt; Tells mgetty how to treat the modem.
Possible values for &lt;class&gt; are &quot;auto&quot;
(default, try to find out whether the modem supports fax),
&quot;cls2&quot; (use the class 2 fax command set, even if
the modem supports class 2.0), &quot;c2.0&quot; (use the
class 2.0 fax command set), &quot;data&quot; (data only,
exactly as the -D switch).</p>

<p>-S &lt;g3 file&gt; If a call comes in and requests fax
polling, mgetty will send the named file. Note: not all fax
modems support poll sending.</p>

<p>-I &lt;fax id&gt; Use the given fax station ID for fax
identification. Not used for data modems.</p>

<p>-b Open the port in blocking mode. Best used in
combination with &quot;-r&quot;. This is the default if
mgetty is called as getty. You may want to use this if you
want to make use of the two-device / kernel-locking scheme
of the Linux and SunOS operating systems (/dev/ttyS.. and
/dev/cua..). I do not recommend it, its just include for
completeness, and to be able to use mgetty as a
full-featured getty replacement.</p>

<p>-a Use autobauding. That is, after a connection is made,
mgetty parses the &quot;CONNECT foo&quot; response code of
the modem and sets the port speed to the first integer found
after the &quot;CONNECT&quot; string, &quot;foo&quot; in
this example. You need this if your modem insist on changing
its DTE speed to match the line speed. I rec- ommend against
using it, better leave the port speed locked at a fixed
value. The feature is included because there exist old
modems that cannot use a fixed (locked) port speed.</p>

<p>-mexpect send ... Set the &quot;chat sequence&quot; that
is used to initialize the modem. For an empty expect part,
use empty double quotes (&quot;&quot;). Since the sequence
contains spaces, you have to enclose all of it in single
quotes(). Example:</p>

<p>mgetty -m &quot;&quot; ATH0 OK</p>

<p>FILES /etc/mgetty+sendfax/mgetty.config Main
configuration file.</p>

<p>/etc/mgetty+sendfax/login.config controls whether (and
when) mgetty should call some other pro- gram for user login
instead of /bin/login. How this is done is explained in this
file.</p>

<p>/etc/mgetty+sendfax/dialin.config controls
acceptance/denial of incoming calls based on the caller s
number. Available only if you have &quot;caller ID&quot; and
your modem supports it.</p>

<p>/etc/nologin.ttyxx controls whether mgetty should pick
up the phone upon incoming calls. If the file exists, calls
are completely ignored. You can use this, for example, to
stop mgetty during day time, and let it pick up at night
only, by creating and removing /etc/nolo- gin.ttyxx via the
cron program at the appropriate time.</p>

<p>/etc/issue will be printed after a connection is
established, and before the with the -i option.</p>

<p>/var/log/mgetty.log.ttyxx Debug log file, see below.</p>

<p>DIAGNOSTICS If mgetty doesnt work the way it should, the
main source of diagnostic data is the log file. It can be
found in &quot;/var/log/mgetty.log.ttyxx&quot; (for the
mgetty process handling &quot;ttyxx&quot;). If it doesnt
contain enough details, enhance the log level with the -x
option to mgetty, e.g. &quot;-x 5&quot;.</p>

<p>Many of the common problems and solutions are discussed
in the mgetty manual and the FAQ. Please see the WWW page at
http://alpha.gree- nie.net/mgetty/ for both.</p>

<p>BUGS Not all of mgetty configuration can be done at
run-time yet. Things like flow control and file paths (log
file / lock file) have to be con- figured by changing the
source and recompiling.</p>

<p>Users never read manuals...</p>

<p>SEE ALSO g32pbm(1), sendfax(8), getty(8), mgettydefs(4),
mgetty.info</p>

<p>AUTHOR mgetty is Copyright (C) 1993 by Gert Doering,
&lt;gert@greenie.muc.de&gt;.</p>

<p>greenie 27 Oct 93 - 21 Jul 98 mgetty(8)</p>
<hr>
</body>
</html>
