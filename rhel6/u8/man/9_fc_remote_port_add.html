<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:12:48 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>FC_REMOTE_PORT_ADD(9) SCSI mid layer
FC_REMOTE_PORT_ADD(9)</p>

<p>NAME fc_remote_port_add - notify fc transport of the
existence of a remote FC port.</p>

<p>SYNOPSIS struct fc_rport * fc_remote_port_add(struct
Scsi_Host * shost, int channel, struct fc_rport_identifiers
* ids);</p>

<p>ARGUMENTS shost scsi host the remote port is connected
to.</p>

<p>channel Channel on shost port connected to.</p>

<p>ids The world wide names, fc address, and FC4 port roles
for the remote port.</p>

<p>DESCRIPTION The LLDD calls this routine to notify the
transport of the existence of a remote port. The LLDD
provides the unique identifiers (wwpn,wwn) of the port,
it&acute;s FC address (port_id), and the FC4 roles that are
active for the port.</p>

<p>For ports that are FCP targets (aka scsi targets), the
FC transport maintains consistent target id bindings on
behalf of the LLDD. A consistent target id binding is an
assignment of a target id to a remote port identifier, which
persists while the scsi host is attached. The remote port
can disappear, then later reappear, and it&acute;s target id
assignment remains the same. This allows for shifts in FC
addressing (if binding by wwpn or wwnn) with no apparent
changes to the scsi subsystem which is based on scsi host
number and target id values. Bindings are only valid during
the attachment of the scsi host. If the host detaches, then
later re-attaches, target id bindings may change.</p>

<p>This routine is responsible for returning a remote port
structure. The routine will search the list of remote ports
it maintains internally on behalf of consistent target id
mappings. If found, the remote port structure will be
reused. Otherwise, a new remote port structure will be
allocated.</p>

<p>Whenever a remote port is allocated, a new
fc_remote_port class device is created.</p>

<p>Should not be called from interrupt context.</p>

<p>NOTES This routine assumes no locks are held on
entry.</p>

<p>AUTHORS James Bottomley
&lt;James.Bottomley@hansenpartnership.com&gt; Author.</p>

<p>Rob Landley &lt;rob@landley.net&gt; Author.</p>

<p>COPYRIGHT Kernel Hackers Manual 2.6. April 2016
FC_REMOTE_PORT_ADD(9)</p>
<hr>
</body>
</html>
