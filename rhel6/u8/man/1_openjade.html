<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:25:12 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>OPENJADE(1) OPENJADE(1)</p>

<p>NAME openjade - apply a DSSSL stylesheet to an SGML or
XML document</p>

<p>SYNOPSIS openjade [-vCegG2s] [-b encoding] [-f
error_file] [-c catalog_sysid] [-D dir] [-a link_type] [-A
arch] [-E max_errors] [-i entity] [-w warning_type] [-d
dsssl_spec] [-V variable=value] [-t output_type] [-o
output_file] [sysid...]</p>

<p>DESCRIPTION openjade is an implementation of the ISO/IEC
10179:1996 standard DSSSL language. The DSSSL engine
receives as input an SGML or XML document and transforms it
into formats like:</p>

<p>* XML representation of the flow object tree.</p>

<p>* RTF format that can be rendered and printed with
Microsofts free Word Viewer 97</p>

<p>* TeX format</p>

<p>* MIF format that can be rendered and printed with
Framemaker</p>

<p>* SGML or XML format. This is used in conjunction with
non-standard flow object classes to generate SGML, thus
allowing openjade to be used for SGML/XML
transformations.</p>

<p>The system identifier of the document to be processed is
specified as an argument to openjade. If this is omitted,
standard input will be read.</p>

<p>openjade determines the system identifier for the DSSSL
specification as follows:</p>

<p>1. If the -d option is specified, it will use the
argument as the sys- tem identifier.</p>

<p>2. Otherwise, it will look for processing instructions
in the prolog of the document. Two kinds of processing
instruction are recognized:</p>

<p>&lt;?stylesheet href=&quot;sysid&quot;
type=&quot;text/dsssl&quot;&gt;</p>

<p>The system data of the processing instruction is parsed
like an SGML start-tag. It will be parsed using the
reference concrete syntax what- ever the actual concrete
syntax of the document. The name that starts the processing
instruction can be either stylesheet, xml-stylesheet or
xml:stylesheet. The processing instruction will be ignored
unless the value of the type attribute is one of text/dsssl,
text/x-dsssl, application/dsssl, or application/x-dsssl. The
value of href attribute is the system identifier of the
DSSSL specification.</p>

<p>&lt;?dsssl sysid&gt;</p>

<p>The system identifier is the portion of the system data
of the process- ing instruction following the initial name
and any whitespace.</p>

<p>Although the processing instruction is only recognized
in the prolog, it need not occur in the document entity. For
example, it could occur in a DTD. The system identifier will
be interpreted relative to where the the processing
instruction occurs.</p>

<p>3. Otherwise, it will use the system identifier of the
document with any extension changed to .dsl.</p>

<p>A DSSSL specification document can contain more than one
style-specifi- cation. If the system identifier of the DSSSL
specification is followed by #id, then openjade will use the
style-specification whose unique identifier is id. This is
allowed both with the -d option and with the processing
instructions.</p>

<p>The DSSSL specification must be an SGML document
conforming to the DSSSL architecture. For an example, see
dsssl/demo.dsl.</p>

<p>openjade supports the following options in addition to
the normal OpenSP (see onsgmls(1)) options (note that all
options are case-sensi- tive, ie -g and -G are different
options):</p>

<p>-d dsssl_spec This specifies that dsssl_spec is the
system identifier of the DSSSL specification to be used.</p>

<p>-G Debug mode. When an error occurs in the evaluation of
an expres- sion, openjade will display a stack trace. Note
that this dis- ables tail-call optimization.</p>

<p>-c filename The filename arguments specify catalog files
rather than the document entity. The document entity is
specified by the first DOCUMENT entry in the catalog
files.</p>

<p>-s Strict compliance mode. Currently the only effect is
that jade doesn t use any predefined character names,
sdata-entity map- pings or name-characters. This is useful
for checking that your stylesheet is portable to other DSSSL
implementations and that it is strictly compliant to the
DSSSL specifications.</p>

<p>-t output_type output_type specifies the type of output
as follows:</p>

<p>fot An XML representation of the flow object tree</p>

<p>rtf rtf-95 RTF (used for SGML/XML to RTF
transformations) Microsoft s Rich Text Format. rtf-95
produces output optimized for Word 95 rather than Word
97.</p>

<p>tex TeX (used for SGML/XML to TeX transformations)</p>

<p>sgml sgml-raw SGML (used for SGML/XML to SGML
transformations). sgml-raw doesnt emit linebreaks in
tags.</p>

<p>xml xml-raw XML (used for SGML/XML to XML
transformations). xml- raw doesnt emit linebreaks in
tags.</p>

<p>html HTML (used for SGML/XML to HTML
transformations)</p>

<p>mif MIF (used for SGML/XML to MIF transformations)</p>

<p>-o output_file Write output to output_file instead of
the default. The default filename is the name of the last
input file with its extension replaced by the name of the
type of output. If there is no input filename, then the
extension is added onto jade-out.</p>

<p>-V variable This is equivalent to doing (define variable
#t) except that this definition will take priority over any
definition of vari- able in a style-sheet.</p>

<p>-V variable=value This is equivalent to doing (define
variable &quot;value&quot;) except that this definition will
take priority over any definition of variable in a
style-sheet.</p>

<p>-V (define variable value) This is equivalent to doing
(define variable value) except that this definition will
take priority over any definition of vari- able in a
style-sheet. Note that you will probably have to use some
escaping mechanism for the spaces to get the entire scheme
expression parsed as one cmdline argument.</p>

<p>-wtype Control warnings and errors. Multiple -w options
are allowed. The following values of type enable
warnings:</p>

<p>xml Warn about constructs that are not allowed by
XML.</p>

<p>mixed Warn about mixed content models that do not allow
#pcdata anywhere.</p>

<p>sgmldecl Warn about various dubious constructions in the
SGML declaration.</p>

<p>should Warn about various recommendations made in ISO
8879 that the document does not comply with.
(Recommendations are expressed with should , as distinct
from requirements which are usually expressed with
shall.)</p>

<p>default Warn about defaulted references.</p>

<p>duplicate Warn about duplicate entity declarations.</p>

<p>undefined Warn about undefined elements: elements used
in the DTD but not defined.</p>

<p>unclosed Warn about unclosed start and end-tags.</p>

<p>empty Warn about empty start and end-tags.</p>

<p>net Warn about net-enabling start-tags and null
end-tags.</p>

<p>min-tag Warn about minimized start and end-tags.
Equivalent to combination of unclosed, empty and net
warnings.</p>

<p>unused-map Warn about unused short reference maps: maps
that are declared with a short reference mapping declaration
but never used in a short reference use declaration in the
DTD.</p>

<p>unused-param Warn about parameter entities that are
defined but not used in a DTD. Unused internal parameter
entities whose text is INCLUDE or IGNORE wont get the
warning.</p>

<p>notation-sysid Warn about notations for which no system
identi- fier could be generated.</p>

<p>all Warn about conditions that should usually be avoided
(in the opinion of the author). Equivalent to: mixed,
should, default, undefined, sgmldecl, unused-map,
unused-param, empty and unclosed.</p>

<p>A warning can be disabled by using its name prefixed
with no-. Thus -wall -wno-duplicate will enable all warnings
except those about duplicate entity declarations.</p>

<p>The following values for warning_type disable
errors:</p>

<p>no-idref Do not give an error for an ID reference value
which no element has as its ID. The effect will be as if
each attribute declared as an ID reference value had been
declared as a name.</p>

<p>no-significant Do not give an error when a character
that is not a significant character in the reference
concrete syntax occurs in a literal in the SGML declaration.
This may be useful in con- junction with certain buggy test
suites.</p>

<p>no-valid Do not require the document to be type-valid.
This has the effect of changing the SGML declaration to
specify VALIDITY NOASSERT and IMPLYDEF ATTLIST YES ELEMENT
YES. An option of -wvalid has the effect of changing the
SGML declaration to spec- ify VALIDITY TYPE and IMPLYDEF
ATTLIST NO ELEMENT NO. If neither -wvalid nor -wno-valid are
specified, then the VALIDITY and IMPLYDEF specified in the
SGML declaration will be used.</p>

<p>ENVIRONMENT OpenJade ignores the SP_CHARSET_FIXED and
SP_SYSTEM_CHARSET environment variables and always uses
Unicode as its internal character set, as if
SP_CHARSET_FIXED was 1 and SP_SYSTEM_CHARSET was unset. Thus
only the SP_ENCODING environment variable is relevant to
OpenJades handling of character sets.</p>

<p>OPENJADE EXTENSIONS The following external procedures
are available. These external proce- dures are defined by a
prototype in the same manner as in the standard. To use one
of these external procedures, you must make use of the stan-
dard external-procedure procedure, using a public identifier
of &quot;UNREG- ISTERED::James Clark//Procedure::name&quot;
where name is the name given here, typically by including
the following in the DSSSL specification:</p>

<p>(define name (external-procedure
&quot;UNREGISTERED::James Clark//Proce-
dure::name&quot;))</p>

<p>Note that external-procedure returns #f if it doesnt
know about the specified public identifier. You can use this
to enable your DSSSL specifications to work gracefully with
other implementations which do not support these
extensions.</p>

<p>For external procedures added by the OpenJade team, use
a public iden- tifier of the form
&quot;UNREGISTERED::OpenJade//Procedure::name&quot;.</p>

<p>An easy way to get access to all external procedures is
to use the style specification
dsssl/extensions.dsl#procedures. The file
dsssl/extensions.dsl also contains style specifications
which make the nonstandard flow object classes and inherited
characteristics supported by the backends available in a
convenient way.</p>

<p>Debugging</p>

<p>(debug obj)</p>

<p>Generates a message including the value of obj and then
returns obj.</p>

<p>Simple-page-sequence header/footer control</p>

<p>(if-first-page sosofo1 sosofo2)</p>

<p>This can be used only in the specification of the value
of one of the header/footer characteristics of
simple-page-sequence. It returns a sosofo that will display
as sosofo1 if the page is the first page of the
simple-page-sequence and as sosofo2 otherwise.</p>

<p>(if-front-page sosofo1 sosofo2)</p>

<p>This can be used only in the specification of the value
of one of the header/footer characteristics of
simple-page-sequence. It returns a sosofo that will display
as sosofo1 if the page is a front (ie recto, odd-numbered)
page and as sosofo2 if it is a back (ie verso, even-num-
bered) page.</p>

<p>Numbering</p>

<p>(all-element-number)</p>

<p>(all-element-number osnl)</p>

<p>This is the same as element-number except it counts
elements with any generic identifier. If osnl is not an
element returns #f, otherwise returns 1 plus the number of
elements that started before osnl. This provides an
efficient way of creating a unique identifier for any ele-
ment in a document.</p>

<p>External entity access</p>

<p>(read-entity string)</p>

<p>This returns a string containing the contents of the
external entity with system identifier string. This should
be used only for textual entities (CDATA and SDATA), and not
for binary entities (NDATA).</p>

<p>POSIX locale access</p>

<p>(language lang country)</p>

<p>This procedure returns an object of type language, if
the system sup- ports the specified language. lang is a
string or symbol giving the two letter language code.
country is a string or symbol giving the two let- ter
country code.</p>

<p>This procedure uses POSIX locales. It is an OpenJade
addition. It is not supported on all operating systems.</p>

<p>Extended standard procedures</p>

<p>(sgml-parse sysid #!key active: parent:
architecture:)</p>

<p>This allows you to specify an SGML architecture with
respect to which the document should be parsed. It is an
OpenJade addition.</p>

<p>(expt q k)</p>

<p>This allows you to raise a quantity to an integral
power. It is an OpenJade addition.</p>

<p>LIMITATIONS This section describes the limitations of
the front-end (the general- purpose DSSSL engine); each
backend also has its own limitations.</p>

<p>openjade doesn t allow internal definitions at the
beginning of bodies and the (test =&gt; recipient) variant
of cond clauses.</p>

<p>openjade supports only a single, fixed grove plan which
comprises the following modules:</p>

<p>* baseabs</p>

<p>* prlgabs0</p>

<p>* prlgabs1</p>

<p>* instabs</p>

<p>* basesds0</p>

<p>* instsds0</p>

<p>* subdcabs</p>

<p>It doesnt implement the following parts of SDQL: HyTime
support, aux- iliary parsing, node regular expressions.</p>

<p>Query rules, sosofo synchronization, indirect sosofos,
reference val- ues, decoration areas and font properties are
not supported.</p>

<p>Note that only inherited characteristics that are
applicable to some supported flow object can be
specified.</p>

<p>Character/glyph handling</p>

<p>It only supports a single pre-defined character
repertoire. A character name of the form U-XXXX where XXXX
are four upper-case hexadecimal dig- its, is recognized as
referring to the Unicode character with that code. For many
characters, it is also possible to use the ISO/IEC 10646
name in lower-case with words separated by hyphens.</p>

<p>Some common SDATA entity names from the ISO entity sets
are recognized and mapped to characters. In addition an
SDATA entity name of the form U-XXXX, where XXXX are four
upper-case hexadecimal digits, is mapped to the Unicode
character with that code.</p>

<p>OpenJade now supports the standard-chars,
map-sdata-entity, add-name- chars, add-separator-chars and
char-repertoire declaration element forms, allowing a
style-sheet to define additional character names, sdata
entity mappings, name characters (i.e. characters allowed in
identifiers) and separator characters. Currently the only
recognized character repertoire is the built-in repertoire.
It has the public identifier
&quot;UNREGISTERED::OpenJade//Character
Repertoire::OpenJade&quot;.</p>

<p>Validation</p>

<p>Several things that it would be desirable to have
checked arent checked:</p>

<p>* When the allowed value of an inherited characteristic
is a symbol, OpenJade checks only that the value is a symbol
that is allowed as the value of some characteristic; #t and
#f are treated as a special kind of symbol in this case.</p>

<p>* OpenJade doesn t check whether a flow object is
occurring in a con- text where it is allowed.</p>

<p>* OpenJade does not prevent flow objects being attached
to the princi- pal port of a flow object when the flow
object shouldn t have a princi- pal port.</p>

<p>* Most type-checking is done at run-time not
compile-time.</p>

<p>* OpenJade does not check for non-inherited
characteristics that are required to be specified.</p>

<p>* It doesn t check that optional features that have been
used were declared in the features form.</p>

<p>Other limitations</p>

<p>The following primitives are just stubs:</p>

<p>char-script-case Always returns last argument.</p>

<p>address-visited? Always returns #f.</p>

<p>EXAMPLES Given an SGML file file.sgml, use the
stylesheet file.dsl and publish as an rtf file.</p>

<p>openjade -t rtf file.sgml</p>

<p>Using a different stylesheet:</p>

<p>openjade -t rtf -d docbook.dsl file.sgml</p>

<p>Using the print style specification contained within the
stylesheet</p>

<p>openjade -t rtf -d docbook.dsl#print file.sgml</p>

<p>And use the html specification within the style sheet to
convert to html</p>

<p>openjade -t sgml -i html -d docbook.dsl#html
file.sgml</p>

<p>SEE ALSO onsgmls(1)</p>

<p>AUTHORS James Clark, Ian Castle
&lt;ian.castle@looksystems.co.uk&gt;.</p>

<p>OpenJade January 2002 OPENJADE(1)</p>
<hr>
</body>
</html>
