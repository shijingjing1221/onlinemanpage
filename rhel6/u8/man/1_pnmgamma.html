<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:28:27 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>Pnmgamma User Manual(0) Pnmgamma User Manual(0)</p>

<p>NAME pnmgamma - perform gamma adjustment on a PNM
image</p>

<p>SYNOPSIS pnmgamma { -bt709tolinear | -lineartobt709 |
-bt709tosrgb | -srgbtobt709 } [-gamma=float] [-rgamma=float]
[-ggamma=float] [-bgamma=float]</p>

<p>[pnmfile]</p>

<p>pnmgamma [ -bt709ramp | -srgbramp ] [-ungamma] [{gamma |
redgamma greengamma bluegamma} [pnm- file]]</p>

<p>DESCRIPTION This program is part of Netpbm(1).</p>

<p>Pnmgamma performs gamma adjustment on pseudo-PNM
images.</p>

<p>The PPM format specification specifies that certain
sample values in a file represent certain light intensities
in an image. In particular, they specify that the sample
values are directly proportional to lumi- nance as defined
by ITU-R Recommendation BT.709. BT.709 luminance as a
function of radiance is a power function modified with a
linear ramp near black.</p>

<p>However, people sometimes work with approximations of
PPM and PGM where the sample values represent intensity in
different ways:</p>

<p>In one common variation, the sample value is directly
proportional to radiance (often called linear
intensity).</p>

<p>Another popular variation is to make the samples
proportional to lumi- nance as defined by the Internation
Electrotechnical Commission (IEC) SRGB standard. The SRGB
gamma transfer function is like the BT.709 one except with
different constants in it.</p>

<p>Note that SRGB is often spelled sRGB. In this document,
we use stan- dard English typography, though, which doesnt
allow for that kind of capitalization.</p>

<p>pnmgamma allows you to manipulate the gamma transfer
function, thus working with and/or creating pseudo-PPM files
that are useful for vari- ous things.</p>

<p>For example, if you feed a true PPM to pnmgamma
-bt709tolinear , you get as output a file which is PPM in
every respect except that the sam- ple values are radiances.
If you feed such a file to pnmgamma -lin- earto709, you get
back a true PPM.</p>

<p>The situation for PGM images is analogous. And pnmgamma
treats PBM images as PGM images.</p>

<p>When you feed a radiance-proportional pseudo-PPM image
to a display program that expects a true PPM, the display
appears darker than it should, so pnmgamma has the effect of
lightening the image. When you feed a true PPM to a display
program that expects radiance-proportional sample values,
and therefore does a gamma adjustment of its own on them,
the display appears lighter than it should, so pnmgamma with
a gamma value less than one (the multiplicative inverse of
whatever gamma value the display program uses) has the
effect of darkening the image.</p>

<p>PARAMETERS The form of the parameters depends on whether
youre using the old syn- tax or the new syntax. With the old
syntax, the parameters are a mix- ture of gamma values and
the input file name. With the new syntax, the only parameter
is the input file name and you specify gamma values with
option.</p>

<p>You use the old syntax if you specify -bt709ramp (or its
synonym -cier- amp) or -srgramp or if you dont specify any
transfer function at all (and thus default to a simple
exponential). Otherwise, you use the new syntax.</p>

<p>With the old syntax, you may specify a single gamma
value or 3 separate gamma values (red, green, and blue) or
no gamma values. In any case, the meanings of those
parameters is the same as the more modern -gamma, -rgamma,
-ggamma, and -bgamma options described below.</p>

<p>OPTIONS -bt709tolinear Convert the image from BT.709
luminance to radiance. I.e. con- vert from true PPM or PGM
to a radiance-linear variation that can be used with certain
tools that need it.</p>

<p>This option was new in Netpbm 10.32 (February 2006).</p>

<p>-lineartobt709 Convert the image from radiance to BT.709
luminance. I.e. con- vert to true PPM or PGM from a
radiance-linear variation.</p>

<p>You get true BT.709 (ergo true PPM or PGM) only if you
use the default gamma value (i.e. don t specify -gamma,
etc.).</p>

<p>This option was new in Netpbm 10.32 (February 2006).</p>

<p>-bt709tosrgb Convert the image from BT.709 luminance to
SRGB luminance. I.e. convert from true PPM or PGM to an
SRGB-based variation that is required by certain tools and
display devices.</p>

<p>You get true SRGB only if you use the default gamma
value (i.e. dont specify -gamma, etc.).</p>

<p>This option was new in Netpbm 10.32 (February 2006).</p>

<p>-srgbtobt709 Convert the image from SRGB luminance to
BT.709 luminance. I.e. convert to true PPM or PGM from an
SRGB-based variation.</p>

<p>This option was new in Netpbm 10.32 (February 2006).</p>

<p>-bt709ramp Same as -lineartobt709, but using the old
syntax.</p>

<p>This option was renamed in Netpbm 10.32 (February 2006).
Before that, its name is -cieramp.</p>

<p>-cieramp This is an obsolete synonym for -bt709ramp.</p>

<p>The name of this option comes from a former belief that
this was a standard of CIE (International Commission On
Illumination), but it now (August 2005) looks like it never
was.</p>

<p>-srgbramp Convert the image from radiance to SRGB
luminance. Note that it is true SRGB only if you use the
default gamma value (i.e. dont specify any gamma
parameters).</p>

<p>This is an old syntax option. There is no equivalent in
the new syntax because it really shouldnt be a function of
pnmgamma at all. It exists solely for backward
compatibility. The reason it shouldn t exist is that the way
to do this conversion consis- tent with the Netpbm
philosophy is do a -lineartobt709 followed by a
-bt709tosrgb. Its exactly analogous to the way you have to
convert from PNG to TIFF by doing a pngtopam followed by a
pnmtotiff. The -srgbramp option actually dates to before
there was a standard definition of what the sample values of
a Netpbm image measure, and pnmgamma considered
radiance-linear to be the proper intermediate format.</p>

<p>-ungamma Apply the inverse of the specified transfer
function (i.e. go from gamma-adjusted luminance to
radiance).</p>

<p>This is valid only with -bt709ramp (aka -cieramp),
-srgbramp, and the default exponential transfer
function.</p>

<p>-gamma=float This specifies the gamma value to use in
the transfer function. All of the transfer functions involve
an exponent, and the gamma value is that exponent.</p>

<p>The standards specify a particular gamma value. If you
use any- thing else, you are varying from the standard.</p>

<p>The default is the standard value. For the simple
exponential transfer function (which is not a standard), the
default is 2.2.</p>

<p>In the -bt709tosrgb and -srgbtobt709 conversions there
are two exponents. -gamma affects the to function; the from
func- tion always uses the standard gamma value.</p>

<p>If you specify one of the component-specific options
(-rgamma, etc.), that overrides the -gamma value.</p>

<p>With the -bt709ramp (aka -cieramp), -srgbramp, or the
default exponential transfer function, you can t actually
use this option, but you specify the same thing with
parameters.</p>

<p>This option was new in Netpbm 10.32 (February 2006).</p>

<p>-rgamma=float</p>

<p>-ggamma=float</p>

<p>-bgamma=float These options are just like -gamma, except
they specify the value for a particular one of the color
components.</p>

<p>If you dont specify this option for a particular color
compo- nent, the default is the -gamma value (or -gammas
default if you didnt specify that either).</p>

<p>With the -bt709ramp (aka -cieramp), -srgbramp, or the
default exponential transfer function, you can t actually
use this option, but you specify the same thing with
parameters.</p>

<p>This option was new in Netpbm 10.32 (February 2006).</p>

<p>-maxval=maxval This is the maxval of the output image.
By default, the maxval of the output is the same as that of
the input.</p>

<p>Because the transformation is not linear, you need a
greater maxval in the output in order not to lose any
information from the input. For example, if you convert to
radiance-linear sam- ple values with with -ungamma
-bt709ramp and default gamma value, and your maxval is 255
on both input and output, 3 dif- ferent input sample values
all generate output sample value 254. In order to have a
different output sample value for each input sample value,
you would need an output maxval at least 3 times the input
maxval.</p>

<p>This option was new in Netpbm 10.32 (February 2006).
Before that, you can achieve the same result by increasing
the maxval of the input or decreasing the maxval of the
output using pamdepth.</p>

<p>WHAT IS GAMMA? A good explanation of gamma is in Charles
Poynton s Gamma FAQ at http://www.poynton.com/GammaFAQ.html
(1) and Color FAQ at http://www.poynton.com/ColorFAQ.html
(1).</p>

<p>In brief: The simplest way to code an image is by using
sample values that are directly proportional to the radiance
of the color components. Radiance is a physical
quantification based on the amount of power in the light; it
is easily measurable in a laboratory, but does not take into
account what the light looks like to a person. It wastes the
sam- ple space because the human eye cant discern
differences between low- radiance colors as well as it can
between high-radiance colors. So instead, we pass the
radiance values through a transfer function that makes it so
that changing a sample value by 1 causes the same level of
perceived color change anywhere in the sample range. We
store those resulting values in the image file. That
transfer function is called the gamma transfer function and
the transformation is called gamma adjusting.</p>

<p>The gamma-adjusted value, proportional to subjective
brightness, are known as the luminance of the pixel.</p>

<p>There is no precise objective way to measure luminance,
since its psy- chological. Also, perception of brightness
varies according to a vari- ety of factors, including the
surrounding in which an image is viewed. Therefore, there is
not just one gamma transfer function.</p>

<p>Virtually all image formats, either specified or de
facto, use gamma- adjusted values for their sample
values.</p>

<p>Whats really nice about gamma is that by coincidence,
the inverse function that you have to do to convert the
gamma-adjusted values back to radiance is done automatically
by CRTs. You just apply a voltage to the CRT s electron gun
that is proportional to the gamma-adjusted sam- ple value,
and the radiance of the light that comes out of the screen
is close to the radiance value you had before you applied
the gamma transfer function!</p>

<p>And when you consider that computer video devices
usually want you to store in video memory a value
proportional to the signal voltage you want to go to the
monitor, which the monitor turns into a proportional drive
voltage on the electron gun, it is really convenient to work
with gamma-adjusted sample values.</p>

<p>SEE ALSO pnm(1)</p>

<p>AUTHOR Copyright (C) 1991 by Bill Davidson and Jef
Poskanzer.</p>

<p>netpbm documentation 30 June 2007 Pnmgamma User
Manual(0)</p>
<hr>
</body>
</html>
