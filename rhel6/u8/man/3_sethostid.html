<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:33:52 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>GETHOSTID(3) Linux Programmer s Manual GETHOSTID(3)</p>

<p>NAME gethostid, sethostid - get or set the unique
identifier of the current host</p>

<p>SYNOPSIS #include &lt;unistd.h&gt;</p>

<p>long gethostid(void); int sethostid(long hostid);</p>

<p>Feature Test Macro Requirements for glibc (see
feature_test_macros(7)):</p>

<p>sethostid(): _BSD_SOURCE || (_XOPEN_SOURCE &amp;&amp;
_XOPEN_SOURCE &lt; 500)</p>

<p>DESCRIPTION gethostid() and sethostid() respectively get
or set a unique 32-bit identifier for the current machine.
The 32-bit identifier is intended to be unique among all
Unix systems in existence. This normally resem- bles the
Internet address for the local machine, as returned by geth-
ostbyname(3), and thus usually never needs to be set.</p>

<p>The sethostid() call is restricted to the superuser.</p>

<p>RETURN VALUE gethostid() returns the 32-bit identifier
for the current host as set by sethostid().</p>

<p>On success, sethostid() returns 0; on error, -1 is
returned, and errno is set to indicate the error.</p>

<p>ERRORS sethostid() can fail with the following
errors:</p>

<p>EACCES The caller did not have permission to write to
the file used to store the host ID.</p>

<p>EPERM The calling processs effective user or group ID is
not the same as its corresponding real ID.</p>

<p>CONFORMING TO 4.2BSD; these functions were dropped in
4.4BSD. SVr4 includes geth- ostid() but not sethostid().
POSIX.1-2001 specifies gethostid() but not sethostid().</p>

<p>NOTES In the glibc implementation, the hostid is stored
in the file /etc/hostid. (In glibc versions before 2.2, the
file /var/adm/hostid was used.)</p>

<p>In the glibc implementation, if gethostid() cannot open
the file con- taining the host ID, then it obtains the
hostname using gethostname(2), passes that hostname to
gethostbyname_r(3) in order to obtain the hosts IPv4
address, and returns a value obtained by bit-twiddling the
IPv4 address. (This value may not be unique.)</p>

<p>BUGS It is impossible to ensure that the identifier is
globally unique.</p>

<p>SEE ALSO hostid(1), gethostbyname(3)</p>

<p>COLOPHON This page is part of release 3.22 of the Linux
man-pages project. A description of the project, and
information about reporting bugs, can be found at
http://www.kernel.org/doc/man-pages/.</p>

<p>Linux 2009-01-13 GETHOSTID(3)</p>
<hr>
</body>
</html>
