<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:15:26 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>GETGROUPS(2) Linux Programmer s Manual GETGROUPS(2)</p>

<p>NAME getgroups, setgroups - get/set list of
supplementary group IDs</p>

<p>SYNOPSIS #include &lt;sys/types.h&gt; #include
&lt;unistd.h&gt;</p>

<p>int getgroups(int size, gid_t list[]);</p>

<p>#include &lt;grp.h&gt;</p>

<p>int setgroups(size_t size, const gid_t *list);</p>

<p>Feature Test Macro Requirements for glibc (see
feature_test_macros(7)):</p>

<p>setgroups(): _BSD_SOURCE</p>

<p>DESCRIPTION getgroups() returns the supplementary group
IDs of the calling process in list. The argument size should
be set to the maximum number of items that can be stored in
the buffer pointed to by list. If the calling process is a
member of more than size supplementary groups, then an error
results. It is unspecified whether the effective group ID of
the calling process is included in the returned list. (Thus,
an application should also call getegid(2) and add or remove
the resulting value.)</p>

<p>If size is zero, list is not modified, but the total
number of supple- mentary group IDs for the process is
returned. This allows the caller to determine the size of a
dynamically allocated list to be used in a further call to
getgroups().</p>

<p>setgroups() sets the supplementary group IDs for the
calling process. Appropriate privileges (Linux: the
CAP_SETGID capability) are required. The size argument
specifies the number of supplementary group IDs in the
buffer pointed to by list.</p>

<p>RETURN VALUE On success, getgroups() returns the number
of supplementary group IDs. On error, -1 is returned, and
errno is set appropriately.</p>

<p>On success, setgroups() returns 0. On error, -1 is
returned, and errno is set appropriately.</p>

<p>ERRORS EFAULT list has an invalid address.</p>

<p>getgroups() can additionally fail with the following
error:</p>

<p>EINVAL size is less than the number of supplementary
group IDs, but is not zero.</p>

<p>setgroups() can additionally fail with the following
errors:</p>

<p>EINVAL size is greater than NGROUPS_MAX (32 before Linux
2.6.4; 65536 since Linux 2.6.4).</p>

<p>ENOMEM Out of memory.</p>

<p>EPERM The calling process has insufficient
privilege.</p>

<p>CONFORMING TO SVr4, 4.3BSD. The getgroups() function is
in POSIX.1-2001. Since set- groups() requires privilege, it
is not covered by POSIX.1-2001.</p>

<p>NOTES A process can have up to NGROUPS_MAX supplementary
group IDs in addi- tion to the effective group ID. The set
of supplementary group IDs is inherited from the parent
process, and preserved across an execve(2).</p>

<p>The maximum number of supplementary group IDs can be
found using sysconf(3):</p>

<p>long ngroups_max; ngroups_max =
sysconf(_SC_NGROUPS_MAX);</p>

<p>The maximum return value of getgroups() cannot be larger
than one more than this value.</p>

<p>SEE ALSO getgid(2), setgid(2), getgrouplist(3),
initgroups(3), capabilities(7), credentials(7)</p>

<p>COLOPHON This page is part of release 3.22 of the Linux
man-pages project. A description of the project, and
information about reporting bugs, can be found at
http://www.kernel.org/doc/man-pages/.</p>

<p>Linux 2008-06-03 GETGROUPS(2)</p>
<hr>
</body>
</html>
