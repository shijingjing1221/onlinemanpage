<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:10:52 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>ecryptfs-setup-private(1) eCryptfs
ecryptfs-setup-private(1)</p>

<p>NAME ecryptfs-setup-private - setup an eCryptfs private
directory.</p>

<p>SYNOPSIS ecryptfs-setup-private [-f|--force]
[-w|--wrapping] [-a|--all-home] [-n|--no-fnek] [--nopwcheck]
[-u|--username USER] [-l|--loginpass LOGINPASS]
[-m|--mountpass MOUNTPASS]</p>

<p>OPTIONS Options available for the ecryptfs-setup-private
command:</p>

<p>-f, --force Force overwriting of an existing setup</p>

<p>-w, --wrapping Use an independent wrapping passphrase,
different from the login passphrase</p>

<p>-u, --username USER User to setup, default is current
user if omitted</p>

<p>-l, --loginpass LOGINPASS System passphrase for USER,
used to wrap MOUNTPASS, will inter- actively prompt if
omitted</p>

<p>-m, --mountpass MOUNTPASS Passphrase for mounting the
ecryptfs directory, default is 16 bytes from /dev/urandom if
omitted</p>

<p>-a, --all-home Generate a setup for encrypting the user
s entire home directory</p>

<p>--undo Display instructions on how to undo an encrypted
private setup</p>

<p>-n, --no-fnek Do not encrypt filenames; otherwise,
filenames will be encrypted on systems which support
filename encryption</p>

<p>--nopwcheck Do not check the validity of the specified
login password (use- ful for LDAP user accounts)</p>

<p>--noautomount Setup this user such that the encrypted
private directory is not automatically mounted on login</p>

<p>--noautoumount Setup this user such that the encrypted
private directory is not automatically unmounted at
logout</p>

<p>DESCRIPTION ecryptfs-setup-private is a program that
sets up a private crypto- graphic mountpoint for a non-root
user, who is a member of ecryptfs group.</p>

<p>Be sure to properly escape your parameters according to
your shells special character nuances, and also surround the
parameters by double quotes, if necessary. Any of the
parameters may be:</p>

<p>1) exported as environment variables 2) specified on the
command line 3) left empty and interactively prompted</p>

<p>The user SHOULD ABSOLUTELY RECORD THE MOUNT PASSPHRASE
AND STORE IN A SAFE LOCATION. If the mount passphase file is
lost, or the mount passphrase is forgotten, THERE IS NO WAY
TO RECOVER THE ENCRYPTED DATA.</p>

<p>Using the values of USER, MOUNTPASS, and LOGINPASS,
ecryptfs-setup-pri- vate will: - Create ~/.Private
(permission 700) - Create ~/Private (permission 500) -
Backup any existing wrapped passphrases - Use LOGINPASS to
wrap and encrypt MOUNTPASS - Write to
~/.ecryptfs/wrapped-passphrase - Add the passphrase to the
current keyring - Write the passphrase signature to
~/.ecryptfs/Private.sig - Test the cryptographic mount with
a few reads and writes</p>

<p>The system administrator can add the pam_ecryptfs.so
module to the PAM stack which will automatically use the
login passphrase to unwrap the mount passphrase, add the
passphrase to the users kernel keyring, and automatically
perform the mount. See pam_ecryptfs(8).</p>

<p>FILES ~/.ecryptfs/auto-mount</p>

<p>~/.Private - underlying directory containing encrypted
data</p>

<p>~/Private - mountpoint containing decrypted data (when
mounted)</p>

<p>~/.ecryptfs/Private.sig - file containing signature of
mountpoint passphrase</p>

<p>~/.ecryptfs/Private.mnt - file containing path of the
private directory mountpoint</p>

<p>~/.ecryptfs/wrapped-passphrase - file containing the
mount passphrase, wrapped with the login passphrase</p>

<p>~/.ecryptfs/wrapping-independent - this file exists if
the wrapping passphrase is independent from login
passphrase</p>

<p>SEE ALSO ecryptfs-rewrap-passphrase(1),
mount.ecryptfs_private(1), pam_ecryptfs(8),
umount.ecryptfs_private(1)</p>

<p>/usr/share/doc/ecryptfs-utils-82/ecryptfs-faq.html</p>

<p>http://launchpad.net/ecryptfs/</p>

<p>AUTHOR This manpage and the ecryptfs-setup-private
utility was written by Dustin Kirkland
&lt;kirkland@canonical.com&gt; for Ubuntu systems (but may
be used by others). Permission is granted to copy,
distribute and/or mod- ify this document under the terms of
the GNU General Public License, Version 2 or any later
version published by the Free Software Founda- tion.</p>

<p>On Debian systems, the complete text of the GNU General
Public License can be found in
/usr/share/common-licenses/GPL.</p>

<p>ecryptfs-utils 2008-11-17 ecryptfs-setup-private(1)</p>
<hr>
</body>
</html>
