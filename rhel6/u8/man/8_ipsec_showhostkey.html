<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:20:12 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>IPSEC_SHOWHOSTKEY(8) Executable programs
IPSEC_SHOWHOSTKEY(8)</p>

<p>NAME ipsec_showhostkey - show host&acute;s
authentication key</p>

<p>SYNOPSIS ipsec showhostkey [--ipseckey] [--left]
[--right] [--dump] [--verbose] [--version] [--list]
[--gateway gateway] [--precedence precedence] [--dhclient]
[--file secretfile] [--keynum count] [--id identity]</p>

<p>DESCRIPTION Showhostkey outputs (on standard output) a
public key suitable for this host, in the format specified,
using the host key information stored in /etc/ipsec.secrets.
In general only the super-user can run this command, since
only he can read ipsec.secrets.</p>

<p>The --left and --right options cause the output to be in
ipsec.conf(5) format, as a leftrsasigkey or rightrsasigkey
parameter respectively. Generation information is included
if available. For example, --left might give (with the key
data trimmed down for clarity):</p>

<p># RSA 2048 bits xy.example.com Sat Apr 15 13:53:22 2000
leftrsasigkey=0sAQOF8tZ2...+buFuFn/</p>

<p>The --ipseckey option causes the output to be in
opportunistic-encryption DNS IPSECKEY record format (RFC
4025). A gateway can be specified with the --gateway, which
currently supports IPv4 and IPv6 addresses. The host name is
the one included in the key information (or, if that is not
available, the output of hostname --fqdn), with a .
appended. For example, --ipseckey --gateway 10.11.12.13
might give (with the key data trimmed for clarity):</p>

<p>IN IPSECKEY 10 1 2 10.11.12.13
AQOF8tZ2...+buFuFn/&quot;</p>

<p>The --version option causes the version of the binary to
be emitted, and nothing else.</p>

<p>The --verbose may be present one or more times. Each
occurance increases the verbosity level.</p>

<p>The --dhclient option cause the output to be suitable
for inclusion in dhclient.conf(5) as part of configuring
WAVEsec. See &lt;http://www.wavesec.org&gt;.</p>

<p>Normally, the default key for this host (the one with no
host identities specified for it) is the one extracted. The
--id option overrides this, causing extraction of the key
labeled with the specified identity, if any. The specified
identity must exactly match the identity in the file; in
particular, the comparison is case-sensitive.</p>

<p>There may also be multiple keys with the same identity.
All keys are numbered based upon their linear sequence in
the file (including all include directives)</p>

<p>The --file option overrides the default for where the
key information should be found, and takes it from the
specified secretfile.</p>

<p>DIAGNOSTICS A complaint about no pubkey line found
indicates that the host has a key but it was generated with
an old version of FreeS/WAN and does not contain the
information that showhostkey needs.</p>

<p>FILES /etc/ipsec.secrets</p>

<p>SEE ALSO ipsec.secrets(5), ipsec.conf(5),
ipsec_rsasigkey(8)</p>

<p>HISTORY Written for the Linux FreeS/WAN project
&lt;http://www.freeswan.org&gt; by Henry Spencer. Updated by
Paul Wouters for the IPSECKEY format.</p>

<p>BUGS Arguably, rather than just reporting the
no-IN-KEY-line-found problem, showhostkey should be smart
enough to run the existing key through rsasigkey with the
--oldkey option, to generate a suitable output line.</p>

<p>The --id option assumes that the identity appears on the
same line as the : RSA { that begins the key proper.</p>

<p>AUTHOR Paul Wouters placeholder to suppress warning</p>

<p>libreswan 03/07/2016 IPSEC_SHOWHOSTKEY(8)</p>
<hr>
</body>
</html>
