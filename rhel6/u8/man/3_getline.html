<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:15:31 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>GETLINE(3) Linux Programmer s Manual GETLINE(3)</p>

<p>NAME getline, getdelim - delimited string input</p>

<p>SYNOPSIS #define _GNU_SOURCE #include
&lt;stdio.h&gt;</p>

<p>ssize_t getline(char **lineptr, size_t *n, FILE
*stream);</p>

<p>ssize_t getdelim(char **lineptr, size_t *n, int delim,
FILE *stream);</p>

<p>DESCRIPTION getline() reads an entire line from stream,
storing the address of the buffer containing the text into
*lineptr. The buffer is null-termi- nated and includes the
newline character, if one was found.</p>

<p>If *lineptr is NULL, then getline() will allocate a
buffer for storing the line, which should be freed by the
user program. (The value in *n is ignored.)</p>

<p>Alternatively, before calling getline(), *lineptr can
contain a pointer to a malloc(3)-allocated buffer *n bytes
in size. If the buffer is not large enough to hold the line,
getline() resizes it with realloc(3), updating *lineptr and
*n as necessary.</p>

<p>In either case, on a successful call, *lineptr and *n
will be updated to reflect the buffer address and allocated
size respectively.</p>

<p>getdelim() works like getline(), except a line delimiter
other than newline can be specified as the delimiter
argument. As with getline(), a delimiter character is not
added if one was not present in the input before end of file
was reached.</p>

<p>RETURN VALUE On success, getline() and getdelim() return
the number of characters read, including the delimiter
character, but not including the termi- nating null byte.
This value can be used to handle embedded null bytes in the
line read.</p>

<p>Both functions return -1 on failure to read a line
(including end of file condition).</p>

<p>ERRORS EINVAL Bad arguments (n or lineptr is NULL, or
stream is not valid).</p>

<p>CONFORMING TO Both getline() and getdelim() are GNU
extensions. They are available since libc 4.6.27.</p>

<p>EXAMPLE #define _GNU_SOURCE #include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;</p>

<p>int main(void) { FILE * fp; char * line = NULL; size_t
len = 0; ssize_t read;</p>

<p>fp = fopen(&quot;/etc/motd&quot;, &quot;r&quot;); if (fp
== NULL) exit(EXIT_FAILURE);</p>

<p>while ((read = getline(&amp;line, &amp;len, fp)) != -1)
{ printf(&quot;Retrieved line of length %zu :0, read);
printf(&quot;%s&quot;, line); }</p>

<p>if (line) free(line); exit(EXIT_SUCCESS); }</p>

<p>SEE ALSO read(2), fgets(3), fopen(3), fread(3), gets(3),
scanf(3), fea- ture_test_macros(7)</p>

<p>COLOPHON This page is part of release 3.22 of the Linux
man-pages project. A description of the project, and
information about reporting bugs, can be found at
http://www.kernel.org/doc/man-pages/.</p>

<p>GNU 2006-05-17 GETLINE(3)</p>
<hr>
</body>
</html>
