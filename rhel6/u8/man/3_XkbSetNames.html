<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:46:26 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>XkbSetNames(3) XKB FUNCTIONS XkbSetNames(3)</p>

<p>NAME XkbSetNames - Change the symbolic names in the
server</p>

<p>SYNOPSIS Bool XkbSetNames (Display *dpy, unsigned int
which, unsigned int first_type, unsigned int num_types,
XkbDescPtr xkb);</p>

<p>ARGUMENTS - dpy connection to the X server</p>

<p>- which mask of names or map components to be
changed</p>

<p>- first_type first type whose name is to be changed</p>

<p>- num_types number of types for which names are to be
changed</p>

<p>- xkb keyboard description from which names are to be
taken</p>

<p>DESCRIPTION To change the symbolic names in the server,
first modify a local copy of the keyboard description and
then use either XkbSetNames, or, to save network traffic,
use a XkbNameChangesRecstructure and call XkbChangeNames to
download the changes to the server. XkbSetNames and
XkbChangeNames can generate BadAlloc, BadAtom, BadLength,
BadMatch, and BadImplementation errors.</p>

<p>Use XkbSetNames to change many names at the same time.
For each bit set in which, XkbSetNames takes the
corresponding value (or values in the case of arrays) from
the keyboard description xkb and sends it to the server.</p>

<p>The first_type and num_types arguments are used only if
XkbKeyType- NamesMask or XkbKTLevelNamesMask is set in which
and specify a subset of the types for which the
corresponding names are to be changed. If either or both of
these mask bits are set but the specified types are illegal,
XkbSetNames returns False and does not update any of the
names specified in which. The specified types are illegal if
xkb does not include a map component or if first_type and
num_types specify types that are not defined in the keyboard
description.</p>

<p>STRUCTURES The XkbNameChangesRec allows applications to
identify small modifica- tions to the symbolic names and
effectively reduces the amount of traf- fic sent to the
server:</p>

<p>typedef struct _XkbNameChanges { unsigned int changed; /
name components that have changed */ unsigned char
first_type; / first key type with a new name */ unsigned
char num_types; / number of types with new names */ unsigned
char first_lvl; / first key type with new level names */
unsigned char num_lvls; / number of key types with new level
names */ unsigned char num_aliases; / if key aliases
changed, total number of key aliases */ unsigned char
num_rg; / if radio groups changed, total number of radio
groups */ unsigned char first_key; / first key with a new
name */ unsigned char num_keys; / number of keys with new
names */ unsigned short changed_vmods; / mask of virtual
modifiers for which names have changed */ unsigned long
changed_indicators; / mask of indicators for which names
were changed */ unsigned char changed_groups; / mask of
groups for which names were changed */ } XkbNameChangesRec,
*XkbNameChangesPtr</p>

<p>The changed field specifies the name components that
have changed and is the bitwise inclusive OR of the valid
names mask bits defined in Ta- ble 1. The rest of the fields
in the structure specify the ranges that have changed for
the various kinds of symbolic names, as shown in Table
2.</p>

<p>Xkb provides several functions that work with symbolic
names. Each of these functions uses a mask to specify
individual fields of the struc- tures described above. These
masks and their relationships to the fields in a keyboard
description are shown in Table 1.</p>

<p>Table 1 Symbolic Names Masks
---------------------------------------------------------------------------------
Mask Bit Value Keyboard Field Component
---------------------------------------------------------------------------------
XkbKeycodesNameMask (1&lt;&lt;0) Xkb-&gt;names keycodes
XkbGeometryNameMask (1&lt;&lt;1) Xkb-&gt;names geometry
XkbSymbolsNameMask (1&lt;&lt;2) Xkb-&gt;names symbols
XkbPhysSymbolsNameMask (1&lt;&lt;3) Xkb-&gt;names
phys_symbols XkbTypesNameMask (1&lt;&lt;4) Xkb-&gt;names
type XkbCompatNameMask (1&lt;&lt;5) Xkb-&gt;names compat
XkbKeyTypeNamesMask (1&lt;&lt;6) Xkb-&gt;map type[*].name
XkbKTLevelNamesMask (1&lt;&lt;7) Xkb-&gt;map
type[*].lvl_names[*] XkbIndicatorNamesMask (1&lt;&lt;8)
Xkb-&gt;names indicators[*] XkbKeyNamesMask (1&lt;&lt;9)
Xkb-&gt;names keys[*], num_keys XkbKeyAliasesMask
(1&lt;&lt;10) Xkb-&gt;names key_aliases[*], num_key_aliases
XkbVirtualModNamesMask (1&lt;&lt;11) Xkb-&gt;names vmods[*]
XkbGroupNamesMask (1&lt;&lt;12) Xkb-&gt;names groups[*]
XkbRGNamesMask (1&lt;&lt;13) Xkb-&gt;names radio_groups[*],
num_rg XkbComponentNamesMask (0x3f) Xkb-&gt;names keycodes,
geometry, symbols, physical symbols, types, and
compatibility map XkbAllNamesMask (0x3fff) Xkb-&gt;names all
name components</p>

<p>Table 2 XkbNameChanges Fields
--------------------------------------------------------------------------------
Mask Fields Component Field
--------------------------------------------------------------------------------
XkbKeyTypeNamesMask first_type, Xkb-&gt;map type[*].name
num_types XkbKTLevelNamesMask first_lvl, Xkb-&gt;map
type[*].lvl_names[*] num_lvls XkbKeyAliasesMask num_aliases
Xkb-&gt;names key_aliases[*] XkbRGNamesMask num_rg
Xkb-&gt;names radio_groups[*] XkbKeyNamesMask first_key,
Xkb-&gt;names keys[*] num_keys XkbVirtualModNamesMask
changed_vmods Xkb-&gt;names vmods[*] XkbIndicatorNamesMask
changed_indicators Xkb-&gt;names indicators[*]
XkbGroupNamesMask changed_groups Xkb-&gt;names groups[*]</p>

<p>DIAGNOSTICS BadAlloc Unable to allocate storage</p>

<p>BadAtom A name is neither a valid Atom or None</p>

<p>BadImplementation Invalid reply from server</p>

<p>BadLength The length of a request is shorter or longer
than that required to minimally contain the arguments</p>

<p>BadMatch A compatible version of Xkb was not available
in the server or an argument has correct type and range, but
is otherwise invalid</p>

<p>SEE ALSO XkbChangeNames(3)</p>

<p>X Version 11 libX11 1.6.3 XkbSetNames(3)</p>
<hr>
</body>
</html>
