<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:33:57 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>GETPRIORITY(3P) POSIX Programmer s Manual
GETPRIORITY(3P)</p>

<p>PROLOG This manual page is part of the POSIX Programmer
s Manual. The Linux implementation of this interface may
differ (consult the corresponding Linux manual page for
details of Linux behavior), or the interface may not be
implemented on Linux.</p>

<p>NAME getpriority, setpriority - get and set the nice
value</p>

<p>SYNOPSIS #include &lt;sys/resource.h&gt;</p>

<p>int getpriority(int which, id_t who); int
setpriority(int which, id_t who, int value);</p>

<p>DESCRIPTION The getpriority() function shall obtain the
nice value of a process, process group, or user. The
setpriority() function shall set the nice value of a
process, process group, or user to value+ {NZERO}.</p>

<p>Target processes are specified by the values of the
which and who argu- ments. The which argument may be one of
the following values: PRIO_PRO- CESS, PRIO_PGRP, or
PRIO_USER, indicating that the who argument is to be
interpreted as a process ID, a process group ID, or an
effective user ID, respectively. A 0 value for the who
argument specifies the current process, process group, or
user.</p>

<p>The nice value set with setpriority() shall be applied
to the process. If the process is multi-threaded, the nice
value shall affect all sys- tem scope threads in the
process.</p>

<p>If more than one process is specified, getpriority()
shall return value {NZERO} less than the lowest nice value
pertaining to any of the speci- fied processes, and
setpriority() shall set the nice values of all of the
specified processes to value+ {NZERO}.</p>

<p>The default nice value is {NZERO}; lower nice values
shall cause more favorable scheduling. While the range of
valid nice values is [0,{NZERO}*2-1], implementations may
enforce more restrictive limits. If value+ {NZERO} is less
than the systems lowest supported nice value, setpriority()
shall set the nice value to the lowest supported value; if
value+ {NZERO} is greater than the systems highest supported
nice value, setpriority() shall set the nice value to the
highest sup- ported value.</p>

<p>Only a process with appropriate privileges can lower its
nice value.</p>

<p>Any processes or threads using SCHED_FIFO or SCHED_RR
shall be unaf- fected by a call to setpriority(). This is
not considered an error. A process which subsequently
reverts to SCHED_OTHER need not have its priority affected
by such a setpriority() call.</p>

<p>The effect of changing the nice value may vary depending
on the pro- cess-scheduling algorithm in effect.</p>

<p>Since getpriority() can return the value -1 on
successful completion, it is necessary to set errno to 0
prior to a call to getpriority(). If getpriority() returns
the value -1, then errno can be checked to see if an error
occurred or if the value is a legitimate nice value.</p>

<p>RETURN VALUE Upon successful completion, getpriority()
shall return an integer in the range -{NZERO} to {NZERO}-1.
Otherwise, -1 shall be returned and errno set to indicate
the error.</p>

<p>Upon successful completion, setpriority() shall return
0; otherwise, -1 shall be returned and errno set to indicate
the error.</p>

<p>ERRORS The getpriority() and setpriority() functions
shall fail if:</p>

<p>ESRCH No process could be located using the which and
who argument values specified.</p>

<p>EINVAL The value of the which argument was not
recognized, or the value of the who argument is not a valid
process ID, process group ID, or user ID.</p>

<p>In addition, setpriority() may fail if:</p>

<p>EPERM A process was located, but neither the real nor
effective user ID of the executing process match the
effective user ID of the process whose nice value is being
changed.</p>

<p>EACCES A request was made to change the nice value to a
lower numeric value and the current process does not have
appropriate privi- leges.</p>

<p>The following sections are informative.</p>

<p>EXAMPLES Using getpriority() The following example
returns the current scheduling priority for the process ID
returned by the call to getpid().</p>

<p>#include &lt;sys/resource.h&gt; ... int which =
PRIO_PROCESS; id_t pid; int ret;</p>

<p>pid = getpid(); ret = getpriority(which, pid);</p>

<p>Using setpriority() The following example sets the
priority for the current process ID to -20.</p>

<p>#include &lt;sys/resource.h&gt; ... int which =
PRIO_PROCESS; id_t pid; int priority = -20; int ret;</p>

<p>pid = getpid(); ret = setpriority(which, pid,
priority);</p>

<p>APPLICATION USAGE The getpriority() and setpriority()
functions work with an offset nice value (nice value
-{NZERO}). The nice value is in the range [0,2*{NZERO} -1],
while the return value for getpriority() and the third
parameter for setpriority() are in the range
[-{NZERO},{NZERO} -1].</p>

<p>RATIONALE None.</p>

<p>FUTURE DIRECTIONS None.</p>

<p>SEE ALSO nice(), sched_get_priority_max(),
sched_setscheduler(), the Base Defi- nitions volume of IEEE
Std 1003.1-2001, &lt;sys/resource.h&gt;</p>

<p>COPYRIGHT Portions of this text are reprinted and
reproduced in electronic form from IEEE Std 1003.1, 2003
Edition, Standard for Information Technology -- Portable
Operating System Interface (POSIX), The Open Group Base
Specifications Issue 6, Copyright (C) 2001-2003 by the
Institute of Electrical and Electronics Engineers, Inc and
The Open Group. In the event of any discrepancy between this
version and the original IEEE and The Open Group Standard,
the original IEEE and The Open Group Standard is the referee
document. The original Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>

<p>IEEE/The Open Group 2003 GETPRIORITY(3P)</p>
<hr>
</body>
</html>
