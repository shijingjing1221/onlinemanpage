<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:05:12 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>ATTR_GET(3) XFS Compatibility API ATTR_GET(3)</p>

<p>NAME attr_get, attr_getf - get the value of a user
attribute of a filesystem object</p>

<p>C SYNOPSIS #include &lt;attr/attributes.h&gt;</p>

<p>int attr_get (const char *path, const char *attrname,
char *attrvalue, int *valuelength, int flags);</p>

<p>int attr_getf (int fd, const char *attrname, char
*attrvalue, int *valuelength, int flags);</p>

<p>DESCRIPTION The attr_get and attr_getf functions provide
a way to retrieve the value of an attribute.</p>

<p>Path points to a path name for a filesystem object, and
fd refers to the file descriptor associated with a file. If
the attribute attrname exists, the value associated with it
will be copied into the attrvalue buffer. The valuelength
argument is an input/output argument that on the call to
attr_get should contain the maximum size of attribute value
the process is willing to accept. On return, the valuelength
will have been modified to show the actual size of the
attribute value returned. The flags argument can contain the
following symbols bitwise ORed together:</p>

<p>ATTR_ROOT Look for attrname in the root address space,
not in the user address space. (limited to use by super-user
only)</p>

<p>ATTR_DONTFOLLOW Do not follow symbolic links when
resolving a path on an attr_get function call. The default
is to follow symbolic links.</p>

<p>attr_get will fail if one or more of the following are
true:</p>

<p>[ENOATTR] The attribute name given is not associated
with the indicated filesystem object.</p>

<p>[E2BIG] The value of the given attribute is too large to
fit into the buffer. The integer that the valuelength
argument points to has been modified to show the actual
number of bytes that would be required to store the value of
that attribute.</p>

<p>[ENOENT] The named file does not exist.</p>

<p>[EPERM] The effective user ID does not match the owner
of the file and the effective user ID is not super-user.</p>

<p>[ENOTDIR] A component of the path prefix is not a
directory.</p>

<p>[EACCES] Search permission is denied on a component of
the path prefix.</p>

<p>[EINVAL] A bit was set in the flag argument that is not
defined for this system call.</p>

<p>[EFAULT] Path, attrname, attrvalue, or valuelength
points out- side the allocated address space of the
process.</p>

<p>[ELOOP] A path name lookup involved too many symbolic
links.</p>

<p>[ENAMETOOLONG] The length of path exceeds {MAXPATHLEN},
or a pathname component is longer than {MAXNAMELEN}.</p>

<p>attr_getf will fail if:</p>

<p>[ENOATTR] The attribute name given is not associated
with the indicated filesystem object.</p>

<p>[E2BIG] The value of the given attribute is too large to
fit into the buffer. The integer that the valuelength argu-
ment points to has been modified to show the actual numnber
of bytes that would be required to store the value of that
attribute.</p>

<p>[EINVAL] A bit was set in the flag argument that is not
defined for this system call, or fd refers to a socket, not
a file.</p>

<p>[EFAULT] Attrname, attrvalue, or valuelength points
outside the allocated address space of the process.</p>

<p>[EBADF] Fd does not refer to a valid descriptor.</p>

<p>DIAGNOSTICS On success, zero is returned. On error, -1
is returned, and errno is set appropriately.</p>

<p>SEE ALSO attr(1), attr_list(3), attr_multi(3),
attr_remove(3), and attr_set(3).</p>

<p>Dec 2001 Extended Attributes ATTR_GET(3)</p>
<hr>
</body>
</html>
