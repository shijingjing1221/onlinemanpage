<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:30:29 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>PTHREAD_MUTEX_TIMEDLOCK(3P)POSIX Programmer s
ManuaPTHREAD_MUTEX_TIMEDLOCK(3P)</p>

<p>PROLOG This manual page is part of the POSIX Programmer
s Manual. The Linux implementation of this interface may
differ (consult the corresponding Linux manual page for
details of Linux behavior), or the interface may not be
implemented on Linux.</p>

<p>NAME pthread_mutex_timedlock - lock a mutex (ADVANCED
REALTIME)</p>

<p>SYNOPSIS #include &lt;pthread.h&gt; #include
&lt;time.h&gt;</p>

<p>int pthread_mutex_timedlock(pthread_mutex_t *restrict
mutex, const struct timespec *restrict abs_timeout);</p>

<p>DESCRIPTION The pthread_mutex_timedlock() function shall
lock the mutex object ref- erenced by mutex. If the mutex is
already locked, the calling thread shall block until the
mutex becomes available as in the pthread_mutex_lock()
function. If the mutex cannot be locked without waiting for
another thread to unlock the mutex, this wait shall be ter-
minated when the specified timeout expires.</p>

<p>The timeout shall expire when the absolute time
specified by abs_time- out passes, as measured by the clock
on which timeouts are based (that is, when the value of that
clock equals or exceeds abs_timeout), or if the absolute
time specified by abs_timeout has already been passed at the
time of the call.</p>

<p>If the Timers option is supported, the timeout shall be
based on the CLOCK_REALTIME clock; if the Timers option is
not supported, the time- out shall be based on the system
clock as returned by the time() func- tion.</p>

<p>The resolution of the timeout shall be the resolution of
the clock on which it is based. The timespec data type is
defined in the &lt;time.h&gt; header.</p>

<p>Under no circumstance shall the function fail with a
timeout if the mutex can be locked immediately. The validity
of the abs_timeout param- eter need not be checked if the
mutex can be locked immediately.</p>

<p>As a consequence of the priority inheritance rules (for
mutexes ini- tialized with the PRIO_INHERIT protocol), if a
timed mutex wait is ter- minated because its timeout
expires, the priority of the owner of the mutex shall be
adjusted as necessary to reflect the fact that this thread
is no longer among the threads waiting for the mutex.</p>

<p>RETURN VALUE If successful, the
pthread_mutex_timedlock() function shall return zero;
otherwise, an error number shall be returned to indicate the
error.</p>

<p>ERRORS The pthread_mutex_timedlock() function shall fail
if:</p>

<p>EINVAL The mutex was created with the protocol attribute
having the value PTHREAD_PRIO_PROTECT and the calling
threads priority is higher than the mutex current priority
ceiling.</p>

<p>EINVAL The process or thread would have blocked, and the
abs_timeout parameter specified a nanoseconds field value
less than zero or greater than or equal to 1000 million.</p>

<p>ETIMEDOUT The mutex could not be locked before the
specified timeout expired.</p>

<p>The pthread_mutex_timedlock() function may fail if:</p>

<p>EINVAL The value specified by mutex does not refer to an
initialized mutex object.</p>

<p>EAGAIN The mutex could not be acquired because the
maximum number of recursive locks for mutex has been
exceeded.</p>

<p>EDEADLK The current thread already owns the mutex.</p>

<p>This function shall not return an error code of
[EINTR].</p>

<p>The following sections are informative.</p>

<p>EXAMPLES None.</p>

<p>APPLICATION USAGE The pthread_mutex_timedlock() function
is part of the Threads and Time- outs options and need not
be provided on all implementations.</p>

<p>RATIONALE None.</p>

<p>FUTURE DIRECTIONS None.</p>

<p>SEE ALSO pthread_mutex_destroy(), pthread_mutex_lock(),
pthread_mutex_trylock(), time(), the Base Definitions volume
of IEEE Std 1003.1-2001, &lt;pthread.h&gt;,
&lt;time.h&gt;</p>

<p>COPYRIGHT Portions of this text are reprinted and
reproduced in electronic form from IEEE Std 1003.1, 2003
Edition, Standard for Information Technology -- Portable
Operating System Interface (POSIX), The Open Group Base
Specifications Issue 6, Copyright (C) 2001-2003 by the
Institute of Electrical and Electronics Engineers, Inc and
The Open Group. In the event of any discrepancy between this
version and the original IEEE and The Open Group Standard,
the original IEEE and The Open Group Standard is the referee
document. The original Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>

<p>IEEE/The Open Group 2003 PTHREAD_MUTEX_TIMEDLOCK(3P)</p>
<hr>
</body>
</html>
