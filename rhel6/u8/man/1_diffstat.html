<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:10:10 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>DIFFSTAT(1) DIFFSTAT(1)</p>

<p>NAME diffstat - make histogram from diff-output</p>

<p>SYNOPSIS diffstat [options] [file-specifications]</p>

<p>DESCRIPTION This program reads the output of diff and
displays a histogram of the insertions, deletions, and
modifications per-file. Diffstat is a pro- gram that is
useful for reviewing large, complex patch files. It reads
from one or more input files which contain output from diff,
producing a histogram of the total lines changed for each
file referenced.</p>

<p>If the input filename ends with .bz2, .gz, .lzma, .z or
.Z, diffstat will read the uncompressed data via a pipe from
the corresponding pro- gram. It also can infer the
compression type from files piped via the standard
input.</p>

<p>Diffstat recognizes the most popular types of output
from diff:</p>

<p>unified preferred by the patch utility.</p>

<p>context best for readability, but not very compact.</p>

<p>default not good for much, but simple to generate.</p>

<p>Diffstat detects the lines that are output by diff to
tell which files are compared, and then counts the markers
in the first column that denote the type of change
(insertion, deletion or modification). These are shown in
the histogram as &quot;+&quot;, &quot;-&quot; and
&quot;!&quot; characters.</p>

<p>If no filename is given on the command line, diffstat
reads the differ- ences from the standard input.</p>

<p>OPTIONS -b ignore lines matching &quot;Binary files XXX
and YYY differ&quot; in the diff</p>

<p>-c prefix each line of output with &quot;#&quot;, making
it a comment-line for shell scripts.</p>

<p>-D destination specify a directory containing files
which can be referred to as the result of applying the
differences. diffstat will count the lines in the
corresponding files (after adjusting the names by the -p
option) to obtain the total number of lines in each
file.</p>

<p>The remainder, after subtracting modified and deleted
lines, is shown as &quot;unchanged lines&quot;.</p>

<p>-e file redirect standard error to file.</p>

<p>-f format specify the format of the histogram.</p>

<p>0 for concise, which shows only the value and a single
his- togram code for each of insert (+), delete (-) or
modify (!)</p>

<p>1 for normal output,</p>

<p>2 to fill in the histogram with dots,</p>

<p>4 to print each value with the histogram.</p>

<p>Any nonzero value gives a histogram. The dots and
individual values can be combined, e.g., -f6 gives both.</p>

<p>-h prints the usage message and exits.</p>

<p>-k suppress the merging of filenames in the report.</p>

<p>-l lists only the filenames. No histogram is
generated.</p>

<p>-m merge insert/delete counts from each
&quot;chunk&quot; of the patch file to approximate a count
of the modified lines.</p>

<p>-n number specify the minimum width used for filenames.
If you do not specify this, diffstat uses the length of the
longest filename, after stripping common prefixes.</p>

<p>-N number specify the maximum width used for filenames.
Names longer than this limit are truncated on the left. If
you do not specify this, diffstat next checks the -n
option.</p>

<p>-o file redirect standard output to file.</p>

<p>-p number override the logic that strips common
pathnames, simulating the patch &quot;-p&quot; option.</p>

<p>-q suppress the &quot;0 files changed&quot; message for
empty diffs.</p>

<p>-r code provides optional rounding of the data shown in
histogram, rather than truncating with error
adjustments.</p>

<p>0 is the default. No rounding is performed, but
accumulated errors are added to following columns.</p>

<p>1 rounds the data</p>

<p>2 rounds the data and adjusts the histogram to ensure
that it displays something if there are any differences even
if those would normally be rounded to zero.</p>

<p>-S source this is like the -D option, but specifies a
location where the original files (before applying
differences) can be found.</p>

<p>-t overrides the histogram, generates output of comma
separated values.</p>

<p>-u suppress the sorting of filenames in the report.</p>

<p>-v show progress, e.g., if the output is redirected to a
file, write progress messages to the standard error.</p>

<p>-V prints the current version number and exits.</p>

<p>-w number specify the maximum width of the histogram.
The histogram will never be shorter than 10 columns, just in
case the filenames get too large.</p>

<p>ENVIRONMENT Diffstat runs in a portable UNIX&reg;
environment.</p>

<p>You can override the compiled-in paths of programs used
for decompress- ing input files by setting environment
variables corresponding to their name:</p>

<p>DIFFSTAT_BZCAT_PATH DIFFSTAT_BZIP2_PATH
DIFFSTAT_COMPRESS_PATH DIFFSTAT_GZIP_PATH
DIFFSTAT_LZCAT_PATH DIFFSTAT_PCAT_PATH
DIFFSTAT_UNCOMPRESS_PATH DIFFSTAT_ZCAT_PATH</p>

<p>However, diffstat assumes that the resulting program
uses the same com- mand-line options, e.g., &quot;-c&quot;
to decompress to the standard output.</p>

<p>FILES Diffstat is a single binary module, which uses no
auxiliary files.</p>

<p>BUGS Diffstat makes a lot of assumptions about the
format of a diff file.</p>

<p>There is no way to obtain a filename from the standard
diff between two files with no options. Context diffs work,
as well as unified diffs.</p>

<p>Theres no easy way to determine the degree of overlap
between the &quot;before&quot; and &quot;after&quot;
displays of modified lines. diffstat simply counts the
number of inserted and deleted lines to approximate modified
lines for the -m option.</p>

<p>SEE ALSO diff (1).</p>

<p>AUTHOR Thomas Dickey
&lt;dickey@invisible-island.net&gt;.</p>

<p>DIFFSTAT(1)</p>
<hr>
</body>
</html>
