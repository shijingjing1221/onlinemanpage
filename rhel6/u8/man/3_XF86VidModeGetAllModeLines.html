<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:45:32 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>XF86VIDMODE(3) XF86VIDMODE(3)</p>

<p>NAME XF86VidModeQueryExtension, XF86VidModeQueryVersion,
XF86VidModeSet- ClientVersion, XF86VidModeGetModeLine,
XF86VidModeGetAllModeLines, XF86VidModeDeleteModeLine,
XF86VidModeModModeLine, XF86VidModeValidate- ModeLine,
XF86VidModeSwitchMode, XF86VidModeSwitchToMode, XF86VidMode-
LockModeSwitch, XF86VidModeGetMonitor,
XF86VidModeGetViewPort, XF86Vid- ModeSetViewPort,
XF86VidModeGetDotClocks, XF86VidModeGetGamma, XF86Vid-
ModeSetGamma, XF86VidModeGetGammaRamp,
XF86VidModeSetGammaRamp, XF86VidModeGetGammaRampSize,
XF86VidModeGetPermissions - Extension library for the
XFree86-VidMode X extension</p>

<p>SYNTAX #include &lt;X11/extensions/xf86vmode.h&gt;</p>

<p>Bool XF86VidModeQueryExtension( Display *display, int
*event_base_return, int *error_base_return);</p>

<p>Bool XF86VidModeQueryVersion( Display *display, int
*major_version_return, int *minor_version_return);</p>

<p>Bool XF86VidModeSetClientVersion( Display *display);</p>

<p>Bool XF86VidModeGetModeLine( Display *display, int
screen, int *dotclock_return, XF86VidModeModeLine
*modeline);</p>

<p>Bool XF86VidModeGetAllModeLines( Display *display, int
screen, int *modecount_return, XF86VidModeModeInfo
***modesinfo);</p>

<p>Bool XF86VidModeDeleteModeLine( Display *display, int
screen, XF86VidModeModeInfo *modeline);</p>

<p>Bool XF86VidModeModModeLine( Display *display, int
screen, XF86VidModeModeLine *modeline);</p>

<p>Status XF86VidModeValidateModeLine( Display *display,
int screen, XF86VidModeModeLine *modeline);</p>

<p>Bool XF86VidModeSwitchMode( Display *display, int
screen, int zoom);</p>

<p>Bool XF86VidModeSwitchToMode( Display *display, int
screen, XF86VidModeModeInfo *modeline);</p>

<p>Bool XF86VidModeLockModeSwitch( Display *display, int
screen, int lock);</p>

<p>Bool XF86VidModeGetMonitor( Display *display, int
screen, XF86VidModeMonitor *monitor);</p>

<p>Bool XF86VidModeGetViewPort( Display *display, int
screen, int *x_return, int *y_return);</p>

<p>Bool XF86VidModeSetViewPort( Display *display, int
screen, int x, int y);</p>

<p>XF86VidModeGetDotClocks( Display *display, int screen,
int *flags return, int *number of clocks return, int *max
dot clock return, int **clocks return);</p>

<p>XF86VidModeGetGamma( Display *display, int screen,
XF86VidModeGamma *Gamma);</p>

<p>XF86VidModeSetGamma( Display *display, int screen,
XF86VidModeGamma *Gamma);</p>

<p>XF86VidModeGetGammaRamp( Display *display, int screen,
int size, unsigned short *red array, unsigned short *green
array, unsigned short *blue array);</p>

<p>XF86VidModeSetGammaRamp( Display *display, int screen,
int size, unsigned short *red array, unsigned short *green
array, unsigned short *blue array);</p>

<p>XF86VidModeGetGammaRampSize( Display *display, int
screen, int *size);</p>

<p>ARGUMENTS display Specifies the connection to the X
server.</p>

<p>screen Specifies which screen number the setting apply
to.</p>

<p>event_base_return Returns the base event number for the
extension.</p>

<p>error_base_return Returns the base error number for the
extension.</p>

<p>major_version_return Returns the major version number of
the extension.</p>

<p>minor_version_return Returns the minor version number of
the extension.</p>

<p>dotclock_return Returns the clock for the mode line.</p>

<p>modecount_return Returns the number of video modes
available in the server.</p>

<p>zoom If greater than zero, indicates that the server
should switch to the next mode, otherwise switch to the
previous mode.</p>

<p>lock Indicates that mode switching should be locked, if
non-zero.</p>

<p>modeline Specifies or returns the timing values for a
video mode.</p>

<p>modesinfo Returns the timing values and dotclocks for
all of the available video modes.</p>

<p>monitor Returns information about the monitor.</p>

<p>x Specifies the desired X location for the viewport.</p>

<p>x_return Returns the current X location of the
viewport.</p>

<p>y Specifies the desired Y location for the viewport.</p>

<p>y_return Returns the current Y location of the
viewport.</p>

<p>STRUCTURES Video Mode Settings: typedef struct {
unsigned short hdisplay; / Number of display pixels
horizontally */ unsigned short hsyncstart; / Horizontal sync
start */ unsigned short hsyncend; / Horizontal sync end */
unsigned short htotal; / Total horizontal pixels */ unsigned
short vdisplay; / Number of display pixels vertically */
unsigned short vsyncstart; / Vertical sync start */ unsigned
short vsyncend; / Vertical sync start */ unsigned short
vtotal; / Total vertical pixels */ unsigned int flags; /
Mode flags */ int privsize; / Size of private */ INT32
*private; / Server privates */ } XF86VidModeModeLine;</p>

<p>typedef struct { unsigned int dotclock; / Pixel clock */
unsigned short hdisplay; / Number of display pixels
horizontally */ unsigned short hsyncstart; / Horizontal sync
start */ unsigned short hsyncend; / Horizontal sync end */
unsigned short htotal; / Total horizontal pixels */ unsigned
short vdisplay; / Number of display pixels vertically */
unsigned short vsyncstart; / Vertical sync start */ unsigned
short vsyncend; / Vertical sync start */ unsigned short
vtotal; / Total vertical pixels */ unsigned int flags; /
Mode flags */ int privsize; / Size of private */ INT32
*private; / Server privates */ } XF86VidModeModeInfo;</p>

<p>Monitor information: typedef struct { char* vendor; /
Name of manufacturer */ char* model; / Model name */ float
EMPTY; / unused, for backward compatibility */ unsigned char
nhsync; / Number of horiz sync ranges */
XF86VidModeSyncRange* hsync;/ Horizontal sync ranges */
unsigned char nvsync; / Number of vert sync ranges */
XF86VidModeSyncRange* vsync;/ Vertical sync ranges */ }
XF86VidModeMonitor;</p>

<p>typedef struct { float hi; / Top of range */ float lo; /
Bottom of range */ } XF86VidModeSyncRange;</p>

<p>typedef struct { int type; / of event */ unsigned long
serial; / # of last request processed by server */ Bool
send_event; / true if this came from a SendEvent req */
Display *display; / Display the event was read from */
Window root; / root window of event screen */ int state; /
What happened */ int kind; / What happened */ Bool forced; /
extents of new region */ Time time; / event timestamp */ }
XF86VidModeNotifyEvent;</p>

<p>typedef struct { float red; / Red Gamma value */ float
green; / Green Gamma value */ float blue; / Blue Gamma value
*/ } XF86VidModeGamma;</p>

<p>DESCRIPTION These functions provide an interface to the
server extension XFree86-VidModeExtension which allows the
video modes to be queried and adjusted dynamically and mode
switching to be controlled. Applications that use these
functions must be linked with -lXxf86vm</p>

<p>MODELINE FUNCTIONS The XF86VidModeGetModeLine function
is used to query the settings for the currently selected
video mode. The calling program should pass a pointer to a
XF86VidModeModeLine structure that it has already allo-
cated. The function fills in the fields of the
structure.</p>

<p>If there are any server private values (currently only
applicable to the S3 server) the function will allocate
storage for them. Therefore, if the privsize field is
non-zero, the calling program should call Xfree(private) to
free the storage.</p>

<p>XF86VidModeGetAllModeLines returns the settings for all
video modes. The calling program supplies the address of a
pointer which will be set by the function to point to an
array of XF86VidModeModeInfo structures. The memory occupied
by the array is dynamically allocated by the
XF86VidModeGetAllModeLines function and should be freed by
the caller. The first element of the array corresponds to
the current video mode.</p>

<p>The XF86VidModeModModeLine function can be used to
change the settings of the current video mode provided the
requested settings are valid (e.g. they dont exceed the
capabilities of the monitor).</p>

<p>Modes can be deleted with the XF86VidModeDeleteModeLine
function. The specified mode must match an existing mode. To
be considered a match, all of the fields of the given
XF86VidModeModeInfo structure must match, except the
privsize and private fields. If the mode to be deleted is
the current mode, a mode switch to the next mode will occur
first. The last remaining mode can not be deleted.</p>

<p>The validity of a mode can be checked with the
XF86VidModeValidateMode- Line function. If the specified
mode can be used by the server (i.e. meets all the
constraints placed upon a mode by the combination of the
server, card, and monitor) the function returns MODE_OK,
otherwise it returns a value indicating the reason why the
mode is invalid (as defined in xf86.h)</p>

<p>MODE SWITCH FUNCTIONS When the function
XF86VidModeSwitchMode is called, the server will change the
video mode to next (or previous) video mode. The XF86VidMod-
eSwitchToMode function can be used to switch directly to the
specified mode. Matching is as specified in the description
of the XF86VidMod- eAddModeLine function above. The
XF86VidModeLockModeSwitch function can be used to allow or
disallow mode switching whether the request to switch modes
comes from a call to the XF86VidModeSwitchMode or XF86Vid-
ModeSwitchToMode functions or from one of the mode switch
key sequences.</p>

<p>Note: Because of the asynchronous nature of the X
protocol, a call to XFlush is needed if the application
wants to see the mode change imme- diately. To be informed
of the execution status of the request, a cus- tom error
handler should be installed using XSetErrorHandler before
calling the mode switching function.</p>

<p>MONITOR FUNCTIONS Information known to the server about
the monitor is returned by the XF86VidModeGetMonitor
function. The hsync and vsync fields each point to an array
of XF86VidModeSyncRange structures. The arrays contain
nhsync and nvsync elements, respectively. The hi and low
values will be equal if a discreate value was given in the
XF86Config file.</p>

<p>The vendor, model, hsync, and vsync fields point to
dynamically allo- cated storage that should be freed by the
caller.</p>

<p>VIEWPORT FUNCTIONS The XF86VidModeGetViewPort and
XF86VidModeSetViewPort functions can be used to,
respectively, query and change the location of the upper
left corner of the viewport into the virtual screen.</p>

<p>OTHER FUNCTIONS The XF86VidModeQueryVersion function can
be used to determine the ver- sion of the extension built
into the server.</p>

<p>The function XF86VidModeQueryExtension returns the
lowest numbered error and event values assigned to the
extension.</p>

<p>BUGS The XF86VidModeSetClientVersion,
XF86VidModeGetDotClocks, XF86VidMod- eGetGamma,
XF86VidModeSetGamma, XF86VidModeSetGammaRamp, XF86VidMod-
eGetGammaRamp, XF86VidModeGetGammaRampSize, and
XF86VidModeGetPermis- sions functions need to be documented.
In the meantime, check the source code for information about
how to use them.</p>

<p>SEE ALSO Xorg(1), xorg.conf(5), XFlush(3),
XSetErrorHandler(3), xvidtune(1)</p>

<p>AUTHORS Kaleb Keithley, Jon Tombs, David Dawes, and Joe
Moss</p>

<p>X Version 11 libXxf86vm 1.1.3 XF86VIDMODE(3)</p>
<hr>
</body>
</html>
