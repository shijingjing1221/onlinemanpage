<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:25:32 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>Pammasksharpen User Manual(0) Pammasksharpen User
Manual(0)</p>

<p>NAME pammasksharpen - Sharpen an image via an unsharp
mask</p>

<p>SYNOPSIS pammasksharpen [-sharpness=realnum]
[-threshold=realnum] maskfile [inputfile]</p>

<p>All options can be abbreviated to their shortest unique
prefix. You may use two hyphens instead of one. You may
separate an option name and its value with white space
instead of an equals sign.</p>

<p>EXAMPLES pamgauss 5 5 -sigma=.7 -tupletype=GRAYSCALE |
pamtopnm &gt;gauss.pgm pnmconvol -noffset gauss.pgm
myimage.ppm &gt;blurred.ppm pammasksharpen blurred.ppm
myimage.ppm &gt;sharpened.ppm</p>

<p>DESCRIPTION This program is part of Netpbm(1).</p>

<p>pammasksharpen reads a Netpbm image as input and
produces a sharpened version of it, in the same format, as
output. It does this via an unsharp mask, which you supply
as another Netpbm image.</p>

<p>An unsharp mask is generally a blurred version of the
original image. The sharpening computation is this:
Calculate the edgeness of a sam- ple in the input image as
the signed difference between the sample value and the
corresponding sample in the unsharp mask. This tells how
different the pixel is from its neighbors. Add a multiple of
the edge- ness to the original sample to get the
corresponding output sample. Clip as necessary. This causes
pixels that are brighter than their neighbors to get even
brighter, while pixels that are dimmer than their neighbors
get even dimmer. This makes edges -- places where pixel val-
ues change quickly in space -- stand out more.</p>

<p>The unsharp mask must be the same dimensions and have
the same maxval as the input image.</p>

<p>The Unsharp Mask You usually create the unsharp mask as
a gaussian blur of the original image, which you can do
using pamgauss and pnmconvol as in the example above. The
convolution kernel you use with pnmconvol is normally a
square with side length an odd number of pixels.</p>

<p>When you create an unsharp mask like this, you will have
to choose the side length of the convolution kernel. That
length implements the parameter of unsharp mask sharpening
usually known as radius. In particular, a radius of R pixels
corresponds to a convolution kernel 2R+1 pixels on a
side.</p>

<p>Radius is a very important parameter; you can ruin an
image with a radius too large. You can safely use the
highest radius with an inani- mate object, while a human
face demands the least. Landscapes fall in between. But it
really depends on the size of the details. Fine detail needs
a smaller radius, or else you may obliterate tiny detail of
the same size as the Radius width. A large image often has
larger detail (more pixels involved), so can use a larger
radius. Radius and sharpness (see -sharpness option)
interact: reducing one allows you to increase the other.</p>

<p>OPTIONS -sharpness=realnum This specifies the magnitude
of the sharpening. It is the mul- tiple of edgeness that
gets added to each sample as described above.</p>

<p>realnum is a nonnegative real decimal number. Zero means
no sharpening at all.</p>

<p>This parameter is known as amount in ImageMagick.</p>

<p>The default is 1.0.</p>

<p>This option was new in Netpbm 10.30 (October 2005).
Before that, the sharpness was always 1.0.</p>

<p>-threshold=realnum This minimum amount of edgeness that
will be considered edgeness at all. i.e. if the magnitude of
the edgeness is less than this, pammasksharpen will treat
the edgeness as zero.</p>

<p>A nonzero value may be necessary here to avoid speckling
in smooth areas.</p>

<p>This is a fraction of the maxval (so it is in the range
[0, 1.0]).</p>

<p>The default is 0.</p>

<p>This option was new in Netpbm 10.34 (June 2006).</p>

<p>SEE ALSO pnmconvol(1), pamedge(1), pamsharpness(1),
pamsharpmap(1), pamarith(1), pnm(1), pam(1)</p>

<p>HISTORY pammasksharpen was new in Netpbm 10.23 (July
2004).</p>

<p>netpbm documentation 14 June 2006 Pammasksharpen User
Manual(0)</p>
<hr>
</body>
</html>
