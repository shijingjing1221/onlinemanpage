<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:34:06 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>SG_COPY_RESULTS(8) SG3_UTILS SG_COPY_RESULTS(8)</p>

<p>NAME sg_copy_results - send SCSI RECEIVE COPY RESULTS
command (XCOPY related)</p>

<p>SYNOPSIS sg_copy_results
[--failed|--params|--receive|--status] [--help] [--hex]
[--list_id=ID] [--readonly] [--verbose] [--version]
[--xfer_len=BTL] DEVICE</p>

<p>DESCRIPTION This utility is designed to query the status
of the SCSI Extended Copy (XCOPY) facility (see SPC-3
revision 23 sections 6.3 and 6.17), present in some modern
storage arrays. This utility sends a SCSI RECEIVE COPY
RESULTS command to the given DEVICE and displays the
response.</p>

<p>During the draft stages of SPC-4 the T10 committee has
expanded the XCOPY command so that it now has two variants:
&quot;LID1&quot; (for a List Iden- tifier length of 1 byte)
and &quot;LID4&quot; (for a List Identifier length of 4
bytes). This utility supports the older, LID1 variant which
is also found in SPC-3 and earlier. While the LID1 variant
in SPC-4 is command level (binary) compatible with XCOPY as
defined in SPC-3, some of the command naming has changed.
This utility uses the older, SPC-3 XCOPY names.</p>

<p>The command has four distinct modes of operation,
distinguished by the service action field:</p>

<p>COPY STATUS [SPC-4: RECEIVE COPY STATUS(LID1)] Displays
the current status of the EXTENDED COPY command identi- fied
by the list id field.</p>

<p>RECEIVE DATA [SPC-4: RECEIVE COPY DATA(LID1)] Return the
held data read by the EXTENDED COPY command identi- fied by
the list id field. This option is only meaningful if the
respective segment descriptor are supported.</p>

<p>OPERATING PARAMETERS [SPC-4: RECEIVE COPY OPERATING
PARAMETERS] Return copy manager operating parameters. This
option is also useful to determine if the SCSI Extended Copy
facility is sup- ported.</p>

<p>FAILED SEGMENT DETAILS [SPC-4: RECEIVE COPY FAILURE
DETAILS(LID1)] Return copy target device sense data and
other information about any failed segments.</p>

<p>OPTIONS Arguments to long options are mandatory for
short options as well.</p>

<p>-f, --failed sets the service action field to FAILED
SEGMENT DETAILS [4].</p>

<p>-h, --help output the usage message then exit.</p>

<p>-H, --hex prints out the response buffer in hex.</p>

<p>-l, --list_id=ID sets the list identifier field to ID
(default: 0).</p>

<p>-p, --params sets the service action field to OPERATING
PARAMETERS [3]. This is the default.</p>

<p>-R, --readonly open the DEVICE read-only (e.g. in Unix
with the O_RDONLY flag). The default is to open it
read-write.</p>

<p>-r, --receive sets the service action field to RECEIVE
DATA [1].</p>

<p>-s, --status sets the service action field to COPY
STATUS [0].</p>

<p>-v, --verbose increase the level of verbosity, (i.e.
debug output).</p>

<p>-V, --version print the version string and then
exit.</p>

<p>-x, --xfer_len=BTL sets the allocation length field to
BTL. It is the byte transfer length and is the maximum
(byte) size of the response. BTL must be less than 10000 and
defaults to 520.</p>

<p>NOTES Decoding of RECEIVE DATA service action is not
implemented.</p>

<p>In a similar way the functionality of sg_xcopy has been
ported to the more general ddpt utility (and package), the
functionality of this utility has been ported to the ddptctl
utility.</p>

<p>EXAMPLES Query the operating parameters for a
device:</p>

<p># sg_copy_results -p /dev/sdo Receive copy results
(report operating parameters): Supports no list identifier:
no Maximum target descriptor count: 2 Maximum segment
descriptor count: 1 Maximum descriptor list length: 92 bytes
Maximum segment length: 33553920 bytes Inline data not
supported Held data limit: 0 bytes Maximum stream device
transfer size: 0 bytes Total concurrent copies: 0 Maximum
concurrent copies: 255 Data segment granularity: 512 bytes
Inline data granularity: 1 bytes Held data granularity: 1
bytes Implemented descriptor list: Segment descriptor 0x02:
Copy from block device to block device Target descriptor
0xe4: Identification descriptor</p>

<p>EXIT STATUS The exit status of sg_copy_results is 0 when
it is successful. Other- wise see the sg3_utils(8) man
page.</p>

<p>AUTHORS Written by Douglas Gilbert.</p>

<p>REPORTING BUGS Report bugs to &lt;dgilbert at interlog
dot com&gt;.</p>

<p>COPYRIGHT Copyright &copy; 2012-2014 Hannes Reinecke and
Douglas Gilbert This software is distributed under a FreeBSD
license. There is NO war- ranty; not even for
MERCHANTABILITY or FITNESS FOR A PARTICULAR PUR- POSE.</p>

<p>SEE ALSO sg_xcopy(sg3_utils), ddpt,ddptctl(ddpt)</p>

<p>sg3_utils-1.40 September 2014 SG_COPY_RESULTS(8)</p>
<hr>
</body>
</html>
