<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:07:44 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>CIFS.IDMAP(8) System Administration tools
CIFS.IDMAP(8)</p>

<p>NAME cifs.idmap - Userspace helper for mapping ids for
Common Internet File System (CIFS)</p>

<p>SYNOPSIS cifs.idmap [--help|-h] [--timeout|-t]
[--version|-v] {keyid}</p>

<p>DESCRIPTION This tool is part of the cifs-utils
suite.</p>

<p>cifs.idmap is a userspace helper program for the linux
CIFS client filesystem. There are a number of activities
that the kernel cannot easily do itself. This program is a
callout program that does these things for the kernel and
then returns the result.</p>

<p>cifs.idmap is generally intended to be run when the
kernel calls request-key(8) for a particular key type. While
it can be run directly from the command-line, it is not
generally intended to be run that way.</p>

<p>cifs.idmap works in conjuction with winbind facility of
Samba suite to map owner and group SIDs to uids and gids
respectively. It is best utilized when - a mount option of
cifsacl is specified when mounting a cifs share - winbind is
specified as one of the search entries for passwd and group
databases in file /etc/nsswitch.conf - file smb.conf has
winbind specific entries - winbind daemon program is
running</p>

<p>In case winbind and cifs.idmap facilities are
unavailable, file objects in a mounted share are assigned
uid and gid of the credentials of the process that mounted
the share. So it is strongly recomemended to use mount
options of uid and gid to specify a default uid and gid to
map owner SIDs and group SIDs respectively in case services
of winbind and cifs.idmap facility are unavailable.</p>

<p>OPTIONS --help|-h Print the usage message and exit.</p>

<p>--timeout|-t Set the expiration timer, in seconds on the
key. The default is 600 seconds (10 minutes). Setting this
to 0 will cause the key to never expire.</p>

<p>--version|-v Print version number and exit.</p>

<p>CONFIGURATION FOR KEYCTL cifs.idmap is designed to be
called from the kernel via the request-key callout program.
This requires that request-key be told where and how to call
this program. Currently cifs.idmap handles a key type
of:</p>

<p>cifs.idmap This keytype is for mapping a SID to either
an uid or a gid</p>

<p>To make this program useful for CIFS, you will need to
set up entry for it in request-key.conf(5). Here is an
example of an entry for this key type:</p>

<p>#OPERATION TYPE D C PROGRAM ARG1 ARG2... #=========
============= = = ================================ create
cifs.idmap * * /usr/sbin/cifs.idmap %k</p>

<p>See request-key.conf5() for more info on each field.</p>

<p>SEE ALSO request-key.conf(5), mount.cifs(8)</p>

<p>AUTHOR Shirish Pargaonkar wrote the cifs.idmap
program.</p>

<p>The Linux CIFS Mailing list is the preferred place to
ask questions regarding these programs.</p>

<p>cifs-utils 05/26/2011 CIFS.IDMAP(8)</p>
<hr>
</body>
</html>
