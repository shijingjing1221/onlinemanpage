<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:28:19 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>PKCS11.CONF(5) System Files PKCS11.CONF(5)</p>

<p>NAME pkcs11.conf - Configuration files for PKCS#11
modules</p>

<p>DESCRIPTION The pkcs11.conf configuration files are a
standard way to configure PKCS#11 modules.</p>

<p>FILE FORMAT A complete configuration consists of several
files. These files are text files. Since p11-kit is built to
be used in all sorts of environments and at very low levels
of the software stack, we cannot make use of high level
configuration APIs that you may find on a modern
desktop.</p>

<p>Each setting in the config file is specified consists of
a name and a value. The name is a simple string consisting
of characters and dashes. The name consists of alpha numeric
characters, dot, hyphen and underscore.</p>

<p>The value is specified after the name on the same line,
separated from it by a : (colon). White space between the
name and value is ignored.</p>

<p>Blank lines are ignored. White space at the beginning or
end of lines is stripped. Lines that begin with a #
character are ignored as comments. Comments are not
recognized when they come after a value on a line.</p>

<p>A fictitious module configuration file might look
like:</p>

<p>module: module.so # Here is a comment</p>

<p>managed: true setting.2: A long value with text.
x-custom : text</p>

<p>MODULE CONFIGURATION Each configured PKCS#11 module has
its own config file. These files can be placed in various
locations.</p>

<p>The filename of the configuration file may consist of
upper and lowercase letters underscore, comma, dash and
dots. The first characters needs to be an alphanumeric, the
filename should end with a .module extension.</p>

<p>Most importantly each config file specifies the path of
the PKCS#11 module to load. A module config file has the
following fields:</p>

<p>module: The filename of the PKCS#11 module to load. This
should include an extension like .so</p>

<p>If this value is blank, then the module will be ignored.
This can be used in the user configs to override loading of
a module specified in the system configuration.</p>

<p>If this is a relative path, then the module will be
loaded from the default module directory.</p>

<p>critical: Set to yes if the module is critical and
required to load. If a critical module fails to load or
initialize, then the loading process for all registered
modules will abort and return an error code.</p>

<p>This argument is optional and defaults to no.</p>

<p>enable-in: A comma and/or space separated list of names
of programs that this module should only be loaded in. The
module will not be loaded for other programs using p11-kit.
The base name of the process executable should be used here,
for example seahorse, ssh.</p>

<p>This is not a security feature. The argument is
optional. If not present, then any process will load the
module.</p>

<p>disable-in: A comma and/or space separated list of names
of programs that this module should not be loaded in. The
module will be loaded for any other programs using p11-kit.
The base name of the process executable should be used here,
for example firefox, thunderbird-bin.</p>

<p>This is not a security feature. The argument is
optional. If not present, then any process will load the
module.</p>

<p>priority: The value should be an integer. When lists of
modules are returned to a caller of p11-kit, modules with a
higher number are sorted first. When applications search
modules for for certificates, keys and trust policy
information, this setting will affect what find first.</p>

<p>This argument is optional, and defaults to zero. Modules
with the same priority option will be sorted
alphabetically.</p>

<p>trust-policy: Set to yes to use use this module as a
source of trust policy information such as certificate
anchors and black lists.</p>

<p>Do not specify both enable-in and disable-in for the
same module.</p>

<p>Other fields may be present, but it is recommended that
field names that are not specified in this document start
with a x- prefix.</p>

<p>GLOBAL CONFIGURATION A global configuration may also be
present. This file contains settings that are not related to
a single PKCS#11 module. The location(s) of the global
configuration are described below. The global configuration
file can contain the following fields:</p>

<p>user-config: This will be equal to one of the following
values: none, merge, only.</p>

<p>Other fields may be present, but it is recommended that
field names that are not specified in this document start
with a x- prefix.</p>

<p>CONFIGURATION FILES Each configured PKCS#11 module is
has its own config file. These files are placed in a
directory. In addition a global config file exists. There is
a system configuration consisting of the various module
config files and a file for global configuration. Optionally
each user can provide additional configuration or override
the system configuration.</p>

<p>The system global configuration file is usually in
/etc/pkcs11/pkcs11.conf and the user global configuration
file is in /data/.pkcs11/pkcs11.conf in the user&acute;s
home directory.</p>

<p>The module config files are usually located in the
/etc/pkcs11/modules directory, with one configuration file
per module. In addition the /data/.pkcs11/modules directory
can be used for modules installed by the user.</p>

<p>Note that user configuration files are not loaded from
the home directory if running inside a setuid or setgid
program.</p>

<p>The default system config file and module directory can
be changed when building p11-kit. Always lookup these paths
using pkg-config.</p>

<p>SEE ALSO p11-kit(8)</p>

<p>Further details available in the p11-kit online
documentation at
http://p11-glue.freedesktop.org/doc/p11-kit/.</p>

<p>p11-kit PKCS11.CONF(5)</p>
<hr>
</body>
</html>
