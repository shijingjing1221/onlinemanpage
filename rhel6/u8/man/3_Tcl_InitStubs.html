<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:39:20 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>Tcl_InitStubs(3) Tcl Library Procedures
Tcl_InitStubs(3)</p>


<p>______________________________________________________________________________</p>

<p>NAME Tcl_InitStubs - initialize the Tcl stubs
mechanism</p>

<p>SYNOPSIS #include &lt;tcl.h&gt;</p>

<p>const char * Tcl_InitStubs(interp, version, exact)</p>

<p>ARGUMENTS Tcl_Interp *interp (in) Tcl interpreter
handle.</p>

<p>const char *version (in) A version string consisting of
one or more decimal numbers separated by dots.</p>

<p>int exact (in) Non-zero means that only the particu- lar
version specified by version is acceptable. Zero means that
versions newer than version are also acceptable as long as
they have the same major version number as version.
_________________________________________________________________</p>

<p>INTRODUCTION The Tcl stubs mechanism defines a way to
dynamically bind extensions to a particular Tcl
implementation at run time. This provides two signif- icant
benefits to Tcl users:</p>

<p>1) Extensions that use the stubs mechanism can be loaded
into multi- ple versions of Tcl without being recompiled or
relinked.</p>

<p>2) Extensions that use the stubs mechanism can be
dynamically loaded into statically-linked Tcl
applications.</p>

<p>The stubs mechanism accomplishes this by exporting
function tables that define an interface to the Tcl API. The
extension then accesses the Tcl API through offsets into the
function table, so there are no direct references to any of
the Tcl librarys symbols. This redirection is transparent to
the extension, so an extension writer can continue to use
all public Tcl functions as documented.</p>

<p>The stubs mechanism requires no changes to applications
incorporating Tcl interpreters. Only developers creating
C-based Tcl extensions need to take steps to use the stubs
mechanism with their extensions.</p>

<p>Enabling the stubs mechanism for an extension requires
the following steps:</p>

<p>1) Call Tcl_InitStubs in the extension before calling
any other Tcl functions.</p>

<p>2) Define the USE_TCL_STUBS symbol. Typically, you would
include the -DUSE_TCL_STUBS flag when compiling the
extension.</p>

<p>3) Link the extension with the Tcl stubs library instead
of the stan- dard Tcl library. On Unix platforms, the
library name is libt- clstub8.1.a; on Windows platforms, the
library name is tclstub81.lib.</p>

<p>If the extension also requires the Tk API, it must also
call Tk_Init- Stubs to initialize the Tk stubs interface and
link with the Tk stubs libraries. See the Tk_InitStubs page
for more information.</p>

<p>DESCRIPTION Tcl_InitStubs attempts to initialize the
stub table pointers and ensure that the correct version of
Tcl is loaded. In addition to an inter- preter handle, it
accepts as arguments a version number and a Boolean flag
indicating whether the extension requires an exact version
match or not. If exact is 0, then the extension is
indicating that newer versions of Tcl are acceptable as long
as they have the same major ver- sion number as version;
non-zero means that only the specified version is
acceptable. Tcl_InitStubs returns a string containing the
actual version of Tcl satisfying the request, or NULL if the
Tcl version is not acceptable, does not support stubs, or
any other error condition occurred.</p>

<p>SEE ALSO Tk_InitStubs</p>

<p>KEYWORDS stubs</p>

<p>Tcl 8.1 Tcl_InitStubs(3)</p>
<hr>
</body>
</html>
