<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:47:34 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>XmSpinBoxValidatePosition(library
call)XmSpinBoxValidatePosition(library call)</p>

<p>NAME XmSpinBoxValidatePosition translate the current
value of the speci- fied XmSpinBox child into a valid
position</p>

<p>SYNOPSIS #include &lt;Xm/SpinBox.h&gt; int
XmSpinBoxValidatePosition( Widget textfield, int
*position);</p>

<p>DESCRIPTION The XmSpinBoxValidatePosition function is a
utility that can be used by applications wanting to
implement a policy for tracking user modifica- tions to
editable XmSpinBox children of type XmNUMERIC. The specifics
of when and how the users modifications take effect is left
up to the application.</p>

<p>text_field The text_field argument specifies the widget
ID of the child of the XmSpinBox that is being modified. The
requirement on text_field is that it holds the accessTextual
trait (already a requirement for children of XmSpinBox).
This way, XmSpinBox can extract the string out of the
text_field widget (even if it is not an XmTextField).</p>

<p>position The location pointed to by the position
argument is assigned the result of the translation done by
XmSpinBoxValidatePosi- tion. XmSpinBoxValidatePosition first
checks to make sure this is an XmNUMERIC XmSpinBox child. If
it is not, XSmpin- BoxValidatePosition sets position to the
current position and returns XmCURRENT_VALUE.</p>

<p>XmSpinBoxValidatePosition attempts to translate the
input string to a floating point number. If this translation
fails, XmSpinBoxValidatePo- sition sets position to the
current position and returns XmCUR- RENT_VALUE.</p>

<p>XmSpinBoxValidatePosition converts the floating point
number to an integer using the XmNdecimalPoints resource.
Extra decimal places are truncated. The resulting integer is
range checked to make sure it falls within the valid range
defined by XmNminimumValue and XmNmaximumValue inclusive. If
the input falls outside this range, XmSpinBoxValidatePo-
sition sets position to the nearest limit and returns either
XmMINI- MUM_VALUE or XmMAXIMUM_VALUE.</p>

<p>Finally, XmSpinBoxValidatePosition checks the integer to
make sure it belongs to the series defined by
XmNminimumValue ... XmNminumumValue + ((n - 1) *
XmNincrementlValue). If the integer does not belong to this
series, XmSpinBoxValidatePosition sets position to the
nearest element which is less than or equal to the integer
and returns XmINCRE- MENT_VALUE.</p>

<p>Otherwise, XmSpinBoxValidatePosition assigns the integer
to position and returns XmVALID_VALUE.</p>

<p>RETURN VALUE The XmSpinBoxValidatePosition function
returns the status of the vali- dation. The set of possible
values returned is as follows:</p>

<p>XmCURRENT_VALUE Cannot convert, returning current
position_value.</p>

<p>XmMINIMUM_VALUE Less than min.</p>

<p>XmMAXIMUM_VALUE More than max.</p>

<p>XmINCREMENT_VALUE Not on increment.</p>

<p>XmVALID_VALUE Okay.</p>

<p>EXAMPLES This first example demonstrates how the
XmSpinBoxValidatePosition func- tion could be used from
inside an XmNmodifyVerifyCallback callback installed on the
XmSpinBox or the XmSimpleSpinBox:</p>

<p>/* * Install a callback on a spin box arrow press. */
XtAddCallback(sb, XmNmodifyVerifyCallback, ModifyVerifyCB,
NULL); XtAddCallback(simple_sb, XmNmodifyVerifyCallback,
ModifyVerifyCB, NULL);</p>

<p>with the callback doing:</p>

<p>void ModifyVerifyCB(widget, call_data, client_data) {
XmSpinBoxCallbackStruct *cbs = (XmSpinBoxCallbackStruct*)
call_data; int position; Widget textual = NULL; if
(XtIsSubclass(w, xmSimpleSpinBoxWidgetClass)) { Arg args[1];
XtSetArg(args[0], XmNtextField, &amp;textual);
XtGetValues(w, args, 1); } else if (XtIsSubclass(w,
xmSpinBoxWidgetClass)) textual = cbs-&gt;widget; else
textual = (Widget) NULL;</p>

<p>...</p>

<p>if (XmSpinBoxValidatePosition(textual, &amp;position) ==
XmCURRENT_VALUE) XBell(XtDisplay(w), 0); else
cbs-&gt;position = position; }</p>

<p>This second example demonstrates how the
XmSpinBoxValidatePosition function could be used from inside
an XmNactivateCallback callback installed on the TextField
child of the XmSpinBox:</p>

<p>/* * Install a callback on a spin box arrow press. */
XtAddCallback(tf, XmNactivateCallback, ModifyVerifyChildCB,
NULL);</p>

<p>with the callback doing:</p>

<p>void ModifyVerifyChildCB(widget, call_data, client_data)
{ int position; Widget textual = widget; Arg args[1];</p>

<p>if (XmSpinBoxValidatePosition (textual, &amp;position)
== XmCURRENT_VALUE) XBell(XtDisplay(widget), 0);</p>

<p>/* Set the position constraint resource of the textfield
*/</p>

<p>XtSetArg(args[0], XmNposition, position);
XtSetValues(textual, args, 1); }</p>

<p>SEE ALSO XmSpinBox(3), XmCreateSpinBox(3)</p>

<p>XmSpinBoxValidatePosition(library call)</p>
<hr>
</body>
</html>
