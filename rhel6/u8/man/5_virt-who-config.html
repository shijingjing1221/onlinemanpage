<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:43:56 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>VIRT-WHO-CONFIG(5) VIRT-WHO-CONFIG(5)</p>

<p>NAME virt-who-config - configuration for virt-who</p>

<p>SYNOPISIS /etc/virt-who.conf /etc/virt-who.d/*</p>

<p>DESCRIPTION Configuration format is ini-like. The
configuration files located at /etc/virt-who.d/ are called
virtualization backend configurations. The configuration
located at /etc/virt-who.conf is the main configuration for
virt-who. Below are descriptions of both the required and
optional options for both kinds of configs and how they are
used.</p>

<p>GENERAL CONFIGURATION The general configuration file
(located at /etc/virt-who.conf), has two special sections
global and defaults. The settings that can be speci- fied in
defaults are any setting listed in the VIRTUALIZATION
BACKEND CONFIGURATION section of this manual. These settings
are applied as defaults to the configurations found in
/etc/virt-who.d/*.</p>

<p>The settings in the global affect the overall operation
of the applica- tion. The following are options that can be
specified in the global section:</p>

<p>interval how often to check connected hypervisors for
changes (seconds). Also affects how often a mapping is
reported.</p>

<p>reporter_id The id of this virt-who instance, reported
with all mappings. Defaults to HOSTNAME-MACHINEID</p>

<p>debug Enable debugging output</p>

<p>oneshot Send the list of guest IDs and exit
immediately</p>

<p>log_per_config Write a seperate log file per
configuration in the config direc- tory</p>

<p>log_dir The absolute path of the directory to write logs
to.</p>

<p>log_file The file name to write logs to (used only if
log_per_con- fig=False)</p>

<p>configs A list of files containing configurations for
virt-who Used to specify locations other than default</p>

<p>VIRTUALIZATION BACKEND CONFIGURATION Each section (or
group), denoted by an arbitrary name for the configu- ration
(in square brackets), is read in</p>

<p>Only required key is type that has to have one of the
allowed virtual- ization backend names, see virt-who(8).</p>

<p>Please note that special characters must not be escaped
(opposed to /etc/sysconfig/virt-who).</p>

<p>Other options that can be supplied are:</p>

<p>server Hostname, IP address or URL of the server that
provides virtual- ization information (not applicable for
vdsm mode).</p>

<p>username Username for authentication to the server (not
applicable for vdsm mode). May include domain. Do not escape
the backslash between domain and username.</p>

<p>password Password for authentication to the server (not
applicable for vdsm mode).</p>

<p>encrypted_password Alternative to the password option,
encrypted password that is generated by virt-who-password(8)
utility.</p>

<p>owner Owner for use with Subscription Asset Manager, the
Red Hat Cus- tomer Portal, or Satellite 6 (not applicable
for Satellite 5)</p>

<p>env Environment for use with Subscription Asset Manager
or Satellite 6 (not applicable for Satellite 5)</p>

<p>rhsm_username Optional username to use to communicate
with Subscription Asset Manager or Satellite 6 instead of
the registered systems iden- tity certificate. (not
applicable for Satellite 5)</p>

<p>rhsm_password Optional password to use to communicate
with Subscription Asset Manager or Satellite 6 instead of
the registered systems iden- tity certificate. (not
applicable for Satellite 5)</p>

<p>rhsm_encrypted_password Alternative to the rhsm_password
option, encrypted password that is generated by
virt-who-password(8) utility.</p>

<p>rhsm_hostname Optional hostname of the Subscription
Asset Manager or Satellite 6 server to use in place of the
host defined in the systems rhsm.conf.</p>

<p>rhsm_port Optional port for the Subscription Asset
Manager or Satellite 6 server to use in place of the port
defined in the systems rhsm.conf.</p>

<p>rhsm_prefix Optional prefix for the Subscription Asset
Manager or Satellite 6 server to use in place of the prefix
defined in the systems rhsm.conf.</p>

<p>rhsm_proxy_hostname Optional proxy host name for the
Subscription Asset Manager or Satellite 6 server to use in
place of the proxy host name defined in the systems
rhsm.conf.</p>

<p>rhsm_proxy_port Optional proxy port for the Subscription
Asset Manager or Satel- lite 6 server to use in place of the
proxy port defined in the systems rhsm.conf.</p>

<p>rhsm_proxy_user Optional proxy username for the
Subscription Asset Manager or Satellite 6 server to use in
place of the proxy username defined in the systems
rhsm.conf.</p>

<p>rhsm_proxy_password Optional proxy password for the
Subscription Asset Manager or Satellite 6 server to use in
place of the proxy password defined in the systems
rhsm.conf.</p>

<p>rhsm_encrypted_proxy_password Alternative to the
rhsm_proxy_password option; encrypted pass- word generated
by the virt-who-password(8) utility.</p>

<p>sat_server Hostname, IP address or URL of the Satellite
5 server.</p>

<p>sat_username Username for authentication to the
Satellite 5 server.</p>

<p>sat_password Password for authentication to the
Satellite 5 server.</p>

<p>sat_encrypted_password Alternative to sat_password
option, encrypted password that is generated by
virt-who-password(8) utility.</p>

<p>filter_host_uuids Only hosts which uuid (or hostname or
hwuuid, based on hypervi- sor_id) is specified in
comma-separated list in this option will be reported. Put
the value into the double-quotes if it contains special
characters (like comma).</p>

<p>exclude_host_uuids Hosts which uuid (or hostname or
hwuuid, based on hypervisor_id) is specified in
comma-separated list in this option will NOT be reported.
Put the value into the double-quotes if it contains special
characters (like comma).</p>

<p>hypervisor_id Property that should be used as
identification of the hypervi- sor. Can be one of following:
uuid, hostname, hwuuid. Note that some virtualization
backends dont have all of them implemented. Default is uuid.
hwuuid is applicable to esx and rhevm only. This property is
meant to be set up before initial run of virt- who. Changing
it later will result in duplicated entries in the
subscription manager.</p>

<p>EXAMPLE [test-esx] type=esx server=1.2.3.4
username=admin password=password owner=test env=staging
rhsm_username=admin rhsm_password=password</p>

<p>BACKEND SPECIFIC OPTIONS ESX BACKEND filter_host_parents
Only hosts which parent (usually ComputeResource) name is
speci- fied in comma-separated list in this option will be
reported. Put the name into the double-quotes if it contains
special char- acters (like comma).</p>

<p>exclude_host_parents Hosts which parent (usually
ComputeResource) name is specified in comma-separated list
in this option will NOT be reported. Put the name into the
double-quotes if it contains special charac- ters (like
comma).</p>

<p>simplified_vim virt-who by default uses stripped-down
version of vimSer- vice.wsdl file that contains vSphere SOAP
API definition. Set this option to false to use server
provided wsdl file that will be retrieved automatically.</p>

<p>RHEV-M BACKEND server The default port number is 8443
(that was used the default in RHEV-M &lt;= 3.0). Newer
RHEV-M installations uses port 443 by default. Use correct
value for your server in format:</p>


<p>server=&lt;HOSTNAME_OR_IP_ADDRESS&gt;:&lt;PORT_NUMBER&gt;</p>

<p>FAKE BACKEND Fake backend reads host/guests associations
from the file on disk, for example:</p>

<p>[fake-virt] type=fake file=/path/to/json
is_hypervisor=True</p>

<p>type Must be always fake.</p>

<p>is_hypervisor If true (default), the option determines
that the fake data are fetched from multihost
environment.</p>

<p>file Absolute path to the JSON file that has the same
structure as file returned from virt-who --print command,
for example: { &quot;hypervisors&quot;: [ {
&quot;uuid&quot;:
&quot;7e98b6ea-0af1-4afa-b846-919549bb0fe2&quot;,
&quot;guests&quot;: [ { &quot;guestId&quot;:
&quot;8ae19f08-2605-b476-d42e-4bd5a39f466c&quot; }, ... ] },
... ] }</p>

<p>AUTHOR Radek Novacek &lt;rnovacek at redhat dot
com&gt;</p>

<p>SEE ALSO virt-who(8), virt-who-password(8)</p>

<p>virt-who October 2015 VIRT-WHO-CONFIG(5)</p>
<hr>
</body>
</html>
