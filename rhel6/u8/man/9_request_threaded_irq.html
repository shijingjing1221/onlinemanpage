<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:31:34 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>REQUEST_THREADED_IRQ(9) Public Functions Provided
REQUEST_THREADED_IRQ(9)</p>

<p>NAME request_threaded_irq - allocate an interrupt
line</p>

<p>SYNOPSIS int request_threaded_irq(unsigned int irq,
irq_handler_t handler, irq_handler_t thread_fn, unsigned
long irqflags, const char * devname, void * dev_id);</p>

<p>ARGUMENTS irq Interrupt line to allocate</p>

<p>handler Function to be called when the IRQ occurs.
Primary handler for threaded interrupts If NULL and
thread_fn != NULL the default primary handler is
installed</p>

<p>thread_fn Function called from the irq handler thread If
NULL, no irq thread is created</p>

<p>irqflags Interrupt type flags</p>

<p>devname An ascii name for the claiming device</p>

<p>dev_id A cookie passed back to the handler function</p>

<p>DESCRIPTION This call allocates interrupt resources and
enables the interrupt line and IRQ handling. From the point
this call is made your handler function may be invoked.
Since your handler function must clear any interrupt the
board raises, you must take care both to initialise your
hardware and to set up the interrupt handler in the right
order.</p>

<p>If you want to set up a threaded irq handler for your
device then you need to supply handler and thread_fn.
handler ist still called in hard interrupt context and has
to check whether the interrupt originates from the device.
If yes it needs to disable the interrupt on the device and
return IRQ_WAKE_THREAD which will wake up the handler thread
and run thread_fn. This split handler design is necessary to
support shared interrupts.</p>

<p>Dev_id must be globally unique. Normally the address of
the device data structure is used as the cookie. Since the
handler receives this value it makes sense to use it.</p>

<p>If your interrupt is shared you must pass a non NULL
dev_id as this is required when freeing the interrupt.</p>

<p>FLAGS IRQF_SHARED Interrupt is shared IRQF_DISABLED
Disable local interrupts while processing IRQF_SAMPLE_RANDOM
The interrupt can be used for entropy IRQF_TRIGGER_* Specify
active edge(s) or level</p>

<p>AUTHORS Thomas Gleixner &lt;tglx@linutronix.de&gt;
Author.</p>

<p>Ingo Molnar &lt;mingo@elte.hu&gt; Author.</p>

<p>COPYRIGHT Kernel Hackers Manual 2.6. April 2016
REQUEST_THREADED_IRQ(9)</p>
<hr>
</body>
</html>
