<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:44:37 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>WPA_SUPPLICANT.CONF(5) WPA_SUPPLICANT.CONF(5)</p>

<p>NAME wpa_supplicant.conf - configuration file for
wpa_supplicant</p>

<p>OVERVIEW wpa_supplicant is configured using a text file
that lists all accepted networks and security policies,
including pre-shared keys. See the example configuration
file, probably in /usr/share/doc/wpa_supplicant/, for
detailed information about the configuration format and
supported fields.</p>

<p>All file paths in this configuration file should use
full (absolute, not relative to working directory) path in
order to allow working directory to be changed. This can
happen if wpa_supplicant is run in the background.</p>

<p>Changes to configuration file can be reloaded be sending
SIGHUP signal to wpa_supplicant ( killall -HUP
wpa_supplicant ). Similarly, reloading can be triggered with
the wpa_cli reconfigure command.</p>

<p>Configuration file can include one or more network
blocks, e.g., one for each used SSID. wpa_supplicant will
automatically select the best network based on the order of
network blocks in the configuration file, network security
level (WPA/WPA2 is preferred), and signal strength.</p>

<p>QUICK EXAMPLES 1. WPA-Personal (PSK) as home network and
WPA-Enterprise with EAP-TLS as work network.</p>

<p># allow frontend (e.g., wpa_cli) to be used by all users
in wheel group ctrl_interface=DIR=/var/run/wpa_supplicant
GROUP=wheel # # home network; allow all valid ciphers
network={ ssid=&quot;home&quot; scan_ssid=1 key_mgmt=WPA-PSK
psk=&quot;very secret passphrase&quot; } # # work network;
use EAP-TLS with WPA; allow only CCMP and TKIP ciphers
network={ ssid=&quot;work&quot; scan_ssid=1 key_mgmt=WPA-EAP
pairwise=CCMP TKIP group=CCMP TKIP eap=TLS
identity=&quot;user@example.com&quot;
ca_cert=&quot;/etc/cert/ca.pem&quot;
client_cert=&quot;/etc/cert/user.pem&quot;
private_key=&quot;/etc/cert/user.prv&quot;
private_key_passwd=&quot;password&quot; }</p>

<p>2. WPA-RADIUS/EAP-PEAP/MSCHAPv2 with RADIUS servers that
use old peaplabel (e.g., Funk Odyssey and SBR, Meetinghouse
Aegis, Interlink RAD-Series)</p>

<p>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=wheel
network={ ssid=&quot;example&quot; scan_ssid=1
key_mgmt=WPA-EAP eap=PEAP
identity=&quot;user@example.com&quot;
password=&quot;foobar&quot;
ca_cert=&quot;/etc/cert/ca.pem&quot;
phase1=&quot;peaplabel=0&quot;
phase2=&quot;auth=MSCHAPV2&quot; }</p>

<p>3. EAP-TTLS/EAP-MD5-Challenge configuration with
anonymous identity for the unencrypted use. Real identity is
sent only within an encrypted TLS tunnel.</p>

<p>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=wheel
network={ ssid=&quot;example&quot; scan_ssid=1
key_mgmt=WPA-EAP eap=TTLS
identity=&quot;user@example.com&quot;
anonymous_identity=&quot;anonymous@example.com&quot;
password=&quot;foobar&quot;
ca_cert=&quot;/etc/cert/ca.pem&quot;
phase2=&quot;auth=MD5&quot; }</p>

<p>4. IEEE 802.1X (i.e., no WPA) with dynamic WEP keys
(require both uni- cast and broadcast); use EAP-TLS for
authentication</p>

<p>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=wheel
network={ ssid=&quot;1x-test&quot; scan_ssid=1
key_mgmt=IEEE8021X eap=TLS
identity=&quot;user@example.com&quot;
ca_cert=&quot;/etc/cert/ca.pem&quot;
client_cert=&quot;/etc/cert/user.pem&quot;
private_key=&quot;/etc/cert/user.prv&quot;
private_key_passwd=&quot;password&quot; eapol_flags=3 }</p>

<p>5. Catch all example that allows more or less all
configuration modes. The configuration options are used
based on what security policy is used in the selected SSID.
This is mostly for testing and is not recommended for normal
use.</p>

<p>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=wheel
network={ ssid=&quot;example&quot; scan_ssid=1
key_mgmt=WPA-EAP WPA-PSK IEEE8021X NONE pairwise=CCMP TKIP
group=CCMP TKIP WEP104 WEP40 psk=&quot;very secret
passphrase&quot; eap=TTLS PEAP TLS
identity=&quot;user@example.com&quot;
password=&quot;foobar&quot;
ca_cert=&quot;/etc/cert/ca.pem&quot;
client_cert=&quot;/etc/cert/user.pem&quot;
private_key=&quot;/etc/cert/user.prv&quot;
private_key_passwd=&quot;password&quot;
phase1=&quot;peaplabel=0&quot;
ca_cert2=&quot;/etc/cert/ca2.pem&quot;
client_cert2=&quot;/etc/cer/user.pem&quot;
private_key2=&quot;/etc/cer/user.prv&quot;
private_key2_passwd=&quot;password&quot; }</p>

<p>6. Authentication for wired Ethernet. This can be used
with wired or roboswitch interface (-Dwired or -Droboswitch
on command line).</p>

<p>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=wheel
ap_scan=0 network={ key_mgmt=IEEE8021X eap=MD5
identity=&quot;user&quot; password=&quot;password&quot;
eapol_flags=0 }</p>

<p>CERTIFICATES Some EAP authentication methods require use
of certificates. EAP-TLS uses both server side and client
certificates whereas EAP-PEAP and EAP- TTLS only require the
server side certificate. When client certificate is used, a
matching private key file has to also be included in config-
uration. If the private key uses a passphrase, this has to
be config- ured in wpa_supplicant.conf
(&quot;private_key_passwd&quot;).</p>

<p>wpa_supplicant supports X.509 certificates in PEM and
DER formats. User certificate and private key can be
included in the same file.</p>

<p>If the user certificate and private key is received in
PKCS#12/PFX for- mat, they need to be converted to suitable
PEM/DER format for wpa_sup- plicant. This can be done, e.g.,
with following commands:</p>

<p># convert client certificate and private key to PEM
format openssl pkcs12 -in example.pfx -out user.pem -clcerts
# convert CA certificate (if included in PFX file) to PEM
format openssl pkcs12 -in example.pfx -out ca.pem -cacerts
-nokeys</p>

<p>SEE ALSO wpa_supplicant(8) openssl(1)</p>

<p>07 September 2010 WPA_SUPPLICANT.CONF(5)</p>
<hr>
</body>
</html>
