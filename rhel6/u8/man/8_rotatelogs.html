<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:31:59 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>ROTATELOGS(8) rotatelogs ROTATELOGS(8)</p>

<p>NAME rotatelogs - Piped logging program to rotate Apache
logs</p>

<p>SYNOPSIS rotatelogs [ -l ] [ -L linkname ] [ -p program
] [ -f ] [ -v ] [ -e ] [ -c ] logfile
rotationtime|filesize(B|K|M|G) [ offset ]</p>

<p>SUMMARY rotatelogs is a simple program for use in
conjunction with Apaches piped logfile feature. It supports
rotation based on a time interval or maximum size of the
log.</p>

<p>OPTIONS -l Causes the use of local time rather than GMT
as the base for the interval or for strftime(3) formatting
with size-based rotation.</p>

<p>-L linkname Causes a hard link to be made from the
current logfile to the specified link name. This can be used
to watch the log continu- ously across rotations using a
command like tail -F linkname.</p>

<p>-p program If given, rotatelogs will execute the
specified program every time a new log file is opened. The
filename of the newly opened file is passed as the first
argument to the program. If execut- ing after a rotation,
the old log file is passed as the second argument.
rotatelogs does not wait for the specified program to
terminate before continuing to operate, and will not log any
error code returned on termination. The spawned program uses
the same stdin, stdout, and stderr as rotatelogs itself, and
also inherits the environment.</p>

<p>-f Causes the logfile to be opened immediately, as soon
as rotatel- ogs starts, instead of waiting for the first
logfile entry to be read (for non-busy sites, there may be a
substantial delay between when the server is started and
when the first request is handled, meaning that the
associated logfile does not &quot;exist&quot; until then,
which causes problems from some automated logging tools)</p>

<p>-t Causes the logfile to be truncated instead of
rotated. This is useful when a log is processed in real time
by a command like tail, and there is no need for archived
data. No suffix will be added to the filename, however
format strings containing % characters will be
respected.</p>

<p>-v Produce verbose output on STDERR. The output contains
the result of the configuration parsing, and all file open
and close actions.</p>

<p>-e Echo logs through to stdout. Useful when logs need to
be further processed in real time by a further tool in the
chain.</p>

<p>-c Create log file for each interval, even if empty.</p>

<p>logfile</p>

<p>rotationtime The time between log file rotations in
seconds. The rotation occurs at the beginning of this
interval. For example, if the rotation time is 3600, the log
file will be rotated at the beginning of every hour; if the
rotation time is 86400, the log file will be rotated every
night at midnight. (If no data is logged during an interval,
no file will be created.)</p>

<p>filesize(B|K|M|G) The maximum file size in followed by
exactly one of the letters B (Bytes), K (KBytes), M (MBytes)
or G (GBytes). .PP When time and size are specified, the
size must be given after the time. Rotation will occur
whenever either time or size limits are reached.</p>

<p>offset The number of minutes offset from UTC. If
omitted, zero is assumed and UTC is used. For example, to
use local time in the zone UTC -5 hours, specify a value of
-300 for this argument. In most cases, -l should be used
instead of specifying an offset.</p>

<p>EXAMPLES CustomLog &quot;|bin/rotatelogs
/var/logs/logfile 86400&quot; common</p>

<p>This creates the files /var/logs/logfile.nnnn where nnnn
is the system time at which the log nominally starts (this
time will always be a mul- tiple of the rotation time, so
you can synchronize cron scripts with it). At the end of
each rotation time (here after 24 hours) a new log is
started.</p>

<p>CustomLog &quot;|bin/rotatelogs -l
/var/logs/logfile.%Y.%m.%d 86400&quot; common</p>

<p>This creates the files /var/logs/logfile.yyyy.mm.dd
where yyyy is the year, mm is the month, and dd is the day
of the month. Logging will switch to a new file every day at
midnight, local time.</p>

<p>CustomLog &quot;|bin/rotatelogs /var/logs/logfile
5M&quot; common</p>

<p>This configuration will rotate the logfile whenever it
reaches a size of 5 megabytes.</p>

<p>ErrorLog &quot;|bin/rotatelogs
/var/logs/errorlog.%Y-%m-%d-%H_%M_%S 5M&quot;</p>

<p>This configuration will rotate the error logfile
whenever it reaches a size of 5 megabytes, and the suffix to
the logfile name will be created of the form
errorlog.YYYY-mm-dd-HH_MM_SS.</p>

<p>CustomLog &quot;|bin/rotatelogs -t /var/logs/logfile
86400&quot; common</p>

<p>This creates the file /var/logs/logfile, truncating the
file at startup and then truncating the file once per day.
It is expected in this sce- nario that a separate process
(such as tail) would process the file in real time.</p>

<p>PORTABILITY The following logfile format string
substitutions should be supported by all strftime(3)
implementations, see the strftime(3) man page for
library-specific extensions.</p>

<p>&middot; %A - full weekday name (localized)</p>

<p>&middot; %a - 3-character weekday name (localized)</p>

<p>&middot; %B - full month name (localized)</p>

<p>&middot; %b - 3-character month name (localized)</p>

<p>&middot; %c - date and time (localized)</p>

<p>&middot; %d - 2-digit day of month</p>

<p>&middot; %H - 2-digit hour (24 hour clock)</p>

<p>&middot; %I - 2-digit hour (12 hour clock)</p>

<p>&middot; %j - 3-digit day of year</p>

<p>&middot; %M - 2-digit minute</p>

<p>&middot; %m - 2-digit month</p>

<p>&middot; %p - am/pm of 12 hour clock (localized)</p>

<p>&middot; %S - 2-digit second</p>

<p>&middot; %U - 2-digit week of year (Sunday first day of
week)</p>

<p>&middot; %W - 2-digit week of year (Monday first day of
week)</p>

<p>&middot; %w - 1-digit weekday (Sunday first day of
week)</p>

<p>&middot; %X - time (localized)</p>

<p>&middot; %x - date (localized)</p>

<p>&middot; %Y - 4-digit year</p>

<p>&middot; %y - 2-digit year</p>

<p>&middot; %Z - time zone name</p>

<p>&middot; %% - literal %</p>

<p>Apache HTTP Server 2011-10-28 ROTATELOGS(8)</p>
<hr>
</body>
</html>
