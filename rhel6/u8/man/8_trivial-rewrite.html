<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:42:22 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>TRIVIAL-REWRITE(8) TRIVIAL-REWRITE(8)</p>

<p>NAME trivial-rewrite - Postfix address rewriting and
resolving daemon</p>

<p>SYNOPSIS trivial-rewrite [generic Postfix daemon
options]</p>

<p>DESCRIPTION The trivial-rewrite(8) daemon processes
three types of client service requests:</p>

<p>rewrite context address Rewrite an address to standard
form, according to the address rewriting context:</p>

<p>local Append the domain names specified with $myorigin
or $mydomain to incomplete addresses; do swap_bangpath and
allow_percent_hack processing as described below, and strip
source routed addresses (@site,@site:user@domain) to
user@domain form.</p>

<p>remote Append the domain name specified with
$remote_header_rewrite_domain to incomplete addresses.
Otherwise the result is identical to that of the local
address rewriting context. This prevents Postfix from
appending the local domain to spam from poorly written
remote clients.</p>

<p>resolve sender address Resolve the address to a
(transport, nexthop, recipient, flags) quadruple. The
meaning of the results is as follows:</p>

<p>transport The delivery agent to use. This is the first
field of an entry in the master.cf file.</p>

<p>nexthop The host to send to and optional delivery method
informa- tion.</p>

<p>recipient The envelope recipient address that is passed
on to nex- thop.</p>

<p>flags The address class, whether the address requires
relaying, whether the address has problems, and whether the
request failed.</p>

<p>verify sender address Resolve the address for address
verification purposes.</p>

<p>SERVER PROCESS MANAGEMENT The trivial-rewrite(8) servers
run under control by the Postfix master server. Each server
can handle multiple simultaneous connections. When all
servers are busy while a client connects, the master creates
a new server process, provided that the trivial-rewrite
server process limit is not exceeded. Each trivial-rewrite
server terminates after serving at least $max_use clients of
after $max_idle seconds of idle time.</p>

<p>STANDARDS None. The command does not interact with the
outside world.</p>

<p>SECURITY The trivial-rewrite(8) daemon is not security
sensitive. By default, this daemon does not talk to remote
or local users. It can run at a fixed low privilege in a
chrooted environment.</p>

<p>DIAGNOSTICS Problems and transactions are logged to
syslogd(8).</p>

<p>CONFIGURATION PARAMETERS On busy mail systems a long
time may pass before a main.cf change affecting
trivial-rewrite(8) is picked up. Use the command
&quot;postfix reload&quot; to speed up a change.</p>

<p>The text below provides only a parameter summary. See
postconf(5) for more details including examples.</p>

<p>COMPATIBILITY CONTROLS resolve_dequoted_address (yes)
Resolve a recipient address safely instead of correctly, by
looking inside quotes.</p>

<p>resolve_null_domain (no) Resolve an address that ends in
the &quot;@&quot; null domain as if the local hostname were
specified, instead of rejecting the address as invalid.</p>

<p>resolve_numeric_domain (no) Resolve
&quot;user@ipaddress&quot; as &quot;user@[ipaddress]&quot;,
instead of rejecting the address as invalid.</p>

<p>Available with Postfix version 2.5 and later:</p>

<p>allow_min_user (no) Allow a sender or recipient address
to have - as the first character.</p>

<p>ADDRESS REWRITING CONTROLS myorigin ($myhostname) The
domain name that locally-posted mail appears to come from,
and that locally posted mail is delivered to.</p>

<p>allow_percent_hack (yes) Enable the rewriting of the
form &quot;user%domain&quot; to &quot;user@domain&quot;.</p>

<p>append_at_myorigin (yes) With locally submitted mail,
append the string &quot;@$myorigin&quot; to mail addresses
without domain information.</p>

<p>append_dot_mydomain (yes) With locally submitted mail,
append the string &quot;.$mydomain&quot; to addresses that
have no &quot;.domain&quot; information.</p>

<p>recipient_delimiter (empty) The separator between user
names and address extensions (user+foo).</p>

<p>swap_bangpath (yes) Enable the rewriting of
&quot;site!user&quot; into &quot;user@site&quot;.</p>

<p>Available in Postfix 2.2 and later:</p>

<p>remote_header_rewrite_domain (empty) Dont rewrite
message headers from remote clients at all when this
parameter is empty; otherwise, rewrite message headers and
append the specified domain name to incomplete
addresses.</p>

<p>ROUTING CONTROLS The following is applicable to Postfix
version 2.0 and later. Earlier versions do not have support
for: virtual_transport, relay_transport,
virtual_alias_domains, virtual_mailbox_domains or
proxy_interfaces.</p>

<p>local_transport (local:$myhostname) The default mail
delivery transport and next-hop destination for final
delivery to domains listed with mydestination, and for
[ipaddress] destinations that match $inet_interfaces or
$proxy_interfaces.</p>

<p>virtual_transport (virtual) The default mail delivery
transport and next-hop destination for final delivery to
domains listed with $virtual_mailbox_domains.</p>

<p>relay_transport (relay) The default mail delivery
transport and next-hop destination for remote delivery to
domains listed with $relay_domains.</p>

<p>default_transport (smtp) The default mail delivery
transport and next-hop destination for destinations that do
not match $mydestination, $inet_interfaces,
$proxy_interfaces, $virtual_alias_domains, $virtual_mail-
box_domains, or $relay_domains.</p>

<p>parent_domain_matches_subdomains (seepostconf -doutput)
What Postfix features match subdomains of
&quot;domain.tld&quot; automati- cally, instead of requiring
an explicit &quot;.domain.tld&quot; pattern.</p>

<p>relayhost (empty) The next-hop destination of non-local
mail; overrides non-local domains in recipient
addresses.</p>

<p>transport_maps (empty) Optional lookup tables with
mappings from recipient address to (message delivery
transport, next-hop destination).</p>

<p>Available in Postfix version 2.3 and later:</p>

<p>sender_dependent_relayhost_maps (empty) A
sender-dependent override for the global relayhost parameter
setting.</p>

<p>Available in Postfix version 2.5 and later:</p>

<p>empty_address_relayhost_maps_lookup_key (&lt;&gt;) The
sender_dependent_relayhost_maps search string that will be
used instead of the null sender address.</p>

<p>ADDRESS VERIFICATION CONTROLS Postfix version 2.1
introduces sender and recipient address verifica- tion. This
feature is implemented by sending probe email messages that
are not actually delivered. By default, address verification
probes use the same route as regular mail. To override
specific aspects of message routing for address verification
probes, specify one or more of the following:</p>

<p>address_verify_local_transport ($local_transport)
Overrides the local_transport parameter setting for address
ver- ification probes.</p>

<p>address_verify_virtual_transport ($virtual_transport)
Overrides the virtual_transport parameter setting for
address verification probes.</p>

<p>address_verify_relay_transport ($relay_transport)
Overrides the relay_transport parameter setting for address
ver- ification probes.</p>

<p>address_verify_default_transport ($default_transport)
Overrides the default_transport parameter setting for
address verification probes.</p>

<p>address_verify_relayhost ($relayhost) Overrides the
relayhost parameter setting for address verifica- tion
probes.</p>

<p>address_verify_transport_maps ($transport_maps)
Overrides the transport_maps parameter setting for address
veri- fication probes.</p>

<p>Available in Postfix version 2.3 and later:</p>

<p>address_verify_sender_dependent_relayhost_maps
($sender_depen- dent_relayhost_maps) Overrides the
sender_dependent_relayhost_maps parameter setting for
address verification probes.</p>

<p>MISCELLANEOUS CONTROLS config_directory (seepostconf
-doutput) The default location of the Postfix main.cf and
master.cf con- figuration files.</p>

<p>daemon_timeout (18000s) How much time a Postfix daemon
process may take to handle a request before it is terminated
by a built-in watchdog timer.</p>

<p>empty_address_recipient (MAILER-DAEMON) The recipient of
mail addressed to the null address.</p>

<p>ipc_timeout (3600s) The time limit for sending or
receiving information over an internal communication
channel.</p>

<p>max_idle (100s) The maximum amount of time that an idle
Postfix daemon process waits for an incoming connection
before terminating voluntarily.</p>

<p>max_use (100) The maximal number of incoming connections
that a Postfix daemon process will service before
terminating voluntarily.</p>

<p>relocated_maps (empty) Optional lookup tables with new
contact information for users or domains that no longer
exist.</p>

<p>process_id (read-only) The process ID of a Postfix
command or daemon process.</p>

<p>process_name (read-only) The process name of a Postfix
command or daemon process.</p>

<p>queue_directory (seepostconf -doutput) The location of
the Postfix top-level queue directory.</p>

<p>show_user_unknown_table_name (yes) Display the name of
the recipient table in the &quot;User unknown&quot;
responses.</p>

<p>syslog_facility (mail) The syslog facility of Postfix
logging.</p>

<p>syslog_name (seepostconf -doutput) The mail system name
that is prepended to the process name in syslog records, so
that &quot;smtpd&quot; becomes, for example, &quot;post-
fix/smtpd&quot;.</p>

<p>Available in Postfix version 2.0 and later:</p>

<p>helpful_warnings (yes) Log warnings about problematic
configuration settings, and pro- vide helpful
suggestions.</p>

<p>SEE ALSO postconf(5), configuration parameters
transport(5), transport table format relocated(5), format of
the &quot;user has moved&quot; table master(8), process
manager syslogd(8), system logging</p>

<p>README FILES Use &quot;postconf readme_directory&quot;
or &quot;postconf html_directory&quot; to locate this
information. ADDRESS_CLASS_README, Postfix address classes
howto ADDRESS_VERIFICATION_README, Postfix address
verification</p>

<p>LICENSE The Secure Mailer license must be distributed
with this software.</p>

<p>AUTHOR(S) Wietse Venema IBM T.J. Watson Research P.O.
Box 704 Yorktown Heights, NY 10598, USA</p>

<p>TRIVIAL-REWRITE(8)</p>
<hr>
</body>
</html>
