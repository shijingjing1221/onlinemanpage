<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:34:29 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>SIGSET(3) Linux Programmer s Manual SIGSET(3)</p>

<p>NAME sigset, sighold, sigrelse, sigignore - System V
signal API</p>

<p>SYNOPSIS #define _XOPEN_SOURCE 500 #include
&lt;signal.h&gt;</p>

<p>typedef void (*sighandler_t)(int);</p>

<p>sighandler_t sigset(int sig, sighandler_t disp);</p>

<p>int sighold(int sig);</p>

<p>int sigrelse(int sig);</p>

<p>int sigignore(int sig);</p>

<p>DESCRIPTION These functions are provided in glibc as a
compatibility interface for programs that make use of the
historical System V signal API. This API is obsolete: new
applications should use the POSIX signal API (sigac-
tion(2), sigprocmask(2), etc.)</p>

<p>The sigset() function modifies the disposition of the
signal sig. The disp argument can be the address of a signal
handler function, or one of the following constants:</p>

<p>SIG_DFL Reset the disposition of sig to the default.</p>

<p>SIG_IGN Ignore sig.</p>

<p>SIG_HOLD Add sig to the processs signal mask, but leave
the disposition of sig unchanged.</p>

<p>If disp specifies the address of a signal handler, then
sig is added to the processs signal mask during execution of
the handler.</p>

<p>If disp was specified as a value other than SIG_HOLD,
then sig is removed from the processs signal mask.</p>

<p>The dispositions for SIGKILL and SIGSTOP cannot be
changed.</p>

<p>The sighold() function adds sig to the calling processs
signal mask.</p>

<p>The sigrelse() function removes sig from the calling
processs signal mask.</p>

<p>The sigignore() function sets the disposition of sig to
SIG_IGN.</p>

<p>RETURN VALUE On success, sigset() returns SIG_HOLD if
sig was blocked before the call, or the signals previous
disposition if it was not blocked before the call. On error,
sigset() returns -1, with errno set to indicate the error.
(But see BUGS below.)</p>

<p>The sighold(), sigrelse(), and sigignore() functions
return 0 on suc- cess; on error, these functions return -1
and set errno to indicate the error.</p>

<p>ERRORS For sigset() see the ERRORS under sigaction(2)
and sigprocmask(2).</p>

<p>For sighold() and sigrelse() see the ERRORS under
sigprocmask(2).</p>

<p>For sigignore(), see the errors under sigaction(2).</p>

<p>CONFORMING TO SVr4, POSIX.1-2001. These functions are
obsolete: do not use them in new programs. POSIX.1-2008
marks sighold(), sigignore(), sigpause(), sigrelse(), and
sigset() as obsolete, recommending the use of sigac-
tion(2), sigprocmask(2), pthread_sigmask(3), and
sigsuspend(2) instead.</p>

<p>NOTES These functions appeared in glibc version 2.1.</p>

<p>The sighandler_t type is a GNU extension; it is only
used on this page to make the sigset() prototype more easily
readable.</p>

<p>The sigset() function provides reliable signal handling
semantics (as when calling sigaction(2) with sa_mask equal
to 0).</p>

<p>On System V, the signal() function provides unreliable
semantics (as when calling sigaction(2) with sa_mask equal
to SA_RESETHAND | SA_NODE- FER). On BSD, signal() provides
reliable semantics. POSIX.1-2001 leaves these aspects of
signal() unspecified. See signal(2) for fur- ther
details.</p>

<p>In order to wait for a signal, BSD and System V both
provided a func- tion named sigpause(3), but this function
has a different argument on the two systems. See sigpause(3)
for details.</p>

<p>BUGS In versions of glibc before 2.2, sigset() did not
unblock sig if disp was specified as a value other than
SIG_HOLD.</p>

<p>In versions of glibc before 2.5, sigset() does not
correctly return the previous disposition of the signal in
two cases. First, if disp is specified as SIG_HOLD, then a
successful sigset() always returns SIG_HOLD. Instead, it
should return the previous disposition of the signal (unless
the signal was blocked, in which case SIG_HOLD should be
returned). Second, if the signal is currently blocked, then
the return value of a successful sigset() should be
SIG_HOLD. Instead, the previ- ous disposition of the signal
is returned. These problems have been fixed since glibc
2.5.</p>

<p>SEE ALSO kill(2), pause(2), sigaction(2), signal(2),
sigprocmask(2), raise(3), sigpause(3), sigvec(3),
feature_test_macros(7), signal(7)</p>

<p>COLOPHON This page is part of release 3.22 of the Linux
man-pages project. A description of the project, and
information about reporting bugs, can be found at
http://www.kernel.org/doc/man-pages/.</p>

<p>Linux 2009-03-15 SIGSET(3)</p>
<hr>
</body>
</html>
