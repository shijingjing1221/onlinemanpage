<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:40:57 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>TIFFWriteDirectory(3TIFF) TIFFWriteDirectory(3TIFF)</p>

<p>NAME TIFFWriteDirectory, TIFFRewriteDirectory,
TIFFCheckpointDirectory - write the current directory in an
open TIFF file</p>

<p>SYNOPSIS #include &lt;tiffio.h&gt;</p>

<p>int TIFFWriteDirectory(TIFF *tif) int
TIFFRewriteDirectory(TIFF *tif) int
TIFFCheckpointDirectory(TIFF *tif)</p>

<p>DESCRIPTION TIFFWriteDirectory will write the contents
of the current directory to the file and setup to create a
new subfile in the same file. Applica- tions only need to
call TIFFWriteDirectory when writing multiple sub- files to
a single TIFF file. TIFFWriteDirectory is automatically
called by TIFFClose and TIFFFlush to write a modified
directory if the file is open for writing.</p>

<p>The TIFFRewriteDirectory function operates similarly to
TIFFWriteDirec- tory, but can be called with directories
previously read or written that already have an established
location in the file. It will rewrite the directory, but
instead of place it at its old location (as
TIFFWriteDirectory would) it will place them at the end of
the file, correcting the pointer from the preceeding
directory or file header to point to it s new location. This
is particularly important in cases where the size of the
directory and pointed to data has grown, so it wont fit in
the space available at the old location.</p>

<p>The TIFFCheckpointDirectory writes the current state of
the tiff direc- tory into the file to make what is currently
in the file readable. Unlike TIFFWriteDirectory,
TIFFCheckpointDirectory does not free up the directory data
structures in memory, so they can be updated (as
strips/tiles are written) and written again. Reading such a
partial file you will at worst get a tiff read error for the
first strip/tile encountered that is incomplete, but you
will at least get all the valid data in the file before
that. When the file is complete, just use TIFFWriteDirectory
as usual to finish it off cleanly.</p>

<p>RETURN VALUES 1 is returned when the contents are
successfully written to the file. Otherwise, 0 is returned
if an error was encountered when writing the directory
contents.</p>

<p>DIAGNOSTICS All error messages are directed to the
TIFFError(3TIFF) routine.</p>

<p>Error post-encoding before directory write. Before
writing the con- tents of the current directory, any pending
data are flushed. This mes- sage indicates that an error
occurred while doing this.</p>

<p>Error flushing data before directory write. Before
writing the con- tents of the current directory, any pending
data are flushed. This mes- sage indicates that an error
occurred while doing this.</p>

<p>Cannot write directory, out of space. There was not
enough space to allocate a temporary area for the directory
that was to be written.</p>

<p>Error writing directory count. A write error occurred
when writing the count of fields in the directory.</p>

<p>Error writing directory contents. A write error occurred
when writing the directory fields.</p>

<p>Error writing directory link. A write error occurred
when writing the link to the next directory.</p>

<p>Error writing data for field &quot;%s&quot;. A write
error occurred when writing indirect data for the specified
field.</p>

<p>Error writing TIFF header. A write error occurred when
re-writing header at the front of the file.</p>

<p>Error fetching directory count. A read error occurred
when fetching the directory count field for a previous
directory. This can occur when setting up a link to the
directory that is being written.</p>

<p>Error fetching directory link. A read error occurred
when fetching the directory link field for a previous
directory. This can occur when setting up a link to the
directory that is being written.</p>

<p>SEE ALSO TIFFOpen(3TIFF), TIFFError(3TIFF),
TIFFReadDirectory(3TIFF), TIFFSetDi- rectory(3TIFF),
libtiff(3TIFF)</p>

<p>Libtiff library home page:
http://www.remotesensing.org/libtiff/</p>

<p>libtiff September 26, 2001 TIFFWriteDirectory(3TIFF)</p>
<hr>
</body>
</html>
