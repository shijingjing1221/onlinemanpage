<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:19:29 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>IEEE1284_STATUS(3) Functions IEEE1284_STATUS(3)</p>

<p>NAME ieee1284_read_status, ieee1284_wait_status -
analyse status lines</p>

<p>SYNOPSIS #include &lt;ieee1284.h&gt;</p>

<p>int ieee1284_read_status(struct parport *port);</p>

<p>int ieee1284_wait_status(struct parport *port, unsigned
char mask, unsigned char val, struct timeval *timeout);</p>

<p>DESCRIPTION There are five status lines, one of which is
usually inverted on PC-style ports. Where they differ,
libieee1284 operates on the IEEE 1284 values, not the
PC-style inverted values. The status lines are represented
by the following enumeration:</p>

<p>enum ieee1284_status_bits { S1284_NFAULT = 0x08,
S1284_SELECT = 0x10, S1284_PERROR = 0x20, S1284_NACK = 0x40,
S1284_BUSY = 0x80, /* To convert those values into PC-style
register values, use this: */ S1284_INVERTED = S1284_BUSY,
};</p>

<p>These functions all act on the parallel port associated
with port, which must be claimed.</p>

<p>The purpose of ieee1284_wait_status is to wait until
particular status lines have specified values. Its timeout
parameter may be modified on return.</p>

<p>RETURN VALUE For ieee1284_read_status, the return value
is a non-negative integer with bits set as appropriate
representing the status lines. A negative result indicates
an error.</p>

<p>For ieee1284_wait_status, the return value is E1284_OK
if the status lines now reflect the desired values (i.e.
status &amp; mask is val), or a negative result indicating
an error.</p>

<p>Possible error codes:</p>

<p>E1284_NOTIMPL The port lacks the required capability.
This could be due to a limitation of this version of
libieee1284, or a hardware limitation.</p>

<p>E1284_NOTAVAIL Access to the status lines is not
available on this port type.</p>

<p>E1284_TIMEDOUT The timeout has elapsed.</p>

<p>E1284_INVALIDPORT The port parameter is invalid (for
instance, perhaps the port is not claimed).</p>

<p>NOTES The nAck pin is often able to trigger interrupts
on the host machine. With operating system help these
interrupts may be visible to the application via the file
descriptor returned by ieee1284_get_irq_fd.</p>

<p>Under Linux, the conditions are that the parallel port
driver knows which interrupt line to use and is using it,
and that the relevant /dev/parport device node is accessible
and backed by a device driver.</p>

<p>AUTHOR Tim Waugh &lt;twaugh@redhat.com&gt; Author.</p>

<p>COPYRIGHT Copyright &copy; 2001-2003 Tim Waugh</p>

<p>[FIXME: source] 06/23/2010 IEEE1284_STATUS(3)</p>
<hr>
</body>
</html>
