<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:24:15 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>MYSQLCHECK(1) MySQL Database System MYSQLCHECK(1)</p>

<p>NAME mysqlcheck - a table maintenance program</p>

<p>SYNOPSIS mysqlcheck [options] [db_name [tbl_name
...]]</p>

<p>DESCRIPTION The mysqlcheck client performs table
maintenance: It checks, repairs, optimizes, or analyzes
tables.</p>

<p>Each table is locked and therefore unavailable to other
sessions while it is being processed, although for check
operations, the table is locked with a READ lock only (see
Section 13.3.5, LOCK TABLES and UNLOCK TABLES Syntax, for
more information about READ and WRITE locks). Table
maintenance operations can be time-consuming, particularly
for large tables. If you use the --databases or
--all-databases option to process all tables in one or more
databases, an invocation of mysqlcheck might take a long
time. (This is also true for mysql_upgrade because that
program invokes mysqlcheck to check all tables and repair
them if necessary.)</p>

<p>mysqlcheck is similar in function to myisamchk, but
works differently. The main operational difference is that
mysqlcheck must be used when the mysqld server is running,
whereas myisamchk should be used when it is not. The benefit
of using mysqlcheck is that you do not have to stop the
server to perform table maintenance.</p>

<p>mysqlcheck uses the SQL statements CHECK TABLE, REPAIR
TABLE, ANALYZE TABLE, and OPTIMIZE TABLE in a convenient way
for the user. It determines which statements to use for the
operation you want to perform, and then sends the statements
to the server to be executed. For details about which
storage engines each statement works with, see the
descriptions for those statements in Section 13.7.2, Table
Maintenance Statements.</p>

<p>The MyISAM storage engine supports all four maintenance
operations, so mysqlcheck can be used to perform any of them
on MyISAM tables. Other storage engines do not necessarily
support all operations. In such cases, an error message is
displayed. For example, if test.t is a MEMORY table, an
attempt to check it produces this result:</p>

<p>shell&gt; mysqlcheck test t test.t note : The storage
engine for the table doesn&rsquo;t support check</p>

<p>If mysqlcheck is unable to repair a table, see Section
2.13.4, Rebuilding or Repairing Tables or Indexes for manual
table repair strategies. This will be the case, for example,
for InnoDB tables, which can be checked with CHECK TABLE,
but not repaired with REPAIR TABLE.</p>

<p>The use of mysqlcheck with partitioned tables is not
supported before MySQL 5.1.27.</p>

<p>Caution It is best to make a backup of a table before
performing a table repair operation; under some
circumstances the operation might cause data loss. Possible
causes include but are not limited to file system
errors.</p>

<p>There are three general ways to invoke mysqlcheck:</p>

<p>shell&gt; mysqlcheck [options] db_name [tbl_name ...]
shell&gt; mysqlcheck [options] --databases db_name ...
shell&gt; mysqlcheck [options] --all-databases</p>

<p>If you do not name any tables following db_name or if
you use the --databases or --all-databases option, entire
databases are checked.</p>

<p>mysqlcheck has a special feature compared to other
client programs. The default behavior of checking tables
(--check) can be changed by renaming the binary. If you want
to have a tool that repairs tables by default, you should
just make a copy of mysqlcheck named mysqlrepair, or make a
symbolic link to mysqlcheck named mysqlrepair. If you invoke
mysqlrepair, it repairs tables.</p>

<p>The names shown in the following table can be used to
change mysqlcheck default behavior.</p>

<p>+--------------+-----------------------+ |Command |
Meaning | +--------------+-----------------------+
|mysqlrepair | The default option is | | | --repair |
+--------------+-----------------------+ |mysqlanalyze | The
default option is | | | --analyze |
+--------------+-----------------------+ |mysqloptimize |
The default option is | | | --optimize |
+--------------+-----------------------+</p>

<p>mysqlcheck supports the following options, which can be
specified on the command line or in the [mysqlcheck] and
[client] groups of an option file. mysqlcheck also supports
the options for processing option files described at Section
4.2.3.4, Command-Line Options that Affect Option-File
Handling.</p>

<p>&middot; --help, -?</p>

<p>Display a help message and exit.</p>

<p>&middot; --all-databases, -A</p>

<p>Check all tables in all databases. This is the same as
using the --databases option and naming all the databases on
the command line.</p>

<p>&middot; --all-in-1, -1</p>

<p>Instead of issuing a statement for each table, execute a
single statement for each database that names all the tables
from that database to be processed.</p>

<p>&middot; --analyze, -a</p>

<p>Analyze the tables.</p>

<p>&middot; --auto-repair</p>

<p>If a checked table is corrupted, automatically fix it.
Any necessary repairs are done after all tables have been
checked.</p>

<p>&middot; --bind-address=ip_address</p>

<p>On a computer having multiple network interfaces, this
option can be used to select which interface is employed
when connecting to the MySQL server.</p>

<p>This option is supported only in the version of
mysqlcheck that is supplied with MySQL Cluster, beginning
with MySQL Cluster NDB 6.3.4. It is not available in
standard MySQL 5.1 releases.</p>

<p>&middot; --character-sets-dir=path</p>

<p>The directory where character sets are installed. See
Section 10.5, Character Set Configuration.</p>

<p>&middot; --check, -c</p>

<p>Check the tables for errors. This is the default
operation.</p>

<p>&middot; --check-only-changed, -C</p>

<p>Check only tables that have changed since the last check
or that have not been closed properly.</p>

<p>&middot; --check-upgrade, -g</p>

<p>Invoke CHECK TABLE with the FOR UPGRADE option to check
tables for incompatibilities with the current version of the
server. This option automatically enables the --fix-db-names
and --fix-table-names options. --check-upgrade was added in
MySQL 5.1.7.</p>

<p>&middot; --compress</p>

<p>Compress all information sent between the client and the
server if both support compression.</p>

<p>&middot; --databases, -B</p>

<p>Process all tables in the named databases. Normally,
mysqlcheck treats the first name argument on the command
line as a database name and following names as table names.
With this option, it treats all name arguments as database
names.</p>

<p>&middot; --debug[=debug_options], -# [debug_options]</p>

<p>Write a debugging log. A typical debug_options string is
&rsquo;d:t:o,file_name&rsquo;. The default is
&rsquo;d:t:o&rsquo;.</p>

<p>&middot; --debug-check</p>

<p>Print some debugging information when the program exits.
This option was added in MySQL 5.1.21.</p>

<p>&middot; --debug-info</p>

<p>Print debugging information and memory and CPU usage
statistics when the program exits. This option was added in
MySQL 5.1.14.</p>

<p>&middot; --default-character-set=charset_name</p>

<p>Use charset_name as the default character set. See
Section 10.5, Character Set Configuration.</p>

<p>&middot; --extended, -e</p>

<p>If you are using this option to check tables, it ensures
that they are 100% consistent but takes a long time.</p>

<p>If you are using this option to repair tables, it runs
an extended repair that may not only take a long time to
execute, but may produce a lot of garbage rows also!</p>

<p>&middot; --fast, -F</p>

<p>Check only tables that have not been closed
properly.</p>

<p>&middot; --fix-db-names</p>

<p>Convert database names to 5.1 format. Only database
names that contain special characters are affected. This
option was added in MySQL 5.1.7.</p>

<p>&middot; --fix-table-names</p>

<p>Convert table names to 5.1 format. Only table names that
contain special characters are affected. This option was
added in MySQL 5.1.7. As of MySQL 5.1.23, this option also
applies to views.</p>

<p>&middot; --force, -f</p>

<p>Continue even if an SQL error occurs.</p>

<p>&middot; --host=host_name, -h host_name</p>

<p>Connect to the MySQL server on the given host.</p>

<p>&middot; --medium-check, -m</p>

<p>Do a check that is faster than an --extended operation.
This finds only 99.99% of all errors, which should be good
enough in most cases.</p>

<p>&middot; --optimize, -o</p>

<p>Optimize the tables.</p>

<p>&middot; --password[=password], -p[password]</p>

<p>The password to use when connecting to the server. If
you use the short option form (-p), you cannot have a space
between the option and the password. If you omit the
password value following the --password or -p option on the
command line, mysqlcheck prompts for one.</p>

<p>Specifying a password on the command line should be
considered insecure. See Section 6.1.2.1, End-User
Guidelines for Password Security . You can use an option
file to avoid giving the password on the command line.</p>

<p>&middot; --pipe, -W</p>

<p>On Windows, connect to the server using a named pipe.
This option applies only if the server supports named-pipe
connections.</p>

<p>&middot; --port=port_num, -P port_num</p>

<p>The TCP/IP port number to use for the connection.</p>

<p>&middot; --protocol={TCP|SOCKET|PIPE|MEMORY}</p>

<p>The connection protocol to use for connecting to the
server. It is useful when the other connection parameters
normally would cause a protocol to be used other than the
one you want. For details on the permissible values, see
Section 4.2.2, Connecting to the MySQL Server.</p>

<p>&middot; --quick, -q</p>

<p>If you are using this option to check tables, it
prevents the check from scanning the rows to check for
incorrect links. This is the fastest check method.</p>

<p>If you are using this option to repair tables, it tries
to repair only the index tree. This is the fastest repair
method.</p>

<p>&middot; --repair, -r</p>

<p>Perform a repair that can fix almost anything except
unique keys that are not unique.</p>

<p>&middot; --silent, -s</p>

<p>Silent mode. Print only error messages.</p>

<p>&middot; --socket=path, -S path</p>

<p>For connections to localhost, the Unix socket file to
use, or, on Windows, the name of the named pipe to use.</p>

<p>&middot; --ssl*</p>

<p>Options that begin with --ssl specify whether to connect
to the server using SSL and indicate where to find SSL keys
and certificates. See Section 6.3.6.4, SSL Command Options
.</p>

<p>&middot; --tables</p>

<p>Override the --databases or -B option. All name
arguments following the option are regarded as table
names.</p>

<p>&middot; --use-frm</p>

<p>For repair operations on MyISAM tables, get the table
structure from the .frm file so that the table can be
repaired even if the .MYI header is corrupted.</p>

<p>&middot; --user=user_name, -u user_name</p>

<p>The MySQL user name to use when connecting to the
server.</p>

<p>&middot; --verbose, -v</p>

<p>Verbose mode. Print information about the various stages
of program operation.</p>

<p>&middot; --version, -V</p>

<p>Display version information and exit.</p>

<p>&middot; --write-binlog</p>

<p>This option is enabled by default, so that ANALYZE
TABLE, OPTIMIZE TABLE, and REPAIR TABLE statements generated
by mysqlcheck are written to the binary log. Use
--skip-write-binlog to cause NO_WRITE_TO_BINLOG to be added
to the statements so that they are not logged. Use the
--skip-write-binlog when these statements should not be sent
to replication slaves or run when using the binary logs for
recovery from backup. This option was added in MySQL
5.1.18.</p>

<p>COPYRIGHT Copyright &copy; 1997, 2013, Oracle and/or its
affiliates. All rights reserved.</p>

<p>This documentation is free software; you can
redistribute it and/or modify it only under the terms of the
GNU General Public License as published by the Free Software
Foundation; version 2 of the License.</p>

<p>This documentation is distributed in the hope that it
will be useful, but WITHOUT ANY WARRANTY; without even the
implied warranty of MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE. See the GNU General Public License for
more details.</p>

<p>You should have received a copy of the GNU General
Public License along with the program; if not, write to the
Free Software Foundation, Inc., 51 Franklin Street, Fifth
Floor, Boston, MA 02110-1301 USA or see
http://www.gnu.org/licenses/.</p>

<p>SEE ALSO For more information, please refer to the MySQL
Reference Manual, which may already be installed locally and
which is also available online at
http://dev.mysql.com/doc/.</p>

<p>AUTHOR Oracle Corporation (http://dev.mysql.com/).</p>

<p>MySQL 5.1 11/04/2013 MYSQLCHECK(1)</p>
<hr>
</body>
</html>
