<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:10:52 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>ecryptfs-rewrite-file(1) eCryptfs
ecryptfs-rewrite-file(1)</p>

<p>NAME ecryptfs-rewrite-file - force a file to be
rewritten (reencrypted) in the lower filesystem</p>

<p>SYNOPSIS ecryptfs-rewrite-file [file1] [file2] [file3]
...</p>

<p>DESCRIPTION This script takes one or more
files/directories/symlinks as arguments, moves each of them
to a temporary file, and then moves them back to the
original name. This causes the file to be rewritten (and
reencrypted) in the lower filesystem.</p>

<p>This script may be combined with find(1) and xargs(1) to
rewrite an entire eCryptfs mountpoint, unmount, and
sync:</p>

<p>find . -xdev -print0 | xargs -r -0
/usr/bin/ecryptfs-rewrite-file ecryptfs-umount-private
sync</p>

<p>It is advised that this script is executed in runlevel 1
or 3, to avoid simultanteous writes and race conditions with
targeted files.</p>

<p>USING THIS SCRIPT WHILE GNOME, KDE, OR OTHER
APPLICATIONS ARE RUNNING MAY CAUSE DATA LOSS.</p>

<p>SEE ALSO find(1), xargs(1), ecryptfs-umount-private(1),
sync(1)</p>

<p>http://launchpad.net/ecryptfs/</p>

<p>AUTHOR This manpage was written by Dustin Kirkland
&lt;kirkland@canonical.com&gt; for Ubuntu systems (but may
be used by others). Permission is granted to copy,
distribute and/or modify this document under the terms of
the GNU General Public License, Version 2 or any later
version published by the Free Software Foundation.</p>

<p>On Debian systems, the complete text of the GNU General
Public License can be found in
/usr/share/common-licenses/GPL.</p>

<p>ecryptfs-utils 2009-03-20 ecryptfs-rewrite-file(1)</p>
<hr>
</body>
</html>
