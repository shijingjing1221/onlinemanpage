<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:25:05 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>OCF_HEARTBEAT_DB2(7) OCF resource agents
OCF_HEARTBEAT_DB2(7)</p>

<p>NAME ocf_heartbeat_db2 - Resource Agent that manages an
IBM DB2 LUW databases in Standard role as primitive or in
HADR roles as master/slave configuration. Multiple
partitions are supported.</p>

<p>SYNOPSIS db2 [start | stop | monitor | promote | demote
| meta-data | validate-all]</p>

<p>DESCRIPTION Resource Agent that manages an IBM DB2 LUW
databases in Standard role as primitive or in HADR roles in
master/slave configuration. Multiple partitions are
supported.</p>

<p>Standard mode:</p>

<p>An instance including all or selected databases is made
highly available. Configure each partition as a separate
primitive resource.</p>

<p>HADR mode:</p>

<p>A single database in HADR configuration is made highly
available by automating takeover operations. Configure a
master / slave resource with notifications enabled and an
additional monitoring operation with role
&quot;Master&quot;.</p>

<p>In case of HADR be very deliberate in specifying
intervals/timeouts. The detection of a failure including
promote must complete within HADR_PEER_WINDOW.</p>

<p>In addition to honoring requirements for crash recovery
etc. for your specific database use the following relations
as guidance:</p>

<p>&quot;monitor interval&quot; &lt; HADR_PEER_WINDOW -
(appr 30 sec)</p>

<p>&quot;promote timeout&quot; &lt; HADR_PEER_WINDOW +
(appr 20 sec)</p>

<p>For further information and examples consult
http://www.linux-ha.org/wiki/db2_(resource_agent)</p>

<p>SUPPORTED PARAMETERS instance The instance of the
database(s).</p>

<p>(unique, required, string, no default)</p>

<p>dblist List of databases to be managed, e.g &quot;db1
db2&quot;. Defaults to all databases in the instance.
Specify one db for HADR mode.</p>

<p>(optional, string, no default)</p>

<p>admin DEPRECATED: The admin user of the instance.</p>

<p>(optional, string, no default)</p>

<p>dbpartitionnum The number of the partion
(DBPARTITIONNUM) to be managed.</p>

<p>(optional, string, default &quot;0&quot;)</p>

<p>SUPPORTED ACTIONS This resource agent supports the
following actions (operations):</p>

<p>start Starts the resource. Suggested minimum timeout:
120.</p>

<p>stop Stops the resource. Suggested minimum timeout:
120.</p>

<p>promote Promotes the resource to the Master role.
Suggested minimum timeout: 120.</p>

<p>demote Demotes the resource to the Slave role. Suggested
minimum timeout: 120.</p>

<p>notify Suggested minimum timeout: 10.</p>

<p>monitor Performs a detailed status check. Suggested
minimum timeout: 60. Suggested interval: 20.</p>

<p>monitor (Master role) Performs a detailed status check.
Suggested minimum timeout: 60. Suggested interval: 22.</p>

<p>validate-all Performs a validation of the resource
configuration. Suggested minimum timeout: 5.</p>

<p>meta-data Retrieves resource agent metadata (internal
use only). Suggested minimum timeout: 5.</p>

<p>EXAMPLE The following is an example configuration for a
db2 resource using the crm(8) shell:</p>

<p>primitive p_db2 ocf:heartbeat:db2 params instance=string
op monitor depth=&quot;0&quot; timeout=&quot;60&quot;
interval=&quot;20&quot; op monitor depth=&quot;0&quot;
timeout=&quot;60&quot; role=&quot;Master&quot;
interval=&quot;22&quot;</p>

<p>ms ms_db2 p_db2 meta notify=&quot;true&quot;
interleave=&quot;true&quot;</p>

<p>SEE ALSO
http://www.linux-ha.org/wiki/db2_(resource_agent)</p>

<p>AUTHOR Linux-HA contributors (see the resource agent
source for information about individual authors)</p>

<p>resource-agents 3.9.2 02/25/2016
OCF_HEARTBEAT_DB2(7)</p>
<hr>
</body>
</html>
