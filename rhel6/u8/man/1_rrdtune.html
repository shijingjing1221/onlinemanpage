<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:32:10 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>RRDTUNE(1) rrdtool RRDTUNE(1)</p>

<p>NAME rrdtune - Modify some basic properties of a Round
Robin Database</p>

<p>SYNOPSIS rrdtool tune filename [--heartbeat|-h
ds-name:heartbeat] [--minimum|-i ds-name:min] [--maximum|-a
ds-name:max] [--data-source-type|-d ds-name:DST]
[--data-source-rename|-r old- name:new-name] [--deltapos
scale-value] [--deltaneg scale-value] [--failure-threshold
failure-threshold] [--window-length window-length] [--alpha
adaption-parameter] [--beta adaption-parameter] [--gamma
adaption-parameter] [--gamma-deviation adaption-parameter]
[--smoothing-window fraction-of-season]
[--smoothing-window-deviation fraction-of-season]
[--aberrant-reset ds- name]</p>

<p>DESCRIPTION The tune option allows you to alter some of
the basic configuration values stored in the header area of
a Round Robin Database (RRD).</p>

<p>One application of the tune function is to relax the
validation rules on an RRD. This allows to fill a new RRD
with data available in larger intervals than what you would
normally want to permit. Be very careful with tune
operations for COMPUTE data sources. Setting the min, max,
and heartbeat for a COMPUTE data source without changing the
data source type to a non-COMPUTE DST WILL corrupt the data
source header in the RRD.</p>

<p>A second application of the tune function is to set or
alter parameters used by the specialized function RRAs for
aberrant behavior detection.</p>

<p>filename The name of the RRD you want to tune.</p>

<p>--heartbeat|-h ds-name:heartbeat modify the heartbeat of
a data source. By setting this to a high value the RRD will
accept things like one value per day.</p>

<p>--minimum|-i ds-name:min alter the minimum value
acceptable as input from the data source. Setting min to U
will disable this limit.</p>

<p>--maximum|-a ds-name:max alter the maximum value
acceptable as input from the data source. Setting max to U
will disable this limit.</p>

<p>--data-source-type|-d ds-name:DST alter the type DST of
a data source.</p>

<p>--data-source-rename|-r old-name:new-name rename a data
source.</p>

<p>--deltapos scale-value Alter the deviation scaling
factor for the upper bound of the confidence band used
internally to calculate violations for the FAILURES RRA. The
default value is 2. Note that this parameter is not related
to graphing confidence bounds which must be specified as a
CDEF argument to generate a graph with confidence bounds.
The graph scale factor need not to agree with the value used
internally by the FAILURES RRA.</p>

<p>--deltaneg scale-value Alter the deviation scaling
factor for the lower bound of the confidence band used
internally to calculate violations for the FAILURES RRA. The
default value is 2. As with --deltapos, this argument is
unrelated to the scale factor chosen when graphing
confidence bounds.</p>

<p>--failure-threshold failure-threshold Alter the number
of confidence bound violations that constitute a failure for
purposes of the FAILURES RRA. This must be an integer less
than or equal to the window length of the FAILURES RRA. This
restriction is not verified by the tune option, so one can
reset failure-threshold and window-length simultaneously.
Setting this option will reset the count of violations to
0.</p>

<p>--window-length window-length Alter the number of time
points in the temporal window for determining failures. This
must be an integer greater than or equal to the window
length of the FAILURES RRA and less than or equal to 28.
Setting this option will reset the count of violations to
0.</p>

<p>--alpha adaption-parameter Alter the intercept
adaptation parameter for the Holt-Winters forecasting
algorithm. This parameter must be between 0 and 1.</p>

<p>--beta adaption-parameter Alter the slope adaptation
parameter for the Holt-Winters forecasting algorithm. This
parameter must be between 0 and 1.</p>

<p>--gamma adaption-parameter Alter the seasonal
coefficient adaptation parameter for the SEASONAL RRA. This
parameter must be between 0 and 1.</p>

<p>--gamma-deviation adaption-parameter Alter the seasonal
deviation adaptation parameter for the DEVSEASONAL RRA. This
parameter must be between 0 and 1.</p>

<p>--smoothing-window fraction-of-season Alter the size of
the smoothing window for the SEASONAL RRA. This must be
between 0 and 1.</p>

<p>--smoothing-window-deviation fraction-of-season Alter
the size of the smoothing window for the DEVSEASONAL RRA.
This must be between 0 and 1.</p>

<p>--aberrant-reset ds-name This option causes the aberrant
behavior detection algorithm to reset for the specified data
source; that is, forget all it is has learnt so far.
Specifically, for the HWPREDICT or MHWPREDICT RRA, it sets
the intercept and slope coefficients to unknown. For the
SEASONAL RRA, it sets all seasonal coefficients to unknown.
For the DEVSEASONAL RRA, it sets all seasonal deviation
coefficients to unknown. For the FAILURES RRA, it erases the
violation history. Note that reset does not erase past
predictions (the values of the HWPREDICT or MHWPREDICT RRA),
predicted deviations (the values of the DEVPREDICT RRA), or
failure history (the values of the FAILURES RRA). This
option will function even if not all the listed RRAs are
present.</p>

<p>Due to the implementation of this option, there is an
indirect impact on other data sources in the RRD. A
smoothing algorithm is applied to SEASONAL and DEVSEASONAL
values on a periodic basis. During bootstrap initialization
this smoothing is deferred. For efficiency, the
implementation of smoothing is not data source specific.
This means that utilizing reset for one data source will
delay running the smoothing algorithm for all data sources
in the file. This is unlikely to have serious consequences,
unless the data being collected for the non-reset data
sources is unusually volatile during the reinitialization
period of the reset data source.</p>

<p>Use of this tuning option is advised when the behavior
of the data source time series changes in a drastic and
permanent manner.</p>

<p>EXAMPLE 1 &quot;rrdtool tune data.rrd -h in:100000 -h
out:100000 -h through:100000&quot;</p>

<p>Set the minimum required heartbeat for data sources in,
out and through to 10000 seconds which is a little over one
day in data.rrd. This would allow to feed old data from
MRTG-2.0 right into RRDtool without generating *UNKNOWN*
entries.</p>

<p>EXAMPLE 2 &quot;rrdtool tune monitor.rrd --window-length
5 --failure-threshold 3&quot;</p>

<p>If the FAILURES RRA is implicitly created, the default
window-length is 9 and the default failure-threshold is 7.
This command now defines a failure as 3 or more violations
in a temporal window of 5 time points.</p>

<p>AUTHOR Tobias Oetiker &lt;tobi@oetiker.ch&gt;</p>

<p>1.3.8 2008-03-15 RRDTUNE(1)</p>
<hr>
</body>
</html>
