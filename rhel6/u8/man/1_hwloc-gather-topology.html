<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:18:50 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>HWLOC-GATHER-TOPOLOGY(1) hwloc
HWLOC-GATHER-TOPOLOGY(1)</p>

<p>NAME hwloc-gather-topology - Saves the relevant Linux
topology files and the lstopo output for later (possibly
offline) usage.</p>

<p>SYNOPSIS hwloc-gather-topology [options]
&lt;path&gt;</p>

<p>OPTIONS -h --help display help message and exit</p>

<p>DESCRIPTION hwloc-gather-topology saves all the relevant
topology files into an archive (&lt;path&gt;.tar.bz2) and
the lstopo output (&lt;path&gt;.output). The utility for
example stores the /proc/cpuinfo file and the entire
/sys/devices/system/node/ directory tree.</p>

<p>These files can be used later to explore the machine
topology offline. Once the tarball has been extracted, it
may for instance be given to some hwloc command-line
utilities through their --input option. It is also possible
to override the default topology that the hwloc library will
read by setting the extracted path in the HWLOC_FSROOT
environment variable.</p>

<p>Both archive and lstopo output may also be submitted to
hwloc develop- ers to debug issues remotely.</p>

<p>hwloc-gather-topology is a Linux specific tool, it is
not installed on other operating systems.</p>

<p>NOTE: It is highly recommended that you read the
hwloc(7) overview page before reading this man page.</p>

<p>EXAMPLES To store topology information to be used later
(possibly on a different host) please run:</p>

<p>hwloc-gather-topology /tmp/myhost</p>

<p>It will store all relevant topology files in the
/tmp/myhost.tar.bz2 archive and the lstopo output in the
/tmp/myhost.output file. These files can be transferred on
another host for later/offline analysis and/or as the input
to various hwloc utilities.</p>

<p>To use these data with hwloc utilities you have to
unpack myhost.tar.bz2 archive first:</p>

<p>tar jxvf /tmp/myhost.tar.bz2</p>

<p>A new directory named myhost now contains all topology
files. Then you ask various hwloc utilities to use this
topology instead of the one of the real machine by passing
--input myhost. To display the topology just run:</p>

<p>lstopo --input ./myhost</p>

<p>It is not necessary that the topology is extracted in
the current directory, absolute or relative paths are also
supported:</p>

<p>lstopo --input
/path/to/remote/host/extracted/topology/</p>

<p>To see how hwloc would distribute 8 parallel jobs on the
original host:</p>

<p>hwloc-distrib --input myhost --single 8</p>

<p>To get the corresponding physical indexes in the
previous command:</p>

<p>hwloc-calc --input myhost --po --li --proclist
$(hwloc-distrib --input myhost --single 8)</p>

<p>Any program may actually override the default topology
with a given archived one even if it does not have a --input
option. The HWLOC_FSROOT environment variable should be used
to do so:</p>

<p>HWLOC_FSROOT=myhost hwloc-calc --po --li --proclist
$(hwloc-dis- trib --single 8)</p>

<p>All these commands will produce the same output as if
executed directly on the host on which the topology
information was originally gathered by the
hwloc-gather-topology script.</p>

<p>RETURN VALUE Upon successful execution,
hwloc-gather-topology will exit with the code 0.</p>

<p>hwloc-gather-topology will return nonzero exit status if
any kind of error occurs, such as (but not limited to)
failure to create the archive or output file.</p>

<p>SEE ALSO hwloc(7), lstopo(1), hwloc-calc(1),
hwloc-distrib(1)</p>

<p>1.5 Jul 30, 2012 HWLOC-GATHER-TOPOLOGY(1)</p>
<hr>
</body>
</html>
