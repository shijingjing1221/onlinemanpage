<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:43:51 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>virt-cat(1) Virtualization Support virt-cat(1)</p>

<p>NAME virt-cat - Display files in a virtual machine</p>

<p>SYNOPSIS virt-cat [--options] -d domname file [file
...]</p>

<p>virt-cat [--options] -a disk.img [-a disk.img ...] file
[file ...]</p>

<p>Old-style:</p>

<p>virt-cat domname file</p>

<p>virt-cat disk.img file</p>

<p>DESCRIPTION &quot;virt-cat&quot; is a command line tool
to display the contents of &quot;file&quot; where
&quot;file&quot; exists in the named virtual machine (or
disk image).</p>

<p>Multiple filenames can be given, in which case they are
concatenated together. Each filename must be a full path,
starting at the root directory (starting with /).</p>

<p>&quot;virt-cat&quot; can be used to quickly view a file.
To edit a file, use &quot;virt-edit&quot;. For more complex
cases you should look at the guestfish(1) tool (see
&quot;USING GUESTFISH&quot; below).</p>

<p>EXAMPLES Display &quot;/etc/fstab&quot; file from inside
the libvirt VM called &quot;mydomain&quot;:</p>

<p>virt-cat -d mydomain /etc/fstab</p>

<p>List syslog messages from a VM disk image file:</p>

<p>virt-cat -a disk.img /var/log/messages | tail</p>

<p>Find out what DHCP IP address a VM acquired:</p>

<p>virt-cat -d mydomain /var/log/messages | grep
&rsquo;dhclient: bound to&rsquo; | tail</p>

<p>Find out what packages were recently installed:</p>

<p>virt-cat -d mydomain /var/log/yum.log | tail</p>

<p>Find out who is logged on inside a virtual machine:</p>

<p>virt-cat -d mydomain /var/run/utmp &gt; /tmp/utmp who
/tmp/utmp</p>

<p>or who was logged on:</p>

<p>virt-cat -d mydomain /var/log/wtmp &gt; /tmp/wtmp last
-f /tmp/wtmp</p>

<p>OPTIONS --help Display brief help.</p>

<p>-a file --add file Add file which should be a disk image
from a virtual machine. If the virtual machine has multiple
block devices, you must supply all of them with separate -a
options.</p>

<p>The format of the disk image is auto-detected. To
override this and force a particular format use the
--format=.. option.</p>

<p>-c URI --connect URI If using libvirt, connect to the
given URI. If omitted, then we connect to the default
libvirt hypervisor.</p>

<p>If you specify guest block devices directly (-a), then
libvirt is not used at all.</p>

<p>-d guest --domain guest Add all the disks from the named
libvirt guest. Domain UUIDs can be used instead of
names.</p>

<p>--echo-keys When prompting for keys and passphrases,
virt-cat normally turns echoing off so you cannot see what
you are typing. If you are not worried about Tempest attacks
and there is no one else in the room you can specify this
flag to see what you are typing.</p>

<p>--format=raw|qcow2|.. --format The default for the -a
option is to auto-detect the format of the disk image. Using
this forces the disk format for -a options which follow on
the command line. Using --format with no argument switches
back to auto-detection for subsequent -a options.</p>

<p>For example:</p>

<p>virt-cat --format=raw -a disk.img file</p>

<p>forces raw format (no auto-detection) for
&quot;disk.img&quot;.</p>

<p>virt-cat --format=raw -a disk.img --format -a
another.img file</p>

<p>forces raw format (no auto-detection) for
&quot;disk.img&quot; and reverts to auto-detection for
&quot;another.img&quot;.</p>

<p>If you have untrusted raw-format guest disk images, you
should use this option to specify the disk format. This
avoids a possible security problem with malicious guests
(CVE-2010-3851).</p>

<p>--keys-from-stdin Read key or passphrase parameters from
stdin. The default is to try to read passphrases from the
user by opening &quot;/dev/tty&quot;.</p>

<p>-v --verbose Enable verbose messages for debugging.</p>

<p>-V --version Display version number and exit.</p>

<p>-x Enable tracing of libguestfs API calls.</p>

<p>OLD-STYLE COMMAND LINE ARGUMENTS Previous versions of
virt-cat allowed you to write either:</p>

<p>virt-cat disk.img [disk.img ...] file</p>

<p>or</p>

<p>virt-cat guestname file</p>

<p>whereas in this version you should use -a or -d
respectively to avoid the confusing case where a disk image
might have the same name as a guest.</p>

<p>For compatibility the old style is still supported.</p>

<p>WINDOWS PATHS &quot;virt-cat&quot; has a limited ability
to understand Windows drive letters r . t x and paths (eg.
&quot;E:ot &quot; ) .</p>

<p>If and only if the guest is running Windows then:</p>

<p>&middot; Drive letter prefixes like &quot;C:&quot; are
resolved against the Windows Registry to the correct
filesystem.</p>

<p>&middot; Any backslash (&quot; forward slashes so that
libguestfs can process it.</p>

<p>&middot; The path is resolved case insensitively to
locate the file that should be displayed.</p>

<p>There are some known shortcomings:</p>

<p>&middot; Some NTFS symbolic links may not be followed
correctly.</p>

<p>&middot; NTFS junction points that cross filesystems are
not followed.</p>

<p>USING GUESTFISH guestfish(1) is a more powerful, lower
level tool which you can use when &quot;virt-cat&quot;
doesnt work.</p>

<p>Using &quot;virt-cat&quot; is approximately equivalent
to doing:</p>

<p>guestfish --ro -i -d domname download file -</p>

<p>where &quot;domname&quot; is the name of the libvirt
guest, and &quot;file&quot; is the full path to the file.
Note the final &quot;-&quot; (meaning &quot;output to
stdout&quot;).</p>

<p>The command above uses libguestfs s guest inspection
feature and so does not work on guests that libguestfs
cannot inspect, or on things like arbitrary disk images that
dont contain guests. To display a file from a disk image
directly, use:</p>

<p>guestfish --ro -a disk.img -m /dev/sda1 download file
-</p>

<p>where &quot;disk.img&quot; is the disk image,
&quot;/dev/sda1&quot; is the filesystem within the disk
image, and &quot;file&quot; is the full path to the
file.</p>

<p>SHELL QUOTING Libvirt guest names can contain arbitrary
characters, some of which have meaning to the shell such as
&quot;#&quot; and space. You may need to quote or escape
these characters on the command line. See the shell manual
page sh(1) for details.</p>

<p>EXIT STATUS This program returns 0 if successful, or
non-zero if there was an error.</p>

<p>SEE ALSO guestfs(3), guestfish(1), virt-copy-out(1),
virt-edit(1), virt-tar-out(1), http://libguestfs.org/.</p>

<p>AUTHOR Richard W.M. Jones
http://people.redhat.com/~rjones/</p>

<p>COPYRIGHT Copyright (C) 2010-2012 Red Hat Inc.</p>

<p>LICENSE This program is free software; you can
redistribute it and/or modify it under the terms of the GNU
General Public License as published by the Free Software
Foundation; either version 2 of the License, or (at your
option) any later version.</p>

<p>This program is distributed in the hope that it will be
useful, but WITHOUT ANY WARRANTY; without even the implied
warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
PURPOSE. See the GNU General Public License for more
details.</p>

<p>You should have received a copy of the GNU General
Public License along with this program; if not, write to the
Free Software Foundation, Inc., 51 Franklin Street, Fifth
Floor, Boston, MA 02110-1301 USA.</p>

<p>BUGS To get a list of bugs against libguestfs, use this
link:
https://bugzilla.redhat.com/buglist.cgi?component=libguestfs&amp;product=Virtualization+Tools</p>

<p>To report a new bug against libguestfs, use this link:
https://bugzilla.redhat.com/enter_bug.cgi?component=libguestfs&amp;product=Virtualization+Tools</p>

<p>When reporting a bug, please supply:</p>

<p>&middot; The version of libguestfs.</p>

<p>&middot; Where you got libguestfs (eg. which Linux
distro, compiled from source, etc)</p>

<p>&middot; Describe the bug accurately and give a way to
reproduce it.</p>

<p>&middot; Run libguestfs-test-tool(1) and paste the
complete, unedited output into the bug report.</p>

<p>libguestfs-1.20.11 2013-08-27 virt-cat(1)</p>
<hr>
</body>
</html>
