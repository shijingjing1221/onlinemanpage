<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:27:27 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>PERL589DELTA(1) Perl Programmers Reference Guide
PERL589DELTA(1)</p>

<p>NAME perl589delta - what is new for perl v5.8.9</p>

<p>DESCRIPTION This document describes differences between
the 5.8.8 release and the 5.8.9 release.</p>

<p>Notice The 5.8.9 release will be the last significant
release of the 5.8.x series. Any future releases of 5.8.x
will likely only be to deal with security issues, and
platform build failures. Hence you should look to migrating
to 5.10.x, if you have not started already. See &quot;Known
Problems&quot; for more information.</p>

<p>Incompatible Changes A particular construction in the
source code of extensions written in C++ may need changing.
See &quot;Changed Internals&quot; for more details. All
extensions written in C, most written in C++, and all
existing compiled extensions are unaffected. This was
necessary to improve C++ support.</p>

<p>Other than this, there are no changes intentionally
incompatible with 5.8.8. If any exist, they are bugs and
reports are welcome.</p>

<p>Core Enhancements Unicode Character Database 5.1.0. The
copy of the Unicode Character Database included in Perl 5.8
has been updated to 5.1.0 from 4.1.0. See
&lt;http://www.unicode.org/versions/Unicode5.1.0/#NotableChanges&gt;
for the notable changes.</p>

<p>stat and -X on directory handles It is now possible to
call &quot;stat&quot; and the &quot;-X&quot; filestat
operators on directory handles. As both directory and file
handles are barewords, there can be ambiguities over which
was intended. In these situations the file handle semantics
are preferred. Both also treat *FILE{IO} filehandles like
*FILE filehandles.</p>

<p>Source filters in @INC It s possible to enhance the
mechanism of subroutine hooks in @INC by adding a source
filter on top of the filehandle opened and returned by the
hook. This feature was planned a long time ago, but wasnt
quite working until now. See &quot;require&quot; in perlfunc
for details. (Nicholas Clark)</p>

<p>Exceptions in constant folding The constant folding
routine is now wrapped in an exception handler, and if
folding throws an exception (such as attempting to evaluate
0/0), perl now retains the current optree, rather than
aborting the whole program. Without this change, programs
would not compile if they had expressions that happened to
generate exceptions, even though those expressions were in
code that could never be reached at runtime. (Nicholas
Clark, Dave Mitchell)</p>

<p>&quot;no VERSION&quot; You can now use &quot;no&quot;
followed by a version number to specify that you want to use
a version of perl older than the specified one.</p>

<p>Improved internal UTF-8 caching code The code that
caches calculated UTF-8 byte offsets for character offsets
for a string has been re-written. Several bugs have been
located and eliminated, and the code now makes better use of
the information it has, so should be faster. In particular,
it doesnt scan to the end of a string before calculating an
offset within the string, which should speed up some
operations on long strings. It is now possible to disable
the caching code at run time, to verify that it is not the
cause of suspected problems.</p>

<p>Runtime relocatable installations There is now Configure
support for creating a perl tree that is relocatable at run
time. see &quot;Relocatable installations&quot;.</p>

<p>New internal variables
&quot;${^CHILD_ERROR_NATIVE}&quot; This variable gives the
native status returned by the last pipe close, backtick
command, successful call to &quot;wait&quot; or
&quot;waitpid&quot;, or from the &quot;system&quot;
operator. See perlvar for details. (Contributed by Gisle
Aas.)</p>

<p>&quot;${^UTF8CACHE}&quot; This variable controls the
state of the internal UTF-8 offset caching code. 1 for on
(the default), 0 for off, -1 to debug the caching code by
checking all its results against linear scans, and panicing
on any discrepancy.</p>

<p>&quot;readpipe&quot; is now overridable The built-in
function &quot;readpipe&quot; is now overridable. Overriding
it permits also to override its operator counterpart,
&quot;qx//&quot; (also known as
&quot;&lsquo;&lsquo;&quot;).</p>

<p>simple exception handling macros Perl 5.8.9 (and 5.10.0
onwards) now provides a couple of macros to do very basic
exception handling in XS modules. You can use these macros
if you call code that may &quot;croak&quot;, but you need to
do some cleanup before giving control back to Perl. See
&quot;Exception Handling&quot; in perlguts for more
details.</p>

<p>-D option enhancements &middot; &quot;-Dq&quot;
suppresses the EXECUTING... message when running under
&quot;-D&quot;</p>

<p>&middot; &quot;-Dl&quot; logs runops loop entry and
exit, and jump level popping.</p>

<p>&middot; &quot;-Dv&quot; displays the process id as part
of the trace output.</p>

<p>XS-assisted SWASHGET Some pure-perl code that the regexp
engine was using to retrieve Unicode properties and
transliteration mappings has been reimplemented in XS for
faster execution. (SADAHIRO Tomoyuki)</p>

<p>Constant subroutines The interpreter internals now
support a far more memory efficient form of inlineable
constants. Storing a reference to a constant value in a
symbol table is equivalent to a full typeglob referencing a
constant subroutine, but using about 400 bytes less memory.
This proxy constant subroutine is automatically upgraded to
a real typeglob with subroutine if necessary. The approach
taken is analogous to the existing space optimisation for
subroutine stub declarations, which are stored as plain
scalars in place of the full typeglob.</p>

<p>However, to aid backwards compatibility of existing
code, which (wrongly) does not expect anything other than
typeglobs in symbol tables, nothing in core uses this
feature, other than the regression tests.</p>

<p>Stubs for prototyped subroutines have been stored in
symbol tables as plain strings, and stubs for unprototyped
subroutines as the number -1, since 5.005, so code which
assumes that the core only places typeglobs in symbol tables
has been making incorrect assumptions for over 10 years.</p>

<p>New Platforms Compile support added for:</p>

<p>&middot; DragonFlyBSD</p>

<p>&middot; MidnightBSD</p>

<p>&middot; MirOS BSD</p>

<p>&middot; RISC OS</p>

<p>&middot; Cray XT4/Catamount</p>

<p>Modules and Pragmata New Modules &middot;
&quot;Module::Pluggable&quot; is a simple framework to
create modules that accept pluggable sub-modules. The
bundled version is 3.8</p>

<p>&middot; &quot;Module::CoreList&quot; is a hash of
hashes that is keyed on perl version as indicated in $]. The
bundled version is 2.17</p>

<p>&middot; &quot;Win32API::File&quot; now available in
core on Microsoft Windows. The bundled version is
0.1001_01</p>

<p>&middot; &quot;Devel::InnerPackage&quot; finds all the
packages defined by a single file. It is part of the
&quot;Module::Pluggable&quot; distribution. The bundled
version is 0.3</p>

<p>Updated Modules &middot; &quot;attributes&quot; upgraded
to version 0.09</p>

<p>&middot; &quot;AutoLoader&quot; upgraded to version
5.67</p>

<p>&middot; &quot;AutoSplit&quot; upgraded to 1.06</p>

<p>&middot; &quot;autouse&quot; upgraded to version
1.06</p>

<p>&middot; &quot;B&quot; upgraded from 1.09_01 to 1.19</p>

<p>&middot; provides new pad related abstraction macros
&quot;B::NV::COP_SEQ_RANGE_LOW&quot;,
&quot;B::NV::COP_SEQ_RANGE_HIGH&quot;,
&quot;B::NV::PARENT_PAD_INDEX&quot;,
&quot;B::NV::PARENT_FAKELEX_FLAGS&quot;, which hides the
difference in storage in 5.10.0 and later.</p>

<p>&middot; provides &quot;B::sub_generation&quot;, which
exposes &quot;PL_sub_generation&quot;</p>

<p>&middot; provides &quot;B::GV::isGV_with_GP&quot;, which
on pre-5.10 perls always returns true.</p>

<p>&middot; New type &quot;B::HE&quot; added with methods
&quot;VAL&quot;, &quot;HASH&quot; and
&quot;SVKEY_force&quot;</p>

<p>&middot; The &quot;B::GVf_IMPORTED_CV&quot; flag is now
set correctly when a proxy constant subroutine is
imported.</p>

<p>&middot; bugs fixed in the handling of
&quot;PMOP&quot;s.</p>

<p>&middot; &quot;B::BM::PREVIOUS&quot; returns now
&quot;U32&quot;, not &quot;U16&quot;.
&quot;B::CV::START&quot; and &quot;B:CV::ROOT&quot; return
now &quot;NULL&quot; on an XSUB, &quot;B::CV::XSUB&quot; and
&quot;B::CV::XSUBANY&quot; return 0 on a non-XSUB.</p>

<p>&middot; &quot;B::C&quot; upgraded to 1.05</p>

<p>&middot; &quot;B::Concise&quot; upgraded to 0.76</p>

<p>&middot; new option &quot;-src&quot; causes the
rendering of each statement (starting with the nextstate OP)
to be preceded by the first line of source code that
generates it.</p>

<p>&middot; new option
&quot;-stash=&quot;somepackage&quot;&quot;,
&quot;require&quot;s &quot;somepackage&quot;, and then
renders each function defined in its namespace.</p>

<p>&middot; now has documentation of detailed hint
symbols.</p>

<p>&middot; &quot;B::Debug&quot; upgraded to version
1.05</p>

<p>&middot; &quot;B::Deparse&quot; upgraded to version
0.87</p>

<p>&middot; properly deparse &quot;print readpipe $x,
$y&quot;.</p>

<p>&middot; now handles &quot;&rsquo;&rsquo;-&quot;()&gt;,
&quot;::()&quot;, &quot;sub :: {}&quot;, etc. correctly [RT
#43010]. All bugs in parsing these kinds of syntax are now
fixed:</p>

<p>perl -MO=Deparse -e &rsquo;&quot;my %h =
&quot;-&gt;()&rsquo; perl -MO=Deparse -e
&rsquo;::-&gt;()&rsquo; perl -MO=Deparse -e &rsquo;sub ::
{}&rsquo; perl -MO=Deparse -e &rsquo;package a; sub a::b::c
{}&rsquo; perl -MO=Deparse -e &rsquo;sub the::main::road
{}&rsquo;</p>

<p>&middot; does not deparse $^H{v_string}, which is
automatically set by the internals.</p>

<p>&middot; &quot;B::Lint&quot; upgraded to version
1.11</p>

<p>&middot; &quot;B::Terse&quot; upgraded to version
1.05</p>

<p>&middot; &quot;base&quot; upgraded to version 2.13</p>

<p>&middot; loading a module via base.pm would mask a
global $SIG{__DIE__} in that module.</p>

<p>&middot; push all classes at once in @ISA</p>

<p>&middot; &quot;Benchmark&quot; upgraded to version
1.10</p>

<p>&middot; &quot;bigint&quot; upgraded to 0.23</p>

<p>&middot; &quot;bignum&quot; upgraded to 0.23</p>

<p>&middot; &quot;bigrat&quot; upgraded to 0.23</p>

<p>&middot; &quot;blib&quot; upgraded to 0.04</p>

<p>&middot; &quot;Carp&quot; upgraded to version 1.10</p>

<p>The argument backtrace code now shows &quot;undef&quot;
as &quot;undef&quot;, instead of a string
&quot;undef&quot;.</p>

<p>&middot; &quot;CGI&quot; upgraded to version 3.42</p>

<p>&middot; &quot;charnames&quot; upgraded to 1.06</p>

<p>&middot; &quot;constant&quot; upgraded to version
1.17</p>

<p>&middot; &quot;CPAN&quot; upgraded to version 1.9301</p>

<p>&middot; &quot;Cwd&quot; upgraded to version 3.29 with
some platform specific improvements (including for VMS).</p>

<p>&middot; &quot;Data::Dumper&quot; upgraded to version
2.121_17</p>

<p>&middot; Fixes hash iterator current position with the
pure Perl version [RT #40668]</p>

<p>&middot; Performance enhancements, which will be most
evident on platforms where repeated calls to C s
&quot;realloc()&quot; are slow, such as Win32.</p>

<p>&middot; &quot;DB_File&quot; upgraded to version
1.817</p>

<p>&middot; &quot;DB_Filter&quot; upgraded to version
0.02</p>

<p>&middot; &quot;Devel::DProf&quot; upgraded to version
20080331.00</p>

<p>&middot; &quot;Devel::Peek&quot; upgraded to version
1.04</p>

<p>&middot; &quot;Devel::PPPort&quot; upgraded to version
3.14</p>

<p>&middot; &quot;diagnostics&quot; upgraded to version
1.16</p>

<p>&middot; &quot;Digest&quot; upgraded to version 1.15</p>

<p>&middot; &quot;Digest::MD5&quot; upgraded to version
2.37</p>

<p>&middot; &quot;DirHandle&quot; upgraded to version
1.02</p>

<p>&middot; now localises $., $@, $!, $^E, and $? before
closing the directory handle to suppress leaking any side
effects of warnings about it already being closed.</p>

<p>&middot; &quot;DynaLoader&quot; upgraded to version
1.09</p>

<p>&quot;DynaLoader&quot; can now dynamically load a
loadable object from a file with a non-default file
extension.</p>

<p>&middot; &quot;Encode&quot; upgraded to version 2.26</p>

<p>&quot;Encode::Alias&quot; includes a fix for encoding
&quot;646&quot; on Solaris (better known as ASCII).</p>

<p>&middot; &quot;English&quot; upgraded to version
1.03</p>

<p>&middot; &quot;Errno&quot; upgraded to version 1.10</p>

<p>&middot; &quot;Exporter&quot; upgraded to version
5.63</p>

<p>&middot; &quot;ExtUtils::Command&quot; upgraded to
version 1.15</p>

<p>&middot; &quot;ExtUtils::Constant&quot; upgraded to
version 0.21</p>

<p>&middot; &quot;ExtUtils::Embed&quot; upgraded to version
1.28</p>

<p>&middot; &quot;ExtUtils::Install&quot; upgraded to
version 1.50_01</p>

<p>&middot; &quot;ExtUtils::Installed&quot; upgraded to
version 1.43</p>

<p>&middot; &quot;ExtUtils::MakeMaker&quot; upgraded to
version 6.48</p>

<p>&middot; support for &quot;INSTALLSITESCRIPT&quot; and
&quot;INSTALLVENDORSCRIPT&quot; configuration.</p>

<p>&middot; &quot;ExtUtils::Manifest&quot; upgraded to
version 1.55</p>

<p>&middot; &quot;ExtUtils::ParseXS&quot; upgraded to
version 2.19</p>

<p>&middot; &quot;Fatal&quot; upgraded to version 1.06</p>

<p>&middot; allows built-ins in &quot;CORE::GLOBAL&quot; to
be made fatal.</p>

<p>&middot; &quot;Fcntl&quot; upgraded to version 1.06</p>

<p>&middot; &quot;fields&quot; upgraded to version 2.12</p>

<p>&middot; &quot;File::Basename&quot; upgraded to version
2.77</p>

<p>&middot; &quot;FileCache&quot; upgraded to version
1.07</p>

<p>&middot; &quot;File::Compare&quot; upgraded to
1.1005</p>

<p>&middot; &quot;File::Copy&quot; upgraded to 2.13</p>

<p>&middot; now uses 3-arg open.</p>

<p>&middot; &quot;File::DosGlob&quot; upgraded to 1.01</p>

<p>&middot; &quot;File::Find&quot; upgraded to version
1.13</p>

<p>&middot; &quot;File::Glob&quot; upgraded to version
1.06</p>

<p>&middot; fixes spurious results with brackets inside
braces.</p>

<p>&middot; &quot;File::Path&quot; upgraded to version
2.07_02</p>

<p>&middot; &quot;File::Spec&quot; upgraded to version
3.29</p>

<p>&middot; improved handling of bad arguments.</p>

<p>&middot; some platform specific improvements (including
for VMS and Cygwin), with an optimisation on
&quot;abs2rel&quot; when handling both relative
arguments.</p>

<p>&middot; &quot;File::stat&quot; upgraded to version
1.01</p>

<p>&middot; &quot;File::Temp&quot; upgraded to version
0.20</p>

<p>&middot; &quot;filetest&quot; upgraded to version
1.02</p>

<p>&middot; &quot;Filter::Util::Call&quot; upgraded to
version 1.07</p>

<p>&middot; &quot;Filter::Simple&quot; upgraded to version
0.83</p>

<p>&middot; &quot;FindBin&quot; upgraded to version
1.49</p>

<p>&middot; &quot;GDBM_File&quot; upgraded to version
1.09</p>

<p>&middot; &quot;Getopt::Long&quot; upgraded to version
2.37</p>

<p>&middot; &quot;Getopt::Std&quot; upgraded to version
1.06</p>

<p>&middot; &quot;Hash::Util&quot; upgraded to version
0.06</p>

<p>&middot; &quot;if&quot; upgraded to version 0.05</p>

<p>&middot; &quot;IO&quot; upgraded to version 1.23</p>

<p>Reduced number of calls to &quot;getpeername&quot; in
&quot;IO::Socket&quot;</p>

<p>&middot; &quot;IPC::Open&quot; upgraded to version
1.03</p>

<p>&middot; &quot;IPC::Open3&quot; upgraded to version
1.03</p>

<p>&middot; &quot;IPC::SysV&quot; upgraded to version
2.00</p>

<p>&middot; &quot;lib&quot; upgraded to version 0.61</p>

<p>&middot; avoid warning about loading .par files.</p>

<p>&middot; &quot;libnet&quot; upgraded to version 1.22</p>

<p>&middot; &quot;List::Util&quot; upgraded to 1.19</p>

<p>&middot; &quot;Locale::Maketext&quot; upgraded to
1.13</p>

<p>&middot; &quot;Math::BigFloat&quot; upgraded to version
1.60</p>

<p>&middot; &quot;Math::BigInt&quot; upgraded to version
1.89</p>

<p>&middot; &quot;Math::BigRat&quot; upgraded to version
0.22</p>

<p>&middot; implements new &quot;as_float&quot; method.</p>

<p>&middot; &quot;Math::Complex&quot; upgraded to version
1.54.</p>

<p>&middot; &quot;Math::Trig&quot; upgraded to version
1.18.</p>

<p>&middot; &quot;NDBM_File&quot; upgraded to version
1.07</p>

<p>&middot; improve g++ handling for systems using GDBM
compatibility headers.</p>

<p>&middot; &quot;Net::Ping&quot; upgraded to version
2.35</p>

<p>&middot; &quot;NEXT&quot; upgraded to version 0.61</p>

<p>&middot; fix several bugs with &quot;NEXT&quot; when
working with &quot;AUTOLOAD&quot;, &quot;eval&quot; block,
and within overloaded stringification.</p>

<p>&middot; &quot;ODBM_File&quot; upgraded to 1.07</p>

<p>&middot; &quot;open&quot; upgraded to 1.06</p>

<p>&middot; &quot;ops&quot; upgraded to 1.02</p>

<p>&middot; &quot;PerlIO::encoding&quot; upgraded to
version 0.11</p>

<p>&middot; &quot;PerlIO::scalar&quot; upgraded to version
0.06</p>

<p>&middot; [RT #40267] &quot;PerlIO::scalar&quot; doesn t
respect readonly-ness.</p>

<p>&middot; &quot;PerlIO::via&quot; upgraded to version
0.05</p>

<p>&middot; &quot;Pod::Html&quot; upgraded to version
1.09</p>

<p>&middot; &quot;Pod::Parser&quot; upgraded to version
1.35</p>

<p>&middot; &quot;Pod::Usage&quot; upgraded to version
1.35</p>

<p>&middot; &quot;POSIX&quot; upgraded to version 1.15</p>

<p>&middot; &quot;POSIX&quot; constants that duplicate
those in &quot;Fcntl&quot; are now imported from
&quot;Fcntl&quot; and re-exported, rather than being
duplicated by &quot;POSIX&quot;</p>

<p>&middot; &quot;POSIX::remove&quot; can remove empty
directories.</p>

<p>&middot; &quot;POSIX::setlocale&quot; safer to call
multiple times.</p>

<p>&middot; &quot;POSIX::SigRt&quot; added, which provides
access to POSIX realtime signal functionality on systems
that support it.</p>

<p>&middot; &quot;re&quot; upgraded to version 0.06_01</p>

<p>&middot; &quot;Safe&quot; upgraded to version 2.16</p>

<p>&middot; &quot;Scalar::Util&quot; upgraded to 1.19</p>

<p>&middot; &quot;SDBM_File&quot; upgraded to version
1.06</p>

<p>&middot; &quot;SelfLoader&quot; upgraded to version
1.17</p>

<p>&middot; &quot;Shell&quot; upgraded to version 0.72</p>

<p>&middot; &quot;sigtrap&quot; upgraded to version
1.04</p>

<p>&middot; &quot;Socket&quot; upgraded to version 1.81</p>

<p>&middot; this fixes an optimistic use of
&quot;gethostbyname&quot;</p>

<p>&middot; &quot;Storable&quot; upgraded to 2.19</p>

<p>&middot; &quot;Switch&quot; upgraded to version 2.13</p>

<p>&middot; &quot;Sys::Syslog&quot; upgraded to version
0.27</p>

<p>&middot; &quot;Term::ANSIColor&quot; upgraded to version
1.12</p>

<p>&middot; &quot;Term::Cap&quot; upgraded to version
1.12</p>

<p>&middot; &quot;Term::ReadLine&quot; upgraded to version
1.03</p>

<p>&middot; &quot;Test::Builder&quot; upgraded to version
0.80</p>

<p>&middot; &quot;Test::Harness&quot; upgraded version to
2.64</p>

<p>&middot; this makes it able to handle newlines.</p>

<p>&middot; &quot;Test::More&quot; upgraded to version
0.80</p>

<p>&middot; &quot;Test::Simple&quot; upgraded to version
0.80</p>

<p>&middot; &quot;Text::Balanced&quot; upgraded to version
1.98</p>

<p>&middot; &quot;Text::ParseWords&quot; upgraded to
version 3.27</p>

<p>&middot; &quot;Text::Soundex&quot; upgraded to version
3.03</p>

<p>&middot; &quot;Text::Tabs&quot; upgraded to version
2007.1117</p>

<p>&middot; &quot;Text::Wrap&quot; upgraded to version
2006.1117</p>

<p>&middot; &quot;Thread&quot; upgraded to version 2.01</p>

<p>&middot; &quot;Thread::Semaphore&quot; upgraded to
version 2.09</p>

<p>&middot; &quot;Thread::Queue&quot; upgraded to version
2.11</p>

<p>&middot; added capability to add complex structures
(e.g., hash of hashes) to queues.</p>

<p>&middot; added capability to dequeue multiple items at
once.</p>

<p>&middot; added new methods to inspect and manipulate
queues: &quot;peek&quot;, &quot;insert&quot; and
&quot;extract&quot;</p>

<p>&middot; &quot;Tie::Handle&quot; upgraded to version
4.2</p>

<p>&middot; &quot;Tie::Hash&quot; upgraded to version
1.03</p>

<p>&middot; &quot;Tie::Memoize&quot; upgraded to version
1.1</p>

<p>&middot; &quot;Tie::Memoize::EXISTS&quot; now correctly
caches its results.</p>

<p>&middot; &quot;Tie::RefHash&quot; upgraded to version
1.38</p>

<p>&middot; &quot;Tie::Scalar&quot; upgraded to version
1.01</p>

<p>&middot; &quot;Tie::StdHandle&quot; upgraded to version
4.2</p>

<p>&middot; &quot;Time::gmtime&quot; upgraded to version
1.03</p>

<p>&middot; &quot;Time::Local&quot; upgraded to version
1.1901</p>

<p>&middot; &quot;Time::HiRes&quot; upgraded to version
1.9715 with various build improvements (including VMS) and
minor platform-specific bug fixes (including for HP-UX 11
ia64).</p>

<p>&middot; &quot;threads&quot; upgraded to 1.71</p>

<p>&middot; new thread state information methods:
&quot;is_running&quot;, &quot;is_detached&quot; and
&quot;is_joinable&quot;. &quot;list&quot; method enhanced to
return running or joinable threads.</p>

<p>&middot; new thread signal method: &quot;kill&quot;</p>

<p>&middot; added capability to specify thread stack
size.</p>

<p>&middot; added capability to control thread exiting
behavior. Added a new &quot;exit&quot; method.</p>

<p>&middot; &quot;threads::shared&quot; upgraded to version
1.27</p>

<p>&middot; smaller and faster implementation that
eliminates one internal structure and the consequent level
of indirection.</p>

<p>&middot; user locks are now stored in a safer
manner.</p>

<p>&middot; new function &quot;shared_clone&quot; creates a
copy of an object leaving shared elements as-is and
deep-cloning non-shared elements.</p>

<p>&middot; added new &quot;is_shared&quot; method.</p>

<p>&middot; &quot;Unicode::Normalize&quot; upgraded to
version 1.02</p>

<p>&middot; &quot;Unicode::UCD&quot; upgraded to version
0.25</p>

<p>&middot; &quot;warnings&quot; upgraded to version
1.05_01</p>

<p>&middot; &quot;Win32&quot; upgraded to version 0.38</p>

<p>&middot; added new function
&quot;GetCurrentProcessId&quot; which returns the regular
Windows process identifier of the current process, even when
called from within a fork.</p>

<p>&middot; &quot;XSLoader&quot; upgraded to version
0.10</p>

<p>&middot; &quot;XS::APItest&quot; and
&quot;XS::Typemap&quot; are for internal use only and hence
no longer installed. Many more tests have been added to
&quot;XS::APItest&quot;.</p>

<p>Utility Changes debugger upgraded to version 1.31
&middot; Andreas Koenig contributed two functions to save
and load the debugger history.</p>

<p>&middot; &quot;NEXT::AUTOLOAD&quot; no longer emits
warnings under the debugger.</p>

<p>&middot; The debugger should now correctly find tty the
device on OS X 10.5 and VMS when the program
&quot;fork&quot;s.</p>

<p>&middot; LVALUE subs now work inside the debugger.</p>

<p>perlthanks Perl 5.8.9 adds a new utility perlthanks,
which is a variant of perlbug, but for sending
non-bug-reports to the authors and maintainers of Perl.
Getting nothing but bug reports can become a bit
demoralising - well see if this changes things.</p>

<p>perlbug perlbug now checks if youre reporting about a
non-core module and suggests you report it to the CPAN
author instead.</p>

<p>h2xs &middot; wont define an empty string as a constant
[RT #25366]</p>

<p>&middot; has examples for &quot;h2xs -X&quot;</p>

<p>h2ph &middot; now attempts to deal sensibly with the
difference in path implications between &quot;&quot; and
&quot;E&lt;lt&gt;E&lt;gt&gt;&quot; quoting in
&quot;#include&quot; statements.</p>

<p>&middot; now generates correct correct code for
&quot;#if defined A || defined B&quot; [RT #39130]</p>

<p>New Documentation As usual, the documentation received
its share of corrections, clarifications and other nitfixes.
More &quot;X&lt;...&gt;&quot; tags were added for
indexing.</p>

<p>perlunitut is a tutorial written by Juerd Waalboer on
Unicode-related terminology and how to correctly handle
Unicode in Perl scripts.</p>

<p>perlunicode is updated in section user defined
properties.</p>

<p>perluniintro has been updated in the example of
detecting data that is not valid in particular encoding.</p>

<p>perlcommunity provides an overview of the Perl Community
along with further resources.</p>

<p>CORE documents the pseudo-namespace for Perl s core
routines.</p>

<p>Changes to Existing Documentation perlglossary adds
deprecated modules and features and to be dropped
modules.</p>

<p>perlhack has been updated and added resources on smoke
testing.</p>

<p>The Perl FAQs (perlfaq1..perlfaq9) have been
updated.</p>

<p>perlcheat is updated with better details on
&quot;48&quot;, and &quot; perldebug is updated with
information on how to call the debugger.</p>

<p>perldiag documentation updated with subroutine with an
ampersand on the argument to &quot;exists&quot; and
&quot;delete&quot; and also several terminology updates on
warnings.</p>

<p>perlfork documents the limitation of &quot;exec&quot;
inside pseudo-processes.</p>

<p>perlfunc:</p>

<p>&middot; Documentation is fixed in section
&quot;caller&quot; and &quot;pop&quot;.</p>

<p>&middot; Function &quot;alarm&quot; now mentions
&quot;Time::HiRes::ualarm&quot; in preference to
&quot;select&quot;.</p>

<p>&middot; Regarding precedence in &quot;-X&quot;,
filetest operators are the same as unary operators, but not
regarding parsing and parentheses (spotted by Eirik Berg
Hanssen).</p>

<p>&middot; reverse function documentation received scalar
context examples.</p>

<p>perllocale documentation is adjusted for number
localization and &quot;POSIX::setlocale&quot; to fix Debian
bug #379463.</p>

<p>perlmodlib is updated with &quot;CPAN::API::HOWTO&quot;
and &quot;Sys::Syslog::win32::Win32&quot;</p>

<p>perlre documentation updated to reflect the differences
between &quot;[[:xxxxx:]]&quot; and &quot;{IsXxxxx}&quot;
matches. Also added section on &quot;/g&quot; and
&quot;/c&quot; modifiers.</p>

<p>perlreguts describe the internals of the regular
expressions engine. It has been contributed by Yves
Orton.</p>

<p>perlrebackslash describes all perl regular expression
backslash and escape sequences.</p>

<p>perlrecharclass describes the syntax and use of
character classes in Perl Regular Expressions.</p>

<p>perlrun is updated to clarify on the hash seed
PERL_HASH_SEED. Also more information in options
&quot;-x&quot; and &quot;-u&quot;.</p>

<p>perlsub example is updated to use a lexical variable for
&quot;opendir&quot; syntax.</p>

<p>perlvar fixes confusion about real GID $( and effective
GID $).</p>

<p>Perl thread tutorial example is fixed in section
&quot;Queues: Passing Data Around&quot; in perlthrtut and
perlothrtut.</p>

<p>perlhack documentation extensively improved by Jarkko
Hietaniemi and others.</p>

<p>perltoot provides information on modifying
@UNIVERSAL::ISA.</p>

<p>perlport documentation extended to include different
&quot;kill(-9, ...)&quot; semantics on Windows. It also
clearly states &quot;dump&quot; is not supported on Win32
and cygwin.</p>

<p>INSTALL has been updated and modernised.</p>

<p>Performance Enhancements &middot; The default since perl
5.000 has been for perl to create an empty scalar with every
new typeglob. The increased use of lexical variables means
that most are now unused. Thanks to Nicholas Clarks efforts,
Perl can now be compiled with
&quot;-DPERL_DONT_CREATE_GVSV&quot; to avoid creating these
empty scalars. This will significantly decrease the number
of scalars allocated for all configurations, and the number
of scalars that need to be copied for ithread creation.
Whilst this option is binary compatible with existing perl
installations, it does change a long- standing assumption
about the internals, hence it is not enabled by default, as
some third party code may rely on the old behaviour.</p>

<p>We would recommend testing with this configuration on
new deployments of perl, particularly for multi-threaded
servers, to see whether all third party code is compatible
with it, as this configuration may give useful performance
improvements. For existing installations we would not
recommend changing to this configuration unless thorough
testing is performed before deployment.</p>

<p>&middot; &quot;diagnostics&quot; no longer uses $&amp;,
which results in large speedups for regexp matching in all
code using it.</p>

<p>&middot; Regular expressions classes of a single
character are now treated the same as if the character had
been used as a literal, meaning that code that uses
char-classes as an escaping mechanism will see a speedup.
(Yves Orton)</p>

<p>&middot; Creating anonymous array and hash references
(ie. &quot;[]&quot; and &quot;{}&quot;) now incurs no more
overhead than creating an anonymous list or hash. Nicholas
Clark provided changes with a saving of two ops and one
stack push, which was measured as a slightly better than 5%
improvement for these operations.</p>

<p>&middot; Many calls to &quot;strlen()&quot; have been
eliminated, either because the length was already known, or
by adopting or enhancing APIs that pass lengths. This has
been aided by the adoption of a &quot;my_sprintf()&quot;
wrapper, which returns the correct C89 value - the length of
the formatted string. Previously we could not rely on the
return value of &quot;sprintf()&quot;, because on some
ancient but extant platforms it still returns &quot;char
*&quot;.</p>

<p>&middot; &quot;index&quot; is now faster if the search
string is stored in UTF-8 but only contains characters in
the Latin-1 range.</p>

<p>&middot; The Unicode swatch cache inside the regexp
engine is now used. (the lookup had a key mismatch, present
since the initial implementation). [RT #42839]</p>

<p>Installation and Configuration Improvements Relocatable
installations There is now Configure support for creating a
relocatable perl tree. If you Configure with
&quot;-Duserelocatableinc&quot;, then the paths in @INC (and
everything else in %Config) can be optionally located via
the path of the perl executable.</p>

<p>At start time, if any paths in @INC or
&quot;Config&quot; that Configure marked as relocatable (by
starting them with &quot;.../&quot;), then they are prefixed
the directory of $^X. This allows the relocation can be
configured on a per-directory basis, although the default
with &quot;-Duserelocatableinc&quot; is that everything is
relocated. The initial install is done to the original
configured prefix.</p>

<p>Configuration improvements Configure is now better at
removing temporary files. Tom Callaway (from RedHat) also
contributed patches that complete the set of flags passed to
the compiler and the linker, in particular that
&quot;-fPIC&quot; is now enabled on Linux. It will also
croak when your /dev/null isnt a device.</p>

<p>A new configuration variable &quot;d_pseudofork&quot;
has been to Configure, and is available as
$Config{d_pseudofork} in the &quot;Config&quot; module. This
distinguishes real &quot;fork&quot; support from the
pseudofork emulation used on Windows platforms.</p>

<p>Config.pod and config.sh are now placed correctly for
cross- compilation.</p>

<p>$Config{useshrplib} is now true rather than yes when
using a shared perl library.</p>

<p>Compilation improvements Parallel makes should work
properly now, although there may still be problems if
&quot;make test&quot; is instructed to run in parallel.</p>

<p>Many compilation warnings have been cleaned up. A very
stubborn compiler warning in &quot;S_emulate_eaccess()&quot;
was killed after six attempts. g++ support has been tuned,
especially for FreeBSD.</p>

<p>mkppport has been integrated, and all ppport.h files in
the core will now be autogenerated at build time (and
removed during cleanup).</p>

<p>Installation improvements. installman now works with
&quot;-Duserelocatableinc&quot; and &quot;DESTDIR&quot;.</p>

<p>installperl no longer installs:</p>

<p>&middot; static library files of statically linked
extensions when a shared perl library is being used. (They
are not needed. See &quot;Windows&quot; below).</p>

<p>&middot; SIGNATURE and PAUSE*.pub (CPAN files)</p>

<p>&middot; NOTES and PATCHING (ExtUtils files)</p>

<p>&middot; perlld and ld2 (Cygwin files)</p>

<p>Platform Specific Changes There are improved hints for
AIX, Cygwin, DEC/OSF, FreeBSD, HP/UX, Irix 6 Linux, MachTen,
NetBSD, OS/390, QNX, SCO, Solaris, SunOS, System V Release
5.x (UnixWare 7, OpenUNIX 8), Ultrix, UMIPS, uts and
VOS.</p>

<p>FreeBSD</p>

<p>&middot; Drop &quot;-std=c89&quot; and &quot;-ansi&quot;
if using &quot;long long&quot; as the main integral type,
else in FreeBSD 6.2 (and perhaps other releases), system
headers do not declare some functions required by perl.</p>

<p>Solaris</p>

<p>&middot; Starting with Solaris 10, we do not want
versioned shared libraries, because those often indicate a
private use only library. These problems could often be
triggered when SUNWbdb (Berkeley DB) was installed. Hence if
Solaris 10 is detected set
&quot;ignore_versioned_solibs=y&quot;.</p>

<p>VMS</p>

<p>&middot; Allow IEEE math to be deselected on OpenVMS I64
(but it remains the default).</p>

<p>&middot; Record IEEE usage in &quot;config.h&quot;</p>

<p>&middot; Help older VMS compilers by using
&quot;ccflags&quot; when building
&quot;munchconfig.exe&quot;.</p>

<p>&middot; Dont try to build old &quot;Thread&quot;
extension on VMS when &quot;-Duseithreads&quot; has been
chosen.</p>

<p>&middot; Passing a raw string of &quot;NaN&quot; to nawk
causes a core dump - so the string has been changed to
&quot;*NaN*&quot;</p>

<p>&middot; t/op/stat.t tests will now test hard links on
VMS if they are supported.</p>

<p>Windows</p>

<p>&middot; When using a shared perl library installperl no
longer installs static library files, import library files
and export library files (of statically linked extensions)
and empty bootstrap files (of dynamically linked
extensions). This fixes a problem building PAR- Packer on
Win32 with a debug build of perl.</p>

<p>&middot; Various improvements to the win32 build
process, including support for Visual C++ 2005 Express
Edition (aka Visual C++ 8.x).</p>

<p>&middot; perl.exe will now have an icon if built with
MinGW or Borland.</p>

<p>&middot; Improvements to the perl-static.exe build
process.</p>

<p>&middot; Add Win32 makefile option to link all
extensions statically.</p>

<p>&middot; The WinCE directory has been merged into the
Win32 directory.</p>

<p>&middot; &quot;setlocale&quot; tests have been
re-enabled for Windows XP onwards.</p>

<p>Selected Bug Fixes Unicode Many many bugs related to the
internal Unicode implementation (UTF-8) have been fixed. In
particular, long standing bugs related to returning Unicode
via &quot;tie&quot;, overloading or $@ are now gone, some of
which were never reported.</p>

<p>&quot;unpack&quot; will internally convert the string
back from UTF-8 on numeric types. This is a compromise
between the full consistency now in 5.10, and the current
behaviour, which is often used as a &quot;feature&quot; on
string types.</p>

<p>Using &quot;:crlf&quot; and &quot;UTF-16&quot; IO layers
together will now work.</p>

<p>Fixed problems with &quot;split&quot;, Unicode
&quot;/&quot; and &quot;/ /&quot;.</p>

<p>Fixed bug RT #40641 - encoding of Unicode characters in
regular expressions.</p>

<p>Fixed a bug where using certain patterns in a regexp led
to a panic. [RT #45337]</p>

<p>Perl no longer segfaults (due to infinite internal
recursion) if the locales character is not UTF-8 [RT
#41442]:</p>

<p>use open &rsquo;:locale&rsquo;; print STDERR
&quot;}&quot;; # &amp;bdquo;</p>

<p>PerlIO Inconsistencies have been fixed in the reference
counting PerlIO uses to keep track of Unix file descriptors,
and the API used by XS code to manage getting and releasing
&quot;FILE *&quot;s</p>

<p>Magic Several bugs have been fixed in Magic, the
internal system used to implement features such as
&quot;tie&quot;, tainting and threads sharing.</p>

<p>&quot;undef @array&quot; on a tied array now correctly
calls the &quot;CLEAR&quot; method.</p>

<p>Some of the bitwise ops were not checking whether their
arguments were magical before using them. [RT #24816]</p>

<p>Magic is no longer invoked twice by the expression
&quot;$x&quot;</p>

<p>A bug with assigning large numbers and tainting has been
resolved. [RT #40708]</p>

<p>A new entry has been added to the MAGIC vtable -
&quot;svt_local&quot;. This is used when copying magic to
the new value during &quot;local&quot;, allowing certain
problems with localising shared variables to be
resolved.</p>

<p>For the implementation details, see &quot;Magic Virtual
Tables&quot; in perlguts.</p>

<p>Reblessing overloaded objects now works Internally, perl
object-ness is on the referent, not the reference, even
though methods can only be called via a reference. However,
the original implementation of overloading stored flags
related to overloading on the reference, relying on the
flags being copied when the reference was copied, or set at
the creation of a new reference. This manifests in a bug -
if you rebless an object from a class that has overloading,
into one that does not, then any other existing references
think that they (still) point to an overloaded object,
choose these C code paths, and then throw errors.
Analogously, blessing into an overloaded class when other
references exist will result in them not using
overloading.</p>

<p>The implementation has been fixed for 5.10, but this fix
changes the semantics of flag bits, so is not binary
compatible, so cant be applied to 5.8.9. However, 5.8.9 has
a work-around that implements the same bug fix. If the
referent has multiple references, then all the other
references are located and corrected. A full search is
avoided whenever possible by scanning lexicals outwards from
the current subroutine, and the argument stack.</p>

<p>A certain well known Linux vendor applied incomplete
versions of this bug fix to their /usr/bin/perl and then
prematurely closed bug reports about performance issues
without consulting back upstream. This not being enough,
they then proceeded to ignore the necessary fixes to these
unreleased changes for 11 months, until massive pressure was
applied by their long-suffering paying customers, catalysed
by the failings being featured on a prominent blog and
Slashdot.</p>

<p>&quot;strict&quot; now propagates correctly into string
evals Under 5.8.8 and earlier:</p>

<p>$ perl5.8.8 -e &rsquo;use strict; eval &quot;use foo
bar&quot; or die $@&rsquo; Can&rsquo;t locate foo.pm in @INC
(@INC contains: ... .) at (eval 1) line 2. BEGIN
failed--compilation aborted at (eval 1) line 2.</p>

<p>Under 5.8.9 and later:</p>

<p>$ perl5.8.9 -e &rsquo;use strict; eval &quot;use foo
bar&quot; or die $@&rsquo; Bareword &quot;bar&quot; not
allowed while &quot;strict subs&quot; in use at (eval 1)
line 1.</p>

<p>This may cause problems with programs that parse the
error message and rely on the buggy behaviour.</p>

<p>Other fixes &middot; The tokenizer no longer treats
&quot;=cute&quot; (and other words beginning with
&quot;=cut&quot;) as a synonym for &quot;=cut&quot;.</p>

<p>&middot; Calling &quot;CORE::require&quot;</p>

<p>&quot;CORE::require&quot; and &quot;CORE::do&quot; were
always parsed as &quot;require&quot; and &quot;do&quot; when
they were overridden. This is now fixed.</p>

<p>&middot; Stopped memory leak on long /etc/groups
entries.</p>

<p>&middot; &quot;while (my $x ...) { ...; redo }&quot;
shouldnt &quot;undef $x&quot;.</p>

<p>In the presence of &quot;my&quot; in the conditional of
a &quot;while()&quot;, &quot;until()&quot;, or
&quot;for(;;)&quot; loop, we now add an extra scope to the
body so that &quot;redo&quot; doesnt &quot;undef&quot; the
lexical.</p>

<p>&middot; The &quot;encoding&quot; pragma now correctly
ignores anything following an &quot;@&quot; character in the
&quot;LC_ALL&quot; and &quot;LANG&quot; environment
variables. [RT # 49646]</p>

<p>&middot; A segfault observed with some gcc 3.3
optimisations is resolved.</p>

<p>&middot; A possible segfault when &quot;unpack&quot;
used in scalar context with &quot;()&quot; groups is
resolved. [RT #50256]</p>

<p>&middot; Resolved issue where $! could be changed by a
signal handler interrupting a &quot;system&quot; call.</p>

<p>&middot; Fixed bug RT #37886, symbolic deferencing was
allowed in the argument of &quot;defined&quot; even under
the influence of &quot;use strict
&rsquo;refs&rsquo;&quot;.</p>

<p>&middot; Fixed bug RT #43207, where
&quot;lc&quot;/&quot;uc&quot; inside &quot;sort&quot;
affected the return value.</p>

<p>&middot; Fixed bug RT #45607, where
&quot;*{&quot;BONK&quot;} = {&quot;BONK&quot;}&quot; didn t
work correctly.</p>

<p>&middot; Fixed bug RT #35878, croaking from a XSUB
called via &quot;goto &amp;xsub&quot; corrupts perl
internals.</p>

<p>&middot; Fixed bug RT #32539, DynaLoader.o is moved into
libperl.so to avoid the need to statically link DynaLoader
into the stub perl executable. With this libperl.so provides
everything needed to get a functional embedded perl
interpreter to run.</p>

<p>&middot; Fix bug RT #36267 so that assigning to a tied
hash doesnt change the underlying hash.</p>

<p>&middot; Fix bug RT #6006, regexp replaces using large
replacement variables fail some of the time, i.e. when
substitution contains something like &quot;${10}&quot; (note
the bracket) instead of just $10.</p>

<p>&middot; Fix bug RT #45053,
&quot;Perl_newCONSTSUB()&quot; is now thread safe.</p>

<p>Platform Specific Fixes Darwin / MacOS X</p>

<p>&middot; Various improvements to 64 bit builds.</p>

<p>&middot; Mutex protection added in
&quot;PerlIOStdio_close()&quot; to avoid race conditions.
Hopefully this fixes failures in the threads tests free.t
and blocks.t.</p>

<p>&middot; Added forked terminal support to the debugger,
with the ability to update the window title.</p>

<p>OS/2</p>

<p>&middot; A build problem with specifying
&quot;USE_MULTI&quot; and &quot;USE_ITHREADS&quot; but
without &quot;USE_IMP_SYS&quot; has been fixed.</p>

<p>&middot; &quot;OS2::REXX&quot; upgraded to version
1.04</p>

<p>Tru64</p>

<p>&middot; Aligned floating point build policies for cc
and gcc.</p>

<p>RedHat Linux</p>

<p>&middot; Revisited a patch from 5.6.1 for RH7.2 for
Intels icc [RT #7916], added an additional check for
$Config{gccversion}.</p>

<p>Solaris/i386</p>

<p>&middot; Use &quot;-DPTR_IS_LONG&quot; when using 64 bit
integers</p>

<p>VMS</p>

<p>&middot; Fixed &quot;PerlIO::Scalar&quot; in-memory file
record-style reads.</p>

<p>&middot; pipe shutdown at process exit should now be
more robust.</p>

<p>&middot; Bugs in VMS exit handling tickled by
&quot;Test::Harness&quot; 2.64 have been fixed.</p>

<p>&middot; Fix &quot;fcntl()&quot; locking capability test
in configure.com.</p>

<p>&middot; Replaced
&quot;shrplib=&rsquo;define&rsquo;&quot; with
&quot;useshrplib=&rsquo;true&rsquo;&quot; on VMS.</p>

<p>Windows</p>

<p>&middot; &quot;File::Find&quot; used to fail when the
target directory is a bare drive letter and
&quot;no_chdir&quot; is 1 (the default is 0). [RT
#41555]</p>

<p>&middot; A build problem with specifying
&quot;USE_MULTI&quot; and &quot;USE_ITHREADS&quot; but
without &quot;USE_IMP_SYS&quot; has been fixed.</p>

<p>&middot; The process id is no longer truncated to 16
bits on some Windows platforms (
http://bugs.activestate.com/show_bug.cgi?id=72443 )</p>

<p>&middot; Fixed bug RT #54828 in perlio.c where calling
&quot;binmode&quot; on Win32 and Cgywin may cause a
segmentation fault.</p>

<p>Smaller fixes &middot; It is now possible to overload
&quot;eq&quot; when using &quot;nomethod&quot;.</p>

<p>&middot; Various problems using &quot;overload&quot;
with 64 bit integers corrected.</p>

<p>&middot; The reference count of &quot;PerlIO&quot; file
descriptors is now correctly handled.</p>

<p>&middot; On VMS, escaped dots will be preserved when
converted to UNIX syntax.</p>

<p>&middot; &quot;keys %+&quot; no longer throws an
&rsquo;ambiguous&rsquo; warning.</p>

<p>&middot; Using &quot;#!perl -d&quot; could trigger an
assertion, which has been fixed.</p>

<p>&middot; Dont stringify tied code references in @INC
when calling &quot;require&quot;.</p>

<p>&middot; Code references in @INC report the correct file
name when &quot;__FILE__&quot; is used.</p>

<p>&middot; Width and precision in sprintf didnt handle
characters above 255 correctly. [RT #40473]</p>

<p>&middot; List slices with indices out of range now work
more consistently. [RT #39882]</p>

<p>&middot; A change introduced with perl 5.8.1 broke the
parsing of arguments of the form &quot;-foo=bar&quot; with
the &quot;-s&quot; on the &lt;#!&gt; line. This has been
fixed. See
http://bugs.activestate.com/show_bug.cgi?id=43483</p>

<p>&middot; &quot;tr///&quot; is now threadsafe. Previously
it was storing a swash inside its OP, rather than in a
pad.</p>

<p>&middot; pod2html labels anchors more consistently and
handles nested definition lists better.</p>

<p>&middot; &quot;threads&quot; cleanup veto has been
extended to include &quot;perl_free()&quot; and
&quot;perl_destruct()&quot;</p>

<p>&middot; On some systems, changes to $ENV{TZ} would not
always be respected by the underlying calls to
&quot;localtime_r()&quot;. Perl now forces the inspection of
the environment on these systems.</p>

<p>&middot; The special variable $^R is now more
consistently set when executing regexps using the
&quot;(?{...})&quot; construct. In particular, it will still
be set even if backreferences or optional sub- patterns
&quot;(?:...)?&quot; are used.</p>

<p>New or Changed Diagnostics panic: sv_chop %s This new
fatal error occurs when the C routine
&quot;Perl_sv_chop()&quot; was passed a position that is not
within the scalar s string buffer. This is caused by buggy
XS code, and at this point recovery is not possible.</p>

<p>Maximal count of pending signals (%s) exceeded This new
fatal error occurs when the perl process has to abort due to
too many pending signals, which is bound to prevent perl
from being able to handle further incoming signals
safely.</p>

<p>panic: attempt to call %s in %s This new fatal error
occurs when the ACL version file test operator is used where
it is not available on the current platform. Earlier checks
mean that it should never be possible to get this.</p>

<p>FETCHSIZE returned a negative value New error indicating
that a tied array has claimed to have a negative number of
elements.</p>

<p>Cat upgrade %s (%d) to %d Previously the internal error
from the SV upgrade code was the less informative Cant
upgrade that kind of scalar. It now reports the current
internal type, and the new type requested.</p>

<p>%s argument is not a HASH or ARRAY element or a
subroutine This error, thrown if an invalid argument is
provided to &quot;exists&quot; now correctly includes
&quot;or a subroutine&quot;. [RT #38955]</p>

<p>Cannot make the non-overridable builtin %s fatal This
error in &quot;Fatal&quot; previously did not show the name
of the builtin in question (now represented by %s
above).</p>

<p>Unrecognized character%sin column %d This error
previously did not state the column.</p>

<p>Offset outside string This can now also be generated by
a &quot;seek&quot; on a file handle using
&quot;PerlIO::scalar&quot;.</p>

<p>Invalid escape in the specified encoding in regexp;
marked by &lt;-- HERE in m/%s/ New error, introduced as part
of the fix to RT #40641 to handle encoding of Unicode
characters in regular expression comments.</p>

<p>Your machine doest support dump/undump. A more
informative fatal error issued when calling &quot;dump&quot;
on Win32 and Cygwin. (Given that the purpose of
&quot;dump&quot; is to abort with a core dump, and core
dumps cant be produced on these platforms, this is more
useful than silently exiting.)</p>

<p>Changed Internals The perl sources can now be compiled
with a C++ compiler instead of a C compiler. A necessary
implementation details is that under C++, the macro
&quot;XS&quot; used to define XSUBs now includes an
&quot;extern &quot;C&quot;&quot; definition. A side effect
of this is that C++ code that used the construction</p>

<p>typedef XS(SwigPerlWrapper);</p>

<p>now needs to be written</p>

<p>typedef XSPROTO(SwigPerlWrapper);</p>

<p>using the new &quot;XSPROTO&quot; macro, in order to
compile. C extensions are unaffected, although C extensions
are encouraged to use &quot;XSPROTO&quot; too. This change
was present in the 5.10.0 release of perl, so any actively
maintained code that happened to use this construction
should already have been adapted. Code that needs changing
will fail with a compilation error.</p>

<p>&quot;set&quot; magic on localizing/assigning to a magic
variable will now only trigger for container magics, i.e. it
will for %ENV or %SIG but not for $#array.</p>

<p>The new API macro &quot;newSVpvs()&quot; can be used in
place of constructions such as
&quot;newSVpvn(&quot;ISA&quot;, 3)&quot;. It takes a single
string constant, and at C compile time determines its
length.</p>

<p>The new API function &quot;Perl_newSV_type()&quot; can
be used as a more efficient replacement of the common
idiom</p>

<p>sv = newSV(0); sv_upgrade(sv, type);</p>

<p>Similarly &quot;Perl_newSVpvn_flags()&quot; can be used
to combine &quot;Perl_newSVpv()&quot; with
&quot;Perl_sv_2mortal()&quot; or the equivalent
&quot;Perl_sv_newmortal()&quot; with
&quot;Perl_sv_setpvn()&quot;</p>

<p>Two new macros &quot;mPUSHs()&quot; and
&quot;mXPUSHs()&quot; are added, to make it easier to push
mortal SVs onto the stack. They were then used to fix
several bugs where values on the stack had not been
mortalised.</p>

<p>A &quot;Perl_signbit()&quot; function was added to test
the sign of an &quot;NV&quot;. It maps to the system one
when available.</p>

<p>&quot;Perl_av_reify()&quot;, &quot;Perl_lex_end()&quot;,
&quot;Perl_mod()&quot;, &quot;Perl_op_clear()&quot;,
&quot;Perl_pop_return()&quot;, &quot;Perl_qerror()&quot;,
&quot;Perl_setdefout()&quot;,
&quot;Perl_vivify_defelem()&quot; and
&quot;Perl_yylex()&quot; are now visible to extensions. This
was required to allow &quot;Data::Alias&quot; to work on
Windows.</p>

<p>&quot;Perl_find_runcv()&quot; is now visible to perl
core extensions. This was required to allow
&quot;Sub::Current&quot; to work on Windows.</p>

<p>&quot;ptr_table*&quot; functions are now available in
unthreaded perl. &quot;Storable&quot; takes advantage of
this.</p>

<p>There have been many small cleanups made to the
internals. In particular, &quot;Perl_sv_upgrade()&quot; has
been simplified considerably, with a straight-through code
path that uses &quot;memset()&quot; and &quot;memcpy()&quot;
to initialise the new body, rather than assignment via
multiple temporary variables. It has also benefited from
simplification and de-duplication of the arena management
code.</p>

<p>A lot of small improvements in the code base were made
due to reports from the Coverity static code analyzer.</p>

<p>Corrected use and documentation of
&quot;Perl_gv_stashpv()&quot;,
&quot;Perl_gv_stashpvn()&quot;,
&quot;Perl_gv_stashsv()&quot; functions (last parameter is a
bitmask, not boolean).</p>

<p>&quot;PERL_SYS_INIT&quot;, &quot;PERL_SYS_INIT3&quot;
and &quot;PERL_SYS_TERM&quot; macros have been changed into
functions.</p>

<p>&quot;PERLSYS_TERM&quot; no longer requires a context.
&quot;PerlIO_teardown()&quot; is now called without a
context, and debugging output in this function has been
disabled because that required that an interpreter was
present, an invalid assumption at termination time.</p>

<p>All compile time options which affect binary
compatibility have been grouped together into a global
variable (&quot;PL_bincompat_options&quot;).</p>

<p>The values of &quot;PERL_REVISION&quot;,
&quot;PERL_VERSION&quot; and &quot;PERL_SUBVERSION&quot; are
now baked into global variables (and hence into any shared
perl library). Additionally under &quot;MULTIPLICITY&quot;,
the perl executable now records the size of the interpreter
structure (total, and for this version). Coupled with
&quot;PL_bincompat_options&quot; this will allow 5.8.10 (and
later), when compiled with a shared perl library, to perform
sanity checks in &quot;main()&quot; to verify that the
shared library is indeed binary compatible.</p>

<p>Symbolic references can now have embedded NULs. The new
public function &quot;Perl_get_cvn_flags()&quot; can be used
in extensions if you have to handle them.</p>

<p>Macro cleanups The core code, and XS code in ext that is
not dual-lived on CPAN, no longer uses the macros
&quot;PL_na&quot;, &quot;NEWSV()&quot;, &quot;Null()&quot;,
&quot;Nullav&quot;, &quot;Nullcv&quot;, &quot;Nullhv&quot;,
&quot;Nullhv&quot; etc. Their use is discouraged in new
code, particularly &quot;PL_na&quot;, which is a small
performance hit.</p>

<p>New Tests Many modules updated from CPAN incorporate new
tests. Some core specific tests have been added:</p>

<p>ext/DynaLoader/t/DynaLoader.t Tests for the
&quot;DynaLoader&quot; module.</p>

<p>t/comp/fold.t Tests for compile-time constant
folding.</p>

<p>t/io/pvbm.t Tests incorporated from 5.10.0 which check
that there is no unexpected interaction between the internal
types &quot;PVBM&quot; and &quot;PVGV&quot;.</p>

<p>t/lib/proxy_constant_subs.t Tests for the new form of
constant subroutines.</p>

<p>t/op/attrhand.t Tests for
&quot;Attribute::Handlers&quot;.</p>

<p>t/op/dbm.t Tests for &quot;dbmopen&quot;.</p>

<p>t/op/inccode-tie.t Calls all tests in t/op/inccode.t
after first tying @INC.</p>

<p>t/op/incfilter.t Tests for for source filters returned
from code references in @INC.</p>

<p>t/op/kill0.t Tests for RT #30970.</p>

<p>t/op/qrstack.t Tests for RT #41484.</p>

<p>t/op/qr.t Tests for the &quot;qr//&quot; construct.</p>

<p>t/op/regexp_qr_embed.t Tests for the &quot;qr//&quot;
construct within another regexp.</p>

<p>t/op/regexp_qr.t Tests for the &quot;qr//&quot;
construct.</p>

<p>t/op/rxcode.t Tests for RT #32840.</p>

<p>t/op/studytied.t Tests for &quot;study&quot; on tied
scalars.</p>

<p>t/op/substT.t Tests for &quot;subst&quot; run under
&quot;-T&quot; mode.</p>

<p>t/op/symbolcache.t Tests for &quot;undef&quot; and
&quot;delete&quot; on stash entries that are bound to
subroutines or methods.</p>

<p>t/op/upgrade.t Tests for
&quot;Perl_sv_upgrade()&quot;.</p>

<p>t/mro/package_aliases.t MRO tests for &quot;isa&quot;
and package aliases.</p>

<p>t/pod/twice.t Tests for calling &quot;Pod::Parser&quot;
twice.</p>

<p>t/run/cloexec.t Tests for inheriting file descriptors
across &quot;exec&quot; (close-on- exec).</p>

<p>t/uni/cache.t Tests for the UTF-8 caching code.</p>

<p>t/uni/chr.t Test that strange encodings do not upset
&quot;Perl_pp_chr()&quot;.</p>

<p>t/uni/greek.t Tests for RT #40641.</p>

<p>t/uni/latin2.t Tests for RT #40641.</p>

<p>t/uni/overload.t Tests for returning Unicode from
overloaded values.</p>

<p>t/uni/tie.t Tests for returning Unicode from tied
variables.</p>

<p>Known Problems There are no known new bugs.</p>

<p>However, programs that rely on bugs that have been fixed
will have problems. Also, many bug fixes present in 5.10.0
cant be back-ported to the 5.8.x branch, because they
require changes that are binary incompatible, or because the
code changes are too large and hence too risky to
incorporate.</p>

<p>We have only limited volunteer labour, and the
maintenance burden is getting increasingly complex. Hence
this will be the last significant release of the 5.8.x
series. Any future releases of 5.8.x will likely only be to
deal with security issues, and platform build failures.
Hence you should look to migrating to 5.10.x, if you have
not started already. Alternatively, if business requirements
constrain you to continue to use 5.8.x, you may wish to
consider commercial support from firms such as
ActiveState.</p>

<p>Platform Specific Notes Win32 &quot;readdir()&quot;,
&quot;cwd()&quot;, $^X and @INC now use the alternate
(short) filename if the long name is outside the current
codepage (Jan Dubois).</p>

<p>Updated Modules</p>

<p>&middot; &quot;Win32&quot; upgraded to version 0.38. Now
has a documented WinVista response from
&quot;GetOSName&quot; and support for Vistas privilege
elevation in &quot;IsAdminUser&quot;. Support for Unicode
characters in path names. Improved cygwin and Win64
compatibility.</p>

<p>&middot; &quot;Win32API&quot; updated to 0.1001_01</p>

<p>&middot; &quot;killpg()&quot; support added to
&quot;MSWin32&quot; (Jan Dubois).</p>

<p>&middot; &quot;File::Spec::Win32&quot; upgraded to
version 3.2701</p>

<p>OS/2 Updated Modules</p>

<p>&middot; &quot;OS2::Process&quot; upgraded to 1.03</p>

<p>Ilya Zakharevich has added and documented several
&quot;Window*&quot; and &quot;Clipbrd*&quot; functions.</p>

<p>&middot; &quot;OS2::REXX::DLL&quot;,
&quot;OS2::REXX&quot; updated to version 1.03</p>

<p>VMS Updated Modules</p>

<p>&middot; &quot;DCLsym&quot; upgraded to version 1.03</p>

<p>&middot; &quot;Stdio&quot; upgraded to version 2.4</p>

<p>&middot; &quot;VMS::XSSymSet&quot; upgraded to 1.1.</p>

<p>Obituary Nick Ing-Simmons, long time Perl hacker, author
of the &quot;Tk&quot; and &quot;Encode&quot; modules,
perlio.c in the core, and 5.003_02 pumpking, died of a heart
attack on 25th September 2006. He will be missed.</p>

<p>Acknowledgements Some of the work in this release was
funded by a TPF grant.</p>

<p>Steve Hay worked behind the scenes working out the
causes of the differences between core modules, their CPAN
releases, and previous core releases, and the best way to
rectify them. He doesnt want to do it again. I know this
feeling, and Im very glad he did it this time, instead of
me.</p>

<p>Paul Fenwick assembled a team of 18 volunteers, who
broke the back of writing this document. In particular,
Bradley Dean, Eddy Tan, and Vincent Pit provided half the
teams contribution.</p>

<p>Schwern verified the list of updated module versions,
correcting quite a few errors that I (and everyone else) had
missed, both wrongly stated module versions, and changed
modules that had not been listed.</p>

<p>The crack Berlin-based QA team of Andreas Koenig and
Slaven Rezic tirelessly re-built snapshots, tested most
everything CPAN against them, and then identified the
changes responsible for any module regressions, ensuring
that several show-stopper bugs were stomped before the first
release candidate was cut.</p>

<p>The other core committers contributed most of the
changes, and applied most of the patches sent in by the
hundreds of contributors listed in AUTHORS.</p>

<p>And obviously, Larry Wall, without whom we wouldnt have
Perl.</p>

<p>Reporting Bugs If you find what you think is a bug, you
might check the articles recently posted to the
comp.lang.perl.misc newsgroup and the perl bug database at
http://bugs.perl.org. There may also be information at
http://www.perl.org, the Perl Home Page.</p>

<p>If you believe you have an unreported bug, please run
the perlbug program included with your release. Be sure to
trim your bug down to a tiny but sufficient test case. Your
bug report, along with the output of &quot;perl -V&quot;,
will be sent off to perlbug@perl.org to be analysed by the
Perl porting team. You can browse and search the Perl 5 bugs
at http://bugs.perl.org/</p>

<p>If the bug you are reporting has security implications,
which make it inappropriate to send to a publicly archived
mailing list, then please send it to
perl5-security-report@perl.org. This points to a closed
subscription unarchived mailing list, which includes all the
core committers, who be able to help assess the impact of
issues, figure out a resolution, and help co-ordinate the
release of patches to mitigate or fix the problem across all
platforms on which Perl is supported. Please only use this
address for security issues in the Perl core, not for
modules independently distributed on CPAN.</p>

<p>SEE ALSO The Changes file for exhaustive details on what
changed.</p>

<p>The INSTALL file for how to build Perl.</p>

<p>The README file for general stuff.</p>

<p>The Artistic and Copying files for copyright
information.</p>

<p>perl v5.10.1 2009-05-12 PERL589DELTA(1)</p>
<hr>
</body>
</html>
