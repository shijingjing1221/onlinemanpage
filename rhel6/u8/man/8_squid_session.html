<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:35:43 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>squid_session(8) squid_session(8)</p>

<p>NAME squid_session - Squid session tracking external acl
group helper</p>

<p>SYNOPSIS squid_session [-t idle_timeout] [-b dbpath]
[-a]</p>

<p>DESCRIPTION This helper maintains a concept of sessions
by monitoring requests and timing out sessions if no
requests have been seen for the idle timeout timer.</p>

<p>Intended use is for displaying &quot;terms of use&quot;
pages, ad popups etc.</p>

<p>-t idletimeout (default 3600) Specifies the session idle
timeout timer.</p>

<p>-b dbpath Path to persistent database. If not specified
the session details will be kept in memory only and all
sessions will reset each time Squid restarts its helpers
(Squid restart or rotation of logs).</p>

<p>-a Active mode. In this mode sessions are started by
evaluating an acl with the argument LOGIN, or terminated by
the argument LOGOUT.</p>

<p>Without this flag the helper automatically starts the
session after the first request.</p>

<p>EXAMPLE Configuration example using the default
automatic mode</p>

<p>external_acl_type session ttl=300 negative_ttl=0
children=1 con- currency=200 %LOGIN
/usr/local/squid/libexec/squid_session</p>

<p>acl session external session</p>

<p>http_access deny !session</p>

<p>deny_info http://your.server/bannerpage?url=%s
session</p>

<p>Then set up http://your.server/bannerpage to display a
session startup page and then redirect the user back to the
requested URL given in the url query parameter.</p>

<p>AUTHOR This helper and documentation was written by
Henrik Nordstrom &lt;hen- rik@henriknordstrom.net&gt;</p>

<p>QUESTIONS Any questions on usage can be sent to Squid
Users &lt;squid-users@squid- cache.org&gt;.</p>

<p>REPORTING BUGS Report bugs or bug-fixes to Squid Bugs
&lt;squid-bugs@squid-cache.org&gt; or ideas for new
improvements to Squid Developers &lt;squid-dev@squid-
cache.org&gt;</p>

<p>SEE ALSO squid(8)</p>

<p>Version 1.0 19 March 2006 squid_session(8)</p>
<hr>
</body>
</html>
