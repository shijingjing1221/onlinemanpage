<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:06:58 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>c3270(1) c3270(1)</p>

<p>NAME c3270 - curses-based IBM host access tool</p>

<p>SYNOPSIS c3270 [options] [host]</p>

<p>c3270 [options] session-file.c3270</p>

<p>DESCRIPTION c3270 opens a telnet connection to an IBM
host in a console window. It implements RFCs 2355 (TN3270E),
1576 (TN3270) and 1646 (LU name selec- tion), and supports
IND$FILE file transfer. If the console is capable of
displaying colors, then c3270 emulates an IBM 3279.
Otherwise, it emulates a 3278.</p>

<p>The full syntax for host is:
[prefix:]...[LUname@]hostname[:port]</p>

<p>Prepending a P: onto hostname causes the connection to
go through the telnet-passthru service rather than directly
to the host. See PASSTHRU below.</p>

<p>Prepending an S: onto hostname removes the
&quot;extended data stream&quot; option reported to the
host. See -tn below for further information.</p>

<p>Prepending an N: onto hostname turns off TN3270E support
for the ses- sion.</p>

<p>Prepending an L: onto hostname causes c3270 to first
create an SSL tun- nel to the host, and then create a TN3270
session inside the tunnel. (This function is supported only
if c3270 was built with SSL/TLS sup- port). Note that
TLS-encrypted sessions using the TELNET START-TLS option are
negotiated with the host automatically; for these sessions
the L: prefix should not be used.</p>

<p>A specific Logical Unit (LU) name to use may be
specified by prepending it to the hostname with an @.
Multiple LU names to try can be sepa- rated by commas. An
empty LU can be placed in the list with an extra comma.
(Note that the LU name is used for different purposes by
dif- ferent kinds of hosts. For example, CICS uses the LU
name as the Ter- minal ID.)</p>

<p>The hostname may optionally be placed inside
square-bracket characters [ and ]. This will prevent any
colon : characters in the host- name from being interpreted
as indicating option prefixes or port num- bers. This allows
numeric IPv6 addresses to be used as hostnames.</p>

<p>On systems that support the forkpty library call, the
hostname may be replaced with -e and a command string. This
will cause c3270 to con- nect to a local child process, such
as a shell.</p>

<p>The port to connect to defaults to telnet. This can be
overridden with the -port option, or by appending a port to
the hostname with a colon :. (For compatibility with
previous versions of c3270 and with tn3270(1), the port may
also be specified as a second, separate argu- ment.)</p>

<p>OPTIONS c3270 understands the following options:</p>

<p>-accepthostname spec Specifies a particular hostname to
accept when validating the name presented in the host s SSL
certificate, instead of compar- ing to the name or address
used to make the connection. spec can either be any, which
disables name validation, DNS:hostname, which matches a
particular DNS hostname, or IP:address, which matches a
particular numeric IPv4 or IPv6 address.</p>

<p>-allbold Forces all characters to be displayed in bold.
This helps with PC consoles which display non-bold
characters in unreadably dim colors. All-bold mode is the
default for color displays, but not for monochrome
displays.</p>

<p>-altscreen rowsxcols=init_string Defines the dimensions
and escape sequence for the alternate (132-column) screen
mode. See SCREEN SIZE SWITCHING, below.</p>

<p>-cadir directory Specifies a directory containing CA
(root) certificates to use when verifying a certificate
provided by the host.</p>

<p>-cafile filename Specifies a PEM-format file containing
CA (root) certificates to use when verifying a certificate
provided by the host.</p>

<p>-cbreak Causes c3270 to operate in cbreak mode, instead
of raw mode. In cbreak mode, the TTY driver will properly
process XOFF and XON characters, which are required by some
terminals for proper operation. However, those characters
(usually ^S and ^Q), as well as the characters for
interrupt, quit, and lnext (usually ^C, ^ and ^V
respectively) will be seen by c3270 only if pre- ceded by
the lnext character. The susp character (usually ^Z) cannot
be seen by c3270 at all.</p>

<p>-certfile filename Specifies a file containing a
certificate to provide to the host, if requested. The
default file type is PEM.</p>

<p>-certfiletype type Specifies the type of the certificate
file specified by -cert- file. Type can be pem or asn1.</p>

<p>-chainfile filename Specifies a certificate chain file
in PEM format, containing a certificate to provide to the
host if requested, as well as one or more intermediate
certificates and the CA certificate used to sign that
certificate. If -chainfile is specified, it overrides
-certfile.</p>

<p>-charset name Specifies an EBCDIC host character
set.</p>

<p>-clear toggle Sets the initial value of toggle to
false.</p>

<p>-defaultfgbg Causes c3270 to use the terminal s default
foreground color instead of the curses color black, and the
terminals default background color instead of the curses
color white. This is helpful for emulators such as
gnome-terminal whose representa- tion of a black background
is a murky gray, and for emulators configured to use black
text on a white background. It is set automatically if the
environment variable COLORTERM is set to gnome-terminal. It
is available only if c3270 was compiled with a version of
ncurses that supports default colors, if the emula- tor
supports default colors, and if the termcap/terminfo entry
indicates this capability.</p>

<p>-defscreen rowsxcols=init_string Defines the dimensions
and escape sequence for the default (80-column) screen mode.
See SCREEN SIZE SWITCHING, below.</p>

<p>-devname name Specifies a device name (workstation ID)
for RFC 4777 support.</p>

<p>-hostsfile file Uses file as the hosts file, which
allows aliases for host names and scripts to be executed at
login. See ibm_hosts(1) for details.</p>

<p>-im method Specifies the name of the input method to use
for multi-byte input. (Supported only when c3270 is compiled
with DBCS sup- port.)</p>

<p>-keyfile filename Specifies a file containing the
private key for the certificate file (specified via
-certfile or -chainfile). The default file type is PEM.</p>

<p>-keyfiletype type Specifies the type of the private key
file specified by -key- file. Type can be pem or asn1.</p>

<p>-keypasswd type:value Specifies the password for the
private key file, if it is encrypted. The argument can be
file:filename, specifying that the password is in a file, or
string:string, specifying the password on the command-line
directly. If the private key file is encrypted and no
-keypasswd option is given, the password will be prompted
for interactively.</p>

<p>-keymap name Specifies a keyboard map to be found in the
resource c3270.keymap.name or the file name. See KEYMAPS
below for details.</p>

<p>-km name Specifies the local encoding method for
multi-byte text. name is an encoding name recognized by the
ICU library. (Supported only when c3270 is compiled with
DBCS support, and necessary only when c3270 cannot figure it
out from the locale.)</p>

<p>-loginmacro Action(arg...) ... Specifies a macro to run
at login time.</p>

<p>-model name The model of 3270 display to be emulated.
The model name is in two parts, either of which may be
omitted:</p>

<p>The first part is the base model, which is either 3278
or 3279. 3278 specifies a monochrome (green on black) 3270
display; 3279 specifies a color 3270 display.</p>

<p>The second part is the model number, which specifies the
number of rows and columns. Model 4 is the default.</p>

<p>Model Number Columns Rows ------------------------------
2 80 24 3 80 32 4 80 43 5 132 27</p>

<p>Note: Technically, there is no such 3270 display as a
3279-4 or 3279-5, but most hosts seem to work with them
anyway.</p>

<p>The default model for a color display is 3279-4. For a
monochrome display, it is 3278-4.</p>

<p>-mono Prevents c3270 from using color, ignoring any
color capabilities reported by the terminal.</p>

<p>-noprompt An alias for -secure.</p>

<p>-oversize colsxrows Makes the screen larger than the
default for the chosen model number. This option has effect
only in combination with extended data stream support
(controlled by the &quot;c3270.extended&quot; resource), and
only if the host supports the Query Reply structured field.
The number of columns multiplied by the number of rows must
not exceed 16383 (3fff hex), the limit of 14-bit 3270 buffer
addressing.</p>

<p>It can also be specified as auto, which causes c3270 to
fill the entire terminal or console window.</p>

<p>-port n Specifies a different TCP port to connect to. n
can be a name from /etc/services like telnet, or a number.
This option changes the default port number used for all
connections. (The positional parameter affects only the
initial connection.)</p>

<p>-proxy type:host[:port] Causes c3270 to connect via the
specified proxy, instead of using a direct connection. The
host can be an IP address or hostname. The optional port can
be a number or a service name. For a list of supported proxy
types, see PROXY below.</p>

<p>-printerlu luname Causes c3270 to automatically start a
pr3287 printer session. If luname is &quot;.&quot;, then the
printer session will be associated with the interactive
terminal session (this requires that the host support
TN3270E). Otherwise, the value is used as the explicit LU
name to associate with the printer session.</p>

<p>-reconnect Causes c3270 to automatically reconnect to
the host if it ever disconnects. This option has effect only
if a hostname is specified on the command line.</p>

<p>-rv Switches c3270 from a white-on-black display to a
black-on-white display.</p>

<p>-sl n Specifies that n lines should be saved for
scrolling back. The default is 4096.</p>

<p>-scriptport port Causes c3270 to listen for scripting
connections on local TCP port port. Note that this is the
only way to do peer scripting on c3270.</p>

<p>-secure Disables the interactive c3270&gt; prompt. When
used, a hostname must be provided on the command line.</p>

<p>-selfsignedok When verifying a host SSL certificate,
allow it to be self- signed.</p>

<p>-set toggle Sets the initial value of toggle to
true.</p>

<p>-socket Causes the emulator to create a Unix-domain
socket when it starts, for use by script processes to send
commands to the emulator. The socket is named
/tmp/x3sck.pid. The -p option of x3270if causes it to use
this socket, instead of pipes specified by environment
variables.</p>

<p>-tn name Specifies the terminal name to be transmitted
over the telnet connection. The default name is
IBM-model_name-E, for example, IBM-3279-4-E for a color
display, or IBM-3278-4-E for a monochrome display.</p>

<p>Some hosts are confused by the -E suffix on the terminal
name, and will ignore the extra screen area on models 3, 4
and 5. Prepending an s: on the hostname, or setting the
&quot;c3270.extended&quot; resource to &quot;false&quot;,
removes the -E from the terminal name when connecting to
such hosts.</p>

<p>The name can also be specified with the
&quot;c3270.termName&quot; resource.</p>

<p>-trace Turns on data stream and event tracing at
startup. The default trace file name is /tmp/x3trc.</p>

<p>-tracefile file Specifies a file to save data stream and
event traces into. If the name starts with &gt;&gt;, data
will be appended to the file.</p>

<p>-tracefilesize size Places a limit on the size of a
trace file. If this option is not specified, or is specified
as 0 or none, the trace file size will be unlimited. The
minimum size is 64 Kbytes. The value of size can have a K or
M suffix, indicating kilobytes or megabytes respectively.
When the trace file reaches the size limit, it will be
renamed with a - appended and a new file started.</p>

<p>-user name Specifies the user name for RFC 4777
support.</p>

<p>-v Display the version and build options for c3270 and
exit.</p>

<p>-verifycert For SSL or SSL/TLS connections, verify the
host certificate, and do not allow the connection to
complete unless it can be validated.</p>

<p>-xrm &quot;c3270.resource: value&quot; Sets the value of
the named resource to value. Resources control less common
c3270 options, and are defined under RESOURCES below.</p>

<p>STATUS LINE If the terminal that c3270 is running on has
at least one more row that the 3270 model requires (e.g., 25
rows for a model 2), c3270 will display a status line. The
c3270 status line contains a variety of information. From
left to right, the fields are:</p>

<p>comm status The first symbol is always a 4. If c3270 is
in TN3270E mode, the second symbol is a B; otherwise it is
an A. If c3270 is in SSCP-LU mode, the third symbol is an S.
Otherwise it is blank.</p>

<p>keyboard lock If the keyboard is locked, an
&quot;X&quot; symbol and a message field indicate the reason
for the keyboard lock.</p>

<p>typeahead The letter &quot;T&quot; indicates that one or
more keystrokes are in the typeahead buffer.</p>

<p>temporary keymap The letter &quot;K&quot; indicates that
a temporary keymap is in effect.</p>

<p>reverse The letter &quot;R&quot; indicates that the
keyboard is in reverse field entry mode.</p>

<p>insert mode The letter &quot;I&quot; indicates that the
keyboard is in insert mode.</p>

<p>printer session The letter &quot;P&quot; indicates that
a pr3287 session is active.</p>

<p>secure connection A green letter &quot;S&quot; indicates
that the connection is secured via SSL/TLS.</p>

<p>LU name The LU name associated with the session, if
there is one.</p>

<p>cursor position The cursor row and column are optionally
displayed, separated by a &quot;/&quot;.</p>

<p>ACTIONS Here is a complete list of basic c3270 actions.
Script-specific actions are described on the x3270-script(1)
manual page.</p>

<p>Actions marked with an asterisk (*) may block, sending
data to the host and possibly waiting for a response.</p>

<p>*Attn attention key BackSpace move cursor left (or send
ASCII BS) BackTab tab to start of previous input field
CircumNot input &quot;^&quot; in NVT mode, or
&quot;notsign&quot; in 3270 mode *Clear clear screen Compose
next two keys form a special symbol *Connect(host) connect
to host *CursorSelect Cursor Select AID Delete delete
character under cursor (or send ASCII DEL) DeleteField
delete the entire field</p>

<p>DeleteWord delete the current or previous word
*Disconnect disconnect from host Down move cursor down Dup
duplicate field *Enter Enter AID (or send ASCII CR) Erase
erase previous character (or send ASCII BS) EraseEOF erase
to end of current field EraseInput erase all input fields
Escape escape to c3270&gt; prompt Execute(cmd) execute a
command in a shell FieldEnd move cursor to end of field
FieldMark mark field HexString(hex_digits) insert
control-character string Home move cursor to first input
field Insert set insert mode *Interrupt send TELNET IP to
host Keypad Display pop-up keypad Key(keysym) insert key
keysym Key(0xxx) insert key with character code xx Left move
cursor left Left2 move cursor left 2 positions Menu Display
menu bar MonoCase toggle uppercase-only mode MoveCursor(row,
col) move cursor to (row,col) Newline move cursor to first
field on next line (or send ASCII LF) NextWord move cursor
to next word *PA(n) Program Attention AID (n from 1 to 3)
*PF(n) Program Function AID (n from 1 to 24) PreviousWord
move cursor to previous word Printer(Start[,lu]|Stop) start
or stop printer session PrintText(command) print screen text
on printer Quit exit c3270 Redraw redraw window Reset reset
locked keyboard Right move cursor right Right2 move cursor
right 2 positions *Script(command[,arg...]) run a script
Scroll(Forward|Backward) scroll screen *String(string)
insert string (simple macro facility) *SysReq System Request
AID Tab move cursor to next input field
Toggle(option[,set|clear]) toggle an option ToggleInsert
toggle insert mode ToggleReverse toggle reverse-input mode
*Transfer(option=value...) file transfer Up move cursor up
ignore do nothing</p>

<p>Any of the above actions may be entered at the c3270&gt;
prompt; these commands are also available for use in keymaps
(see KEYMAPS). Command names are case-insensitive.
Parameters can be specified with parentheses and commas,
e.g.: PF(1) or with spaces, e.g.: PF 1 Parameters can be
quoted with double-quote characters, to allow spaces,
commas, and parentheses to be used.</p>

<p>c3270 also supports the following interactive
commands:</p>

<p>Help Displays a list of available commands.</p>

<p>ScreenTrace Turns screen tracing (saving screen images
to a file) on or off. The command screentrace on enables
screen tracing; the command screentrace off disables it.
After on, a filename may be specified to override the
default trace file name of /tmp/x3scr.pid. The keyaord on
can also be followed by the keyword printer and an optional
print command to direct screen traces directly to the
printer.</p>

<p>Show Displays statistics and settings.</p>

<p>Trace Turns tracing on or off. The command trace on
enables data stream and keyboard event tracing; the command
trace off disables it. The qualifier data or keyboard can be
specified before on or off to enable or disable a particular
trace. After on, a filename may be specified to override the
default trace file name of /tmp/x3trc.pid.</p>

<p>Note that certain parameters to c3270 actions (such as
the names of files and keymaps) are subject to
substitutions:</p>

<p>The character ~ at the beginning of a string is replaced
with the users home directory. A ~ character followed by a
username is replaced with that users home directory.</p>

<p>Environment variables are substituted using the Unix
shell convention of $name or ${name}.</p>

<p>Two special pseudo-environment variables are supported.
${TIMESTAMP} is replaced with a microsecond-resolution
timestamp; ${UNIQUE} is replaced with a string guaranteed to
make a unique filename (the process ID optionally followed
by a dash and a string of digits). ${UNIQUE} is used to form
trace file names.</p>

<p>KEYMAPS The -keymap option or the c3270.keymap resource
allow a custom keymap to be specified. If the option -keymap
xxx is given (or the c3270.keymap resource has the value
xxx), c3270 will look for a resource named c3270.keymap.xxx.
If no resource definition is found, it will look for a file
named xxx.</p>

<p>Multiple keymaps may be specified be separating their
names with commas. Definitions in later keymaps supercede
those in earlier keymaps.</p>

<p>In addition, separate keymaps may be defined that apply
only in 3270 mode or NVT mode. For example, the resource
definition c3270.keymap.xxx.nvt or the file xxx.nvt will
augment the definition of keymap xxx in NVT mode. Similarly,
the resource definition c3270.keymap.xxx.3270 or the file
xxx.3270 will augment the definition of keymap xxx in 3270
mode.</p>

<p>Each line (rule) in a keymap specifies actions to
perform when a particular key or sequence of keys is
pressed. Keymap rules have the following syntax:</p>

<p>[Meta][Ctrl]&lt;Key&gt;key...: action[(param[,...])]
...</p>

<p>Here is a sample keymap definition from a file:</p>

<p>! Lines beginning with ! are ignored and can ! occur
anywhere. ! Definition of keymap xxx ! When Alt-c is
pressed, clear the screen. Alt&lt;Key&gt;c: Clear() ! When
PageUp is pressed, send PF7 to the host. &lt;Key&gt;PPAGE:
PF(7) ! When Ctrl-a is pressed, then F1, send PF13 ! to the
host. Ctrl&lt;Key&gt;a &lt;Key&gt;F1: PF(13)</p>

<p>Here is the same definition as a resource:</p>

<p>! Lines beginning with ! are ignored, but NOT ! within a
definition. ! Note that the is required at the end of the !
first line, and is ! required at the end of every other line
except ! the last. ! Definition of keymap xxx
c3270.keymap.xxx: Alt&lt;Key&gt;c: Clear() &lt;Key&gt;PPAGE:
PF(7) Ctrl&lt;Key&gt;A &lt;Key&gt;F1: PF(13)</p>

<p>The optional Alt or Ctrl modifiers specify that the Alt
and Ctrl keys are pressed along with the specified key,
respectively. Key is either an ISO 8859-1 symbol name, such
as equal for = and a for a, or a symbolic ncurses key name,
such as UP. More than one key can be specified, indicating
that a sequence of keys must be pressed in order for the
rule to be matched. The action is an action from the ACTIONS
list above. More than one action may be specified; they will
be executed in order.</p>

<p>Keymap entries are case-sensitive and modifier-specific.
This means that a keymap for the b key will match only a
lowercase b. Actions for uppercase B, or for Alt-B, must be
specified separately.</p>

<p>The base keymap is:</p>

<p>Key Action -----------------------------------------
Ctrl&lt;Key&gt;] Escape Ctrl&lt;Key&gt;a Ctrl&lt;Key&gt;a
Key(0x01) Ctrl&lt;Key&gt;a Ctrl&lt;Key&gt;] Key(0x1d)
Ctrl&lt;Key&gt;a &lt;Key&gt;Tab BackTab Ctrl&lt;Key&gt;a
&lt;Key&gt;c Clear Ctrl&lt;Key&gt;a &lt;Key&gt;e Escape
Ctrl&lt;Key&gt;a &lt;Key&gt;r Reset Ctrl&lt;Key&gt;a
&lt;Key&gt;k Keypad Ctrl&lt;Key&gt;a &lt;Key&gt;l Redraw
Ctrl&lt;Key&gt;a &lt;Key&gt;m Compose Ctrl&lt;Key&gt;a
&lt;Key&gt;n Menu Ctrl&lt;Key&gt;a &lt;Key&gt;p PrintText
Ctrl&lt;Key&gt;a &lt;Key&gt;^ Key(notsign) Ctrl&lt;Key&gt;k
Keypad Ctrl&lt;Key&gt;n Menu &lt;Key&gt;UP Up
&lt;Key&gt;DOWN Down &lt;Key&gt;LEFT Left &lt;Key&gt;RIGHT
Right &lt;Key&gt;F(n) PF(n) Ctrl&lt;Key&gt;a &lt;Key&gt;F(n)
PF(n+12) Ctrl&lt;Key&gt;a &lt;Key&gt;1 PA(1)</p>

<p>Ctrl&lt;Key&gt;a &lt;Key&gt;2 PA(2) Ctrl&lt;Key&gt;a
&lt;Key&gt;3 PA(3) &lt;Key&gt;PPAGE Scroll(Backward)
&lt;Key&gt;NPAGE Scroll(Forward)</p>

<p>The base 3270-mode keymap adds:</p>

<p>Key Action ------------------------------
Ctrl&lt;Key&gt;c Clear Ctrl&lt;Key&gt;d Dup Ctrl&lt;Key&gt;f
FieldMark Ctrl&lt;Key&gt;i Tab Ctrl&lt;Key&gt;l Redraw
Ctrl&lt;Key&gt;r Reset Ctrl&lt;Key&gt;u DeleteField
&lt;Key&gt;BackSpace BackSpace &lt;Key&gt;Return Enter
&lt;Key&gt;Tab Tab &lt;Key&gt;Linefeed Newline
&lt;Key&gt;BACKSPACE BackSpace &lt;Key&gt;DC Delete
&lt;Key&gt;HOME Home &lt;Key&gt;IC ToggleInsert</p>

<p>THE META OR ALT KEY Some keyboards do not have a Meta
key. Instead, they have an Alt key. Sometimes this key acts
as a proper Meta key, that is, it is a modifier key that
sets the high-order bit (0x80) in the code that is
transmitted for each key. Other keyboards send a
two-character sequence when the Alt key is pressed with
another key: the Escape character (0x1b), followed by the
code for the other key.</p>

<p>The resource c3270.metaEscape and the termcap km
attribute control how c3270 will interpret these sequences.
When c3270.metaEscape is set to true, or when
c3270.metaEscape is set to auto and the termcap km attribute
is set, the keyboard is assumed to have a separate Meta key.
The Escape key can be used as an ordinary data key and has
no special meaning.</p>

<p>When c3270.metaEscape is set to true, or when
c3270.metaEscape is set to auto and the termcap km attribute
is not set, the keyboard is assumed to use the Escape
character as a prefix to indicate that the following
character is supposed to have the high-order bit set. When
c3270 sees an Escape character from the keyboard, it sets a
short timeout. If another character arrives before the
timeout expires, then c3270 will combine the two characters,
setting the high-order bit of the second. In an event trace
file, the combined character is listed as derived. In a
keymap, only the combined character or the Meta prefix may
be used. The Escape key can still be used by itself, but
only if there is a short pause before pressing another
key.</p>

<p>The default value for c3270.metaEscape is auto.</p>

<p>FILE TRANSFER The Transfer action implements IND$FILE
file transfer. This action requires that the IND$FILE
program be installed on the IBM host, and that the 3270
cursor be located in a field that will accept a TSO or
VM/CMS command.</p>

<p>The Transfer action can be entered at the command prompt
with no parameters, which will cause it to prompt
interactively for the file names and options. It can also be
invoked with parameters to define the entire transfer.</p>

<p>Because of the complexity and number of options for file
transfer, the parameters to the Transfer action take the
unique form of option=value, and can appear in any order.
Note that if the value contains spaces (such as a VM/CMS
file name), then the entire parameter must be quoted, e.g.,
&quot;HostFile=xxx foo a&quot;. The options are:</p>

<p>Option Required? Default Other Values
--------------------------------------------------------
Direction No receive send HostFile Yes LocalFile Yes Host No
tso vm, cics Mode No ascii binary Cr No remove add, keep
Remap No yes no Exist No keep replace, append Recfm No
fixed, variable, undefined Lrecl No Blksize No Allocation No
tracks, cylinders, avblock PrimarySpace No SecondarySpace No
BufferSize No 4096</p>

<p>The option details are as follows.</p>

<p>Direction send to send a file to the host, receive to
receive a file from the host.</p>

<p>HostFile The name of the file on the host.</p>

<p>LocalFile The name of the file on the local
workstation.</p>

<p>Host The type of host (which dictates the form of the
IND$FILE command): tso (the default), vm or cics.</p>

<p>Mode Use ascii (the default) for a text file, which will
be translated between EBCDIC and ASCII as necessary. Use
binary for non-text files.</p>

<p>Cr Controls how Newline characters are handled when
transferring Mode=ascii files. remove (the default) strips
Newline characters in local files before transferring them
to the host. add adds Newline characters to each host file
record before transferring it to the local workstation. keep
preserves Newline characters when transferring a local file
to the host.</p>

<p>Remap Controls text translation for Mode=ascii files.
The value yes (the default) causes c3270 to remap the text
to ensure maximum compatibility between the workstation s
character set and encoding and the hosts EBCDIC code page.
The value no causes c3270 to pass the text to or from the
host as-is, leaving all translation to the IND$FILE program
on the host.</p>

<p>Exist Controls what happens when the destination file
already exists. keep (the default) preserves the file,
causing the Transfer action to fail. replace overwrites the
destination file with the source file. append appends the
source file to the destination file.</p>

<p>Recfm Controls the record format of files created on the
host. (TSO and VM hosts only.) fixed creates a file with
fixed-length records. variable creates a file with
variable-length records. undefined creates a file with
undefined-length records (TSO hosts only). The Lrecl option
controls the record length or maximum record length for
Recfm=fixed and Recfm=variable files, respectively.</p>

<p>Lrecl Specifies the record length (or maximum record
length) for files created on the host. (TSO and VM hosts
only.)</p>

<p>Blksize Specifies the block size for files created on
the host. (TSO and VM hosts only.)</p>

<p>Allocation Specifies the units for the PrimarySpace and
SecondarySpace options: tracks, cylinders or avblock. (TSO
hosts only.)</p>

<p>PrimarySpace Primary allocation for a file, The units
are given by the Allocation option. (TSO hosts only.)</p>

<p>SecondarySpace Secondary allocation for a file. The
units are given by the Allocation option. (TSO hosts
only.)</p>

<p>BufferSize Buffer size for DFT-mode transfers. Can range
from 256 to 32768. Larger values give better performance,
but some hosts may not be able to support them.</p>

<p>THE PRINTTEXT ACTION The PrintText produces screen
snapshots in a number of different forms. The default form
wth no arguments sends a copy of the screen to the default
printer. A single argument is the command to use to print,
e.g., lpr.</p>

<p>Multiple arguments can include keywords to control the
output of PrintText:</p>

<p>file filename Save the output in a file.</p>

<p>html Save the output as HTML. This option implies
file.</p>

<p>rtf Save the output as RichText. This option implies
file. The font defaults to Courier New and the point size
defaults to 8. These can be overridden by the printTextFont
and printTextSize resources, respectively.</p>

<p>string Return the output as a string. This can only be
used from scripts.</p>

<p>modi Render modified fields in italics.</p>

<p>caption text Add the specified text as a caption above
the output. Within text, the special sequence %T% will be
replaced with a timestamp.</p>

<p>command command Directs the output to a command. This
allows one or more of the other keywords to be specified,
while still sending the output to the printer.</p>

<p>SCRIPTS There are several types of script functions
available.</p>

<p>The String Action The simplest method for scripting is
provided via the String action. The arguments to String are
one or more double-quoted strings which are inserted
directly as if typed. The C backslash conventions are
honored as follows. (Entries marked * mean that after
sending the AID code to the host, c3270 will wait for the
host to unlock the keyboard before further processing the
string.)</p>

<p>Left \xxxx EBCDIC character in hex Clear* Enter* an
PA(n)* fnn PF(nn)* Newline Tab T BackTab xxxx Unicode
character in hex xxxx Unicode character in hex</p>

<p>Note that the numeric values for the \, and sequences
can be abbreviated to 2 digits. Note also that EBCDIC codes
greater than 255 and some Unicode character codes represent
DBCS characters, which will work only if c3270 is built with
DBCS support and the host allows DBCS input in the current
field.</p>

<p>An example keymap entry would be: Meta&lt;Key&gt;p:
String(&quot;probs clearrdr0)</p>

<p>Note: The strings are in ASCII and converted to EBCDIC,
so beware of inserting control codes.</p>

<p>There is also an alternate form of the String action,
HexString, which is used to enter non-printing data. The
argument to HexString is a string of hexadecimal digits, two
per character. A leading 0x or 0X is optional. In 3270 mode,
the hexadecimal data represent EBCDIC characters, which are
entered into the current field. In NVT mode, the hexadecimal
data represent ASCII characters, which are sent directly to
the host.</p>

<p>The Script Action This action causes c3270 to start a
child process which can execute c3270 actions. Standard
input and output from the child process are piped back to
c3270. The Script action is fully documented in
x3270-script(1).</p>

<p>COMPOSITE CHARACTERS c3270 allows the direct entry of
accented letters and special symbols. Pressing and releasing
the &quot;Compose&quot; key, followed by two other keys,
causes entry of the symbol combining those two keys. For
example, &quot;Compose&quot; followed by the &quot;C&quot;
key and the &quot;,&quot; (comma) key, enters the
&quot;C-cedilla&quot; symbol. A C on the status line
indicates a pending composite character.</p>

<p>The mappings between these pairs of ordinary keys and
the symbols they represent is controlled by the
&quot;c3270.composeMap&quot; resource; it gives the name of
the map to use. The maps themselves are named
&quot;c3270.composeMap.name&quot;. The default is
&quot;latin1&quot;, which gives mappings for most of the
symbols in the ISO 8859-1 Latin-1 character set that are not
in the 7-bit ASCII character set.</p>

<p>Note: The default keymap defines Meta&lt;Key&gt;m as the
&quot;Compose&quot; key. You may set up your own
&quot;Compose&quot; key with a keymap that maps some other
keysym onto the Compose action.</p>

<p>PRINTER SUPPORT c3270 supports associated printer
sessions via the pr3287(1) program. The Printer action is
used to start or stop a pr3287 session.</p>

<p>The action Printer Start starts a printer session,
associated with the current LU. (This works only if the host
supports TN3270E.)</p>

<p>The action Printer Start lu starts a printer session,
associated with a specific lu.</p>

<p>The action Printer Stop stops a printer session.</p>

<p>The resource c3270.printer.command specifies the command
used to print each job; it defaults to lpr. The resource
c3270.printer.assocCommandLine specifies the command used to
start an associated printer session. It defaults to:</p>

<p>pr3287 -assoc %L% -command &quot;%C%&quot; %P% %H%</p>

<p>The resource c3270.printer.luCommandLine specifies the
command used to start a specific-LU printer session. It
defaults to:</p>

<p>pr3287 -command &quot;%C%&quot; %R% %P% %L%@%H%</p>

<p>When the printer session command is run, the following
substitutions are made:</p>

<p>Token Substitition %C% Command (value of
c3270.printer.command) %H% Host IP address %L% Current or
specified LU %P% Proxy specification %R% Character set</p>

<p>See pr3287(1) for further details.</p>

<p>The resource c3270.printerLu controls automatic printer
session start- up. If it is set to ., then whenever a login
session is started, a printer session will automatically be
started, associated with the login session. If it is set an
LU name, then the automatic printer session will be
associated with the specified LU.</p>

<p>PASSTHRU c3270 supports the Sun telnet-passthru service
provided by the in.telnet-gw server. This allows outbound
telnet connections through a firewall machine. When a p: is
prepended to a hostname, c3270 acts much like the itelnet(1)
command. It contacts the machine named internet-gateway at
the port defined in /etc/services as telnet- passthru (which
defaults to 3514). It then passes the requested hostname and
port to the in.telnet-gw server.</p>

<p>PROXY The -proxy option or the c3270.proxy resource
causes c3270 to use a proxy server to connect to the host.
The syntax of the option or resource is:
type:host[:port]</p>

<p>The supported values for type are:</p>

<p>Proxy Type Protocol Default Port
---------------------------------------------- http RFC 2817
HTTP 3128 tunnel (squid) passthru Sun in.telnet-gw none
socks4 SOCKS version 4 1080 socks5 SOCKS version 5 1080 (RFC
1928) telnet No protocol (just none send connect host
port)</p>

<p>The special types socks4a and socks5d can also be used
to force the proxy server to do the hostname resolution for
the SOCKS protocol.</p>

<p>SCREEN SIZE SWITCHING When running as a 3270 Model 5,
c3270 can take advantage of terminals that can switch
between 80 and 132 column modes.</p>

<p>Because the curses library does not support mode
switching, the escape sequences and resulting screen
dimensions must be specified explicitly to c3270. These are
specified with the -altscreen and -defscreen command-line
options, or the altScreen and defScreen resources.
-altscreen or altScreen defines the alternate (132-column)
mode; -defscreen or defScreen defines the default
(80-column) mode.</p>

<p>The syntax for the options and resources is
rowsxcols=init_string, where rows and cols give the screen
dimensions, and init_string is the escape sequence to
transmit to the terminal to enter that mode. For defscreen,
the minimum dimensions are 24 rows and 80 columns. For
altscreen, the minimum dimensions are 27 rows and 132
columns. Within init_string, the usual escape sequences are
supported ( for escape, e t c . ) . F o , r the init string
for a 132-column xterm is: e x a m p l e</p>

<p>Note: When defscreen and altscreen are specified, the
model number is always set to 5.</p>

<p>RESOURCES Certain c3270 options can be configured via
resources. Resources are defined in the file .c3270pro in
the users home directory, and by -xrm options. The
definitions are similar to X11 resources, and use a similar
syntax. The resources available in c3270 are:</p>

<p>Resource Default Option Purpose
-----------------------------------------------------------------------
allBold Auto -allbold Display all characters bold altScreen
-altscreen 132-col screen definition blankFill False -set
blankFill Blank Fill mode charset bracket -charset EBCDIC
character set composeMap latin1 Name of composed- character
map cursesColor- (note 6) Color mapping ForHostColorn
cursesColor- green Default color ForDefault mapping</p>

<p>cursesColor- red Default color ForIntensified mapping
cursesColor- blue Default color ForProtected mapping
cursesColor- white Default color ForProtectedIntensified
mapping cursesKeymap True Set curses keymap option defScreen
-defscreen 80-col screen definition dbcsCgcsgid Override
DBCS CGCSGID dsTrace False -trace Data stream tracing eof ^D
NVT-mode EOF character erase ^H NVT-mode erase character
extended True Use 3270 extended data stream eventTrace False
-trace Event tracing hostsFile -hostsfile Host alias/macro
file icrnl False Map CR to NL on NVT-mode input inlcr False
Map NL to CR in NVT-mode input intr ^C NVT-mode interrupt
character keymap -keymap Keyboard map name keymap.foo
Definition of keymap foo kill ^U NVT-mode kill character
lineWrap False -set lineWrap NVT line wrap mode lnext ^V
NVT-mode lnext character m3279 (note 1) -model 3279 (color)
emulation metaEscape Auto Interpret ESC-x as Meta-x mono
(note 5) -mono Ignore terminal color capabilities monoCase
False -set monoCase Mono-case mode noPrompt False -noprompt
Disable command- prompt mode numericLock False Lock keyboard
for numeric field error oerrLock True Lock keyboard for
input error oversize -oversize Oversize screen dimensions
port telnet -port Non-default TCP port printer.* (note 4)
Printer session config printerLu (note 4) Printer session
config</p>

<p>quit ^ NVT-mode quit character reconnect False
-reconnect Automatically reconnect to host rprnt ^R NVT-mode
reprint character sbcsCgcsgid Override SBCS CGCSGID secure
False Disable &quot;dangerous&quot; options termName (note
2) -tn TELNET terminal type string traceDir /tmp Directory
for trace files traceFile (note 3) -tracefile File for trace
output typeahead True Allow typeahead werase ^W NVT-mode
word- erase character</p>

<p>Note 1: m3279 defaults to True if the terminal supports
color, False otherwise. It can be forced to False with the
proper -model option.</p>

<p>Note 2: The default terminal type string is constructed
from the model number, color emulation, and extended data
stream modes. E.g., a model 2 with color emulation and the
extended data stream option would be sent as IBM-3279-2-E.
Note also that when TN3270E mode is used, the terminal type
is always sent as 3278, but this does not affect color
capabilities.</p>

<p>Note 3: The default trace file is x3trc.pid in the
directory specified by the traceDir resource.</p>

<p>Note 4: See PRINTER SUPPORT for details.</p>

<p>Note 5: mono defaults to false if the terminal supports
at least 8 colors and to true otherwise.</p>

<p>Note 6: The default curses color mappings for host
colors 0 through 15 are: black, blue, red, magenta, green,
cyan, yellow, white, black, blue, yellow, blue, green, cyan,
black and white.</p>

<p>In .c3270pro, lines are continued with a backslash
character.</p>

<p>-xrm options override definitions found in .c3270pro. If
more than one -xrm option is given for the same resource,
the last one on the command line is used.</p>

<p>FILES /usr/local/lib/x3270/ibm_hosts $HOME/.c3270pro</p>

<p>SEE ALSO pr3287(1), s3270(1), x3270-script(1), x3270(1),
tcl3270(1), telnet(1), tn3270(1) Data Stream Programmers
Reference, IBM GA23-0059 Character Set Reference, IBM
GA27-3831 RFC 1576, TN3270 Current Practices RFC 1646,
TN3270 Extensions for LUname and Printer Selection RFC 2355,
TN3270 Enhancements</p>

<p>COPYRIGHTS Copyright 1993-2014, Paul Mattes. Copyright
2004-2005, Don Russell. Copyright 2004, Dick Altenbern.
Copyright 1990, Jeff Sparkes. Copyright 1989, Georgia Tech
Research Corporation (GTRC), Atlanta, GA 30332. All rights
reserved.</p>

<p>Redistribution and use in source and binary forms, with
or without modification, are permitted provided that the
following conditions are met:</p>

<p>* Redistributions of source code must retain the above
copyright notice, this list of conditions and the following
disclaimer.</p>

<p>* Redistributions in binary form must reproduce the
above copyright notice, this list of conditions and the
following disclaimer in the documentation and/or other
materials provided with the distribution.</p>

<p>* Neither the names of Paul Mattes, Don Russell, Dick
Altenbern, Jeff Sparkes, GTRC nor the names of their
contributors may be used to endorse or promote products
derived from this software without specific prior written
permission.</p>

<p>THIS SOFTWARE IS PROVIDED BY PAUL MATTES, DON RUSSELL,
DICK ALTENBERN, JEFF SPARKES AND GTRC &quot;AS IS&quot; AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL PAUL MATTES, DON RUSSELL, DICK ALTENBERN, JEFF SPARKES
OR GTRC BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.</p>

<p>VERSION c3270 3.3.15ga9</p>

<p>28 May 2015 c3270(1)</p>
<hr>
</body>
</html>
