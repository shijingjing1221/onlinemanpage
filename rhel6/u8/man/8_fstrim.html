<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:13:46 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>FSTRIM(8) FSTRIM(8)</p>

<p>NAME fstrim - discard unused blocks on a mounted
filesystem</p>

<p>SYNOPSIS fstrim [-o offset] [-l length] [-m
minimum-free-extent] [-v] mountpoint</p>

<p>DESCRIPTION fstrim is used on a mounted filesystem to
discard (or &quot;trim&quot;) blocks which are not in use by
the filesystem. This is useful for solid-state drives (SSDs)
and thinly-provisioned storage.</p>

<p>By default, fstrim will discard all unused blocks in the
filesystem. Options may be used to modify this behavior
based on range or size, as explained below.</p>

<p>The mountpoint argument is the pathname of the directory
where the filesystem is mounted.</p>

<p>OPTIONS The offset, length, and minimum-free-extent
arguments may be followed by binary (2^N) suffixes KiB, MiB,
GiB, TiB, PiB and EiB (the &quot;iB&quot; is optional, e.g.
&quot;K&quot; has the same meaning as &quot;KiB&quot;) or
decimal (10^N) suffixes KB, MB, GB, PB and EB.</p>

<p>-h, --help Print help and exit.</p>

<p>-o, --offset offset Byte offset in filesystem from which
to begin searching for free blocks to discard. Default value
is zero, starting at the beginning of the filesystem.</p>

<p>-l, --length length Number of bytes after starting point
to search for free blocks to discard. If the specified value
extends past the end of the filesystem, fstrim will stop at
the filesystem size boundary. Default value extends to the
end of the filesystem.</p>

<p>-m, --minimum minimum-free-extent Minimum contiguous
free range to discard, in bytes. (This value is internally
rounded up to a multiple of the filesystem block size). Free
ranges smaller than this will be ignored. By increasing this
value, the fstrim operation will complete more quickly for
filesystems with badly fragmented freespace, although not
all blocks will be discarded. Default value is zero, discard
every free block.</p>

<p>-v, --verbose Verbose execution. When specified fstrim
will output the number of bytes passed from the filesystem
down the block stack to the device for potential discard.
This number is a maximum discard amount from the storage
device s perspective, because FITRIM ioctl called repeated
will keep sending the same sectors for discard
repeatedly.</p>

<p>fstrim will report the same potential discard bytes each
time, but only sectors which had been written to between the
discards would actually be discarded by the storage device.
Further, the kernel block layer reserves the right to adjust
the discard ranges to fit raid stripe geometry, non-trim
capable devices in a LVM setup, etc. These reductions would
not be reflected in fstrim_range.len (the --length
option).</p>

<p>AUTHOR Lukas Czerner &lt;lczerner@redhat.com&gt; Karel
Zak &lt;kzak@redhat.com&gt;</p>

<p>SEE ALSO mount(8)</p>

<p>AVAILABILITY The fstrim command is part of the
util-linux-ng package and is avail- able from
ftp://ftp.kernel.org/pub/linux/utils/util-linux-ng/.</p>

<p>Nov 2010 FSTRIM(8)</p>
<hr>
</body>
</html>
