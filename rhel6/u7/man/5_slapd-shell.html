<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:34:36 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>SLAPD-SHELL(5) SLAPD-SHELL(5)</p>

<p>NAME slapd-shell - Shell backend to slapd</p>

<p>SYNOPSIS /etc/openldap/slapd.conf</p>

<p>DESCRIPTION The Shell backend to slapd(8) executes
external programs to implement operations, and is designed
to make it easy to tie an existing database to the slapd
front-end.</p>

<p>This backend is primarily intended to be used in
prototypes.</p>

<p>WARNING The abandon shell command has been removed since
OpenLDAP 2.1.</p>

<p>CONFIGURATION These slapd.conf options apply to the
SHELL backend database. That is, they must follow a
&quot;database shell&quot; line and come before any
subsequent &quot;backend&quot; or &quot;database&quot;
lines. Other database options are described in the
slapd.conf(5) manual page.</p>

<p>These options specify the pathname and arguments of the
program to exe- cute in response to the given LDAP
operation. Each option is followed by the input lines that
the program receives:</p>

<p>add &lt;pathname&gt; &lt;argument&gt;... ADD msgid:
&lt;message id&gt; &lt;repeat { &quot;suffix:&quot;
&lt;database suffix DN&gt; }&gt; &lt;entry in LDIF
format&gt;</p>

<p>bind &lt;pathname&gt; &lt;argument&gt;... BIND msgid:
&lt;message id&gt; &lt;repeat { &quot;suffix:&quot;
&lt;database suffix DN&gt; }&gt; dn: &lt;DN&gt; method:
&lt;method number&gt; credlen: &lt;length of
&lt;credentials&gt;&gt; cred: &lt;credentials&gt;</p>

<p>compare &lt;pathname&gt; &lt;argument&gt;... COMPARE
msgid: &lt;message id&gt; &lt;repeat { &quot;suffix:&quot;
&lt;database suffix DN&gt; }&gt; dn: &lt;DN&gt;
&lt;attribute&gt;: &lt;value&gt;</p>

<p>delete &lt;pathname&gt; &lt;argument&gt;... DELETE
msgid: &lt;message id&gt; &lt;repeat { &quot;suffix:&quot;
&lt;database suffix DN&gt; }&gt; dn: &lt;DN&gt;</p>

<p>modify &lt;pathname&gt; &lt;argument&gt;... MODIFY
msgid: &lt;message id&gt; &lt;repeat { &quot;suffix:&quot;
&lt;database suffix DN&gt; }&gt; dn: &lt;DN&gt; &lt;repeat {
&lt;&quot;add&quot;/&quot;delete&quot;/&quot;replace&quot;&gt;:
&lt;attribute&gt; &lt;repeat { &lt;attribute&gt;:
&lt;value&gt; }&gt; - }&gt;</p>

<p>modrdn &lt;pathname&gt; &lt;argument&gt;... MODRDN
msgid: &lt;message id&gt; &lt;repeat { &quot;suffix:&quot;
&lt;database suffix DN&gt; }&gt; dn: &lt;DN&gt; newrdn:
&lt;new RDN&gt; deleteoldrdn: &lt;0 or 1&gt; &lt;if new
superior is specified: &quot;newSuperior:
&lt;DN&gt;&quot;&gt;</p>

<p>search &lt;pathname&gt; &lt;argument&gt;... SEARCH
msgid: &lt;message id&gt; &lt;repeat { &quot;suffix:&quot;
&lt;database suffix DN&gt; }&gt; base: &lt;base DN&gt;
scope: &lt;0-2, see ldap.h&gt; deref: &lt;0-3, see
ldap.h&gt; sizelimit: &lt;size limit&gt; timelimit: &lt;time
limit&gt; filter: &lt;filter&gt; attrsonly: &lt;0 or 1&gt;
attrs: &lt;&quot;all&quot; or space-separated attribute
list&gt;</p>

<p>unbind &lt;pathname&gt; &lt;argument&gt;... UNBIND
msgid: &lt;message id&gt; &lt;repeat { &quot;suffix:&quot;
&lt;database suffix DN&gt; }&gt; dn: &lt;bound DN&gt;</p>

<p>Note that you need only supply configuration lines for
those commands you want the backend to handle. Operations
for which a command is not supplied will be refused with an
&quot;unwilling to perform&quot; error.</p>

<p>The search command should output the entries in LDIF
format, each entry followed by a blank line, and after these
the RESULT below.</p>

<p>All commands except unbind should then output: RESULT
code: &lt;integer&gt; matched: &lt;matched DN&gt; info:
&lt;text&gt; where only the RESULT line is mandatory. Lines
starting with # or DEBUG: are ignored.</p>

<p>ACCESS CONTROL The shell backend does not honor all ACL
semantics as described in slapd.access(5). In general,
access to objects is checked by using a dummy object that
contains only the DN, so access rules that rely on the
contents of the object are not honored. In detail:</p>

<p>The add operation does not require write (=w) access to
the children pseudo-attribute of the parent entry.</p>

<p>The bind operation requires auth (=x) access to the
entry pseudo- attribute of the entry whose identity is being
assessed; auth (=x) access to the credentials is not
checked, but rather delegated to the underlying shell
script.</p>

<p>The compare operation requires read (=r) access (FIXME:
wouldnt com- pare (=c) be a more appropriate choice?) to the
entry pseudo-attribute of the object whose value is being
asserted; compare (=c) access to the attribute whose value
is being asserted is not checked.</p>

<p>The delete operation does not require write (=w) access
to the children pseudo-attribute of the parent entry.</p>

<p>The modify operation requires write (=w) access to the
entry pseudo- attribute; write (=w) access to the specific
attributes that are modi- fied is not checked.</p>

<p>The modrdn operation does not require write (=w) access
to the children pseudo-attribute of the parent entry, nor to
that of the new parent, if different; write (=w) access to
the distinguished values of the naming attributes is not
checked.</p>

<p>The search operation does not require search (=s) access
to the entry pseudo_attribute of the searchBase; search (=s)
access to the attributes and values used in the filter is
not checked.</p>

<p>EXAMPLE There is an example search script in the
slapd/back-shell/ directory in the OpenLDAP source tree.</p>

<p>LIMITATIONS The shell backend does not support threaded
environments. When using the shell backend, slapd(8) should
be built --without-threads.</p>

<p>FILES /etc/openldap/slapd.conf default slapd
configuration file</p>

<p>SEE ALSO slapd.conf(5), slapd(8), sh(1).</p>

<p>OpenLDAP 2.4.40 2014/09/20 SLAPD-SHELL(5)</p>
<hr>
</body>
</html>
