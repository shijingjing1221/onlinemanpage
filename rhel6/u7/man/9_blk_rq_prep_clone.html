<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:06:05 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>BLK_RQ_PREP_CLONE(9) Block Devices
BLK_RQ_PREP_CLONE(9)</p>

<p>NAME blk_rq_prep_clone - Helper function to setup clone
request</p>

<p>SYNOPSIS int blk_rq_prep_clone(struct request * rq,
struct request * rq_src, struct bio_set * bs, gfp_t
gfp_mask, int (*bio_ctr) (struct bio *, struct bio *, void
*), void * data);</p>

<p>ARGUMENTS rq the request to be setup</p>

<p>rq_src original request to be cloned</p>

<p>bs bio_set that bios for clone are allocated from</p>

<p>gfp_mask memory allocation mask for bio</p>

<p>bio_ctr setup function to be called for each clone bio.
Returns 0 for success, non 0 for failure.</p>

<p>data private data to be passed to bio_ctr</p>

<p>DESCRIPTION Clones bios in rq_src to rq, and copies
attributes of rq_src to rq. The actual data parts of rq_src
(e.g. -&gt;cmd, -&gt;buffer, -&gt;sense) are not copied, and
copying such parts is the caller&acute;s responsibility.
Also, pages which the original bios are pointing to are not
copied and the cloned bios just point same pages. So cloned
bios must be completed before original bios, which means the
caller must complete rq before rq_src.</p>

<p>COPYRIGHT Kernel Hackers Manual 2.6. July 2015
BLK_RQ_PREP_CLONE(9)</p>
<hr>
</body>
</html>
