<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:10:13 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>DOVEADM-FETCH(1) Dovecot DOVEADM-FETCH(1)</p>

<p>NAME doveadm-fetch - Fetch partial/full messages or
message information</p>

<p>SYNOPSIS doveadm [-Dv] [-f formatter] fetch [-S
socket_path] fields search_query doveadm [-Dv] [-f
formatter] fetch [-S socket_path] -A fields search_query
doveadm [-Dv] [-f formatter] fetch [-S socket_path] -u user
fields search_query</p>

<p>DESCRIPTION doveadm fetch can be used to fetch
messages&rsquo; contents and metadata. This can be useful
for scripts and for debugging. If you want to fetch messages
one at a time, see doveadm-search(1).</p>

<p>Important: Please respect your users&rsquo; privacy.</p>

<p>OPTIONS Global doveadm(1) options:</p>

<p>-D Enables verbosity and debug messages.</p>

<p>-f formatter Specifies the formatter for formatting the
output. Supported formatters are:</p>

<p>flow prints each line with key=value pairs.</p>

<p>pager prints each key: value pair on its own line and
separates records with form feed character (^L).</p>

<p>tab prints a table header followed by tab separated
value lines.</p>

<p>table prints a table header followed by adjusted value
lines.</p>

<p>-v Enables verbosity, including progress counter.</p>

<p>This command uses by default the output formatter
pager.</p>

<p>Command specific options:</p>

<p>-A If the -A option is present, the command will be
performed for all users. Using this option in combination
with system users from userdb { driver = passwd } is not
recommended, because it contains also users with a lower UID
than the one configured with the first_valid_uid
setting.</p>

<p>When the SQL userdb module is used make sure that the
iter- ate_query setting in /etc/dovecot/dovecot-sql.conf.ext
matches your database layout. When using the LDAP userdb
module, make sure that the iterate_attrs and iterate_filter
settings in /etc/dovecot/dovecot-ldap.conf.ext match your
LDAP schema. Oth- erwise doveadm(1) will be unable to
iterate over all users.</p>

<p>-S socket_path The option&rsquo;s argument is either an
absolute path to a local UNIX domain socket, or a hostname
and port (hostname:port), in order to connect a remote host
via a TCP socket.</p>

<p>This allows an administrator to execute doveadm(1) mail
commands through the given socket.</p>

<p>-u user/mask Run the command only for the given user.
It&rsquo;s also possible to use &rsquo;*&rsquo; and
&rsquo;?&rsquo; wildcards (e.g. -u *@example.org). When
neither the -A option nor -u user was specified, the com-
mand will be executed with the environment of the currently
logged in user.</p>

<p>ARGUMENTS fields One or more result field names to
display, if the search_query matches any messages. In order
to specify multiple fields, enclose them in single or double
quotes. Supported fields are:</p>

<p>body The body of a message.</p>

<p>date.received Date and time of final delivery, when the
message was delivered to a user&rsquo;s mailbox for the
first time. The internal date and time of the source
message, when the message was copied by the IMAP COPY
command. The date-time attribute when present, otherwise the
cur- rent time, when the message was saved by the IMAP
APPEND command.</p>

<p>date.saved Date and time when the message was saved to
mailbox.</p>

<p>date.sent Date and time of the message&rsquo;s Date:
header.</p>

<p>flags A message&rsquo;s IMAP flags, e.g. n</p>

<p>guid A message&rsquo;s globally unique identifier.</p>

<p>hdr The header of the message.</p>

<p>imap.body IMAP BODY output of the message (see RFC
3501).</p>

<p>imap.bodystructure IMAP BODYSTRUCTURE output of the
message (see RFC 3501).</p>

<p>imap.envelope IMAP ENVELOPE output of the message (see
RFC 3501).</p>

<p>mailbox Name of the mailbox, in which the message is
stored. The name is in UTF-8.</p>

<p>mailbox-guid The globally unique identifier of the
mailbox, in which the message is located.</p>

<p>seq A message&rsquo;s sequence number in a mailbox.</p>

<p>size.physical A message&rsquo;s physical size.</p>

<p>size.virtual A message&rsquo;s virtual size, computed
with CRLF line termi- nators.</p>

<p>text The entire message (header and body).</p>

<p>uid A message&rsquo;s unique (IMAP) identifier in a
mailbox.</p>

<p>user A message owner&rsquo;s login name.</p>

<p>search_query Fetch messages matching this search query.
See doveadm-search-query(7) for details.</p>

<p>EXAMPLE This example based on the first example from
doveadm-search(1). We are fetching the fields mailbox and
date.sent from user bob&rsquo;s mailbox with the guid
&quot;3a94c928d66ebe4bda04000015811c6a&quot; for the
messages with the UIDs 8, 25 and 45.</p>

<p>doveadm fetch -u bob &quot;mailbox date.sent&quot;
mailbox-guid 3a94c928d66ebe4bda04000015811c6a uid 8,25,45
mailbox: dovecot/pigeonhole/2.0 date.sent: 2010-01-19
01:17:41 (+0100) ^L mailbox: dovecot/pigeonhole/2.0
date.sent: 2010-01-28 09:38:49 (+0100) ^L mailbox:
dovecot/pigeonhole/2.0 date.sent: 2010-03-28 18:41:14
(+0200) ^L</p>

<p>REPORTING BUGS Report bugs, including doveconf -n
output, to the Dovecot Mailing List
&lt;dovecot@dovecot.org&gt;. Information about reporting
bugs is available at: http://dovecot.org/bugreport.html</p>

<p>SEE ALSO doveadm(1), doveadm-search(1),
doveadm-search-query(7)</p>

<p>Dovecot v2.0 2010-11-25 DOVEADM-FETCH(1)</p>
<hr>
</body>
</html>
