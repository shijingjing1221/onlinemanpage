<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:15:18 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>GETSOCKOPT(3P) POSIX Programmer s Manual
GETSOCKOPT(3P)</p>

<p>PROLOG This manual page is part of the POSIX Programmer
s Manual. The Linux implementation of this interface may
differ (consult the corresponding Linux manual page for
details of Linux behavior), or the interface may not be
implemented on Linux.</p>

<p>NAME getsockopt - get the socket options</p>

<p>SYNOPSIS #include &lt;sys/socket.h&gt;</p>

<p>int getsockopt(int socket, int level, int option_name,
void *restrict option_value, socklen_t *restrict
option_len);</p>

<p>DESCRIPTION The getsockopt() function manipulates
options associated with a socket.</p>

<p>The getsockopt() function shall retrieve the value for
the option spec- ified by the option_name argument for the
socket specified by the socket argument. If the size of the
option value is greater than option_len, the value stored in
the object pointed to by the option_value argument shall be
silently truncated. Otherwise, the object pointed to by the
option_len argument shall be modified to indi- cate the
actual length of the value.</p>

<p>The level argument specifies the protocol level at which
the option resides. To retrieve options at the socket level,
specify the level argument as SOL_SOCKET. To retrieve
options at other levels, supply the appropriate level
identifier for the protocol controlling the option. For
example, to indicate that an option is interpreted by the
TCP (Transmission Control Protocol), set level to
IPPROTO_TCP as defined in the &lt;netinet/in.h&gt;
header.</p>

<p>The socket in use may require the process to have
appropriate privi- leges to use the getsockopt()
function.</p>

<p>The option_name argument specifies a single option to be
retrieved. It can be one of the following values defined in
&lt;sys/socket.h&gt;:</p>

<p>SO_DEBUG Reports whether debugging information is being
recorded. This option shall store an int value. This is a
Boolean option.</p>

<p>SO_ACCEPTCONN Reports whether socket listening is
enabled. This option shall store an int value. This is a
Boolean option.</p>

<p>SO_BROADCAST Reports whether transmission of broadcast
messages is supported, if this is supported by the protocol.
This option shall store an int value. This is a Boolean
option.</p>

<p>SO_REUSEADDR Reports whether the rules used in
validating addresses supplied to bind() should allow reuse
of local addresses, if this is sup- ported by the protocol.
This option shall store an int value. This is a Boolean
option.</p>

<p>SO_KEEPALIVE Reports whether connections are kept active
with periodic trans- mission of messages, if this is
supported by the protocol.</p>

<p>If the connected socket fails to respond to these
messages, the connec- tion shall be broken and threads
writing to that socket shall be noti- fied with a SIGPIPE
signal. This option shall store an int value. This is a
Boolean option.</p>

<p>SO_LINGER Reports whether the socket lingers on close()
if data is present. If SO_LINGER is set, the system blocks
the process during close() until it can transmit the data or
until the end of the interval indicated by the l_linger
member, whichever comes first. If SO_LINGER is not
specified, and close() is issued, the system handles the
call in a way that allows the process to continue as quickly
as possible. This option shall store a linger structure.</p>

<p>SO_OOBINLINE Reports whether the socket leaves received
out-of-band data (data marked urgent) inline. This option
shall store an int value. This is a Boolean option.</p>

<p>SO_SNDBUF Reports send buffer size information. This
option shall store an int value.</p>

<p>SO_RCVBUF Reports receive buffer size information. This
option shall store an int value.</p>

<p>SO_ERROR Reports information about error status and
clears it. This option shall store an int value.</p>

<p>SO_TYPE Reports the socket type. This option shall store
an int value. Socket types are described in Socket Types
.</p>

<p>SO_DONTROUTE Reports whether outgoing messages bypass
the standard routing facilities. The destination shall be on
a directly-connected network, and messages are directed to
the appropriate network interface according to the
destination address. The effect, if any, of this option
depends on what protocol is in use. This option shall store
an int value. This is a Boolean option.</p>

<p>SO_RCVLOWAT Reports the minimum number of bytes to
process for socket input operations. The default value for
SO_RCVLOWAT is 1. If SO_RCVLOWAT is set to a larger value,
blocking receive calls normally wait until they have
received the smaller of the low water mark value or the
requested amount. (They may return less than the low water
mark if an error occurs, a signal is caught, or the type of
data next in the receive queue is different from that
returned; for example, out-of-band data.) This option shall
store an int value. Note that not all implementations allow
this option to be retrieved.</p>

<p>SO_RCVTIMEO Reports the timeout value for input
operations. This option shall store a timeval structure with
the number of seconds and microseconds specifying the limit
on how long to wait for an input operation to complete. If a
receive operation has blocked for this much time without
receiving additional data, it shall return with a partial
count or errno set to [EAGAIN] or [EWOULD- BLOCK] if no data
was received. The default for this option is zero, which
indicates that a receive operation shall not time out. Note
that not all implementations allow this option to be
retrieved.</p>

<p>SO_SNDLOWAT Reports the minimum number of bytes to
process for socket output operations. Non-blocking output
operations shall process no data if flow control does not
allow the smaller of the send low water mark value or the
entire request to be processed. This option shall store an
int value. Note that not all implementa- tions allow this
option to be retrieved.</p>

<p>SO_SNDTIMEO Reports the timeout value specifying the
amount of time that an output function blocks because flow
control prevents data from being sent. If a send operation
has blocked for this time, it shall return with a partial
count or with errno set to [EAGAIN] or [EWOULDBLOCK] if no
data was sent. The default for this option is zero, which
indicates that a send operation shall not time out. The
option shall store a timeval structure. Note that not all
implementations allow this option to be retrieved.</p>

<p>For Boolean options, a zero value indicates that the
option is disabled and a non-zero value indicates that the
option is enabled.</p>

<p>RETURN VALUE Upon successful completion, getsockopt()
shall return 0; otherwise, -1 shall be returned and errno
set to indicate the error.</p>

<p>ERRORS The getsockopt() function shall fail if:</p>

<p>EBADF The socket argument is not a valid file
descriptor.</p>

<p>EINVAL The specified option is invalid at the specified
socket level.</p>

<p>ENOPROTOOPT</p>

<p>The option is not supported by the protocol.</p>

<p>ENOTSOCK The socket argument does not refer to a
socket.</p>

<p>The getsockopt() function may fail if:</p>

<p>EACCES The calling process does not have the appropriate
privileges.</p>

<p>EINVAL The socket has been shut down.</p>

<p>ENOBUFS Insufficient resources are available in the
system to complete the function.</p>

<p>The following sections are informative.</p>

<p>EXAMPLES None.</p>

<p>APPLICATION USAGE None.</p>

<p>RATIONALE None.</p>

<p>FUTURE DIRECTIONS None.</p>

<p>SEE ALSO bind(), close(), endprotoent(), setsockopt(),
socket(), the Base Defi- nitions volume of IEEE Std
1003.1-2001, &lt;sys/socket.h&gt;, &lt;netinet/in.h&gt;</p>

<p>COPYRIGHT Portions of this text are reprinted and
reproduced in electronic form from IEEE Std 1003.1, 2003
Edition, Standard for Information Technology -- Portable
Operating System Interface (POSIX), The Open Group Base
Specifications Issue 6, Copyright (C) 2001-2003 by the
Institute of Electrical and Electronics Engineers, Inc and
The Open Group. In the event of any discrepancy between this
version and the original IEEE and The Open Group Standard,
the original IEEE and The Open Group Standard is the referee
document. The original Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>

<p>IEEE/The Open Group 2003 GETSOCKOPT(3P)</p>
<hr>
</body>
</html>
