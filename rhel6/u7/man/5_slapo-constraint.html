<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:34:37 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>SLAPO-CONSTRAINT(5) SLAPO-CONSTRAINT(5)</p>

<p>NAME slapo-constraint - Attribute Constraint Overlay to
slapd</p>

<p>SYNOPSIS /etc/openldap/slapd.conf</p>

<p>DESCRIPTION The constraint overlay is used to ensure
that attribute values match some constraints beyond basic
LDAP syntax. Attributes can have multi- ple constraints
placed upon them, and all must be satisfied when modi- fying
an attribute value under constraint.</p>

<p>This overlay is intended to be used to force syntactic
regularity upon certain string represented data which have
well known canonical forms, like telephone numbers, post
codes, FQDNs, etc.</p>

<p>It constrains only LDAP add, modify and rename commands
and only seeks to control the add and replace values of
modify and rename requests.</p>

<p>No constraints are applied for operations performed with
the relax con- trol set.</p>

<p>CONFIGURATION This slapd.conf option applies to the
constraint overlay. It should appear after the overlay
directive.</p>

<p>constraint_attribute &lt;attribute_name&gt;[,...]
&lt;type&gt; &lt;value&gt; [&lt;extra&gt; [...]] Specifies
the constraint which should apply to the comma-sepa- rated
attribute list named as the first parameter. Five types of
constraint are currently supported - regex, size, count,
uri, and set.</p>

<p>The parameter following the regex type is a Unix style
regular expression (See regex(7) ). The parameter following
the uri type is an LDAP URI. The URI will be evaluated using
an internal search. It must not include a hostname, and it
must include a list of attributes to evaluate.</p>

<p>The parameter following the set type is a string that is
inter- preted according to the syntax in use for ACL sets.
This allows to construct constraints based on the contents
of the entry.</p>

<p>The size type can be used to enforce a limit on an
attribute length, and the count type limits the number of
values of an attribute.</p>

<p>Extra parameters can occur in any order after those
described above.</p>

<p>&lt;extra&gt; : restrict=&lt;uri&gt;</p>

<p>This extra parameter allows to restrict the application
of the corresponding constraint only to entries that match
the base, scope and filter portions of the LDAP URI. The
base, if present, must be within the naming context of the
database. The scope is only used when the base is present;
it defaults to base. The other parameters of the URI are not
allowed.</p>

<p>Any attempt to add or modify an attribute named as part
of the con- straint overlay specification which does not fit
the constraint listed will fail with a
LDAP_CONSTRAINT_VIOLATION error.</p>

<p>EXAMPLES overlay constraint constraint_attribute
jpegPhoto size 131072 constraint_attribute userPassword
count 3 constraint_attribute mail regex
^[[:alnum:]]+@mydomain.com$ constraint_attribute title uri
ldap:///dc=catalog,dc=example,dc=com?title?sub?(objectClass=titleCatalog)
constraint_attribute cn,sn,givenName set
&quot;(this/givenName + [ ] + this/sn) &amp; this/cn&quot;
restrict=&quot;ldap:///ou=People,dc=example,dc=com??sub?(objectClass=inetOrgPerson)&quot;</p>

<p>A specification like the above would reject any mail
attribute which did not look like &lt;alpha-numeric
string&gt;@mydomain.com. It would also reject any title
attribute whose values were not listed in the title
attribute of any titleCatalog entries in the given scope.
(Note that the &quot;dc=catalog,dc=example,dc=com&quot;
subtree ought to reside in a sepa- rate database, otherwise
the initial set of titleCatalog entries could not be
populated while the constraint is in effect.) Finally, it
requires the values of the attribute cn to be constructed by
pairing values of the attributes sn and givenName, separated
by a space, but only for entries derived from the
objectClass inetOrgPerson.</p>

<p>FILES /etc/openldap/slapd.conf default slapd
configuration file</p>

<p>SEE ALSO slapd.conf(5), slapd-config(5),</p>

<p>ACKNOWLEDGEMENTS This module was written in 2005 by Neil
Dunbar of Hewlett-Packard and subsequently extended by
Howard Chu and Emmanuel Dreyfus. OpenLDAP Software is
developed and maintained by The OpenLDAP Project
&lt;http://www.openldap.org/&gt;. OpenLDAP Software is
derived from Univer- sity of Michigan LDAP 3.3 Release.</p>

<p>OpenLDAP 2.4.40 2014/09/20 SLAPO-CONSTRAINT(5)</p>
<hr>
</body>
</html>
