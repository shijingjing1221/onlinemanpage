<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:31:14 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>RELOCATED(5) RELOCATED(5)</p>

<p>NAME relocated - Postfix relocated table format</p>

<p>SYNOPSIS postmap /etc/postfix/relocated</p>

<p>DESCRIPTION The optional relocated(5) table provides the
information that is used in &quot;user has moved to
new_location&quot; bounce messages.</p>

<p>Normally, the relocated(5) table is specified as a text
file that serves as input to the postmap(1) command. The
result, an indexed file in dbm or db format, is used for
fast searching by the mail system. Execute the command
&quot;postmap /etc/postfix/relocated&quot; to rebuild an
indexed file after changing the corresponding relocated
table.</p>

<p>When the table is provided via other means such as NIS,
LDAP or SQL, the same lookups are done as for ordinary
indexed files.</p>

<p>Alternatively, the table can be provided as a
regular-expression map where patterns are given as regular
expressions, or lookups can be directed to TCP-based server.
In those case, the lookups are done in a slightly different
way as described below under &quot;REGULAR EXPRESSION
TABLES&quot; or &quot;TCP-BASED TABLES&quot;.</p>

<p>Table lookups are case insensitive.</p>

<p>CASE FOLDING The search string is folded to lowercase
before database lookup. As of Postfix 2.3, the search string
is not case folded with database types such as regexp: or
pcre: whose lookup fields can match both upper and lower
case.</p>

<p>TABLE FORMAT The input format for the postmap(1) command
is as follows:</p>

<p>&middot; An entry has one of the following form:</p>

<p>pattern new_location</p>

<p>Where new_location specifies contact information such as
an email address, or perhaps a street address or telephone
number.</p>

<p>&middot; Empty lines and whitespace-only lines are
ignored, as are lines whose first non-whitespace character
is a #.</p>

<p>&middot; A logical line starts with non-whitespace text.
A line that starts with whitespace continues a logical
line.</p>

<p>TABLE SEARCH ORDER With lookups from indexed files such
as DB or DBM, or from networked tables such as NIS, LDAP or
SQL, patterns are tried in the order as listed below:</p>

<p>user@domain Matches user@domain. This form has
precedence over all other forms.</p>

<p>user Matches user@site when site is $myorigin, when site
is listed in $mydestination, or when site is listed in
$inet_interfaces or $proxy_interfaces.</p>

<p>@domain Matches other addresses in domain. This form has
the lowest precedence.</p>

<p>ADDRESS EXTENSION When a mail address localpart contains
the optional recipient delimiter (e.g., user+foo@domain),
the lookup order becomes: user+foo@domain, user@domain,
user+foo, user, and @domain.</p>

<p>REGULAR EXPRESSION TABLES This section describes how the
table lookups change when the table is given in the form of
regular expressions or when lookups are directed to a
TCP-based server. For a description of regular expression
lookup table syntax, see regexp_table(5) or pcre_table(5).
For a description of the TCP client/server table lookup
protocol, see tcp_table(5). This feature is not available up
to and including Postfix version 2.4.</p>

<p>Each pattern is a regular expression that is applied to
the entire address being looked up. Thus, user@domain mail
addresses are not bro- ken up into their user and @domain
constituent parts, nor is user+foo broken up into user and
foo.</p>

<p>Patterns are applied in the order as specified in the
table, until a pattern is found that matches the search
string.</p>

<p>Results are the same as with indexed file lookups, with
the additional feature that parenthesized substrings from
the pattern can be interpo- lated as $1, $2 and so on.</p>

<p>TCP-BASED TABLES This section describes how the table
lookups change when lookups are directed to a TCP-based
server. For a description of the TCP client/server lookup
protocol, see tcp_table(5). This feature is not available up
to and including Postfix version 2.4.</p>

<p>Each lookup operation uses the entire address once.
Thus, user@domain mail addresses are not broken up into
their user and @domain con- stituent parts, nor is user+foo
broken up into user and foo.</p>

<p>Results are the same as with indexed file lookups.</p>

<p>BUGS The table format does not understand quoting
conventions.</p>

<p>CONFIGURATION PARAMETERS The following main.cf
parameters are especially relevant. The text below provides
only a parameter summary. See postconf(5) for more details
including examples.</p>

<p>relocated_maps List of lookup tables for relocated users
or sites.</p>

<p>Other parameters of interest:</p>

<p>inet_interfaces The network interface addresses that
this system receives mail on. You need to stop and start
Postfix when this parameter changes.</p>

<p>mydestination List of domains that this mail system
considers local.</p>

<p>myorigin The domain that is appended to locally-posted
mail.</p>

<p>proxy_interfaces Other interfaces that this machine
receives mail on by way of a proxy agent or network address
translator.</p>

<p>SEE ALSO trivial-rewrite(8), address resolver
postmap(1), Postfix lookup table manager postconf(5),
configuration parameters</p>

<p>README FILES Use &quot;postconf readme_directory&quot;
or &quot;postconf html_directory&quot; to locate this
information. DATABASE_README, Postfix lookup table overview
ADDRESS_REWRITING_README, address rewriting guide</p>

<p>LICENSE The Secure Mailer license must be distributed
with this software.</p>

<p>AUTHOR(S) Wietse Venema IBM T.J. Watson Research P.O.
Box 704 Yorktown Heights, NY 10598, USA</p>

<p>RELOCATED(5)</p>
<hr>
</body>
</html>
