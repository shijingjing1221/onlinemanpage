<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:28:06 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>PMDASYSTEMTAP(1) PMDASYSTEMTAP(1)</p>

<p>NAME pmdasystemtap - systemtap performance metrics
domain agent (PMDA)</p>

<p>DESCRIPTION pmdasystemtap is a Performance Metrics
Domain Agent (PMDA) which exports metric values from the
Linux systemtap dynamic tracing toolkit.</p>

<p>This implementation uses the stap(1) tool, which is a
front-end to the systemtap toolkit.</p>

<p>INSTALLATION In order to access performance data
exported by systemtap from with PCP, it is necessary to
perform two configuration steps.</p>

<p>Firstly, configure systemtap probes, and verify them
with stap(1). These should be produced in a format that is
easily parsed, and then stored in the
$PCP_PMDAS_DIR/systemtap/probes.stp file.</p>

<p>Then pmdasystemtap must be configured to extract the
values from the text produced by stap. Two example probes
are implemented in the default systemtap PMDA script -
readdir and sync traces (see
$PCP_PMDAS_DIR/systemtap/pmdasystemtap.pl for details).</p>

<p># cd $PCP_PMDAS_DIR/systemtap # [ edit probes.stp, test
/usr/bin/stap probes.stp ] # [ edit pmdasystemtap.pl ]</p>

<p>Once this is setup, you can access the names and values
for the system- tap performance metrics by doing the
following as root:</p>

<p># cd $PCP_PMDAS_DIR/systemtap # ./Install</p>

<p>To uninstall, do the following as root:</p>

<p># cd $PCP_PMDAS_DIR/systemtap # ./Remove</p>

<p>pmdasystemtap is launched by pmcd(1) and should never be
executed directly. The Install and Remove scripts notify
pmcd(1) when the agent is installed or removed.</p>

<p>FILES $PCP_PMDAS_DIR/systemtap/probes.stp probe
configuration file for stap(1), run by pmdasystemtap</p>

<p>$PCP_PMDAS_DIR/systemtap/Install installation script for
the pmdasystemtap agent</p>

<p>$PCP_PMDAS_DIR/systemtap/Remove undo installation script
for the pmdasystemtap agent</p>

<p>$PCP_LOG_DIR/pmcd/systemtap.log default log file for
error messages from pmdasystemtap</p>

<p>PCP ENVIRONMENT Environment variables with the prefix
PCP_ are used to parameterize the file and directory names
used by PCP. On each installation, the file /etc/pcp.conf
contains the local values for these variables. The $PCP_CONF
variable may be used to specify an alternative configuration
file, as described in pcp.conf(5).</p>

<p>SEE ALSO PCPIntro(1), pmcd(1) and stap(1).</p>

<p>Performance Co-Pilot PCP PMDASYSTEMTAP(1)</p>
<hr>
</body>
</html>
