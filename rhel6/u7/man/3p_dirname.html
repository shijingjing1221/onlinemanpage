<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:09:51 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>DIRNAME(3P) POSIX Programmer s Manual DIRNAME(3P)</p>

<p>PROLOG This manual page is part of the POSIX Programmer
s Manual. The Linux implementation of this interface may
differ (consult the corresponding Linux manual page for
details of Linux behavior), or the interface may not be
implemented on Linux.</p>

<p>NAME dirname - report the parent directory name of a
file pathname</p>

<p>SYNOPSIS #include &lt;libgen.h&gt;</p>

<p>char *dirname(char *path);</p>

<p>DESCRIPTION The dirname() function shall take a pointer
to a character string that contains a pathname, and return a
pointer to a string that is a path- name of the parent
directory of that file. Trailing / characters in the path
are not counted as part of the path.</p>

<p>If path does not contain a, then dirname() shall return
a pointer to the string &quot;.&quot; . If path is a null
pointer or points to an empty string, dirname() shall return
a pointer to the string &quot;.&quot; .</p>

<p>The dirname() function need not be reentrant. A function
that is not required to be reentrant is not required to be
thread-safe.</p>

<p>RETURN VALUE The dirname() function shall return a
pointer to a string that is the parent directory of path. If
path is a null pointer or points to an empty string, a
pointer to a string &quot;.&quot; is returned.</p>

<p>The dirname() function may modify the string pointed to
by path, and may return a pointer to static storage that may
then be overwritten by subsequent calls to dirname().</p>

<p>ERRORS No errors are defined.</p>

<p>The following sections are informative.</p>

<p>EXAMPLES The following code fragment reads a pathname,
changes the current work- ing directory to the parent
directory, and opens the file.</p>

<p>char path[PATH_MAX], *pathcopy; int fd; fgets(path,
PATH_MAX, stdin); pathcopy = strdup(path);
chdir(dirname(pathcopy)); fd = open(basename(path),
O_RDONLY);</p>

<p>Sample Input and Output Strings for dirname() In the
following table, the input string is the value pointed to by
path, and the output string is the return value of the
dirname() func- tion.</p>

<p>Input String Output String &quot;/usr/lib&quot;
&quot;/usr&quot;</p>

<p>&quot;/usr/&quot; &quot;/&quot; &quot;usr&quot;
&quot;.&quot; &quot;/&quot; &quot;/&quot; &quot;.&quot;
&quot;.&quot; &quot;..&quot; &quot;.&quot;</p>

<p>Changing the Current Directory to the Parent Directory
The following program fragment reads a pathname, changes the
current working directory to the parent directory, and opens
the file.</p>

<p>#include &lt;unistd.h&gt; #include &lt;limits.h&gt;
#include &lt;stdio.h&gt; #include &lt;fcntl.h&gt; #include
&lt;string.h&gt; #include &lt;libgen.h&gt; ... char
path[PATH_MAX], *pathcopy; int fd; ... fgets(path, PATH_MAX,
stdin); pathcopy = strdup(path); chdir(dirname(pathcopy));
fd = open(basename(path), O_RDONLY);</p>

<p>APPLICATION USAGE The dirname() and basename() functions
together yield a complete path- name. The expression
dirname(path) obtains the pathname of the direc- tory where
basename(path) is found.</p>

<p>Since the meaning of the leading &quot;//&quot; is
implementation-defined, dirname(&quot; //foo) may return
either &quot;//&quot; or/(but nothing else).</p>

<p>RATIONALE None.</p>

<p>FUTURE DIRECTIONS None.</p>

<p>SEE ALSO basename(), the Base Definitions volume of IEEE
Std 1003.1-2001, &lt;lib- gen.h&gt;</p>

<p>COPYRIGHT Portions of this text are reprinted and
reproduced in electronic form from IEEE Std 1003.1, 2003
Edition, Standard for Information Technology -- Portable
Operating System Interface (POSIX), The Open Group Base
Specifications Issue 6, Copyright (C) 2001-2003 by the
Institute of Electrical and Electronics Engineers, Inc and
The Open Group. In the event of any discrepancy between this
version and the original IEEE and The Open Group Standard,
the original IEEE and The Open Group Standard is the referee
document. The original Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>

<p>IEEE/The Open Group 2003 DIRNAME(3P)</p>
<hr>
</body>
</html>
