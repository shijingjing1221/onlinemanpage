<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:19:59 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>isdnctrl(8) Linux System Administration isdnctrl(8)</p>

<p>NAME isdnctrl - get/set ISDN device information</p>

<p>SYNOPSIS isdnctrl action device ...</p>

<p>DESCRIPTION isdnctrl is used to create and delete
network interfaces for ISDN, set up the various parameters
and phone numbers for dial in and dial out. It is also used
to list the current parameters of an already configured
network interface. isdnctrl is not needed for configuration
of ISDN ttys!</p>

<p>The use of isdnctrl is independent of the hardware
driver.</p>

<p>OPTIONS The following actions may be given to
isdnctrl.</p>

<p>addif name Adds a new ISDN interface name to the kernel.
If name is omit- ted, the kernel will use ethX, where X is
an increasing number starting from 0. This is probably not
useful with ISDN so using a name like isdn0 (for raw ip
interfaces) or ippp0 (for syn- chronous PPP interfaces) is
always recommended.</p>

<p>delif name [force] Removes the ISDN interface name from
the kernel. If the optional keyword force is appended,
isdnctrl executes ifconfig name down before removing it.</p>

<p>reset [force] Removes all ISDN interfaces from the
kernel if it is possible. If the optional keyword force is
appended, isdnctrl executes ifconfig name down before
removing an interface.</p>

<p>ifdefaults name resets the interface name to some
reasonable defaults.</p>

<p>dialmode name [off|manual|auto] Sets the dial mode of
the interface to one of:</p>

<p>off no connection can be made; an existing connection is
terminated immediately. Incoming connections are also not
possible.</p>

<p>manual manual dialing / hangup; a connection will only
be made after isdnctrl dial name but the line will be
disconnected after the huptimeout value set if using kernel
drivers updated since 1 Nov 1998; otherwise an explicit
isdnctrl hangup name will be needed to cause the connection
to be dropped. Incoming connections are possible; however,
if this interface is configured in callback in mode, the
callback dial will not hap- pen (as this is actually an
outgoing connection, not an incoming one).</p>

<p>auto autodial mode; an outgoing packet will trigger a
dialout, and a hangup will occur after the huptimeout value
specified (see below). An interface in auto dial mode will
call another system back (if configured in callback in
mode).</p>

<p>auto was the &quot;old&quot; behaviour (as it was before
dialmode was implemented).</p>

<p>If no argument is given, the current dialmode value is
dis- played.</p>

<p>You can give all as the interface name; the command will
then be executed for all interfaces.</p>

<p>addphone name out num Adds the phone number num to the
list of outgoing numbers of the ISDN interface name. Numbers
in this list are used to dial the remote station if the
connection is down and packets are to be sent via the
interface (Dial on demand). More than one number can be set
by calling isdnctrl addphone repeatedly. If more than one
number is set, these will be tried one after another (the
last added number is tried first, etc.). When using a german
SPV-type connection, the number has to be prefixed by a
capital S.</p>

<p>addphone name in num Adds the phone number num to the
list of incoming numbers of the ISDN interface name. Numbers
in this list are used to verify access permission of the
remote station if an incoming call is received. The
verification can be disabled by setting the inter- face into
insecure mode using isdnctrl name secure off. If the list is
empty, incoming calls are disabled. More than one num- ber
can be added by calling isdnctrl addphone repeatedly. Also
wildcards can be used (see below).</p>

<p>delphone name in|out num Removes phone number num from
the incoming or outgoing phone list.</p>

<p>eaz name [num] Set the EAZ (German 1TR6 protocol) or MSN
(Euro-ISDN E-DSS1) for ISDN interface name to num. For an
EAZ this is only one digit, while for an MSN num is the
whole MSN (usually the local phone number). If num is
omitted, isdnctrl prints the current setting for ISDN
interface name.</p>

<p>huptimeout name [seconds] Set the hangup timeout for
ISDN interface name to seconds. If there is inactivity (i.e.
no traffic on the interface) for the given time the driver
automatically shuts down the connection. If seconds is
omitted isdnctrl prints the current setting for interface
name.</p>

<p>cbdelay name [seconds] Set the callback delay for ISDN
interface name to seconds. If callback mode for this
interface is in, dialing is delayed the given time. If the
callback mode is out, after dialing out and waiting the
given time, a hangup is issued to free the line for the
incoming callback from the remote machine. This hangup-
after-dial is disabled by setting cbdelay to 0. If seconds
is omitted isdnctrl prints the current setting for interface
name.</p>

<p>dialmax name [num] Set the number of dial attempts for
ISDN interface name to num. If dialing, each phone number is
tried this many times before giving up. If num is omitted
isdnctrl prints the current set- ting for interface
name.</p>

<p>ihup name [on|off] Turn on or off the hangup timeout for
incoming calls on inter- face name. If on or off is omitted
the current setting is printed.</p>

<p>chargehup name [on|off] Turn on or off hangup before
next charge info for interface name. This can only be used
if the ISDN provider transmits charge info during and after
the connection. If set to on, the driver will close the
connection just before the next charge info will be received
if the interface is inactive. If on or off is omitted the
current setting is printed.</p>

<p>chargeint name [seconds] If seconds are given, the
charge interval for the given inter- face is set. This may
be useful on ISDN lines with no chargeinfo or no online
chargeinfo. The connection will be closed 2 seconds before
the end of the next estimated charge interval if huptime-
out seconds of inactivity have been reached. If ihup is on,
incoming connections are closed by this mechanism also. On
lines with online charge info you also might ask by
chargeint name for the current charge interval as delivered
from the tele- com on a given interface.</p>

<p>secure name [on|off] Turns on or off the security
feature for interface name. If set to on, incoming calls
will only be accepted if the calling num- ber can be found
in the incoming access list. See description of action
addphone for information about how to add numbers to this
list. If on or off is omitted, the current setting is
printed.</p>

<p>callback name [mode] Set callback mode for interface
name to mode mode. If callback mode is in, then after
getting an incoming call, a callback is triggered. If
callback mode is out, then the local system does the initial
call and then waits for callback of the remote machine. The
option on is available only for compatibility with older
versions. Its meaning is the same like in. If callback mode
is off, calls are handled normally without special process-
ing.</p>

<p>cbhup name [on|off] Turns on or off Hangup (Reject) for
interface name before start- ing callback. If cbhup is on,
when receiving an incoming call, the interface first rejects
that call before the callback sequence is started. If on or
off is omitted, the current set- ting is printed.</p>

<p>encap name [encapsulation] Set the encapsulation mode
for interface name. Possible encap- sulations are:</p>

<p>rawip raw ip encapsulation (default)</p>

<p>ip IP + typefield encapsulation</p>

<p>cisco-h Special mode for communicating with a Cisco in
HDLC-mode with Cisco-keepalive switched off.</p>

<p>ethernet ethernet over ISDN (MAC-header included)</p>

<p>syncppp Synchronous PPP over ISDN</p>

<p>uihdlc raw ip with additional ui-header</p>

<p>cisco-hk Special mode for communicating with a Cisco in
HDLC-mode with Cisco-keepalive switched on.</p>

<p>x25iface Provides an interface as required by the Linux
X.25 PLP protocol implementation (requires Linux 2.1.x or
newer).</p>

<p>If encapsulation is omitted, the current setting is
printed.</p>

<p>l2_prot name [protocol] Set the layer-2 protocol for
interface name. Possible values for protocol are: x75i,
x75ui, x75bui and hdlc. If protocol is omitted the cur- rent
setting is printed.</p>

<p>l3_prot name [ protocol ] Set the layer-3 protocol for
interface name. At the moment only trans is supported here.
If protocol is omitted the current setting is printed.</p>

<p>list name List all parameters and the charge info for
interface name. If name is all, then all interfaces are
listed.</p>

<p>status name Show the connection status for interface
name. The output can be one of the following types:</p>

<p>ippp0 not connected There is no connection</p>

<p>ippp0 connected to 0123456789 There is an outgoing
connection to phone number 0123456789</p>

<p>ippp0 connected from 0123456789 There is an incoming
connection from phone number 0123456789</p>

<p>If the interface is connected, the exit status of the
command is true, else it is false. If name is all, then the
connection status for all interfaces is shown. The exit
status is always true in this case. If name is active, then
only those interfaces that are currently con- nected are
shown. The exit status is always true in this case.</p>

<p>verbose num Set verbosity level to num.</p>

<p>hangup name The connection of interface name is closed
immediately.</p>

<p>bind name driverId,channel [exclusive] Binds an
interface name to a physical channel. The driverId
identifies a specific S0-Port. The channels of a port start
counting with zero. If exclusive is given, other interfaces
can- not use that channel anymore. Otherwise, the channel
may be used by other interfaces.</p>

<p>unbind name Unbinds a the previously bound interface
name.</p>

<p>pppbind name [num] Binds the interface name to an ippp
device /dev/ipppnum. This works only for synchronous ppp.
The value must be a number. If num is omitted and name is
called ipppX , then the interface is bound to
/dev/ipppX.</p>

<p>pppunbind name Unbinds the previously bound interface
name.</p>

<p>busreject driverId [on|off] If switched on, instead of
ignoring incoming calls not matching any interface,
isdn4linux responds with a REJECT to those calls. If
switched off, isdn4linux is passive, allowing other devices
connected to the same S0-bus to answer the call. You
normally should not enable this feature, if the ISDN adaptor
is not the only device connected to the S0-bus. Otherwise it
could happen, that isdn4linux rejects an incoming call which
belongs to another device on the bus.</p>

<p>addslave name slave Adds a slave interface named slave
to interface name for raw channel-bundling. For bundling of
more than two channels, any number of slaves can be added to
an interface by using this com- mand repeatedly. name must
refer to an existing &quot;master&quot; inter- face (not a
slave). Slave interfaces are not visible to the ker- nel,
however all usual ISDN settings can be configured. Because
slave interfaces are not visible to the kernel, they are
config- ured &quot;through&quot; their &quot;master&quot;,
so it is important that slave interfaces are added before
the corresponding &quot;master&quot; is started by ifconfig.
If the &quot;master&quot; is already up, it has to be
shutdown with ifconfig down ... otherwise the addslave com-
mand will be rejected.</p>

<p>sdelay name num Set delay for slave-dialing. The master
interface name has to have a load of more than trigger cps
for at least num seconds, before its slave starts dialing.
Note that this only works for rawIP, not MPPP!</p>

<p>trigger name num Set trigger level for slave-dialing.
The master interface name has to have a load of more than
num cps for at least sdelay sec- onds, before its slave
starts dialing. Note that this only works for rawIP, not
MPPP!</p>

<p>addlink name For MPPP, this adds a slave interface to
the existing connec- tion, i.e. connect the extra channel
now. It is like a dial com- mand for the extra channel. This
also means that addlink will only work if the master inter-
face name must already be connected! Also, the dialmode for
the slave interface must be auto.</p>

<p>removelink name For MPPP, this removes a slave interface
from the existing con- nection, i.e. hangup the extra
channel now.</p>

<p>dial name Force dialing of interface name.</p>

<p>mapping driverId MSN0[,MSN1[,MSN2]] ... [,MSN9] Installs
a mapping-table for MSN&lt;-&gt;EAZ-mapping. See README for
details.</p>

<p>WILDCARDS When using isdnctrl addphone name in num to
add phone numbers to the incoming-call accept-list of an
interface, wildcards similar to shell wildcards can be used.
The following wildcards are supported:</p>

<p>? one arbitrary digit</p>

<p>* zero or arbitrary number of digits</p>

<p>[list] one of the digits in list</p>

<p>[1-5] one digit in the range of (including) 1 and 5.</p>

<p>^ if this appears as the first character in a list,
inverts the list.</p>

<p>BUGS This man page is not complete.</p>

<p>AUTHOR Fritz Elfert &lt;fritz@isdn4linux.de&gt;</p>

<p>SEE ALSO ttyI(4), isdnctrl(4), isdninfo(4),
isdn_audio(4), isdn_cause(7).</p>

<p>isdn4k-utils-3.13 2003/03/11 isdnctrl(8)</p>
<hr>
</body>
</html>
