<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:12:32 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>FDOPEN(3P) POSIX Programmer s Manual FDOPEN(3P)</p>

<p>PROLOG This manual page is part of the POSIX Programmer
s Manual. The Linux implementation of this interface may
differ (consult the corresponding Linux manual page for
details of Linux behavior), or the interface may not be
implemented on Linux.</p>

<p>NAME fdopen - associate a stream with a file
descriptor</p>

<p>SYNOPSIS #include &lt;stdio.h&gt;</p>

<p>FILE *fdopen(int fildes, const char *mode);</p>

<p>DESCRIPTION The fdopen() function shall associate a
stream with a file descriptor.</p>

<p>The mode argument is a character string having one of
the following values:</p>

<p>r or rb Open a file for reading.</p>

<p>w or wb Open a file for writing.</p>

<p>a or ab Open a file for writing at end-of-file.</p>

<p>r+ or rb+ or r+b Open a file for update (reading and
writing).</p>

<p>w+ or wb+ or w+b Open a file for update (reading and
writing).</p>

<p>a+ or ab+ or a+b Open a file for update (reading and
writing) at end-of-file.</p>

<p>The meaning of these flags is exactly as specified in
fopen(), except that modes beginning with w shall not cause
truncation of the file.</p>

<p>Additional values for the mode argument may be supported
by an imple- mentation.</p>

<p>The application shall ensure that the mode of the stream
as expressed by the mode argument is allowed by the file
access mode of the open file description to which fildes
refers. The file position indicator associated with the new
stream is set to the position indicated by the file offset
associated with the file descriptor.</p>

<p>The error and end-of-file indicators for the stream
shall be cleared. The fdopen() function may cause the
st_atime field of the underlying file to be marked for
update.</p>

<p>If fildes refers to a shared memory object, the result
of the fdopen() function is unspecified.</p>

<p>If fildes refers to a typed memory object, the result of
the fdopen() function is unspecified.</p>

<p>The fdopen() function shall preserve the offset maximum
previously set for the open file description corresponding
to fildes.</p>

<p>RETURN VALUE Upon successful completion, fdopen() shall
return a pointer to a stream; otherwise, a null pointer
shall be returned and errno set to indicate the error.</p>

<p>ERRORS The fdopen() function may fail if:</p>

<p>EBADF The fildes argument is not a valid file
descriptor.</p>

<p>EINVAL The mode argument is not a valid mode.</p>

<p>EMFILE {FOPEN_MAX} streams are currently open in the
calling process.</p>

<p>EMFILE {STREAM_MAX} streams are currently open in the
calling process.</p>

<p>ENOMEM Insufficient space to allocate a buffer.</p>

<p>The following sections are informative.</p>

<p>EXAMPLES None.</p>

<p>APPLICATION USAGE File descriptors are obtained from
calls like open(), dup(), creat(), or pipe(), which open
files but do not return streams.</p>

<p>RATIONALE The file descriptor may have been obtained
from open(), creat(), pipe(), dup(), or fcntl(); inherited
through fork() or exec; or perhaps obtained by
implementation-defined means, such as the 4.3 BSD socket()
call.</p>

<p>The meanings of the mode arguments of fdopen() and
fopen() differ. With fdopen(), open for write (w or w+) does
not truncate, and append (a or a+) cannot create for
writing. The mode argument formats that include a b are
allowed for consistency with the ISO C standard func- tion
fopen(). The b has no effect on the resulting stream.
Although not explicitly required by this volume of IEEE Std
1003.1-2001, a good implementation of append (a) mode would
cause the O_APPEND flag to be set.</p>

<p>FUTURE DIRECTIONS None.</p>

<p>SEE ALSO Interaction of File Descriptors and Standard
I/O Streams, fclose(), fopen(), open(), the Base Definitions
volume of IEEE Std 1003.1-2001, &lt;stdio.h&gt;</p>

<p>COPYRIGHT Portions of this text are reprinted and
reproduced in electronic form from IEEE Std 1003.1, 2003
Edition, Standard for Information Technology -- Portable
Operating System Interface (POSIX), The Open Group Base
Specifications Issue 6, Copyright (C) 2001-2003 by the
Institute of Electrical and Electronics Engineers, Inc and
The Open Group. In the event of any discrepancy between this
version and the original IEEE and The Open Group Standard,
the original IEEE and The Open Group Standard is the referee
document. The original Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>

<p>IEEE/The Open Group 2003 FDOPEN(3P)</p>
<hr>
</body>
</html>
