<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:19:46 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>IPSEC_BARF(8) [FIXME: manual] IPSEC_BARF(8)</p>

<p>NAME ipsec_barf - spew out collected IPsec debugging
information</p>

<p>SYNOPSIS ipsec barf [--short --maxlines &lt;100&gt;]</p>

<p>DESCRIPTION Barf outputs (on standard output) a
collection of debugging information (contents of files,
selections from logs, etc.) related to the IPsec
encryption/authentication system. It is primarily a
convenience for remote debugging, a single command which
packages up (and labels) all information that might be
relevant to diagnosing a problem in IPsec.</p>

<p>The --short option limits the length of the log portion
of barf&acute;s output, which can otherwise be extremely
voluminous if debug logging is turned on.</p>

<p>--maxlines &lt;100&gt; option sets the length of some
bits of information, currently netstat -rn. Useful on boxes
where the routing table is thousands of lines long. Default
is 100.</p>

<p>Barf censors its output, replacing keys and secrets with
brief checksums to avoid revealing sensitive
information.</p>

<p>Beware that the output of both commands is aimed at
humans, not programs, and the output format is subject to
change without warning.</p>

<p>Barf has to figure out which files in /var/log contain
the IPsec log messages. It looks for KLIPS and general log
messages first in messages and syslog, and for Pluto
messages first in secure, auth.log, and debug. In both
cases, if it does not find what it is looking for in one of
those likely places, it will resort to a brute-force search
of most (non-compressed) files in /var/log.</p>

<p>FILES /proc/net/* /var/log/* /etc/ipsec.conf
/etc/ipsec.secrets</p>

<p>HISTORY Written for the Linux FreeS/WAN project
&lt;http://www.freeswan.org&gt; by Henry Spencer.</p>

<p>BUGS Barf uses heuristics to try to pick relevant
material out of the logs, and relevant messages which are
not labelled with any of the tags that barf looks for will
be lost. We think we&acute;ve eliminated the last such case,
but one never knows...</p>

<p>Finding updown scripts (so they can be included in
output) is, in general, difficult. Barf uses a very simple
heuristic that is easily fooled.</p>

<p>The brute-force search for the right log files can get
expensive on systems with a lot of clutter in /var/log.</p>

<p>[FIXME: source] 17 March 2002 IPSEC_BARF(8)</p>
<hr>
</body>
</html>
