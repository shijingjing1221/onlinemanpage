<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:04:10 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>AMADDCLIENT(8) System Administration Commands
AMADDCLIENT(8)</p>

<p>NAME amaddclient - program to add client to an existing
Amanda configuration</p>

<p>SYNOPSIS amaddclient --config config || --client client
name || --diskdev directory to backup [--m] [--dumptype
string] [--includefile string] [--includelist string]
[--excludefile string] [--excludelist string] [--user
string] [--auth string] [--gnutar_list_dir string]
[--amandates string] [--no-client-update] [--batch]
[--help]</p>

<p>DESCRIPTION After Amanda rpms are successfully installed
and amserverconfig is run, amaddclient will add client to
the Amanda configuration. amaddclient create or update
Amanda disklist(5) file and create or update
/var/lib/amanda/.amandahosts file on the server.</p>

<p>If --no-client-update is not specified, amaddclient will
attempt to update or create /var/lib/amanda/.amandahost,
amanda-client.conf and gnutar-lists on the client. (See
ssh-keygen(1) and ssh-add(1) for detail.)</p>

<p>amaddclient must be run by user amandabackup.</p>

<p>--config, --client and --diskdev must be specified.</p>

<p>OPTIONS Options may be abbreviated, as long as the
abbreviation is not ambiguous. Option argument can either
separated by &acute;=&acute; or a space. Example:
--conf=v253, --client client8.zmanda.com</p>

<p>--config config Amanda configuration which this program
will add the client to.</p>

<p>--client client The name of the client machine to add.
FQDN name recommended.</p>

<p>--diskdev diskdev Directory for this Amanda
configuration to backup.</p>

<p>--m Modify existing entry in the disklist(5) file.</p>

<p>Note: if disklist(5) file has been modified manually,
this option might not work.</p>

<p>--dumptype dumptype dumptype to use. Dumptype must be
defined in /etc/amanda/template.d/dumptypes or
/etc/amanda/$config/amanda.conf file. Default:
[user-tar]</p>

<p>--user string name of user using amrecover on the
client, default is root.</p>

<p>--auth string authentication method to use when running
amrecover from the client , default is bsdtcp.</p>

<p>--gnutar_list_dir string directory where gnutar keep its
state file on the client. Absolute path required. Default is
/var/lib/amanda/gnutar-lists. If --no-client-update is not
set, this program will attempt to create the directory on
the client.</p>

<p>--amandates string file where amanda keep the date of
each dumplevel on the client, default is /etc/amandates.</p>

<p>--batch Turn on batch mode when copying files to the
client, default is off</p>

<p>--no-client-update If this option is set, amaddclient
will not attempt to update/create .amandahosts,
amanda-client.conf and gnutar-lists file on the client.</p>

<p>--help Display usage.</p>

<p>If any of the following four options are used,
amaddclient will extend the dumptype definition to an
in-line definition in the disklist(5) file.</p>

<p>--includefile string string is a glob expression</p>

<p>--includelist string string is a file name on the client
containing glob expressions. Specify either --includefile or
--includelist.</p>

<p>--excludefile string string is a glob expression</p>

<p>--excludelist string string is a file name on the client
containing glob expressions. Specify either --excludefile or
--excludelist.</p>

<p>FILES /var/lib/amanda/template.d Amanda configuration
template files install location</p>

<p>/var/lib/amanda amandabackup home directory</p>

<p>/var/lib/amanda/.amandahosts Amanda authentication
file.</p>

<p>/var/lib/amanda/gnutar-lists A directory which contains
backup timestamp and list of files backed up.</p>

<p>/etc/amanda/$config Amanda configuration files location
for $config(e.g: DailySet1).</p>

<p>/etc/amanda/template.d A directory contains dumptypes
and tapetypes files used by all Amanda configurations.</p>

<p>/etc/amandates Amanda file on the client. It keeps track
of structures of previous dumps.</p>

<p>/tmp/amanda directory contains Amanda debug log
files.</p>

<p>RETURN VALUE On success, zero is returned. On error, 1
is returned.</p>

<p>SEE ALSO amanda(8), amanda.conf(5), amserverconfig(8)
ssh-keygen(1) ssh-add(1) scp(1) : http://wiki.zmanda.com</p>

<p>AUTHOR Kevin Till &lt;kevin.till@zmanda.com&gt; Zmanda,
Inc. (http://www.zmanda.com)</p>

<p>Amanda 2.6.1p2 11/05/2009 AMADDCLIENT(8)</p>
<hr>
</body>
</html>
