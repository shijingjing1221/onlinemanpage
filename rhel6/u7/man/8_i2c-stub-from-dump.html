<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:18:29 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>I2C-STUB-FROM-DUMP(8) I2C-STUB-FROM-DUMP(8)</p>

<p>NAME i2c-stub-from-dump - feed i2c-stub with dump
files</p>

<p>SYNOPSIS i2c-stub-from-dump address[,address,...]
dump-file [dump-file ...]</p>

<p>DESCRIPTION i2c-stub-from-dump is a small helper script
for the i2c-stub kernel driver. It lets you setup one or
more fake I2C chips on the i2c-stub bus based on dumps of
the chips you want to emulate.</p>

<p>i2c-stub-from-dump requires i2cdetect and i2cset to be
installed and reachable through the users PATH. The former
is used to find out the i2c-stub bus number, while the
latter is used to write to the fake I2C chips.</p>

<p>EXAMPLE You have an I2C chip on system A. You would like
to do some development on its driver on system B. Here are
the few steps you have to follow.</p>

<p>On system A, use i2cdump to capture a dump from the
chip. Assuming that the chip in question lives at address
0x4c on I2C bus 0, you would run:</p>

<p>i2cdump -y 0 0x4c b &gt; chip.dump</p>

<p>Adjust the bus number and chip address for your case.
i2cdetect can help you find out their values. If the device
uses word (16-bit) regis- ter access instead of the
traditional byte (8-bit) access, use mode w instead of
b.</p>

<p>Copy the dump file to system B.</p>

<p>On system B, run:</p>

<p>i2c-stub-from-dump 0x4c chip.dump</p>

<p>This will load the required i2c-dev and i2c-stub kernel
drivers if needed, then write all the register values to the
emulated I2C chip at address 0x4c. Again, adjust the address
as needed.</p>

<p>LIMITATIONS There are some limitations to the kind of
devices that can be handled:</p>

<p>&middot; Device must not have banks (as most Winbond
devices do).</p>

<p>SEE ALSO i2cdump(8), i2cdetect(8), i2cset(8)</p>

<p>AUTHOR Jean Delvare</p>

<p>March 2010 I2C-STUB-FROM-DUMP(8)</p>
<hr>
</body>
</html>
