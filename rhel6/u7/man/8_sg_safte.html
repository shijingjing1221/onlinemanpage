<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:33:59 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>SG_SAFTE(8) SG3_UTILS SG_SAFTE(8)</p>

<p>NAME sg_safte - Fetch status from a SCSI Accessed
Fault-Tolerant Enclosure (SAF-TE) device</p>

<p>SYNOPSIS sg_safte [--config] [--devstatus] [--encstatus]
[--flags] [--help] [--hex] [--insertions] [--raw] [--usage]
[--verbose] [--version] DEVICE</p>

<p>DESCRIPTION Fetches enclosure status (via a SCSI READ
BUFFER command). The DEVICE should be a SAF-TE device which
may be a storage array controller (INQUIRY peripheral device
type 0xc) or a generic processor device (INQUIRY peripheral
device type 0x3).</p>

<p>If no options are given (only the DEVICE argument) then
the overall enclosure status as reported by the option
--config &reg;is reported.</p>

<p>OPTIONS Arguments to long options are mandatory for
short options as well. The options are arranged in
alphabetical order based on the long option name.</p>

<p>-c, --config will issues a Read Enclosure Configuration
&reg;(READ BUFFER ID 0) cdb to the device, which returns a
list of the enclosure hard- ware resources.</p>

<p>-d, --devstatus will issue a Read Device Slot Status
&reg;(READ BUFFER ID 4) cdb to the device, which returns
information about the current state of each drive or
slot.</p>

<p>-s, --encstatus will issue a Read Enclosure Status
&reg;(READ BUFFER ID 1) cdb to the device, which returns the
operational state of the compo- nents.</p>

<p>-f, --flags will issue a Read Global Flags &reg;(READ
BUFFER ID 5) cdb to the device, which read the most recent
state of the global flags of the RAID processor device.</p>

<p>-h, --help output the usage message then exit.</p>

<p>-H, --hex output the response to a READ BUFFER command
in ASCII hex to stdout. If used once, output the response to
the first READ BUFFER command (i.e. with buffer_id=0). This
should be the enclosure configuration. If used twice (or
more often), the response to subsequent READ BUFFER commands
is output.</p>

<p>-i, --insertions will issue a Read Device Insertions
&reg;(READ BUFFER ID 3) cdb to the device, which returns
information about the number of times devices have been
inserted whilst the RAID system was powered on.</p>

<p>-r, --raw output the response to a READ BUFFER command
in binary to std- out. If used once, output the response to
the first READ BUFFER command (i.e. with buffer_id=0). This
should be the enclosure configuration. If used twice (or
more often), the response to subsequent READ BUFFER commands
is output.</p>

<p>-u, --usage will issue a Read Usage Statistics
&reg;(READ BUFFER ID 2) cdb to the device, which returns the
information on total usage time and number of power-on
cycles of the RAID device.</p>

<p>-v, --verbose increase the level of verbosity, (i.e.
debug output).</p>

<p>-V, --version print the version string and then
exit.</p>

<p>NOTES The implementation is based on the intermediate
review document eg as found at</p>

<p>http://www.intel.com/design/servers/ipmi/saf-te.htm</p>

<p>As the specification was never finalized this document
serves as the de-facto standard.</p>

<p>Similar functionality is provided by SPC-4 SCSI
Enclosure Services devices (Peripheral device type 0xd),
which can be queried with the sg_ses utility.</p>

<p>EXAMPLES To view the configuration:</p>

<p>sg_safte /dev/sg1</p>

<p>To view the device slot status:</p>

<p>sg_safte --devstatus /dev/sg1</p>

<p>EXIT STATUS The exit status of sg_safte is 0 when it is
successful. Otherwise see the sg3_utils(8) man page.</p>

<p>AUTHORS Written by Hannes Reinecke and Douglas
Gilbert.</p>

<p>REPORTING BUGS Report bugs to &lt;dgilbert at interlog
dot com&gt;.</p>

<p>COPYRIGHT Copyright &copy; 2004-2007 Hannes Reinecke and
Douglas Gilbert This software is distributed under a FreeBSD
license. There is NO war- ranty; not even for
MERCHANTABILITY or FITNESS FOR A PARTICULAR PUR- POSE.</p>

<p>SEE ALSO sg_inq, sg_ses (in sg3_utils package);
safte-monitor (internet)</p>

<p>sg3_utils-1.25 September 2007 SG_SAFTE(8)</p>
<hr>
</body>
</html>
