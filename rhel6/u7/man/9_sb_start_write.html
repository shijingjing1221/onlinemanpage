<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:32:33 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>SB_START_WRITE(9) The Linux VFS SB_START_WRITE(9)</p>

<p>NAME sb_start_write - get write access to a
superblock</p>

<p>SYNOPSIS void sb_start_write(struct super_block *
sb);</p>

<p>ARGUMENTS sb the super we write to</p>

<p>DESCRIPTION When a process wants to write data or
metadata to a file system (i.e. dirty a page or an inode),
it should embed the operation in a sb_start_write -
sb_end_write pair to get exclusion against file system
freezing. This function increments number of writers
preventing freezing. If the file system is already frozen,
the function waits until the file system is thawed.</p>

<p>Since freeze protection behaves as a lock, users have to
preserve ordering of freeze protection and other filesystem
locks. Generally, freeze protection should be the outermost
lock. In particular, we have:</p>

<p>sb_start_write -&gt; i_mutex (write path, truncate,
directory ops, ...) -&gt; s_umount (freeze_super,
thaw_super)</p>

<p>COPYRIGHT Kernel Hackers Manual 2.6. July 2015
SB_START_WRITE(9)</p>
<hr>
</body>
</html>
