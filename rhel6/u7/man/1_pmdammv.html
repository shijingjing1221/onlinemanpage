<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:28:03 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>PMDAMMV(1) PMDAMMV(1)</p>

<p>NAME pmdammv - memory mapped values performance metrics
domain agent (PMDA)</p>

<p>SYNOPSIS $PCP_PMDAS_DIR/mmv/pmdammv [-d domain] [-l
logfile] [-U username]</p>

<p>DESCRIPTION pmdammv is a Performance Metrics Domain
Agent (PMDA) which exports application level performance
metrics using memory mapped files. It offers an extremely
low overhead instrumentation facility that is well- suited
to long running, mission critical applications where it is
desirable to have performance metrics and availability
information per- manently enabled.</p>

<p>The mmv PMDA exports instrumentation that has been added
to an applica- tion using the MMV APIs (refer to
mmv_stats_init(3) and mmv(5) for fur- ther details). These
APIs can be called from several languages, including C, C++,
Perl, Python and Java (via the separate Parfait class
library).</p>

<p>A brief description of the pmdammv command line options
follows:</p>

<p>-d It is absolutely crucial that the performance metrics
domain num- ber specified here is unique and consistent.
That is, domain should be different for every PMDA on the
one host, and the same domain number should be used for the
same PMDA on all hosts.</p>

<p>-l Location of the log file. By default, a log file
named mmv.log is written in the current directory of pmcd(1)
when pmdammv is started, i.e. $PCP_LOG_DIR/pmcd. If the log
file cannot be cre- ated or is not writable, output is
written to the standard error instead.</p>

<p>-U User account under which to run the agent. The
default is the unprivileged &quot;pcp&quot; account in
current versions of PCP, but in older versions the superuser
account (&quot;root&quot;) was used by default.</p>

<p>INSTALLATION If you want access to the names, help text
and values for the mmv per- formance metrics, do the
following as root:</p>

<p># cd $PCP_PMDAS_DIR/mmv # ./Install</p>

<p>Note that the default mechanism for sharing memory
mapped values between instrumented applications and the mmv
PMDA involves the cre- ation of a world-writeable
$PCP_TMP_DIR/mmv directory with the sticky- bit set (similar
to /tmp and /var/tmp, for example). This suffices to allow
any application, running under any user account, to
communicate with the PMDA (which runs under the
&quot;pcp&quot; account by default). This may not be
desirable for every environment, and one should consider the
security implications of any directory setup like this
(similar classes of issues exist as those that affect the
system temporary file directo- ries).</p>

<p>The installation process will not overwrite any existing
$PCP_TMP_DIR/mmv directory. Thus it is possible to implement
an alter- nate permissions strategy with no world-writable
directory for sharing files - any directory readable by user
or group &quot;pcp&quot; will suffice.</p>

<p>If you want to undo the installation, do the following
as root:</p>

<p># cd $PCP_PMDAS_DIR/mmv # ./Remove</p>

<p>pmdammv is launched by pmcd(1) and should never be
executed directly. The Install and Remove scripts notify
pmcd(1) when the agent is installed or removed.</p>

<p>FILES $PCP_PMCDCONF_PATH command line options used to
launch pmdammv $PCP_TMP_DIR/mmv directory housing memory
mapped value files $PCP_PMDAS_DIR/mmv/help default help text
file for the mmv metrics $PCP_PMDAS_DIR/mmv/Install
installation script for the pmdammv agent
$PCP_PMDAS_DIR/mmv/Remove undo installation script for the
pmdammv agent $PCP_LOG_DIR/pmcd/mmv.log default log file for
error messages and other information from pmdammv</p>

<p>PCP ENVIRONMENT Environment variables with the prefix
PCP_ are used to parameterize the file and directory names
used by PCP. On each installation, the file /etc/pcp.conf
contains the local values for these variables. The $PCP_CONF
variable may be used to specify an alternative configuration
file, as described in pcp.conf(5).</p>

<p>SEE ALSO PCPIntro(1), pmcd(1), mmv_stats_init(3),
mmv(5), pcp.conf(5) and pcp.env(5).</p>

<p>Performance Co-Pilot PCP PMDAMMV(1)</p>
<hr>
</body>
</html>
