<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:20:29 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>KDB5_LDAP_UTIL(8) KDB5_LDAP_UTIL(8)</p>

<p>NAME kdb5_ldap_util - Kerberos Configuration Utility</p>

<p>SYNOPSIS kdb5_ldap_util [-D user_dn [-w passwd]] [-H
ldapuri] command [com- mand_options]</p>

<p>DESCRIPTION kdb5_ldap_util allows an administrator to
manage realms, Kerberos ser- vices and ticket policies.</p>

<p>COMMAND-LINE OPTIONS -D user_dn Specifies the
Distinguished name (DN) of the user who has suffi- cient
rights to perform the operation on the LDAP server.</p>

<p>-w passwd Specifies the password of user_dn. This option
is not recom- mended.</p>

<p>-H ldapuri Specifies the URI of the LDAP server.</p>

<p>COMMANDS create [-subtrees subtree_dn_list] [-sscope
search_scope] [-contain- erref container_reference_dn] [-k
mkeytype] [-kv mkeyVNO] [-m|-P pass- word|-sf stashfilename]
[-s] [-r realm] [-kdcdn kdc_service_list] [-admindn
admin_service_list] [-maxtktlife max_ticket_life] [-maxre-
newlife max_renewable_ticket_life] [ticket_flags] Creates
realm in directory. Options:</p>

<p>-subtrees subtree_dn_list Specifies the list of subtrees
containing the principals of a realm. The list contains the
DNs of the subtree objects separated by colon(:).</p>

<p>-sscope search_scope Specifies the scope for searching
the principals under the subtree. The possible values are 1
or one (one level), 2 or sub (subtrees).</p>

<p>-containerref container_reference_dn Specifies the DN of
the container object in which the principals of a realm will
be created. If the container reference is not configured for
a realm, the principals will be created in the realm
container.</p>

<p>-k mkeytype Specifies the key type of the master key in
the database; the default is that given in kdc.conf.</p>

<p>-kv mkeyVNO Specifies the version number of the master
key in the database; the default is 1. Note that 0 is not
allowed.</p>

<p>-m Specifies that the master database password should be
read from the TTY rather than fetched from a file on the
disk.</p>

<p>-P password Specifies the master database password. This
option is not recommended.</p>

<p>-sf stashfilename Specifies the stash file of the master
database password.</p>

<p>-s Specifies that the stash file is to be created.</p>

<p>-maxtktlife max_ticket_life Specifies maximum ticket
life for principals in this realm.</p>

<p>-maxrenewlife max_renewable_ticket_life Specifies
maximum renewable life of tickets for princi- pals in this
realm.</p>

<p>ticket_flags Specifies the ticket flags. If this option
is not speci- fied, by default, none of the flags are set.
This means all the ticket options will be allowed and no
restriction will be set.</p>

<p>The various flags are:</p>

<p>{-|+}allow_postdated -allow_postdated prohibits
principals from obtaining postdated tickets. (Sets the
KRB5_KDB_DISALLOW_POSTDATED flag.) +allow_postdated clears
this flag.</p>

<p>{-|+}allow_forwardable -allow_forwardable prohibits
principals from obtaining forwardable tickets. (Sets the
KRB5_KDB_DISALLOW_FOR- WARDABLE flag.) +allow_forwardable
clears this flag.</p>

<p>{-|+}allow_renewable -allow_renewable prohibits
principals from obtaining renewable tickets. (Sets the
KRB5_KDB_DISALLOW_RENEWABLE flag.) +allow_renewable clears
this flag.</p>

<p>{-|+}allow_proxiable -allow_proxiable prohibits
principals from obtaining proxiable tickets. (Sets the
KRB5_KDB_DISALLOW_PROXIABLE flag.) +allow_proxiable clears
this flag.</p>

<p>{-|+}allow_dup_skey -allow_dup_skey Disables
user-to-user authentication for principals by prohibiting
principals from obtaining a session key for another user.
(Sets the KRB5_KDB_DISAL- LOW_DUP_SKEY flag.)
+allow_dup_skey clears this flag.</p>

<p>{-|+}requires_preauth +requires_preauth requires
principals to preauthenticate before being allowed to kinit.
(Sets the KRB5_KDB_REQUIRES_PRE_AUTH flag.)
-requires_preauth clears this flag.</p>

<p>{-|+}requires_hwauth +requires_hwauth requires
principals to preauthenticate using a hardware device before
being allowed to kinit. (Sets the KRB5_KDB_REQUIRES_HW_AUTH
flag.) -requires_hwauth clears this flag.</p>

<p>{-|+}allow_svr -allow_svr prohibits the issuance of
service tickets for principals. (Sets the
KRB5_KDB_DISALLOW_SVR flag.) +allow_svr clears this
flag.</p>

<p>{-|+}allow_tgs_req -allow_tgs_req specifies that a
Ticket-Granting Service (TGS) request for a service ticket
for principals is not permitted. This option is useless for
most things. +allow_tgs_req clears this flag. The default is
+allow_tgs_req. In effect, -allow_tgs_req sets the
KRB5_KDB_DISALLOW_TGT_BASED flag on principals in the
database.</p>

<p>{-|+}allow_tix -allow_tix forbids the issuance of any
tickets for prin- cipals. +allow_tix clears this flag. The
default is +allow_tix. In effect, -allow_tix sets the
KRB5_KDB_DIS- ALLOW_ALL_TIX flag on principals in the
database.</p>

<p>{-|+}needchange +needchange sets a flag in attributes
field to force a password change; -needchange clears it. The
default is -needchange. In effect, +needchange sets the
KRB5_KDB_REQUIRES_PWCHANGE flag on principals in the
database.</p>

<p>{-|+}password_changing_service
+password_changing_service sets a flag in the attributes
field marking principal as a password change service
principal (useless for most things). -password_chang-
ing_service clears the flag. This flag intentionally has a
long name. The default is -password_changing_service. In
effect, +password_changing_service sets the
KRB5_KDB_PWCHANGE_SERVICE flag on principals in the
database.</p>

<p>-r realm Specifies the Kerberos realm of the database;
by default the realm returned by krb5_default_local_realm(3)
is used.</p>

<p>Command Options Specific to eDirectory</p>

<p>-kdcdn kdc_service_list Specifies the list of KDC
service objects serving the realm. The list contains the DNs
of the KDC service objects separated by colon(:).</p>

<p>-admindn admin_service_list Specifies the list of
Administration service objects serving the realm. The list
contains the DNs of the Administration service objects
separated by colon(:).</p>

<p>EXAMPLE: kdb5_ldap_util -D cn=admin,o=org -H
ldaps://ldap- server1.mit.edu create -subtrees o=org -sscope
SUB -r ATHENA.MIT.EDU Password for
&quot;cn=admin,o=org&quot;: Initializing database for realm
ATHENA.MIT.EDU You will be prompted for the database Master
Password. It is important that you NOT FORGET this password.
Enter KDC database master key: Re-enter KDC database master
key to verify:</p>

<p>modify [-subtrees subtree_dn_list] [-sscope
search_scope] [-contain- erref container_reference_dn] [-r
realm] [-kdcdn kdc_service_list | [-clearkdcdn
kdc_service_list] [-addkdcdn kdc_service_list]] [-admindn
admin_service_list | [-clearadmindn admin_service_list]
[-addadmindn admin_service_list]] [-maxtktlife
max_ticket_life] [-maxrenewlife max_renewable_ticket_life]
[ticket_flags]</p>

<p>Modifies the attributes of a realm. Options:</p>

<p>-subtrees subtree_dn_list Specifies the list of subtrees
containing the principals of a realm. The list contains the
DNs of the subtree objects separated by colon(:). This list
replaces the existing list.</p>

<p>-sscope search_scope Specifies the scope for searching
the principals under the subtrees. The possible values are 1
or one (one level), 2 or sub (subtrees).</p>

<p>-containerref container_reference_dn Specifies the DN of
the container object in which the principals of a realm will
be created.</p>

<p>-maxtktlife max_ticket_life Specifies maximum ticket
life for principals in this realm.</p>

<p>-maxrenewlife max_renewable_ticket_life Specifies
maximum renewable life of tickets for princi- pals in this
realm.</p>

<p>ticket_flags Specifies the ticket flags. If this option
is not speci- fied, by default, none of the flags are set.
This means all the ticket options will be allowed and no
restriction will be set.</p>

<p>The various flags are:</p>

<p>{-|+}allow_postdated -allow_postdated prohibits
principals from obtaining postdated tickets. (Sets the
KRB5_KDB_DISALLOW_POSTDATED flag.) +allow_postdated clears
this flag.</p>

<p>{-|+}allow_forwardable -allow_forwardable prohibits
principals from obtaining forwardable tickets. (Sets the
KRB5_KDB_DISALLOW_FOR- WARDABLE flag.) +allow_forwardable
clears this flag.</p>

<p>{-|+}allow_renewable -allow_renewable prohibits
principals from obtaining renewable tickets. (Sets the
KRB5_KDB_DISALLOW_RENEWABLE flag.) +allow_renewable clears
this flag.</p>

<p>{-|+}allow_proxiable -allow_proxiable prohibits
principals from obtaining proxiable tickets. (Sets the
KRB5_KDB_DISALLOW_PROXIABLE flag.) +allow_proxiable clears
this flag.</p>

<p>{-|+}allow_dup_skey -allow_dup_skey Disables
user-to-user authentication for principals by prohibiting
principals from obtaining a session key for another user.
(Sets the KRB5_KDB_DISAL- LOW_DUP_SKEY flag.)
+allow_dup_skey clears this flag.</p>

<p>{-|+}requires_preauth +requires_preauth requires
principals to preauthenticate before being allowed to kinit.
(Sets the KRB5_KDB_REQUIRES_PRE_AUTH flag.)
-requires_preauth clears this flag.</p>

<p>{-|+}requires_hwauth +requires_hwauth requires
principals to preauthenticate using a hardware device before
being allowed to kinit. (Sets the KRB5_KDB_REQUIRES_HW_AUTH
flag.) -requires_hwauth clears this flag.</p>

<p>{-|+}allow_svr -allow_svr prohibits the issuance of
service tickets for principals. (Sets the
KRB5_KDB_DISALLOW_SVR flag.) +allow_svr clears this
flag.</p>

<p>{-|+}allow_tgs_req -allow_tgs_req specifies that a
Ticket-Granting Service (TGS) request for a service ticket
for principals is not permitted. This option is useless for
most things. +allow_tgs_req clears this flag. The default is
+allow_tgs_req. In effect, -allow_tgs_req sets the
KRB5_KDB_DISALLOW_TGT_BASED flag on principals in the
database.</p>

<p>{-|+}allow_tix -allow_tix forbids the issuance of any
tickets for prin- cipals. +allow_tix clears this flag. The
default is +allow_tix. In effect, -allow_tix sets the
KRB5_KDB_DIS- ALLOW_ALL_TIX flag on principals in the
database.</p>

<p>{-|+}needchange +needchange sets a flag in attributes
field to force a password change; -needchange clears it. The
default is -needchange. In effect, +needchange sets the
KRB5_KDB_REQUIRES_PWCHANGE flag on principals in the
database.</p>

<p>{-|+}password_changing_service
+password_changing_service sets a flag in the attributes
field marking principal as a password change service
principal (useless for most things). -password_chang-
ing_service clears the flag. This flag intentionally has a
long name. The default is -password_changing_service. In
effect, +password_changing_service sets the
KRB5_KDB_PWCHANGE_SERVICE flag on principals in the
database.</p>

<p>-r realm Specifies the Kerberos realm of the database;
by default the realm returned by krb5_default_local_realm(3)
is used.</p>

<p>Command Options Specific to eDirectory</p>

<p>-kdcdn kdc_service_list Specifies the list of KDC
service objects serving the realm. The list contains the DNs
of the KDC service objects separated by a colon (:). This
list replaces the existing list.</p>

<p>-clearkdcdn kdc_service_list Specifies the list of KDC
service objects that need to be removed from the existing
list. The list contains the DNs of the KDC service objects
separated by a colon (:).</p>

<p>-addkdcdn kdc_service_list Specifies the list of KDC
service objects that need to be added to the existing list.
The list contains the DNs of the KDC service objects
separated by a colon (:).</p>

<p>-admindn admin_service_list Specifies the list of
Administration service objects serving the realm. The list
contains the DNs of the Administration service objects
separated by a colon (:). This list replaces the existing
list.</p>

<p>-clearadmindn admin_service_list Specifies the list of
Administration service objects that need to be removed from
the existing list. The list con- tains the DNs of the
Administration service objects sepa- rated by a colon
(:).</p>

<p>-addadmindn admin_service_list Specifies the list of
Administration service objects that need to be added to the
existing list. The list contains the DNs of the
Administration service objects separated by a colon (:).</p>

<p>EXAMPLE: kdb5_ldap_util -D cn=admin,o=org -H
ldaps://ldap- server1.mit.edu modify +requires_preauth -r
ATHENA.MIT.EDU Password for &quot;cn=admin,o=org&quot;:</p>

<p>view [-r realm] Displays the attributes of a realm.
Options:</p>

<p>-r realm Specifies the Kerberos realm of the database;
by default the realm returned by krb5_default_local_realm(3)
is used.</p>

<p>EXAMPLE: kdb5_ldap_util -D cn=admin,o=org -H
ldaps://ldap- server1.mit.edu view -r ATHENA.MIT.EDU
Password for &quot;cn=admin,o=org&quot;: Realm Name:
ATHENA.MIT.EDU Subtree: ou=users,o=org Subtree:
ou=servers,o=org SearchScope: ONE Maximum ticket life: 0
days 01:00:00 Maximum renewable life: 0 days 10:00:00 Ticket
flags: DISALLOW_FORWARDABLE REQUIRES_PWCHANGE</p>

<p>destroy [-f] [-r realm] Destroys an existing realm.
Options:</p>

<p>-f If specified, will not prompt the user for
confirmation.</p>

<p>-r realm Specifies the Kerberos realm of the database;
by default the realm returned by krb5_default_local_realm(3)
is used.</p>

<p>EXAMPLE: kdb5_ldap_util -D cn=admin,o=org -H
ldaps://ldap- server1.mit.edu destroy -r ATHENA.MIT.EDU
Password for &quot;cn=admin,o=org&quot;: Deleting KDC
database of ATHENA.MIT.EDU, are you sure? (type yes to
confirm)? yes OK, deleting database of ATHENA.MIT.EDU...</p>

<p>list Lists the name of realms.</p>

<p>EXAMPLE: kdb5_ldap_util -D cn=admin,o=org -H
ldaps://ldap-server1.mit.edu list Password for
&quot;cn=admin,o=org&quot;: ATHENA.MIT.EDU OPENLDAP.MIT.EDU
MEDIA-LAB.MIT.EDU</p>

<p>stashsrvpw [-f filename] servicedn Allows an
administrator to store the password for service object in a
file so that KDC and Administration server can use it to
authenticate to the LDAP server. Options:</p>

<p>-f filename Specifies the complete path of the service
password file. By default, /usr/local/var/service_passwd is
used.</p>

<p>servicedn Specifies Distinguished name (DN) of the
service object whose password is to be stored in file.</p>

<p>EXAMPLE: kdb5_ldap_util stashsrvpw -f
/home/andrew/conf_keyfile cn=service-kdc,o=org Password for
&quot;cn=service-kdc,o=org&quot;: Re-enter password for
&quot;cn=service-kdc,o=org&quot;:</p>

<p>create_policy [-r realm] [-maxtktlife max_ticket_life]
[-maxre- newlife max_renewable_ticket_life] [ticket_flags]
policy_name Creates a ticket policy in directory.
Options:</p>

<p>-r realm Specifies the Kerberos realm of the database;
by default the realm returned by krb5_default_local_realm(3)
is used.</p>

<p>-maxtktlife max_ticket_life Specifies maximum ticket
life for principals.</p>

<p>-maxrenewlife max_renewable_ticket_life Specifies
maximum renewable life of tickets for princi- pals.</p>

<p>ticket_flags Specifies the ticket flags. If this option
is not speci- fied, by default, none of the flags are set.
This means all the ticket options will be allowed and no
restriction will be set.</p>

<p>The various flags are:</p>

<p>{-|+}allow_postdated -allow_postdated prohibits
principals from obtaining postdated tickets. (Sets the
KRB5_KDB_DISALLOW_POSTDATED flag.) +allow_postdated clears
this flag.</p>

<p>{-|+}allow_forwardable -allow_forwardable prohibits
principals from obtaining forwardable tickets. (Sets the
KRB5_KDB_DISALLOW_FOR- WARDABLE flag.) +allow_forwardable
clears this flag.</p>

<p>{-|+}allow_renewable -allow_renewable prohibits
principals from obtaining renewable tickets. (Sets the
KRB5_KDB_DISALLOW_RENEWABLE flag.) +allow_renewable clears
this flag.</p>

<p>{-|+}allow_proxiable -allow_proxiable prohibits
principals from obtaining proxiable tickets. (Sets the
KRB5_KDB_DISALLOW_PROXIABLE flag.) +allow_proxiable clears
this flag.</p>

<p>{-|+}allow_dup_skey -allow_dup_skey Disables
user-to-user authentication for principals by prohibiting
principals from obtaining a session key for another user.
(Sets the KRB5_KDB_DISAL- LOW_DUP_SKEY flag.)
+allow_dup_skey clears this flag.</p>

<p>{-|+}requires_preauth +requires_preauth requires
principals to preauthenticate before being allowed to kinit.
(Sets the KRB5_KDB_REQUIRES_PRE_AUTH flag.)
-requires_preauth clears this flag.</p>

<p>{-|+}requires_hwauth +requires_hwauth requires
principals to preauthenticate using a hardware device before
being allowed to kinit. (Sets the KRB5_KDB_REQUIRES_HW_AUTH
flag.) -requires_hwauth clears this flag.</p>

<p>{-|+}allow_svr -allow_svr prohibits the issuance of
service tickets for principals. (Sets the
KRB5_KDB_DISALLOW_SVR flag.) +allow_svr clears this
flag.</p>

<p>{-|+}allow_tgs_req -allow_tgs_req specifies that a
Ticket-Granting Service (TGS) request for a service ticket
for principals is not permitted. This option is useless for
most things. +allow_tgs_req clears this flag. The default is
+allow_tgs_req. In effect, -allow_tgs_req sets the
KRB5_KDB_DISALLOW_TGT_BASED flag on principals in the
database.</p>

<p>{-|+}allow_tix -allow_tix forbids the issuance of any
tickets for prin- cipals. +allow_tix clears this flag. The
default is +allow_tix. In effect, -allow_tix sets the
KRB5_KDB_DIS- ALLOW_ALL_TIX flag on principals in the
database.</p>

<p>{-|+}needchange +needchange sets a flag in attributes
field to force a password change; -needchange clears it. The
default is -needchange. In effect, +needchange sets the
KRB5_KDB_REQUIRES_PWCHANGE flag on principals in the
database.</p>

<p>{-|+}password_changing_service
+password_changing_service sets a flag in the attributes
field marking principal as a password change service
principal (useless for most things). -password_chang-
ing_service clears the flag. This flag intentionally has a
long name. The default is -password_changing_service. In
effect, +password_changing_service sets the
KRB5_KDB_PWCHANGE_SERVICE flag on principals in the
database.</p>

<p>policy_name Specifies the name of the ticket policy.</p>

<p>EXAMPLE: kdb5_ldap_util -D cn=admin,o=org -H
ldaps://ldap- server1.mit.edu create_policy -r
ATHENA.MIT.EDU -maxtk- tlife &quot;1 day&quot; -maxrenewlife
&quot;1 week&quot; -allow_postdated +needchange
-allow_forwardable tktpolicy Password for
&quot;cn=admin,o=org&quot;:</p>

<p>modify_policy [-r realm] [-maxtktlife max_ticket_life]
[-maxre- newlife max_renewable_ticket_life] [ticket_flags]
policy_name Modifies the attributes of a ticket policy.
Options are same as create_policy.</p>

<p>-r realm Specifies the Kerberos realm of the database;
by default the realm returned by krb5_default_local_realm(3)
is used.</p>

<p>EXAMPLE: kdb5_ldap_util -D cn=admin,o=org -H
ldaps://ldap- server1.mit.edu modify_policy -r
ATHENA.MIT.EDU -maxtk- tlife &quot;60 minutes&quot;
-maxrenewlife &quot;10 hours&quot; +allow_post- dated
-requires_preauth tktpolicy Password for
&quot;cn=admin,o=org&quot;:</p>

<p>view_policy [-r realm] policy_name Displays the
attributes of a ticket policy. Options:</p>

<p>policy_name Specifies the name of the ticket policy.</p>

<p>EXAMPLE: kdb5_ldap_util -D cn=admin,o=org -H
ldaps://ldap- server1.mit.edu view_policy -r ATHENA.MIT.EDU
tktpolicy Password for &quot;cn=admin,o=org&quot;: Ticket
policy: tktpolicy Maximum ticket life: 0 days 01:00:00
Maximum renewable life: 0 days 10:00:00 Ticket flags:
DISALLOW_FORWARDABLE REQUIRES_PWCHANGE</p>

<p>destroy_policy [-r realm] [-force] policy_name Destroys
an existing ticket policy. Options:</p>

<p>-r realm Specifies the Kerberos realm of the database;
by default the realm returned by krb5_default_local_realm(3)
is used.</p>

<p>-force Forces the deletion of the policy object. If not
speci- fied, will be prompted for confirmation while
deleting the policy. Enter yes to confirm the deletion.</p>

<p>policy_name Specifies the name of the ticket policy.</p>

<p>EXAMPLE: kdb5_ldap_util -D cn=admin,o=org -H
ldaps://ldap- server1.mit.edu destroy_policy -r
ATHENA.MIT.EDU tktpol- icy Password for
&quot;cn=admin,o=org&quot;: This will delete the policy
object tktpolicy , are you sure? (type yes to confirm)? yes
** policy object tktpolicy deleted.</p>

<p>list_policy [-r realm] Lists the ticket policies in
realm if specified or in the default realm. Options:</p>

<p>-r realm Specifies the Kerberos realm of the database;
by default the realm returned by krb5_default_local_realm(3)
is used.</p>

<p>EXAMPLE: kdb5_ldap_util -D cn=admin,o=org -H
ldaps://ldap- server1.mit.edu list_policy -r ATHENA.MIT.EDU
Password for &quot;cn=admin,o=org&quot;: tktpolicy tmppolicy
userpolicy</p>

<p>Commands Specific to eDirectory</p>

<p>setsrvpw [-randpw|-fileonly] [-f filename] service_dn
Allows an administrator to set password for service objects
such as KDC and Administration server in eDirectory and
store them in a file. The -fileonly option stores the
password in a file and not in the eDirectory object.
Options:</p>

<p>-randpw Generates and sets a random password. This
options can be specified to store the password both in
eDirectory and a file. The -fileonly option can not be used
if -randpw option is already specified.</p>

<p>-fileonly Stores the password only in a file and not in
eDirectory. The -randpw option can not be used when
-fileonly options is specified.</p>

<p>-f filename Specifies complete path of the service
password file. By default, /usr/local/var/service_passwd is
used.</p>

<p>service_dn Specifies Distinguished name (DN) of the
service object whose password is to be set.</p>

<p>EXAMPLE: kdb5_ldap_util setsrvpw -D cn=admin,o=org
setsrvpw -fileonly -f /home/andrew/conf_keyfile cn=service-
kdc,o=org Password for &quot;cn=admin,o=org&quot;: Password
for &quot;cn=service-kdc,o=org&quot;: Re-enter password for
&quot;cn=service-kdc,o=org&quot;:</p>

<p>create_service {-kdc|-admin} [-servicehost
service_host_list] [-realm realm_list] [-randpw|-fileonly]
[-f filename] service_dn Creates a service in directory and
assigns appropriate rights. Options:</p>

<p>-kdc Specifies the service is a KDC service</p>

<p>-admin Specifies the service is a Administration
service</p>

<p>-servicehost service_host_list Specifies the list of
entries separated by a colon (:). Each entry consists of the
hostname or IP address of the server hosting the service,
transport protocol, and the port number of the service
separated by a pound sign (#). For example,
server1#tcp#88:server2#udp#89.</p>

<p>-realm realm_list Specifies the list of realms that are
to be associated with this service. The list contains the
name of the realms separated by a colon (:).</p>

<p>-randpw Generates and sets a random password. This
option is used to set the random password for the service
object in directory and also to store it in the file. The
-fileonly option can not be used if -randpw option is
specified.</p>

<p>-fileonly Stores the password only in a file and not in
eDirectory. The -randpw option can not be used when
-fileonly option is specified.</p>

<p>-f filename Specifies the complete path of the file
where the service object password is stashed.</p>

<p>service_dn Specifies Distinguished name (DN) of the
Kerberos service to be created.</p>

<p>EXAMPLE: kdb5_ldap_util -D cn=admin,o=org create_service
-kdc -randpw -f /home/andrew/conf_keyfile
cn=service-kdc,o=org Password for
&quot;cn=admin,o=org&quot;: File does not exist. Creating
the file /home/andrew/conf_keyfile...</p>

<p>modify_service [-servicehost service_host_list |
[-clearservice- host service_host_list] [-addservicehost
service_host_list]] [-realm realm_list | [-clearrealm
realm_list] [-addrealm realm_list]] service_dn Modifies the
attributes of a service and assigns appropriate rights.
Options:</p>

<p>-servicehost service_host_list Specifies the list of
entries separated by a colon (:). Each entry consists of a
host name or IP Address of the Server hosting the service,
transport protocol, and port number of the service separated
by a pound sign (#). For example,
server1#tcp#88:server2#udp#89</p>

<p>-clearservicehost service_host_list Specifies the list
of servicehost entries to be removed from the existing list
separated by colon (:). Each entry consists of a host name
or IP Address of the server host- ing the service, transport
protocol, and port number of the service separated by a
pound sign (#).</p>

<p>-addservicehost service_host_list Specifies the list of
servicehost entries to be added to the existing list
separated by colon (:). Each entry con- sists of a host name
or IP Address of the server hosting the service, transport
protocol, and port number of the service separated by a
pound sign (#).</p>

<p>-realm realm_list Specifies the list of realms that are
to be associated with this service. The list contains the
name of the realms separated by a colon (:). This list
replaces the existing list.</p>

<p>-clearrealm realm_list Specifies the list of realms to
be removed from the existing list. The list contains the
name of the realms separated by a colon (:).</p>

<p>-addrealm realm_list Specifies the list of realms to be
added to the existing list. The list contains the name of
the realms separated by a colon (:).</p>

<p>service_dn Specifies Distinguished name (DN) of the
Kerberos service to be modified.</p>

<p>EXAMPLE: kdb5_ldap_util -D cn=admin,o=org modify_service
-realm ATHENA.MIT.EDU cn=service-kdc,o=org Password for
&quot;cn=admin,o=org&quot;: Changing rights for the service
object. Please wait ... done</p>

<p>view_service service_dn Displays the attributes of a
service. Options:</p>

<p>service_dn Specifies Distinguished name (DN) of the
Kerberos service to be viewed.</p>

<p>EXAMPLE: kdb5_ldap_util -D cn=admin,o=org view_service
cn=service- kdc,o=org Password for
&quot;cn=admin,o=org&quot;: Service dn: cn=service-kdc,o=org
Service type: kdc Service host list: Realm DN list:
cn=ATHENA.MIT.EDU,cn=Kerberos,cn=Security</p>

<p>destroy_service [-force] [-f stashfilename] service_dn
Destroys an existing service. Options:</p>

<p>-force If specified, will not prompt for user s
confirmation, instead will force destruction of the
service.</p>

<p>-f stashfilename Specifies the complete path of the
service password file from where the entry corresponding to
the service_dn needs to be removed.</p>

<p>service_dn Specifies Distinguished name (DN) of the
Kerberos service to be destroyed.</p>

<p>EXAMPLE: kdb5_ldap_util -D cn=admin,o=org
destroy_service cn=ser- vice-kdc,o=org Password for
&quot;cn=admin,o=org&quot;: This will delete the service
object cn=service-kdc,o=org, are you sure? (type yes to
confirm)? yes ** service object cn=service-kdc,o=org
deleted.</p>

<p>list_service [-basedn base_dn] Lists the name of
services under a given base in directory. Options:</p>

<p>-basedn base_dn Specifies the base DN for searching the
service objects, limiting the search to a particular
subtree. If this option is not provided, LDAP Server
specific search base will be used. For eg, in the case of
OpenLDAP, value of defaultsearchbase from slapd.conf file
will be used, where as in the case of eDirectory, the
default value for the base DN is Root.</p>

<p>EXAMPLE: kdb5_ldap_util -D cn=admin,o=org list_service
Password for &quot;cn=admin,o=org&quot;:
cn=service-kdc,o=org cn=service-adm,o=org
cn=service-pwd,o=org</p>

<p>SEE ALSO kadmin(8)</p>

<p>KDB5_LDAP_UTIL(8)</p>
<hr>
</body>
</html>
