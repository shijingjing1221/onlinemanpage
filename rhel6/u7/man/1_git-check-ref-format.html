<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:15:29 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>GIT-CHECK-REF-FOR(1) Git Manual GIT-CHECK-REF-FOR(1)</p>

<p>NAME git-check-ref-format - Ensures that a reference
name is well formed</p>

<p>SYNOPSIS git check-ref-format &lt;refname&gt; git
check-ref-format --print &lt;refname&gt; git
check-ref-format --branch &lt;branchname-shorthand&gt;</p>

<p>DESCRIPTION Checks if a given refname is acceptable, and
exits with a non-zero status if it is not.</p>

<p>A reference is used in git to specify branches and tags.
A branch head is stored under the $GIT_DIR/refs/heads
directory, and a tag is stored under the $GIT_DIR/refs/tags
directory (or, if refs are packed by git gc, as entries in
the $GIT_DIR/packed-refs file). git imposes the following
rules on how references are named:</p>

<p>1. They can include slash / for hierarchical (directory)
grouping, but no slash-separated component can begin with a
dot ..</p>

<p>2. They must contain at least one /. This enforces the
presence of a category like heads/, tags/ etc. but the
actual names are not restricted.</p>

<p>3. They cannot have two consecutive dots ..
anywhere.</p>

<p>4. They cannot have ASCII control characters (i.e. bytes
whose values are lower than 40, or 177 DEL), space, tilde ~,
caret ^, colon :, question-mark ?, asterisk *, or open
bracket [ anywhere.</p>

<p>5. They cannot end with a slash / nor a dot ..</p>

<p>6. They cannot end with the sequence .lock.</p>

<p>7. They cannot contain a sequence @{.</p>

<p>8. They cannot contain a .</p>

<p>These rules make it easy for shell script based tools to
parse reference names, pathname expansion by the shell when
a reference name is used unquoted (by mistake), and also
avoids ambiguities in certain reference name expressions
(see git-rev-parse(1)):</p>

<p>1. A double-dot .. is often used as in ref1..ref2, and
in some contexts this notation means ^ref1 ref2 (i.e. not in
ref1 and in ref2).</p>

<p>2. A tilde ~ and caret ^ are used to introduce the
postfix nth parent and peel onion operation.</p>

<p>3. A colon : is used as in srcref:dstref to mean
&quot;use srcrefs value and store it in dstref&quot; in
fetch and push operations. It may also be used to select a
specific object such as with git cat-file: &quot;git
cat-file blob v1.3.3:refs.c&quot;.</p>

<p>4. at-open-brace @{ is used as a notation to access a
reflog entry.</p>

<p>With the --print option, if refname is acceptable, it
prints the canonicalized name of a hypothetical reference
with that name. That is, it prints refname with any extra /
characters removed.</p>

<p>With the --branch option, it expands the previous branch
syntax @{-n}. For example, @{-1} is a way to refer the last
branch you were on. This option should be used by porcelains
to accept this syntax anywhere a branch name is expected, so
they can act as if you typed the branch name.</p>

<p>EXAMPLES &middot; Print the name of the previous
branch:</p>

<p>$ git check-ref-format --branch @{-1}</p>

<p>&middot; Determine the reference name to use for a new
branch:</p>

<p>$ ref=$(git check-ref-format --print
&quot;refs/heads/$newbranch&quot;) || die &quot;we do not
like &acute;$newbranch&acute; as a branch name.&quot;</p>

<p>GIT Part of the git(1) suite</p>

<p>Git 1.7.1 02/26/2013 GIT-CHECK-REF-FOR(1)</p>
<hr>
</body>
</html>
