<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:22:01 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>LOSETUP(8) MAINTENANCE COMMANDS LOSETUP(8)</p>

<p>NAME losetup - set up and control loop devices</p>

<p>SYNOPSIS Get info:</p>

<p>losetup loopdev</p>

<p>losetup -a</p>

<p>losetup -j file [-o offset]</p>

<p>Delete loop:</p>

<p>losetup -d loopdev...</p>

<p>Print name of first unused loop device:</p>

<p>losetup -f</p>

<p>Setup loop device:</p>

<p>losetup [{-e|-E} encryption] [-o offset] [--sizelimit
limit] [-p pfd] [-r] {-f[--show]|loopdev} file</p>

<p>Resize loop device:</p>

<p>losetup -c loopdev</p>

<p>DESCRIPTION losetup is used to associate loop devices
with regular files or block devices, to detach loop devices
and to query the status of a loop device. If only the
loopdev argument is given, the status of the corre- sponding
loop device is shown.</p>

<p>Encryption It is possible to specify transfer functions
(for encryption/decryption or other purposes) using one of
the -E and -e options. There are two mechanisms to specify
the desired encryption: by number and by name. If an
encryption is specified by number then one has to make sure
that the Linux kernel knows about the encryption with that
number, probably by patching the kernel. Standard numbers
that are always present are 0 (no encryption) and 1 (XOR
encryption). When the cryptoloop module is loaded (or
compiled in), it uses number 18. This cryptoloop module will
take the name of an arbitrary encryption type and find the
module that knows how to perform that encryption.</p>

<p>OPTIONS -a, --all show status of all loop devices</p>

<p>-c, --set-capacity loopdev force loop driver to reread
size of the file associated with the specified loop
device</p>

<p>-d, --detach loopdev... detach the file or device
associated with the specified loop device(s)</p>

<p>-e, -E, --encryption encryption_type enable data
encryption with specified name or number</p>

<p>-f, --find find the first unused loop device. If a file
argument is present, use this device. Otherwise, print its
name</p>

<p>-h, --help print help</p>

<p>-j, --associated file show status of all loop devices
associated with given file</p>

<p>-o, --offset offset the data start is moved offset bytes
into the specified file or device</p>

<p>--sizelimit limit the data end is set to no more than
sizelimit bytes after the data start</p>

<p>-p, --pass-fd num read the passphrase from file
descriptor with number num instead of from the terminal</p>

<p>-r, --read-only setup read-only loop device</p>

<p>--show print device name if the -f option and a file
argument are present.</p>

<p>The short form of this option (-s) is deprecated. This
short form could be in collision with Loop-AES
implementation where the same option is used for
--sizelimit.</p>

<p>-v, --verbose verbose mode</p>

<p>RETURN VALUE losetup returns 0 on success, nonzero on
failure. When losetup displays the status of a loop device,
it returns 1 if the device is not config- ured and 2 if an
error occurred which prevented losetup from determin- ing
the status of the device.</p>

<p>FILES /dev/loop0, /dev/loop1, ... loop devices
(major=7)</p>

<p>EXAMPLE If you are using the loadable module you must
have the module loaded first with the command</p>

<p># modprobe loop</p>

<p>Maybe also encryption modules are needed.</p>

<p># modprobe des # modprobe cryptoloop</p>

<p>The following commands can be used as an example of
using the loop device.</p>

<p># dd if=/dev/zero of=/file bs=1k count=100 # losetup -e
des /dev/loop0 /file Password: Init (up to 16 hex digits): #
mkfs -t ext2 /dev/loop0 100 # mount -t ext2 /dev/loop0 /mnt
... # umount /dev/loop0 # losetup -d /dev/loop0</p>

<p>If you are using the loadable module you may remove the
module with the command</p>

<p># rmmod loop</p>

<p>RESTRICTION DES encryption is painfully slow. On the
other hand, XOR is terribly weak.</p>

<p>Cryptoloop is deprecated in favor of dm-crypt. For more
details see cryptsetup(8).</p>

<p>AVAILABILITY The losetup command is part of the
util-linux-ng package and is avail- able from
ftp://ftp.kernel.org/pub/linux/utils/util-linux-ng/.</p>

<p>Linux 2003-07-01 LOSETUP(8)</p>
<hr>
</body>
</html>
