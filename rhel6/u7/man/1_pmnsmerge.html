<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:28:12 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>PMNSMERGE(1) PMNSMERGE(1)</p>

<p>NAME pmnsmerge - merge multiple versions of a
Performance Co-Pilot PMNS</p>

<p>SYNOPSIS $PCP_BINADM_DIR/pmnsmerge [-afv] infile [...]
outfile</p>

<p>DESCRIPTION pmnsmerge merges multiple instances of a
Performance Metrics Name Space (PMNS), as used by the
components of the Performance Co-Pilot (PCP).</p>

<p>Each infile argument names a file that includes the root
of a PMNS, of the form</p>

<p>root { /* arbitrary stuff */ }</p>

<p>The order in which the infile files are processed is
determined by the presence or absence of embedded control
lines of the form #define _DAT- ESTAMP YYYYMMDD</p>

<p>Files without a control line are processed first and in
the order they appear on the command line. The other files
are then processed in order of ascending _DATESTAMP.</p>

<p>The -a option suppresses the argument re-ordering and
processes all files in the order they appear on the command
line.</p>

<p>The merging proceeds by matching names in PMNS, only
those new names in each PMNS are considered, and these are
added after any existing met- rics with the longest possible
matching prefix in their names. For example, merging these
two input PMNS</p>

<p>root { root { surprise 1:1:3 mine 1:1:1 mine 1:1:1 foo
foo yawn yours 1:1:2 } } foo { foo { fumble 1:2:1 mumble
1:2:3 stumble 1:2:2 stumble 1:2:2 } } yawn { sleepy 1:3:1
}</p>

<p>Produces the resulting PMNS in out.</p>

<p>root { mine 1:1:1 foo yours 1:1:2 surprise 1:1:3 yawn }
foo { fumble 1:2:1 stumble 1:2:2 mumble 1:2:3 } yawn {
sleepy 1:3:1 }</p>

<p>To avoid accidental over-writing of PMNS files, outfile
is expected to not exist when pmnsmerge starts. The -f
option forces the removal of outfile (if it exists), before
the check is made.</p>

<p>The -v option produces one line of diagnostic output as
each infile is processed.</p>

<p>Once all of the merging has been completed, pmnsmerge
will attempt to load the resultant namespace using
pmLoadASCIINameSpace(3) - if this fails for any reason,
outfile will still be created, but pmnsmerge will report the
problem and exit with non-zero status.</p>

<p>CAVEAT Once the writing of the new outfile file has
begun, the signals SIGINT, SIGHUP and SIGTERM will be
ignored to protect the integrity of the new file.</p>

<p>PCP ENVIRONMENT Environment variables with the prefix
PCP_ are used to parameterize the file and directory names
used by PCP. On each installation, the file /etc/pcp.conf
contains the local values for these variables. The $PCP_CONF
variable may be used to specify an alternative configuration
file, as described in pcp.conf(5).</p>

<p>SEE ALSO pmnsadd(1), pmnsdel(1),
pmLoadASCIINameSpace(3), pcp.conf(5), pcp.env(5) and
pmns(5).</p>

<p>Performance Co-Pilot PCP PMNSMERGE(1)</p>
<hr>
</body>
</html>
