<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:19:36 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>ipa-replica-conncheck(1) FreeIPA Manual Pages
ipa-replica-conncheck(1)</p>

<p>NAME ipa-replica-conncheck - Check a replica-master
network connection before installation</p>

<p>SYNOPSIS ipa-replica-conncheck [OPTION]...</p>

<p>DESCRIPTION When an IPA replica is being installed a
network connection between a replica machine and a
replicated IPA master machine has to be prepared for
master-replica communication. In case of a flawed connection
the installation may fail with inconvenient error messages.
A common con- nection problem is a misconfigured firewall
with closed required port on a replica or master
machine.</p>

<p>The connection is checked by running a set of tests from
both master and replica machines. The program is
incorporated to ipa-replica-install(1) but can be also run
separately.</p>

<p>OPTIONS REPLICA MACHINE OPTIONS This set of options is
used when the connection check is run on a pre- pared IPA
replica machine.</p>

<p>-m MASTER, --master=MASTER Remote master machine
address</p>

<p>-a, --auto-master-check Automatically log in to master
machine and execute the master machine part of the
connection check. The following options for replica part are
only evaluated when this option is set</p>

<p>-r REALM, --realm=REALM The Kerberos realm name for the
IPA server</p>

<p>-k KDC, --kdc=KDC KDC server address. Defaults t
MASTER</p>

<p>-p PRINCIPAL, --principal=PRINCIPAL Authorized Kerberos
principal to use to log in to master machine. Defaults to
admin</p>

<p>-w PASSWORD, --password=PASSWORD Password for given
principal. The password will be prompted interactively when
this option is missing</p>

<p>MASTER MACHINE OPTIONS This set of options is used when
the connection check is run on a mas- ter machine against a
running ipa-replica-conncheck(1) on a replica machine.</p>

<p>-R REPLICA, --replica=REPLICA Remote replica machine
address</p>

<p>COMMON OPTIONS -c, --check-ca Include in a check also a
set of dogtag connection requirements. When a replica is
self-sign this option is not needed.</p>

<p>-h HOSTNAME, --hostname=HOSTNAME The hostname of this
server (FQDN). By default a nodename from uname(2) is
used</p>

<p>-d, --debug Print debugging information</p>

<p>-q, --quiet Output only errors</p>

<p>EXAMPLES ipa-replica-conncheck -m master.example.com Run
a replica machine connection check against a remote master
master.example.com. If the connection to the remote master
machine is successful the program will switch to listening
mode and prompt for running the master machine part. The
second part check the connection from master to replica.</p>

<p>ipa-replica-conncheck -R replica.example.com Run a
master machine connection check part. This is either run
automatically by replica part of the connection check
program (when -a option is set) or manually by the user. A
running ipa- replica-conncheck(1) in a listening mode must
be already running on a replica machine.</p>

<p>ipa-replica-conncheck -m master.example.com -a -r
EXAMPLE.COM -w pass- word Run a replica-master connection
check. In case of a success switch to listening mode,
automatically log to master.exam- ple.com in a realm
EXAMPLE.COM with a password password and run the second part
of the connection check.</p>

<p>EXIT STATUS 0 if the connection check was successful</p>

<p>1 if an error occurred</p>

<p>SEE ALSO ipa-replica-install(1)</p>

<p>FreeIPA Jun 2 2011 ipa-replica-conncheck(1)</p>
<hr>
</body>
</html>
