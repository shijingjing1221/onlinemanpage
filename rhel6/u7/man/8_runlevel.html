<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:32:05 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>runlevel(8) runlevel(8)</p>

<p>NAME runlevel - output previous and current runlevel</p>

<p>SYNOPSIS runlevel [OPTION]... [UTMP]</p>

<p>DESCRIPTION runlevel reads the system UTMP file, which
defaults to /var/run/utmp when no alternate filename is
given, to locate the most recent runlevel record.</p>

<p>The previous and current runlevel from that record are
output separated by a single space. If there is no previous
runlevel in the record, the letter N will be
substituted.</p>

<p>If no runlevel record can be found, runlevel outputs the
word unknown and exits with an error.</p>

<p>During system boot, the environment variables RUNLEVEL
and PREVLEVEL will be set by the init(8) daemon, these come
from the runlevel(7) event generated by telinit(8) or
shutdown(8).</p>

<p>When these environment variables are set, runlevel will
output the val- ues from these instead. Thus runlevel can be
used in rc scripts as a replacement for the System-V who(1)
-r command.</p>

<p>OPTIONS --quiet Does not output the current and previous
runlevel, nor does it output unknown in the case of error
(but it will exit with an error code).</p>

<p>This may be used to test for the presence of a runlevel
entry, or to check for errors reading from the file.</p>

<p>EXIT STATUS runlevel will exit with status 0 if a UTMP
record was found, otherwise it will exit with status 1.</p>

<p>ENVIRONMENT RUNLEVEL runlevel will read the current
runlevel from this environment variable if set in preference
to reading from /var/run/utmp</p>

<p>PREVLEVEL runlevel will read the previous runlevel from
this environment variable if RUNLEVEL was given, in
preference to reading from /var/run/utmp</p>

<p>FILES /var/run/utmp Where the current and previous
runlevels will be read from.</p>

<p>NOTES The Upstart init(8) daemon does not keep track of
runlevels itself, instead they are implemented entirely by
its userspace tools.</p>

<p>A change of runlevel is signalled by the runlevel(7)
event, generated by either the telinit(8) or shutdown(8)
tools. This event includes the new runlevel in the RUNLEVEL
environment variable, as well as the pre- vious runlevel
(obtained from their own environment or from /var/run/utmp)
in the PREVLEVEL variable.</p>

<p>As well as generating the event, both tools write the
new runlevel back to /var/run/utmp and append a new entry to
/var/log/wtmp.</p>

<p>AUTHOR Written by Scott James Remnant
&lt;scott@netsplit.com&gt;</p>

<p>REPORTING BUGS Report bugs at
&lt;https://launchpad.net/upstart/+bugs&gt;</p>

<p>COPYRIGHT Copyright &copy; 2009 Canonical Ltd. This is
free software; see the source for copying conditions. There
is NO warranty; not even for MERCHANTABILITY or FITNESS FOR
A PARTICULAR PURPOSE.</p>

<p>SEE ALSO runlevel(7) init(8) telinit(8) shutdown(8)
who(1)</p>

<p>Upstart 2009-07-09 runlevel(8)</p>
<hr>
</body>
</html>
