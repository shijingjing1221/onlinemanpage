<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:33:24 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>semanage(8) semanage(8)</p>

<p>NAME semanage - SELinux Policy Management tool</p>

<p>SYNOPSIS Output local customizations semanage [ -S store
] -o [ output_file | - ]</p>

<p>Input local customizations semanage [ -S store ] -i [
input_file | - ]</p>

<p>Manage booleans. Booleans allow the administrator to
modify the con- finement of processes based on his
configuration. semanage boolean [-S store] -{d|m|l|n|D} [-N]
-[-on|-off|1|0] -F boolean | boolean_file</p>

<p>Manage SELinux confined users (Roles and levels for an
SELinux user) semanage user [-S store] -{a|d|m|l|n|D}
[-LrRPN] selinux_name</p>

<p>Manage login mappings between linux users and SELinux
confined users. semanage login [-S store] -{a|d|m|l|n|D}
[-srN] login_name | %groupname</p>

<p>Manage policy modules. semanage module [-S store]
-{a|d|l} [-N] [-m [--enable | --disable] ] module_name</p>

<p>Manage network port type definitions semanage port [-S
store] -{a|d|m|l|n|D} [-trN] [-p proto] port |
port_range</p>

<p>Manage network interface type definitions semanage
interface [-S store] -{a|d|m|l|n|D} [-trN]
interface_spec</p>

<p>Manage network node type definitions semanage node [-S
store] -{a|d|m|l|n|D} [-trN] [ -p protocol ] [-M net- mask]
address</p>

<p>Manage file context mapping definitions semanage
fcontext [-S store] -{a|d|m|l|n|D} [-frstN] file_spec
semanage fcontext [-S store] -{a|d|m|l|n|D} -e replacement
target</p>

<p>Manage processes type enforcement mode semanage
permissive [-S store] [-N] -{a|d|l|n|D} type</p>

<p>Disable/Enable dontaudit rules in policy semanage
dontaudit [-S store] [-N] [ on | off ]</p>

<p>Execute multiple commands within a single transaction.
semanage [-S store] -i command-file</p>

<p>DESCRIPTION semanage is used to configure certain
elements of SELinux policy with- out requiring modification
to or recompilation from policy sources. This includes the
mapping from Linux usernames to SELinux user identi- ties
(which controls the initial security context assigned to
Linux users when they login and bounds their authorized role
set) as well as security context mappings for various kinds
of objects, such as network ports, interfaces, and nodes
(hosts) as well as the file context map- ping. See the
EXAMPLES section below for some examples of common usage.
Note that the semanage login command deals with the mapping
from Linux usernames (logins) to SELinux user identities,
while the semanage user command deals with the mapping from
SELinux user identities to autho- rized role sets. In most
cases, only the former mapping needs to be adjusted by the
administrator; the latter is principally defined by the base
policy and usually does not require modification.</p>

<p>OPTIONS -a, --add Add a OBJECT record NAME</p>

<p>-d, --delete Delete a OBJECT record NAME</p>

<p>-D, --deleteall Remove all OBJECTS local
customizations</p>

<p>--disable Disable a policy module, requires -m
option</p>

<p>Currently modules only.</p>

<p>--enable Enable a disabled policy module, requires -m
option</p>

<p>Currently modules only.</p>

<p>-e, --equal Substitute target path with sourcepath when
generating default label. This is used with fcontext.
Requires source and target path arguments. The context
labeling for the target subtree is made equivalent to that
defined for the source.</p>

<p>-f, --ftype File Type. This is used with fcontext.
Requires a file type as shown in the mode field by ls, e.g.
use -d to match only directories or -- to match only regular
files.</p>

<p>-F, --file Set multiple records from the input file.
When used with the -l --list, it will output the current
settings to stdout in the proper format.</p>

<p>Currently booleans only.</p>

<p>-h, --help display this message</p>

<p>-l, --list List the OBJECTS</p>

<p>-C, --locallist List only locally defined settings, not
base policy settings.</p>

<p>-E, --extract Extract customizable commands</p>

<p>-L, --level Default SELinux Level for SELinux use, s0
Default. (MLS/MCS Sys- tems only)</p>

<p>-m, --modify Modify a OBJECT record NAME</p>

<p>-M, --mask Network Mask</p>

<p>-n, --noheading Do not print heading when listing
OBJECTS.</p>

<p>-N, --noreload Do not reload policy after commit</p>

<p>-o, --output Output current customizations as semanage
commands</p>

<p>-p, --proto Protocol for the specified port (tcp|udp) or
internet protocol version for the specified node
(ipv4|ipv6).</p>

<p>-r, --range MLS/MCS Security Range (MLS/MCS Systems
only) SELinux Range for SELinux login mapping defaults to
the SELinux user record range. SELinux Range for SELinux
user defaults to s0-s0:c0.c1023.</p>

<p>-R, --roles SELinux Roles. You must enclose multiple
roles within quotes, separate by spaces. Or specify -R
multiple times.</p>

<p>-P, --prefix SELinux Prefix. Prefix added to home_dir_t
and home_t for labeling users home directories.</p>

<p>-s, --seuser SELinux user name</p>

<p>-S, --store Select and alternate SELinux store to
manage</p>

<p>-t, --type SELinux Type for the object</p>

<p>-i, --input Take a set of commands from a specified file
and load them in a single transaction.</p>

<p>EXAMPLE SELinux user List SELinux users # semanage user
-l</p>

<p>SELinux login Change joe to login as staff_u # semanage
login -a -s staff_u joe Change the group clerks to login as
user_u # semanage login -a -s user_u %clerks</p>

<p>File contexts Add file-context for everything under /web
# semanage fcontext -a -t httpd_sys_content_t
&quot;/web(/.*)?&quot; # restorecon -R -v /web</p>

<p>Substitute /home1 with /home when setting file context #
semanage fcontext -a -e /home /home1 # restorecon -R -v
/home1</p>

<p>For home directories under top level directory, for
example /disk6/home, execute the following commands. #
semanage fcontext -a -t home_root_t &quot;/disk6&quot; #
semanage fcontext -a -e /home /disk6/home # restorecon -R -v
/disk6</p>

<p>Port contexts Allow Apache to listen on tcp port 81 #
semanage port -a -t http_port_t -p tcp 81</p>

<p>Change apache to a permissive domain # semanage
permissive -a httpd_t</p>

<p>Turn off dontaudit rules # semanage dontaudit off</p>

<p>Managing multiple machines Multiple machines that need
the same customizations. Extract customizations off first
machine, copy them to second and import them.</p>

<p># semanage -o /tmp/local.selinux # scp
/tmp/local.selinux secondmachine:/tmp # ssh secondmachine #
semanage -i /tmp/local.selinux</p>

<p>If these customizations include file context, you need
to apply the context using restorecon.</p>

<p>AUTHOR This man page was written by Daniel Walsh
&lt;dwalsh@redhat.com&gt; and Russell Coker
&lt;rcoker@redhat.com&gt;. Examples by Thomas Bleher
&lt;ThomasBleher@gmx.de&gt;.</p>

<p>20100223 semanage(8)</p>
<hr>
</body>
</html>
