<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:22:00 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>LOOKUP_DCOOKIE(2) Linux Programmer s Manual
LOOKUP_DCOOKIE(2)</p>

<p>NAME lookup_dcookie - return a directory entrys path</p>

<p>SYNOPSIS int lookup_dcookie(u64 cookie, char *buffer,
size_t len);</p>

<p>DESCRIPTION Look up the full path of the directory entry
specified by the value cookie The cookie is an opaque
identifier uniquely identifying a par- ticular directory
entry. The buffer given is filled in with the full path of
the directory entry.</p>

<p>For lookup_dcookie() to return successfully, the kernel
must still hold a cookie reference to the directory
entry.</p>

<p>RETURN VALUE On success, lookup_dcookie() returns the
length of the path string copied into the buffer. On error,
-1 is returned, and errno is set appropriately.</p>

<p>ERRORS EFAULT The buffer was not valid.</p>

<p>EINVAL The kernel has no registered cookie/directory
entry mappings at the time of lookup, or the cookie does not
refer to a valid directory entry.</p>

<p>ENAMETOOLONG The name could not fit in the buffer.</p>

<p>ENOMEM The kernel could not allocate memory for the
temporary buffer holding the path.</p>

<p>EPERM The process does not have the capability
CAP_SYS_ADMIN required to look up cookie values.</p>

<p>ERANGE The buffer was not large enough to hold the path
of the direc- tory entry.</p>

<p>VERSIONS Available since Linux 2.5.43. The ENAMETOOLONG
error return was added in 2.5.70.</p>

<p>CONFORMING TO lookup_dcookie() is Linux-specific.</p>

<p>NOTES lookup_dcookie() is a special-purpose system call,
currently used only by the oprofile profiler. It relies on a
kernel driver to register cookies for directory entries.</p>

<p>The path returned may be suffixed by the string &quot;
(deleted)&quot; if the directory entry has been removed.</p>

<p>COLOPHON This page is part of release 3.22 of the Linux
man-pages project. A description of the project, and
information about reporting bugs, can be found at
http://www.kernel.org/doc/man-pages/.</p>

<p>Linux 2004-06-17 LOOKUP_DCOOKIE(2)</p>
<hr>
</body>
</html>
