<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:37:49 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>TB_POLGEN(8) User Manuals TB_POLGEN(8)</p>

<p>NAME tb_polgen - manage tboot verified launch policy</p>

<p>SYNOPSIS tb_polgen COMMAND [OPTION]</p>

<p>DESCRIPTION tb_polgen is used to manage tboot verified
launch policy.</p>

<p>COMMANDS --create Create an empty tboot verified launch
policy file.</p>

<p>--type nonfatal | continue | halt Nonfatal means
ignoring all non-fatal errors and continu- ing. Continue
means ignoring verification errors and halting otherwise.
Halt means halting on any errors.</p>

<p>[--ctrl policy-control-value] The default value 1 is to
extend policy into PCR 17.</p>

<p>policy-file</p>

<p>--add Add a module hash entry into a policy file.</p>

<p>--num module-number | any The module-number is the
0-based module number corre- sponding to modules loaded by
the bootloader.</p>

<p>--pcr TPM-PCR-number | none The TPM-PCR-number is the
PCR to extend the modules mea- surement into.</p>

<p>--hash any | image</p>

<p>[--cmdline command-line] The command line is from
grub.conf, and it should not include the module name (e.g.
&quot;/xen.gz&quot;).</p>

<p>[--image image-file-name]</p>

<p>policy-file</p>

<p>--del Delete a module hash entry from a policy file.</p>

<p>--num module-number | any The module-number is the
0-based module number corre- sponding to modules loaded by
the bootloader.</p>

<p>[--pos hash-number] The hash-number is the 0-based index
of the hash, within the list of hashes for the specified
module.</p>

<p>policy-file</p>

<p>--unwrap Extract the tboot verified launch policy from a
TXT LCP element file.</p>

<p>--elt elt-file</p>

<p>policy-file</p>

<p>--show policy-file Show the policy information in a
policy file.</p>

<p>--help Print out the help message.</p>

<p>--verbose Enable verbose output; can be specified with
any command.</p>

<p>EXAMPLES tb_polgen --create --type nonfatal vl.pol</p>

<p>tb_polgen --add --num 0 --pcr none --hash image
--cmdline &quot;cmdline&quot; --image /boot/xen.gz
vl.pol</p>

<p>tb_polgen --add --num 1 --pcr 19 --hash image --cmdline
&quot;cmdline&quot; --image /boot/vmlinuz-2.6.18.8-xen
vl.pol</p>

<p>tb_polgen --add --num 2 --pcr 19 --hash image --cmdline
&quot;&quot; --image /boot/initrd-2.6.18.8-xen.img
vl.pol</p>

<p>tb_polgen --del --num 1 vl.pol</p>

<p>tb_polgen --show --verbose vl.pol</p>

<p>Note1: It is not necessary to specify a PCR for module
0, since this modules measurement will always be extended to
PCR 18. If a PCR is specified, then the measurement will be
extended to that PCR in addition to PCR 18.</p>

<p>Note2: --unwrap is not implemented correctly. There
should be a defined UUID for this and that should be checked
before copying the data. There should be a wrap or similar
command to generates an element file for a policy.</p>

<p>SEE ALSO lcp_crtpol(8), lcp_crtpol2(8),
lcp_crtpolelt(8).</p>

<p>tboot 2011-12-31 TB_POLGEN(8)</p>
<hr>
</body>
</html>
