<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:43:11 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>UMAD_SEND(3) OpenIB Programmer&acute;s Manual
UMAD_SEND(3)</p>

<p>NAME umad_send - send umad</p>

<p>SYNOPSIS #include &lt;infiniband/umad.h&gt;</p>

<p>int umad_send(int portid, int agentid, void *umad, int
length, int timeout_ms, int retries);</p>

<p>DESCRIPTION umad_send() sends length bytes from the
specified umad buffer from the port specified by portid, and
using the agent specified by agentid.</p>

<p>The buffer can contain a RMPP transmission which is
larger than a sin- gle MAD packet when the agentid specifies
a class which utilizes RMPP and the header flags indicate
RMPP is active. NOTE currently only RMPPFlags.Active is
meaningful in the header in user space. All other RMPP
fields are ignored. The data section of the buffer will be
sent in multiple RMPP MAD packets with headers built for the
user.</p>

<p>timeout_ms controls the solicited MADs behavior as
follows: zero value means not solicited. Positive value
makes kernel indicate timeout in milliseconds. If reply is
not received within the specified value, the original buffer
is returned in the read channel with the status field set
(to non zero). Negative timeout_ms makes kernel wait forever
for the reply. retries indicates the number of times the MAD
will be retried before giving up.</p>

<p>RETURN VALUE umad_send() returns 0 on success; on error,
errno is set and a negative value is returned as follows:
-EINVAL invalid port handle or agentid -EIO send operation
failed</p>

<p>AUTHOR Hal Rosenstock &lt;halr@voltaire.com&gt;</p>

<p>OpenIB May 11, 2007 UMAD_SEND(3)</p>
<hr>
</body>
</html>
