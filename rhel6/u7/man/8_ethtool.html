<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:10:59 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>ETHTOOL(8) ETHTOOL(8)</p>

<p>NAME ethtool - query or control network driver and
hardware settings</p>

<p>SYNOPSIS ethtool devname</p>

<p>ethtool -h|--help</p>

<p>ethtool --version</p>

<p>ethtool -a|--show-pause devname</p>

<p>ethtool -A|--pause devname [autoneg on|off] [rx on|off]
[tx on|off]</p>

<p>ethtool -c|--show-coalesce devname</p>

<p>ethtool -C|--coalesce devname [adaptive-rx on|off]
[adaptive-tx on|off] [rx-usecs N] [rx-frames N]
[rx-usecs-irq N] [rx-frames-irq N] [tx-usecs N] [tx-frames
N] [tx-usecs-irq N] [tx-frames-irq N] [stats-block-usecs N]
[pkt-rate-low N] [rx-usecs-low N] [rx-frames-low N]
[tx-usecs-low N] [tx-frames-low N] [pkt-rate-high N]
[rx-usecs-high N] [rx-frames-high N] [tx-usecs-high N]
[tx-frames-high N] [sample-interval N]</p>

<p>ethtool -g|--show-ring devname</p>

<p>ethtool -G|--set-ring devname [rx N] [rx-mini N]
[rx-jumbo N] [tx N]</p>

<p>ethtool -i|--driver devname</p>

<p>ethtool -d|--register-dump devname [raw on|off] [hex
on|off] [file name]</p>

<p>ethtool -e|--eeprom-dump devname [raw on|off] [offset N]
[length N]</p>

<p>ethtool -E|--change-eeprom devname [magic N] [offset N]
[length N] [value N]</p>

<p>ethtool -k|--show-features|--show-offload devname</p>

<p>ethtool -K|--features|--offload devname feature on|off
...</p>

<p>ethtool -p|--identify devname [N]</p>

<p>ethtool -P|--show-permaddr devname</p>

<p>ethtool -r|--negotiate devname</p>

<p>ethtool -S|--statistics devname</p>

<p>ethtool -t|--test devname
[offline|online|external_lb]</p>

<p>ethtool -s devname speed N [duplex half|full] [port
tp|aui|bnc|mii] [mdix auto|on|off] [autoneg on|off]
[advertise N] [phyad N] [xcvr internal|external] [wol
p|u|m|b|a|g|s|d...] [sopass xx:yy:zz:aa:bb:cc] [msglvl N |
msglvl type on|off ...]</p>

<p>ethtool -n|-u|--show-nfc|--show-ntuple devname [
rx-flow-hash
tcp4|udp4|ah4|esp4|sctp4|tcp6|udp6|ah6|esp6|sctp6 | rule N
]</p>

<p>ethtool -N|-U|--config-nfc|--config-ntuple devname
rx-flow-hash
tcp4|udp4|ah4|esp4|sctp4|tcp6|udp6|ah6|esp6|sctp6
m|v|t|s|d|f|n|r... | flow-type
ether|ip4|tcp4|udp4|sctp4|ah4|esp4 [src xx:yy:zz:aa:bb:cc [m
xx:yy:zz:aa:bb:cc]] [dst xx:yy:zz:aa:bb:cc [m
xx:yy:zz:aa:bb:cc]] [proto N [m N]] [src-ip x.x.x.x [m
x.x.x.x]] [dst-ip x.x.x.x [m x.x.x.x]] [tos N [m N]]
[l4proto N [m N]] [src-port N [m N]] [dst-port N [m N]] [spi
N [m N]] [l4data N [m N]] [vlan-etype N [m N]] [vlan N [m
N]] [user-def N [m N]] [action N] [loc N] | delete N</p>

<p>ethtool -w|--get-dump devname [data filename]</p>

<p>ethtool -W|--set-dump devname N</p>

<p>ethtool -T|--show-time-stamping devname</p>

<p>ethtool -x|--show-rxfh-indir|--show-rxfh devname</p>

<p>ethtool -X|--set-rxfh-indir|--rxfh devname [hkey
xx:yy:zz:aa:bb:cc:...] [ equal N | weight W0 W1 ... ]</p>

<p>ethtool -f|--flash devname FILE [N]</p>

<p>ethtool -l|--show-channels devname</p>

<p>ethtool -L|--set-channels devname [rx N] [tx N] [other
N] [combined N]</p>

<p>ethtool -m|--dump-module-eeprom devname [raw on|off]
[hex on|off] [offset N] [length N]</p>

<p>ethtool --show-priv-flags devname</p>

<p>ethtool --set-priv-flags devname flag on|off ...</p>

<p>ethtool --show-eee devname</p>

<p>ethtool --set-eee devname [eee on|off] [tx-lpi on|off]
[tx-timer N] [advertise N]</p>

<p>DESCRIPTION ethtool is used to query and control network
device driver and hardware settings, particularly for wired
Ethernet devices.</p>

<p>devname is the name of the network device on which
ethtool should oper- ate.</p>

<p>OPTIONS ethtool with a single argument specifying the
device name prints cur- rent settings of the specified
device.</p>

<p>-h --help Shows a short help message.</p>

<p>--version Shows the ethtool version number.</p>

<p>-a --show-pause Queries the specified Ethernet device
for pause parameter infor- mation.</p>

<p>-A --pause Changes the pause parameters of the specified
Ethernet device.</p>

<p>autoneg on|off Specifies whether pause autonegotiation
should be enabled.</p>

<p>rx on|off Specifies whether RX pause should be
enabled.</p>

<p>tx on|off Specifies whether TX pause should be
enabled.</p>

<p>-c --show-coalesce Queries the specified network device
for coalescing information.</p>

<p>-C --coalesce Changes the coalescing settings of the
specified network device.</p>

<p>-g --show-ring Queries the specified network device for
rx/tx ring parameter information.</p>

<p>-G --set-ring Changes the rx/tx ring parameters of the
specified network de- vice.</p>

<p>rx N Changes the number of ring entries for the Rx
ring.</p>

<p>rx-mini N Changes the number of ring entries for the Rx
Mini ring.</p>

<p>rx-jumbo N Changes the number of ring entries for the Rx
Jumbo ring.</p>

<p>tx N Changes the number of ring entries for the Tx
ring.</p>

<p>-i --driver Queries the specified network device for
associated driver in- formation.</p>

<p>-d --register-dump Retrieves and prints a register dump
for the specified network device. The register format for
some devices is known and de- coded others are printed in
hex. When raw is enabled, then eth- tool dumps the raw
register data to stdout. If file is speci- fied, then use
contents of previous raw register dump, rather than reading
from the device.</p>

<p>-e --eeprom-dump Retrieves and prints an EEPROM dump for
the specified network device. When raw is enabled, then it
dumps the raw EEPROM data to stdout. The length and offset
parameters allow dumping cer- tain portions of the EEPROM.
Default is to dump the entire EEP- ROM.</p>

<p>-E --change-eeprom If value is specified, changes EEPROM
byte for the specified network device. offset and value
specify which byte and its new value. If value is not
specified, stdin is read and written to the EEPROM. The
length and offset parameters allow writing to certain
portions of the EEPROM. Because of the persistent na- ture
of writing to the EEPROM, a device-specific magic key must
be specified to prevent the accidental writing to the
EEPROM.</p>

<p>-k --show-features --show-offload Queries the specified
network device for the state of protocol offload and other
features.</p>

<p>-K --features --offload Changes the offload parameters
and other features of the speci- fied network device. The
following feature names are built-in and others may be
defined by the kernel.</p>

<p>rx on|off Specifies whether RX checksumming should be
enabled.</p>

<p>tx on|off Specifies whether TX checksumming should be
enabled.</p>

<p>sg on|off Specifies whether scatter-gather should be
enabled.</p>

<p>tso on|off Specifies whether TCP segmentation offload
should be enabled.</p>

<p>ufo on|off Specifies whether UDP fragmentation offload
should be enabled</p>

<p>gso on|off Specifies whether generic segmentation
offload should be enabled</p>

<p>gro on|off Specifies whether generic receive offload
should be enabled</p>

<p>lro on|off Specifies whether large receive offload
should be enabled</p>

<p>rxvlan on|off Specifies whether RX VLAN acceleration
should be enabled</p>

<p>txvlan on|off Specifies whether TX VLAN acceleration
should be enabled</p>

<p>ntuple on|off Specifies whether Rx ntuple filters and
actions should be en- abled</p>

<p>rxhash on|off Specifies whether receive hashing offload
should be enabled</p>

<p>-p --identify Initiates adapter-specific action intended
to enable an operator to easily identify the adapter by
sight. Typically this in- volves blinking one or more LEDs
on the specific network port.</p>

<p>N Length of time to perform phys-id, in seconds.</p>

<p>-P --show-permaddr Queries the specified network device
for permanent hardware ad- dress.</p>

<p>-r --negotiate Restarts auto-negotiation on the
specified Ethernet device, if auto-negotiation is
enabled.</p>

<p>-S --statistics Queries the specified network device for
NIC- and driver-specif- ic statistics.</p>

<p>-t --test Executes adapter selftest on the specified
network device. Pos- sible test modes are:</p>

<p>offline|online|external_lb defines test type: offline
(default) means to perform full set of tests possibly
causing normal operation interruption during the tests,
online means to perform limited set of tests do not
interrupting normal adapter operation, external_lb means to
per- form external-loopback test in addition to other
offline tests.</p>

<p>-s --change Allows changing some or all settings of the
specified network device. All following options only apply
if -s was specified.</p>

<p>speed N Set speed in Mb/s. ethtool with just the device
name as an ar- gument will show you the supported device
speeds.</p>

<p>duplex half|full Sets full or half duplex mode.</p>

<p>port tp|aui|bnc|mii Selects device port.</p>

<p>mdix auto|on|off Selects MDI-X mode for port. May be
used to override the auto- matic detection feature of most
adapters. An argument of auto means automatic detection of
MDI status, on forces MDI-X (crossover) mode, while off
means MDI (straight through) mode. The driver should
guarantee that this command takes effect imme- diately, and
if necessary may reset the link to cause the change to take
effect.</p>

<p>autoneg on|off Specifies whether autonegotiation should
be enabled. Autonegoti- ation is enabled by default, but in
some network devices may have trouble with it, so you can
disable it if really necessary.</p>

<p>advertise N Sets the speed and duplex advertised by
autonegotiation. The argument is a hexadecimal value using
one or a combination of the following values:</p>

<p>0x001 10 Half 0x002 10 Full 0x004 100 Half 0x008 100
Full 0x010 1000 Half (not supported by IEEE standards) 0x020
1000 Full 0x8000 2500 Full (not supported by IEEE standards)
0x1000 10000 Full 0x20000 20000MLD2 Full (not supported by
IEEE standards) 0x40000 20000KR2 Full (not supported by IEEE
standards)</p>

<p>phyad N PHY address.</p>

<p>xcvr internal|external Selects transceiver type.
Currently only internal and external can be specified, in
the future further types might be added.</p>

<p>wol p|u|m|b|a|g|s|d... Sets Wake-on-LAN options. Not all
devices support this. The argument to this option is a
string of characters specifying which options to enable.</p>

<p>p Wake on PHY activity u Wake on unicast messages m Wake
on multicast messages b Wake on broadcast messages a Wake on
ARP g Wake on MagicPacket s Enable SecureOn password for
MagicPacket d Disable (wake on nothing). This option clears
all previous options.</p>

<p>sopass xx:yy:zz:aa:bb:cc Sets the SecureOn password. The
argument to this option must be 6 bytes in Ethernet MAC hex
format (xx:yy:zz:aa:bb:cc).</p>

<p>msglvl N msglvl type on|off ... Sets the driver message
type flags by name or number. type names the type of message
to enable or disable; N specifies the new flags numerically.
The defined type names and numbers are:</p>

<p>drv 0x0001 General driver status probe 0x0002 Hardware
probing link 0x0004 Link state timer 0x0008 Periodic status
check ifdown 0x0010 Interface being brought down ifup 0x0020
Interface being brought up rx_err 0x0040 Receive error
tx_err 0x0080 Transmit error tx_queued 0x0100 Transmit
queueing intr 0x0200 Interrupt handling tx_done 0x0400
Transmit completion rx_status 0x0800 Receive completion
pktdata 0x1000 Packet contents hw 0x2000 Hardware status wol
0x4000 Wake-on-LAN status</p>

<p>The precise meanings of these type flags differ between
drivers.</p>

<p>-n -u --show-nfc --show-ntuple Retrieves receive network
flow classification options or rules.</p>

<p>rx-flow-hash
tcp4|udp4|ah4|esp4|sctp4|tcp6|udp6|ah6|esp6|sctp6 Retrieves
the hash options for the specified flow type.</p>

<p>tcp4 TCP over IPv4 udp4 UDP over IPv4 ah4 IPSEC AH over
IPv4 esp4 IPSEC ESP over IPv4 sctp4 SCTP over IPv4 tcp6 TCP
over IPv6 udp6 UDP over IPv6 ah6 IPSEC AH over IPv6 esp6
IPSEC ESP over IPv6 sctp6 SCTP over IPv6</p>

<p>rule N Retrieves the RX classification rule with the
given ID.</p>

<p>-N -U --config-nfc --config-ntuple Configures receive
network flow classification options or rules.</p>

<p>rx-flow-hash
tcp4|udp4|ah4|esp4|sctp4|tcp6|udp6|ah6|esp6|sctp6
m|v|t|s|d|f|n|r... Configures the hash options for the
specified flow type.</p>

<p>m Hash on the Layer 2 destination address of the rx
packet. v Hash on the VLAN tag of the rx packet. t Hash on
the Layer 3 protocol field of the rx packet. s Hash on the
IP source address of the rx packet. d Hash on the IP
destination address of the rx packet. f Hash on bytes 0 and
1 of the Layer 4 header of the rx packet. n Hash on bytes 2
and 3 of the Layer 4 header of the rx packet. r Discard all
packets of this flow type. When this option is set, all
other options are ignored.</p>

<p>flow-type ether|ip4|tcp4|udp4|sctp4|ah4|esp4 Inserts or
updates a classification rule for the specified flow
type.</p>

<p>ether Ethernet ip4 Raw IPv4 tcp4 TCP over IPv4 udp4 UDP
over IPv4 sctp4 SCTP over IPv4 ah4 IPSEC AH over IPv4 esp4
IPSEC ESP over IPv4</p>

<p>All fields below that include a mask option may either
use &quot;m&quot; to indi- cate a mask, or may use the full
name of the field with a &quot;-mask&quot; ap- pended to
indicate that this is the mask for a given field.</p>

<p>src xx:yy:zz:aa:bb:cc [m xx:yy:zz:aa:bb:cc] Includes the
source MAC address, specified as 6 bytes in hex- adecimal
separated by colons, along with an optional mask. Valid only
for flow-type ether.</p>

<p>dst xx:yy:zz:aa:bb:cc [m xx:yy:zz:aa:bb:cc] Includes the
destination MAC address, specified as 6 bytes in hexadecimal
separated by colons, along with an optional mask. Valid only
for flow-type ether.</p>

<p>proto N [m N] Includes the Ethernet protocol number
(ethertype) and an option- al mask. Valid only for flow-type
ether.</p>

<p>src-ip x.x.x.x [m x.x.x.x] Specify the source IP address
of the incoming packet to match along with an optional mask.
Valid for all IPv4 based flow- types.</p>

<p>dst-ip x.x.x.x [m x.x.x.x] Specify the destination IP
address of the incoming packet to match along with an
optional mask. Valid for all IPv4 based flow-types.</p>

<p>tos N [m N] Specify the value of the Type of Service
field in the incoming packet to match along with an optional
mask. Applies to all IPv4 based flow-types.</p>

<p>l4proto N [l4m N] Includes the layer 4 protocol number
and optional mask. Valid only for flow-type ip4.</p>

<p>src-port N [m N] Specify the value of the source port
field (applicable to TCP/UDP packets) in the incoming packet
to match along with an optional mask. Valid for flow-types
ip4, tcp4, udp4, and sctp4.</p>

<p>dst-port N [m N] Specify the value of the destination
port field (applicable to TCP/UDP packets)in the incoming
packet to match along with an optional mask. Valid for
flow-types ip4, tcp4, udp4, and sctp4.</p>

<p>spi N [m N] Specify the value of the security parameter
index field (appli- cable to AH/ESP packets)in the incoming
packet to match along with an optional mask. Valid for
flow-types ip4, ah4, and esp4.</p>

<p>l4data N [m N] Specify the value of the first 4 Bytes of
Layer 4 in the incom- ing packet to match along with an
optional mask. Valid for ip4 flow-type.</p>

<p>vlan-etype N [m N] Includes the VLAN tag Ethertype and
an optional mask.</p>

<p>vlan N [m N] Includes the VLAN tag and an optional
mask.</p>

<p>user-def N [m N] Includes 64-bits of user-specific data
and an optional mask.</p>

<p>action N Specifies the Rx queue to send packets to, or
some other action.</p>

<p>-1 Drop the matched flow 0 or higher Rx queue to route
the flow</p>

<p>loc N Specify the location/ID to insert the rule. This
will overwrite any rule present in that location and will
not go through any of the rule ordering process.</p>

<p>delete N Deletes the RX classification rule with the
given ID.</p>

<p>-w --get-dump Retrieves and prints firmware dump for the
specified network de- vice. By default, it prints out the
dump flag, version and length of the dump data. When data is
indicated, then ethtool fetches the dump data and directs it
to a file.</p>

<p>-W --set-dump Sets the dump flag for the device.</p>

<p>-T --show-time-stamping Show the devices time stamping
capabilities and associated PTP hardware clock.</p>

<p>-x --show-rxfh-indir --show-rxfh Retrieves the receive
flow hash indirection table and/or RSS hash key.</p>

<p>-X --set-rxfh-indir --rxfh Configures the receive flow
hash indirection table and/or RSS hash key.</p>

<p>hkey Sets RSS hash key of the specified network device.
RSS hash key should be of device supported length. Hash key
format must be in xx:yy:zz:aa:bb:cc format meaning both the
nibbles of a byte should be mentioned even if a nibble is
zero.</p>

<p>equal N Sets the receive flow hash indirection table to
spread flows evenly between the first N receive queues.</p>

<p>weight W0 W1 ... Sets the receive flow hash indirection
table to spread flows be- tween receive queues according to
the given weights. The sum of the weights must be non-zero
and must not exceed the size of the indirection table.</p>

<p>-f --flash FILE Flash firmware image from the specified
file to a region on the adapter. By default this will flash
all the regions on the adapter.</p>

<p>N A number to identify flash region where the image
should be flashed. Default region is 0 which denotes all
regions in the flash.</p>

<p>-l --show-channels Queries the specified network device
for the numbers of channels it has. A channel is an IRQ and
the set of queues that can trigger that IRQ.</p>

<p>-L --set-channels Changes the numbers of channels of the
specified network device.</p>

<p>rx N Changes the number of channels with only receive
queues.</p>

<p>tx N Changes the number of channels with only transmit
queues.</p>

<p>other N Changes the number of channels used only for
other purposes e.g. link interrupts or SR-IOV
co-ordination.</p>

<p>combined N Changes the number of multi-purpose
channels.</p>

<p>-m --dump-module-eeprom Retrieves and if possible
decodes the EEPROM from plugin mod- ules, e.g SFP+, QSFP</p>

<p>--show-priv-flags Queries the specified network device
for its private flags. The names and meanings of private
flags (if any) are defined by each network device
driver.</p>

<p>--set-priv-flags Sets the devices private flags as
specified.</p>

<p>flag on|off Sets the state of the named private
flag.</p>

<p>--show-eee Queries the specified network device for its
support of Energy- Efficient Ethernet (according to the IEEE
802.3az specifica- tions)</p>

<p>--set-eee Sets the device EEE behaviour.</p>

<p>eee on|off Enables/disables the device support of
EEE.</p>

<p>tx-lpi on|off Determines whether the device should
assert its Tx LPI.</p>

<p>advertise N Sets the speeds for which the device should
advertise EEE capa- biliities. Values are as for --change
advertise</p>

<p>tx-timer N Sets the amount of time the device should
stay in idle mode pri- or to asserting its Tx LPI (in
microseconds). This has meaning only when Tx LPI is
enabled.</p>

<p>BUGS Not supported (in part or whole) on all network
drivers.</p>

<p>AUTHOR ethtool was written by David Miller.</p>

<p>Modifications by Jeff Garzik, Tim Hockin, Jakub Jelinek,
Andre Majorel, Eli Kupermann, Scott Feldman, Andi Kleen,
Alexander Duyck, Sucheta Chakraborty.</p>

<p>AVAILABILITY ethtool is available from
http://www.kernel.org/pub/software/network/ethtool/</p>

<p>Ethtool version 3.5 June 2012 ETHTOOL(8)</p>
<hr>
</body>
</html>
