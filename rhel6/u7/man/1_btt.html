<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:06:33 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>BTT(1) BTT(1)</p>

<p>NAME btt - analyse block i/o traces produces by
blktrace</p>

<p>SYNOPSIS btt [ -a | --seek-absolute ] [ -A | --all-data
] [ -B &lt;output name&gt; | --dump-blocknos=&lt;output
name&gt; ] [ -d &lt;seconds&gt; |
--range-delta=&lt;seconds&gt; ] [ -D &lt;dev;...&gt; |
--devices=&lt;dev;...&gt; ] [ -e &lt;exe,...&gt; |
--exes=&lt;exe,...&gt; ] [ -h | --help ] [ -i &lt;input
name&gt; | --input-file=&lt;input name&gt; ] [ -I &lt;output
name&gt; | --iostat=&lt;output name&gt; ] [ -l &lt;output
name&gt; | --d2c-latencies=&lt;output name&gt; ] [ -L
&lt;freq&gt; | --periodic-latencies=&lt;freq&gt; ] [ -m
&lt;output name&gt; | --seeks-per-second=&lt;output name&gt;
] [ -M &lt;dev map&gt; | --dev-maps=&lt;dev map&gt; [ -o
&lt;output name&gt; | --output-file=&lt;output name&gt; ] [
-p &lt;output name&gt; | --per-io-dump=&lt;output name&gt; ]
[ -P &lt;output name&gt; | --per-io-trees=&lt;output
name&gt; ] [ -q &lt;output name&gt; |
--q2c-latencies=&lt;output name&gt; ] [ -Q &lt;output
name&gt; | --active-queue-depth=&lt;output name&gt; ] [ -r |
--no-remaps ] [ -s &lt;output name&gt; | --seeks=&lt;output
name&gt; ] [ -S &lt;interval&gt; |
--iostat-interval=&lt;interval&gt; ] [ -t &lt;sec&gt; |
--time-start=&lt;sec&gt; ] [ -T &lt;sec&gt; |
--time-end=&lt;sec&gt; ] [ -u &lt;output name&gt; |
--unplug-hist=&lt;output name&gt; ] [ -v | --verbose ] [ -V
| --version ] [ -X | --easy-parse-avgs ] [ -z &lt;output
name&gt; | --q2d-latencies=&lt;output name&gt; ]</p>

<p>DESCRIPTION btt is a post-processing tool for the block
layer IO tracing tool called blktrace(8). As noted in its
documentation, blktrace is a block layer IO tracing
mechanism which provides detailed information about request
queue operations up to user space.</p>

<p>btt will take in binary dump data from blkparse, and
analyse the events, producing a series of output from the
analysis. It will also build .dat files containing
&quot;range data&quot; -- showing things like Q activity
(periods of time while Q events are being produced), C
activ- ity (likewise for command completions), and etc.</p>

<p>Included with the distribution is a simple 3D plotting
utility, bno_plot, which can plot the block numbers btt
outputs if the -B option is specified. The display will
display each IO generated, with the time (seconds) along the
X-axis, the block number (start) along the Y-axis and the
number of blocks transferred in the IO represented along the
Z- axis.</p>

<p>OPTIONS -a --seek-absolute When specified on the command
line, this directs btt to calculate seek distances based
solely upon the ending block address of one IO, and the
start of the next. By default btt uses the concept of the
closeness to either the beginning or end of the previous IO.
See the Users Manual for more details about seek
distances.</p>

<p>-A --all-data Normally btt will not print out verbose
information concerning per- process and per-device data. If
you desire that level of detail you can specify this
option.</p>

<p>-B &lt;output name&gt; --dump-blocknos=&lt;output
name&gt; This option will output absolute block numbers to
three files pre- fixed by the specified output name:</p>

<p>prefix_device_r.dat All read block numbers are output,
first column is time (seconds), second is the block number,
and the third column is the ending block number.</p>

<p>prefix_device_w.dat All write block numbers are output,
first column is time (seconds), second is the block number,
and the third column is the ending block number.</p>

<p>prefix_device_c.dat All block numbers (read and write)
are output, first column is time (seconds), second is the
block number, and the third column is the ending block
number.</p>

<p>-d &lt;seconds&gt; --range-delta=&lt;seconds&gt; btt
outputs a file containing Q and C activity, the notion of
active traces simply means that there are Q or C traces
occurring within a certain period of each other. The default
values is 0.1 seconds; with this option allowing one to
change that granularity. The smaller the value, the more
data points provided.</p>

<p>-D &lt;dev;...&gt; --devices=&lt;dev;...&gt; Normally,
btt will produce data for all devices detected in the traces
parsed. With this option, one can reduce the analysis to one
or more devices provided in the string passed to this
option. The device identifiers are the major and minor
number of each device, and each device identifier is
separated by a colon (:). A valid specifier for devices 8,0
and 8,8 would then be: 8,0:8,8.</p>

<p>-e &lt;exe,...&gt; --exes=&lt;exe,...&gt; The -e option
supplies the list of executables that will have I/Os
analysed.</p>

<p>-h --help Shows a short summary of possible command line
option</p>

<p>-i &lt;input name&gt; --input-file &lt;input file&gt;
Specifies the input file to analyse. This should be a trace
file produced by blktrace (8).</p>

<p>-I &lt;output name&gt; --iostat=&lt;output name&gt; The
-I option directs btt to output iostat-like data to the
specified file. Refer to the iostat (sysstat) documentation
for details on the data columns.</p>

<p>-l &lt;output name&gt; --d2c-latencies=&lt;output
name&gt; The -l option allows one to output per-IO D2C
latencies respec- tively. The supplied argument provides the
basis for the output name for each device.</p>

<p>-L &lt;freq&gt; --periodic-latencies=&lt;freq&gt; The -L
option allows one to output periodic latency information for
both Q2C and D2C latencies. The frequency specified will
regulate how often an average latency is output -- a
floating point value expressing seconds.</p>

<p>-m &lt;output name&gt; --seeks-per-second=&lt;output
name&gt; Trigger btt to output seeks-per-second information.
The first col- umn will contain a time value (seconds), and
the second column will indicate the number of seeks per
second at that point.</p>

<p>-M &lt;dev map&gt; --dev-maps=&lt;dev map&gt; The -M
option takes in a file generated by the provided script
(gen_disk_info.py), and allows for better output of device
names.</p>

<p>-o &lt;output name&gt; --output-file=&lt;output name&gt;
Specifies the output file name.</p>

<p>-p &lt;output name&gt; --per-io-dump=&lt;output name&gt;
The -p option will generate a file that contains a list of
all IO &quot;sequences&quot; - showing the parts of each IO
(Q, A, I/M, D, &amp; C).</p>

<p>-P &lt;output name&gt; --per-io-trees=&lt;output
name&gt; The -P option will generate a file that contains a
list of all IO &quot;sequences&quot; - showing only the Q, D
&amp; C operation times. The D &amp; C time values are
separated from the Q time values with a vertical bar.</p>

<p>-q &lt;output name&gt; --q2c-latencies=&lt;output
name&gt; The -q option allows one to output per-IO Q2C
latencies respec- tively. The supplied argument provides the
basis for the output name for each device.</p>

<p>-Q &lt;output name&gt; --active-queue-depth=&lt;output
name&gt; The -Q option allows one to output data files
showing the time stamp and the depth of active commands
(those issued but not com- pleted).</p>

<p>-r --no-remaps Ignore remap traces; older kernels did
not implement the full remap PDU.</p>

<p>-s &lt;output name&gt; --seeks=&lt;output name&gt; The
-s option instructs btt to output seek data, the argument
pro- vided is the basis for file names output. There are two
files per device, read seeks and write seeks.</p>

<p>-S &lt;interval&gt; --iostat-interval=&lt;interval&gt;
The -S option specifies the interval to use between data
output, it defaults to once per second.</p>

<p>-t &lt;sec&gt; --time-start=&lt;sec&gt; -T &lt;sec&gt;
--time-end=&lt;sec&gt; The -t/-T options allow one to set a
start and/or end time for analysing - analysing will only be
done for traces after -ts argu- ment and before -T s
argument. (-t and -T are optional, so if you specify just
-t, analysis will occur for all traces after the time
specified. Similarly, if only -T is specified, analysis
stops after -Ts seconds.)</p>

<p>-u &lt;output name&gt; --unplug-hist=&lt;output name&gt;
This option instructs btt to generate a data file containing
his- togram information for unplug traces on a per device
basis. It shows how many times an unplug was hit with a
specified number of IOs released. There are 21 output values
into the file, as follows:</p>

<p>a value of 0 represents 0..4 counts a value of 1
represents 5..9 counts a value of 2 represents 10..14 counts
etc, until a value of 20 represents 100+ counts</p>

<p>The file name(s) generated use the text string passed as
an argu- ment for the prefix, followed by the device
identifier in major,minor form, with a .dat extension. For
example, with -u up_hist specified on the command line:
up_hist_008,032.dat.</p>

<p>-V --version Shows the version of btt.</p>

<p>-v --verbose Requests a more verbose output.</p>

<p>-X --easy-parse-avgs Provide data in an easy-to-parse
form and write it to a file with .avg exentsion</p>

<p>-z &lt;output name&gt; --q2d-latencies=&lt;output
name&gt; The -z option allows one to output per-IO Q2D
latencies respec- tively. The supplied argument provides the
basis for the output name for each device.</p>

<p>AUTHORS btt was written by Alan D. Brunelle. This man
page was created from the blktrace documentation by Bas
Zoetekouw.</p>

<p>REPORTING BUGS Report bugs to
&lt;linux-btrace@vger.kernel.org&gt;</p>

<p>COPYRIGHT Copyright &copy; 2006 Jens Axboe, Alan D.
Brunelle and Nathan Scott. This is free software. You may
redistribute copies of it under the terms of the GNU General
Public License &lt;http://www.gnu.org/licenses/gpl.html&gt;.
There is NO WARRANTY, to the extent permitted by law. This
manual page was created for Debian by Bas Zoetekouw. It was
derived from the documentation provided by the authors and
it may be used, distributed and modified under the terms of
the GNU General Pub- lic License, version 2. On Debian
systems, the text of the GNU General Public License can be
found in /usr/share/common-licenses/GPL-2.</p>

<p>SEE ALSO The btt Users Guide, which can be found in
/usr/share/doc/blk- trace/btt.pdf bno_plot (1), blktrace
(8), blkparse (1), verify_blkparse (1), blkrawverify (1),
btt (1)</p>

<p>blktrace git-20070910192508 September 29, 2007
BTT(1)</p>
<hr>
</body>
</html>
