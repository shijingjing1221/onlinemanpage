<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:04:13 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>AMF.CONF(5) AMF.CONF(5)</p>

<p>NAME amf.conf - corosync AMF configuration file</p>

<p>DESCRIPTION amf.conf is the configuration file that
determines the behaviour of the AIS Availability Management
Framework service, AMF in the corosync implementation.</p>

<p>Entries in this file will for example determine what
applications AMF will start and how to supervise them.</p>

<p>By default AMF opens /etc/ais/amf.conf. The environment
variable OPE- NAIS_AMF_CONFIG_FILE can be set to the
pathname of an AMF configuration file to override the
default behaviour.</p>

<p>Any line whose first non-white-space character is a # is
considered a comment line. Empty lines are ignored.</p>

<p>The file contains object entries of the form:</p>

<p>&lt;Object Class&gt; = &lt;Object Name&gt; {
&lt;attribute&gt; = &lt;value&gt; ... }</p>

<p>Object entries are nested, one entry contains another
entry. This way relations between objects are built up. For
example a component object defined inside a Software Unit
(SU) object means that the component belongs to the SU. In
other words, the SU is composed of the component. See the
example configuration file.</p>

<p>The relation between objects has to comply with the AMF
model specified in [5].</p>

<p>Object names shall use only printable ASCII characters.
Object names shall be unique within its context, i.e. two
components within the same service unit has to have
different names, but can have the same name as another
component within another service unit.</p>

<p>Attribute names are consistent with the naming of the
configuration attributes in [5].</p>

<p>AMF object attributes are either configuration or
runtime attributes. The AMF configuration file is used to
specify configuration attributes. Some configuration
attributes have default values and does not need to be
specified. Others are not valid in certain redundancy models
and so on.</p>

<p>The type of an attribute value is either a string, a
number, a time or an enumeration. Enumeration values are
specified according to the type definition in the AIS
specification. Time values are specified in mil-
liseconds.</p>

<p>Multivalue attributes are specified using multiple
entries with the same attribute name but different values.
See the example configuration file.</p>

<p>The (RDN) value of safAmfNode is a logical name for an
AMF node. It is mapped to a real physical node using the
attribute saAmfNodeClmNode.</p>

<p>The value of the attribute saAmfNodeClmNode should be
the hostname (without domain name) as given to the host at
boot time. This name is returned by the shell command
hostname.</p>

<p>Currently, AMF is enabled/disabled by an entry in the
corosync.conf file, see [1]. It is default disabled.</p>

<p>The following list of attributes is currently
supported:</p>

<p>safAmfCluster</p>

<p>saAmfClusterStartupTimeout</p>

<p>safAmfNode</p>

<p>saAmfNodeClmNode Host name, required</p>

<p>saAmfNodeSuFailOverProb Required but not used.</p>

<p>saAmfNodeSuFailoverMax Required but not used.</p>

<p>safApp</p>

<p>clccli_path A path added to all CLC-CLI scripts</p>

<p>saAmfSIProtectedbySG Required when several SGs are
specified</p>

<p>safSg</p>

<p>safSi</p>

<p>saAmfSINumCSIs Required but not used.</p>

<p>safCSType</p>

<p>saAmfSGRedundancyModel Currently only nplusm is
supported, required.</p>

<p>saAmfSGNumPrefActiveSUs</p>

<p>saAmfSGNumPrefStandbySUs</p>

<p>saAmfSGMaxActiveSIsperSUs</p>

<p>saAmfSGMaxStandbySIsperSUs</p>

<p>saAmfSGCompRestartProb Required but not used.</p>

<p>saAmfSGCompRestartMax</p>

<p>saAmfSGSuRestartProb Required but not used.</p>

<p>saAmfSGAutoAdjustProb Required but not used.</p>

<p>saAmfSGSuRestartMax</p>

<p>safSu</p>

<p>saAmfSUNumComponents Required but not used.</p>

<p>saAmfSUIsExternal Required but not used.</p>

<p>saAmfSUFailover Required but not used.</p>

<p>saAmfSUHostedByNode Required. Set to AMF node name.
Note: this is a deviation from the specifica- tion.</p>

<p>safComp</p>

<p>saAmfCompCsTypes Multivalue</p>

<p>saAmfCompCategory</p>

<p>saAmfCompCapability Required but not used.</p>

<p>saAmfCompNumMaxActiveCsi Required but not used.</p>

<p>saAmfCompNumMaxStandbyCsi Required but not used.</p>

<p>saAmfCompCmdEnv Multivalue</p>

<p>saAmfCompDefaultClcCliTimeout Required but not used.</p>

<p>saAmfCompDefaultCallbackTimeOut Required but not
used.</p>

<p>saAmfCompInstantiateCmdArgv</p>

<p>saAmfCompInstantiateCmd</p>

<p>saAmfCompTerminateCmdArgv Required but not used.</p>

<p>saAmfCompTerminateCmd Required but not used.</p>

<p>saAmfCompCleanupCmdArgv</p>

<p>saAmfCompCleanupCmd</p>

<p>saAmfCompRecoveryOnError Required but not used.</p>

<p>safHealthcheckKey</p>

<p>saAmfHealthcheckPeriod</p>

<p>saAmfHealthcheckMaxDuration</p>

<p>safCsi</p>

<p>saAmfSIPrefActiveAssignments</p>

<p>saAmfSIPrefStandbyAssignments</p>

<p>saAmfCSTypeName</p>

<p>safCSIAttr Multivalue</p>

<p>AUTHOR Hans.Feldt at ericsson.com</p>

<p>EXAMPLE For an AMF configuration file example, see the
amf.conf file under the corosync conf directory.</p>

<p>FILES /etc/ais/amf.conf</p>

<p>/etc/ais/corosync.conf</p>

<p>SEE ALSO [1] corosync_conf (5)</p>

<p>[2] corosync_overview (8)</p>

<p>[3] README.amf</p>

<p>[4] www.saforum.org - SAI-XMI-A.01.01.xml.xip</p>

<p>[5] www.saforum.org - SAI-Overview.B.02.01.pdf</p>

<p>[6] www.saforum.org - SAI-AIS-AMF-B.02.01.pdf</p>

<p>corosync Man Page 2006-08-29 AMF.CONF(5)</p>
<hr>
</body>
</html>
