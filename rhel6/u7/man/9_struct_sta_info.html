<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:37:06 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>STRUCT STA_INFO(9) Internals STRUCT STA_INFO(9)</p>

<p>NAME struct_sta_info - STA information</p>

<p>SYNOPSIS struct sta_info { struct list_head list; struct
list_head free_list; struct rcu_head rcu_head; struct
sta_info __rcu * hnext; struct ieee80211_local * local;
struct ieee80211_sub_if_data * sdata; struct ieee80211_key
__rcu * gtk[NUM_DEFAULT_KEYS + NUM_DEFAULT_MGMT_KEYS];
struct ieee80211_key __rcu * ptk[NUM_DEFAULT_KEYS]; u8
gtk_idx; u8 ptk_idx; struct rate_control_ref * rate_ctrl;
void * rate_ctrl_priv; spinlock_t lock; struct work_struct
drv_deliver_wk; u16 listen_interval; bool dead; bool
uploaded; enum ieee80211_sta_state sta_state; unsigned long
_flags; spinlock_t ps_lock; struct sk_buff_head
ps_tx_buf[IEEE80211_NUM_ACS]; struct sk_buff_head
tx_filtered[IEEE80211_NUM_ACS]; unsigned long
driver_buffered_tids; unsigned long rx_packets; u64
rx_bytes; unsigned long last_rx; long last_connected;
unsigned long num_duplicates; unsigned long rx_fragments;
unsigned long rx_dropped; int last_signal; struct ewma
avg_signal; int last_ack_signal; u8 chains; s8
chain_signal_last[IEEE80211_MAX_CHAINS]; struct ewma
chain_signal_avg[IEEE80211_MAX_CHAINS]; __le16
last_seq_ctrl[IEEE80211_NUM_TIDS + 1]; unsigned long
tx_filtered_count; unsigned long tx_retry_failed; unsigned
long tx_retry_count; unsigned int fail_avg; u32
tx_fragments; u64 tx_packets[IEEE80211_NUM_ACS]; u64
tx_bytes[IEEE80211_NUM_ACS]; struct ieee80211_tx_rate
last_tx_rate; int last_rx_rate_idx; u32 last_rx_rate_flag;
u32 last_rx_rate_vht_flag; u8 last_rx_rate_vht_nss; u16
tid_seq[IEEE80211_QOS_CTL_TID_MASK + 1]; struct
sta_ampdu_mlme ampdu_mlme; u8
timer_to_tid[IEEE80211_NUM_TIDS]; struct
ieee80211_tx_latency_stat * tx_lat; #ifdef
CONFIG_MAC80211_MESH u16 llid; u16 plid; u16 reason; u8
plink_retries; enum nl80211_plink_state plink_state; u32
plink_timeout; struct timer_list plink_timer; s64 t_offset;
s64 t_offset_setpoint; enum nl80211_mesh_power_mode
local_pm; enum nl80211_mesh_power_mode peer_pm; enum
nl80211_mesh_power_mode nonpeer_pm; #endif #ifdef
CONFIG_MAC80211_DEBUGFS struct sta_info_debugfsdentries
debugfs; #endif enum ieee80211_sta_rx_bandwidth
cur_max_bandwidth; unsigned int lost_packets; unsigned int
beacon_loss_count; enum ieee80211_smps_mode known_smps_mode;
const struct ieee80211_cipher_scheme * cipher_scheme;
unsigned long last_tdls_pkt_time; u8 reserved_tid; struct
ieee80211_sta sta; };</p>

<p>MEMBERS list global linked list entry</p>

<p>free_list list entry for keeping track of stations to
free</p>

<p>rcu_head RCU head used for freeing this station
struct</p>

<p>hnext hash table linked list pointer</p>

<p>local pointer to the global information</p>

<p>sdata virtual interface this station belongs to</p>

<p>gtk[NUM_DEFAULT_KEYS + NUM_DEFAULT_MGMT_KEYS] group keys
negotiated with this station, if any</p>

<p>ptk[NUM_DEFAULT_KEYS] peer keys negotiated with this
station, if any</p>

<p>gtk_idx last installed group key index</p>

<p>ptk_idx last installed peer key index</p>

<p>rate_ctrl rate control algorithm reference</p>

<p>rate_ctrl_priv rate control private per-STA pointer</p>

<p>lock used for locking all fields that require locking,
see comments in the header file.</p>

<p>drv_deliver_wk used for delivering frames after driver
PS unblocking</p>

<p>listen_interval listen interval of this station, when
we&acute;re acting as AP</p>

<p>dead set to true when sta is unlinked</p>

<p>uploaded set to true when sta is uploaded to the
driver</p>

<p>sta_state duplicates information about station state
(for debug)</p>

<p>_flags STA flags, see enum ieee80211_sta_info_flags, do
not use directly</p>

<p>ps_lock used for powersave (when mac80211 is the AP)
related locking</p>

<p>ps_tx_buf[IEEE80211_NUM_ACS] buffers (per AC) of frames
to transmit to this station when it leaves power saving
state or polls</p>

<p>tx_filtered[IEEE80211_NUM_ACS] buffers (per AC) of
frames we already tried to transmit but were filtered by
hardware due to STA having entered power saving state, these
are also delivered to the station when it leaves powersave
or polls for frames</p>

<p>driver_buffered_tids bitmap of TIDs the driver has data
buffered on</p>

<p>rx_packets Number of MSDUs received from this STA</p>

<p>rx_bytes Number of bytes received from this STA</p>

<p>last_rx time (in jiffies) when last frame was received
from this STA</p>

<p>last_connected time (in seconds) when a station got
connected</p>

<p>num_duplicates number of duplicate frames received from
this STA</p>

<p>rx_fragments number of received MPDUs</p>

<p>rx_dropped number of dropped MPDUs from this STA</p>

<p>last_signal signal of last received frame from this
STA</p>

<p>avg_signal moving average of signal of received frames
from this STA</p>

<p>last_ack_signal signal of last received Ack frame from
this STA</p>

<p>chains chains ever used for RX from this station</p>

<p>chain_signal_last[IEEE80211_MAX_CHAINS] last signal (per
chain)</p>

<p>chain_signal_avg[IEEE80211_MAX_CHAINS] signal average
(per chain)</p>

<p>last_seq_ctrl[IEEE80211_NUM_TIDS + 1] last received
seq/frag number from this STA (per RX queue)</p>

<p>tx_filtered_count number of frames the hardware filtered
for this STA</p>

<p>tx_retry_failed number of frames that failed retry</p>

<p>tx_retry_count total number of retries for frames to
this STA</p>

<p>fail_avg moving percentage of failed MSDUs</p>

<p>tx_fragments number of transmitted MPDUs</p>

<p>tx_packets[IEEE80211_NUM_ACS] number of RX/TX MSDUs</p>

<p>tx_bytes[IEEE80211_NUM_ACS] number of bytes transmitted
to this STA</p>

<p>last_tx_rate rate used for last transmit, to report to
userspace as the transmit rate</p>

<p>last_rx_rate_idx rx status rate index of the last data
packet</p>

<p>last_rx_rate_flag rx status flag of the last data
packet</p>

<p>last_rx_rate_vht_flag rx status vht flag of the last
data packet</p>

<p>last_rx_rate_vht_nss rx status nss of last data
packet</p>

<p>tid_seq[IEEE80211_QOS_CTL_TID_MASK + 1] per-TID sequence
numbers for sending to this STA</p>

<p>ampdu_mlme A-MPDU state machine state</p>

<p>timer_to_tid[IEEE80211_NUM_TIDS] identity mapping to ID
timers</p>

<p>tx_lat Tx latency statistics</p>

<p>llid Local link ID</p>

<p>plid Peer link ID</p>

<p>reason Cancel reason on PLINK_HOLDING state</p>

<p>plink_retries Retries in establishment</p>

<p>plink_state peer link state</p>

<p>plink_timeout timeout of peer link</p>

<p>plink_timer peer link watch timer</p>

<p>t_offset timing offset relative to this host</p>

<p>t_offset_setpoint reference timing offset of this sta to
be used when calculating clockdrift</p>

<p>local_pm local link-specific power save mode</p>

<p>peer_pm peer-specific power save mode towards local
STA</p>

<p>nonpeer_pm STA power save mode towards non-peer
neighbors</p>

<p>debugfs debug filesystem info</p>

<p>cur_max_bandwidth maximum bandwidth to use for TX to the
station, taken from HT/VHT capabilities or VHT operating
mode notification</p>

<p>lost_packets number of consecutive lost packets</p>

<p>beacon_loss_count number of times beacon loss has
triggered</p>

<p>known_smps_mode the smps_mode the client thinks we are
in. Relevant for AP only.</p>

<p>cipher_scheme optional cipher scheme for this
station</p>

<p>last_tdls_pkt_time holds the time in jiffies of last
TDLS pkt ACKed</p>

<p>reserved_tid reserved TID (if any, otherwise
IEEE80211_TID_UNRESERVED)</p>

<p>sta station information we share with the driver</p>

<p>DESCRIPTION This structure collects information about a
station that mac80211 is communicating with.</p>

<p>AUTHOR Johannes Berg &lt;johannes@sipsolutions.net&gt;
Author.</p>

<p>COPYRIGHT Kernel Hackers Manual 2.6. July 2015 STRUCT
STA_INFO(9)</p>
<hr>
</body>
</html>
