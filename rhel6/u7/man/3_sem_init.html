<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:33:26 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>SEM_INIT(3) Linux Programmer s Manual SEM_INIT(3)</p>

<p>NAME sem_init - initialize an unnamed semaphore</p>

<p>SYNOPSIS #include &lt;semaphore.h&gt;</p>

<p>int sem_init(sem_t *sem, int pshared, unsigned int
value);</p>

<p>Link with -lrt or -pthread.</p>

<p>DESCRIPTION sem_init() initializes the unnamed semaphore
at the address pointed to by sem. The value argument
specifies the initial value for the semaphore.</p>

<p>The pshared argument indicates whether this semaphore is
to be shared between the threads of a process, or between
processes.</p>

<p>If pshared has the value 0, then the semaphore is shared
between the threads of a process, and should be located at
some address that is visible to all threads (e.g., a global
variable, or a variable allo- cated dynamically on the
heap).</p>

<p>If pshared is non-zero, then the semaphore is shared
between processes, and should be located in a region of
shared memory (see shm_open(3), mmap(2), and shmget(2)).
(Since a child created by fork(2) inherits its parents
memory mappings, it can also access the semaphore.) Any
process that can access the shared memory region can operate
on the semaphore using sem_post(3), sem_wait(3), etc.</p>

<p>Initializing a semaphore that has already been
initialized results in undefined behavior.</p>

<p>RETURN VALUE sem_init() returns 0 on success; on error,
-1 is returned, and errno is set to indicate the error.</p>

<p>ERRORS EINVAL value exceeds SEM_VALUE_MAX.</p>

<p>ENOSYS pshared is non-zero, but the system does not
support process- shared semaphores (see
sem_overview(7)).</p>

<p>CONFORMING TO POSIX.1-2001.</p>

<p>NOTES Bizarrely, POSIX.1-2001 does not specify the value
that should be returned by a successful call to sem_init().
POSIX.1-2008 rectifies this, specifying the zero return on
success.</p>

<p>SEE ALSO sem_destroy(3), sem_post(3), sem_wait(3),
sem_overview(7)</p>

<p>COLOPHON This page is part of release 3.22 of the Linux
man-pages project. A description of the project, and
information about reporting bugs, can be found at
http://www.kernel.org/doc/man-pages/.</p>

<p>Linux 2008-07-27 SEM_INIT(3)</p>
<hr>
</body>
</html>
