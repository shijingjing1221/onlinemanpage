<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:15:10 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>getcon(3) SELinux API documentation getcon(3)</p>

<p>NAME getcon, getprevcon, getpidcon - get SELinux
security context of a pro- cess.</p>

<p>getpeercon - get security context of a peer socket.</p>

<p>setcon - set current security context of a process.</p>

<p>SYNOPSIS #include &lt;selinux/selinux.h&gt;</p>

<p>int getcon(security_context_t *context);</p>

<p>int getprevcon(security_context_t *context);</p>

<p>int getpidcon(pid_t pid, security_context_t
*context);</p>

<p>int getpeercon(int fd, security_context_t *context);</p>

<p>int setcon(security_context_t context);</p>

<p>DESCRIPTION getcon retrieves the context of the current
process, which must be freed with freecon.</p>

<p>getprevcon same as getcon but gets the context before
the last exec.</p>

<p>getpidcon returns the process context for the specified
PID.</p>

<p>getpeercon retrieves context of peer socket, and set
*context to refer to it, which must be freed with
freecon.</p>

<p>setcon sets the current security context of the process
to a new value. Note that use of this function requires that
the entire application be trusted to maintain any desired
separation between the old and new security contexts, unlike
exec-based transitions performed via setexec- con(3). When
possible, decompose your applicaiton and use setexeccon()
and execve() instead.</p>

<p>Since access to file descriptors is revalidated upon use
by SELinux, the new context must be explicitly authorized in
the policy to use the descriptors opened by the old context
if that is desired. Otherwise, attempts by the process to
use any existing descriptors (including stdin, stdout, and
stderr) after performing the setcon() will fail.</p>

<p>A multi-threaded application can perform a setcon()
prior to creating any child threads, in which case all of
the child threads will inherit the new context. However,
setcon() will fail if there are any other threads running in
the same process.</p>

<p>If the process was being ptraced at the time of the
setcon() operation, ptrace permission will be revalidated
against the new context and the setcon() will fail if it is
not allowed by policy.</p>

<p>RETURN VALUE On error -1 is returned. On success 0 is
returned.</p>

<p>SEE ALSO selinux(8), freecon(3), setexeccon(3)</p>

<p>russell@coker.com.au 1 January 2004 getcon(3)</p>
<hr>
</body>
</html>
