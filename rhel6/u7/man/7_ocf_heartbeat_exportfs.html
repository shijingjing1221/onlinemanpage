<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:24:38 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>OCF_HEARTBEAT_EXPORT(7) OCF resource agents
OCF_HEARTBEAT_EXPORT(7)</p>

<p>NAME ocf_heartbeat_exportfs - Manages NFS exports</p>

<p>SYNOPSIS exportfs [start | stop | monitor | meta-data |
validate-all]</p>

<p>DESCRIPTION Exportfs uses the exportfs command to
add/remove nfs exports. It does NOT manage the nfs server
daemon. It depends on Linux specific NFS implementation
details, so is considered not portable to other platforms
yet.</p>

<p>SUPPORTED PARAMETERS clientspec The client specification
allowing remote machines to mount the directory over
NFS.</p>

<p>(required, string, no default)</p>

<p>options The options to pass to exportfs for the exported
directory.</p>

<p>(optional, string, no default)</p>

<p>directory The directory which you wish to export using
NFS.</p>

<p>(required, string, no default)</p>

<p>fsid The fsid option to pass to exportfs. This can be a
unique positive integer, a UUID, or the special string
&quot;root&quot; which is functionally identical to numeric
fsid of 0. 0 (root) identifies the export as the root of an
NFSv4 pseudofilesystem -- avoid this setting unless you
understand its special status. This value will override any
fsid provided via the options parameter.</p>

<p>(unique, required, string, no default)</p>

<p>unlock_on_stop Relinquish NFS locks associated with this
filesystem when the resource stops. Enabling this parameter
is highly recommended unless the path exported by this
exportfs resource is also exported by a different
resource.</p>

<p>Note: Unlocking is only possible on Linux systems where
/proc/fs/nfsd/unlock_filesystem exists and is writable. If
your system does not fulfill this requirement (on account of
having an nonrecent kernel, for example), you may set this
parameter to 0 to silence the associated warning.</p>

<p>(optional, boolean, default 0)</p>

<p>wait_for_leasetime_on_stop When stopping (unexporting),
wait out the NFSv4 lease time. Only after all leases have
expired does the NFS kernel server relinquish all
server-side handles on the exported filesystem. If this
exportfs resource manages an export that resides on a mount
point designed to fail over along with the NFS export
itself, then enabling this parameter will ensure such
failover is working properly. Note that when this parameter
is set, your stop timeout MUST accommodate for the wait
period. This parameter is safe to disable if none of your
NFS clients are using NFS version 4 or later.</p>

<p>(optional, boolean, default 0)</p>

<p>rmtab_backup Back up those entries from the NFS rmtab
that apply to the exported directory, to the specified
backup file. The filename is interpreted as relative to the
exported directory. This backup is required if clients are
connecting to the export via NFSv3 over TCP. Note that a
configured monitor operation is required for this
functionality.</p>

<p>To disable rmtab backups, set this parameter to the
special string &quot;none&quot;.</p>

<p>(optional, string, default &quot;.rmtab&quot;)</p>

<p>SUPPORTED ACTIONS This resource agent supports the
following actions (operations):</p>

<p>start Starts the resource. Suggested minimum timeout:
40.</p>

<p>stop Stops the resource. Suggested minimum timeout:
120.</p>

<p>monitor Performs a detailed status check. Suggested
minimum timeout: 20. Suggested interval: 10.</p>

<p>meta-data Retrieves resource agent metadata (internal
use only). Suggested minimum timeout: 5.</p>

<p>validate-all Performs a validation of the resource
configuration. Suggested minimum timeout: 30.</p>

<p>EXAMPLE The following is an example configuration for a
exportfs resource using the crm(8) shell:</p>

<p>primitive p_exportfs ocf:heartbeat:exportfs params
clientspec=string directory=string fsid=string op monitor
depth=&quot;0&quot; timeout=&quot;20&quot;
interval=&quot;10&quot;</p>

<p>SEE ALSO
http://www.linux-ha.org/wiki/exportfs_(resource_agent)</p>

<p>AUTHOR Linux-HA contributors (see the resource agent
source for information about individual authors)</p>

<p>resource-agents 3.9.2 05/07/2015
OCF_HEARTBEAT_EXPORT(7)</p>
<hr>
</body>
</html>
