<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:46:33 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>XkbGetVirtualMods(3) XKB FUNCTIONS
XkbGetVirtualMods(3)</p>

<p>NAME XkbGetVirtualMods - Obtain a subset of the virtual
modifier bindings (the vmods array) in a keyboard
description</p>

<p>SYNOPSIS Status XkbGetVirtualMods (Display *dpy,
unsigned int which, XkbDescPtr xkb);</p>

<p>ARGUMENTS - dpy connection to server</p>

<p>- which mask indicating virtual modifier bindings to
get</p>

<p>- xkb Xkb description where results will be placed</p>

<p>DESCRIPTION XkbGetVirtualMods sends a request to the
server to obtain the vmods entries for the virtual modifiers
specified in the mask, which, and waits for a reply.</p>

<p>Virtual modifiers are named by converting their string
name to an X Atom and storing the Atom in the names.vmods
array in an XkbDescRec structure. The position of a name
Atom in the names.vmods array defines the bit position used
to represent the virtual modifier and also the index used
when accessing virtual modifier information in arrays: the
name in the i-th (0 relative) entry of names.vmods is the
i-th virtual modifier, represented by the mask (1&lt;&lt;i).
Throughout Xkb, various func- tions have a parameter that is
a mask representing virtual modifier choices. In each case,
the i-th bit (0 relative) of the mask represents the i-th
virtual modifier.</p>

<p>To set the name of a virtual modifier, use XkbSetNames,
using XkbVir- tualModNamesMask in which and the name in the
xkb argument; to retrieve indicator names, use
XkbGetNames.</p>

<p>For each bit set in which, XkbGetVirtualMods updates the
corresponding virtual modifier definition in the
server-&gt;vmods array of xkb. The xkb parameter must be a
pointer to a valid Xkb keyboard description. If successful,
XkbGetVirtualMods returns Success.</p>

<p>Virtual Modifier Names and Masks</p>

<p>Virtual modifiers are named by converting their string
name to an X Atom and storing the Atom in the names.vmods
array in an XkbDescRec structure. The position of a name
Atom in the names.vmods array defines the bit position used
to represent the virtual modifier and also the index used
when accessing virtual modifier information in arrays: the
name in the i-th (0 relative) entry of names.vmods is the
i-th virtual modifier, represented by the mask (1&lt;&lt;i).
Throughout Xkb, various func- tions have a parameter that is
a mask representing virtual modifier choices. In each case,
the i-th bit (0 relative) of the mask represents the i-th
virtual modifier.</p>

<p>To set the name of a virtual modifier, use XkbSetNames,
using XkbVir- tualModNamesMask in which and the name in the
xkb argument; to retrieve indicator names, use
XkbGetNames.</p>

<p>If the server map has not been allocated in the xkb
parameter, XkbGetVirtualMods allocates and initializes it
before obtaining the virtual modifier bindings.</p>

<p>If the server does not have a compatible version of Xkb,
or the Xkb extension has not been properly initialized,
XkbGetVirtualMods returns BadMatch. Any errors in allocation
cause XkbGetVirtualMods to return BadAlloc.</p>

<p>RETURN VALUES Success The XkbGetVirtualMods function
returns Success when it successfully updates the
corresponding virtual modifier definition in the
server-&gt;vmods array of xkb.</p>

<p>STRUCTURES The complete description of an Xkb keyboard
is given by an XkbDescRec. The component structures in the
XkbDescRec represent the major Xkb com- ponents.</p>

<p>typedef struct { struct _XDisplay * display; /
connection to X server */ unsigned short flags; / private to
Xkb, do not modify */ unsigned short device_spec; / device
of interest */ KeyCode min_key_code; / minimum keycode for
device */ KeyCode max_key_code; / maximum keycode for device
*/ XkbControlsPtr ctrls; / controls */ XkbServerMapPtr
server; / server keymap */ XkbClientMapPtr map; / client
keymap */ XkbIndicatorPtr indicators; / indicator map */
XkbNamesPtr names; / names for all components */
XkbCompatMapPtr compat; / compatibility map */
XkbGeometryPtr geom; / physical geometry of keyboard */ }
XkbDescRec, *XkbDescPtr;</p>

<p>The display field points to an X display structure. The
flags field is private to the library: modifying flags may
yield unpredictable results. The device_spec field specifies
the device identifier of the keyboard input device, or
XkbUseCoreKeyboard, which specifies the core keyboard
device. The min_key_code and max_key_code fields specify the
least and greatest keycode that can be returned by the
keyboard.</p>

<p>Each structure component has a corresponding mask bit
that is used in function calls to indicate that the
structure should be manipulated in some manner, such as
allocating it or freeing it. These masks and their
relationships to the fields in the XkbDescRec are shown in
Table 1.</p>

<p>Table 1 Mask Bits for XkbDescRec
-------------------------------------------------- Mask Bit
XkbDescRec Field Value
--------------------------------------------------
XkbControlsMask ctrls (1L&lt;&lt;0) XkbServerMapMask server
(1L&lt;&lt;1) XkbIClientMapMask map (1L&lt;&lt;2)
XkbIndicatorMapMask indicators (1L&lt;&lt;3) XkbNamesMask
names (1L&lt;&lt;4) XkbCompatMapMask compat (1L&lt;&lt;5)
XkbGeometryMask geom (1L&lt;&lt;6) XkbAllComponentsMask All
Fields (0x7f)</p>

<p>DIAGNOSTICS BadAlloc Unable to allocate storage</p>

<p>BadMatch A compatible version of Xkb was not available
in the server or an argument has correct type and range, but
is otherwise invalid</p>

<p>SEE ALSO XkbGetNames(3), XkbSetNames(3)</p>

<p>X Version 11 libX11 1.6.0 XkbGetVirtualMods(3)</p>
<hr>
</body>
</html>
