<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:26:54 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>PERF-BENCH(1) perf Manual PERF-BENCH(1)</p>

<p>NAME perf-bench - General framework for benchmark
suites</p>

<p>SYNOPSIS perf bench [&lt;common options&gt;]
&lt;subsystem&gt; &lt;suite&gt; [&lt;options&gt;]</p>

<p>DESCRIPTION This perf bench command is a general
framework for benchmark suites.</p>

<p>COMMON OPTIONS -f, --format= Specify format style.
Current available format styles are:</p>

<p>default Default style. This is mainly for human
reading.</p>

<p>.ft C % perf bench sched pipe # with no style specified
(executing 1000000 pipe operations between two tasks) Total
time:5.855 sec 5.855061 usecs/op 170792 ops/sec .ft</p>

<p>simple This simple style is friendly for automated
processing by scripts.</p>

<p>.ft C % perf bench --format=simple sched pipe #
specified simple 5.988 .ft</p>

<p>SUBSYSTEM sched Scheduler and IPC mechanisms.</p>

<p>mem Memory access performance.</p>

<p>numa NUMA scheduling and MM benchmarks.</p>

<p>futex Futex stressing benchmarks.</p>

<p>all All benchmark subsystems.</p>

<p>SUITES FOR sched messaging Suite for evaluating
performance of scheduler and IPC mechanisms. Based on
hackbench by Rusty Russell.</p>

<p>Options of messaging -p, --pipe Use pipe() instead of
socketpair()</p>

<p>-t, --thread Be multi thread instead of multi
process</p>

<p>-g, --group= Specify number of groups</p>

<p>-l, --loop= Specify number of loops</p>

<p>Example of messaging .ft C % perf bench sched messaging
# run with default options (20 sender and receiver processes
per group) (10 groups == 400 processes run)</p>

<p>Total time:0.308 sec</p>

<p>% perf bench sched messaging -t -g 20 # be multi-thread,
with 20 groups (20 sender and receiver threads per group)
(20 groups == 800 threads run)</p>

<p>Total time:0.582 sec .ft</p>

<p>pipe Suite for pipe() system call. Based on
pipe-test-1m.c by Ingo Molnar.</p>

<p>Options of pipe -l, --loop= Specify number of loops.</p>

<p>Example of pipe .ft C % perf bench sched pipe (executing
1000000 pipe operations between two tasks)</p>

<p>Total time:8.091 sec 8.091833 usecs/op 123581
ops/sec</p>

<p>% perf bench sched pipe -l 1000 # loop 1000 (executing
1000 pipe operations between two tasks)</p>

<p>Total time:0.016 sec 16.948000 usecs/op 59004 ops/sec
.ft</p>

<p>SUITES FOR mem memcpy Suite for evaluating performance
of simple memory copy in various ways.</p>

<p>Options of memcpy -l, --length Specify length of memory
to copy (default: 1MB). Available units are B, KB, MB, GB
and TB (case insensitive).</p>

<p>-r, --routine Specify routine to copy (default:
default). Available routines are depend on the architecture.
On x86-64, x86-64-unrolled, x86-64-movsq and x86-64-movsb
are supported.</p>

<p>-i, --iterations Repeat memcpy invocation this number of
times.</p>

<p>-c, --clock Use perfs cpu-cycles event instead of
gettimeofday syscall.</p>

<p>-o, --only-prefault Show only the result with page
faults before memcpy.</p>

<p>-n, --no-prefault Show only the result without page
faults before memcpy.</p>

<p>memset Suite for evaluating performance of simple memory
set in various ways.</p>

<p>Options of memset -l, --length Specify length of memory
to set (default: 1MB). Available units are B, KB, MB, GB and
TB (case insensitive).</p>

<p>-r, --routine Specify routine to set (default: default).
Available routines are depend on the architecture. On
x86-64, x86-64-unrolled, x86-64-stosq and x86-64-stosb are
supported.</p>

<p>-i, --iterations Repeat memset invocation this number of
times.</p>

<p>-c, --clock Use perfs cpu-cycles event instead of
gettimeofday syscall.</p>

<p>-o, --only-prefault Show only the result with page
faults before memset.</p>

<p>-n, --no-prefault Show only the result without page
faults before memset.</p>

<p>SUITES FOR numa mem Suite for evaluating NUMA
workloads.</p>

<p>SUITES FOR futex hash Suite for evaluating hash
tables.</p>

<p>wake Suite for evaluating wake calls.</p>

<p>requeue Suite for evaluating requeue calls.</p>

<p>SEE ALSO perf(1)</p>

<p>perf 07/01/2015 PERF-BENCH(1)</p>
<hr>
</body>
</html>
