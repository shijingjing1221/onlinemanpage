<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:04:06 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>AIO_WRITE(3P) POSIX Programmer s Manual
AIO_WRITE(3P)</p>

<p>PROLOG This manual page is part of the POSIX Programmer
s Manual. The Linux implementation of this interface may
differ (consult the corresponding Linux manual page for
details of Linux behavior), or the interface may not be
implemented on Linux.</p>

<p>NAME aio_write - asynchronous write to a file
(REALTIME)</p>

<p>SYNOPSIS #include &lt;aio.h&gt;</p>

<p>int aio_write(struct aiocb *aiocbp);</p>

<p>DESCRIPTION The aio_write() function shall write
aiocbp-&gt;aio_nbytes to the file associated with
aiocbp-&gt;aio_fildes from the buffer pointed to by
aiocbp-&gt;aio_buf. The function shall return when the write
request has been initiated or, at a minimum, queued to the
file or device.</p>

<p>If prioritized I/O is supported for this file, then the
asynchronous operation shall be submitted at a priority
equal to the scheduling pri- ority of the process minus
aiocbp-&gt;aio_reqprio.</p>

<p>The aiocbp argument may be used as an argument to
aio_error() and aio_return() in order to determine the error
status and return status, respectively, of the asynchronous
operation while it is proceeding.</p>

<p>The aiocbp argument points to an aiocb structure. If the
buffer pointed to by aiocbp-&gt;aio_buf or the control block
pointed to by aiocbp becomes an illegal address prior to
asynchronous I/O completion, then the behavior is
undefined.</p>

<p>If O_APPEND is not set for the file descriptor
aio_fildes, then the requested operation shall take place at
the absolute position in the file as given by aio_offset, as
if lseek() were called immediately prior to the operation
with an offset equal to aio_offset and a whence equal to
SEEK_SET. If O_APPEND is set for the file descriptor, write
operations append to the file in the same order as the calls
were made. After a successful call to enqueue an
asynchronous I/O operation, the value of the file offset for
the file is unspecified.</p>

<p>The aiocbp-&gt;aio_lio_opcode field shall be ignored by
aio_write().</p>

<p>Simultaneous asynchronous operations using the same
aiocbp produce undefined results.</p>

<p>If synchronized I/O is enabled on the file associated
with aiocbp-&gt;aio_fildes, the behavior of this function
shall be according to the definitions of synchronized I/O
data integrity completion, and syn- chronized I/O file
integrity completion.</p>

<p>For any system action that changes the process memory
space while an asynchronous I/O is outstanding to the
address range being changed, the result of that action is
undefined.</p>

<p>For regular files, no data transfer shall occur past the
offset maximum established in the open file description
associated with aiocbp-&gt;aio_fildes.</p>

<p>RETURN VALUE The aio_write() function shall return the
value zero to the calling process if the I/O operation is
successfully queued; otherwise, the function shall return
the value -1 and set errno to indicate the error.</p>

<p>ERRORS The aio_write() function shall fail if:</p>

<p>EAGAIN The requested asynchronous I/O operation was not
queued due to system resource limitations.</p>

<p>Each of the following conditions may be detected
synchronously at the time of the call to aio_write(), or
asynchronously. If any of the con- ditions below are
detected synchronously, the aio_write() function shall
return -1 and set errno to the corresponding value. If any
of the conditions below are detected asynchronously, the
return status of the asynchronous operation shall be set to
-1, and the error status of the asynchronous operation is
set to the corresponding value.</p>

<p>EBADF The aiocbp-&gt;aio_fildes argument is not a valid
file descriptor open for writing.</p>

<p>EINVAL The file offset value implied by
aiocbp-&gt;aio_offset would be invalid,
aiocbp-&gt;aio_reqprio is not a valid value, or
aiocbp-&gt;aio_nbytes is an invalid value.</p>

<p>In the case that the aio_write() successfully queues the
I/O operation, the return status of the asynchronous
operation shall be one of the values normally returned by
the write() function call. If the operation is successfully
queued but is subsequently canceled or encounters an error,
the error status for the asynchronous operation contains one
of the values normally set by the write() function call, or
one of the following:</p>

<p>EBADF The aiocbp-&gt;aio_fildes argument is not a valid
file descriptor open for writing.</p>

<p>EINVAL The file offset value implied by
aiocbp-&gt;aio_offset would be invalid.</p>

<p>ECANCELED The requested I/O was canceled before the I/O
completed due to an explicit aio_cancel() request.</p>

<p>The following condition may be detected synchronously or
asyn- chronously:</p>

<p>EFBIG The file is a regular file, aiobcp-&gt;aio_nbytes
is greater than 0, and the starting offset in
aiobcp-&gt;aio_offset is at or beyond the offset maximum in
the open file description associated with
aiocbp-&gt;aio_fildes.</p>

<p>The following sections are informative.</p>

<p>EXAMPLES None.</p>

<p>APPLICATION USAGE The aio_write() function is part of
the Asynchronous Input and Output option and need not be
available on all implementations.</p>

<p>RATIONALE None.</p>

<p>FUTURE DIRECTIONS None.</p>

<p>SEE ALSO aio_cancel(), aio_error(), aio_read(),
aio_return(), close(), exec(), exit(), fork(), lio_listio(),
lseek(), write(), the Base Definitions volume of IEEE Std
1003.1-2001, &lt;aio.h&gt;</p>

<p>COPYRIGHT Portions of this text are reprinted and
reproduced in electronic form from IEEE Std 1003.1, 2003
Edition, Standard for Information Technology -- Portable
Operating System Interface (POSIX), The Open Group Base
Specifications Issue 6, Copyright (C) 2001-2003 by the
Institute of Electrical and Electronics Engineers, Inc and
The Open Group. In the event of any discrepancy between this
version and the original IEEE and The Open Group Standard,
the original IEEE and The Open Group Standard is the referee
document. The original Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>

<p>IEEE/The Open Group 2003 AIO_WRITE(3P)</p>
<hr>
</body>
</html>
