<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:04:05 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>AIO_FSYNC(3P) POSIX Programmer s Manual
AIO_FSYNC(3P)</p>

<p>PROLOG This manual page is part of the POSIX Programmer
s Manual. The Linux implementation of this interface may
differ (consult the corresponding Linux manual page for
details of Linux behavior), or the interface may not be
implemented on Linux.</p>

<p>NAME aio_fsync - asynchronous file synchronization
(REALTIME)</p>

<p>SYNOPSIS #include &lt;aio.h&gt;</p>

<p>int aio_fsync(int op, struct aiocb *aiocbp);</p>

<p>DESCRIPTION The aio_fsync() function shall
asynchronously force all I/O operations associated with the
file indicated by the file descriptor aio_fildes member of
the aiocb structure referenced by the aiocbp argument and
queued at the time of the call to aio_fsync() to the
synchronized I/O completion state. The function call shall
return when the synchroniza- tion request has been initiated
or queued to the file or device (even when the data cannot
be synchronized immediately).</p>

<p>If op is O_DSYNC, all currently queued I/O operations
shall be com- pleted as if by a call to fdatasync(); that
is, as defined for synchro- nized I/O data integrity
completion. If op is O_SYNC, all currently queued I/O
operations shall be completed as if by a call to fsync();
that is, as defined for synchronized I/O file integrity
completion. If the aio_fsync() function fails, or if the
operation queued by aio_fsync() fails, then, as for fsync()
and fdatasync(), outstanding I/O operations are not
guaranteed to have been completed.</p>

<p>If aio_fsync() succeeds, then it is only the I/O that
was queued at the time of the call to aio_fsync() that is
guaranteed to be forced to the relevant completion state.
The completion of subsequent I/O on the file descriptor is
not guaranteed to be completed in a synchronized
fashion.</p>

<p>The aiocbp argument refers to an asynchronous I/O
control block. The aiocbp value may be used as an argument
to aio_error() and aio_return() in order to determine the
error status and return status, respectively, of the
asynchronous operation while it is proceeding. When the
request is queued, the error status for the operation is
[EINPROGRESS]. When all data has been successfully
transferred, the error status shall be reset to reflect the
success or failure of the operation. If the oper- ation does
not complete successfully, the error status for the opera-
tion shall be set to indicate the error. The aio_sigevent
member determines the asynchronous notification to occur as
specified in Sig- nal Generation and Delivery when all
operations have achieved synchro- nized I/O completion. All
other members of the structure referenced by aiocbp are
ignored. If the control block referenced by aiocbp becomes
an illegal address prior to asynchronous I/O completion,
then the behavior is undefined.</p>

<p>If the aio_fsync() function fails or aiocbp indicates an
error condi- tion, data is not guaranteed to have been
successfully transferred.</p>

<p>RETURN VALUE The aio_fsync() function shall return the
value 0 to the calling pro- cess if the I/O operation is
successfully queued; otherwise, the func- tion shall return
the value -1 and set errno to indicate the error.</p>

<p>ERRORS The aio_fsync() function shall fail if:</p>

<p>EAGAIN The requested asynchronous operation was not
queued due to tem- porary resource limitations.</p>

<p>EBADF The aio_fildes member of the aiocb structure
referenced by the aiocbp argument is not a valid file
descriptor open for writing.</p>

<p>EINVAL This implementation does not support synchronized
I/O for this file.</p>

<p>EINVAL A value of op other than O_DSYNC or O_SYNC was
specified.</p>

<p>In the event that any of the queued I/O operations fail,
aio_fsync() shall return the error condition defined for
read() and write(). The error is returned in the error
status for the asynchronous fsync() operation, which can be
retrieved using aio_error().</p>

<p>The following sections are informative.</p>

<p>EXAMPLES None.</p>

<p>APPLICATION USAGE The aio_fsync() function is part of
the Asynchronous Input and Output option and need not be
available on all implementations.</p>

<p>RATIONALE None.</p>

<p>FUTURE DIRECTIONS None.</p>

<p>SEE ALSO fcntl(), fdatasync(), fsync(), open(), read(),
write(), the Base Defi- nitions volume of IEEE Std
1003.1-2001, &lt;aio.h&gt;</p>

<p>COPYRIGHT Portions of this text are reprinted and
reproduced in electronic form from IEEE Std 1003.1, 2003
Edition, Standard for Information Technology -- Portable
Operating System Interface (POSIX), The Open Group Base
Specifications Issue 6, Copyright (C) 2001-2003 by the
Institute of Electrical and Electronics Engineers, Inc and
The Open Group. In the event of any discrepancy between this
version and the original IEEE and The Open Group Standard,
the original IEEE and The Open Group Standard is the referee
document. The original Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>

<p>IEEE/The Open Group 2003 AIO_FSYNC(3P)</p>
<hr>
</body>
</html>
