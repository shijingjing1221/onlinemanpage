<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:14:46 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>GENPMDA(1) GENPMDA(1)</p>

<p>NAME genpmda - Performance Co-Pilot PMDA Generator</p>

<p>SYNOPSIS genpmda [-d] [-D domain] [-s stdpmid] [-t
topdir] [-n pmns] [-o dir] [-v] -i IAM -c config</p>

<p>DESCRIPTION Genpmda is a rapid application development
tool for creating new Per- formance Metrics Domain Agents,
see PMDA(3). It provides a very easy and efficient way to
extend the Performance Co-pilot (PCP) with new performance
metrics without needing to understand the low level details
of how PMDAs are constructed.</p>

<p>Genpmda reads a config file containing an augmented
Performance Metrics Name Space, see pmns(5), and
automatically generates virtually all of the source code to
implement a fully functional PMDA, including the Makefile,
name space, support scripts for configuring the new PMDA,
and the metrics help text. Fairly simple PMDAs can be
automatically gener- ated from the config file without
writing any additional code. More complicated PMDAs, e.g.
containing multiple instance domains, require only the
refresh methods for the instance domains to be written manu-
ally.</p>

<p>An example of the config file format accepted by genpmda
is given below.</p>

<p>OPTIONS Required options:</p>

<p>-c config input config file, see example below</p>

<p>-i IAM pmda name IAM, should appear in stdpmid or the -D
option must be used to specify a domain.</p>

<p>Other options:</p>

<p>-d generate an Install script for a daemon PMDA (default
is DSO)</p>

<p>-t topdir use topdir in generated GNUmakefile, default
../../..</p>

<p>-n pmns use pmns as root of the namespace (default
matches -i flag)</p>

<p>-D domain use domain number in the generated pmns and
domain.h (if -s is not given)</p>

<p>-s stdpmid path to stdpmid (default
../../pmns/stdpmid)</p>

<p>-o dir use dir for generated source code, default
./generated</p>

<p>-v print verbose messages about what genpmda is
doing.</p>

<p>Example: Generate an &quot;example&quot; pmda using
domain 99: genpmda -D 99 -v -i EXAMPLE -c example.conf</p>

<p>Here is example.conf config file (for the required -c
option):</p>

<p>example { metric }</p>

<p>example.metric { ## metric string ## pmid
EXAMPLE:CLUSTER:0 ## indom PM_INDOM_NULL ## type
PM_TYPE_STRING ## units PMDA_PMUNITS(0,0,0,0,0,0) ##
semantics PM_SEM_DISCRETE ## briefhelptext one line help
text for example.metric.string ## helptext long help text
for example.metric.string ## helptext This is the second
line of the long help text ## helptext and this is the third
line. ## fetch function example_string_fetch_callback ##
code atom-&gt;cp = &quot;hello world&quot;; ## code return
1; ## endmetric }</p>

<p>PCP ENVIRONMENT Environment variables with the prefix
PCP_ are used to parameterize the file and directory names
used by PCP. On each installation, the file /etc/pcp.conf
contains the local values for these variables. The $PCP_CONF
variable may be used to specify an alternative configuration
file, as described in pcp.conf(5).</p>

<p>SEE ALSO PMDA(3), pmns(5), pmcd(1), pcp.conf(5) and
pcp.env(5).</p>

<p>DIAGNOSTICS Many, but all are intended to be easily
understood.</p>

<p>Performance Co-Pilot PCP GENPMDA(1)</p>
<hr>
</body>
</html>
