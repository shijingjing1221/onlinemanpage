<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:32:45 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>SCSI_EH_PREP_CMND(9) SCSI mid layer
SCSI_EH_PREP_CMND(9)</p>

<p>NAME scsi_eh_prep_cmnd - Save a scsi command info as
part of error recory</p>

<p>SYNOPSIS void scsi_eh_prep_cmnd(struct scsi_cmnd * scmd,
struct scsi_eh_save * ses, unsigned char * cmnd, int
cmnd_size, unsigned sense_bytes);</p>

<p>ARGUMENTS scmd SCSI command structure to hijack</p>

<p>ses structure to save restore information</p>

<p>cmnd CDB to send. Can be NULL if no new cmnd is
needed</p>

<p>cmnd_size size in bytes of cmnd (must be &lt;=
BLK_MAX_CDB)</p>

<p>sense_bytes size of sense data to copy. or 0 (if != 0
cmnd is ignored)</p>

<p>DESCRIPTION This function is used to save a scsi command
information before re-execution as part of the error
recovery process. If sense_bytes is 0 the command sent must
be one that does not transfer any data. If sense_bytes != 0
cmnd is ignored and this functions sets up a REQUEST_SENSE
command and cmnd buffers to read sense_bytes into
scmd-&gt;sense_buffer.</p>

<p>AUTHORS James Bottomley
&lt;James.Bottomley@hansenpartnership.com&gt; Author.</p>

<p>Rob Landley &lt;rob@landley.net&gt; Author.</p>

<p>COPYRIGHT Kernel Hackers Manual 2.6. July 2015
SCSI_EH_PREP_CMND(9)</p>
<hr>
</body>
</html>
