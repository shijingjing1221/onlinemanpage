<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:15:08 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>GETPASS(3) Linux Programmer s Manual GETPASS(3)</p>

<p>NAME getpass - get a password</p>

<p>SYNOPSIS #include &lt;unistd.h&gt;</p>

<p>char *getpass( const char *prompt);</p>

<p>DESCRIPTION This function is obsolete. Do not use
it.</p>

<p>The getpass() function opens /dev/tty (the controlling
terminal of the process), outputs the string prompt, turns
off echoing, reads one line (the &quot;password&quot;),
restores the terminal state and closes /dev/tty again.</p>

<p>RETURN VALUE The function getpass() returns a pointer to
a static buffer containing (the first PASS_MAX bytes of) the
password without the trailing new- line, terminated by a
null byte (&rsquo; &rsquo;). This buffer may be overwritten
by a following call. On error, the terminal state is
restored, errno is set appropriately, and NULL is
returned.</p>

<p>ERRORS The function may fail if</p>

<p>ENXIO The process does not have a controlling
terminal.</p>

<p>FILES /dev/tty</p>

<p>CONFORMING TO Present in SUSv2, but marked LEGACY.
Removed in POSIX.1-2001.</p>

<p>NOTES For libc4 and libc5, the prompt is not written to
/dev/tty but to stderr. Moreover, if /dev/tty cannot be
opened, the password is read from stdin. The static buffer
has length 128 so that only the first 127 bytes of the
password are returned. While reading the password, signal
generation (SIGINT, SIGQUIT, SIGSTOP, SIGTSTOP) is disabled
and the corresponding characters (usually control-C,
control- control-Z and control-Y) are transmitted as part of
the password. Since libc 5.4.19 also line editing is
disabled, so that also backspace and the like will be seen
as part of the password.</p>

<p>For glibc2, if /dev/tty cannot be opened, the prompt is
written to stderr and the password is read from stdin. There
is no limit on the length of the password. Line editing is
not disabled.</p>

<p>According to the SUSv2, the value of PASS_MAX must be
defined in &lt;lim- its.h&gt; in case it is smaller than 8,
and can in any case be obtained using sysconf(_SC_PASS_MAX).
However, POSIX.2 withdraws the constants PASS_MAX and
_SC_PASS_MAX, and the function getpass(). Libc4 and libc5
have never supported PASS_MAX or _SC_PASS_MAX. Glibc2
accepts _SC_PASS_MAX and returns BUFSIZ (e.g., 8192).</p>

<p>BUGS The calling process should zero the password as
soon as possible to avoid leaving the cleartext password
visible in the processs address space.</p>

<p>SEE ALSO crypt(3)</p>

<p>COLOPHON This page is part of release 3.22 of the Linux
man-pages project. A description of the project, and
information about reporting bugs, can be found at
http://www.kernel.org/doc/man-pages/.</p>

<p>Linux 2000-12-05 GETPASS(3)</p>
<hr>
</body>
</html>
