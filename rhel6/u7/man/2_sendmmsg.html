<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:33:30 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>SENDMMSG(2) Linux Programmer s Manual SENDMMSG(2)</p>

<p>NAME sendmmsg - send multiple messages on a socket</p>

<p>SYNOPSIS #define _GNU_SOURCE #include
&lt;sys/socket.h&gt;</p>

<p>int sendmmsg(int sockfd, struct mmsghdr *msgvec,
unsigned int vlen, unsigned int flags);</p>

<p>DESCRIPTION The sendmmsg() system call is an extension
of sendmsg(2) that allows the caller to transmit multiple
messages on a socket using a single system call. (This has
performance benefits for some applications.)</p>

<p>The sockfd argument is the file descriptor of the socket
on which data is to be transmitted.</p>

<p>The msgvec argument is a pointer to an array of mmsghdr
structures. The size of this array is specified in vlen.</p>

<p>The mmsghdr structure is defined in &lt;sys/socket.h&gt;
as:</p>

<p>struct mmsghdr { struct msghdr msg_hdr; /* Message
header */ unsigned int msg_len; /* Number of bytes
transmitted */ };</p>

<p>The msg_hdr field is a msghdr structure, as described in
sendmsg(2). The msg_len field is used to return the number
of bytes sent from the message in msg_hdr (i.e., the same as
the return value from a single sendmsg(2) call).</p>

<p>The flags argument contains flags ORed together. The
flags are the same as for sendmsg(2).</p>

<p>A blocking sendmmsg() call blocks until vlen messages
have been sent. A nonblocking call sends as many messages as
possible (up to the limit specified by vlen) and returns
immediately.</p>

<p>On return from sendmmsg(), the msg_len fields of
successive elements of msgvec are updated to contain the
number of bytes transmitted from the corresponding msg_hdr.
The return value of the call indicates the num- ber of
elements of msgvec that have been updated.</p>

<p>RETURN VALUE On success, sendmmsg() returns the number
of messages sent from msgvec; if this is less than vlen, the
caller can retry with a further send- mmsg() call to send
the remaining messages.</p>

<p>On error, -1 is returned, and errno is set to indicate
the error.</p>

<p>ERRORS Errors are as for sendmsg(2). An error is
returned only if no data- grams could be sent.</p>

<p>VERSIONS The sendmmsg() system call was added in Linux
3.0. Support in glibc was added in version 2.14.</p>

<p>CONFORMING TO sendmmsg() is Linux-specific.</p>

<p>NOTES The value specified in vlen is capped to
UIO_MAXIOV (1024).</p>

<p>SEE ALSO recvmmsg(2), sendmsg(2), socket(2),
socket(7)</p>

<p>Linux 2011-09-09 SENDMMSG(2)</p>
<hr>
</body>
</html>
