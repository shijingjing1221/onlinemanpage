<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:15:01 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>GETLOGIN(3P) POSIX Programmer s Manual GETLOGIN(3P)</p>

<p>PROLOG This manual page is part of the POSIX Programmer
s Manual. The Linux implementation of this interface may
differ (consult the corresponding Linux manual page for
details of Linux behavior), or the interface may not be
implemented on Linux.</p>

<p>NAME getlogin, getlogin_r - get login name</p>

<p>SYNOPSIS #include &lt;unistd.h&gt;</p>

<p>char *getlogin(void);</p>

<p>int getlogin_r(char *name, size_t namesize);</p>

<p>DESCRIPTION The getlogin() function shall return a
pointer to a string containing the user name associated by
the login activity with the controlling terminal of the
current process. If getlogin() returns a non-null pointer,
then that pointer points to the name that the user logged in
under, even if there are several login names with the same
user ID.</p>

<p>The getlogin() function need not be reentrant. A
function that is not required to be reentrant is not
required to be thread-safe.</p>

<p>The getlogin_r() function shall put the name associated
by the login activity with the controlling terminal of the
current process in the character array pointed to by name.
The array is namesize characters long and should have space
for the name and the terminating null char- acter. The
maximum size of the login name is {LOGIN_NAME_MAX}.</p>

<p>If getlogin_r() is successful, name points to the name
the user used at login, even if there are several login
names with the same user ID.</p>

<p>RETURN VALUE Upon successful completion, getlogin()
shall return a pointer to the login name or a null pointer
if the user s login name cannot be found. Otherwise, it
shall return a null pointer and set errno to indicate the
error.</p>

<p>The return value from getlogin() may point to static
data whose content is overwritten by each call.</p>

<p>If successful, the getlogin_r() function shall return
zero; otherwise, an error number shall be returned to
indicate the error.</p>

<p>ERRORS The getlogin() and getlogin_r() functions may
fail if:</p>

<p>EMFILE {OPEN_MAX} file descriptors are currently open in
the calling process.</p>

<p>ENFILE The maximum allowable number of files is
currently open in the system.</p>

<p>ENXIO The calling process has no controlling
terminal.</p>

<p>The getlogin_r() function may fail if:</p>

<p>ERANGE The value of namesize is smaller than the length
of the string to be returned including the terminating null
character.</p>

<p>The following sections are informative.</p>

<p>EXAMPLES Getting the User Login Name The following
example calls the getlogin() function to obtain the name of
the user associated with the calling process, and passes
this infor- mation to the getpwnam() function to get the
associated user database information.</p>

<p>#include &lt;unistd.h&gt; #include &lt;sys/types.h&gt;
#include &lt;pwd.h&gt; #include &lt;stdio.h&gt; ... char
*lgn; struct passwd *pw; ... if ((lgn = getlogin()) == NULL
|| (pw = getpwnam(lgn)) == NULL) { fprintf(stderr, &quot;Get
of user information failedn&quot;); exit(1); }</p>

<p>APPLICATION USAGE Three names associated with the
current process can be determined: get- pwuid( geteuid())
shall return the name associated with the effective user ID
of the process; getlogin() shall return the name associated
with the current login activity; and getpwuid( getuid())
shall return the name associated with the real user ID of
the process.</p>

<p>The getlogin_r() function is thread-safe and returns
values in a user- supplied buffer instead of possibly using
a static data area that may be overwritten by each call.</p>

<p>RATIONALE The getlogin() function returns a pointer to
the user s login name. The same user ID may be shared by
several login names. If it is desired to get the user
database entry that is used during login, the result of
getlogin() should be used to provide the argument to the
getpwnam() function. (This might be used to determine the
users login shell, par- ticularly where a single user has
multiple login shells with distinct login names, but the
same user ID.)</p>

<p>The information provided by the cuserid() function,
which was origi- nally defined in the POSIX.1-1988 standard
and subsequently removed, can be obtained by the
following:</p>

<p>getpwuid(geteuid())</p>

<p>while the information provided by historical
implementations of cuserid() can be obtained by:</p>

<p>getpwuid(getuid())</p>

<p>The thread-safe version of this function places the user
name in a user-supplied buffer and returns a non-zero value
if it fails. The non- thread-safe version may return the
name in a static data area that may be overwritten by each
call.</p>

<p>FUTURE DIRECTIONS None.</p>

<p>SEE ALSO getpwnam(), getpwuid(), geteuid(), getuid(),
the Base Definitions vol- ume of IEEE Std 1003.1-2001,
&lt;limits.h&gt;, &lt;unistd.h&gt;</p>

<p>COPYRIGHT Portions of this text are reprinted and
reproduced in electronic form from IEEE Std 1003.1, 2003
Edition, Standard for Information Technology -- Portable
Operating System Interface (POSIX), The Open Group Base
Specifications Issue 6, Copyright (C) 2001-2003 by the
Institute of Electrical and Electronics Engineers, Inc and
The Open Group. In the event of any discrepancy between this
version and the original IEEE and The Open Group Standard,
the original IEEE and The Open Group Standard is the referee
document. The original Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>

<p>IEEE/The Open Group 2003 GETLOGIN(3P)</p>
<hr>
</body>
</html>
