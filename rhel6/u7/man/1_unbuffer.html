<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:43:15 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>UNBUFFER(1) UNBUFFER(1)</p>

<p>NAME unbuffer - unbuffer output</p>

<p>SYNOPSIS unbuffer program [ args ]</p>

<p>INTRODUCTION unbuffer disables the output buffering that
occurs when program output is redirected from
non-interactive programs. For example, suppose you are
watching the output from a fifo by running it through od and
then more.</p>

<p>od -c /tmp/fifo | more</p>

<p>You will not see anything until a full page of output
has been pro- duced.</p>

<p>You can disable this automatic buffering as follows:</p>

<p>unbuffer od -c /tmp/fifo | more</p>

<p>Normally, unbuffer does not read from stdin. This
simplifies use of unbuffer in some situations. To use
unbuffer in a pipeline, use the -p flag. Example:</p>

<p>process1 | unbuffer -p process2 | process3</p>

<p>CAVEATS unbuffer -p may appear to work incorrectly if a
process feeding input to unbuffer exits. Consider: process1
| unbuffer -p process2 | process3</p>

<p>If process1 exits, process2 may not yet have finished.
It is impossi- ble for unbuffer to know long to wait for
process2 and process2 may not ever finish, for example, if
it is a filter. For expediency, unbuffer simply exits when
it encounters an EOF from either its input or pro-
cess2.</p>

<p>In order to have a version of unbuffer that worked in
all situations, an oracle would be necessary. If you want an
application-specific solution, workarounds or hand-coded
Expect may be more suitable. For example, the following
example shows how to allow grep to finish pro- cessing when
the cat before it finishes first. Using cat to feed grep
would never require unbuffer in real life. It is merely a
placeholder for some imaginary process that may or may not
finish. Similarly, the final cat at the end of the pipeline
is also a placeholder for another process.</p>

<p>$ cat /tmp/abcdef.log | grep abc | cat abcdef xxxabc
defxxx $ cat /tmp/abcdef.log | unbuffer grep abc | cat $
(cat /tmp/abcdef.log ; sleep 1) | unbuffer grep abc | cat
abcdef xxxabc defxxx $</p>

<p>BUGS The man page is longer than the program.</p>

<p>SEE ALSO &quot;Exploring Expect: A Tcl-Based Toolkit for
Automating Interactive Pro- grams&quot; by Don Libes,
OReilly and Associates, January 1995.</p>

<p>AUTHOR Don Libes, National Institute of Standards and
Technology</p>

<p>1 June 1994 UNBUFFER(1)</p>
<hr>
</body>
</html>
