<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:35:21 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>SPAMASSASSIN(1) User Contributed Perl Documentation
SPAMASSASSIN(1)</p>

<p>NAME spamassassin - extensible email filter used to
identify spam</p>

<p>DESCRIPTION SpamAssassin is an intelligent email filter
which uses a diverse range of tests to identify unsolicited
bulk email, more commonly known as &quot;spam&quot;. These
tests are applied to email headers and content to classify
email using advanced statistical methods. In addition,
SpamAssassin has a modular architecture that allows other
technologies to be quickly wielded against spam and is
designed for easy integration into virtually any email
system.</p>

<p>SYNOPSIS For ease of access, the SpamAssassin manual has
been split up into several sections. If you re intending to
read these straight through for the first time, the
suggested order will tend to reduce the number of forward
references.</p>

<p>Extensive additional documentation for SpamAssassin is
available, primarily on the SpamAssassin web site and
wiki.</p>

<p>You should be able to view SpamAssassins documentation
with your man(1) program or perldoc(1).</p>

<p>OVERVIEW spamassassin SpamAssassin overview (this
section)</p>

<p>CONFIGURATION Mail::SpamAssassin::Conf SpamAssassin
configuration files</p>

<p>USAGE spamassassin-run &quot;spamassassin&quot;
front-end filtering script sa-learn train
SpamAssassin&rsquo;s Bayesian classifier spamc client for
spamd (faster than spamassassin) spamd spamassassin server
(needed by spamc)</p>

<p>DEFAULT PLUGINS
Mail::SpamAssassin::Plugin::AutoLearnThreshold
Mail::SpamAssassin::Plugin::Bayes
Mail::SpamAssassin::Plugin::BodyEval
Mail::SpamAssassin::Plugin::Check
Mail::SpamAssassin::Plugin::DKIM
Mail::SpamAssassin::Plugin::DNSEval
Mail::SpamAssassin::Plugin::FreeMail
Mail::SpamAssassin::Plugin::HTMLEval
Mail::SpamAssassin::Plugin::HTTPSMismatch
Mail::SpamAssassin::Plugin::Hashcash
Mail::SpamAssassin::Plugin::HeaderEval
Mail::SpamAssassin::Plugin::ImageInfo
Mail::SpamAssassin::Plugin::MIMEEval
Mail::SpamAssassin::Plugin::MIMEHeader
Mail::SpamAssassin::Plugin::Pyzor
Mail::SpamAssassin::Plugin::Razor2
Mail::SpamAssassin::Plugin::RelayEval
Mail::SpamAssassin::Plugin::ReplaceTags
Mail::SpamAssassin::Plugin::SPF
Mail::SpamAssassin::Plugin::SpamCop
Mail::SpamAssassin::Plugin::URIDNSBL
Mail::SpamAssassin::Plugin::URIDetail
Mail::SpamAssassin::Plugin::URIEval
Mail::SpamAssassin::Plugin::VBounce
Mail::SpamAssassin::Plugin::WLBLEval
Mail::SpamAssassin::Plugin::WhiteListSubject</p>

<p>WEB SITES SpamAssassin web site:
http://spamassassin.apache.org/ Wiki-based documentation:
http://wiki.apache.org/spamassassin/</p>

<p>USER MAILING LIST A users mailing list exists where
other experienced users are often able to help and provide
tips and advice. Subscription instructions are located on
the SpamAssassin web site.</p>

<p>CONFIGURATION FILES The SpamAssassin rule base, text
templates, and rule description text are loaded from
configuration files.</p>

<p>Default configuration data is loaded from the first
existing directory in:</p>

<p>/var/lib/spamassassin/3.003001 /usr/share/spamassassin
/usr/share/spamassassin /usr/local/share/spamassassin
/usr/share/spamassassin</p>

<p>Site-specific configuration data is used to override any
values which had already been set. This is loaded from the
first existing directory in:</p>

<p>/etc/mail/spamassassin /usr/etc/mail/spamassassin
/usr/etc/spamassassin /usr/local/etc/spamassassin
/usr/pkg/etc/spamassassin /usr/etc/spamassassin
/etc/mail/spamassassin /etc/spamassassin</p>

<p>From those three directories, SpamAssassin will first
read files ending in &quot;.pre&quot; in lexical order and
then it will read files ending in &quot;.cf&quot; in lexical
order (most files begin with two numbers to make the sorting
order obvious).</p>

<p>In other words, it will read init.pre first, then
10_default_prefs.cf before 50_scores.cf and 20_body_tests.cf
before 20_head_tests.cf. Options in later files will
override earlier files.</p>

<p>Individual user preferences are loaded from the location
specified on the &quot;spamassassin&quot;,
&quot;sa-learn&quot;, or &quot;spamd&quot; command line (see
respective manual page for details). If the location is not
specified, ~/.spamassassin/user_prefs is used if it exists.
SpamAssassin will create that file if it does not already
exist, using user_prefs.template as a template. That file
will be looked for in:</p>

<p>/etc/mail/spamassassin /usr/etc/mail/spamassassin
/usr/share/spamassassin /etc/spamassassin
/etc/mail/spamassassin /usr/local/share/spamassassin
/usr/share/spamassassin</p>

<p>TAGGING The following two sections detail the default
tagging and markup that takes place for messages when
running &quot;spamassassin&quot; or &quot;spamc&quot; with
&quot;spamd&quot; in the default configuration.</p>

<p>Note: before header modification and addition, all
headers beginning with &quot;X-Spam-&quot; are removed to
prevent spammer mischief and also to avoid potential
problems caused by prior invocations of SpamAssassin.</p>

<p>TAGGING FOR SPAM MAILS By default, all messages with a
calculated score of 5.0 or higher are tagged as spam.</p>

<p>If an incoming message is tagged as spam, instead of
modifying the original message, SpamAssassin will create a
new report message and attach the original message as a
message/rfc822 MIME part (ensuring the original message is
completely preserved and easier to recover).</p>

<p>The new report message inherits the following headers
(if they are present) from the original spam message:</p>

<p>From: header To: header Cc: header Subject: header Date:
header Message-ID: header</p>

<p>The above headers can be modified if the relevant
&quot;rewrite_header&quot; option is given (see
&quot;Mail::SpamAssassin::Conf&quot; for more
information).</p>

<p>By default these message headers are added to spam:</p>

<p>X-Spam-Flag: header Set to &quot;YES&quot;.</p>

<p>The headers that added are fully configurable via the
&quot;add_header&quot; option (see
&quot;Mail::SpamAssassin::Conf&quot; for more
information).</p>

<p>spam mail body text The SpamAssassin report is added to
top of the mail message body, if the message is marked as
spam.</p>

<p>DEFAULT TAGGING FOR ALL MAILS These headers are added to
all messages, both spam and ham (non-spam).</p>

<p>X-Spam-Checker-Version: header The version and
subversion of SpamAssassin and the host where SpamAssassin
was run.</p>

<p>X-Spam-Level: header A series of &quot;*&quot; charactes
where each one represents a full score point.</p>

<p>X-Spam-Status: header A string, &quot;(Yes|No), score=nn
required=nn tests=xxx,xxx
autolearn=(ham|spam|no|unavailable|failed)&quot; is set in
this header to reflect the filter status. For the first
word, &quot;Yes&quot; means spam and &quot;No&quot; means
ham (non-spam).</p>

<p>The headers that added are fully configurable via the
&quot;add_header&quot; option (see
&quot;Mail::SpamAssassin::Conf&quot; for more
information).</p>

<p>INSTALLATION The spamassassin command is part of the
Mail::SpamAssassin Perl module. Install this as a normal
Perl module, using &quot;perl -MCPAN -e shell&quot;, or by
hand.</p>

<p>Note that it is not possible to use the
&quot;PERL5LIB&quot; environment variable to affect where
SpamAssassin finds its perl modules, due to limitations
imposed by perls &quot;taint&quot; security checks.</p>

<p>For further details on how to install, please read the
&quot;INSTALL&quot; file from the SpamAssassin
distribution.</p>

<p>DEVELOPER DOCUMENTATION Mail::SpamAssassin Spam detector
and markup engine</p>

<p>Mail::SpamAssassin::ArchiveIterator find and process
messages one at a time</p>

<p>Mail::SpamAssassin::AutoWhitelist auto-whitelist handler
for SpamAssassin</p>

<p>Mail::SpamAssassin::Bayes determine spammishness using a
Bayesian classifier</p>

<p>Mail::SpamAssassin::BayesStore Bayesian Storage
Module</p>

<p>Mail::SpamAssassin::BayesStore::SQL SQL Bayesian Storage
Module Implementation</p>

<p>Mail::SpamAssassin::Conf::LDAP load SpamAssassin scores
from LDAP database</p>

<p>Mail::SpamAssassin::Conf::Parser parse SpamAssassin
configuration</p>

<p>Mail::SpamAssassin::Conf::SQL load SpamAssassin scores
from SQL database</p>

<p>Mail::SpamAssassin::Message decode, render, and hold an
RFC-2822 message</p>

<p>Mail::SpamAssassin::Message::Metadata extract metadata
from a message</p>

<p>Mail::SpamAssassin::Message::Node decode, render, and
make available MIME message parts</p>

<p>Mail::SpamAssassin::PerMsgLearner per-message status
(spam or not-spam)</p>

<p>Mail::SpamAssassin::PerMsgStatus per-message status
(spam or not-spam)</p>

<p>Mail::SpamAssassin::PersistentAddrList persistent
address list base class</p>

<p>Mail::SpamAssassin::Plugin SpamAssassin plugin base
class</p>

<p>Mail::SpamAssassin::Plugin::Hashcash perform hashcash
verification tests</p>

<p>Mail::SpamAssassin::Plugin::RelayCountry add message
metadata indicating the country code of each relay</p>

<p>Mail::SpamAssassin::Plugin::SPF perform SPF verification
tests</p>

<p>Mail::SpamAssassin::Plugin::URIDNSBL look up URLs
against DNS blocklists</p>

<p>Mail::SpamAssassin::SQLBasedAddrList SpamAssassin SQL
Based Auto Whitelist</p>

<p>BUGS See
&lt;http://issues.apache.org/SpamAssassin/&gt;</p>

<p>AUTHORS The SpamAssassin(tm) Project
&lt;http://spamassassin.apache.org/&gt;</p>

<p>COPYRIGHT SpamAssassin is distributed under the Apache
License, Version 2.0, as described in the file
&quot;LICENSE&quot; included with the distribution.</p>

<p>POD ERRORS Hey! The above document had some coding
errors, which are explained below:</p>

<p>Around line 566: =cut found outside a pod block.
Skipping to next block.</p>

<p>perl v5.10.1 2013-11-28 SPAMASSASSIN(1)</p>
<hr>
</body>
</html>
