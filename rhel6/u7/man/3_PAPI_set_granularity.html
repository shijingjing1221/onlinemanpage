<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:25:24 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>PAPI_set_granularity(3) PAPI PAPI_set_granularity(3)</p>

<p>NAME PAPI_set_granularity - set the default counting
granularity for eventsets bound to the cpu component
PAPI_set_cmp_granularity - set the default counting
granularity for eventsets bound to the specified
component</p>

<p>SYNOPSIS C Interface #include &lt;papi.h&gt; int
PAPI_set_granularity(int granularity); int
PAPI_set_cmp_granularity(int granularity&quot;,int cidx );
Fortran Interface #include fpapi.h
PAPIF_set_granularity(C_INT granularity, C_INT check)</p>

<p>DESCRIPTION PAPI_set_granularity sets the default
counting granularity for all new event sets created by
PAPI_create_eventset(3). This call implicitly sets the
granularity for the cpu component (component 0) and is
included to preserve backward compatibility.</p>

<p>PAPI_set_cmp_granularity sets the default counting
granularity for all new event sets, and requires an explicit
component argument. Event sets that are already in existence
are not affected. To change the granularity of an existing
event set, please see the PAPI_set_opt(3) man page. The
reader should note that the granularity of an event set
affects only the mode in which the counter continues to
run.</p>

<p>ARGUMENTS cidx -- An integer identifier for a component.
By convention, component 0 is always the cpu component.</p>

<p>granularity -- one of the following constants as defined
in the papi.h header file:</p>


<p>+-----------------+--------------------------------------+
|PAPI_GRN_THR | Count each individual thread |
+-----------------+--------------------------------------+
|PAPI_GRN_PROC | Count each individual process |
+-----------------+--------------------------------------+
|PAPI_GRN_PROCG | Count each individual process group |
+-----------------+--------------------------------------+
|PAPI_GRN_SYS | Count the current CPU |
+-----------------+--------------------------------------+
|PAPI_GRN_SYS_CPU | Count all CPUs individually |
+-----------------+--------------------------------------+
|PAPI_GRN_MIN | The finest available granularity |
+-----------------+--------------------------------------+
|PAPI_GRN_MAX | The coarsest available granularity |
+-----------------+--------------------------------------+</p>

<p>RETURN VALUES On success, this function returns PAPI_OK.
On error, a non-zero error code is returned.</p>

<p>ERRORS PAPI_EINVAL One or more of the arguments is
invalid.</p>

<p>PAPI_ENOEVST The event set specified does not exist.</p>

<p>PAPI_ENOCMP The argument cidx is not a valid
component.</p>

<p>PAPI_EISRUN The event set is currently counting
events.</p>

<p>EXAMPLES int retval;</p>

<p>/* Initialize the library */</p>

<p>retval = PAPI_library_init(PAPI_VER_CURRENT);</p>

<p>if (retval &gt; 0 &amp;&amp; retval != PAPI_VER_CURRENT)
{ fprintf(stderr,&quot;PAPI library version mismatch!0);
exit(1); }</p>

<p>if (retval &lt; 0) handle_error(retval);</p>

<p>/* Set the default granularity for the cpu component
*/</p>

<p>if ((retval = PAPI_set_cmp_granularity(PAPI_GRN_PROC,0))
!= PAPI_OK) handle_error(retval);</p>

<p>if ((retval = PAPI_create_eventset(&amp;EventSet)) !=
PAPI_OK) handle_error(retval);</p>

<p>BUGS This function has no known bugs.</p>

<p>SEE ALSO PAPI_set_domain(3), PAPI_set_opt(3),
PAPI_get_opt(3)</p>

<p>PAPI Programmer s Reference April, 2007
PAPI_set_granularity(3)</p>
<hr>
</body>
</html>
