<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:34:48 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>SMBTAR(1) User Commands SMBTAR(1)</p>

<p>NAME smbtar - shell script for backing up SMB/CIFS
shares directly to UNIX tape drives</p>

<p>SYNOPSIS smbtar [-r] [-i] [-a] [-v] {-s server} [-p
password] [-x services] [-X] [-N filename] [-b blocksize]
[-d directory] [-l loglevel] [-u user] [-t tape]
{filenames}</p>

<p>DESCRIPTION This tool is part of the samba(7) suite.</p>

<p>smbtar is a very small shell script on top of
smbclient(1) which dumps SMB shares directly to tape.</p>

<p>OPTIONS -s server The SMB/CIFS server that the share
resides upon.</p>

<p>-x service The share name on the server to connect to.
The default is &quot;backup&quot;.</p>

<p>-X Exclude mode. Exclude filenames... from tar create or
restore.</p>

<p>-d directory Change to initial directory before
restoring / backing up files.</p>

<p>-v Verbose mode.</p>

<p>-p password The password to use to access a share.
Default: none</p>

<p>-u user The user id to connect as. Default: UNIX login
name.</p>

<p>-a Reset DOS archive bit mode to indicate file has been
archived.</p>

<p>-t tape Tape device. May be regular file or tape device.
Default: $TAPE environmental variable; if not set, a file
called tar.out.</p>

<p>-b blocksize Blocking factor. Defaults to 20. See tar(1)
for a fuller explanation.</p>

<p>-N filename Backup only files newer than filename. Could
be used (for example) on a log file to implement incremental
backups.</p>

<p>-i Incremental mode; tar files are only backed up if
they have the archive bit set. The archive bit is reset
after each file is read.</p>

<p>-r Restore. Files are restored to the share from the tar
file.</p>

<p>-l log level Log (debug) level. Corresponds to the -d
flag of smbclient(1).</p>

<p>ENVIRONMENT VARIABLES The $TAPE variable specifies the
default tape device to write to. May be overridden with the
-t option.</p>

<p>BUGS The smbtar script has different options from
ordinary tar and from smbclient&rsquo;s tar command.</p>

<p>CAVEATS Sites that are more careful about security may
not like the way the script handles PC passwords. Backup and
restore work on entire shares; should work on file lists.
smbtar works best with GNU tar and may not work well with
other versions.</p>

<p>DIAGNOSTICS See the DIAGNOSTICS section for the
smbclient(1) command.</p>

<p>VERSION This man page is correct for version 3 of the
Samba suite.</p>

<p>SEE ALSO smbd(8), smbclient(1), smb.conf(5).</p>

<p>AUTHOR The original Samba software and related utilities
were created by Andrew Tridgell. Samba is now developed by
the Samba Team as an Open Source project similar to the way
the Linux kernel is developed.</p>

<p>Ricky Poulten wrote the tar extension and this man page.
The smbtar script was heavily rewritten and improved by
Martin Kraemer. Many thanks to everyone who suggested
extensions, improvements, bug fixes, etc. The man page
sources were converted to YODL format (another excellent
piece of Open Source software, available at
ftp://ftp.icce.rug.nl/pub/unix/) and updated for the Samba
2.0 release by Jeremy Allison. The conversion to DocBook for
Samba 2.2 was done by Gerald Carter. The conversion to
DocBook XML 4.2 for Samba 3.0 was done by Alexander
Bokovoy.</p>

<p>Samba 3.6 09/18/2013 SMBTAR(1)</p>
<hr>
</body>
</html>
