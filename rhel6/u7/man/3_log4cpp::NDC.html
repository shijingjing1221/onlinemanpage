<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:21:53 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>log4cpp::NDC(3) log4cpp log4cpp::NDC(3)</p>

<p>NAME log4cpp::NDC -</p>

<p>The NDC class implements nested diagnostic contexts as
defined by Neil Harrison in the article Patterns for Logging
Diagnostic Messages part of the book &lt;i&gt;Pattern
Languages of Program Design 3&lt;/i&gt; edited by Martin et
al.</p>

<p>SYNOPSIS #include &lt;NDC.hh&gt;</p>

<p>Classes struct DiagnosticContext</p>

<p>Public Types typedef std::vector&lt; DiagnosticContext
&gt; ContextStack</p>

<p>Public Member Functions NDC () virtual ~NDC () virtual
void _clear () virtual ContextStack * _cloneStack () virtual
const std::string &amp; _get () const virtual size_t
_getDepth () const virtual void _inherit (ContextStack
*stack) virtual std::string _pop () virtual void _push
(const std::string &amp;message) virtual void _setMaxDepth
(int maxDepth)</p>

<p>Static Public Member Functions static void clear ()
Clear any nested disgnostic information if any. static
ContextStack * cloneStack () Clone the diagnostic context
for the current thread. static const std::string &amp; get
() Get the current diagnostic context string. static size_t
getDepth () Get the current nesting depth of this diagnostic
context. static void inherit (ContextStack *stack) static
std::string pop () Clients should call this method before
leaving a diagnostic context. static void push (const
std::string &amp;message) Push new diagnostic context
information for the current thread. static void setMaxDepth
(int maxDepth) Set the maximum nesting depth for the current
NDC. static NDC &amp; getNDC () Return the NDC for the
current thread.</p>

<p>Public Attributes ContextStack _stack</p>

<p>Detailed Description The NDC class implements nested
diagnostic contexts as defined by Neil Harrison in the
article Patterns for Logging Diagnostic Messages part of the
book &lt;i&gt;Pattern Languages of Program Design
3&lt;/i&gt; edited by Martin et al.</p>

<p>A Nested Diagnostic Context, or NDC in short, is an
instrument to distinguish interleaved log output from
different sources. Log output is typically interleaved when
a server handles multiple clients near- simulatanously.</p>

<p>Interleaved log output can still be meaningful if each
log entry from different contexts had a distinctive stamp.
This is where NDCs come into play.</p>

<p>Note that NDCs are managed on a per thread basis. NDC
operations such as push, pop, clear, getDepth and
setMaxDepth affect the NDC of the current thread only. NDCs
of other threads remain unaffected.</p>

<p>To build an NDC one uses the push operation. Simply
put,</p>

<p>&middot; Contexts can be nested.</p>

<p>&middot; When entering a context, call NDC.push. As a
side effect, if there is no nested diagnostic context for
the current thread, this method will create it.</p>

<p>&middot; When leaving a context, call NDC.pop. There is
no penalty for forgetting to match each push operation with
a corresponding pop, except the obvious mismatch between the
real application context and the context set in the NDC.
Custom Layouts may include the nested diagnostic context for
the current thread in log messages, without any user
intervention. Hence, even if a server is serving multiple
clients simultaneously, the logs emanating from the same
code (belonging to the same category) can still be
distinguished because each client request will have a
different NDC tag. Unfortunately, unlike Java, C++ does not
have platform independent multithreading support. Therefore,
currently log4cpp is not multithread aware, it implicitly
assumes only one thread exists, the main process thread.
Member Typedef Documentation typedef
std::vector&lt;DiagnosticContext&gt;
log4cpp::NDC::ContextStack Constructor &amp; Destructor
Documentation log4cpp::NDC::NDC () log4cpp::NDC::~NDC ()
[virtual] Member Function Documentation void
log4cpp::NDC::_clear () [virtual] NDC::ContextStack *
log4cpp::NDC::_cloneStack () [virtual] const std::string
&amp; log4cpp::NDC::_get () const [virtual] size_t
log4cpp::NDC::_getDepth () const [virtual] void
log4cpp::NDC::_inherit (NDC::ContextStack * stack) [virtual]
std::string log4cpp::NDC::_pop () [virtual] void
log4cpp::NDC::_push (const std::string &amp; message)
[virtual] void log4cpp::NDC::_setMaxDepth (int maxDepth)
[virtual] void log4cpp::NDC::clear () [static] Clear any
nested disgnostic information if any. This method is useful
in cases where the same thread can be potentially used over
and over in different unrelated contexts. This method is
equivalent to calling the setMaxDepth method with a zero
maxDepth argument. NDC::ContextStack *
log4cpp::NDC::cloneStack () [static] Clone the diagnostic
context for the current thread. Internally a diagnostic
context is represented as a stack. A given thread can supply
the stack (i.e. diagnostic context) to a child thread so
that the child can inherit the parent threads diagnostic
context. The child thread uses the inherit method to inherit
the parents diagnostic context. Returns: Stack A clone of
the current thread s diagnostic context.</p>

<p>const std::string &amp; log4cpp::NDC::get () [static]
Get the current diagnostic context string. Returns: the
context string.</p>

<p>size_t log4cpp::NDC::getDepth () [static] Get the
current nesting depth of this diagnostic context. Returns:
the nesting depth</p>

<p>NDC &amp; log4cpp::NDC::getNDC () [static] Return the
NDC for the current thread. Returns: the NDC for the current
thread</p>

<p>void log4cpp::NDC::inherit (NDC::ContextStack * stack)
[static] std::string log4cpp::NDC::pop () [static] Clients
should call this method before leaving a diagnostic context.
The returned value is the value that was pushed last. If no
context is available, then the empty string is returned.
Returns: String The innermost diagnostic context.</p>

<p>void log4cpp::NDC::push (const std::string &amp;
message) [static] Push new diagnostic context information
for the current thread. The contents of the message
parameter is determined solely by the client. Parameters:
message The new diagnostic context information.</p>

<p>void log4cpp::NDC::setMaxDepth (int maxDepth) [static]
Set the maximum nesting depth for the current NDC. Curently
NDCs do not enforce a maximum depth and consequentially this
method has no effect. Parameters: maxDepth the maximum
nesting depth</p>

<p>Member Data Documentation ContextStack
log4cpp::NDC::_stack Author Generated automatically by
Doxygen for log4cpp from the source code.</p>

<p>Version 1.0 31 Jul 2014 log4cpp::NDC(3)</p>
<hr>
</body>
</html>
