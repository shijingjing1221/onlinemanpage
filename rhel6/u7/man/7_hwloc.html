<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:18:24 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>HWLOC(7) hwloc HWLOC(7)</p>

<p>NAME hwloc - General information about hwloc
(&quot;hardware locality&quot;).</p>

<p>DESCRIPTION hwloc provides command line tools and a C
API to obtain the hierarchi- cal map of key computing
elements, such as: NUMA memory nodes, shared caches,
processor sockets, processor cores, and processor
&quot;threads&quot;. hwloc also gathers various attributes
such as cache and memory informa- tion, and is portable
across a variety of different operating systems and
platforms.</p>

<p>Definitions Hwloc has some specific definitions for
terms that are used in this man page and other hwloc
documentation.</p>

<p>Hwloc CPU set: A set of processors included in an hwloc
object, expressed as a bitmask indexed by the physical
numbers of the CPUs (as announced by the OS). The hwloc
definition of &quot;CPU set&quot; does not carry any the
same connotations as Linux s &quot;CPU set&quot; (e.g.,
process affin- ity, etc.).</p>

<p>Linux CPU set: See
http://www.mjmwired.net/kernel/Documentation/cpusets.txt for
a discussion of Linux CPU sets. A
super-short-ignoring-many-details description (taken from
that page) is:</p>

<p>&quot;Cpusets provide a mechanism for assigning a set of
CPUs and Mem- ory Nodes to a set of tasks.&quot;</p>

<p>Linux Cgroup: See
http://www.mjmwired.net/kernel/Documentation/cgroups.txt for
a discussion of Linux control groups. A
super-short-ignoring-many- details description (taken from
that page) is:</p>

<p>&quot;Control Groups provide a mechanism for
aggregating/partitioning sets of tasks, and all their future
children, into hierarchical groups with specialized
behaviour.&quot;</p>

<p>To be clear, hwloc supports all of the above concepts.
It is simply worth noting that they are 3 different
things.</p>

<p>Location Specification Locations refer to specific
regions within a topology. Before reading the rest of this
man page, it may be useful to read lstopo(1) and/or run
lstopo on your machine to see the reported topology tree.
Seeing and understanding a topology tree will definitely
help in understanding the concepts that are discussed
below.</p>

<p>Locations can be specified in multiple ways:</p>

<p>Tuples: Tuples of hwloc &quot;objects&quot; and
associated indexes can be spec- ified in the form
object:index. Hwloc objects represent types of mapped items
(e.g., sockets, cores, etc.) in a topology tree; indexes are
non-negative integers that specify a unique physical object
in a topology tree. Both concepts are described in detail,
below.</p>

<p>Chaining multiple tuples together in the more general
form object1:index[.object2:index2[...]] is permissable.
While the first tuples object may appear anywhere in the
topology, the Nth tuple s object must have a shallower
topology depth than the (N+1)th tuples object. Put simply:
as you move right in a tuple chain, objects must go deeper
in the topol- ogy tree. When using logical indexes (which is
the default), indexes specified in chained tuples are
relative to the scope of the parent object. For example,
&quot;socket:0.core:1&quot; refers to the second core in the
first socket. When using OS/physi- cal indexes, the first
object matching the given index is used.</p>

<p>Hex: Locations can also be specified as hexidecimal
bitmasks pre- fixed with &quot;0x&quot;. Commas must be used
to separate the hex digits into blocks of 8, such as
&quot;0xffc0140,0x00020110&quot;. Leading zeros in each
block do not need to be specified. For example,
&quot;0xffc0140,0x20110&quot; is equivalent to the prior
exam- ple, and &quot;0x0000000f&quot; is exactly equivalent
to &quot;0xf&quot;. Inter- mediate blocks of 8 digits that
are all zeoro can be left empty; &quot;0xff0,,0x13&quot; is
equivalent to &quot;0xff0,0x00000000,0x13&quot;. If the
location is prefixed with the special string
&quot;0xf...f&quot;, then all unspecified bits are set (as
if the set were infinite). For example,
&quot;0xf...f,0x1&quot; sets both the first bit and all bits
starting with the 33rd. The string &quot;0xf...f&quot; --
with no other specified values -- sets all bits.</p>

<p>I/O devices: Locations may also be a PCI or OS object.
The corresponding value is the set of CPUs that are close to
the physical device. For example, &quot;pci=02:03.1&quot; is
equivalent to the set of processors that are close to the
hostbridge above PCI device with bus ID &quot;02:03.1&quot;.
&quot;os=eth0&quot; is equivalent to all processors close to
the network interface whose software name is
&quot;eth0&quot;.</p>

<p>Multiple locations can be specified on the hwloc-bind
command line (delimited by whitespace); the first token of
the execution command is assumed to either follow
&quot;--&quot; (if specified) or the first token that is
unrecognized as a location.</p>

<p>By default, if multiple locations are specified, they
are added, mean- ing that the binding will be wider in the
sense that the process may run on more objects.</p>

<p>If prefixed with &quot;~&quot;, the given location will
be cleared instead of added to the current list of
locations. If prefixed with &quot;x&quot;, the given
location will be and ed instead of added to the current
list. If prefixed with &quot;^&quot;, the given location
will be xored.</p>

<p>&quot;all&quot; and &quot;root&quot; are a special
location consisting in the entire cur- rent topology. More
complex operations may be performed by using hwloc-calc to
compute intermediate values.</p>

<p>Hwloc Objects Objects can be any of the following
strings (listed from &quot;biggest&quot; to
&quot;smallest&quot;):</p>

<p>machine A set of processors and memory.</p>

<p>node A NUMA node; a set of processors around memory
which the pro- cessors can directly access.</p>

<p>socket Typically a physical package or chip, it is a
grouping of one or more processors.</p>

<p>core A single, physical processing unit which may still
contain multiple logical processors, such as hardware
threads.</p>

<p>pu Short for processor unit (not process!). The smallest
physi- cal execution unit that hwloc recognizes. For
example, there may be multiple PUs on a core (e.g., hardware
threads).</p>

<p>The additional system type can be used when several
machines form an overall single system image (SSI), such as
Kerrighed.</p>

<p>Finally, note that an object can be denoted by its
numeric &quot;depth&quot; in the topology graph.</p>

<p>Hwloc Indexes Indexes are integer values that uniquely
specify a given object of a specific type. Indexes can be
expressed either as logical values or physical values. Most
hwloc utilities accept logical indexes by default. Passing
--physical switches to physical/OS indexes. Both logical and
physical indexes are described on this man page.</p>

<p>Logical indexes are relative to the object order in the
output from the lstopo command. They always start with 0 and
increment by 1 for each successive object.</p>

<p>Physical indexes are how the operating system refers to
objects. Note that while physical indexes are non-negative
integer values, the hard- ware and/or operating system may
choose arbitrary values -- they may not start with 0, and
successive objects may not have consecutive val- ues.</p>

<p>For example, if the first few lines of lstopo -p output
are the follow- ing:</p>

<p>Machine (47GB) NUMANode P#0 (24GB) + Socket P#0 + L3
(12MB) L2 (256KB) + L1 (32KB) + Core P#0 + PU P#0 L2 (256KB)
+ L1 (32KB) + Core P#1 + PU P#0 L2 (256KB) + L1 (32KB) +
Core P#2 + PU P#0 L2 (256KB) + L1 (32KB) + Core P#8 + PU P#0
L2 (256KB) + L1 (32KB) + Core P#9 + PU P#0 L2 (256KB) + L1
(32KB) + Core P#10 + PU P#0 NUMANode P#1 (24GB) + Socket P#1
+ L3 (12MB) L2 (256KB) + L1 (32KB) + Core P#0 + PU P#0 L2
(256KB) + L1 (32KB) + Core P#1 + PU P#0 L2 (256KB) + L1
(32KB) + Core P#2 + PU P#0 L2 (256KB) + L1 (32KB) + Core P#8
+ PU P#0 L2 (256KB) + L1 (32KB) + Core P#9 + PU P#0 L2
(256KB) + L1 (32KB) + Core P#10 + PU P#0</p>

<p>In this example, the first core on the second socket is
logically num- ber 6 (i.e., logically the 7th core, starting
from 0). Its physical index is 0, but note that another core
also has a physical index of 0. Hence, physical indexes may
only be relevant within the scope of their parent (or set of
ancestors). In this example, to uniquely identify logical
core 6 with physical indexes, you must specify (at a
minimum) both a socket and a core: socket 1, core 0.</p>

<p>Index values, regardless of whether they are logical or
physical, can be expressed in several different forms (where
X, Y, and N are positive integers):</p>

<p>X The object with index value X.</p>

<p>X-Y All the objects with index values &gt;= X and &lt;=
Y.</p>

<p>X- All the objects with index values &gt;= X.</p>

<p>X:N N objects starting with index X, possibly wrapping
around the end of the level.</p>

<p>all A special index value indicating all valid index
values.</p>

<p>odd A special index value indicating all valid odd index
values.</p>

<p>even A special index value indicating all valid even
index values.</p>

<p>REMEMBER: hwlocs command line tools accept logical
indexes for loca- tion values by default. Use --physical and
--logical to switch from one mode to another.</p>

<p>SEE ALSO Hwloc s command line tool documentation:
lstopo(1), hwloc-bind(1), hwloc-calc(1), hwloc-distrib(1),
hwloc-ps(1).</p>

<p>Hwloc has many C API functions, each of which have their
own man page. Some top-level man pages are also provided,
grouping similar functions together. A few good places to
start might include: hwlocal- ity_objects(3),
hwlocality_types(3), hwlocality_creation(3), hwlocal-
ity_cpuset(3), hwlocality_information(3), and
hwlocality_binding(3).</p>

<p>For a listing of all available hwloc man pages, look at
all &quot;hwloc*&quot; files in the man1 and man3
directories.</p>

<p>1.5 Jul 30, 2012 HWLOC(7)</p>
<hr>
</body>
</html>
