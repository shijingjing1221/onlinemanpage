<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:34:06 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>SHMAT(3P) POSIX Programmer s Manual SHMAT(3P)</p>

<p>PROLOG This manual page is part of the POSIX Programmer
s Manual. The Linux implementation of this interface may
differ (consult the corresponding Linux manual page for
details of Linux behavior), or the interface may not be
implemented on Linux.</p>

<p>NAME shmat - XSI shared memory attach operation</p>

<p>SYNOPSIS #include &lt;sys/shm.h&gt;</p>

<p>void *shmat(int shmid, const void *shmaddr, int
shmflg);</p>

<p>DESCRIPTION The shmat() function operates on XSI shared
memory (see the Base Defi- nitions volume of IEEE Std
1003.1-2001, Section 3.340, Shared Memory Object). It is
unspecified whether this function interoperates with the
realtime interprocess communication facilities defined in
Realtime .</p>

<p>The shmat() function attaches the shared memory segment
associated with the shared memory identifier specified by
shmid to the address space of the calling process. The
segment is attached at the address specified by one of the
following criteria:</p>

<p>* If shmaddr is a null pointer, the segment is attached
at the first available address as selected by the
system.</p>

<p>* If shmaddr is not a null pointer and (shmflg
&amp;SHM_RND) is non-zero, the segment is attached at the
address given by (shmaddr -((uintptr_t)shmaddr %SHMLBA)).
The character%is the C-language remainder operator.</p>

<p>* If shmaddr is not a null pointer and (shmflg
&amp;SHM_RND) is 0, the segment is attached at the address
given by shmaddr.</p>

<p>* The segment is attached for reading if (shmflg
&amp;SHM_RDONLY) is non- zero and the calling process has
read permission; otherwise, if it is 0 and the calling
process has read and write permission, the seg- ment is
attached for reading and writing.</p>

<p>RETURN VALUE Upon successful completion, shmat() shall
increment the value of shm_nattch in the data structure
associated with the shared memory ID of the attached shared
memory segment and return the segments start address.</p>

<p>Otherwise, the shared memory segment shall not be
attached, shmat() shall return -1, and errno shall be set to
indicate the error.</p>

<p>ERRORS The shmat() function shall fail if:</p>

<p>EACCES Operation permission is denied to the calling
process; see XSI Interprocess Communication .</p>

<p>EINVAL The value of shmid is not a valid shared memory
identifier, the shmaddr is not a null pointer, and the value
of (shmaddr -((uintptr_t)shmaddr %SHMLBA)) is an illegal
address for attach- ing shared memory; or the shmaddr is not
a null pointer, (shmflg &amp;SHM_RND) is 0, and the value of
shmaddr is an illegal address for attaching shared
memory.</p>

<p>EMFILE The number of shared memory segments attached to
the calling process would exceed the system-imposed
limit.</p>

<p>ENOMEM The available data space is not large enough to
accommodate the shared memory segment.</p>

<p>The following sections are informative.</p>

<p>EXAMPLES None.</p>

<p>APPLICATION USAGE The POSIX Realtime Extension defines
alternative interfaces for inter- process communication.
Application developers who need to use IPC should design
their applications so that modules using the IPC routines
described in XSI Interprocess Communication can be easily
modified to use the alternative interfaces.</p>

<p>RATIONALE None.</p>

<p>FUTURE DIRECTIONS None.</p>

<p>SEE ALSO XSI Interprocess Communication, Realtime,
exec() , exit(), fork(), shm- ctl(), shmdt(), shmget(),
shm_open(), shm_unlink(), the Base Defini- tions volume of
IEEE Std 1003.1-2001, &lt;sys/shm.h&gt;</p>

<p>COPYRIGHT Portions of this text are reprinted and
reproduced in electronic form from IEEE Std 1003.1, 2003
Edition, Standard for Information Technology -- Portable
Operating System Interface (POSIX), The Open Group Base
Specifications Issue 6, Copyright (C) 2001-2003 by the
Institute of Electrical and Electronics Engineers, Inc and
The Open Group. In the event of any discrepancy between this
version and the original IEEE and The Open Group Standard,
the original IEEE and The Open Group Standard is the referee
document. The original Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>

<p>IEEE/The Open Group 2003 SHMAT(3P)</p>
<hr>
</body>
</html>
