<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:04:03 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>AGETTY(8) AGETTY(8)</p>

<p>NAME agetty - alternative Linux getty</p>

<p>SYNOPSIS agetty [-8ihLmnUw] [-f issue_file] [-l
login_program] [-I init] [-t timeout] [-H login_host] port
baud_rate,... [term] agetty [-8ihLmnw] [-f issue_file] [-l
login_program] [-I init] [-t timeout] [-H login_host]
baud_rate,... port [term]</p>

<p>DESCRIPTION agetty opens a tty port, prompts for a login
name and invokes the /bin/login command. It is normally
invoked by init(8).</p>

<p>agetty has several non-standard features that are useful
for hard-wired and for dial-in lines:</p>

<p>o Adapts the tty settings to parity bits and to erase,
kill, end- of-line and uppercase characters when it reads a
login name. The program can handle 7-bit characters with
even, odd, none or space parity, and 8-bit characters with
no parity. The following special characters are recognized:
@ and Control-U (kill); #, DEL and back space (erase);
carriage return and line feed (end of line). See also
--erase-chars and --kill-chars options.</p>

<p>o Optionally deduces the baud rate from the CONNECT
messages pro- duced by Hayes(tm)-compatible modems.</p>

<p>o Optionally does not hang up when it is given an
already opened line (useful for call-back applications).</p>

<p>o Optionally does not display the contents of the
/etc/issue file.</p>

<p>o Optionally displays an alternative issue file instead
of /etc/issue.</p>

<p>o Optionally does not ask for a login name.</p>

<p>o Optionally invokes a non-standard login program
instead of /bin/login.</p>

<p>o Optionally turns on hard-ware flow control</p>

<p>o Optionally forces the line to be local with no need
for carrier detect.</p>

<p>This program does not use the /etc/gettydefs (System V)
or /etc/get- tytab (SunOS 4) files.</p>

<p>ARGUMENTS port A path name relative to the /dev
directory. If a &quot;-&quot; is speci- fied, agetty assumes
that its standard input is already con- nected to a tty port
and that a connection to a remote user has already been
established.</p>

<p>Under System V, a &quot;-&quot; port argument should be
preceded by a &quot;--&quot;.</p>

<p>baud_rate,... A comma-separated list of one or more baud
rates. Each time agetty receives a BREAK character it
advances through the list, which is treated as if it were
circular.</p>

<p>Baud rates should be specified in descending order, so
that the null character (Ctrl-@) can also be used for baud
rate switch- ing.</p>

<p>term The value to be used for the TERM environment
variable. This overrides whatever init(8) may have set, and
is inherited by login and the shell.</p>

<p>OPTIONS -8 Assume that the tty is 8-bit clean, hence
disable parity detec- tion.</p>

<p>-h Enable hardware (RTS/CTS) flow control. It is left up
to the application to disable software (XON/XOFF) flow
protocol where appropriate.</p>

<p>-i Do not display the contents of /etc/issue (or other)
before writing the login prompt. Terminals or communications
hardware may become confused when receiving lots of text at
the wrong baud rate; dial-up scripts may fail if the login
prompt is pre- ceded by too much text.</p>

<p>-E If -H fakehost option is given then -h fakehost
options is added to the the /bin/login command line.</p>

<p>-f issue_file Display the contents of issue_file instead
of /etc/issue. This allows custom messages to be displayed
on different terminals. The -i option will override this
option.</p>

<p>-I initstring Set an initial string to be sent to the
tty or modem before sending anything else. This may be used
to initialize a modem. Non printable characters may be sent
by writing their octal code preceded by a backslash (. For
example to send a linefeed character (ASCII 10, octal 012)
write 12.</p>

<p>-l login_program Invoke the specified login_program
instead of /bin/login. This allows the use of a non-standard
login program (for example, one that asks for a dial-up
password or that uses a different pass- word file).</p>

<p>-H login_host Write the specified login_host into the
utmp file. (Normally, no login host is given, since agetty
is used for local hardwired connections and consoles.
However, this option can be useful for identifying terminal
concentrators and the like.</p>

<p>-L [=mode] Control CLOCAL line flag, the optional
argument mode is auto, always or never. If the mode argument
is omitted then the default is always. If the -L option is
ommitted at all then the default is auto.</p>

<p>The mode always forces the line to be a local line with
no need for carrier detect. This can be useful when you have
a locally attached terminal where the serial line does not
set the carrier detect signal.</p>

<p>The mode never explicitly clears CLOCAL flags from line
set- ting and the carrier detect signal is expected on the
line.</p>

<p>The mode auto (agetty default) does not modify CLOCAL
setting and follows the setting enabled by kernel.</p>

<p>-m Try to extract the baud rate the CONNECT status
message produced by Hayes(tm)-compatible modems. These
status messages are of the form:
&quot;&lt;junk&gt;&lt;speed&gt;&lt;junk&gt;&quot;. agetty
assumes that the modem emits its status message at the same
speed as specified with (the first) baud_rate value on the
command line.</p>

<p>Since the -m feature may fail on heavily-loaded systems,
you still should enable BREAK processing by enumerating all
expected baud rates on the command line.</p>

<p>-n Do not prompt the user for a login name. This can be
used in connection with -l option to invoke a non-standard
login process such as a BBS system. Note that with the -n
option, agetty gets no input from user who logs in and
therefore won t be able to figure out parity, character
size, and newline processing of the connection. It defaults
to space parity, 7 bit characters, and ASCII CR (13)
end-of-line character. Beware that the program that agetty
starts (usually /bin/login) is run as root.</p>

<p>-t timeout Terminate if no user name could be read
within timeout seconds. This option should probably not be
used with hard-wired lines.</p>

<p>-L Force the line to be a local line with no need for
carrier detect. This can be useful when you have a locally
attached ter- minal where the serial line does not set the
carrier detect sig- nal.</p>

<p>-U Turn on support for detecting an uppercase only
terminal. This setting will detect a login name containing
only capitals as indicating an uppercase only terminal and
turn on some upper to lower case conversions. Note that this
has no support for any unicode characters.</p>

<p>-w Wait for the user or the modem to send a
carriage-return or a linefeed character before sending the
/etc/issue (or other) file and the login prompt. Very useful
in connection with the -I option.</p>

<p>--erase-chars string This option specifies additional
chars that should be inter- preted as a backspace (ignore
previous char) when user specifies login name. The default
is &acute;#&acute;, specify empty string to disable the
default.</p>

<p>--kill-chars string This option specifies additional
chars that should be inter- preted as a kill (ignore all
previous chars) when user specifies login name. The default
is &acute;@&acute;, specify empty string to disable the
default.</p>

<p>EXAMPLES This section shows examples for the process
field of an entry in the /etc/inittab file. Youll have to
prepend appropriate values for the other fields. See
inittab(5) for more details.</p>

<p>For a hard-wired line or a console tty: /sbin/agetty
9600 ttyS1</p>

<p>For a directly connected terminal without proper
carriage detect wiring: (try this if your terminal just
sleeps instead of giving you a password: prompt.)
/sbin/agetty -L 9600 ttyS1 vt100</p>

<p>For a old style dial-in line with a 9600/2400/1200 baud
modem: /sbin/agetty -mt60 ttyS1 9600,2400,1200</p>

<p>For a Hayes modem with a fixed 115200 bps interface to
the machine: (the example init string turns off modem echo
and result codes, makes modem/computer DCD track modem/modem
DCD, makes a DTR drop cause a dis- connection and turn on
auto-answer after 1 ring.) /sbin/agetty -w -I
ATE0Q1&amp;D2&amp;C1S0=1 15 115200 ttyS1</p>

<p>ISSUE ESCAPES The issue-file (/etc/issue or the file set
with the -f option) may con- tain certain escape codes to
display the system name, date and time etc. All escape codes
consist of a backslash ( immediately followed by one of the
letters explained below.</p>

<p>b Insert the baudrate of the current line.</p>

<p>d Insert the current date.</p>

<p>s Insert the system name, the name of the operating
system.</p>

<p>l Insert the name of the current tty line.</p>

<p>m Insert the architecture identifier of the machine, eg.
i486</p>

<p>n Insert the nodename of the machine, also known as the
hostname.</p>

<p>o Insert the NIS domainname of the machine.</p>

<p>O Insert the DNS domainname of the machine.</p>

<p>r Insert the release number of the OS, eg. 1.1.9.</p>

<p>t Insert the current time.</p>

<p>u Insert the number of current users logged in.</p>

<p>U Insert the string &quot;1 user&quot; or
&quot;&lt;n&gt; users&quot; where &lt;n&gt; is the num- ber
of current users logged in.</p>

<p>v Insert the version of the OS, eg. the build-date
etc.</p>

<p>Example: On my system, the following /etc/issue
file:</p>

<p>This is 0)</p>

<p>displays as</p>

<p>This is thingol.orcan.dk (Linux i386 1.1.9) 18:29:30</p>

<p>FILES /var/run/utmp, the system status file. /etc/issue,
printed before the login prompt. /dev/console, problem
reports (if syslog(3) is not used). /etc/inittab, init(8)
configuration file.</p>

<p>BUGS The baud-rate detection feature (the -m option)
requires that agetty be scheduled soon enough after
completion of a dial-in call (within 30 ms with modems that
talk at 2400 baud). For robustness, always use the -m option
in combination with a multiple baud rate command-line
argument, so that BREAK processing is enabled.</p>

<p>The text in the /etc/issue file (or other) and the login
prompt are always output with 7-bit characters and space
parity.</p>

<p>The baud-rate detection feature (the -m option) requires
that the modem emits its status message after raising the
DCD line.</p>

<p>DIAGNOSTICS Depending on how the program was configured,
all diagnostics are writ- ten to the console device or
reported via the syslog(3) facility. Error messages are
produced if the port argument does not specify a terminal
device; if there is no utmp entry for the current process
(System V only); and so on.</p>

<p>AUTHOR(S) W.Z. Venema &lt;wietse@wzv.win.tue.nl&gt;
Eindhoven University of Technology Department of Mathematics
and Computer Science Den Dolech 2, P.O. Box 513, 5600 MB
Eindhoven, The Netherlands</p>

<p>Peter Orbaek &lt;poe@daimi.aau.dk&gt; Linux port and
more options. Still maintains the code.</p>

<p>Eric Rasmussen &lt;ear@usfirst.org&gt; Added -f option
to display custom login messages on different terminals.</p>

<p>AVAILABILITY The agetty command is part of the
util-linux-ng package and is avail- able from
ftp://ftp.kernel.org/pub/linux/utils/util-linux-ng/.</p>

<p>AGETTY(8)</p>
<hr>
</body>
</html>
