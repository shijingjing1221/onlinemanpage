<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:26:58 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>PERL561DELTA(1) Perl Programmers Reference Guide
PERL561DELTA(1)</p>

<p>NAME perl561delta - whats new for perl v5.6.x</p>

<p>DESCRIPTION This document describes differences between
the 5.005 release and the 5.6.1 release.</p>

<p>Summary of changes between 5.6.0 and 5.6.1 This section
contains a summary of the changes between the 5.6.0 release
and the 5.6.1 release. More details about the changes
mentioned here may be found in the Changes files that
accompany the Perl source distribution. See perlhack for
pointers to online resources where you can inspect the
individual patches described by these changes.</p>

<p>Security Issues suidperl will not run /bin/mail anymore,
because some platforms have a /bin/mail that is vulnerable
to buffer overflow attacks.</p>

<p>Note that suidperl is neither built nor installed by
default in any recent version of perl. Use of suidperl is
highly discouraged. If you think you need it, try
alternatives such as sudo first. See
http://www.courtesan.com/sudo/ .</p>

<p>Core bug fixes This is not an exhaustive list. It is
intended to cover only the significant user-visible
changes.</p>

<p>&quot;UNIVERSAL::isa()&quot; A bug in the caching
mechanism used by &quot;UNIVERSAL::isa()&quot; that affected
base.pm has been fixed. The bug has existed since the 5.005
releases, but wasnt tickled by base.pm in those
releases.</p>

<p>Memory leaks Various cases of memory leaks and attempts
to access uninitialized memory have been cured. See
&quot;Known Problems&quot; below for further issues.</p>

<p>Numeric conversions Numeric conversions did not
recognize changes in the string value properly in certain
circumstances.</p>

<p>In other situations, large unsigned numbers (those above
2**31) could sometimes lose their unsignedness, causing
bogus results in arithmetic operations.</p>

<p>Integer modulus on large unsigned integers sometimes
returned incorrect values.</p>

<p>Perl 5.6.0 generated &quot;not a number&quot; warnings
on certain conversions where previous versions didnt.</p>

<p>These problems have all been rectified.</p>

<p>Infinity is now recognized as a number.</p>

<p>qw(a\b) In Perl 5.6.0, qw(a\b) produced a string with
two backslashes instead of one, in a departure from the
behavior in previous versions. The older behavior has been
reinstated.</p>

<p>caller() caller() could cause core dumps in certain
situations. Carp was sometimes affected by this problem.</p>

<p>Bugs in regular expressions Pattern matches on
overloaded values are now handled correctly.</p>

<p>Perl 5.6.0 parsed m/b}/ incorrectly, leading to spurious
warnings. This has been corrected.</p>

<p>The RE engine found in Perl 5.6.0 accidentally
pessimised certain kinds of simple pattern matches. These
are now handled better.</p>

<p>Regular expression debug output (whether through
&quot;use re &rsquo;debug&rsquo;&quot; or via
&quot;-Dr&quot;) now looks better.</p>

<p>Multi-line matches like &quot;&quot;a0b0 =~ /(?!0 bug
has been fixed.</p>

<p>Use of $&amp; could trigger a core dump under some
situations. This is now avoided.</p>

<p>Match variables $1 et al., werent being unset when a
pattern match was backtracking, and the anomaly showed up
inside &quot;/...(?{ ... }).../&quot; etc. These variables
are now tracked correctly.</p>

<p>pos() did not return the correct value within s///ge in
earlier versions. This is now handled correctly.</p>

<p>&quot;slurp&quot; mode readline() on files opened in
&quot;slurp&quot; mode could return an extra &quot;&quot; at
the end in certain situations. This has been corrected.</p>

<p>Autovivification of symbolic references to special
variables Autovivification of symbolic references of special
variables described in perlvar (as in &quot;${$num}&quot;)
was accidentally disabled. This works again now.</p>

<p>Lexical warnings Lexical warnings now propagate
correctly into &quot;eval &quot;...&quot;&quot;.</p>

<p>&quot;use warnings qw(FATAL all)&quot; did not work as
intended. This has been corrected.</p>

<p>Lexical warnings could leak into other scopes in some
situations. This is now fixed.</p>

<p>warnings::enabled() now reports the state of $^W
correctly if the caller isnt using lexical warnings.</p>

<p>Spurious warnings and errors Perl 5.6.0 could emit
spurious warnings about redefinition of dl_error() when
statically building extensions into perl. This has been
corrected.</p>

<p>&quot;our&quot; variables could result in bogus
&quot;Variable will not stay shared&quot; warnings. This is
now fixed.</p>

<p>&quot;our&quot; variables of the same name declared in
two sibling blocks resulted in bogus warnings about
&quot;redeclaration&quot; of the variables. The problem has
been corrected.</p>

<p>glob() Compatibility of the builtin glob() with old
csh-based glob has been improved with the addition of
GLOB_ALPHASORT option. See &quot;File::Glob&quot;.</p>

<p>File::Glob::glob() has been renamed to
File::Glob::bsd_glob() because the name clashes with the
builtin glob(). The older name is still available for
compatibility, but is deprecated.</p>

<p>Spurious syntax errors generated in certain situations,
when glob() caused File::Glob to be loaded for the first
time, have been fixed.</p>

<p>Tainting Some cases of inconsistent taint propagation
(such as within hash values) have been fixed.</p>

<p>The tainting behavior of sprintf() has been
rationalized. It does not taint the result of floating point
formats anymore, making the behavior consistent with that of
string interpolation.</p>

<p>sort() Arguments to sort() werent being provided the
right wantarray() context. The comparison block is now run
in scalar context, and the arguments to be sorted are always
provided list context.</p>

<p>sort() is also fully reentrant, in the sense that the
sort function can itself call sort(). This did not work
reliably in previous releases.</p>

<p>#line directives #line directives now work correctly
when they appear at the very beginning of &quot;eval
&quot;...&quot;&quot;.</p>

<p>Subroutine prototypes The () prototype now works
properly.</p>

<p>map() map() could get pathologically slow when the
result list it generates is larger than the source list. The
performance has been improved for common scenarios.</p>

<p>Debugger Debugger exit code now reflects the script exit
code.</p>

<p>Condition &quot;0&quot; in breakpoints is now treated
correctly.</p>

<p>The &quot;d&quot; command now checks the line
number.</p>

<p>$. is no longer corrupted by the debugger.</p>

<p>All debugger output now correctly goes to the socket if
RemotePort is set.</p>

<p>PERL5OPT PERL5OPT can be set to more than one switch
group. Previously, it used to be limited to one group of
options only.</p>

<p>chop() chop(@list) in list context returned the
characters chopped in reverse order. This has been reversed
to be in the right order.</p>

<p>Unicode support Unicode support has seen a large number
of incremental improvements, but continues to be highly
experimental. It is not expected to be fully supported in
the 5.6.x maintenance releases.</p>

<p>substr(), join(), repeat(), reverse(), quotemeta() and
string concatenation were all handling Unicode strings
incorrectly in Perl 5.6.0. This has been corrected.</p>

<p>Support for &quot;tr///CU&quot; and &quot;tr///UC&quot;
etc., have been removed since we realized the interface is
broken. For similar functionality, see &quot;pack&quot; in
perlfunc.</p>

<p>The Unicode Character Database has been updated to
version 3.0.1 with additions made available to the public as
of August 30, 2000.</p>

<p>The Unicode character classes {Blank} and {SpacePerl}
have been added. &quot;Blank&quot; is like C isblank(), that
is, it contains only &quot;horizontal whitespace&quot; (the
space character is, the newline isn t), and the
&quot;SpacePerl&quot; is the Unicode equivalent of &quot;
({Space} isnt, since that includes the vertical tabulator
character, whereas &quot;oesnt.)</p>

<p>If you are experimenting with Unicode support in perl,
the development versions of Perl may have more to offer. In
particular, I/O layers are now available in the development
track, but not in the maintenance track, primarily to do
backward compatibility issues. Unicode support is also
evolving rapidly on a daily basis in the development
track--the maintenance track only reflects the most
conservative of these changes.</p>

<p>64-bit support Support for 64-bit platforms has been
improved, but continues to be experimental. The level of
support varies greatly among platforms.</p>

<p>Compiler The B Compiler and its various backends have
had many incremental improvements, but they continue to
remain highly experimental. Use in production environments
is discouraged.</p>

<p>The perlcc tool has been rewritten so that the user
interface is much more like that of a C compiler.</p>

<p>The perlbc tools has been removed. Use &quot;perlcc
-B&quot; instead.</p>

<p>Lvalue subroutines There have been various bugfixes to
support lvalue subroutines better. However, the feature
still remains experimental.</p>

<p>IO::Socket IO::Socket::INET failed to open the specified
port if the service name was not known. It now correctly
uses the supplied port number as is.</p>

<p>File::Find File::Find now chdir()s correctly when
chasing symbolic links.</p>

<p>xsubpp xsubpp now tolerates embedded POD sections.</p>

<p>&quot;no Module;&quot; &quot;no Module;&quot; does not
produce an error even if Module does not have an unimport()
method. This parallels the behavior of &quot;use&quot;
vis-a- vis &quot;import&quot;.</p>

<p>Tests A large number of tests have been added.</p>

<p>Core features untie() will now call an UNTIE() hook if
it exists. See perltie for details.</p>

<p>The &quot;-DT&quot; command line switch outputs copious
tokenizing information. See perlrun.</p>

<p>Arrays are now always interpolated in double-quotish
strings. Previously, &quot;foo@bar.com&quot; used to be a
fatal error at compile time, if an array @bar was not used
or declared. This transitional behavior was intended to help
migrate perl4 code, and is deemed to be no longer useful.
See &quot;Arrays now always interpolate into double-quoted
strings&quot;.</p>

<p>keys(), each(), pop(), push(), shift(), splice() and
unshift() can all be overridden now.</p>

<p>&quot;my __PACKAGE__ $obj&quot; now does the expected
thing.</p>

<p>Configuration issues On some systems (IRIX and Solaris
among them) the system malloc is demonstrably better. While
the defaults haven t been changed in order to retain binary
compatibility with earlier releases, you may be better off
building perl with &quot;Configure -Uusemymalloc ...&quot;
as discussed in the INSTALL file.</p>

<p>&quot;Configure&quot; has been enhanced in various
ways:</p>

<p>&middot; Minimizes use of temporary files.</p>

<p>&middot; By default, does not link perl with libraries
not used by it, such as the various dbm libraries. SunOS 4.x
hints preserve behavior on that platform.</p>

<p>&middot; Support for pdp11-style memory models has been
removed due to obsolescence.</p>

<p>&middot; Building outside the source tree is supported
on systems that have symbolic links. This is done by
running</p>

<p>sh /path/to/source/Configure -Dmksymlinks ... make all
test install</p>

<p>in a directory other than the perl source directory. See
INSTALL.</p>

<p>&middot; &quot;Configure -S&quot; can be run
non-interactively.</p>

<p>Documentation README.aix, README.solaris and
README.macos have been added. README.posix-bc has been
renamed to README.bs2000. These are installed as perlaix,
perlsolaris, perlmacos, and perlbs2000 respectively.</p>

<p>The following pod documents are brand new:</p>

<p>perlclib Internal replacements for standard C library
functions perldebtut Perl debugging tutorial perlebcdic
Considerations for running Perl on EBCDIC platforms
perlnewmod Perl modules: preparing a new module for
distribution perlrequick Perl regular expressions quick
start perlretut Perl regular expressions tutorial perlutil
utilities packaged with the Perl distribution</p>

<p>The INSTALL file has been expanded to cover various
issues, such as 64-bit support.</p>

<p>A longer list of contributors has been added to the
source distribution. See the file &quot;AUTHORS&quot;.</p>

<p>Numerous other changes have been made to the included
documentation and FAQs.</p>

<p>Bundled modules The following modules have been
added.</p>

<p>B::Concise Walks Perl syntax tree, printing concise info
about ops. See B::Concise.</p>

<p>File::Temp Returns name and handle of a temporary file
safely. See File::Temp.</p>

<p>Pod::LaTeX Converts Pod data to formatted LaTeX. See
Pod::LaTeX.</p>

<p>Pod::Text::Overstrike Converts POD data to formatted
overstrike text. See Pod::Text::Overstrike.</p>

<p>The following modules have been upgraded.</p>

<p>CGI CGI v2.752 is now included.</p>

<p>CPAN CPAN v1.59_54 is now included.</p>

<p>Class::Struct Various bugfixes have been added.</p>

<p>DB_File DB_File v1.75 supports newer Berkeley DB
versions, among other improvements.</p>

<p>Devel::Peek Devel::Peek has been enhanced to support
dumping of memory statistics, when perl is built with the
included malloc().</p>

<p>File::Find File::Find now supports pre and
post-processing of the files in order to sort() them,
etc.</p>

<p>Getopt::Long Getopt::Long v2.25 is included.</p>

<p>IO::Poll Various bug fixes have been included.</p>

<p>IPC::Open3 IPC::Open3 allows use of numeric file
descriptors.</p>

<p>Math::BigFloat The fmod() function supports modulus
operations. Various bug fixes have also been included.</p>

<p>Math::Complex Math::Complex handles inf, NaN etc.,
better.</p>

<p>Net::Ping ping() could fail on odd number of data bytes,
and when the echo service isnt running. This has been
corrected.</p>

<p>Opcode A memory leak has been fixed.</p>

<p>Pod::Parser Version 1.13 of the Pod::Parser suite is
included.</p>

<p>Pod::Text Pod::Text and related modules have been
upgraded to the versions in podlators suite v2.08.</p>

<p>SDBM_File On dosish platforms, some keys went missing
because of lack of support for files with &quot;holes&quot;.
A workaround for the problem has been added.</p>

<p>Sys::Syslog Various bug fixes have been included.</p>

<p>Tie::RefHash Now supports Tie::RefHash::Nestable to
automagically tie hashref values.</p>

<p>Tie::SubstrHash Various bug fixes have been
included.</p>

<p>Platform-specific improvements The following new ports
are now available.</p>

<p>NCR MP-RAS NonStop-UX</p>

<p>Perl now builds under Amdahl UTS.</p>

<p>Perl has also been verified to build under Amiga OS.</p>

<p>Support for EPOC has been much improved. See
README.epoc.</p>

<p>Building perl with -Duseithreads or -Duse5005threads now
works under HP-UX 10.20 (previously it only worked under
10.30 or later). You will need a thread library package
installed. See README.hpux.</p>

<p>Long doubles should now work under Linux.</p>

<p>Mac OS Classic is now supported in the mainstream source
package. See README.macos.</p>

<p>Support for MPE/iX has been updated. See
README.mpeix.</p>

<p>Support for OS/2 has been improved. See
&quot;os2/Changes&quot; and README.os2.</p>

<p>Dynamic loading on z/OS (formerly OS/390) has been
improved. See README.os390.</p>

<p>Support for VMS has seen many incremental improvements,
including better support for operators like backticks and
system(), and better %ENV handling. See
&quot;README.vms&quot; and perlvms.</p>

<p>Support for Stratus VOS has been improved. See
&quot;vos/Changes&quot; and README.vos.</p>

<p>Support for Windows has been improved.</p>

<p>&middot; fork() emulation has been improved in various
ways, but still continues to be experimental. See perlfork
for known bugs and caveats.</p>

<p>&middot; %SIG has been enabled under USE_ITHREADS, but
its use is completely unsupported under all
configurations.</p>

<p>&middot; Borland C++ v5.5 is now a supported compiler
that can build Perl. However, the generated binaries
continue to be incompatible with those generated by the
other supported compilers (GCC and Visual C++).</p>

<p>&middot; Non-blocking waits for child processes (or
pseudo-processes) are supported via &quot;waitpid($pid,
&amp;POSIX::WNOHANG)&quot;.</p>

<p>&middot; A memory leak in accept() has been fixed.</p>

<p>&middot; wait(), waitpid() and backticks now return the
correct exit status under Windows 9x.</p>

<p>&middot; Trailing new %ENV entries werent propagated to
child processes. This is now fixed.</p>

<p>&middot; Current directory entries in %ENV are now
correctly propagated to child processes.</p>

<p>&middot; Duping socket handles with open(F,
&quot;&gt;&amp;MYSOCK&quot;) now works under Windows 9x.</p>

<p>&middot; The makefiles now provide a single switch to
bulk-enable all the features enabled in ActiveState
ActivePerl (a popular binary distribution).</p>

<p>&middot; Win32::GetCwd() correctly returns C: instead of
C: when at the drive root. Other bugs in chdir() and
Cwd::cwd() have also been fixed.</p>

<p>&middot; fork() correctly returns undef and sets EAGAIN
when it runs out of pseudo-process handles.</p>

<p>&middot; ExtUtils::MakeMaker now uses $ENV{LIB} to
search for libraries.</p>

<p>&middot; UNC path handling is better when perl is built
to support fork().</p>

<p>&middot; A handle leak in socket handling has been
fixed.</p>

<p>&middot; send() works from within a pseudo-process.</p>

<p>Unless specifically qualified otherwise, the remainder
of this document covers changes between the 5.005 and 5.6.0
releases.</p>

<p>Core Enhancements Interpreter cloning, threads, and
concurrency Perl 5.6.0 introduces the beginnings of support
for running multiple interpreters concurrently in different
threads. In conjunction with the perl_clone() API call,
which can be used to selectively duplicate the state of any
given interpreter, it is possible to compile a piece of code
once in an interpreter, clone that interpreter one or more
times, and run all the resulting interpreters in distinct
threads.</p>

<p>On the Windows platform, this feature is used to emulate
fork() at the interpreter level. See perlfork for details
about that.</p>

<p>This feature is still in evolution. It is eventually
meant to be used to selectively clone a subroutine and data
reachable from that subroutine in a separate interpreter and
run the cloned subroutine in a separate thread. Since there
is no shared data between the interpreters, little or no
locking will be needed (unless parts of the symbol table are
explicitly shared). This is obviously intended to be an
easy-to-use replacement for the existing threads
support.</p>

<p>Support for cloning interpreters and interpreter
concurrency can be enabled using the -Dusethreads Configure
option (see win32/Makefile for how to enable it on Windows.)
The resulting perl executable will be functionally identical
to one that was built with -Dmultiplicity, but the
perl_clone() API call will only be available in the
former.</p>

<p>-Dusethreads enables the cpp macro USE_ITHREADS by
default, which in turn enables Perl source code changes that
provide a clear separation between the op tree and the data
it operates with. The former is immutable, and can therefore
be shared between an interpreter and all of its clones,
while the latter is considered local to each interpreter,
and is therefore copied for each clone.</p>

<p>Note that building Perl with the -Dusemultiplicity
Configure option is adequate if you wish to run multiple
independent interpreters concurrently in different threads.
-Dusethreads only provides the additional functionality of
the perl_clone() API call and other support for running
cloned interpreters concurrently.</p>

<p>NOTE: This is an experimental feature. Implementation
details are subject to change.</p>

<p>Lexically scoped warning categories You can now control
the granularity of warnings emitted by perl at a finer level
using the &quot;use warnings&quot; pragma. warnings and
perllexwarn have copious documentation on this feature.</p>

<p>Unicode and UTF-8 support Perl now uses UTF-8 as its
internal representation for character strings. The
&quot;utf8&quot; and &quot;bytes&quot; pragmas are used to
control this support in the current lexical scope. See
perlunicode, utf8 and bytes for more information.</p>

<p>This feature is expected to evolve quickly to support
some form of I/O disciplines that can be used to specify the
kind of input and output data (bytes or characters). Until
that happens, additional modules from CPAN will be needed to
complete the toolkit for dealing with Unicode.</p>

<p>NOTE: This should be considered an experimental feature.
Implementation details are subject to change.</p>

<p>Support for interpolating named characters The new
&quot;scape interpolates named characters within strings.
For example, &quot;Hi! HITE SMILING FACE}&quot; evaluates to
a string with a Unicode smiley face at the end.</p>

<p>&quot;our&quot; declarations An &quot;our&quot;
declaration introduces a value that can be best understood
as a lexically scoped symbolic alias to a global variable in
the package that was current where the variable was
declared. This is mostly useful as an alternative to the
&quot;vars&quot; pragma, but also provides the opportunity
to introduce typing and other attributes for such variables.
See &quot;our&quot; in perlfunc.</p>

<p>Support for strings represented as a vector of ordinals
Literals of the form &quot;v1.2.3.4&quot; are now parsed as
a string composed of characters with the specified ordinals.
This is an alternative, more readable way to construct
(possibly Unicode) strings instead of interpolating
characters, as in &quot;&quot;. The leading &quot;v&quot;
may be omitted if there are more than two ordinals, so 1.2.3
is parsed the same as &quot;v1.2.3&quot;.</p>

<p>Strings written in this form are also useful to
represent version &quot;numbers&quot;. It is easy to compare
such version &quot;numbers&quot; (which are really just
plain strings) using any of the usual string comparison
operators &quot;eq&quot;, &quot;ne&quot;, &quot;lt&quot;,
&quot;gt&quot;, etc., or perform bitwise string operations
on them using &quot;|&quot;, &quot;&amp;&quot;, etc.</p>

<p>In conjunction with the new $^V magic variable (which
contains the perl version as a string), such literals can be
used as a readable way to check if youre running a
particular version of Perl:</p>

<p># this will parse in older versions of Perl also if ($^V
and $^V gt v5.6.0) { # new features supported }</p>

<p>&quot;require&quot; and &quot;use&quot; also have some
special magic to support such literals. They will be
interpreted as a version rather than as a module name:</p>

<p>require v5.6.0; # croak if $^V lt v5.6.0 use v5.6.0; #
same, but croaks at compile-time</p>

<p>Alternatively, the &quot;v&quot; may be omitted if there
is more than one dot:</p>

<p>require 5.6.0; use 5.6.0;</p>

<p>Also, &quot;sprintf&quot; and &quot;printf&quot; support
the Perl-specific format flag %v to print ordinals of
characters in arbitrary strings:</p>

<p>printf &quot;v%vd&quot;, $^V; # prints current version,
such as &quot;v5.5.650&quot; printf &quot;%*vX&quot;,
&quot;:&quot;, $addr; # formats IPv6 address printf
&quot;%*vb&quot;, &quot; &quot;, $bits; # displays
bitstring</p>

<p>See &quot;Scalar value constructors&quot; in perldata
for additional information.</p>

<p>Improved Perl version numbering system Beginning with
Perl version 5.6.0, the version number convention has been
changed to a &quot;dotted integer&quot; scheme that is more
commonly found in open source projects.</p>

<p>Maintenance versions of v5.6.0 will be released as
v5.6.1, v5.6.2 etc. The next development series following
v5.6.0 will be numbered v5.7.x, beginning with v5.7.0, and
the next major production release following v5.6.0 will be
v5.8.0.</p>

<p>The English module now sets $PERL_VERSION to $^V (a
string value) rather than $] (a numeric value). (This is a
potential incompatibility. Send us a report via perlbug if
you are affected by this.)</p>

<p>The v1.2.3 syntax is also now legal in Perl. See
&quot;Support for strings represented as a vector of
ordinals&quot; for more on that.</p>

<p>To cope with the new versioning systems use of at least
three significant digits for each version component, the
method used for incrementing the subversion number has also
changed slightly. We assume that versions older than v5.6.0
have been incrementing the subversion component in multiples
of 10. Versions after v5.6.0 will increment them by 1. Thus,
using the new notation, 5.005_03 is the &quot;same&quot; as
v5.5.30, and the first maintenance version following v5.6.0
will be v5.6.1 (which should be read as being equivalent to
a floating point value of 5.006_001 in the older format,
stored in $]).</p>

<p>New syntax for declaring subroutine attributes Formerly,
if you wanted to mark a subroutine as being a method call or
as requiring an automatic lock() when it is entered, you had
to declare that with a &quot;use attrs&quot; pragma in the
body of the subroutine. That can now be accomplished with
declaration syntax, like this:</p>

<p>sub mymethod : locked method; ... sub mymethod : locked
method { ... }</p>

<p>sub othermethod :locked :method; ... sub othermethod
:locked :method { ... }</p>

<p>(Note how only the first &quot;:&quot; is mandatory, and
whitespace surrounding the &quot;:&quot; is optional.)</p>

<p>AutoSplit.pm and SelfLoader.pm have been updated to keep
the attributes with the stubs they provide. See
attributes.</p>

<p>File and directory handles can be autovivified Similar
to how constructs such as &quot;$x-&gt;[0]&quot; autovivify
a reference, handle constructors (open(), opendir(), pipe(),
socketpair(), sysopen(), socket(), and accept()) now
autovivify a file or directory handle if the handle passed
to them is an uninitialized scalar variable. This allows the
constructs such as &quot;open(my $fh, ...)&quot; and
&quot;open(local $fh,...)&quot; to be used to create
filehandles that will conveniently be closed automatically
when the scope ends, provided there are no other references
to them. This largely eliminates the need for typeglobs when
opening filehandles that must be passed around, as in the
following example:</p>

<p>sub myopen { open my $fh, &quot;@_&quot; or die
&quot;Can&rsquo;t open &rsquo;@_&rsquo;: $!&quot;; return
$fh; }</p>

<p>{ my $f = myopen(&quot;&lt;/etc/motd&quot;); print
&lt;$f&gt;; # $f implicitly closed here }</p>

<p>open() with more than two arguments If open() is passed
three arguments instead of two, the second argument is used
as the mode and the third argument is taken to be the file
name. This is primarily useful for protecting against
unintended magic behavior of the traditional two-argument
form. See &quot;open&quot; in perlfunc.</p>

<p>64-bit support Any platform that has 64-bit integers
either</p>

<p>(1) natively as longs or ints (2) via special compiler
flags (3) using long long or int64_t</p>

<p>is able to use &quot;quads&quot; (64-bit integers) as
follows:</p>

<p>&middot; constants (decimal, hexadecimal, octal, binary)
in the code</p>

<p>&middot; arguments to oct() and hex()</p>

<p>&middot; arguments to print(), printf() and sprintf()
(flag prefixes ll, L, q)</p>

<p>&middot; printed as such</p>

<p>&middot; pack() and unpack() &quot;q&quot; and
&quot;Q&quot; formats</p>

<p>&middot; in basic arithmetics: + - * / % (NOTE:
operating close to the limits of the integer values may
produce surprising results)</p>

<p>&middot; in bit arithmetics: &amp; | ^ ~ &lt;&lt;
&gt;&gt; (NOTE: these used to be forced to be 32 bits wide
but now operate on the full native width.)</p>

<p>&middot; vec()</p>

<p>Note that unless you have the case (a) you will have to
configure and compile Perl using the -Duse64bitint Configure
flag.</p>

<p>NOTE: The Configure flags -Duselonglong and -Duse64bits
have been deprecated. Use -Duse64bitint instead.</p>

<p>There are actually two modes of 64-bitness: the first
one is achieved using Configure -Duse64bitint and the second
one using Configure -Duse64bitall. The difference is that
the first one is minimal and the second one maximal. The
first works in more places than the second.</p>

<p>The &quot;use64bitint&quot; does only as much as is
required to get 64-bit integers into Perl (this may mean,
for example, using &quot;long longs&quot;) while your memory
may still be limited to 2 gigabytes (because your pointers
could still be 32-bit). Note that the name
&quot;64bitint&quot; does not imply that your C compiler
will be using 64-bit &quot;int&quot;s (it might, but it
doesnt have to): the &quot;use64bitint&quot; means that you
will be able to have 64 bits wide scalar values.</p>

<p>The &quot;use64bitall&quot; goes all the way by
attempting to switch also integers (if it can), longs (and
pointers) to being 64-bit. This may create an even more
binary incompatible Perl than -Duse64bitint: the resulting
executable may not run at all in a 32-bit box, or you may
have to reboot/reconfigure/rebuild your operating system to
be 64-bit aware.</p>

<p>Natively 64-bit systems like Alpha and Cray need neither
-Duse64bitint nor -Duse64bitall.</p>

<p>Last but not least: note that due to Perls habit of
always using floating point numbers, the quads are still not
true integers. When quads overflow their limits
(0...18_446_744_073_709_551_615 unsigned,
-9_223_372_036_854_775_808...9_223_372_036_854_775_807
signed), they are silently promoted to floating point
numbers, after which they will start losing precision (in
their lower digits).</p>

<p>NOTE: 64-bit support is still experimental on most
platforms. Existing support only covers the LP64 data model.
In particular, the LLP64 data model is not yet supported.
64-bit libraries and system APIs on many platforms have not
stabilized--your mileage may vary.</p>

<p>Large file support If you have filesystems that support
&quot;large files&quot; (files larger than 2 gigabytes), you
may now also be able to create and access them from
Perl.</p>

<p>NOTE: The default action is to enable large file
support, if available on the platform.</p>

<p>If the large file support is on, and you have a Fcntl
constant O_LARGEFILE, the O_LARGEFILE is automatically added
to the flags of sysopen().</p>

<p>Beware that unless your filesystem also supports
&quot;sparse files&quot; seeking to umpteen petabytes may be
inadvisable.</p>

<p>Note that in addition to requiring a proper file system
to do large files you may also need to adjust your
per-process (or your per-system, or per-process-group, or
per-user-group) maximum filesize limits before running Perl
scripts that try to handle large files, especially if you
intend to write such files.</p>

<p>Finally, in addition to your process/process group
maximum filesize limits, you may have quota limits on your
filesystems that stop you (your user id or your user group
id) from using large files.</p>

<p>Adjusting your process/user/group/file system/operating
system limits is outside the scope of Perl core language.
For process limits, you may try increasing the limits using
your shell s limits/limit/ulimit command before running
Perl. The BSD::Resource extension (not included with the
standard Perl distribution) may also be of use, it offers
the getrlimit/setrlimit interface that can be used to adjust
process resource usage limits, including the maximum
filesize limit.</p>

<p>Long doubles In some systems you may be able to use long
doubles to enhance the range and precision of your double
precision floating point numbers (that is, Perls numbers).
Use Configure -Duselongdouble to enable this support (if it
is available).</p>

<p>&quot;more bits&quot; You can &quot;Configure
-Dusemorebits&quot; to turn on both the 64-bit support and
the long double support.</p>

<p>Enhanced support for sort() subroutines Perl subroutines
with a prototype of &quot;($$)&quot;, and XSUBs in general,
can now be used as sort subroutines. In either case, the two
elements to be compared are passed as normal parameters in
@_. See &quot;sort&quot; in perlfunc.</p>

<p>For unprototyped sort subroutines, the historical
behavior of passing the elements to be compared as the
global variables $a and $b remains unchanged.</p>

<p>&quot;sort $coderef @foo&quot; allowed sort() did not
accept a subroutine reference as the comparison function in
earlier versions. This is now permitted.</p>

<p>File globbing implemented internally Perl now uses the
File::Glob implementation of the glob() operator
automatically. This avoids using an external csh process and
the problems associated with it.</p>

<p>NOTE: This is currently an experimental feature.
Interfaces and implementation are subject to change.</p>

<p>Support for CHECK blocks In addition to
&quot;BEGIN&quot;, &quot;INIT&quot;, &quot;END&quot;,
&quot;DESTROY&quot; and &quot;AUTOLOAD&quot;, subroutines
named &quot;CHECK&quot; are now special. These are queued up
during compilation and behave similar to END blocks, except
they are called at the end of compilation rather than at the
end of execution. They cannot be called directly.</p>

<p>POSIX character class syntax [: :] supported For example
to match alphabetic characters use /[[:alpha:]]/. See perlre
for details.</p>

<p>Better pseudo-random number generator In 5.005_0x and
earlier, perls rand() function used the C library rand(3)
function. As of 5.005_52, Configure tests for drand48(),
random(), and rand() (in that order) and picks the first one
it finds.</p>

<p>These changes should result in better random numbers
from rand().</p>

<p>Improved &quot;qw//&quot; operator The &quot;qw//&quot;
operator is now evaluated at compile time into a true list
instead of being replaced with a run time call to
&quot;split()&quot;. This removes the confusing misbehaviour
of &quot;qw//&quot; in scalar context, which had inherited
that behaviour from split().</p>

<p>Thus:</p>

<p>$foo = ($bar) = qw(a b c); print &quot;$foo|$bar0;</p>

<p>now correctly prints &quot;3|a&quot;, instead of
&quot;2|a&quot;.</p>

<p>Better worst-case behavior of hashes Small changes in
the hashing algorithm have been implemented in order to
improve the distribution of lower order bits in the hashed
value. This is expected to yield better performance on keys
that are repeated sequences.</p>

<p>pack() formatZsupported The new format type Z is useful
for packing and unpacking null- terminated strings. See
&quot;pack&quot; in perlfunc.</p>

<p>pack() format modifier!supported The new format type
modifier ! is useful for packing and unpacking native
shorts, ints, and longs. See &quot;pack&quot; in
perlfunc.</p>

<p>pack() and unpack() support counted strings The template
character / can be used to specify a counted string type to
be packed or unpacked. See &quot;pack&quot; in perlfunc.</p>

<p>Comments in pack() templates The # character in a
template introduces a comment up to end of the line. This
facilitates documentation of pack() templates.</p>

<p>Weak references In previous versions of Perl, you
couldnt cache objects so as to allow them to be deleted if
the last reference from outside the cache is deleted. The
reference in the cache would hold a reference count on the
object and the objects would never be destroyed.</p>

<p>Another familiar problem is with circular references.
When an object references itself, its reference count would
never go down to zero, and it would not get destroyed until
the program is about to exit.</p>

<p>Weak references solve this by allowing you to
&quot;weaken&quot; any reference, that is, make it not count
towards the reference count. When the last non-weak
reference to an object is deleted, the object is destroyed
and all the weak references to the object are automatically
undef-ed.</p>

<p>To use this feature, you need the Devel::WeakRef package
from CPAN, which contains additional documentation.</p>

<p>NOTE: This is an experimental feature. Details are
subject to change.</p>

<p>Binary numbers supported Binary numbers are now
supported as literals, in s?printf formats, and
&quot;oct()&quot;:</p>

<p>$answer = 0b101010; printf &quot;The answer is: %b0,
oct(&quot;0b101010&quot;);</p>

<p>Lvalue subroutines Subroutines can now return modifiable
lvalues. See &quot;Lvalue subroutines&quot; in perlsub.</p>

<p>NOTE: This is an experimental feature. Details are
subject to change.</p>

<p>Some arrows may be omitted in calls through references
Perl now allows the arrow to be omitted in many constructs
involving subroutine calls through references. For example,
&quot;$foo[10]-&gt;(&rsquo;foo&rsquo;)&quot; may now be
written &quot;$foo[10](&rsquo;foo&rsquo;)&quot;. This is
rather similar to how the arrow may be omitted from
&quot;$foo[10]-&gt;{&rsquo;foo&rsquo;}&quot;. Note however,
that the arrow is still required for
&quot;foo(10)-&gt;(&rsquo;bar&rsquo;)&quot;.</p>

<p>Boolean assignment operators are legal lvalues
Constructs such as &quot;($a ||= 2) += 1&quot; are now
allowed.</p>

<p>exists() is supported on subroutine names The exists()
builtin now works on subroutine names. A subroutine is
considered to exist if it has been declared (even if
implicitly). See &quot;exists&quot; in perlfunc for
examples.</p>

<p>exists() and delete() are supported on array elements
The exists() and delete() builtins now work on simple arrays
as well. The behavior is similar to that on hash
elements.</p>

<p>exists() can be used to check whether an array element
has been initialized. This avoids autovivifying array
elements that dont exist. If the array is tied, the EXISTS()
method in the corresponding tied package will be
invoked.</p>

<p>delete() may be used to remove an element from the array
and return it. The array element at that position returns to
its uninitialized state, so that testing for the same
element with exists() will return false. If the element
happens to be the one at the end, the size of the array also
shrinks up to the highest element that tests true for
exists(), or 0 if none such is found. If the array is tied,
the DELETE() method in the corresponding tied package will
be invoked.</p>

<p>See &quot;exists&quot; in perlfunc and
&quot;delete&quot; in perlfunc for examples.</p>

<p>Pseudo-hashes work better Dereferencing some types of
reference values in a pseudo-hash, such as
&quot;$ph-&gt;{foo}[1]&quot;, was accidentally disallowed.
This has been corrected.</p>

<p>When applied to a pseudo-hash element, exists() now
reports whether the specified value exists, not merely if
the key is valid.</p>

<p>delete() now works on pseudo-hashes. When given a
pseudo-hash element or slice it deletes the values
corresponding to the keys (but not the keys themselves). See
&quot;Pseudo-hashes: Using an array as a hash&quot; in
perlref.</p>

<p>Pseudo-hash slices with constant keys are now optimized
to array lookups at compile-time.</p>

<p>List assignments to pseudo-hash slices are now
supported.</p>

<p>The &quot;fields&quot; pragma now provides ways to
create pseudo-hashes, via fields::new() and fields::phash().
See fields.</p>

<p>NOTE: The pseudo-hash data type continues to be
experimental. Limiting oneself to the interface elements
provided by the fields pragma will provide protection from
any future changes.</p>

<p>Automatic flushing of output buffers fork(), exec(),
system(), qx//, and pipe open()s now flush buffers of all
files opened for output when the operation was attempted.
This mostly eliminates confusing buffering mishaps suffered
by users unaware of how Perl internally handles I/O.</p>

<p>This is not supported on some platforms like Solaris
where a suitably correct implementation of fflush(NULL) isnt
available.</p>

<p>Better diagnostics on meaningless filehandle operations
Constructs such as &quot;open(&lt;FH&gt;)&quot; and
&quot;close(&lt;FH&gt;)&quot; are compile time errors.
Attempting to read from filehandles that were opened only
for writing will now produce warnings (just as writing to
read-only filehandles does).</p>

<p>Where possible, buffered data discarded from duped input
filehandle &quot;open(NEW, &quot;&lt;&amp;OLD&quot;)&quot;
now attempts to discard any data that was previously read
and buffered in &quot;OLD&quot; before duping the handle. On
platforms where doing this is allowed, the next read
operation on &quot;NEW&quot; will return the same data as
the corresponding operation on &quot;OLD&quot;. Formerly, it
would have returned the data from the start of the following
disk block instead.</p>

<p>eof() has the same old magic as &lt;&gt;
&quot;eof()&quot; would return true if no attempt to read
from &quot;&lt;&gt;&quot; had yet been made.
&quot;eof()&quot; has been changed to have a little magic of
its own, it now opens the &quot;&lt;&gt;&quot; files.</p>

<p>binmode() can be used to set :crlf and :raw modes
binmode() now accepts a second argument that specifies a
discipline for the handle in question. The two
pseudo-disciplines &quot;:raw&quot; and &quot;:crlf&quot;
are currently supported on DOS-derivative platforms. See
&quot;binmode&quot; in perlfunc and open.</p>

<p>&quot;-T&quot; filetest recognizes UTF-8 encoded files
as &quot;text&quot; The algorithm used for the
&quot;-T&quot; filetest has been enhanced to correctly
identify UTF-8 content as &quot;text&quot;.</p>

<p>system(), backticks and pipe open now reflect exec()
failure On Unix and similar platforms, system(), qx() and
open(FOO, &quot;cmd |&quot;) etc., are implemented via
fork() and exec(). When the underlying exec() fails, earlier
versions did not report the error properly, since the exec()
happened to be in a different process.</p>

<p>The child process now communicates with the parent about
the error in launching the external command, which allows
these constructs to return with their usual error value and
set $!.</p>

<p>Improved diagnostics Line numbers are no longer
suppressed (under most likely circumstances) during the
global destruction phase.</p>

<p>Diagnostics emitted from code running in threads other
than the main thread are now accompanied by the thread
ID.</p>

<p>Embedded null characters in diagnostics now actually
show up. They used to truncate the message in prior
versions.</p>

<p>$foo::a and $foo::b are now exempt from &quot;possible
typo&quot; warnings only if sort() is encountered in package
&quot;foo&quot;.</p>

<p>Unrecognized alphabetic escapes encountered when parsing
quote constructs now generate a warning, since they may take
on new semantics in later versions of Perl.</p>

<p>Many diagnostics now report the internal operation in
which the warning was provoked, like so:</p>

<p>Use of uninitialized value in concatenation (.) at (eval
1) line 1. Use of uninitialized value in print at (eval 1)
line 1.</p>

<p>Diagnostics that occur within eval may also report the
file and line number where the eval is located, in addition
to the eval sequence number and the line number within the
evaluated text itself. For example:</p>

<p>Not enough arguments for scalar at (eval
4)[newlib/perl5db.pl:1411] line 2, at EOF</p>

<p>Diagnostics follow STDERR Diagnostic output now goes to
whichever file the &quot;STDERR&quot; handle is pointing at,
instead of always going to the underlying C runtime librarys
&quot;stderr&quot;.</p>

<p>More consistent close-on-exec behavior On systems that
support a close-on-exec flag on filehandles, the flag is now
set for any handles created by pipe(), socketpair(),
socket(), and accept(), if that is warranted by the value of
$^F that may be in effect. Earlier versions neglected to set
the flag for handles created with these operators. See
&quot;pipe&quot; in perlfunc, &quot;socketpair&quot; in
perlfunc, &quot;socket&quot; in perlfunc, &quot;accept&quot;
in perlfunc, and &quot;$^F&quot; in perlvar.</p>

<p>syswrite() ease-of-use The length argument of
&quot;syswrite()&quot; has become optional.</p>

<p>Better syntax checks on parenthesized unary operators
Expressions such as:</p>

<p>print defined(&amp;foo,&amp;bar,&amp;baz); print
uc(&quot;foo&quot;,&quot;bar&quot;,&quot;baz&quot;);
undef($foo,&amp;bar);</p>

<p>used to be accidentally allowed in earlier versions, and
produced unpredictable behaviour. Some produced ancillary
warnings when used in this way; others silently did the
wrong thing.</p>

<p>The parenthesized forms of most unary operators that
expect a single argument now ensure that they are not called
with more than one argument, making the cases shown above
syntax errors. The usual behaviour of:</p>

<p>print defined &amp;foo, &amp;bar, &amp;baz; print uc
&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;; undef
$foo, &amp;bar;</p>

<p>remains unchanged. See perlop.</p>

<p>Bit operators support full native integer width The bit
operators (&amp; | ^ ~ &lt;&lt; &gt;&gt;) now operate on the
full native integral width (the exact size of which is
available in $Config{ivsize}). For example, if your platform
is either natively 64-bit or if Perl has been configured to
use 64-bit integers, these operations apply to 8 bytes (as
opposed to 4 bytes on 32-bit platforms). For portability, be
sure to mask off the excess bits in the result of unary
&quot;~&quot;, e.g., &quot;~$x &amp; 0xffffffff&quot;.</p>

<p>Improved security features More potentially unsafe
operations taint their results for improved security.</p>

<p>The &quot;passwd&quot; and &quot;shell&quot; fields
returned by the getpwent(), getpwnam(), and getpwuid() are
now tainted, because the user can affect their own encrypted
password and login shell.</p>

<p>The variable modified by shmread(), and messages
returned by msgrcv() (and its object-oriented interface
IPC::SysV::Msg::rcv) are also tainted, because other
untrusted processes can modify messages and shared memory
segments for their own nefarious purposes.</p>

<p>More functional bareword prototype (*) Bareword
prototypes have been rationalized to enable them to be used
to override builtins that accept barewords and interpret
them in a special way, such as &quot;require&quot; or
&quot;do&quot;.</p>

<p>Arguments prototyped as &quot;*&quot; will now be
visible within the subroutine as either a simple scalar or
as a reference to a typeglob. See &quot;Prototypes&quot; in
perlsub.</p>

<p>&quot;require&quot; and &quot;do&quot; may be overridden
&quot;require&quot; and &quot;do &rsquo;file&rsquo;&quot;
operations may be overridden locally by importing
subroutines of the same name into the current package (or
globally by importing them into the CORE::GLOBAL::
namespace). Overriding &quot;require&quot; will also affect
&quot;use&quot;, provided the override is visible at
compile-time. See &quot;Overriding Built-in Functions&quot;
in perlsub.</p>

<p>$^X variables may now have names longer than one
character Formerly, $^X was synonymous with ${&quot; error.
Now variable names that begin with a control character may
be arbitrarily long. However, for compatibility reasons,
these variables must be written with explicit braces, as
&quot;${^XY}&quot; for example. &quot;${^XYZ}&quot; is
synonymous with ${&quot; one control character, such as
&quot;${^XY^Z}&quot;, are illegal.</p>

<p>The old syntax has not changed. As before, ^X may be
either a literal control-X character or the two-character
sequence caret plus X. When braces are omitted, the variable
name stops after the control character. Thus
&quot;$^XYZ&quot; continues to be synonymous with &quot;$^X
. &quot;YZ&quot;&quot; as before.</p>

<p>As before, lexical variables may not have names
beginning with control characters. As before, variables
whose names begin with a control character are always forced
to be in package main. All such variables are reserved for
future extensions, except those that begin with
&quot;^_&quot;, which may be used by user programs and are
guaranteed not to acquire special meaning in any future
version of Perl.</p>

<p>New variable $^C reflects &quot;-c&quot; switch $^C has
a boolean value that reflects whether perl is being run in
compile-only mode (i.e. via the &quot;-c&quot; switch).
Since BEGIN blocks are executed under such conditions, this
variable enables perl code to determine whether actions that
make sense only during normal running are warranted. See
perlvar.</p>

<p>New variable $^V contains Perl version as a string $^V
contains the Perl version number as a string composed of
characters whose ordinals match the version numbers, i.e.
v5.6.0. This may be used in string comparisons.</p>

<p>See &quot;Support for strings represented as a vector of
ordinals&quot; for an example.</p>

<p>Optional Y2K warnings If Perl is built with the cpp
macro &quot;PERL_Y2KWARN&quot; defined, it emits optional
warnings when concatenating the number 19 with another
number.</p>

<p>This behavior must be specifically enabled when running
Configure. See INSTALL and README.Y2K.</p>

<p>Arrays now always interpolate into double-quoted strings
In double-quoted strings, arrays now interpolate, no matter
what. The behavior in earlier versions of perl 5 was that
arrays would interpolate into strings if the array had been
mentioned before the string was compiled, and otherwise Perl
would raise a fatal compile- time error. In versions 5.000
through 5.003, the error was</p>

<p>Literal @example now requires backslash</p>

<p>In versions 5.004_01 through 5.6.0, the error was</p>

<p>In string, @example now must be written as @example</p>

<p>The idea here was to get people into the habit of
writing &quot;fred@example.com&quot; when they wanted a
literal &quot;@&quot; sign, just as they have always written
&quot;Give me back my &quot; when they wanted a literal
&quot;$&quot; sign.</p>

<p>Starting with 5.6.1, when Perl now sees an &quot;@&quot;
sign in a double-quoted string, it always attempts to
interpolate an array, regardless of whether or not the array
has been used or declared already. The fatal error has been
downgraded to an optional warning:</p>

<p>Possible unintended interpolation of @example in
string</p>

<p>This warns you that &quot;fred@example.com&quot; is
going to turn into &quot;fred.com&quot; if you dont
backslash the &quot;@&quot;. See
http://www.plover.com/~mjd/perl/at-error.html for more
details about the history here.</p>

<p>@- and @+ provide starting/ending offsets of regex
submatches The new magic variables @- and @+ provide the
starting and ending offsets, respectively, of $&amp;, $1,
$2, etc. See perlvar for details.</p>

<p>Modules and Pragmata Modules attributes While used
internally by Perl as a pragma, this module also provides a
way to fetch subroutine and variable attributes. See
attributes.</p>

<p>B The Perl Compiler suite has been extensively reworked
for this release. More of the standard Perl test suite
passes when run under the Compiler, but there is still a
significant way to go to achieve production quality compiled
executables.</p>

<p>NOTE: The Compiler suite remains highly experimental.
The generated code may not be correct, even when it manages
to execute without errors.</p>

<p>Benchmark Overall, Benchmark results exhibit lower
average error and better timing accuracy.</p>

<p>You can now run tests for n seconds instead of guessing
the right number of tests to run: e.g., timethese(-5, ...)
will run each code for at least 5 CPU seconds. Zero as the
&quot;number of repetitions&quot; means &quot;for at least 3
CPU seconds&quot;. The output format has also changed. For
example:</p>

<p>use
Benchmark;$x=3;timethese(-5,{a=&gt;sub{$x*$x},b=&gt;sub{$x**2}})</p>

<p>will now output something like this:</p>

<p>Benchmark: running a, b, each for at least 5 CPU
seconds... a: 5 wallclock secs ( 5.77 usr + 0.00 sys = 5.77
CPU) @ 200551.91/s (n=1156516) b: 4 wallclock secs ( 5.00
usr + 0.02 sys = 5.02 CPU) @ 159605.18/s (n=800686)</p>

<p>New features: &quot;each for at least N CPU
seconds...&quot;, &quot;wallclock secs&quot;, and the
&quot;@ operations/CPU second (n=operations)&quot;.</p>

<p>timethese() now returns a reference to a hash of
Benchmark objects containing the test results, keyed on the
names of the tests.</p>

<p>timethis() now returns the iterations field in the
Benchmark result object instead of 0.</p>

<p>timethese(), timethis(), and the new cmpthese() (see
below) can also take a format specifier of none to suppress
output.</p>

<p>A new function countit() is just like timeit() except
that it takes a TIME instead of a COUNT.</p>

<p>A new function cmpthese() prints a chart comparing the
results of each test returned from a timethese() call. For
each possible pair of tests, the percentage speed difference
(iters/sec or seconds/iter) is shown.</p>

<p>For other details, see Benchmark.</p>

<p>ByteLoader The ByteLoader is a dedicated extension to
generate and run Perl bytecode. See ByteLoader.</p>

<p>constant References can now be used.</p>

<p>The new version also allows a leading underscore in
constant names, but disallows a double leading underscore
(as in &quot;__LINE__&quot;). Some other names are
disallowed or warned against, including BEGIN, END, etc.
Some names which were forced into main:: used to fail
silently in some cases; now theyre fatal (outside of main::)
and an optional warning (inside of main::). The ability to
detect whether a constant had been set with a given name has
been added.</p>

<p>See constant.</p>

<p>charnames This pragma implements the &quot;tring escape.
See charnames.</p>

<p>Data::Dumper A &quot;Maxdepth&quot; setting can be
specified to avoid venturing too deeply into deep data
structures. See Data::Dumper.</p>

<p>The XSUB implementation of Dump() is now automatically
called if the &quot;Useqq&quot; setting is not in use.</p>

<p>Dumping &quot;qr//&quot; objects works correctly.</p>

<p>DB &quot;DB&quot; is an experimental module that exposes
a clean abstraction to Perls debugging API.</p>

<p>DB_File DB_File can now be built with Berkeley DB
versions 1, 2 or 3. See &quot;ext/DB_File/Changes&quot;.</p>

<p>Devel::DProf Devel::DProf, a Perl source code profiler
has been added. See Devel::DProf and dprofpp.</p>

<p>Devel::Peek The Devel::Peek module provides access to
the internal representation of Perl variables and data. It
is a data debugging tool for the XS programmer.</p>

<p>Dumpvalue The Dumpvalue module provides screen dumps of
Perl data.</p>

<p>DynaLoader DynaLoader now supports a dl_unload_file()
function on platforms that support unloading shared objects
using dlclose().</p>

<p>Perl can also optionally arrange to unload all extension
shared objects loaded by Perl. To enable this, build Perl
with the Configure option
&quot;-Accflags=-DDL_UNLOAD_ALL_AT_EXIT&quot;. (This maybe
useful if you are using Apache with mod_perl.)</p>

<p>English $PERL_VERSION now stands for $^V (a string
value) rather than for $] (a numeric value).</p>

<p>Env Env now supports accessing environment variables
like PATH as array variables.</p>

<p>Fcntl More Fcntl constants added: F_SETLK64, F_SETLKW64,
O_LARGEFILE for large file (more than 4GB) access (NOTE: the
O_LARGEFILE is automatically added to sysopen() flags if
large file support has been configured, as is the default),
Free/Net/OpenBSD locking behaviour flags F_FLOCK, F_POSIX,
Linux F_SHLCK, and O_ACCMODE: the combined mask of O_RDONLY,
O_WRONLY, and O_RDWR. The seek()/sysseek() constants
SEEK_SET, SEEK_CUR, and SEEK_END are available via the
&quot;:seek&quot; tag. The chmod()/stat() S_IF* constants
and S_IS* functions are available via the &quot;:mode&quot;
tag.</p>

<p>File::Compare A compare_text() function has been added,
which allows custom comparison functions. See
File::Compare.</p>

<p>File::Find File::Find now works correctly when the
wanted() function is either autoloaded or is a symbolic
reference.</p>

<p>A bug that caused File::Find to lose track of the
working directory when pruning top-level directories has
been fixed.</p>

<p>File::Find now also supports several other options to
control its behavior. It can follow symbolic links if the
&quot;follow&quot; option is specified. Enabling the
&quot;no_chdir&quot; option will make File::Find skip
changing the current directory when walking directories. The
&quot;untaint&quot; flag can be useful when running with
taint checks enabled.</p>

<p>See File::Find.</p>

<p>File::Glob This extension implements BSD-style file
globbing. By default, it will also be used for the internal
implementation of the glob() operator. See File::Glob.</p>

<p>File::Spec New methods have been added to the File::Spec
module: devnull() returns the name of the null device
(/dev/null on Unix) and tmpdir() the name of the temp
directory (normally /tmp on Unix). There are now also
methods to convert between absolute and relative filenames:
abs2rel() and rel2abs(). For compatibility with operating
systems that specify volume names in file paths, the
splitpath(), splitdir(), and catdir() methods have been
added.</p>

<p>File::Spec::Functions The new File::Spec::Functions
modules provides a function interface to the File::Spec
module. Allows shorthand</p>

<p>$fullname = catfile($dir1, $dir2, $file);</p>

<p>instead of</p>

<p>$fullname = File::Spec-&gt;catfile($dir1, $dir2,
$file);</p>

<p>Getopt::Long Getopt::Long licensing has changed to allow
the Perl Artistic License as well as the GPL. It used to be
GPL only, which got in the way of non-GPL applications that
wanted to use Getopt::Long.</p>

<p>Getopt::Long encourages the use of Pod::Usage to produce
help messages. For example:</p>

<p>use Getopt::Long; use Pod::Usage; my $man = 0; my $help
= 0; GetOptions(&rsquo;help|?&rsquo; =&gt; elp, man =&gt;
an) or pod2usage(2); pod2usage(1) if $help;
pod2usage(-exitstatus =&gt; 0, -verbose =&gt; 2) if
$man;</p>

<p>__END__</p>

<p>=head1 NAME</p>

<p>sample - Using Getopt::Long and Pod::Usage</p>

<p>=head1 SYNOPSIS</p>

<p>sample [options] [file ...]</p>

<p>Options: -help brief help message -man full
documentation</p>

<p>=head1 OPTIONS</p>

<p>=over 8</p>

<p>=item B&lt;-help&gt;</p>

<p>Print a brief help message and exits.</p>

<p>=item B&lt;-man&gt;</p>

<p>Prints the manual page and exits.</p>

<p>=back</p>

<p>=head1 DESCRIPTION</p>

<p>B&lt;This program&gt; will read the given input file(s)
and do something useful with the contents thereof.</p>

<p>=cut</p>

<p>See Pod::Usage for details.</p>

<p>A bug that prevented the non-option call-back &lt;&gt;
from being specified as the first argument has been
fixed.</p>

<p>To specify the characters &lt; and &gt; as option
starters, use &gt;&lt;. Note, however, that changing option
starters is strongly deprecated.</p>

<p>IO write() and syswrite() will now accept a
single-argument form of the call, for consistency with Perls
syswrite().</p>

<p>You can now create a TCP-based IO::Socket::INET without
forcing a connect attempt. This allows you to configure its
options (like making it non-blocking) and then call
connect() manually.</p>

<p>A bug that prevented the IO::Socket::protocol() accessor
from ever returning the correct value has been
corrected.</p>

<p>IO::Socket::connect now uses non-blocking IO instead of
alarm() to do connect timeouts.</p>

<p>IO::Socket::accept now uses select() instead of alarm()
for doing timeouts.</p>

<p>IO::Socket::INET-&gt;new now sets $! correctly on
failure. $@ is still set for backwards compatibility.</p>

<p>JPL Java Perl Lingo is now distributed with Perl. See
jpl/README for more information.</p>

<p>lib &quot;use lib&quot; now weeds out any trailing
duplicate entries. &quot;no lib&quot; removes all named
entries.</p>

<p>Math::BigInt The bitwise operations
&quot;&lt;&lt;&quot;, &quot;&gt;&gt;&quot;,
&quot;&amp;&quot;, &quot;|&quot;, and &quot;~&quot; are now
supported on bigints.</p>

<p>Math::Complex The accessor methods Re, Im, arg, abs,
rho, and theta can now also act as mutators (accessor
$z-&gt;Re(), mutator $z-&gt;Re(3)).</p>

<p>The class method &quot;display_format&quot; and the
corresponding object method &quot;display_format&quot;, in
addition to accepting just one argument, now can also accept
a parameter hash. Recognized keys of a parameter hash are
&quot;style&quot;, which corresponds to the old one
parameter case, and two new parameters: &quot;format&quot;,
which is a printf()-style format string (defaults usually to
&quot;%.15g&quot;, you can revert to the default by setting
the format string to &quot;undef&quot;) used for both parts
of a complex number, and &quot;polar_pretty_print&quot;
(defaults to true), which controls whether an attempt is
made to try to recognize small multiples and rationals of pi
(2pi, pi/2) at the argument (angle) of a polar complex
number.</p>

<p>The potentially disruptive change is that in list
context both methods now return the parameter hash, instead
of only the value of the &quot;style&quot; parameter.</p>

<p>Math::Trig A little bit of radial trigonometry
(cylindrical and spherical), radial coordinate conversions,
and the great circle distance were added.</p>

<p>Pod::Parser, Pod::InputObjects Pod::Parser is a base
class for parsing and selecting sections of pod
documentation from an input stream. This module takes care
of identifying pod paragraphs and commands in the input and
hands off the parsed paragraphs and commands to user-defined
methods which are free to interpret or translate them as
they see fit.</p>

<p>Pod::InputObjects defines some input objects needed by
Pod::Parser, and for advanced users of Pod::Parser that need
more about a command besides its name and text.</p>

<p>As of release 5.6.0 of Perl, Pod::Parser is now the
officially sanctioned &quot;base parser code&quot;
recommended for use by all pod2xxx translators. Pod::Text
(pod2text) and Pod::Man (pod2man) have already been
converted to use Pod::Parser and efforts to convert
Pod::HTML (pod2html) are already underway. For any questions
or comments about pod parsing and translating issues and
utilities, please use the pod-people@perl.org mailing
list.</p>

<p>For further information, please see Pod::Parser and
Pod::InputObjects.</p>

<p>Pod::Checker, podchecker This utility checks pod files
for correct syntax, according to perlpod. Obvious errors are
flagged as such, while warnings are printed for mistakes
that can be handled gracefully. The checklist is not
complete yet. See Pod::Checker.</p>

<p>Pod::ParseUtils, Pod::Find These modules provide a set
of gizmos that are useful mainly for pod translators.
Pod::Find traverses directory structures and returns found
pod files, along with their canonical names (like
&quot;File::Spec::Unix&quot;). Pod::ParseUtils contains
Pod::List (useful for storing pod list information),
Pod::Hyperlink (for parsing the contents of
&quot;L&lt;&gt;&quot; sequences) and Pod::Cache (for caching
information about pod files, e.g., link nodes).</p>

<p>Pod::Select, podselect Pod::Select is a subclass of
Pod::Parser which provides a function named
&quot;podselect()&quot; to filter out user-specified
sections of raw pod documentation from an input stream.
podselect is a script that provides access to Pod::Select
from other scripts to be used as a filter. See
Pod::Select.</p>

<p>Pod::Usage, pod2usage Pod::Usage provides the function
&quot;pod2usage()&quot; to print usage messages for a Perl
script based on its embedded pod documentation. The
pod2usage() function is generally useful to all script
authors since it lets them write and maintain a single
source (the pods) for documentation, thus removing the need
to create and maintain redundant usage message text
consisting of information already in the pods.</p>

<p>There is also a pod2usage script which can be used from
other kinds of scripts to print usage messages from pods
(even for non-Perl scripts with pods embedded in
comments).</p>

<p>For details and examples, please see Pod::Usage.</p>

<p>Pod::Text and Pod::Man Pod::Text has been rewritten to
use Pod::Parser. While pod2text() is still available for
backwards compatibility, the module now has a new preferred
interface. See Pod::Text for the details. The new Pod::Text
module is easily subclassed for tweaks to the output, and
two such subclasses (Pod::Text::Termcap for man-page-style
bold and underlining using termcap information, and
Pod::Text::Color for markup with ANSI color sequences) are
now standard.</p>

<p>pod2man has been turned into a module, Pod::Man, which
also uses Pod::Parser. In the process, several outstanding
bugs related to quotes in section headers, quoting of code
escapes, and nested lists have been fixed. pod2man is now a
wrapper script around this module.</p>

<p>SDBM_File An EXISTS method has been added to this module
(and sdbm_exists() has been added to the underlying sdbm
library), so one can now call exists on an SDBM_File tied
hash and get the correct result, rather than a runtime
error.</p>

<p>A bug that may have caused data loss when more than one
disk block happens to be read from the database in a single
FETCH() has been fixed.</p>

<p>Sys::Syslog Sys::Syslog now uses XSUBs to access
facilities from syslog.h so it no longer requires syslog.ph
to exist.</p>

<p>Sys::Hostname Sys::Hostname now uses XSUBs to call the C
librarys gethostname() or uname() if they exist.</p>

<p>Term::ANSIColor Term::ANSIColor is a very simple module
to provide easy and readable access to the ANSI color and
highlighting escape sequences, supported by most ANSI
terminal emulators. It is now included standard.</p>

<p>Time::Local The timelocal() and timegm() functions used
to silently return bogus results when the date fell outside
the machine s integer range. They now consistently croak()
if the date falls in an unsupported range.</p>

<p>Win32 The error return value in list context has been
changed for all functions that return a list of values.
Previously these functions returned a list with a single
element &quot;undef&quot; if an error occurred. Now these
functions return the empty list in these situations. This
applies to the following functions:</p>

<p>Win32::FsType Win32::GetOSVersion</p>

<p>The remaining functions are unchanged and continue to
return &quot;undef&quot; on error even in list context.</p>

<p>The Win32::SetLastError(ERROR) function has been added
as a complement to the Win32::GetLastError() function.</p>

<p>The new Win32::GetFullPathName(FILENAME) returns the
full absolute pathname for FILENAME in scalar context. In
list context it returns a two-element list containing the
fully qualified directory name and the filename. See
Win32.</p>

<p>XSLoader The XSLoader extension is a simpler alternative
to DynaLoader. See XSLoader.</p>

<p>DBM Filters A new feature called &quot;DBM Filters&quot;
has been added to all the DBM modules--DB_File, GDBM_File,
NDBM_File, ODBM_File, and SDBM_File. DBM Filters add four
new methods to each DBM module:</p>

<p>filter_store_key filter_store_value filter_fetch_key
filter_fetch_value</p>

<p>These can be used to filter key-value pairs before the
pairs are written to the database or just after they are
read from the database. See perldbmfilter for further
information.</p>

<p>Pragmata &quot;use attrs&quot; is now obsolete, and is
only provided for backward- compatibility. It s been
replaced by the &quot;sub : attributes&quot; syntax. See
&quot;Subroutine Attributes&quot; in perlsub and
attributes.</p>

<p>Lexical warnings pragma, &quot;use warnings;&quot;, to
control optional warnings. See perllexwarn.</p>

<p>&quot;use filetest&quot; to control the behaviour of
filetests (&quot;-r&quot; &quot;-w&quot; ...). Currently
only one subpragma implemented, &quot;use filetest
access;&quot;, that uses access(2) or equivalent to check
permissions instead of using stat(2) as usual. This matters
in filesystems where there are ACLs (access control lists):
the stat(2) might lie, but access(2) knows better.</p>

<p>The &quot;open&quot; pragma can be used to specify
default disciplines for handle constructors (e.g. open())
and for qx//. The two pseudo-disciplines &quot;:raw&quot;
and &quot;:crlf&quot; are currently supported on
DOS-derivative platforms (i.e. where binmode is not a
no-op). See also &quot;binmode() can be used to set :crlf
and :raw modes&quot;.</p>

<p>Utility Changes dprofpp &quot;dprofpp&quot; is used to
display profile data generated using
&quot;Devel::DProf&quot;. See dprofpp.</p>

<p>find2perl The &quot;find2perl&quot; utility now uses the
enhanced features of the File::Find module. The -depth and
-follow options are supported. Pod documentation is also
included in the script.</p>

<p>h2xs The &quot;h2xs&quot; tool can now work in
conjunction with &quot;C::Scan&quot; (available from CPAN)
to automatically parse real-life header files. The
&quot;-M&quot;, &quot;-a&quot;, &quot;-k&quot;, and
&quot;-o&quot; options are new.</p>

<p>perlcc &quot;perlcc&quot; now supports the C and
Bytecode backends. By default, it generates output from the
simple C backend rather than the optimized C backend.</p>

<p>Support for non-Unix platforms has been improved.</p>

<p>perldoc &quot;perldoc&quot; has been reworked to avoid
possible security holes. It will not by default let itself
be run as the superuser, but you may still use the -U switch
to try to make it drop privileges first.</p>

<p>The Perl Debugger Many bug fixes and enhancements were
added to perl5db.pl, the Perl debugger. The help
documentation was rearranged. New commands include
&quot;&lt; ?&quot;, &quot;&gt; ?&quot;, and &quot;{ ?&quot;
to list out current actions, &quot;man docpage&quot; to run
your doc viewer on some perl docset, and support for quoted
options. The help information was rearranged, and should be
viewable once again if youre using less as your pager. A
serious security hole was plugged--you should immediately
remove all older versions of the Perl debugger as installed
in previous releases, all the way back to perl3, from your
system to avoid being bitten by this.</p>

<p>Improved Documentation Many of the platform-specific
README files are now part of the perl installation. See perl
for the complete list.</p>

<p>perlapi.pod The official list of public Perl API
functions.</p>

<p>perlboot.pod A tutorial for beginners on object-oriented
Perl.</p>

<p>perlcompile.pod An introduction to using the Perl
Compiler suite.</p>

<p>perldbmfilter.pod A howto document on using the DBM
filter facility.</p>

<p>perldebug.pod All material unrelated to running the Perl
debugger, plus all low- level guts-like details that risked
crushing the casual user of the debugger, have been
relocated from the old manpage to the next entry below.</p>

<p>perldebguts.pod This new manpage contains excessively
low-level material not related to the Perl debugger, but
slightly related to debugging Perl itself. It also contains
some arcane internal details of how the debugging process
works that may only be of interest to developers of Perl
debuggers.</p>

<p>perlfork.pod Notes on the fork() emulation currently
available for the Windows platform.</p>

<p>perlfilter.pod An introduction to writing Perl source
filters.</p>

<p>perlhack.pod Some guidelines for hacking the Perl source
code.</p>

<p>perlintern.pod A list of internal functions in the Perl
source code. (List is currently empty.)</p>

<p>perllexwarn.pod Introduction and reference information
about lexically scoped warning categories.</p>

<p>perlnumber.pod Detailed information about numbers as
they are represented in Perl.</p>

<p>perlopentut.pod A tutorial on using open()
effectively.</p>

<p>perlreftut.pod A tutorial that introduces the essentials
of references.</p>

<p>perltootc.pod A tutorial on managing class data for
object modules.</p>

<p>perltodo.pod Discussion of the most often wanted
features that may someday be supported in Perl.</p>

<p>perlunicode.pod An introduction to Unicode support
features in Perl.</p>

<p>Performance enhancements Simple sort() using { $a
&lt;=&gt; $b } and the like are optimized Many common sort()
operations using a simple inlined block are now optimized
for faster performance.</p>

<p>Optimized assignments to lexical variables Certain
operations in the RHS of assignment statements have been
optimized to directly set the lexical variable on the LHS,
eliminating redundant copying overheads.</p>

<p>Faster subroutine calls Minor changes in how subroutine
calls are handled internally provide marginal improvements
in performance.</p>

<p>delete(), each(), values() and hash iteration are faster
The hash values returned by delete(), each(), values() and
hashes in a list context are the actual values in the hash,
instead of copies. This results in significantly better
performance, because it eliminates needless copying in most
situations.</p>

<p>Installation and Configuration Improvements -Dusethreads
means something different The -Dusethreads flag now enables
the experimental interpreter-based thread support by
default. To get the flavor of experimental threads that was
in 5.005 instead, you need to run Configure with
&quot;-Dusethreads -Duse5005threads&quot;.</p>

<p>As of v5.6.0, interpreter-threads support is still
lacking a way to create new threads from Perl (i.e.,
&quot;use Thread;&quot; will not work with interpreter
threads). &quot;use Thread;&quot; continues to be available
when you specify the -Duse5005threads option to Configure,
bugs and all.</p>

<p>NOTE: Support for threads continues to be an
experimental feature. Interfaces and implementation are
subject to sudden and drastic changes.</p>

<p>New Configure flags The following new flags may be
enabled on the Configure command line by running Configure
with &quot;-Dflag&quot;.</p>

<p>usemultiplicity usethreads useithreads (new interpreter
threads: no Perl API yet) usethreads use5005threads (threads
as they were in 5.005)</p>

<p>use64bitint (equal to now deprecated
&rsquo;use64bits&rsquo;) use64bitall</p>

<p>uselongdouble usemorebits uselargefiles usesocks (only
SOCKS v5 supported)</p>

<p>Threadedness and 64-bitness now more daring The
Configure options enabling the use of threads and the use of
64-bitness are now more daring in the sense that they no
more have an explicit list of operating systems of known
threads/64-bit capabilities. In other words: if your
operating system has the necessary APIs and datatypes, you
should be able just to go ahead and use them, for threads by
Configure -Dusethreads, and for 64 bits either explicitly by
Configure -Duse64bitint or implicitly if your system has
64-bit wide datatypes. See also &quot;64-bit
support&quot;.</p>

<p>Long Doubles Some platforms have &quot;long
doubles&quot;, floating point numbers of even larger range
than ordinary &quot;doubles&quot;. To enable using long
doubles for Perls scalars, use -Duselongdouble.</p>

<p>-Dusemorebits You can enable both -Duse64bitint and
-Duselongdouble with -Dusemorebits. See also &quot;64-bit
support&quot;.</p>

<p>-Duselargefiles Some platforms support system APIs that
are capable of handling large files (typically, files larger
than two gigabytes). Perl will try to use these APIs if you
ask for -Duselargefiles.</p>

<p>See &quot;Large file support&quot; for more
information.</p>

<p>installusrbinperl You can use &quot;Configure
-Uinstallusrbinperl&quot; which causes installperl to skip
installing perl also as /usr/bin/perl. This is useful if you
prefer not to modify /usr/bin for some reason or another but
harmful because many scripts assume to find Perl in
/usr/bin/perl.</p>

<p>SOCKS support You can use &quot;Configure
-Dusesocks&quot; which causes Perl to probe for the SOCKS
proxy protocol library (v5, not v4). For more information on
SOCKS, see:</p>

<p>http://www.socks.nec.com/</p>

<p>&quot;-A&quot; flag You can &quot;post-edit&quot; the
Configure variables using the Configure &quot;-A&quot;
switch. The editing happens immediately after the platform
specific hints files have been processed but before the
actual configuration process starts. Run &quot;Configure
-h&quot; to find out the full &quot;-A&quot; syntax.</p>

<p>Enhanced Installation Directories The installation
structure has been enriched to improve the support for
maintaining multiple versions of perl, to provide locations
for vendor- supplied modules, scripts, and manpages, and to
ease maintenance of locally-added modules, scripts, and
manpages. See the section on Installation Directories in the
INSTALL file for complete details. For most users building
and installing from source, the defaults should be fine.</p>

<p>If you previously used &quot;Configure -Dsitelib&quot;
or &quot;-Dsitearch&quot; to set special values for library
directories, you might wish to consider using the new
&quot;-Dsiteprefix&quot; setting instead. Also, if you wish
to re- use a config.sh file from an earlier version of perl,
you should be sure to check that Configure makes sensible
choices for the new directories. See INSTALL for complete
details.</p>

<p>gcc automatically tried ifccdoes not seem to be working
In many platforms the vendor-supplied cc is too
stripped-down to build Perl (basically, the cc doesnt do
ANSI C). If this seems to be the case and the cc does not
seem to be the GNU C compiler gcc, an automatic attempt is
made to find and use gcc instead.</p>

<p>Platform specific changes Supported platforms &middot;
The Mach CThreads (NEXTSTEP, OPENSTEP) are now supported by
the Thread extension.</p>

<p>&middot; GNU/Hurd is now supported.</p>

<p>&middot; Rhapsody/Darwin is now supported.</p>

<p>&middot; EPOC is now supported (on Psion 5).</p>

<p>&middot; The cygwin port (formerly cygwin32) has been
greatly improved.</p>

<p>DOS &middot; Perl now works with djgpp 2.02 (and 2.03
alpha).</p>

<p>&middot; Environment variable names are not converted to
uppercase any more.</p>

<p>&middot; Incorrect exit codes from backticks have been
fixed.</p>

<p>&middot; This port continues to use its own builtin
globbing (not File::Glob).</p>

<p>OS390 (OpenEdition MVS) Support for this EBCDIC platform
has not been renewed in this release. There are difficulties
in reconciling Perl s standardization on UTF-8 as its
internal representation for characters with the EBCDIC
character set, because the two are incompatible.</p>

<p>It is unclear whether future versions will renew support
for this platform, but the possibility exists.</p>

<p>VMS Numerous revisions and extensions to configuration,
build, testing, and installation process to accommodate core
changes and VMS-specific options.</p>

<p>Expand %ENV-handling code to allow runtime mapping to
logical names, CLI symbols, and CRTL environ array.</p>

<p>Extension of subprocess invocation code to accept
filespecs as command &quot;verbs&quot;.</p>

<p>Add to Perl command line processing the ability to use
default file types and to recognize Unix-style
&quot;2&gt;&amp;1&quot;.</p>

<p>Expansion of File::Spec::VMS routines, and integration
into ExtUtils::MM_VMS.</p>

<p>Extension of ExtUtils::MM_VMS to handle complex
extensions more flexibly.</p>

<p>Barewords at start of Unix-syntax paths may be treated
as text rather than only as logical names.</p>

<p>Optional secure translation of several logical names
used internally by Perl.</p>

<p>Miscellaneous bugfixing and porting of new core code to
VMS.</p>

<p>Thanks are gladly extended to the many people who have
contributed VMS patches, testing, and ideas.</p>

<p>Win32 Perl can now emulate fork() internally, using
multiple interpreters running in different concurrent
threads. This support must be enabled at build time. See
perlfork for detailed information.</p>

<p>When given a pathname that consists only of a drivename,
such as &quot;A:&quot;, opendir() and stat() now use the
current working directory for the drive rather than the
drive root.</p>

<p>The builtin XSUB functions in the Win32:: namespace are
documented. See Win32.</p>

<p>$^X now contains the full path name of the running
executable.</p>

<p>A Win32::GetLongPathName() function is provided to
complement Win32::GetFullPathName() and
Win32::GetShortPathName(). See Win32.</p>

<p>POSIX::uname() is supported.</p>

<p>system(1,...) now returns true process IDs rather than
process handles. kill() accepts any real process id, rather
than strictly return values from system(1,...).</p>

<p>For better compatibility with Unix, &quot;kill(0,
$pid)&quot; can now be used to test whether a process
exists.</p>

<p>The &quot;Shell&quot; module is supported.</p>

<p>Better support for building Perl under command.com in
Windows 95 has been added.</p>

<p>Scripts are read in binary mode by default to allow
ByteLoader (and the filter mechanism in general) to work
properly. For compatibility, the DATA filehandle will be set
to text mode if a carriage return is detected at the end of
the line containing the __END__ or __DATA__ token; if not,
the DATA filehandle will be left open in binary mode.
Earlier versions always opened the DATA filehandle in text
mode.</p>

<p>The glob() operator is implemented via the
&quot;File::Glob&quot; extension, which supports glob syntax
of the C shell. This increases the flexibility of the glob()
operator, but there may be compatibility issues for programs
that relied on the older globbing syntax. If you want to
preserve compatibility with the older syntax, you might want
to run perl with &quot;-MFile::DosGlob&quot;. For details
and compatibility information, see File::Glob.</p>

<p>Significant bug fixes &lt;HANDLE&gt; on empty files With
$/ set to &quot;undef&quot;, &quot;slurping&quot; an empty
file returns a string of zero length (instead of
&quot;undef&quot;, as it used to) the first time the HANDLE
is read after $/ is set to &quot;undef&quot;. Further reads
yield &quot;undef&quot;.</p>

<p>This means that the following will append
&quot;foo&quot; to an empty file (it used to do
nothing):</p>

<p>perl -0777 -pi -e &rsquo;s/^/foo/&rsquo; empty_file</p>

<p>The behaviour of:</p>

<p>perl -pi -e &rsquo;s/^/foo/&rsquo; empty_file</p>

<p>is unchanged (it continues to leave the file empty).</p>

<p>&quot;eval &rsquo;...&rsquo;&quot; improvements Line
numbers (as reflected by caller() and most diagnostics)
within &quot;eval &rsquo;...&rsquo;&quot; were often
incorrect where here documents were involved. This has been
corrected.</p>

<p>Lexical lookups for variables appearing in &quot;eval
&rsquo;...&rsquo;&quot; within functions that were
themselves called within an &quot;eval
&rsquo;...&rsquo;&quot; were searching the wrong place for
lexicals. The lexical search now correctly ends at the
subroutines block boundary.</p>

<p>The use of &quot;return&quot; within &quot;eval
{...}&quot; caused $@ not to be reset correctly when no
exception occurred within the eval. This has been fixed.</p>

<p>Parsing of here documents used to be flawed when they
appeared as the replacement expression in &quot;eval
&rsquo;s/.../.../e&rsquo;&quot;. This has been fixed.</p>

<p>All compilation errors are true errors Some
&quot;errors&quot; encountered at compile time were by
necessity generated as warnings followed by eventual
termination of the program. This enabled more such errors to
be reported in a single run, rather than causing a hard stop
at the first error that was encountered.</p>

<p>The mechanism for reporting such errors has been
reimplemented to queue compile-time errors and report them
at the end of the compilation as true errors rather than as
warnings. This fixes cases where error messages leaked
through in the form of warnings when code was compiled at
run time using &quot;eval STRING&quot;, and also allows such
errors to be reliably trapped using &quot;eval
&quot;...&quot;&quot;.</p>

<p>Implicitly closed filehandles are safer Sometimes
implicitly closed filehandles (as when they are localized,
and Perl automatically closes them on exiting the scope)
could inadvertently set $? or $!. This has been
corrected.</p>

<p>Behavior of list slices is more consistent When taking a
slice of a literal list (as opposed to a slice of an array
or hash), Perl used to return an empty list if the result
happened to be composed of all undef values.</p>

<p>The new behavior is to produce an empty list if (and
only if) the original list was empty. Consider the following
example:</p>

<p>@a = (1,undef,undef,2)[2,1,2];</p>

<p>The old behavior would have resulted in @a having no
elements. The new behavior ensures it has three undefined
elements.</p>

<p>Note in particular that the behavior of slices of the
following cases remains unchanged:</p>

<p>@a = ()[1,2]; @a = (getpwent)[7,0]; @a =
(anything_returning_empty_list())[2,1,2]; @a = @b[2,1,2]; @a
= @c{&rsquo;a&rsquo;,&rsquo;b&rsquo;,&rsquo;c&rsquo;};</p>

<p>See perldata.</p>

<p>&quot;$)&quot; prototype and $foo{a} A scalar reference
prototype now correctly allows a hash or array element in
that slot.</p>

<p>&quot;goto &amp;sub&quot; and AUTOLOAD The &quot;goto
&amp;sub&quot; construct works correctly when &amp;sub
happens to be autoloaded.</p>

<p>&quot;-bareword&quot; allowed under &quot;use
integer&quot; The autoquoting of barewords preceded by
&quot;-&quot; did not work in prior versions when the
&quot;integer&quot; pragma was enabled. This has been
fixed.</p>

<p>Failures in DESTROY() When code in a destructor threw an
exception, it went unnoticed in earlier versions of Perl,
unless someone happened to be looking in $@ just after the
point the destructor happened to run. Such failures are now
visible as warnings when warnings are enabled.</p>

<p>Locale bugs fixed printf() and sprintf() previously
reset the numeric locale back to the default &quot;C&quot;
locale. This has been fixed.</p>

<p>Numbers formatted according to the local numeric locale
(such as using a decimal comma instead of a decimal dot)
caused &quot;isnt numeric&quot; warnings, even while the
operations accessing those numbers produced correct results.
These warnings have been discontinued.</p>

<p>Memory leaks The &quot;eval &rsquo;return sub
{...}&rsquo;&quot; construct could sometimes leak memory.
This has been fixed.</p>

<p>Operations that arent filehandle constructors used to
leak memory when used on invalid filehandles. This has been
fixed.</p>

<p>Constructs that modified @_ could fail to deallocate
values in @_ and thus leak memory. This has been
corrected.</p>

<p>Spurious subroutine stubs after failed subroutine calls
Perl could sometimes create empty subroutine stubs when a
subroutine was not found in the package. Such cases stopped
later method lookups from progressing into base packages.
This has been corrected.</p>

<p>Taint failures under &quot;-U&quot; When running in
unsafe mode, taint violations could sometimes cause silent
failures. This has been fixed.</p>

<p>END blocks and the &quot;-c&quot; switch Prior versions
used to run BEGIN and END blocks when Perl was run in
compile-only mode. Since this is typically not the expected
behavior, END blocks are not executed anymore when the
&quot;-c&quot; switch is used, or if compilation fails.</p>

<p>See &quot;Support for CHECK blocks&quot; for how to run
things when the compile phase ends.</p>

<p>Potential to leak DATA filehandles Using the
&quot;__DATA__&quot; token creates an implicit filehandle to
the file that contains the token. It is the program s
responsibility to close it when it is done reading from
it.</p>

<p>This caveat is now better explained in the
documentation. See perldata.</p>

<p>New or Changed Diagnostics &quot;%s&quot; variable %s
masks earlier declaration in same %s (W misc) A
&quot;my&quot; or &quot;our&quot; variable has been
redeclared in the current scope or statement, effectively
eliminating all access to the previous instance. This is
almost always a typographical error. Note that the earlier
variable will still exist until the end of the scope or
until all closure referents to it are destroyed.</p>

<p>&quot;my sub&quot; not yet implemented (F) Lexically
scoped subroutines are not yet implemented. Dont try that
yet.</p>

<p>&quot;our&quot; variable %s redeclared (W misc) You seem
to have already declared the same global once before in the
current lexical scope.</p>

<p>! allowed only after types %s (F) The ! is allowed in
pack() and unpack() only after certain types. See
&quot;pack&quot; in perlfunc.</p>

<p>/ cannot take a count (F) You had an unpack template
indicating a counted-length string, but you have also
specified an explicit size for the string. See
&quot;pack&quot; in perlfunc.</p>

<p>/ must be followed by a, A or Z (F) You had an unpack
template indicating a counted-length string, which must be
followed by one of the letters a, A or Z to indicate what
sort of string is to be unpacked. See &quot;pack&quot; in
perlfunc.</p>

<p>/ must be followed by a*, A* or Z* (F) You had a pack
template indicating a counted-length string, Currently the
only things that can have their length counted are a*, A* or
Z*. See &quot;pack&quot; in perlfunc.</p>

<p>/ must follow a numeric type (F) You had an unpack
template that contained a #, but this did not follow some
numeric unpack specification. See &quot;pack&quot; in
perlfunc.</p>

<p>/%s/: Unrecognized escape \%c passed through (W regexp)
You used a backslash-character combination which is not
recognized by Perl. This combination appears in an
interpolated variable or a &quot;&rsquo;&quot;-delimited
regular expression. The character was understood
literally.</p>

<p>/%s/: Unrecognized escape \%c in character class passed
through (W regexp) You used a backslash-character
combination which is not recognized by Perl inside character
classes. The character was understood literally.</p>

<p>/%s/ should probably be written as &quot;%s&quot; (W
syntax) You have used a pattern where Perl expected to find
a string, as in the first argument to &quot;join&quot;. Perl
will treat the true or false result of matching the pattern
against $_ as the string, which is probably not what you had
in mind.</p>

<p>%s() called too early to check prototype (W prototype)
You ve called a function that has a prototype before the
parser saw a definition or declaration for it, and Perl
could not check that the call conforms to the prototype. You
need to either add an early prototype declaration for the
subroutine in question, or move the subroutine definition
ahead of the call to get proper prototype checking.
Alternatively, if you are certain that youre calling the
function correctly, you may put an ampersand before the name
to avoid the warning. See perlsub.</p>

<p>%s argument is not a HASH or ARRAY element (F) The
argument to exists() must be a hash or array element, such
as:</p>

<p>$foo{$bar} $ref-&gt;{&quot;susie&quot;}[12]</p>

<p>%s argument is not a HASH or ARRAY element or slice (F)
The argument to delete() must be either a hash or array
element, such as:</p>

<p>$foo{$bar} $ref-&gt;{&quot;susie&quot;}[12]</p>

<p>or a hash or array slice, such as:</p>

<p>@foo[$bar, $baz, $xyzzy]
@{$ref-&gt;[12]}{&quot;susie&quot;, &quot;queue&quot;}</p>

<p>%s argument is not a subroutine name (F) The argument to
exists() for &quot;exists &amp;sub&quot; must be a
subroutine name, and not a subroutine call. &quot;exists
&amp;sub()&quot; will generate this error.</p>

<p>%s package attribute may clash with future reserved
word: %s (W reserved) A lowercase attribute name was used
that had a package-specific handler. That name might have a
meaning to Perl itself some day, even though it doesnt yet.
Perhaps you should use a mixed-case attribute name, instead.
See attributes.</p>

<p>(in cleanup) %s (W misc) This prefix usually indicates
that a DESTROY() method raised the indicated exception.
Since destructors are usually called by the system at
arbitrary points during execution, and often a vast number
of times, the warning is issued only once for any number of
failures that would otherwise result in the same message
being repeated.</p>

<p>Failure of user callbacks dispatched using the
&quot;G_KEEPERR&quot; flag could also result in this
warning. See &quot;G_KEEPERR&quot; in perlcall.</p>

<p>&lt;&gt; should be quotes (F) You wrote &quot;require
&lt;file&gt;&quot; when you should have written
&quot;require &rsquo;file&rsquo;&quot;.</p>

<p>Attempt to join self (F) You tried to join a thread from
within itself, which is an impossible task. You may be
joining the wrong thread, or you may need to move the join()
to some other thread.</p>

<p>Bad evalled substitution pattern (F) You ve used the /e
switch to evaluate the replacement for a substitution, but
perl found a syntax error in the code to evaluate, most
likely an unexpected right brace }.</p>

<p>Bad realloc() ignored (S) An internal routine called
realloc() on something that had never been malloc()ed in the
first place. Mandatory, but can be disabled by setting
environment variable &quot;PERL_BADFREE&quot; to 1.</p>

<p>Bareword found in conditional (W bareword) The compiler
found a bareword where it expected a conditional, which
often indicates that an || or &amp;&amp; was parsed as part
of the last argument of the previous construct, for
example:</p>

<p>open FOO || die;</p>

<p>It may also indicate a misspelled constant that has been
interpreted as a bareword:</p>

<p>use constant TYPO =&gt; 1; if (TYOP) { print
&quot;foo&quot; }</p>

<p>The &quot;strict&quot; pragma is useful in avoiding such
errors.</p>

<p>Binary number &gt; 0b11111111111111111111111111111111
non-portable (W portable) The binary number you specified is
larger than 2**32-1 (4294967295) and therefore non-portable
between systems. See perlport for more on portability
concerns.</p>

<p>Bit vector size &gt; 32 non-portable (W portable) Using
bit vector sizes larger than 32 is non-portable.</p>

<p>Buffer overflow in prime_env_iter: %s (W internal) A
warning peculiar to VMS. While Perl was preparing to iterate
over %ENV, it encountered a logical name or symbol
definition which was too long, so it was truncated to the
string shown.</p>

<p>Cant check filesystem of script &quot;%s&quot; (P) For
some reason you cant check the filesystem of the script for
nosuid.</p>

<p>Cant declare class for non-scalar %s in &quot;%s&quot;
(S) Currently, only scalar variables can declared with a
specific class qualifier in a &quot;my&quot; or
&quot;our&quot; declaration. The semantics may be extended
for other types of variables in future.</p>

<p>Cant declare %s in &quot;%s&quot; (F) Only scalar,
array, and hash variables may be declared as &quot;my&quot;
or &quot;our&quot; variables. They must have ordinary
identifiers as names.</p>

<p>Cant ignore signal CHLD, forcing to default (W signal)
Perl has detected that it is being run with the SIGCHLD
signal (sometimes known as SIGCLD) disabled. Since disabling
this signal will interfere with proper determination of exit
status of child processes, Perl has reset the signal to its
default value. This situation typically indicates that the
parent program under which Perl may be running (e.g., cron)
is being very careless.</p>

<p>Cant modify non-lvalue subroutine call (F) Subroutines
meant to be used in lvalue context should be declared as
such, see &quot;Lvalue subroutines&quot; in perlsub.</p>

<p>Cant read CRTL environ (S) A warning peculiar to VMS.
Perl tried to read an element of %ENV from the CRTL s
internal environment array and discovered the array was
missing. You need to figure out where your CRTL misplaced
its environ or define PERL_ENV_TABLES (see perlvms) so that
environ is not searched.</p>

<p>Cant remove %s: %s, skipping file (S) You requested an
inplace edit without creating a backup file. Perl was unable
to remove the original file to replace it with the modified
file. The file was left unmodified.</p>

<p>Cant return %s from lvalue subroutine (F) Perl detected
an attempt to return illegal lvalues (such as temporary or
readonly values) from a subroutine used as an lvalue. This
is not allowed.</p>

<p>Cant weaken a nonreference (F) You attempted to weaken
something that was not a reference. Only references can be
weakened.</p>

<p>Character class [:%s:] unknown (F) The class in the
character class [: :] syntax is unknown. See perlre.</p>

<p>Character class syntax [%s] belongs inside character
classes (W unsafe) The character class constructs [: :], [=
=], and [. .] go inside character classes, the [] are part
of the construct, for example: /[012[:alpha:]345]/. Note
that [= =] and [. .] are not currently implemented; they are
simply placeholders for future extensions.</p>

<p>Constant is not %s reference (F) A constant value
(perhaps declared using the &quot;use constant&quot; pragma)
is being dereferenced, but it amounts to the wrong type of
reference. The message indicates the type of reference that
was expected. This usually indicates a syntax error in
dereferencing the constant value. See &quot;Constant
Functions&quot; in perlsub and constant.</p>

<p>constant(%s): %s (F) The parser found inconsistencies
either while attempting to define an overloaded constant, or
when trying to find the character name specified in the
&quot;.}&quot; escape. Perhaps you forgot to load the
corresponding &quot;overload&quot; or &quot;charnames&quot;
pragma? See charnames and overload.</p>

<p>CORE::%s is not a keyword (F) The CORE:: namespace is
reserved for Perl keywords.</p>

<p>defined(@array) is deprecated (D) defined() is not
usually useful on arrays because it checks for an undefined
scalar value. If you want to see if the array is empty, just
use &quot;if (@array) { # not empty }&quot; for example.</p>

<p>defined(%hash) is deprecated (D) defined() is not
usually useful on hashes because it checks for an undefined
scalar value. If you want to see if the hash is empty, just
use &quot;if (%hash) { # not empty }&quot; for example.</p>

<p>Did not produce a valid header See Server error.</p>

<p>(Did you mean &quot;local&quot; instead of
&quot;our&quot;?) (W misc) Remember that &quot;our&quot;
does not localize the declared global variable. You have
declared it again in the same lexical scope, which seems
superfluous.</p>

<p>Document contains no data See Server error.</p>

<p>entering effective %s failed (F) While under the
&quot;use filetest&quot; pragma, switching the real and
effective uids or gids failed.</p>

<p>false [] range &quot;%s&quot; in regexp (W regexp) A
character class range must start and end at a literal
character, not another character class like &quot;&quot; or
&quot;[:alpha:]&quot;. The &quot;-&quot; in your false range
is interpreted as a literal &quot;-&quot;. Consider quoting
the &quot;-&quot;, &quot;&minus;&quot;. See perlre.</p>

<p>Filehandle %s opened only for output (W io) You tried to
read from a filehandle opened only for writing. If you
intended it to be a read/write filehandle, you needed to
open it with &quot;+&lt;&quot; or &quot;+&gt;&quot; or
&quot;+&gt;&gt;&quot; instead of with &quot;&lt;&quot; or
nothing. If you intended only to read from the file, use
&quot;&lt;&quot;. See &quot;open&quot; in perlfunc.</p>

<p>flock() on closed filehandle %s (W closed) The
filehandle youre attempting to flock() got itself closed
some time before now. Check your logic flow. flock()
operates on filehandles. Are you attempting to call flock()
on a dirhandle by the same name?</p>

<p>Global symbol &quot;%s&quot; requires explicit package
name (F) Youve said &quot;use strict vars&quot;, which
indicates that all variables must either be lexically scoped
(using &quot;my&quot;), declared beforehand using
&quot;our&quot;, or explicitly qualified to say which
package the global variable is in (using
&quot;::&quot;).</p>

<p>Hexadecimal number &gt; 0xffffffff non-portable (W
portable) The hexadecimal number you specified is larger
than 2**32-1 (4294967295) and therefore non-portable between
systems. See perlport for more on portability concerns.</p>

<p>Ill-formed CRTL environ value &quot;%s&quot; (W
internal) A warning peculiar to VMS. Perl tried to read the
CRTLs internal environ array, and encountered an element
without the &quot;=&quot; delimiter used to separate keys
from values. The element is ignored.</p>

<p>Ill-formed message in prime_env_iter: |%s| (W internal)
A warning peculiar to VMS. Perl tried to read a logical name
or CLI symbol definition when preparing to iterate over
%ENV, and didn t see the expected delimiter between key and
value, so the line was ignored.</p>

<p>Illegal binary digit %s (F) You used a digit other than
0 or 1 in a binary number.</p>

<p>Illegal binary digit %s ignored (W digit) You may have
tried to use a digit other than 0 or 1 in a binary number.
Interpretation of the binary number stopped before the
offending digit.</p>

<p>Illegal number of bits in vec (F) The number of bits in
vec() (the third argument) must be a power of two from 1 to
32 (or 64, if your platform supports that).</p>

<p>Integer overflow in %s number (W overflow) The
hexadecimal, octal or binary number you have specified
either as a literal or as an argument to hex() or oct() is
too big for your architecture, and has been converted to a
floating point number. On a 32-bit architecture the largest
hexadecimal, octal or binary number representable without
overflow is 0xFFFFFFFF, 037777777777, or
0b11111111111111111111111111111111 respectively. Note that
Perl transparently promotes all numbers to a floating point
representation internally--subject to loss of precision
errors in subsequent operations.</p>

<p>Invalid %s attribute: %s The indicated attribute for a
subroutine or variable was not recognized by Perl or by a
user-supplied handler. See attributes.</p>

<p>Invalid %s attributes: %s The indicated attributes for a
subroutine or variable were not recognized by Perl or by a
user-supplied handler. See attributes.</p>

<p>invalid [] range &quot;%s&quot; in regexp The offending
range is now explicitly displayed.</p>

<p>Invalid separator character %s in attribute list (F)
Something other than a colon or whitespace was seen between
the elements of an attribute list. If the previous attribute
had a parenthesised parameter list, perhaps that list was
terminated too soon. See attributes.</p>

<p>Invalid separator character %s in subroutine attribute
list (F) Something other than a colon or whitespace was seen
between the elements of a subroutine attribute list. If the
previous attribute had a parenthesised parameter list,
perhaps that list was terminated too soon.</p>

<p>leaving effective %s failed (F) While under the
&quot;use filetest&quot; pragma, switching the real and
effective uids or gids failed.</p>

<p>Lvalue subs returning %s not implemented yet (F) Due to
limitations in the current implementation, array and hash
values cannot be returned in subroutines used in lvalue
context. See &quot;Lvalue subroutines&quot; in perlsub.</p>

<p>Method %s not permitted See Server error.</p>

<p>Missing %sbrace%s on (F) Wrong syntax of character name
literal &quot;harname}&quot; within double-quotish
context.</p>

<p>Missing command in piped open (W pipe) You used the
&quot;open(FH, &quot;| command&quot;)&quot; or
&quot;open(FH, &quot;command |&quot;)&quot; construction,
but the command was missing or blank.</p>

<p>Missing name in &quot;my sub&quot; (F) The reserved
syntax for lexically scoped subroutines requires that they
have a name with which they can be found.</p>

<p>No %s specified for -%c (F) The indicated command line
switch needs a mandatory argument, but you havent specified
one.</p>

<p>No package name allowed for variable %s in
&quot;our&quot; (F) Fully qualified variable names are not
allowed in &quot;our&quot; declarations, because that doesn
t make much sense under existing semantics. Such syntax is
reserved for future extensions.</p>

<p>No space allowed after -%c (F) The argument to the
indicated command line switch must follow immediately after
the switch, without intervening spaces.</p>

<p>no UTC offset information; assuming local time is UTC
(S) A warning peculiar to VMS. Perl was unable to find the
local timezone offset, so it s assuming that local system
time is equivalent to UTC. If its not, define the logical
name SYS$TIMEZONE_DIFFERENTIAL to translate to the number of
seconds which need to be added to UTC to get local time.</p>

<p>Octal number &gt; 037777777777 non-portable (W portable)
The octal number you specified is larger than 2**32-1
(4294967295) and therefore non-portable between systems. See
perlport for more on portability concerns.</p>

<p>See also perlport for writing portable code.</p>

<p>panic: del_backref (P) Failed an internal consistency
check while trying to reset a weak reference.</p>

<p>panic: kid popen errno read (F) forked child returned an
incomprehensible message about its errno.</p>

<p>panic: magic_killbackrefs (P) Failed an internal
consistency check while trying to reset all weak references
to an object.</p>

<p>Parentheses missing around &quot;%s&quot; list (W
parenthesis) You said something like</p>

<p>my $foo, $bar = @_;</p>

<p>when you meant</p>

<p>my ($foo, $bar) = @_;</p>

<p>Remember that &quot;my&quot;, &quot;our&quot;, and
&quot;local&quot; bind tighter than comma.</p>

<p>Possible unintended interpolation of %s in string (W
ambiguous) It used to be that Perl would try to guess
whether you wanted an array interpolated or a literal @. It
no longer does this; arrays are now always interpolated into
strings. This means that if you try something like:</p>

<p>print &quot;fred@example.com&quot;;</p>

<p>and the array @example doesnt exist, Perl is going to
print &quot;fred.com&quot;, which is probably not what you
wanted. To get a literal &quot;@&quot; sign in a string, put
a backslash before it, just as you would to get a literal
&quot;$&quot; sign.</p>

<p>Possible Y2K bug: %s (W y2k) You are concatenating the
number 19 with another number, which could be a potential
Year 2000 problem.</p>

<p>pragma &quot;attrs&quot; is deprecated, use &quot;sub
NAME : ATTRS&quot; instead (W deprecated) You have written
something like this:</p>

<p>sub doit { use attrs qw(locked); }</p>

<p>You should use the new declaration syntax instead.</p>

<p>sub doit : locked { ...</p>

<p>The &quot;use attrs&quot; pragma is now obsolete, and is
only provided for backward-compatibility. See
&quot;Subroutine Attributes&quot; in perlsub.</p>

<p>Premature end of script headers See Server error.</p>

<p>Repeat count in pack overflows (F) You cant specify a
repeat count so large that it overflows your signed
integers. See &quot;pack&quot; in perlfunc.</p>

<p>Repeat count in unpack overflows (F) You cant specify a
repeat count so large that it overflows your signed
integers. See &quot;unpack&quot; in perlfunc.</p>

<p>realloc() of freed memory ignored (S) An internal
routine called realloc() on something that had already been
freed.</p>

<p>Reference is already weak (W misc) You have attempted to
weaken a reference that is already weak. Doing so has no
effect.</p>

<p>setpgrp cant take arguments (F) Your system has the
setpgrp() from BSD 4.2, which takes no arguments, unlike
POSIX setpgid(), which takes a process ID and process group
ID.</p>

<p>Strange *+?{} on zero-length expression (W regexp) You
applied a regular expression quantifier in a place where it
makes no sense, such as on a zero-width assertion. Try
putting the quantifier inside the assertion instead. For
example, the way to match &quot;abc&quot; provided that it
is followed by three repetitions of &quot;xyz&quot; is
&quot;/abc(?=(?:xyz){3})/&quot;, not
&quot;/abc(?=xyz){3}/&quot;.</p>

<p>switching effective %s is not implemented (F) While
under the &quot;use filetest&quot; pragma, we cannot switch
the real and effective uids or gids.</p>

<p>This Perl cant reset CRTL environ elements (%s) This
Perl cant set CRTL environ elements (%s=%s) (W internal)
Warnings peculiar to VMS. You tried to change or delete an
element of the CRTLs internal environ array, but your copy
of Perl wasnt built with a CRTL that contained the setenv()
function. Youll need to rebuild Perl with a CRTL that does,
or redefine PERL_ENV_TABLES (see perlvms) so that the
environ array isnt the target of the change to %ENV which
produced the warning.</p>

<p>Too late to run %s block (W void) A CHECK or INIT block
is being defined during run time proper, when the
opportunity to run them has already passed. Perhaps you are
loading a file with &quot;require&quot; or &quot;do&quot;
when you should be using &quot;use&quot; instead. Or perhaps
you should put the &quot;require&quot; or &quot;do&quot;
inside a BEGIN block.</p>

<p>Unknown open() mode %s (F) The second argument of
3-argument open() is not among the list of valid modes:
&quot;&lt;&quot;, &quot;&gt;&quot;, &quot;&gt;&gt;&quot;,
&quot;+&lt;&quot;, &quot;+&gt;&quot;, &quot;+&gt;&gt;&quot;,
&quot;-|&quot;, &quot;|-&quot;.</p>

<p>Unknown process %x sent message to prime_env_iter: %s
(P) An error peculiar to VMS. Perl was reading values for
%ENV before iterating over it, and someone else stuck a
message in the stream of data Perl expected. Someones very
confused, or perhaps trying to subvert Perl s population of
%ENV for nefarious purposes.</p>

<p>Unrecognized escape \%c passed through (W misc) You used
a backslash-character combination which is not recognized by
Perl. The character was understood literally.</p>

<p>Unterminated attribute parameter in attribute list (F)
The lexer saw an opening (left) parenthesis character while
parsing an attribute list, but the matching closing (right)
parenthesis character was not found. You may need to add (or
remove) a backslash character to get your parentheses to
balance. See attributes.</p>

<p>Unterminated attribute list (F) The lexer found
something other than a simple identifier at the start of an
attribute, and it wasnt a semicolon or the start of a block.
Perhaps you terminated the parameter list of the previous
attribute too soon. See attributes.</p>

<p>Unterminated attribute parameter in subroutine attribute
list (F) The lexer saw an opening (left) parenthesis
character while parsing a subroutine attribute list, but the
matching closing (right) parenthesis character was not
found. You may need to add (or remove) a backslash character
to get your parentheses to balance.</p>

<p>Unterminated subroutine attribute list (F) The lexer
found something other than a simple identifier at the start
of a subroutine attribute, and it wasn t a semicolon or the
start of a block. Perhaps you terminated the parameter list
of the previous attribute too soon.</p>

<p>Value of CLI symbol &quot;%s&quot; too long (W misc) A
warning peculiar to VMS. Perl tried to read the value of an
%ENV element from a CLI symbol table, and found a resultant
string longer than 1024 characters. The return value has
been truncated to 1024 characters.</p>

<p>Version number must be a constant number (P) The attempt
to translate a &quot;use Module n.n LIST&quot; statement
into its equivalent &quot;BEGIN&quot; block found an
internal inconsistency with the version number.</p>

<p>New tests lib/attrs Compatibility tests for &quot;sub :
attrs&quot; vs the older &quot;use attrs&quot;.</p>

<p>lib/env Tests for new environment scalar capability
(e.g., &quot;use Env qw($BAR);&quot;).</p>

<p>lib/env-array Tests for new environment array capability
(e.g., &quot;use Env qw(@PATH);&quot;).</p>

<p>lib/io_const IO constants (SEEK_*, _IO*).</p>

<p>lib/io_dir Directory-related IO methods (new, read,
close, rewind, tied delete).</p>

<p>lib/io_multihomed INET sockets with multi-homed
hosts.</p>

<p>lib/io_poll IO poll().</p>

<p>lib/io_unix UNIX sockets.</p>

<p>op/attrs Regression tests for &quot;my ($x,@y,%z) :
attrs&quot; and &lt;sub : attrs&gt;.</p>

<p>op/filetest File test operators.</p>

<p>op/lex_assign Verify operations that access pad objects
(lexicals and temporaries).</p>

<p>op/exists_sub Verify &quot;exists &amp;sub&quot;
operations.</p>

<p>Incompatible Changes Perl Source Incompatibilities
Beware that any new warnings that have been added or old
ones that have been enhanced are not considered incompatible
changes.</p>

<p>Since all new warnings must be explicitly requested via
the &quot;-w&quot; switch or the &quot;warnings&quot;
pragma, it is ultimately the programmers responsibility to
ensure that warnings are enabled judiciously.</p>

<p>CHECK is a new keyword All subroutine definitions named
CHECK are now special. See &quot;/&quot;Support for CHECK
blocks&quot;&quot; for more information.</p>

<p>Treatment of list slices of undef has changed There is a
potential incompatibility in the behavior of list slices
that are comprised entirely of undefined values. See
&quot;Behavior of list slices is more consistent&quot;.</p>

<p>Format of $English::PERL_VERSION is different The
English module now sets $PERL_VERSION to $^V (a string
value) rather than $] (a numeric value). This is a potential
incompatibility. Send us a report via perlbug if you are
affected by this.</p>

<p>See &quot;Improved Perl version numbering system&quot;
for the reasons for this change.</p>

<p>Literals of the form 1.2.3 parse differently Previously,
numeric literals with more than one dot in them were
interpreted as a floating point number concatenated with one
or more numbers. Such &quot;numbers&quot; are now parsed as
strings composed of the specified ordinals.</p>

<p>For example, &quot;print 97.98.99&quot; used to output
97.9899 in earlier versions, but now prints
&quot;abc&quot;.</p>

<p>See &quot;Support for strings represented as a vector of
ordinals&quot;.</p>

<p>Possibly changed pseudo-random number generator Perl
programs that depend on reproducing a specific set of
pseudo- random numbers may now produce different output due
to improvements made to the rand() builtin. You can use
&quot;sh Configure -Drandfunc=rand&quot; to obtain the old
behavior.</p>

<p>See &quot;Better pseudo-random number
generator&quot;.</p>

<p>Hashing function for hash keys has changed Even though
Perl hashes are not order preserving, the apparently random
order encountered when iterating on the contents of a hash
is actually determined by the hashing algorithm used.
Improvements in the algorithm may yield a random order that
is different from that of previous versions, especially when
iterating on hashes.</p>

<p>See &quot;Better worst-case behavior of hashes&quot; for
additional information.</p>

<p>&quot;undef&quot; fails on read only values Using the
&quot;undef&quot; operator on a readonly value (such as $1)
has the same effect as assigning &quot;undef&quot; to the
readonly value--it throws an exception.</p>

<p>Close-on-exec bit may be set on pipe and socket handles
Pipe and socket handles are also now subject to the
close-on-exec behavior determined by the special variable
$^F.</p>

<p>See &quot;More consistent close-on-exec
behavior&quot;.</p>

<p>Writing &quot;$$1&quot; to mean &quot;${$}1&quot; is
unsupported Perl 5.004 deprecated the interpretation of $$1
and similar within interpolated strings to mean &quot;$$ .
&quot;1&quot;&quot;, but still allowed it.</p>

<p>In Perl 5.6.0 and later, &quot;$$1&quot; always means
&quot;${$1}&quot;.</p>

<p>delete(), each(), values() and &quot;)&quot; operate on
aliases to values, not copies</p>

<p>delete(), each(), values() and hashes (e.g.
&quot;)&quot;) in a list context return the actual values in
the hash, instead of copies (as they used to in earlier
versions). Typical idioms for using these constructs copy
the returned values, but this can make a significant
difference when creating references to the returned values.
Keys in the hash are still returned as copies when iterating
on a hash.</p>

<p>See also &quot;delete(), each(), values() and hash
iteration are faster&quot;.</p>

<p>vec(EXPR,OFFSET,BITS) enforces powers-of-two BITS vec()
generates a run-time error if the BITS argument is not a
valid power-of-two integer.</p>

<p>Text of some diagnostic output has changed Most
references to internal Perl operations in diagnostics have
been changed to be more descriptive. This may be an issue
for programs that may incorrectly rely on the exact text of
diagnostics for proper functioning.</p>

<p>&quot;%@&quot; has been removed The undocumented special
variable &quot;%@&quot; that used to accumulate
&quot;background&quot; errors (such as those that happen in
DESTROY()) has been removed, because it could potentially
result in memory leaks.</p>

<p>Parenthesized not() behaves like a list operator The
&quot;not&quot; operator now falls under the &quot;if it
looks like a function, it behaves like a function&quot;
rule.</p>

<p>As a result, the parenthesized form can be used with
&quot;grep&quot; and &quot;map&quot;. The following
construct used to be a syntax error before, but it works as
expected now:</p>

<p>grep not($_), @things;</p>

<p>On the other hand, using &quot;not&quot; with a literal
list slice may not work. The following previously allowed
construct:</p>

<p>print not (1,2,3)[0];</p>

<p>needs to be written with additional parentheses now:</p>

<p>print not((1,2,3)[0]);</p>

<p>The behavior remains unaffected when &quot;not&quot; is
not followed by parentheses.</p>

<p>Semantics of bareword prototype &quot;(*)&quot; have
changed The semantics of the bareword prototype
&quot;*&quot; have changed. Perl 5.005 always coerced simple
scalar arguments to a typeglob, which wasnt useful in
situations where the subroutine must distinguish between a
simple scalar and a typeglob. The new behavior is to not
coerce bareword arguments to a typeglob. The value will
always be visible as either a simple scalar or as a
reference to a typeglob.</p>

<p>See &quot;More functional bareword prototype
(*)&quot;.</p>

<p>Semantics of bit operators may have changed on 64-bit
platforms If your platform is either natively 64-bit or if
Perl has been configured to used 64-bit integers, i.e.,
$Config{ivsize} is 8, there may be a potential
incompatibility in the behavior of bitwise numeric operators
(&amp; | ^ ~ &lt;&lt; &gt;&gt;). These operators used to
strictly operate on the lower 32 bits of integers in
previous versions, but now operate over the entire native
integral width. In particular, note that unary &quot;~&quot;
will produce different results on platforms that have
different $Config{ivsize}. For portability, be sure to mask
off the excess bits in the result of unary &quot;~&quot;,
e.g., &quot;~$x &amp; 0xffffffff&quot;.</p>

<p>See &quot;Bit operators support full native integer
width&quot;.</p>

<p>More builtins taint their results As described in
&quot;Improved security features&quot;, there may be more
sources of taint in a Perl program.</p>

<p>To avoid these new tainting behaviors, you can build
Perl with the Configure option
&quot;-Accflags=-DINCOMPLETE_TAINTS&quot;. Beware that the
ensuing perl binary may be insecure.</p>

<p>C Source Incompatibilities &quot;PERL_POLLUTE&quot;
Release 5.005 grandfathered old global symbol names by
providing preprocessor macros for extension source
compatibility. As of release 5.6.0, these preprocessor
definitions are not available by default. You need to
explicitly compile perl with &quot;-DPERL_POLLUTE&quot; to
get these definitions. For extensions still using the old
symbols, this option can be specified via MakeMaker:</p>

<p>perl Makefile.PL POLLUTE=1</p>

<p>&quot;PERL_IMPLICIT_CONTEXT&quot; This new build option
provides a set of macros for all API functions such that an
implicit interpreter/thread context argument is passed to
every API function. As a result of this, something like
&quot;sv_setsv(foo,bar)&quot; amounts to a macro invocation
that actually translates to something like
&quot;Perl_sv_setsv(my_perl,foo,bar)&quot;. While this is
generally expected to not have any significant source
compatibility issues, the difference between a macro and a
real function call will need to be considered.</p>

<p>This means that there is a source compatibility issue as
a result of this if your extensions attempt to use pointers
to any of the Perl API functions.</p>

<p>Note that the above issue is not relevant to the default
build of Perl, whose interfaces continue to match those of
prior versions (but subject to the other options described
here).</p>

<p>See &quot;The Perl API&quot; in perlguts for detailed
information on the ramifications of building Perl with this
option.</p>

<p>NOTE: PERL_IMPLICIT_CONTEXT is automatically enabled
whenever Perl is built with one of -Dusethreads,
-Dusemultiplicity, or both. It is not intended to be enabled
by users at this time.</p>

<p>&quot;PERL_POLLUTE_MALLOC&quot; Enabling Perl s malloc
in release 5.005 and earlier caused the namespace of the
systems malloc family of functions to be usurped by the Perl
versions, since by default they used the same names. Besides
causing problems on platforms that do not allow these
functions to be cleanly replaced, this also meant that the
system versions could not be called in programs that used
Perls malloc. Previous versions of Perl have allowed this
behaviour to be suppressed with the HIDEMYMALLOC and
EMBEDMYMALLOC preprocessor definitions.</p>

<p>As of release 5.6.0, Perls malloc family of functions
have default names distinct from the system versions. You
need to explicitly compile perl with
&quot;-DPERL_POLLUTE_MALLOC&quot; to get the older
behaviour. HIDEMYMALLOC and EMBEDMYMALLOC have no effect,
since the behaviour they enabled is now the default.</p>

<p>Note that these functions do not constitute Perls memory
allocation API. See &quot;Memory Allocation&quot; in
perlguts for further information about that.</p>

<p>Compatible C Source API Changes &quot;PATCHLEVEL&quot;
is now &quot;PERL_VERSION&quot; The cpp macros
&quot;PERL_REVISION&quot;, &quot;PERL_VERSION&quot;, and
&quot;PERL_SUBVERSION&quot; are now available by default
from perl.h, and reflect the base revision, patchlevel, and
subversion respectively. &quot;PERL_REVISION&quot; had no
prior equivalent, while &quot;PERL_VERSION&quot; and
&quot;PERL_SUBVERSION&quot; were previously available as
&quot;PATCHLEVEL&quot; and &quot;SUBVERSION&quot;.</p>

<p>The new names cause less pollution of the cpp namespace
and reflect what the numbers have come to stand for in
common practice. For compatibility, the old names are still
supported when patchlevel.h is explicitly included (as
required before), so there is no source incompatibility from
the change.</p>

<p>Binary Incompatibilities In general, the default build
of this release is expected to be binary compatible for
extensions built with the 5.005 release or its maintenance
versions. However, specific platforms may have broken binary
compatibility due to changes in the defaults used in hints
files. Therefore, please be sure to always check the
platform-specific README files for any notes to the
contrary.</p>

<p>The usethreads or usemultiplicity builds are not binary
compatible with the corresponding builds in 5.005.</p>

<p>On platforms that require an explicit list of exports
(AIX, OS/2 and Windows, among others), purely internal
symbols such as parser functions and the run time opcodes
are not exported by default. Perl 5.005 used to export all
functions irrespective of whether they were considered part
of the public API or not.</p>

<p>For the full list of public API functions, see
perlapi.</p>

<p>Known Problems Localizing a tied hash element may leak
memory As of the 5.6.1 release, there is a known leak when
code such as this is executed:</p>

<p>use Tie::Hash; tie my %tie_hash =&gt;
&rsquo;Tie::StdHash&rsquo;;</p>

<p>...</p>

<p>local($tie_hash{Foo}) = 1; # leaks</p>

<p>Known test failures &middot; 64-bit builds</p>

<p>Subtest #15 of lib/b.t may fail under 64-bit builds on
platforms such as HP-UX PA64 and Linux IA64. The issue is
still being investigated.</p>

<p>The lib/io_multihomed test may hang in HP-UX if Perl has
been configured to be 64-bit. Because other 64-bit platforms
do not hang in this test, HP-UX is suspect. All other tests
pass in 64-bit HP-UX. The test attempts to create and
connect to &quot;multihomed&quot; sockets (sockets which
have multiple IP addresses).</p>

<p>Note that 64-bit support is still experimental.</p>

<p>&middot; Failure of Thread tests</p>

<p>The subtests 19 and 20 of lib/thr5005.t test are known
to fail due to fundamental problems in the 5.005 threading
implementation. These are not new failures--Perl 5.005_0x
has the same bugs, but didnt have these tests. (Note that
support for 5.005-style threading remains experimental.)</p>

<p>&middot; NEXTSTEP 3.3 POSIX test failure</p>

<p>In NEXTSTEP 3.3p2 the implementation of the strftime(3)
in the operating system libraries is buggy: the %j format
numbers the days of a month starting from zero, which, while
being logical to programmers, will cause the subtests 19 to
27 of the lib/posix test may fail.</p>

<p>&middot; Tru64 (aka Digital UNIX, aka DEC OSF/1)
lib/sdbm test failure with gcc</p>

<p>If compiled with gcc 2.95 the lib/sdbm test will fail
(dump core). The cure is to use the vendor cc, it comes with
the operating system and produces good code.</p>

<p>EBCDIC platforms not fully supported In earlier releases
of Perl, EBCDIC environments like OS390 (also known as Open
Edition MVS) and VM-ESA were supported. Due to changes
required by the UTF-8 (Unicode) support, the EBCDIC
platforms are not supported in Perl 5.6.0.</p>

<p>The 5.6.1 release improves support for EBCDIC platforms,
but they are not fully supported yet.</p>

<p>UNICOS/mk CC failures during Configure run In UNICOS/mk
the following errors may appear during the Configure
run:</p>

<p>Guessing which symbols your C compiler and preprocessor
define... CC-20 cc: ERROR File = try.c, Line = 3 ... bad
switch yylook 79bad switch yylook 79bad switch yylook 79bad
switch yylook 79#ifdef A29K ... 4 errors detected in the
compilation of &quot;try.c&quot;.</p>

<p>The culprit is the broken awk of UNICOS/mk. The effect
is fortunately rather mild: Perl itself is not adversely
affected by the error, only the h2ph utility coming with
Perl, and that is rather rarely needed these days.</p>

<p>Arrow operator and arrays When the left argument to the
arrow operator &quot;-&gt;&quot; is an array, or the
&quot;scalar&quot; operator operating on an array, the
result of the operation must be considered erroneous. For
example:</p>

<p>@x-&gt;[2] scalar(@x)-&gt;[2]</p>

<p>These expressions will get run-time errors in some
future release of Perl.</p>

<p>Experimental features As discussed above, many features
are still experimental. Interfaces and implementation of
these features are subject to change, and in extreme cases,
even subject to removal in some future release of Perl.
These features include the following:</p>

<p>Threads Unicode 64-bit support Lvalue subroutines Weak
references The pseudo-hash data type The Compiler suite
Internal implementation of file globbing The DB module The
regular expression code constructs: &quot;(?{ code })&quot;
and &quot;(??{ code })&quot;</p>

<p>Obsolete Diagnostics Character class syntax [: :] is
reserved for future extensions (W) Within regular expression
character classes ([]) the syntax beginning with
&quot;[:&quot; and ending with &quot;:]&quot; is reserved
for future extensions. If you need to represent those
character sequences inside a regular expression character
class, just quote the square brackets with the backslash:
&quot;and &quot;:]&quot;.</p>

<p>Ill-formed logical name |%s| in prime_env_iter (W) A
warning peculiar to VMS. A logical name was encountered when
preparing to iterate over %ENV which violates the syntactic
rules governing logical names. Because it cannot be
translated normally, it is skipped, and will not appear in
%ENV. This may be a benign occurrence, as some software
packages might directly modify logical name tables and
introduce nonstandard names, or it may indicate that a
logical name table has been corrupted.</p>

<p>In string, @%s now must be written as @%s The
description of this error used to say:</p>

<p>(Someday it will simply assume that an unbackslashed @
interpolates an array.)</p>

<p>That day has come, and this fatal error has been
removed. It has been replaced by a non-fatal warning
instead. See &quot;Arrays now always interpolate into
double-quoted strings&quot; for details.</p>

<p>Probable precedence problem on %s (W) The compiler found
a bareword where it expected a conditional, which often
indicates that an || or &amp;&amp; was parsed as part of the
last argument of the previous construct, for example:</p>

<p>open FOO || die;</p>

<p>regexp too big (F) The current implementation of regular
expressions uses shorts as address offsets within a string.
Unfortunately this means that if the regular expression
compiles to longer than 32767, itll blow up. Usually when
you want a regular expression this big, there is a better
way to do it with multiple statements. See perlre.</p>

<p>Use of &quot;$$&lt;digit&gt;&quot; to mean
&quot;${$}&lt;digit&gt;&quot; is deprecated (D) Perl
versions before 5.004 misinterpreted any type marker
followed by &quot;$&quot; and a digit. For example,
&quot;$$0&quot; was incorrectly taken to mean
&quot;${$}0&quot; instead of &quot;${$0}&quot;. This bug is
(mostly) fixed in Perl 5.004.</p>

<p>However, the developers of Perl 5.004 could not fix this
bug completely, because at least two widely-used modules
depend on the old meaning of &quot;$$0&quot; in a string. So
Perl 5.004 still interprets &quot;$$&lt;digit&gt;&quot; in
the old (broken) way inside strings; but it generates this
message as a warning. And in Perl 5.005, this special
treatment will cease.</p>

<p>Reporting Bugs If you find what you think is a bug, you
might check the articles recently posted to the
comp.lang.perl.misc newsgroup. There may also be information
at http://www.perl.com/ , the Perl Home Page.</p>

<p>If you believe you have an unreported bug, please run
the perlbug program included with your release. Be sure to
trim your bug down to a tiny but sufficient test case. Your
bug report, along with the output of &quot;perl -V&quot;,
will be sent off to perlbug@perl.org to be analysed by the
Perl porting team.</p>

<p>SEE ALSO The Changes file for exhaustive details on what
changed.</p>

<p>The INSTALL file for how to build Perl.</p>

<p>The README file for general stuff.</p>

<p>The Artistic and Copying files for copyright
information.</p>

<p>HISTORY Written by Gurusamy Sarathy
&lt;gsar@ActiveState.com&gt;, with many contributions from
The Perl Porters.</p>

<p>Send omissions or corrections to
&lt;perlbug@perl.org&gt;.</p>

<p>perl v5.10.1 2009-02-12 PERL561DELTA(1)</p>
<hr>
</body>
</html>
