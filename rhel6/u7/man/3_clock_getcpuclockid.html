<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:07:36 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>CLOCK_GETCPUCLOCKID(3) Linux Programmer s Manual
CLOCK_GETCPUCLOCKID(3)</p>

<p>NAME clock_getcpuclockid - obtain ID of a process
CPU-time clock</p>

<p>SYNOPSIS #include &lt;time.h&gt;</p>

<p>int clock_getcpuclockid(pid_t pid, clockid_t
*clock_id);</p>

<p>Link with -lrt.</p>

<p>Feature Test Macro Requirements for glibc (see
feature_test_macros(7)):</p>

<p>clock_getcpuclockid(): _XOPEN_SOURCE &gt;= 600</p>

<p>DESCRIPTION The clock_getcpuclockid() function obtains
the ID of the CPU-time clock of the process whose ID is pid,
and returns it in the location pointed to by clock_id. If
pid is zero, then the clock ID of the CPU-time clock of the
calling process is returned.</p>

<p>RETURN VALUE On success, clock_getcpuclockid() returns
0; on error, it returns a positive error number.</p>

<p>ERRORS ENOSYS The kernel does not support obtaining the
per-process CPU-time clock of another process, and pid does
not specify the calling process.</p>

<p>EPERM The caller does not have permission to access the
CPU-time clock of the process specified by pid. (Specified
as an optional error in POSIX.1-2001; does not occur on
Linux unless the kernel does not support obtaining the
per-process CPU-time clock of another process.)</p>

<p>ESRCH There is no process with the ID pid.</p>

<p>VERSIONS The clock_getcpuclockid() function is available
in glibc since version 2.2.</p>

<p>CONFORMING TO POSIX.1-2001.</p>

<p>NOTES Calling clock_gettime(2) with the clock ID
obtained by a call to clock_getcpuclockid() with a pid of 0,
is the same as using the clock ID
CLOCK_PROCESS_CPUTIME_ID.</p>

<p>EXAMPLE The example program below obtains the CPU-time
clock ID of the process whose ID is given on the command
line, and then uses clock_gettime(2) to obtain the time on
that clock. An example run is the following:</p>

<p>$ ./a.out 1 # Show CPU clock of init process CPU-time
clock for PID 1 is 2.213466748 seconds</p>

<p>Program source</p>

<p>#define _XOPEN_SOURCE 600 #include &lt;stdio.h&gt;
#include &lt;unistd.h&gt; #include &lt;stdlib.h&gt; #include
&lt;time.h&gt;</p>

<p>int main(int argc, char *argv[]) { clockid_t clockid;
struct timespec ts;</p>

<p>if (argc != 2) { fprintf(stderr, &quot;%s
&lt;process-ID&gt;0, argv[0]); exit(EXIT_FAILURE); }</p>

<p>if (clock_getcpuclockid(atoi(argv[1]), &amp;clockid) !=
0) { perror(&quot;clock_getcpuclockid&quot;);
exit(EXIT_FAILURE); }</p>

<p>if (clock_gettime(clockid, &amp;ts) == -1) {
perror(&quot;clock_gettime&quot;); exit(EXIT_FAILURE); }</p>

<p>printf(&quot;CPU-time clock for PID %s is %ld.%09ld
seconds0, argv[1], (long) ts.tv_sec, (long) ts.tv_nsec);
exit(EXIT_SUCCESS); }</p>

<p>SEE ALSO clock_getres(2), timer_create(2),
pthread_getcpuclockid(3), time(7)</p>

<p>COLOPHON This page is part of release 3.22 of the Linux
man-pages project. A description of the project, and
information about reporting bugs, can be found at
http://www.kernel.org/doc/man-pages/.</p>

<p>Linux 2009-02-20 CLOCK_GETCPUCLOCKID(3)</p>
<hr>
</body>
</html>
