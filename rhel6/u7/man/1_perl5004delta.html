<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:26:57 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>PERL5004DELTA(1) Perl Programmers Reference Guide
PERL5004DELTA(1)</p>

<p>NAME perl5004delta - whats new for perl5.004</p>

<p>DESCRIPTION This document describes differences between
the 5.003 release (as documented in Programming Perl, second
edition--the Camel Book) and this one.</p>

<p>Supported Environments Perl5.004 builds out of the box
on Unix, Plan 9, LynxOS, VMS, OS/2, QNX, AmigaOS, and
Windows NT. Perl runs on Windows 95 as well, but it cannot
be built there, for lack of a reasonable command
interpreter.</p>

<p>Core Changes Most importantly, many bugs were fixed,
including several security problems. See the Changes file in
the distribution for details.</p>

<p>List assignment to %ENV works &quot;%ENV = ()&quot; and
&quot;%ENV = @list&quot; now work as expected (except on VMS
where it generates a fatal error).</p>

<p>Change to &quot;Cat locate Foo.pm in @INC&quot; error
The error &quot;Cant locate Foo.pm in @INC&quot; now lists
the contents of @INC for easier debugging.</p>

<p>Compilation option: Binary compatibility with 5.003
There is a new Configure question that asks if you want to
maintain binary compatibility with Perl 5.003. If you choose
binary compatibility, you do not have to recompile your
extensions, but you might have symbol conflicts if you embed
Perl in another application, just as in the 5.003 release.
By default, binary compatibility is preserved at the expense
of symbol table pollution.</p>

<p>$PERL5OPT environment variable You may now put Perl
options in the $PERL5OPT environment variable. Unless Perl
is running with taint checks, it will interpret this
variable as if its contents had appeared on a
&quot;#!perl&quot; line at the beginning of your script,
except that hyphens are optional. PERL5OPT may only be used
to set the following switches: -[DIMUdmw].</p>

<p>Limitations on -M, -m, and -T options The &quot;-M&quot;
and &quot;-m&quot; options are no longer allowed on the
&quot;#!&quot; line of a script. If a script needs a module,
it should invoke it with the &quot;use&quot; pragma.</p>

<p>The -T option is also forbidden on the &quot;#!&quot;
line of a script, unless it was present on the Perl command
line. Due to the way &quot;#!&quot; works, this usually
means that -T must be in the first argument. Thus:</p>

<p>#!/usr/bin/perl -T -w</p>

<p>will probably work for an executable script invoked as
&quot;scriptname&quot;, while:</p>

<p>#!/usr/bin/perl -w -T</p>

<p>will probably fail under the same conditions. (Non-Unix
systems will probably not follow this rule.) But &quot;perl
scriptname&quot; is guaranteed to fail, since then there is
no chance of -T being found on the command line before it is
found on the &quot;#!&quot; line.</p>

<p>More precise warnings If you removed the -w option from
your Perl 5.003 scripts because it made Perl too verbose, we
recommend that you try putting it back when you upgrade to
Perl 5.004. Each new perl version tends to remove some
undesirable warnings, while adding new warnings that may
catch bugs in your scripts.</p>

<p>Deprecated: Inherited &quot;AUTOLOAD&quot; for
non-methods Before Perl 5.004, &quot;AUTOLOAD&quot;
functions were looked up as methods (using the @ISA
hierarchy), even when the function to be autoloaded was
called as a plain function (e.g. &quot;Foo::bar()&quot;),
not a method (e.g. &quot;Foo-&gt;bar()&quot; or
&quot;$obj-&gt;bar()&quot;).</p>

<p>Perl 5.005 will use method lookup only for methods
&quot;AUTOLOAD&quot;s. However, there is a significant base
of existing code that may be using the old behavior. So, as
an interim step, Perl 5.004 issues an optional warning when
a non-method uses an inherited &quot;AUTOLOAD&quot;.</p>

<p>The simple rule is: Inheritance will not work when
autoloading non- methods. The simple fix for old code is: In
any module that used to depend on inheriting
&quot;AUTOLOAD&quot; for non-methods from a base class named
&quot;BaseClass&quot;, execute &quot;*AUTOLOAD =
BaseClass::AUTOLOAD&quot; during startup.</p>

<p>Previously deprecated %OVERLOAD is no longer usable
Using %OVERLOAD to define overloading was deprecated in
5.003. Overloading is now defined using the overload pragma.
%OVERLOAD is still used internally but should not be used by
Perl scripts. See overload for more details.</p>

<p>Subroutine arguments created only when there modified In
Perl 5.004, nonexistent array and hash elements used as
subroutine parameters are brought into existence only if
they are actually assigned to (via @_).</p>

<p>Earlier versions of Perl vary in their handling of such
arguments. Perl versions 5.002 and 5.003 always brought them
into existence. Perl versions 5.000 and 5.001 brought them
into existence only if they were not the first argument
(which was almost certainly a bug). Earlier versions of Perl
never brought them into existence.</p>

<p>For example, given this code:</p>

<p>undef @a; undef %a; sub show { print $_[0] }; sub change
{ $_[0]++ }; show($a[2]); change($a{b});</p>

<p>After this code executes in Perl 5.004, $a{b} exists but
$a[2] does not. In Perl 5.002 and 5.003, both $a{b} and
$a[2] would have existed (but $a[2]s value would have been
undefined).</p>

<p>Group vector changeable with $) The $) special variable
has always (well, in Perl 5, at least) reflected not only
the current effective group, but also the group list as
returned by the &quot;getgroups()&quot; C function (if there
is one). However, until this release, there has not been a
way to call the &quot;setgroups()&quot; C function from
Perl.</p>

<p>In Perl 5.004, assigning to $) is exactly symmetrical
with examining it: The first number in its string value is
used as the effective gid; if there are any numbers after
the first one, they are passed to the
&quot;setgroups()&quot; C function (if there is one).</p>

<p>Fixed parsing of $$&lt;digit&gt;, &amp;$&lt;digit&gt;,
etc. Perl versions before 5.004 misinterpreted any type
marker followed by &quot;$&quot; and a digit. For example,
&quot;$$0&quot; was incorrectly taken to mean
&quot;${$}0&quot; instead of &quot;${$0}&quot;. This bug is
(mostly) fixed in Perl 5.004.</p>

<p>However, the developers of Perl 5.004 could not fix this
bug completely, because at least two widely-used modules
depend on the old meaning of &quot;$$0&quot; in a string. So
Perl 5.004 still interprets &quot;$$&lt;digit&gt;&quot; in
the old (broken) way inside strings; but it generates this
message as a warning. And in Perl 5.005, this special
treatment will cease.</p>

<p>Fixed localization of $&lt;digit&gt;, $&amp;, etc. Perl
versions before 5.004 did not always properly localize the
regex- related special variables. Perl 5.004 does localize
them, as the documentation has always said it should. This
may result in $1, $2, etc. no longer being set where
existing programs use them.</p>

<p>No resetting of $. on implicit close The documentation
for Perl 5.0 has always stated that $. is not reset when an
already-open file handle is reopened with no intervening
call to &quot;close&quot;. Due to a bug, perl versions 5.000
through 5.003 did reset $. under that circumstance; Perl
5.004 does not.</p>

<p>&quot;wantarray&quot; may return undef The
&quot;wantarray&quot; operator returns true if a subroutine
is expected to return a list, and false otherwise. In Perl
5.004, &quot;wantarray&quot; can also return the undefined
value if a subroutine s return value will not be used at
all, which allows subroutines to avoid a time-consuming
calculation of a return value if it isnt going to be
used.</p>

<p>&quot;eval EXPR&quot; determines value of EXPR in scalar
context Perl (version 5) used to determine the value of EXPR
inconsistently, sometimes incorrectly using the surrounding
context for the determination. Now, the value of EXPR
(before being parsed by eval) is always determined in a
scalar context. Once parsed, it is executed as before, by
providing the context that the scope surrounding the eval
provided. This change makes the behavior Perl4 compatible,
besides fixing bugs resulting from the inconsistent
behavior. This program:</p>

<p>@a = qw(time now is time); print eval @a; print
&rsquo;|&rsquo;, scalar eval @a;</p>

<p>used to print something like
&quot;timenowis881399109|4&quot;, but now (and in perl4)
prints &quot;4|4&quot;.</p>

<p>Changes to tainting checks A bug in previous versions
may have failed to detect some insecure conditions when
taint checks are turned on. (Taint checks are used in setuid
or setgid scripts, or when explicitly turned on with the
&quot;-T&quot; invocation option.) Although its unlikely,
this may cause a previously-working script to now fail --
which should be construed as a blessing, since that
indicates a potentially-serious security hole was just
plugged.</p>

<p>The new restrictions when tainting include:</p>

<p>No glob() or &lt;*&gt; These operators may spawn the C
shell (csh), which cannot be made safe. This restriction
will be lifted in a future version of Perl when globbing is
implemented without the use of an external program.</p>

<p>No spawning if tainted $CDPATH, $ENV, $BASH_ENV These
environment variables may alter the behavior of spawned
programs (especially shells) in ways that subvert security.
So now they are treated as dangerous, in the manner of $IFS
and $PATH.</p>

<p>No spawning if tainted $TERM doesnt look like a terminal
name Some termcap libraries do unsafe things with $TERM.
However, it would be unnecessarily harsh to treat all $TERM
values as unsafe, since only shell metacharacters can cause
trouble in $TERM. So a tainted $TERM is considered to be
safe if it contains only alphanumerics, underscores, dashes,
and colons, and unsafe if it contains other characters
(including whitespace).</p>

<p>New Opcode module and revised Safe module A new Opcode
module supports the creation, manipulation and application
of opcode masks. The revised Safe module has a new API and
is implemented using the new Opcode module. Please read the
new Opcode and Safe documentation.</p>

<p>Embedding improvements In older versions of Perl it was
not possible to create more than one Perl interpreter
instance inside a single process without leaking like a
sieve and/or crashing. The bugs that caused this behavior
have all been fixed. However, you still must take care when
embedding Perl in a C program. See the updated perlembed
manpage for tips on how to manage your interpreters.</p>

<p>Internal change: FileHandle class based on IO::* classes
File handles are now stored internally as type IO::Handle.
The FileHandle module is still supported for backwards
compatibility, but it is now merely a front end to the IO::*
modules -- specifically, IO::Handle, IO::Seekable, and
IO::File. We suggest, but do not require, that you use the
IO::* modules in new code.</p>

<p>In harmony with this change, *GLOB{FILEHANDLE} is now
just a backward- compatible synonym for *GLOB{IO}.</p>

<p>Internal change: PerlIO abstraction interface It is now
possible to build Perl with AT&amp;T s sfio IO package
instead of stdio. See perlapio for more details, and the
INSTALL file for how to use it.</p>

<p>New and changed syntax $coderef-&gt;(PARAMS) A
subroutine reference may now be suffixed with an arrow and a
(possibly empty) parameter list. This syntax denotes a call
of the referenced subroutine, with the given parameters (if
any).</p>

<p>This new syntax follows the pattern of
&quot;$hashref-&gt;{FOO}&quot; and
&quot;$aryref-&gt;[$foo]&quot;: You may now write
&quot;&amp;$subref($foo)&quot; as
&quot;$subref-&gt;($foo)&quot;. All these arrow terms may be
chained; thus, &quot;&amp;{$table-&gt;{FOO}}($bar)&quot; may
now be written &quot;$table-&gt;{FOO}-&gt;($bar)&quot;.</p>

<p>New and changed builtin constants __PACKAGE__ The
current package name at compile time, or the undefined value
if there is no current package (due to a
&quot;package;&quot; directive). Like &quot;__FILE__&quot;
and &quot;__LINE__&quot;, &quot;__PACKAGE__&quot; does not
interpolate into strings.</p>

<p>New and changed builtin variables $^E Extended error
message on some platforms. (Also known as $EXTENDED_OS_ERROR
if you &quot;use English&quot;).</p>

<p>$^H The current set of syntax checks enabled by
&quot;use strict&quot;. See the documentation of
&quot;strict&quot; for more details. Not actually new, but
newly documented. Because it is intended for internal use by
Perl core components, there is no &quot;use English&quot;
long name for this variable.</p>

<p>$^M By default, running out of memory it is not
trappable. However, if compiled for this, Perl may use the
contents of $^M as an emergency pool after die()ing with
this message. Suppose that your Perl were compiled with
-DPERL_EMERGENCY_SBRK and used Perls malloc. Then</p>

<p>$^M = &rsquo;a&rsquo; x (1&lt;&lt;16);</p>

<p>would allocate a 64K buffer for use when in emergency.
See the INSTALL file for information on how to enable this
option. As a disincentive to casual use of this advanced
feature, there is no &quot;use English&quot; long name for
this variable.</p>

<p>New and changed builtin functions delete on slices This
now works. (e.g. &quot;delete @ENV{&rsquo;PATH&rsquo;,
&rsquo;MANPATH&rsquo;}&quot;)</p>

<p>flock is now supported on more platforms, prefers fcntl
to lockf when emulating, and always flushes before
(un)locking.</p>

<p>printf and sprintf Perl now implements these functions
itself; it doesnt use the C library function sprintf() any
more, except for floating-point numbers, and even then only
known flags are allowed. As a result, it is now possible to
know which conversions and flags will work, and what they
will do.</p>

<p>The new conversions in Perls sprintf() are:</p>

<p>%i a synonym for %d %p a pointer (the address of the
Perl value, in hexadecimal) %n special: *stores* the number
of characters output so far into the next variable in the
parameter list</p>

<p>The new flags that go between the &quot;%&quot; and the
conversion are:</p>

<p># prefix octal with &quot;0&quot;, hex with
&quot;0x&quot; h interpret integer as C type
&quot;short&quot; or &quot;unsigned short&quot; V interpret
integer as Perl&rsquo;s standard integer type</p>

<p>Also, where a number would appear in the flags, an
asterisk (&quot;*&quot;) may be used instead, in which case
Perl uses the next item in the parameter list as the given
number (that is, as the field width or precision). If a
field width obtained through &quot;*&quot; is negative, it
has the same effect as the - flag: left-justification.</p>

<p>See &quot;sprintf&quot; in perlfunc for a complete list
of conversion and flags.</p>

<p>keys as an lvalue As an lvalue, &quot;keys&quot; allows
you to increase the number of hash buckets allocated for the
given hash. This can gain you a measure of efficiency if you
know the hash is going to get big. (This is similar to
pre-extending an array by assigning a larger number to
$#array.) If you say</p>

<p>keys %hash = 200;</p>

<p>then %hash will have at least 200 buckets allocated for
it. These buckets will be retained even if you do
&quot;%hash = ()&quot;; use &quot;undef %hash&quot; if you
want to free the storage while %hash is still in scope. You
can t shrink the number of buckets allocated for the hash
using &quot;keys&quot; in this way (but you needn t worry
about doing this by accident, as trying has no effect).</p>

<p>my() in Control Structures You can now use my() (with or
without the parentheses) in the control expressions of
control structures such as:</p>

<p>while (defined(my $line = &lt;&gt;)) { $line = lc $line;
} continue { print $line; }</p>

<p>if ((my $answer = &lt;STDIN&gt;) =~ /^y(es)?$/i) {
user_agrees(); } elsif ($answer =~ /^n(o)?$/i) {
user_disagrees(); } else { chomp $answer; die
&quot;&lsquo;$answer&rsquo; is neither &lsquo;yes&rsquo; nor
&lsquo;no&rsquo;&quot;; }</p>

<p>Also, you can declare a foreach loop control variable as
lexical by preceding it with the word &quot;my&quot;. For
example, in:</p>

<p>foreach my $i (1, 2, 3) { some_function(); }</p>

<p>$i is a lexical variable, and the scope of $i extends to
the end of the loop, but not beyond it.</p>

<p>Note that you still cannot use my() on global
punctuation variables such as $_ and the like.</p>

<p>pack() and unpack() A new format w represents a BER
compressed integer (as defined in ASN.1). Its format is a
sequence of one or more bytes, each of which provides seven
bits of the total value, with the most significant first.
Bit eight of each byte is set, except for the last byte, in
which bit eight is clear.</p>

<p>If p or P are given undef as values, they now generate a
NULL pointer.</p>

<p>Both pack() and unpack() now fail when their templates
contain invalid types. (Invalid types used to be
ignored.)</p>

<p>sysseek() The new sysseek() operator is a variant of
seek() that sets and gets the files system read/write
position, using the lseek(2) system call. It is the only
reliable way to seek before using sysread() or syswrite().
Its return value is the new position, or the undefined value
on failure.</p>

<p>use VERSION If the first argument to &quot;use&quot; is
a number, it is treated as a version number instead of a
module name. If the version of the Perl interpreter is less
than VERSION, then an error message is printed and Perl
exits immediately. Because &quot;use&quot; occurs at compile
time, this check happens immediately during the compilation
process, unlike &quot;require VERSION&quot;, which waits
until runtime for the check. This is often useful if you
need to check the current Perl version before
&quot;use&quot;ing library modules which have changed in
incompatible ways from older versions of Perl. (We try not
to do this more than we have to.)</p>

<p>use Module VERSION LIST If the VERSION argument is
present between Module and LIST, then the &quot;use&quot;
will call the VERSION method in class Module with the given
version as an argument. The default VERSION method,
inherited from the UNIVERSAL class, croaks if the given
version is larger than the value of the variable
$Module::VERSION. (Note that there is not a comma after
VERSION!)</p>

<p>This version-checking mechanism is similar to the one
currently used in the Exporter module, but it is faster and
can be used with modules that don t use the Exporter. It is
the recommended method for new code.</p>

<p>prototype(FUNCTION) Returns the prototype of a function
as a string (or &quot;undef&quot; if the function has no
prototype). FUNCTION is a reference to or the name of the
function whose prototype you want to retrieve. (Not actually
new; just never documented before.)</p>

<p>srand The default seed for &quot;srand&quot;, which used
to be &quot;time&quot;, has been changed. Now its a heady
mix of difficult-to-predict system- dependent values, which
should be sufficient for most everyday purposes.</p>

<p>Previous to version 5.004, calling &quot;rand&quot;
without first calling &quot;srand&quot; would yield the same
sequence of random numbers on most or all machines. Now,
when perl sees that youre calling &quot;rand&quot; and haven
t yet called &quot;srand&quot;, it calls &quot;srand&quot;
with the default seed. You should still call
&quot;srand&quot; manually if your code might ever be run on
a pre-5.004 system, of course, or if you want a seed other
than the default.</p>

<p>$_ as Default Functions documented in the Camel to
default to $_ now in fact do, and all those that do are so
documented in perlfunc.</p>

<p>&quot;m//gc&quot; does not reset search position on
failure The &quot;m//g&quot; match iteration construct has
always reset its target strings search position (which is
visible through the &quot;pos&quot; operator) when a match
fails; as a result, the next &quot;m//g&quot; match after a
failure starts again at the beginning of the string. With
Perl 5.004, this reset may be disabled by adding the
&quot;c&quot; (for &quot;continue&quot;) modifier, i.e.
&quot;m//gc&quot;. This feature, in conjunction with the
&quot;G&quot; zero-width assertion, makes it possible to
chain matches together. See perlop and perlre.</p>

<p>&quot;m//x&quot; ignores whitespace before ?*+{} The
&quot;m//x&quot; construct has always been intended to
ignore all unescaped whitespace. However, before Perl 5.004,
whitespace had the effect of escaping repeat modifiers like
&quot;*&quot; or &quot;?&quot;; for example, &quot;/a
*b/x&quot; was (mis)interpreted as &quot;/a/x&quot;. This
bug has been fixed in 5.004.</p>

<p>nested &quot;sub{}&quot; closures work now Prior to the
5.004 release, nested anonymous functions didnt work right.
They do now.</p>

<p>formats work right on changing lexicals Just like
anonymous functions that contain lexical variables that
change (like a lexical index variable for a
&quot;foreach&quot; loop), formats now work properly. For
example, this silently failed before (printed only zeros),
but is fine now:</p>

<p>my $i; foreach $i ( 1 .. 10 ) { write; } format = my i
is @# $i .</p>

<p>However, it still fails (without a warning) if the
foreach is within a subroutine:</p>

<p>my $i; sub foo { foreach $i ( 1 .. 10 ) { write; } }
foo; format = my i is @# $i .</p>

<p>New builtin methods The &quot;UNIVERSAL&quot; package
automatically contains the following methods that are
inherited by all other classes:</p>

<p>isa(CLASS) &quot;isa&quot; returns true if its object is
blessed into a subclass of &quot;CLASS&quot;</p>

<p>&quot;isa&quot; is also exportable and can be called as
a sub with two arguments. This allows the ability to check
what a reference points to. Example:</p>

<p>use UNIVERSAL qw(isa);</p>

<p>if(isa($ref, &rsquo;ARRAY&rsquo;)) { ... }</p>

<p>can(METHOD) &quot;can&quot; checks to see if its object
has a method called &quot;METHOD&quot;, if it does then a
reference to the sub is returned; if it does not then undef
is returned.</p>

<p>VERSION( [NEED] ) &quot;VERSION&quot; returns the
version number of the class (package). If the NEED argument
is given then it will check that the current version (as
defined by the $VERSION variable in the given package) not
less than NEED; it will die if this is not the case. This
method is normally called as a class method. This method is
called automatically by the &quot;VERSION&quot; form of
&quot;use&quot;.</p>

<p>use A 1.2 qw(some imported subs); # implies:
A-&gt;VERSION(1.2);</p>

<p>NOTE: &quot;can&quot; directly uses Perls internal code
for method lookup, and &quot;isa&quot; uses a very similar
method and caching strategy. This may cause strange effects
if the Perl code dynamically changes @ISA in any
package.</p>

<p>You may add other methods to the UNIVERSAL class via
Perl or XS code. You do not need to &quot;use
UNIVERSAL&quot; in order to make these methods available to
your program. This is necessary only if you wish to have
&quot;isa&quot; available as a plain subroutine in the
current package.</p>

<p>TIEHANDLE now supported See perltie for other kinds of
tie()s.</p>

<p>TIEHANDLE classname, LIST This is the constructor for
the class. That means it is expected to return an object of
some sort. The reference can be used to hold some internal
information.</p>

<p>sub TIEHANDLE { print &quot;&lt;shout&gt;0; my $i;
return bless , shift; }</p>

<p>PRINT this, LIST This method will be triggered every
time the tied handle is printed to. Beyond its self
reference it also expects the list that was passed to the
print function.</p>

<p>sub PRINT { $r = shift; $$r++; return print join( $,
=&gt; map {uc} @_), $; }</p>

<p>PRINTF this, LIST This method will be triggered every
time the tied handle is printed to with the
&quot;printf()&quot; function. Beyond its self reference it
also expects the format and list that was passed to the
printf function.</p>

<p>sub PRINTF { shift; my $fmt = shift; print sprintf($fmt,
@_).&quot;0; }</p>

<p>READ this LIST This method will be called when the
handle is read from via the &quot;read&quot; or
&quot;sysread&quot; functions.</p>

<p>sub READ { $r = shift; my($buf,$len,$offset) = @_; print
&quot;READ called, uf=$buf, en=$len, ffset=$offset&quot;;
}</p>

<p>READLINE this This method will be called when the handle
is read from. The method should return undef when there is
no more data.</p>

<p>sub READLINE { $r = shift; return &quot;PRINT called $$r
times0 }</p>

<p>GETC this This method will be called when the
&quot;getc&quot; function is called.</p>

<p>sub GETC { print &quot;Don&rsquo;t GETC, Get Perl&quot;;
return &quot;a&quot;; }</p>

<p>DESTROY this As with the other types of ties, this
method will be called when the tied handle is about to be
destroyed. This is useful for debugging and possibly for
cleaning up.</p>

<p>sub DESTROY { print &quot;&lt;/shout&gt;0; }</p>

<p>Malloc enhancements If perl is compiled with the malloc
included with the perl distribution (that is, if &quot;perl
-V:d_mymalloc&quot; is define) then you can print memory
statistics at runtime by running Perl thusly:</p>

<p>env PERL_DEBUG_MSTATS=2 perl your_script_here</p>

<p>The value of 2 means to print statistics after
compilation and on exit; with a value of 1, the statistics
are printed only on exit. (If you want the statistics at an
arbitrary time, youll need to install the optional module
Devel::Peek.)</p>

<p>Three new compilation flags are recognized by malloc.c.
(They have no effect if perl is compiled with system
malloc().)</p>

<p>-DPERL_EMERGENCY_SBRK If this macro is defined, running
out of memory need not be a fatal error: a memory pool can
allocated by assigning to the special variable $^M. See
&quot;$^M&quot;.</p>

<p>-DPACK_MALLOC Perl memory allocation is by bucket with
sizes close to powers of two. Because of these malloc
overhead may be big, especially for data of size exactly a
power of two. If &quot;PACK_MALLOC&quot; is defined, perl
uses a slightly different algorithm for small allocations
(up to 64 bytes long), which makes it possible to have
overhead down to 1 byte for allocations which are powers of
two (and appear quite often).</p>

<p>Expected memory savings (with 8-byte alignment in
&quot;alignbytes&quot;) is about 20% for typical Perl usage.
Expected slowdown due to additional malloc overhead is in
fractions of a percent (hard to measure, because of the
effect of saved memory on speed).</p>

<p>-DTWO_POT_OPTIMIZE Similarly to &quot;PACK_MALLOC&quot;,
this macro improves allocations of data with size close to a
power of two; but this works for big allocations (starting
with 16K by default). Such allocations are typical for big
hashes and special-purpose scripts, especially image
processing.</p>

<p>On recent systems, the fact that perl requires 2M from
system for 1M allocation will not affect speed of execution,
since the tail of such a chunk is not going to be touched
(and thus will not require real memory). However, it may
result in a premature out-of-memory error. So if you will be
manipulating very large blocks with sizes close to powers of
two, it would be wise to define this macro.</p>

<p>Expected saving of memory is 0-100% (100% in
applications which require most memory in such 2**n chunks);
expected slowdown is negligible.</p>

<p>Miscellaneous efficiency enhancements Functions that
have an empty prototype and that do nothing but return a
fixed value are now inlined (e.g. &quot;sub PI () { 3.14159
}&quot;).</p>

<p>Each unique hash key is only allocated once, no matter
how many hashes have an entry with that key. So even if you
have 100 copies of the same hash, the hash keys never have
to be reallocated.</p>

<p>Support for More Operating Systems Support for the
following operating systems is new in Perl 5.004.</p>

<p>Win32 Perl 5.004 now includes support for building a
&quot;native&quot; perl under Windows NT, using the
Microsoft Visual C++ compiler (versions 2.0 and above) or
the Borland C++ compiler (versions 5.02 and above). The
resulting perl can be used under Windows 95 (if it is
installed in the same directory locations as it got
installed in Windows NT). This port includes support for
perl extension building tools like MakeMaker and h2xs, so
that many extensions available on the Comprehensive Perl
Archive Network (CPAN) can now be readily built under
Windows NT. See http://www.perl.com/ for more information on
CPAN and README.win32 in the perl distribution for more
details on how to get started with building this port.</p>

<p>There is also support for building perl under the
Cygwin32 environment. Cygwin32 is a set of GNU tools that
make it possible to compile and run many Unix programs under
Windows NT by providing a mostly Unix-like interface for
compilation and execution. See README.cygwin32 in the perl
distribution for more details on this port and how to obtain
the Cygwin32 toolkit.</p>

<p>Plan 9 See README.plan9 in the perl distribution.</p>

<p>QNX See README.qnx in the perl distribution.</p>

<p>AmigaOS See README.amigaos in the perl distribution.</p>

<p>Pragmata Six new pragmatic modules exist:</p>

<p>use autouse MODULE =&gt; qw(sub1 sub2 sub3) Defers
&quot;require MODULE&quot; until someone calls one of the
specified subroutines (which must be exported by MODULE).
This pragma should be used with caution, and only when
necessary.</p>

<p>use blib use blib dir Looks for MakeMaker-like _blib_
directory structure starting in dir (or current directory)
and working back up to five levels of parent
directories.</p>

<p>Intended for use on command line with -M option as a way
of testing arbitrary scripts against an uninstalled version
of a package.</p>

<p>use constant NAME =&gt; VALUE Provides a convenient
interface for creating compile-time constants, See
&quot;Constant Functions&quot; in perlsub.</p>

<p>use locale Tells the compiler to enable (or disable) the
use of POSIX locales for builtin operations.</p>

<p>When &quot;use locale&quot; is in effect, the current
LC_CTYPE locale is used for regular expressions and case
mapping; LC_COLLATE for string ordering; and LC_NUMERIC for
numeric formatting in printf and sprintf (but not in print).
LC_NUMERIC is always used in write, since lexical scoping of
formats is problematic at best.</p>

<p>Each &quot;use locale&quot; or &quot;no locale&quot;
affects statements to the end of the enclosing BLOCK or, if
not inside a BLOCK, to the end of the current file. Locales
can be switched and queried with POSIX::setlocale().</p>

<p>See perllocale for more information.</p>

<p>use ops Disable unsafe opcodes, or any named opcodes,
when compiling Perl code.</p>

<p>use vmsish Enable VMS-specific language features.
Currently, there are three VMS-specific features available:
status, which makes $? and &quot;system&quot; return genuine
VMS status values instead of emulating POSIX; exit , which
makes &quot;exit&quot; take a genuine VMS status value
instead of assuming that &quot;exit 1&quot; is an error; and
time, which makes all times relative to the local time zone,
in the VMS tradition.</p>

<p>Modules Required Updates Though Perl 5.004 is compatible
with almost all modules that work with Perl 5.003, there are
a few exceptions:</p>

<p>Module Required Version for Perl 5.004 ------
------------------------------- Filter Filter-1.12 LWP
libwww-perl-5.08 Tk Tk400.202 (-w makes noise)</p>

<p>Also, the majordomo mailing list program, version
1.94.1, doesnt work with Perl 5.004 (nor with perl 4),
because it executes an invalid regular expression. This bug
is fixed in majordomo version 1.94.2.</p>

<p>Installation directories The installperl script now
places the Perl source files for extensions in the
architecture-specific library directory, which is where the
shared libraries for extensions have always been. This
change is intended to allow administrators to keep the Perl
5.004 library directory unchanged from a previous version,
without running the risk of binary incompatibility between
extensions Perl source and shared libraries.</p>

<p>Module information summary Brand new modules, arranged
by topic rather than strictly alphabetically:</p>

<p>CGI.pm Web server interface (&quot;Common Gateway
Interface&quot;) CGI/Apache.pm Support for Apache&rsquo;s
Perl module CGI/Carp.pm Log server errors with helpful
context CGI/Fast.pm Support for FastCGI (persistent server
process) CGI/Push.pm Support for server push CGI/Switch.pm
Simple interface for multiple server types</p>

<p>CPAN Interface to Comprehensive Perl Archive Network
CPAN::FirstTime Utility for creating CPAN configuration file
CPAN::Nox Runs CPAN while avoiding compiled extensions</p>

<p>IO.pm Top-level interface to IO::* classes IO/File.pm
IO::File extension Perl module IO/Handle.pm IO::Handle
extension Perl module IO/Pipe.pm IO::Pipe extension Perl
module IO/Seekable.pm IO::Seekable extension Perl module
IO/Select.pm IO::Select extension Perl module IO/Socket.pm
IO::Socket extension Perl module</p>

<p>Opcode.pm Disable named opcodes when compiling Perl
code</p>

<p>ExtUtils/Embed.pm Utilities for embedding Perl in C
programs ExtUtils/testlib.pm Fixes up @INC to use just-built
extension</p>

<p>FindBin.pm Find path of currently executing program</p>

<p>Class/Struct.pm Declare struct-like datatypes as Perl
classes File/stat.pm By-name interface to Perl&rsquo;s
builtin stat Net/hostent.pm By-name interface to
Perl&rsquo;s builtin gethost* Net/netent.pm By-name
interface to Perl&rsquo;s builtin getnet* Net/protoent.pm
By-name interface to Perl&rsquo;s builtin getproto*
Net/servent.pm By-name interface to Perl&rsquo;s builtin
getserv* Time/gmtime.pm By-name interface to Perl&rsquo;s
builtin gmtime Time/localtime.pm By-name interface to
Perl&rsquo;s builtin localtime Time/tm.pm Internal object
for Time::{gm,local}time User/grent.pm By-name interface to
Perl&rsquo;s builtin getgr* User/pwent.pm By-name interface
to Perl&rsquo;s builtin getpw*</p>

<p>Tie/RefHash.pm Base class for tied hashes with
references as keys</p>

<p>UNIVERSAL.pm Base class for *ALL* classes</p>

<p>Fcntl New constants in the existing Fcntl modules are
now supported, provided that your operating system happens
to support them:</p>

<p>F_GETOWN F_SETOWN O_ASYNC O_DEFER O_DSYNC O_FSYNC O_SYNC
O_EXLOCK O_SHLOCK</p>

<p>These constants are intended for use with the Perl
operators sysopen() and fcntl() and the basic database
modules like SDBM_File. For the exact meaning of these and
other Fcntl constants please refer to your operating systems
documentation for fcntl() and open().</p>

<p>In addition, the Fcntl module now provides these
constants for use with the Perl operator flock():</p>

<p>LOCK_SH LOCK_EX LOCK_NB LOCK_UN</p>

<p>These constants are defined in all environments (because
where there is no flock() system call, Perl emulates it).
However, for historical reasons, these constants are not
exported unless they are explicitly requested with the
&quot;:flock&quot; tag (e.g. &quot;use Fcntl
&rsquo;:flock&rsquo;&quot;).</p>

<p>IO The IO module provides a simple mechanism to load all
the IO modules at one go. Currently this includes:</p>

<p>IO::Handle IO::Seekable IO::File IO::Pipe IO::Socket</p>

<p>For more information on any of these modules, please see
its respective documentation.</p>

<p>Math::Complex The Math::Complex module has been totally
rewritten, and now supports more operations. These are
overloaded:</p>

<p>+ - * / ** &lt;=&gt; neg ~ abs sqrt exp log sin cos
atan2 &quot;&quot; (stringify)</p>

<p>And these functions are now exported:</p>

<p>pi i Re Im arg log10 logn ln cbrt root tan csc sec cot
asin acos atan acsc asec acot sinh cosh tanh csch sech coth
asinh acosh atanh acsch asech acoth cplx cplxe</p>

<p>Math::Trig This new module provides a simpler interface
to parts of Math::Complex for those who need trigonometric
functions only for real numbers.</p>

<p>DB_File There have been quite a few changes made to
DB_File. Here are a few of the highlights:</p>

<p>&middot; Fixed a handful of bugs.</p>

<p>&middot; By public demand, added support for the
standard hash function exists().</p>

<p>&middot; Made it compatible with Berkeley DB 1.86.</p>

<p>&middot; Made negative subscripts work with RECNO
interface.</p>

<p>&middot; Changed the default flags from O_RDWR to
O_CREAT|O_RDWR and the default mode from 0640 to 0666.</p>

<p>&middot; Made DB_File automatically import the open()
constants (O_RDWR, O_CREAT etc.) from Fcntl, if
available.</p>

<p>&middot; Updated documentation.</p>

<p>Refer to the HISTORY section in DB_File.pm for a
complete list of changes. Everything after DB_File 1.01 has
been added since 5.003.</p>

<p>Net::Ping Major rewrite - support added for both udp
echo and real icmp pings.</p>

<p>Object-oriented overrides for builtin operators Many of
the Perl builtins returning lists now have object-oriented
overrides. These are:</p>

<p>File::stat Net::hostent Net::netent Net::protoent
Net::servent Time::gmtime Time::localtime User::grent
User::pwent</p>

<p>For example, you can now say</p>

<p>use File::stat; use User::pwent; $his =
(stat($filename)-&gt;st_uid ==
pwent($whoever)-&gt;pw_uid);</p>

<p>Utility Changes pod2html Sends converted HTML to
standard output The pod2html utility included with Perl
5.004 is entirely new. By default, it sends the converted
HTML to its standard output, instead of writing it to a file
like Perl 5.003s pod2html did. Use the --outfile=FILENAME
option to write to a file.</p>

<p>xsubpp &quot;void&quot; XSUBs now default to returning
nothing Due to a documentation/implementation bug in
previous versions of Perl, XSUBs with a return type of
&quot;void&quot; have actually been returning one value.
Usually that value was the GV for the XSUB, but sometimes it
was some already freed or reused value, which would
sometimes lead to program failure.</p>

<p>In Perl 5.004, if an XSUB is declared as returning
&quot;void&quot;, it actually returns no value, i.e. an
empty list (though there is a backward-compatibility
exception; see below). If your XSUB really does return an
SV, you should give it a return type of &quot;SV
*&quot;.</p>

<p>For backward compatibility, xsubpp tries to guess
whether a &quot;void&quot; XSUB is really &quot;void&quot;
or if it wants to return an &quot;SV *&quot;. It does so by
examining the text of the XSUB: if xsubpp finds what looks
like an assignment to ST(0), it assumes that the XSUBs
return type is really &quot;SV *&quot;.</p>

<p>C Language API Changes &quot;gv_fetchmethod&quot; and
&quot;perl_call_sv&quot; The &quot;gv_fetchmethod&quot;
function finds a method for an object, just like in Perl
5.003. The GV it returns may be a method cache entry.
However, in Perl 5.004, method cache entries are not visible
to users; therefore, they can no longer be passed directly
to &quot;perl_call_sv&quot;. Instead, you should use the
&quot;GvCV&quot; macro on the GV to extract its CV, and pass
the CV to &quot;perl_call_sv&quot;.</p>

<p>The most likely symptom of passing the result of
&quot;gv_fetchmethod&quot; to &quot;perl_call_sv&quot; is
Perl s producing an &quot;Undefined subroutine called&quot;
error on the second call to a given method (since there is
no cache on the first call).</p>

<p>&quot;perl_eval_pv&quot; A new function handy for
evaling strings of Perl code inside C code. This function
returns the value from the eval statement, which can be used
instead of fetching globals from the symbol table. See
perlguts, perlembed and perlcall for details and
examples.</p>

<p>Extended API for manipulating hashes Internal handling
of hash keys has changed. The old hashtable API is still
fully supported, and will likely remain so. The additions to
the API allow passing keys as &quot;SV*&quot;s, so that
&quot;tied&quot; hashes can be given real scalars as keys
rather than plain strings (nontied hashes still can only use
strings as keys). New extensions must use the new hash
access functions and macros if they wish to use
&quot;SV*&quot; keys. These additions also make it feasible
to manipulate &quot;HE*&quot;s (hash entries), which can be
more efficient. See perlguts for details.</p>

<p>Documentation Changes Many of the base and library pods
were updated. These new pods are included in section 1:</p>

<p>perldelta This document.</p>

<p>perlfaq Frequently asked questions.</p>

<p>perllocale Locale support (internationalization and
localization).</p>

<p>perltoot Tutorial on Perl OO programming.</p>

<p>perlapio Perl internal IO abstraction interface.</p>

<p>perlmodlib Perl module library and recommended practice
for module creation. Extracted from perlmod (which is much
smaller as a result).</p>

<p>perldebug Although not new, this has been massively
updated.</p>

<p>perlsec Although not new, this has been massively
updated.</p>

<p>New Diagnostics Several new conditions will trigger
warnings that were silent before. Some only affect certain
platforms. The following new warnings and errors outline
these. These messages are classified as follows (listed in
increasing order of desperation):</p>

<p>(W) A warning (optional). (D) A deprecation (optional).
(S) A severe warning (mandatory). (F) A fatal error
(trappable). (P) An internal error you should never see
(trappable). (X) A very fatal error (nontrappable). (A) An
alien error message (not generated by Perl).</p>

<p>&quot;my&quot; variable %s masks earlier declaration in
same scope (W) A lexical variable has been redeclared in the
same scope, effectively eliminating all access to the
previous instance. This is almost always a typographical
error. Note that the earlier variable will still exist until
the end of the scope or until all closure referents to it
are destroyed.</p>

<p>%s argument is not a HASH element or slice (F) The
argument to delete() must be either a hash element, such
as</p>

<p>$foo{$bar} $ref-&gt;[12]-&gt;{&quot;susie&quot;}</p>

<p>or a hash slice, such as</p>

<p>@foo{$bar, $baz, $xyzzy}
@{$ref-&gt;[12]}{&quot;susie&quot;, &quot;queue&quot;}</p>

<p>Allocation too large: %lx (X) You can t allocate more
than 64K on an MS-DOS machine.</p>

<p>Allocation too large (F) You cant allocate more than
2^31+&quot;small amount&quot; bytes.</p>

<p>Applying %s to %s will act on scalar(%s) (W) The pattern
match (//), substitution (s///), and transliteration (tr///)
operators work on scalar values. If you apply one of them to
an array or a hash, it will convert the array or hash to a
scalar value -- the length of an array, or the population
info of a hash -- and then work on that scalar value. This
is probably not what you meant to do. See &quot;grep&quot;
in perlfunc and &quot;map&quot; in perlfunc for
alternatives.</p>

<p>Attempt to free nonexistent shared string (P) Perl
maintains a reference counted internal table of strings to
optimize the storage and access of hash keys and other
strings. This indicates someone tried to decrement the
reference count of a string that can no longer be found in
the table.</p>

<p>Attempt to use reference as lvalue in substr (W) You
supplied a reference as the first argument to substr() used
as an lvalue, which is pretty strange. Perhaps you forgot to
dereference it first. See &quot;substr&quot; in
perlfunc.</p>

<p>Bareword &quot;%s&quot; refers to nonexistent package
(W) You used a qualified bareword of the form
&quot;Foo::&quot;, but the compiler saw no other uses of
that namespace before that point. Perhaps you need to
predeclare a package?</p>

<p>Cant redefine active sort subroutine %s (F) Perl
optimizes the internal handling of sort subroutines and
keeps pointers into them. You tried to redefine one such
sort subroutine when it was currently active, which is not
allowed. If you really want to do this, you should write
&quot;sort { &amp;func } @x&quot; instead of &quot;sort func
@x&quot;.</p>

<p>Can t use bareword (&quot;%s&quot;) as %s ref while
&quot;strict refs&quot; in use (F) Only hard references are
allowed by &quot;strict refs&quot;. Symbolic references are
disallowed. See perlref.</p>

<p>Cannot resolve method %s overloading %s in package %s
(P) Internal error trying to resolve overloading specified
by a method name (as opposed to a subroutine reference).</p>

<p>Constant subroutine %s redefined (S) You redefined a
subroutine which had previously been eligible for inlining.
See &quot;Constant Functions&quot; in perlsub for commentary
and workarounds.</p>

<p>Constant subroutine %s undefined (S) You undefined a
subroutine which had previously been eligible for inlining.
See &quot;Constant Functions&quot; in perlsub for commentary
and workarounds.</p>

<p>Copy method did not return a reference (F) The method
which overloads &quot;=&quot; is buggy. See &quot;Copy
Constructor&quot; in overload.</p>

<p>Died (F) You passed die() an empty string (the
equivalent of &quot;die &quot;&quot;&quot;) or you called it
with no args and both $@ and $_ were empty.</p>

<p>Exiting pseudo-block via %s (W) You are exiting a rather
special block construct (like a sort block or subroutine) by
unconventional means, such as a goto, or a loop control
statement. See &quot;sort&quot; in perlfunc.</p>

<p>Identifier too long (F) Perl limits identifiers (names
for variables, functions, etc.) to 252 characters for simple
names, somewhat more for compound names (like $A::B). You ve
exceeded Perls limits. Future versions of Perl are likely to
eliminate these arbitrary limitations.</p>

<p>Illegal character %s (carriage return) (F) A carriage
return character was found in the input. This is an error,
and not a warning, because carriage return characters can
break multi-line strings, including here documents (e.g.,
&quot;print &lt;&lt;EOF;&quot;).</p>

<p>Illegal switch in PERL5OPT: %s (X) The PERL5OPT
environment variable may only be used to set the following
switches: -[DIMUdmw].</p>

<p>Integer overflow in hex number (S) The literal hex
number you have specified is too big for your architecture.
On a 32-bit architecture the largest hex literal is
0xFFFFFFFF.</p>

<p>Integer overflow in octal number (S) The literal octal
number you have specified is too big for your architecture.
On a 32-bit architecture the largest octal literal is
037777777777.</p>

<p>internal error: glob failed (P) Something went wrong
with the external program(s) used for &quot;glob&quot; and
&quot;&lt;*.c&gt;&quot;. This may mean that your csh (C
shell) is broken. If so, you should change all of the
csh-related variables in config.sh: If you have tcsh, make
the variables refer to it as if it were csh (e.g.
&quot;full_csh=&rsquo;/usr/bin/tcsh&rsquo;&quot;);
otherwise, make them all empty (except that
&quot;d_csh&quot; should be &rsquo;undef&rsquo;) so that
Perl will think csh is missing. In either case, after
editing config.sh, run &quot;./Configure -S&quot; and
rebuild Perl.</p>

<p>Invalid conversion in %s: &quot;%s&quot; (W) Perl does
not understand the given format conversion. See
&quot;sprintf&quot; in perlfunc.</p>

<p>Invalid type in pack: %s (F) The given character is not
a valid pack type. See &quot;pack&quot; in perlfunc.</p>

<p>Invalid type in unpack: %s (F) The given character is
not a valid unpack type. See &quot;unpack&quot; in
perlfunc.</p>

<p>Name &quot;%s::%s&quot; used only once: possible typo
(W) Typographical errors often show up as unique variable
names. If you had a good reason for having a unique name,
then just mention it again somehow to suppress the message
(the &quot;use vars&quot; pragma is provided for just this
purpose).</p>

<p>Null picture in formline (F) The first argument to
formline must be a valid format picture specification. It
was found to be empty, which probably means you supplied it
an uninitialized value. See perlform.</p>

<p>Offset outside string (F) You tried to do a
read/write/send/recv operation with an offset pointing
outside the buffer. This is difficult to imagine. The sole
exception to this is that &quot;sysread()&quot;ing past the
buffer will extend the buffer and zero pad the new area.</p>

<p>Out of memory! (X|F) The malloc() function returned 0,
indicating there was insufficient remaining memory (or
virtual memory) to satisfy the request.</p>

<p>The request was judged to be small, so the possibility
to trap it depends on the way Perl was compiled. By default
it is not trappable. However, if compiled for this, Perl may
use the contents of $^M as an emergency pool after die()ing
with this message. In this case the error is trappable
once.</p>

<p>Out of memory during request for %s (F) The malloc()
function returned 0, indicating there was insufficient
remaining memory (or virtual memory) to satisfy the request.
However, the request was judged large enough (compile-time
default is 64K), so a possibility to shut down by trapping
this error is granted.</p>

<p>panic: frexp (P) The library function frexp() failed,
making printf(&quot;%f&quot;) impossible.</p>

<p>Possible attempt to put comments in qw() list (W) qw()
lists contain items separated by whitespace; as with literal
strings, comment characters are not ignored, but are instead
treated as literal data. (You may have used different
delimiters than the parentheses shown here; braces are also
frequently used.)</p>

<p>You probably wrote something like this:</p>

<p>@list = qw( a # a comment b # another comment );</p>

<p>when you should have written this:</p>

<p>@list = qw( a b );</p>

<p>If you really want comments, build your list the
old-fashioned way, with quotes and commas:</p>

<p>@list = ( &rsquo;a&rsquo;, # a comment &rsquo;b&rsquo;,
# another comment );</p>

<p>Possible attempt to separate words with commas (W) qw()
lists contain items separated by whitespace; therefore
commas arent needed to separate the items. (You may have
used different delimiters than the parentheses shown here;
braces are also frequently used.)</p>

<p>You probably wrote something like this:</p>

<p>qw! a, b, c !;</p>

<p>which puts literal commas into some of the list items.
Write it without commas if you dont want them to appear in
your data:</p>

<p>qw! a b c !;</p>

<p>Scalar value @%s{%s} better written as $%s{%s} (W) Youve
used a hash slice (indicated by @) to select a single
element of a hash. Generally its better to ask for a scalar
value (indicated by $). The difference is that
$foo{&amp;bar} always behaves like a scalar, both when
assigning to it and when evaluating its argument, while
@foo{&amp;bar} behaves like a list when you assign to it,
and provides a list context to its subscript, which can do
weird things if youre expecting only one subscript.</p>

<p>Stub found while resolving method %s overloading %s in
%s (P) Overloading resolution over @ISA tree may be broken
by importing stubs. Stubs should never be implicitly
created, but explicit calls to &quot;can&quot; may break
this.</p>

<p>Too late for &quot;-T&quot; option (X) The #! line (or
local equivalent) in a Perl script contains the -T option,
but Perl was not invoked with -T in its argument list. This
is an error because, by the time Perl discovers a -T in a
script, its too late to properly taint everything from the
environment. So Perl gives up.</p>

<p>untie attempted while %d inner references still exist
(W) A copy of the object returned from &quot;tie&quot; (or
&quot;tied&quot;) was still valid when &quot;untie&quot; was
called.</p>

<p>Unrecognized character %s (F) The Perl parser has no
idea what to do with the specified character in your Perl
script (or eval). Perhaps you tried to run a compressed
script, a binary program, or a directory as a Perl
program.</p>

<p>Unsupported function fork (F) Your version of executable
does not support forking.</p>

<p>Note that under some systems, like OS/2, there may be
different flavors of Perl executables, some of which may
support fork, some not. Try changing the name you call Perl
by to &quot;perl_&quot;, &quot;perl__&quot;, and so on.</p>

<p>Use of &quot;$$&lt;digit&gt;&quot; to mean
&quot;${$}&lt;digit&gt;&quot; is deprecated (D) Perl
versions before 5.004 misinterpreted any type marker
followed by &quot;$&quot; and a digit. For example,
&quot;$$0&quot; was incorrectly taken to mean
&quot;${$}0&quot; instead of &quot;${$0}&quot;. This bug is
(mostly) fixed in Perl 5.004.</p>

<p>However, the developers of Perl 5.004 could not fix this
bug completely, because at least two widely-used modules
depend on the old meaning of &quot;$$0&quot; in a string. So
Perl 5.004 still interprets &quot;$$&lt;digit&gt;&quot; in
the old (broken) way inside strings; but it generates this
message as a warning. And in Perl 5.005, this special
treatment will cease.</p>

<p>Value of %s can be &quot;0&quot;; test with defined()
(W) In a conditional expression, you used &lt;HANDLE&gt;,
&lt;*&gt; (glob), &quot;each()&quot;, or
&quot;readdir()&quot; as a boolean value. Each of these
constructs can return a value of &quot;0&quot;; that would
make the conditional expression false, which is probably not
what you intended. When using these constructs in
conditional expressions, test their values with the
&quot;defined&quot; operator.</p>

<p>Variable &quot;%s&quot; may be unavailable (W) An inner
(nested) anonymous subroutine is inside a named subroutine,
and outside that is another subroutine; and the anonymous
(innermost) subroutine is referencing a lexical variable
defined in the outermost subroutine. For example:</p>

<p>sub outermost { my $a; sub middle { sub { $a } } }</p>

<p>If the anonymous subroutine is called or referenced
(directly or indirectly) from the outermost subroutine, it
will share the variable as you would expect. But if the
anonymous subroutine is called or referenced when the
outermost subroutine is not active, it will see the value of
the shared variable as it was before and during the *first*
call to the outermost subroutine, which is probably not what
you want.</p>

<p>In these circumstances, it is usually best to make the
middle subroutine anonymous, using the &quot;sub {}&quot;
syntax. Perl has specific support for shared variables in
nested anonymous subroutines; a named subroutine in between
interferes with this feature.</p>

<p>Variable &quot;%s&quot; will not stay shared (W) An
inner (nested) named subroutine is referencing a lexical
variable defined in an outer subroutine.</p>

<p>When the inner subroutine is called, it will probably
see the value of the outer subroutines variable as it was
before and during the *first* call to the outer subroutine;
in this case, after the first call to the outer subroutine
is complete, the inner and outer subroutines will no longer
share a common value for the variable. In other words, the
variable will no longer be shared.</p>

<p>Furthermore, if the outer subroutine is anonymous and
references a lexical variable outside itself, then the outer
and inner subroutines will never share the given
variable.</p>

<p>This problem can usually be solved by making the inner
subroutine anonymous, using the &quot;sub {}&quot; syntax.
When inner anonymous subs that reference variables in outer
subroutines are called or referenced, they are automatically
rebound to the current values of such variables.</p>

<p>Warning: somethings wrong (W) You passed warn() an empty
string (the equivalent of &quot;warn &quot;&quot;&quot;) or
you called it with no args and $_ was empty.</p>

<p>Ill-formed logical name |%s| in prime_env_iter (W) A
warning peculiar to VMS. A logical name was encountered when
preparing to iterate over %ENV which violates the syntactic
rules governing logical names. Since it cannot be translated
normally, it is skipped, and will not appear in %ENV. This
may be a benign occurrence, as some software packages might
directly modify logical name tables and introduce
nonstandard names, or it may indicate that a logical name
table has been corrupted.</p>

<p>Got an error from DosAllocMem (P) An error peculiar to
OS/2. Most probably you re using an obsolete version of
Perl, and this should not happen anyway.</p>

<p>Malformed PERLLIB_PREFIX (F) An error peculiar to OS/2.
PERLLIB_PREFIX should be of the form</p>

<p>prefix1;prefix2</p>

<p>or</p>

<p>prefix1 prefix2</p>

<p>with nonempty prefix1 and prefix2. If
&quot;prefix1&quot; is indeed a prefix of a builtin library
search path, prefix2 is substituted. The error may appear if
components are not found, or are too long. See
&quot;PERLLIB_PREFIX&quot; in README.os2.</p>

<p>PERL_SH_DIR too long (F) An error peculiar to OS/2.
PERL_SH_DIR is the directory to find the
&quot;sh&quot;-shell in. See &quot;PERL_SH_DIR&quot; in
README.os2.</p>

<p>Process terminated by SIG%s (W) This is a standard
message issued by OS/2 applications, while *nix applications
die in silence. It is considered a feature of the OS/2 port.
One can easily disable this by appropriate sighandlers, see
&quot;Signals&quot; in perlipc. See also &quot;Process
terminated by SIGTERM/SIGINT&quot; in README.os2.</p>

<p>BUGS If you find what you think is a bug, you might
check the headers of recently posted articles in the
comp.lang.perl.misc newsgroup. There may also be information
at http://www.perl.com/perl/ , the Perl Home Page.</p>

<p>If you believe you have an unreported bug, please run
the perlbug program included with your release. Make sure
you trim your bug down to a tiny but sufficient test case.
Your bug report, along with the output of &quot;perl
-V&quot;, will be sent off to &lt;perlbug@perl.com&gt; to be
analysed by the Perl porting team.</p>

<p>SEE ALSO The Changes file for exhaustive details on what
changed.</p>

<p>The INSTALL file for how to build Perl. This file has
been significantly updated for 5.004, so even veteran users
should look through it.</p>

<p>The README file for general stuff.</p>

<p>The Copying file for copyright information.</p>

<p>HISTORY Constructed by Tom Christiansen, grabbing
material with permission from innumerable contributors, with
kibitzing by more than a few Perl porters.</p>

<p>Last update: Wed May 14 11:14:09 EDT 1997</p>

<p>perl v5.10.1 2009-02-12 PERL5004DELTA(1)</p>
<hr>
</body>
</html>
