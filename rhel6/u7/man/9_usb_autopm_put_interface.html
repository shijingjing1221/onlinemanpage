<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Sat Nov 12 06:43:28 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>USB_AUTOPM_PUT_INTER(9) USB Core APIs
USB_AUTOPM_PUT_INTER(9)</p>

<p>NAME usb_autopm_put_interface - decrement a USB
interface&acute;s PM-usage counter</p>

<p>SYNOPSIS void usb_autopm_put_interface(struct
usb_interface * intf);</p>

<p>ARGUMENTS intf the usb_interface whose counter should be
decremented</p>

<p>DESCRIPTION This routine should be called by an
interface driver when it is finished using intf and wants to
allow it to autosuspend. A typical example would be a
character-device driver when its device file is closed.</p>

<p>The routine decrements intf&acute;s usage counter. When
the counter reaches 0, a delayed autosuspend request for
intf&acute;s device is queued. When the delay expires, if
intf-&gt;pm_usage_cnt is still &lt;= 0 along with all the
other usage counters for the sibling interfaces and
intf&acute;s usb_device, the device and all its interfaces
will be autosuspended.</p>

<p>Note that intf-&gt;pm_usage_cnt is owned by the
interface driver. The core will not change its value other
than the increment and decrement in usb_autopm_get_interface
and usb_autopm_put_interface. The driver may use this simple
counter-oriented discipline or may set the value any way it
likes.</p>

<p>If the driver has set intf-&gt;needs_remote_wakeup then
autosuspend will take place only if the device&acute;s
remote-wakeup facility is enabled.</p>

<p>Suspend method calls queued by this routine can arrive
at any time while intf is resumed and its usage counter is
equal to 0. They are not protected by the usb_device&acute;s
lock but only by its pm_mutex. Drivers must provide their
own synchronization.</p>

<p>This routine can run only in process context.</p>

<p>COPYRIGHT Kernel Hackers Manual 2.6. July 2015
USB_AUTOPM_PUT_INTER(9)</p>
<hr>
</body>
</html>
