<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 01:05:05 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>mgetty</title>

</head>
<body>

<h1 align="center">mgetty</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#FILES">FILES</a><br>
<a href="#DIAGNOSTICS">DIAGNOSTICS</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">mgetty &minus;
smart modem getty</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>mgetty</b>
[<b>options</b>] ttydevice [<i>gettydefs</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Mgetty is a
&lsquo;&lsquo;smart&rsquo;&rsquo; getty replacement,
designed for use with Hayes compatible data and data/fax
modems. Mgetty knows about modem initialization, manual
modem answering (so your modem doesn&rsquo;t answer if the
machine isn&rsquo;t ready), UUCP locking (so you can use the
same device for dial-in and dial-out). Mgetty provides very
extensive logging facilities.</p>

<p style="margin-left:11%; margin-top: 1em">This manpage
doesn&rsquo;t try to detail mgetty setup in detail, it just
lists the most important options. For detailed instructions,
see the info file mgetty.info (mgetty.texi).</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>-k
&lt;space&gt;</b></p>

<p style="margin-left:22%;">Tells <i>mgetty</i> to leave
&lt;space&gt; kbytes free on disk when receiving a fax.</p>

<p style="margin-left:11%;"><b>-x &lt;debug
level&gt;</b></p>

<p style="margin-left:22%;">Use the given level of
verbosity for logging - 0 means no logging, 9 is really
noisy. The log file is usually
/tmp/log_mg.&lt;device&gt;</p>

<p style="margin-left:11%;"><b>-s &lt;speed&gt;</b></p>

<p style="margin-left:22%;">Set the port speed to use, e.g.
&quot;-s 19200&quot;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-r</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Tells <i>mgetty</i> that it is running on a direct line.
UUCP locking is done, but no modem initialization
whatsoever.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>-p &lt;login
prompt&gt;</b></p>

<p style="margin-left:22%;">Use the given string to prompt
users for their login names. Various tokens are allowed in
this string. These tokens are: @ for the system name, \n,
\g, \f, for newline, bell, and form feed, respectively. \v
and \r will expand to the OS version and release. \P, \l and
\L will expand to the tty name (&quot;ttyS0&quot;). \Y will
give the Caller ID, \I the &quot;CONNECT foobar&quot; string
returned by the modem, and \S or \b will output the port
speed. \N and \U give the number of users currently logged
in. \C will be changed into the result of ctime(), and \D or
\d and \t or \T will output the date and time, respectively.
Finally, \&lt;digit&gt; will use digit as
octal/decimal/hexadecimal representation of the character to
follow.</p>

<p style="margin-left:22%; margin-top: 1em">The default
prompt is specified at compile time.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>-n #</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Tells <i>mgetty</i> to pick up the phone after the #th
RING. Default is 1.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>-R &lt;t&gt;</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Tells <i>mgetty</i> to go into &quot;ringback&quot; (aka
&quot;ring-twice&quot;) mode. That means: the first call is
never answered, instead the caller has to hang up after the
phone RINGs, wait 30 seconds, and then call again in the
next &lt;t&gt; seconds for mgetty to pick up. If no call
comes, mgetty will exit.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">I do not really
recommend using this, better get a second phone line for the
modem.</p>

<p style="margin-left:11%;"><b>-i &lt;issue
file&gt;</b></p>

<p style="margin-left:22%;">Output &lt;issue file&gt;
instead of /etc/issue before prompting for the user name.
The same token substitutions as for the the login prompt are
done in this file.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-D</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Tells <i>mgetty</i> that the modem is to be treated as a
DATA modem, no fax initialization is attempted.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-F</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Tells <i>mgetty</i> that DATA calls are not allowed and
the modem should be set to Fax-Only.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>-C &lt;class&gt;</b></p>

<p style="margin-left:22%;">Tells <i>mgetty</i> how to
treat the modem. Possible values for &lt;class&gt; are
&quot;auto&quot; (default, try to find out whether the modem
supports fax), &quot;cls2&quot; (use the class 2 fax command
set, even if the modem supports class 2.0), &quot;c2.0&quot;
(use the class 2.0 fax command set), &quot;data&quot; (data
only, exactly as the -D switch).</p>

<p style="margin-left:11%;"><b>-S &lt;g3 file&gt;</b></p>

<p style="margin-left:22%;">If a call comes in and requests
fax polling, <i>mgetty</i> will send the named file. Note:
not all fax modems support poll sending.</p>

<p style="margin-left:11%;"><b>-I &lt;fax id&gt;</b></p>

<p style="margin-left:22%;">Use the given fax station ID
for fax identification. Not used for data modems.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-b</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Open the port in blocking mode. Best used in combination
with &quot;-r&quot;. This is the default if <i>mgetty</i> is
called as <i>getty.</i> You may want to use this if you want
to use the two-device / kernel-locking scheme of the Linux
and SunOS operating systems (/dev/ttyS.. and /dev/cua..). I
do not recommend it, it&rsquo;s just included for
completeness, and to be able to use mgetty as a
full-featured getty replacement.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-a</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Use autobauding. That is, after a connection is made,
<i>mgetty</i> parses the &quot;CONNECT foo&quot; response
code of the modem and sets the port speed to the first
integer found after the &quot;CONNECT&quot; string,
&quot;foo&quot; in this example. You need this if your modem
insist on changing its DTE speed to match the line speed. I
recommend against using it, better leave the port speed
locked at a fixed value. The feature is included because old
modems exist which cannot use a fixed (locked) port
speed.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>-m &rsquo;expect send
...&rsquo;</b></p>

<p style="margin-left:22%;">Set the &quot;chat
sequence&quot; used to initialize the modem. For an empty
expect part, use empty double quotes (&quot;&quot;). Since
the sequence contains spaces, you have to enclose all of it
in single quotes(&rsquo;&rsquo;). Example:</p>

<p style="margin-left:22%; margin-top: 1em">mgetty -m
&rsquo;&quot;&quot; ATH0 OK&rsquo;</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>/etc/mgetty+sendfax/mgetty.config</b></p>

<p style="margin-left:22%;">Main configuration file.</p>


<p style="margin-left:11%;"><b>/etc/mgetty+sendfax/login.config</b></p>

<p style="margin-left:22%;">controls whether (and when)
<i>mgetty</i> should call some other program for user login
instead of /bin/login. How this is done is explained in this
file.</p>


<p style="margin-left:11%;"><b>/etc/mgetty+sendfax/dialin.config</b></p>

<p style="margin-left:22%;">controls acceptance/denial of
incoming calls based on the caller&rsquo;s number. Available
only if you have &quot;caller ID&quot; and your modem
supports it.</p>

<p style="margin-left:11%;"><b>/etc/nologin.ttyxx</b></p>

<p style="margin-left:22%;">controls whether mgetty should
pick up the phone upon incoming calls. If the file exists,
calls are completely ignored. You can use this, for example,
to stop mgetty during day time, and let it pick up at night
only, by creating and removing /etc/nologin.ttyxx via the
<i>cron</i> program at the appropriate time.</p>

<p style="margin-left:11%;"><b>/etc/issue</b></p>

<p style="margin-left:22%;">will be printed after a
connection is established, and before the with the
&rsquo;-i&rsquo; option.</p>


<p style="margin-left:11%;"><b>/var/log/mgetty.ttyxx.log</b></p>

<p style="margin-left:22%;">Debug log file, see below.</p>

<h2>DIAGNOSTICS
<a name="DIAGNOSTICS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If
<i>mgetty</i> doesn&rsquo;t work the way it should, the main
source of diagnostic data is the <i>log file.</i> It can be
found in &quot;/var/log/mgetty.ttyxx.log&quot; (for the
mgetty process handling &quot;ttyxx&quot;). If it
doesn&rsquo;t contain enough details, enhance the log level
with the &rsquo;-x&rsquo; option to mgetty, e.g. &quot;-x
5&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Many of the
common problems and solutions are discussed in the mgetty
manual and the FAQ. Please see the WWW page at
http://alpha.greenie.net/mgetty/ for both.</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Not all of
<i>mgetty</i> configuration can be done at run-time yet.
Things like flow control and file paths (log file / lock
file) must be configured by changing the source and
recompiling.</p>

<p style="margin-left:11%; margin-top: 1em">Users never
read manuals...</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">g32pbm(1),
sendfax(8), getty(8), mgettydefs(4), mgetty.info</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>mgetty</i>
is Copyright (C) 1993 by Gert Doering,
&lt;gert@greenie.muc.de&gt;.</p>
<hr>
</body>
</html>
