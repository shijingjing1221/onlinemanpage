<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 00:36:34 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>DIFFSTAT</title>

</head>
<body>

<h1 align="center">DIFFSTAT</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#ENVIRONMENT">ENVIRONMENT</a><br>
<a href="#FILES">FILES</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>diffstat</b>
&minus; make histogram from diff-output</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>diffstat</b>
<i>[options] [file-specifications]</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This program
reads the output of <b>diff</b> and displays a histogram of
the insertions, deletions, and modifications per-file.
Diffstat is a program that is useful for reviewing large,
complex patch files. It reads from one or more input files
which contain output from <b>diff</b>, producing a histogram
of the total lines changed for each file referenced.</p>

<p style="margin-left:11%; margin-top: 1em">If the input
filename ends with .bz2, .gz, .lzma, .z or .Z, diffstat will
read the uncompressed data via a pipe from the corresponding
program. It also can infer the compression type from files
piped via the standard input.</p>

<p style="margin-left:11%; margin-top: 1em">Diffstat
recognizes the most popular types of output from diff:</p>

<p style="margin-left:22%;">unified</p>

<p style="margin-left:32%;">preferred by the <b>patch</b>
utility.</p>

<p style="margin-left:22%;">context</p>

<p style="margin-left:32%;">best for readability, but not
very compact.</p>

<p style="margin-left:22%;">default</p>

<p style="margin-left:32%;">not good for much, but simple
to generate.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Diffstat</b>
detects the lines that are output by <b>diff</b> to tell
which files are compared, and then counts the markers in the
first column that denote the type of change (insertion,
deletion or modification). These are shown in the histogram
as &quot;+&quot;, &quot;&minus;&quot; and &quot;!&quot;
characters.</p>

<p style="margin-left:11%; margin-top: 1em">If no filename
is given on the command line, <b>diffstat</b> reads the
differences from the standard input.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>&minus;b</b></p></td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em">ignore lines matching
&quot;Binary files XXX and YYY differ&quot; in the diff</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;c</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>prefix each line of output with &quot;#&quot;, making it
a comment-line for shell scripts.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;C</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>add SGR color escape sequences to highlight the
histogram.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;D</b>
<i>destination</i></p>

<p style="margin-left:22%;">specify a directory containing
files which can be referred to as the result of applying the
differences. <b>diffstat</b> will count the lines in the
corresponding files (after adjusting the names by the
<b>&minus;p</b> option) to obtain the total number of lines
in each file.</p>

<p style="margin-left:22%; margin-top: 1em">The remainder,
after subtracting modified and deleted lines, is shown as
&quot;unchanged lines&quot;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;d</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>The debug prints a lot of information. It is normally
compiled-in, but can be suppressed.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;e</b> <i>file</i></p>

<p style="margin-left:22%;">redirect standard error to
<i>file</i>.</p>

<p style="margin-left:11%;"><b>&minus;f</b>
<i>format</i></p>

<p style="margin-left:22%;">specify the format of the
histogram.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>0</p></td>
<td width="3%"></td>
<td width="74%">


<p>for concise, which shows only the value and a single
histogram code for each of insert (+), delete (&minus;) or
modify (!)</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>1</p></td>
<td width="3%"></td>
<td width="74%">


<p>for normal output,</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>2</p></td>
<td width="3%"></td>
<td width="74%">


<p>to fill in the histogram with dots,</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>4</p></td>
<td width="3%"></td>
<td width="74%">


<p>to print each value with the histogram.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Any nonzero
value gives a histogram. The dots and individual values can
be combined, e.g., <b>&minus;f6</b> gives both.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>&minus;h</b></p></td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em">prints the usage message and
exits.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;k</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>suppress the merging of filenames in the report.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;K</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>attempt to improve the annotation of &quot;only&quot;
files by looking for a match in the resulting set of files
and inferring whether the file was added or removed.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">This does not
currently work in combination with <b>&minus;R</b> because
<b>diffstat</b> maintains only the resulting set of
files.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>&minus;l</b></p></td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em">lists only the filenames. No
histogram is generated.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;m</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>merge insert/delete counts from each &quot;chunk&quot;
of the patch file to approximate a count of the modified
lines.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;n</b>
<i>number</i></p>

<p style="margin-left:22%;">specify the minimum width used
for filenames. If you do not specify this, <b>diffstat</b>
uses the length of the longest filename, after stripping
common prefixes.</p>

<p style="margin-left:11%;"><b>&minus;N</b>
<i>number</i></p>

<p style="margin-left:22%;">specify the maximum width used
for filenames. Names longer than this limit are truncated on
the left. If you do not specify this, <b>diffstat</b> next
checks the <b>&minus;n</b> option.</p>

<p style="margin-left:11%;"><b>&minus;o</b> <i>file</i></p>

<p style="margin-left:22%;">redirect standard output to
<i>file</i>.</p>

<p style="margin-left:11%;"><b>&minus;p</b>
<i>number</i></p>

<p style="margin-left:22%;">override the logic that strips
common pathnames, simulating the <b>patch</b>
&quot;&minus;p&quot; option.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;q</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>suppress the &quot;0 files changed&quot; message for
empty diffs.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;r code</b></p>

<p style="margin-left:22%;">provides optional rounding of
the data shown in histogram, rather than truncating with
error adjustments.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p>0</p></td>
<td width="3%"></td>
<td width="74%">


<p>is the default. No rounding is performed, but
accumulated errors are added to following columns.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p>1</p></td>
<td width="3%"></td>
<td width="74%">


<p>rounds the data</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p>2</p></td>
<td width="3%"></td>
<td width="74%">


<p>rounds the data and adjusts the histogram to ensure that
it displays something if there are any differences even if
those would normally be rounded to zero.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p><b>&minus;R</b></p></td>
<td width="3%"></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Assume patch
was created with old and new files swapped.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>&minus;s</b></p></td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em">show only the summary line,
e.g., number of insertions and deletions.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;S</b>
<i>source</i></p>

<p style="margin-left:22%;">this is like the
<b>&minus;D</b> option, but specifies a location where the
original files (before applying differences) can be
found.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;t</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>overrides the histogram, generates output of comma
separated values.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;u</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>suppress the sorting of filenames in the report.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;v</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>show progress, e.g., if the output is redirected to a
file, write progress messages to the standard error.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;V</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>prints the current version number and exits.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;w</b>
<i>number</i></p>

<p style="margin-left:22%;">specify the maximum width of
the histogram. The histogram will never be shorter than 10
columns, just in case the filenames get too large.</p>

<h2>ENVIRONMENT
<a name="ENVIRONMENT"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>Diffstat</b>
runs in a portable UNIX&reg; environment.</p>

<p style="margin-left:11%; margin-top: 1em">You can
override the compiled-in paths of programs used for
decompressing input files by setting environment variables
corresponding to their name:</p>


<p style="margin-left:22%; margin-top: 1em">DIFFSTAT_BZCAT_PATH
<br>
DIFFSTAT_BZIP2_PATH <br>
DIFFSTAT_COMPRESS_PATH <br>
DIFFSTAT_GZIP_PATH <br>
DIFFSTAT_LZCAT_PATH <br>
DIFFSTAT_PCAT_PATH <br>
DIFFSTAT_UNCOMPRESS_PATH <br>
DIFFSTAT_XZ_PATH <br>
DIFFSTAT_ZCAT_PATH</p>

<p style="margin-left:11%; margin-top: 1em">However,
<b>diffstat</b> assumes that the resulting program uses the
same command-line options, e.g., &quot;&minus;c&quot; to
decompress to the standard output.</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>Diffstat</b>
is a single binary module, which uses no auxiliary
files.</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>Diffstat</b>
makes a lot of assumptions about the format of a <b>diff</b>
file.</p>

<p style="margin-left:11%; margin-top: 1em">There is no way
to obtain a filename from the standard diff between two
files with no options. Context diffs work, as well as
unified diffs.</p>

<p style="margin-left:11%; margin-top: 1em">There&rsquo;s
no easy way to determine the degree of overlap between the
&quot;before&quot; and &quot;after&quot; displays of
modified lines. <b>diffstat</b> simply counts the number of
inserted and deleted lines to approximate modified lines for
the <b>&minus;m</b> option.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>diff</b>(1).</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Thomas Dickey
&lt;dickey@invisible-island.net&gt;.</p>
<hr>
</body>
</html>
