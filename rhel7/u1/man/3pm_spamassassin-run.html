<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 01:28:33 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>spamassassin-run</title>

</head>
<body>

<h1 align="center">spamassassin-run</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#PREREQUISITES">PREREQUISITES</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">spamassassin
&minus; simple front&minus;end filtering script for
SpamAssassin</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>spamassassin</b>
[options] [ &lt; <i>mailmessage</i> | <i>path</i> ... ]</p>


<p style="margin-left:11%; margin-top: 1em"><b>spamassassin
&minus;d</b> [ &lt; <i>mailmessage</i> | <i>path</i> ...
]</p>


<p style="margin-left:11%; margin-top: 1em"><b>spamassassin
&minus;r</b> [ &lt; <i>mailmessage</i> | <i>path</i> ...
]</p>


<p style="margin-left:11%; margin-top: 1em"><b>spamassassin
&minus;k</b> [ &lt; <i>mailmessage</i> | <i>path</i> ...
]</p>


<p style="margin-left:11%; margin-top: 1em"><b>spamassassin
&minus;W</b>|<b>&minus;R</b> [ &lt; <i>mailmessage</i> |
<i>path</i> ... ]</p>

<p style="margin-left:11%; margin-top: 1em">Options:</p>

<pre style="margin-left:11%; margin-top: 1em"> &minus;L, &minus;&minus;local                       Local tests only (no online tests)
 &minus;r, &minus;&minus;report                      Report message as spam
 &minus;k, &minus;&minus;revoke                      Revoke message as spam
 &minus;d, &minus;&minus;remove&minus;markup               Remove spam reports from a message
 &minus;C path, &minus;&minus;configpath=path, &minus;&minus;config&minus;file=path
                                   Path to standard configuration dir
 &minus;p prefs, &minus;&minus;prefspath=file, &minus;&minus;prefs&minus;file=file
                                   Set user preferences file
 &minus;&minus;siteconfigpath=path             Path for site configs
                                   (def: /etc/mail/spamassassin)
 &minus;&minus;cf='config line'                Additional line of configuration
 &minus;x, &minus;&minus;nocreate&minus;prefs              Don't create user preferences file
 &minus;e, &minus;&minus;exit&minus;code                   Exit with a non&minus;zero exit code if the
                                   tested message was spam
 &minus;&minus;mbox                            read in messages in mbox format
 &minus;&minus;mbx                             read in messages in UW mbx format
 &minus;t, &minus;&minus;test&minus;mode                   Pipe message through and add extra
                                   report to the bottom
 &minus;&minus;lint                            Lint the rule set: report syntax errors
 &minus;W, &minus;&minus;add&minus;to&minus;whitelist            Add addresses in mail to persistent address whitelist
 &minus;&minus;add&minus;to&minus;blacklist                Add addresses in mail to persistent address blacklist
 &minus;R, &minus;&minus;remove&minus;from&minus;whitelist       Remove all addresses found in mail from
                                   persistent address list
 &minus;&minus;add&minus;addr&minus;to&minus;whitelist=addr      Add addr to persistent address whitelist
 &minus;&minus;add&minus;addr&minus;to&minus;blacklist=addr      Add addr to persistent address blacklist
 &minus;&minus;remove&minus;addr&minus;from&minus;whitelist=addr Remove addr from persistent address list
 &minus;4 &minus;&minus;ipv4only, &minus;&minus;ipv4&minus;only, &minus;&minus;ipv4 Use IPv4, disable use of IPv6 for DNS etc.
 &minus;6                                Use IPv6, disable use of IPv4 where possible
 &minus;&minus;progress                        Print progress bar
 &minus;D, &minus;&minus;debug [area=n,...]          Print debugging messages
 &minus;V, &minus;&minus;version                     Print version
 &minus;h, &minus;&minus;help                        Print usage message</pre>


<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">spamassassin is
a simple front-end filter for SpamAssassin.</p>

<p style="margin-left:11%; margin-top: 1em">Using the
SpamAssassin rule base, it uses a wide range of heuristic
tests on mail headers and body text to identify
&quot;spam&quot;, also known as unsolicited bulk email. Once
identified, the mail is then tagged as spam for later
filtering using the user&rsquo;s own mail user-agent
application.</p>

<p style="margin-left:11%; margin-top: 1em">The default
tagging operations that take place are detailed in &quot;
<small>TAGGING&quot;</small> in spamassassin.</p>

<p style="margin-left:11%; margin-top: 1em">By default,
message(s) are read in from <small>STDIN</small> (&lt;
<i>mailmessage</i>), or from specified files and directories
(<i>path</i> ...) <small>STDIN</small> and files are assumed
to be in <i>file</i> format, with a single message per file.
Directories are assumed to be in a format where each file in
the directory contains only one message (directories are not
recursed and filenames containing whitespace or beginning
with &quot;.&quot; or &quot;,&quot; are skipped). The
options <i>&minus;&minus;mbox</i> and
<i>&minus;&minus;mbx</i> can override the assumed format,
see the appropriate <small>OPTION</small> information
below.</p>

<p style="margin-left:11%; margin-top: 1em">Please note
that SpamAssassin is not designed to scan large messages.
Don&rsquo;t feed messages larger than about 500
<small>KB</small> to SpamAssassin, as this will consume a
huge amount of memory.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;e</b>,
<b>&minus;&minus;error&minus;code</b>,
<b>&minus;&minus;exit&minus;code</b></p>

<p style="margin-left:17%;">Exit with a non-zero error
code, if the message is determined to be spam.</p>

<p style="margin-left:11%;"><b>&minus;h</b>,
<b>&minus;&minus;help</b></p>

<p style="margin-left:17%;">Print help message and
exit.</p>

<p style="margin-left:11%;"><b>&minus;V</b>,
<b>&minus;&minus;version</b></p>

<p style="margin-left:17%;">Print version and exit.</p>

<p style="margin-left:11%;"><b>&minus;t</b>,
<b>&minus;&minus;test&minus;mode</b></p>

<p style="margin-left:17%;">Test mode. Pipe message through
and add extra report. Note that the report text assumes that
the message is spam, since in normal use it is only visible
in this case. Pay attention to the score instead.</p>

<p style="margin-left:17%; margin-top: 1em">If you run this
with <b>&minus;d</b>, the message will first have
SpamAssassin markup removed before being tested.</p>

<p style="margin-left:11%;"><b>&minus;r</b>,
<b>&minus;&minus;report</b></p>

<p style="margin-left:17%;">Report this message as
manually-verified spam. This will submit the mail message
read from <small>STDIN</small> to various spam-blocker
databases. Currently, these are the Distributed Checksum
Clearinghouse
<tt>&quot;http://www.dcc&minus;servers.net/dcc/&quot;</tt>,
Pyzor <tt>&quot;http://pyzor.sourceforge.net/&quot;</tt>,
Vipul&rsquo;s Razor
<tt>&quot;http://razor.sourceforge.net/&quot;</tt>, and
SpamCop <tt>&quot;http://www.spamcop.net/&quot;</tt>.</p>

<p style="margin-left:17%; margin-top: 1em">If the message
contains SpamAssassin markup, the markup will be stripped
out automatically before submission. The support modules for
<small>DCC,</small> Pyzor, and Razor must be installed for
spam to be reported to each service. SpamCop reports will
have greater effect if you register and set the
<tt>&quot;spamcop_to_address&quot;</tt> option.</p>

<p style="margin-left:17%; margin-top: 1em">The message
will also be submitted to SpamAssassin&rsquo;s learning
systems; currently this is the internal Bayesian
statistical-filtering system (the <small>BAYES</small>
rules). (Note that if you <i>only</i> want to perform
statistical learning, and do not want to report mail to
third-parties, you should use the
<tt>&quot;sa&minus;learn&quot;</tt> command directly
instead.)</p>

<p style="margin-left:11%;"><b>&minus;k</b>,
<b>&minus;&minus;revoke</b></p>

<p style="margin-left:17%;">Revoke this message. This will
revoke the mail message read from <small>STDIN</small> from
various spam-blocker databases. Currently, these are
Vipul&rsquo;s Razor.</p>

<p style="margin-left:17%; margin-top: 1em">Revocation
support for the Distributed Checksum Clearinghouse, Pyzor,
and SpamCop is not currently available.</p>

<p style="margin-left:17%; margin-top: 1em">If the message
contains SpamAssassin markup, the markup will be stripped
out automatically before submission. The support modules for
Razor must be installed for spam to be revoked from the
service.</p>

<p style="margin-left:17%; margin-top: 1em">The message
will also be submitted as &rsquo;ham&rsquo; (non-spam) to
SpamAssassin&rsquo;s learning systems; currently this is the
internal Bayesian statistical-filtering system (the
<small>BAYES</small> rules). (Note that if you <i>only</i>
want to perform statistical learning, and do not want to
report mail to third-parties, you should use the
<tt>&quot;sa&minus;learn&quot;</tt> command directly
instead.)</p>

<p style="margin-left:11%;"><b>&minus;&minus;lint</b></p>

<p style="margin-left:17%;">Syntax check (lint) the rule
set and configuration files, reporting typos and rules that
do not compile correctly. Exits with 0 if there are no
errors, or greater than 0 if any errors are found.</p>

<p style="margin-left:11%;"><b>&minus;W</b>,
<b>&minus;&minus;add&minus;to&minus;whitelist</b></p>

<p style="margin-left:17%;">Add all email addresses, in the
headers and body of the mail message read from
<small>STDIN,</small> to a persistent address whitelist.
Note that you must be running
<tt>&quot;spamassassin&quot;</tt> or
<tt>&quot;spamd&quot;</tt> with a persistent address list
plugin enabled for this to work.</p>


<p style="margin-left:11%;"><b>&minus;&minus;add&minus;to&minus;blacklist</b></p>

<p style="margin-left:17%;">Add all email addresses, in the
headers and body of the mail message read from
<small>STDIN,</small> to the persistent address blacklist.
Note that you must be running
<tt>&quot;spamassassin&quot;</tt> or
<tt>&quot;spamd&quot;</tt> with a persistent address list
plugin enabled for this to work.</p>

<p style="margin-left:11%;"><b>&minus;R</b>,
<b>&minus;&minus;remove&minus;from&minus;whitelist</b></p>

<p style="margin-left:17%;">Remove all email addresses, in
the headers and body of the mail message read from
<small>STDIN,</small> from a persistent address list.
<small>STDIN</small> must contain a full email message, so
to remove a single address you should use
<b>&minus;&minus;remove&minus;addr&minus;from&minus;whitelist</b>
instead.</p>

<p style="margin-left:17%; margin-top: 1em">Note that you
must be running <tt>&quot;spamassassin&quot;</tt> or
<tt>&quot;spamd&quot;</tt> with a persistent address list
plugin enabled for this to work.</p>


<p style="margin-left:11%;"><b>&minus;&minus;add&minus;addr&minus;to&minus;whitelist</b></p>

<p style="margin-left:17%;">Add the named email address to
a persistent address whitelist. Note that you must be
running <tt>&quot;spamassassin&quot;</tt> or
<tt>&quot;spamd&quot;</tt> with a persistent address list
plugin enabled for this to work.</p>


<p style="margin-left:11%;"><b>&minus;&minus;add&minus;addr&minus;to&minus;blacklist</b></p>

<p style="margin-left:17%;">Add the named email address to
a persistent address blacklist. Note that you must be
running <tt>&quot;spamassassin&quot;</tt> or
<tt>&quot;spamd&quot;</tt> with a persistent address list
plugin enabled for this to work.</p>


<p style="margin-left:11%;"><b>&minus;&minus;remove&minus;addr&minus;from&minus;whitelist</b></p>

<p style="margin-left:17%;">Remove the named email address
from a persistent address whitelist. Note that you must be
running <tt>&quot;spamassassin&quot;</tt> or
<tt>&quot;spamd&quot;</tt> with a persistent address list
plugin enabled for this to work.</p>

<p style="margin-left:11%;"><b>&minus;&minus;ipv4only</b>,
<b>&minus;&minus;ipv4&minus;only</b>,
<b>&minus;&minus;ipv4</b></p>

<p style="margin-left:17%;">Do not use IPv6 for
<small>DNS</small> tests. Normally, SpamAssassin will try to
detect if IPv6 is available, using only IPv4 if it is not.
Use if the existing tests for IPv6 availability produce
incorrect results or crashes.</p>

<p style="margin-left:11%;"><b>&minus;L</b>,
<b>&minus;&minus;local</b></p>

<p style="margin-left:17%;">Do only the
&rsquo;&rsquo;local&rsquo;&rsquo; tests, ones that do not
require an internet connection to operate. Normally,
SpamAssassin will try to detect whether you are connected to
the net before doing these tests anyway, but for faster
checks you may wish to use this.</p>

<p style="margin-left:17%; margin-top: 1em">Note that
SpamAssassin&rsquo;s network rules are run in parallel. This
can cause overhead in terms of the number of file
descriptors required if <b>&minus;&minus;local</b> is not
used; it is recommended that the minimum limit on fds be
raised to at least 256 for safety.</p>

<p style="margin-left:11%;"><b>&minus;d</b>,
<b>&minus;&minus;remove&minus;markup</b></p>

<p style="margin-left:17%;">Remove SpamAssassin markup (the
&quot;SpamAssassin results&quot; report, X&minus;Spam-Status
headers, etc.) from the mail message. The resulting message,
which will be more or less identical to the original,
pre-SpamAssassin input, will be output to
<small>STDOUT.</small></p>

<p style="margin-left:17%; margin-top: 1em">(Note: the
message will not be exactly identical; some headers will be
reformatted due to some features of the Mail::Internet
package, but the body text will be.)</p>

<p style="margin-left:11%;"><b>&minus;C</b> <i>path</i>,
<b>&minus;&minus;configpath</b>=<i>path</i>,
<b>&minus;&minus;config&minus;file</b>=<i>path</i></p>

<p style="margin-left:17%;">Use the specified path for
locating the distributed configuration files. Ignore the
default directories (usually
<tt>&quot;/usr/share/spamassassin&quot;</tt> or
similar).</p>


<p style="margin-left:11%;"><b>&minus;&minus;siteconfigpath</b>=<i>path</i></p>

<p style="margin-left:17%;">Use the specified path for
locating site-specific configuration files. Ignore the
default directories (usually
<tt>&quot;/etc/mail/spamassassin&quot;</tt> or similar).</p>


<p style="margin-left:11%;"><b>&minus;&minus;cf=&rsquo;config
line&rsquo;</b></p>

<p style="margin-left:17%;">Add additional lines of
configuration directly from the command-line, parsed after
the configuration files are read. Multiple
<b>&minus;&minus;cf</b> arguments can be used, and each will
be considered a separate line of configuration. For
example:</p>

<pre style="margin-left:17%; margin-top: 1em">        spamassassin &minus;t &minus;&minus;cf=&quot;body NEWRULE /text/&quot; &minus;&minus;cf=&quot;score NEWRULE 3.0&quot;</pre>


<p style="margin-left:11%;"><b>&minus;p</b> <i>prefs</i>,
<b>&minus;&minus;prefspath</b>=<i>prefs</i>,
<b>&minus;&minus;prefs&minus;file</b>=<i>prefs</i></p>

<p style="margin-left:17%;">Read user score preferences
from <i>prefs</i> (usually
<tt>&quot;$HOME/.spamassassin/user_prefs&quot;</tt>).</p>


<p style="margin-left:11%;"><b>&minus;&minus;progress</b></p>

<p style="margin-left:17%;">Prints a progress bar (to
<small>STDERR</small> ) showing the current progress. This
option will only be useful if you are redirecting
<small>STDOUT</small> (and not <small>STDERR</small> ). In
the case where no valid terminal is found this option will
behave very much like the &minus;&minus;showdots option in
other SpamAssassin programs.</p>

<p style="margin-left:11%;"><b>&minus;D</b>
[<i>area,...</i>], <b>&minus;&minus;debug</b>
[<i>area,...</i>]</p>

<p style="margin-left:17%;">Produce debugging output. If no
areas are listed, all debugging information is printed.
Diagnostic output can also be enabled for each area
individually; <i>area</i> is the area of the code to
instrument. For example, to produce diagnostic output on
bayes, learn, and dns, use:</p>

<pre style="margin-left:17%; margin-top: 1em">        spamassassin &minus;D bayes,learn,dns</pre>


<p style="margin-left:17%; margin-top: 1em">Higher priority
informational messages that are suitable for logging in
normal circumstances are available with an area of
&quot;info&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">For more
information about which areas (also known as channels) are
available, please see the documentation at:</p>

<pre style="margin-left:17%; margin-top: 1em">        L&lt;http://wiki.apache.org/spamassassin/DebugChannels&gt;</pre>


<p style="margin-left:11%;"><b>&minus;x</b>,
<b>&minus;&minus;nocreate&minus;prefs</b></p>

<p style="margin-left:17%;">Disable creation of user
preferences file.</p>

<p style="margin-left:11%;"><b>&minus;&minus;mbox</b></p>

<p style="margin-left:17%;">Specify that the input
message(s) are in mbox format. mbox is a standard Unix
message folder format.</p>

<p style="margin-left:11%;"><b>&minus;&minus;mbx</b></p>

<p style="margin-left:17%;">Specify that the input
message(s) are in <small>UW</small> .mbx format. mbx is the
mailbox format used within the University of
Washington&rsquo;s <small>IMAP</small> implementation; see
<tt>&quot;http://www.washington.edu/imap/&quot;</tt>.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>sa&minus;learn</i>(1)
<i>spamd</i>(1) <i>spamc</i>(1)
<i>Mail::SpamAssassin::Conf</i>(3)
<i>Mail::SpamAssassin</i>(3)</p>

<h2>PREREQUISITES
<a name="PREREQUISITES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><tt>&quot;Mail::SpamAssassin&quot;</tt></p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">See
&lt;http://issues.apache.org/SpamAssassin/&gt;</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
SpamAssassin(tm) Project
&lt;http://spamassassin.apache.org/&gt;</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">SpamAssassin is
distributed under the Apache License, Version 2.0, as
described in the file <tt>&quot;LICENSE&quot;</tt> included
with the distribution.</p>
<hr>
</body>
</html>
