<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 01:27:22 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SMARTD.CONF</title>

</head>
<body>

<h1 align="center">SMARTD.CONF</h1>

<a href="#NAME">NAME</a><br>
<a href="#FULL PATH">FULL PATH</a><br>
<a href="#PACKAGE VERSION">PACKAGE VERSION</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#CONFIGURATION FILE DIRECTIVES">CONFIGURATION FILE DIRECTIVES</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#CONTRIBUTORS">CONTRIBUTORS</a><br>
<a href="#CREDITS">CREDITS</a><br>
<a href="#HOME PAGE FOR SMARTMONTOOLS:">HOME PAGE FOR SMARTMONTOOLS:</a><br>
<a href="#SEE ALSO:">SEE ALSO:</a><br>
<a href="#SVN ID OF THIS PAGE:">SVN ID OF THIS PAGE:</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>smartd.conf</b>
&minus; SMART Disk Monitoring Daemon Configuration File</p>

<h2>FULL PATH
<a name="FULL PATH"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>/etc/smartmontools/smartd.conf</b></p>

<h2>PACKAGE VERSION
<a name="PACKAGE VERSION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">smartmontools-6.2
2013-07-26 r3841</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">[This man page
is generated for the Linux version of smartmontools. It does
not contain info specific to other platforms.]</p>


<p style="margin-left:11%; margin-top: 1em"><b>/etc/smartmontools/smartd.conf</b>
is the configuration file for the <b>smartd</b> daemon.</p>

<p style="margin-left:11%; margin-top: 1em">If the
configuration file <b>/etc/smartmontools/smartd.conf</b> is
present, <b>smartd</b> reads it at startup, before
<b>fork</b>(2)ing into the background. If <b>smartd</b>
subsequently receives a <b>HUP</b> signal, it will then
re-read the configuration file. If <b>smartd</b> is running
in debug mode, then an <b>INT</b> signal will also make it
re-read the configuration file. This signal can be generated
by typing <b>&lt;CONTROL-C&gt;</b> in the terminal window
where <b>smartd</b> is running.</p>

<p style="margin-left:11%; margin-top: 1em">In the absence
of a configuration file <b>smartd</b> will try to open all
available devices (see <b>smartd</b>(8) man page). A
configuration file with a single line <b>&acute;DEVICESCAN
&minus;a&rsquo;</b> would have the same effect.</p>

<p style="margin-left:11%; margin-top: 1em">This can be
annoying if you have an ATA or SCSI device that hangs or
misbehaves when receiving SMART commands. Even if this
causes no problems, you may be annoyed by the string of
error log messages about devices that can&acute;t be
opened.</p>

<p style="margin-left:11%; margin-top: 1em">One can avoid
this problem, and gain more control over the types of events
monitored by <b>smartd</b>, by using the configuration file
<b>/etc/smartmontools/smartd.conf.</b> This file contains a
list of devices to monitor, with one device per line. An
example file is included with the <b>smartmontools</b>
distribution. You will find this sample configuration file
in <b>/usr/share/doc/smartmontools/</b>. For security, the
configuration file should not be writable by anyone but
root. The syntax of the file is as follows:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>There should be one device listed per line, although you
may have lines that are entirely comments or white
space.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Any text following a hash sign &acute;#&acute; and up to
the end of the line is taken to be a comment, and
ignored.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Lines may be continued by using a backslash
&acute;\&acute; as the last non-whitespace or non-comment
item on a line.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Note: a line whose first character is a hash sign
&acute;#&acute; is treated as a white-space blank line,
<b>not</b> as a non-existent line, and will <b>end</b> a
continuation line.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Here is an
example configuration file. It&acute;s for illustrative
purposes only; please don&acute;t copy it onto your system
without reading to the end of the <b>DIRECTIVES</b> Section
below!</p>


<p style="margin-left:11%; margin-top: 1em"><b>################################################
<br>
# This is an example smartd startup config file <br>
# /etc/smartmontools/smartd.conf for monitoring three <br>
# ATA disks, three SCSI disks, six ATA disks <br>
# behind two 3ware controllers, three SATA disks <br>
# directly connected to the HighPoint Rocket- <br>
# RAID controller, two SATA disks connected to <br>
# the HighPoint RocketRAID controller via a pmport <br>
# device, four SATA disks connected to an Areca <br>
# RAID controller, and one SATA disk. <br>
# <br>
# First ATA disk on two different interfaces. On <br>
# the second disk, start a long self-test every <br>
# Sunday between 3 and 4 am. <br>
# &nbsp;&nbsp; <br>
/dev/hda -a -m admin@example.com,root@localhost &nbsp;&nbsp;
<br>
/dev/hdc -a -I 194 -I 5 -i 12 -s L/../../7/03 <br>
# <br>
# SCSI disks. Send a TEST warning email to admin on <br>
# startup. <br>
# &nbsp;&nbsp; <br>
/dev/sda &nbsp;&nbsp; <br>
/dev/sdb -m admin@example.com -M test <br>
# <br>
# Strange device. It&acute;s SCSI. Start a scheduled <br>
# long self test between 5 and 6 am Monday/Thursday
&nbsp;&nbsp; <br>
/dev/weird -d scsi -s L/../../(1|4)/05 <br>
# <br>
# An ATA disk may appear as a SCSI device to the <br>
# OS. If a SCSI to ATA Translation (SAT) layer <br>
# is between the OS and the device then this can be <br>
# flagged with the &rsquo;-d sat&rsquo; option. This
situation <br>
# may become common with SATA disks in SAS and FC <br>
# environments. &nbsp;&nbsp; <br>
/dev/sda -a -d sat <br>
# <br>
# Three disks connected to a MegaRAID controller <br>
# Start short self-tests daily between 1-2, 2-3, and <br>
# 3-4 am. &nbsp;&nbsp; <br>
/dev/sda -d megaraid,0 -a -s S/../.././01 &nbsp;&nbsp; <br>
/dev/sda -d megaraid,1 -a -s S/../.././02 &nbsp;&nbsp; <br>
/dev/sda -d megaraid,2 -a -s S/../.././03 &nbsp;&nbsp; <br>
/dev/bus/0 -d megaraid,2 -a -s S/../.././03 <br>
# <br>
# Four ATA disks on a 3ware 6/7/8000 controller. <br>
# Start short self-tests daily between midnight and 1am,
<br>
# 1-2, 2-3, and 3-4 am. Starting with the Linux 2.6 <br>
# kernel series, /dev/sdX is deprecated in favor of <br>
# /dev/tweN. For example replace /dev/sdc by /dev/twe0 <br>
# and /dev/sdd by /dev/twe1. &nbsp;&nbsp; <br>
/dev/sdc -d 3ware,0 -a -s S/../.././00 &nbsp;&nbsp; <br>
/dev/sdc -d 3ware,1 -a -s S/../.././01 &nbsp;&nbsp; <br>
/dev/sdd -d 3ware,2 -a -s S/../.././02 &nbsp;&nbsp; <br>
/dev/sdd -d 3ware,3 -a -s S/../.././03 <br>
# <br>
# Two ATA disks on a 3ware 9000 controller. <br>
# Start long self-tests Sundays between midnight and <br>
# 1am and 2-3 am &nbsp;&nbsp; <br>
/dev/twa0 -d 3ware,0 -a -s L/../../7/00 &nbsp;&nbsp; <br>
/dev/twa0 -d 3ware,1 -a -s L/../../7/02 <br>
# <br>
# Two SATA (not SAS) disks on a 3ware 9750 controller. <br>
# Start long self-tests Sundays between midnight and <br>
# 1am and 2-3 am &nbsp;&nbsp; <br>
/dev/twl0 -d 3ware,0 -a -s L/../../7/00 &nbsp;&nbsp; <br>
/dev/twl0 -d 3ware,1 -a -s L/../../7/02 <br>
# <br>
# Three SATA disks on a HighPoint RocketRAID controller.
<br>
# Start short self-tests daily between 1-2, 2-3, and <br>
# 3-4 am. <br>
# under Linux &nbsp;&nbsp; <br>
/dev/sde -d hpt,1/1 -a -s S/../.././01 &nbsp;&nbsp; <br>
/dev/sde -d hpt,1/2 -a -s S/../.././02 &nbsp;&nbsp; <br>
/dev/sde -d hpt,1/3 -a -s S/../.././03 <br>
# <br>
# Two SATA disks connected to a HighPoint RocketRAID <br>
# via a pmport device. Start long self-tests Sundays <br>
# between midnight and 1am and 2-3 am. <br>
# under Linux &nbsp;&nbsp; <br>
/dev/sde -d hpt,1/4/1 -a -s L/../../7/00 &nbsp;&nbsp; <br>
/dev/sde -d hpt,1/4/2 -a -s L/../../7/02 <br>
# Three SATA disks connected to an Areca <br>
# RAID controller. Start long self-tests Sundays <br>
# between midnight and 3 am. &nbsp;&nbsp; <br>
/dev/sg2 -d areca,1 -a -s L/../../7/00 &nbsp;&nbsp; <br>
/dev/sg2 -d areca,2 -a -s L/../../7/01 &nbsp;&nbsp; <br>
/dev/sg2 -d areca,3 -a -s L/../../7/02 <br>
# <br>
# The following line enables monitoring of the <br>
# ATA Error Log and the Self-Test Error Log. <br>
# It also tracks changes in both Prefailure <br>
# and Usage Attributes, apart from Attributes <br>
# 9, 194, and 231, and shows continued lines: <br>
# &nbsp;&nbsp; <br>
/dev/hdd&nbsp;-l&nbsp;error&nbsp;\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br>
-l&nbsp;selftest&nbsp;\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br>
-t&nbsp;\&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Attributes
not tracked:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br>
-I&nbsp;194&nbsp;\&nbsp;&nbsp;# temperature
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br>
-I&nbsp;231&nbsp;\&nbsp;&nbsp;# also temperature
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br>
-I 9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# power-on hours
<br>
# <br>
################################################</b></p>

<h2>CONFIGURATION FILE DIRECTIVES
<a name="CONFIGURATION FILE DIRECTIVES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If a
non-comment entry in the configuration file is the text
string <b>DEVICESCAN</b> in capital letters, then
<b>smartd</b> will ignore any remaining lines in the
configuration file, and will scan for devices.
<b>DEVICESCAN</b> may optionally be followed by Directives
that will apply to all devices that are found in the scan.
Please see below for additional details.</p>

<p style="margin-left:11%; margin-top: 1em">[NEW
EXPERIMENTAL SMARTD FEATURE] If an entry in the
configuration file starts with <b>DEFAULT</b> instead of a
device name, then all directives in this entry are set as
defaults for the next device entries.</p>

<p style="margin-left:11%; margin-top: 1em">This
configuration: &nbsp;&nbsp;</p>

<p style="margin-left:11%; margin-top: 1em">DEFAULT -a -R5!
-W 2,40,45 -I 194 -s L/../../7/00 -m admin@example.com
&nbsp;&nbsp; <br>
/dev/sda &nbsp;&nbsp; <br>
/dev/sdb &nbsp;&nbsp; <br>
/dev/sdc &nbsp;&nbsp; <br>
DEFAULT -H -m admin@example.com &nbsp;&nbsp; <br>
/dev/sdd &nbsp;&nbsp; <br>
/dev/sde -d removable</p>

<p style="margin-left:11%; margin-top: 1em">has the same
effect as: &nbsp;&nbsp;</p>

<p style="margin-left:11%; margin-top: 1em">/dev/sda -a
-R5! -W 2,40,45 -I 194 -s L/../../7/00 -m admin@example.com
&nbsp;&nbsp; <br>
/dev/sdb -a -R5! -W 2,40,45 -I 194 -s L/../../7/00 -m
admin@example.com &nbsp;&nbsp; <br>
/dev/sdc -a -R5! -W 2,40,45 -I 194 -s L/../../7/00 -m
admin@example.com &nbsp;&nbsp; <br>
/dev/sdd -H -m admin@example.com &nbsp;&nbsp; <br>
/dev/sde -d removable -H -m admin@example.com</p>

<p style="margin-left:11%; margin-top: 1em">The following
are the Directives that may appear following the device name
or <b>DEVICESCAN</b> or <b>DEFAULT</b> on any line of the
<b>/etc/smartmontools/smartd.conf</b> configuration file.
Note that <b>these are NOT command-line options for
smartd</b>. The Directives below may appear in any order,
following the device name.</p>

<p style="margin-left:11%; margin-top: 1em"><b>For an ATA
device,</b> if no Directives appear, then the device will be
monitored as if the &acute;&minus;a&acute; Directive
(monitor all SMART properties) had been given.</p>

<p style="margin-left:11%; margin-top: 1em"><b>If a SCSI
disk is listed,</b> it will be monitored at the maximum
implemented level: roughly equivalent to using the
&acute;&minus;H &minus;l selftest&acute; options for an ATA
disk. So with the exception of &acute;&minus;d&acute;,
&acute;&minus;m&acute;, &acute;&minus;l selftest&acute;,
&acute;&minus;s&acute;, and &acute;&minus;M&acute;, the
Directives below are ignored for SCSI disks. For SCSI disks,
the &acute;&minus;m&acute; Directive sends a warning email
if the SMART status indicates a disk failure or problem, if
the SCSI inquiry about disk status fails, or if new errors
appear in the self-test log.</p>

<p style="margin-left:11%; margin-top: 1em"><b>If a 3ware
controller is used</b> then the corresponding SCSI
(/dev/sd?) or character device (/dev/twe?, /dev/twa?,
/dev/twl? or /dev/tws?) must be listed, along with the
&acute;&minus;d 3ware,N&acute; Directive (see below). The
individual ATA disks hosted by the 3ware controller appear
to <b>smartd</b> as normal ATA devices. Hence all the ATA
directives can be used for these disks (but see note
below).</p>

<p style="margin-left:11%; margin-top: 1em"><b>If an Areca
controller is used</b> then the corresponding device (SCSI
/dev/sg? on Linux or /dev/arcmsr0 on FreeBSD) must be
listed, along with the &acute;&minus;d areca,N&acute;
Directive (see below). The individual SATA disks hosted by
the Areca controller appear to <b>smartd</b> as normal ATA
devices. Hence all the ATA directives can be used for these
disks. Areca firmware version 1.46 or later which supports
smartmontools must be used; Please see the
<b>smartctl</b>(8) man page for further details. <b><br>
&minus;d TYPE</b></p>

<p style="margin-left:22%;">Specifies the type of the
device. The valid arguments to this directive are:</p>

<p style="margin-left:22%; margin-top: 1em"><i>auto</i>
&minus; attempt to guess the device type from the device
name or from controller type info provided by the operating
system or from a matching USB ID entry in the drive
database. This is the default.</p>

<p style="margin-left:22%; margin-top: 1em"><i>ata</i>
&minus; the device type is ATA. This prevents <b>smartd</b>
from issuing SCSI commands to an ATA device.</p>

<p style="margin-left:22%; margin-top: 1em"><i>scsi</i>
&minus; the device type is SCSI. This prevents <b>smartd</b>
from issuing ATA commands to a SCSI device.</p>


<p style="margin-left:22%; margin-top: 1em"><i>sat[,auto][,N]</i>
&minus; the device type is SCSI to ATA Translation (SAT).
This is for ATA disks that have a SCSI to ATA Translation
(SAT) Layer (SATL) between the disk and the operating
system. SAT defines two ATA PASS THROUGH SCSI commands, one
12 bytes long and the other 16 bytes long. The default is
the 16 byte variant which can be overridden with either
&acute;&minus;d sat,12&acute; or &acute;&minus;d
sat,16&acute;.</p>

<p style="margin-left:22%; margin-top: 1em">If
&acute;&minus;d sat,auto&acute; is specified, device type
SAT (for ATA/SATA disks) is only used if the SCSI INQUIRY
data reports a SATL (VENDOR: &quot;ATA &quot;). Otherwise
device type SCSI (for SCSI/SAS disks) is used.</p>


<p style="margin-left:22%; margin-top: 1em"><i>usbcypress</i>
&minus; this device type is for ATA disks that are behind a
Cypress USB to PATA bridge. This will use the ATACB
proprietary scsi pass through command. The default SCSI
operation code is 0x24, but although it can be overridden
with &acute;&minus;d usbcypress,0xN&acute;, where N is the
scsi operation code, you&rsquo;re running the risk of damage
to the device or filesystems on it.</p>


<p style="margin-left:22%; margin-top: 1em"><i>usbjmicron[,p][,x][,PORT]</i>
&minus; this device type is for SATA disks that are behind a
JMicron USB to PATA/SATA bridge. The 48-bit ATA commands
(required e.g. for &acute;&minus;l xerror&acute;, see below)
do not work with all of these bridges and are therefore
disabled by default. These commands can be enabled by
&acute;&minus;d usbjmicron,x&acute;. If two disks are
connected to a bridge with two ports, an error message is
printed if no PORT is specified. The port can be specified
by &acute;&minus;d usbjmicron[,x],PORT&acute; where PORT is
0 (master) or 1 (slave). This is not necessary if the device
uses a port multiplier to connect multiple disks to one
port. The disks appear under separate /dev/ice names then.
CAUTION: Specifying &acute;,x&acute; for a device which does
not support it results in I/O errors and may disconnect the
drive. The same applies if the specified PORT does not exist
or is not connected to a disk.</p>

<p style="margin-left:22%; margin-top: 1em">[NEW
EXPERIMENTAL SMARTD FEATURE] The Prolific PL2507/3507 USB
bridges with older firmware support a pass-through command
similar to JMicron and work with &acute;&minus;d
usbjmicron,0&acute;. Newer Prolific firmware requires a
modified command which can be selected by &acute;&minus;d
usbjmicron,p&acute;. Note that this does not yet support the
SMART status command.</p>


<p style="margin-left:22%; margin-top: 1em"><i>usbsunplus</i>
&minus; this device type is for SATA disks that are behind a
SunplusIT USB to SATA bridge.</p>

<p style="margin-left:22%; margin-top: 1em"><i>marvell</i>
&minus; [Linux only] interact with SATA disks behind Marvell
chip-set controllers (using the Marvell rather than libata
driver).</p>


<p style="margin-left:22%; margin-top: 1em"><i>megaraid,N</i>
&minus; [Linux only] the device consists of one or more
SCSI/SAS disks connected to a MegaRAID controller. The
non-negative integer N (in the range of 0 to 127 inclusive)
denotes which disk on the controller is monitored. This
interface will also work for Dell PERC controllers. In log
files and email messages this disk will be identified as
megaraid_disk_XXX with XXX in the range from 000 to 127
inclusive. It is possible to set RAID device name as
/dev/bus/N, where N is a SCSI bus number. Please see the
<b>smartctl</b>(8) man page for further details.</p>

<p style="margin-left:22%; margin-top: 1em"><i>3ware,N</i>
&minus; [FreeBSD and Linux only] the device consists of one
or more ATA disks connected to a 3ware RAID controller. The
non-negative integer N (in the range from 0 to 127
inclusive) denotes which disk on the controller is
monitored. In log files and email messages this disk will be
identified as 3ware_disk_XXX with XXX in the range from 000
to 127 inclusive.</p>

<p style="margin-left:22%; margin-top: 1em">Note that while
you may use <b>any</b> of the 3ware SCSI logical devices
/dev/tw* to address <b>any</b> of the physical disks (3ware
ports), error and log messages will make the most sense if
you always list the 3ware SCSI logical device corresponding
to the particular physical disks. Please see the
<b>smartctl</b>(8) man page for further details.</p>

<p style="margin-left:22%; margin-top: 1em"><i>areca,N</i>
&minus; [FreeBSD, Linux, Windows and Cygwin only] the device
consists of one or more SATA disks connected to an Areca
SATA RAID controller. The positive integer N (in the range
from 1 to 24 inclusive) denotes which disk on the controller
is monitored. In log files and email messages this disk will
be identifed as areca_disk_XX with XX in the range from 01
to 24 inclusive. Please see the <b>smartctl</b>(8) man page
for further details.</p>


<p style="margin-left:22%; margin-top: 1em"><i>areca,N/E</i>
&minus; [FreeBSD, Linux, Windows and Cygwin only] [NEW
EXPERIMENTAL SMARTD FEATURE] the device consists of one or
more SATA or SAS disks connected to an Areca SAS RAID
controller. The integer N (range 1 to 128) denotes the
channel (slot) and E (range 1 to 8) denotes the enclosure.
Important: This requires Areca SAS controller firmware
version 1.51 or later.</p>

<p style="margin-left:22%; margin-top: 1em"><i>cciss,N</i>
&minus; [FreeBSD and Linux only] the device consists of one
or more SCSI/SAS or SATA disks connected to a cciss RAID
controller. The non-negative integer N (in the range from 0
to 15 inclusive) denotes which disk on the controller is
monitored. In log files and email messages this disk will be
identified as cciss_disk_XX with XX in the range from 00 to
15 inclusive. Please see the <b>smartctl</b>(8) man page for
further details.</p>


<p style="margin-left:22%; margin-top: 1em"><i>hpt,L/M/N</i>
&minus; [FreeBSD and Linux only] the device consists of one
or more ATA disks connected to a HighPoint RocketRAID
controller. The integer L is the controller id, the integer
M is the channel number, and the integer N is the PMPort
number if it is available. The allowed values of L are from
1 to 4 inclusive, M are from 1 to 128 inclusive and N from 1
to 4 if PMPort available. And also these values are limited
by the model of the HighPoint RocketRAID controller. In log
files and email messages this disk will be identified as
hpt_X/X/X and X/X/X is the same as L/M/N, note if no N
indicated, N set to the default value 1. Please see the
<b>smartctl</b>(8) man page for further details.</p>

<p style="margin-left:22%; margin-top: 1em"><i>ignore</i>
&minus; [NEW EXPERIMENTAL SMARTD FEATURE] the device
specified by this configuration entry should be ignored.
This allows to ignore specific devices which are detected by
a following DEVICESCAN configuration line. It may also be
used to temporary disable longer multi-line configuration
entries. This Directive may be used in conjunction with the
other &acute;&minus;d&acute; Directives.</p>


<p style="margin-left:22%; margin-top: 1em"><i>removable</i>
&minus; the device or its media is removable. This indicates
to <b>smartd</b> that it should continue (instead of
exiting, which is the default behavior) if the device does
not appear to be present when <b>smartd</b> is started. This
Directive may be used in conjunction with the other
&acute;&minus;d&acute; Directives.</p>

<p style="margin-left:11%;"><b>&minus;n
POWERMODE[,N][,q]</b></p>

<p style="margin-left:22%;">[ATA only] This
&acute;nocheck&acute; Directive is used to prevent a disk
from being spun-up when it is periodically polled by
<b>smartd</b>.</p>

<p style="margin-left:22%; margin-top: 1em">ATA disks have
five different power states. In order of increasing power
consumption they are: &acute;OFF&acute;,
&acute;SLEEP&acute;, &acute;STANDBY&acute;,
&acute;IDLE&acute;, and &acute;ACTIVE&acute;. Typically in
the OFF, SLEEP, and STANDBY modes the disk&acute;s platters
are not spinning. But usually, in response to SMART commands
issued by <b>smartd</b>, the disk platters are spun up. So
if this option is not used, then a disk which is in a
low-power mode may be spun up and put into a higher-power
mode when it is periodically polled by <b>smartd</b>.</p>

<p style="margin-left:22%; margin-top: 1em">Note that if
the disk is in SLEEP mode when <b>smartd</b> is started,
then it won&rsquo;t respond to <b>smartd</b> commands, and
so the disk won&rsquo;t be registered as a device for
<b>smartd</b> to monitor. If a disk is in any other
low-power mode, then the commands issued by <b>smartd</b> to
register the disk will probably cause it to spin-up.</p>

<p style="margin-left:22%; margin-top: 1em">The
&acute;<b>&minus;n</b>&acute; (nocheck) Directive specifies
if <b>smartd</b>&acute;s periodic checks should still be
carried out when the device is in a low-power mode. It may
be used to prevent a disk from being spun-up by periodic
<b>smartd</b> polling. The allowed values of POWERMODE
are:</p>

<p style="margin-left:22%; margin-top: 1em"><i>never</i>
&minus; <b>smartd</b> will poll (check) the device
regardless of its power mode. This may cause a disk which is
spun-down to be spun-up when <b>smartd</b> checks it. This
is the default behavior if the &rsquo;&minus;n&rsquo;
Directive is not given.</p>

<p style="margin-left:22%; margin-top: 1em"><i>sleep</i>
&minus; check the device unless it is in SLEEP mode.</p>

<p style="margin-left:22%; margin-top: 1em"><i>standby</i>
&minus; check the device unless it is in SLEEP or STANDBY
mode. In these modes most disks are not spinning, so if you
want to prevent a laptop disk from spinning up each time
that <b>smartd</b> polls, this is probably what you
want.</p>

<p style="margin-left:22%; margin-top: 1em"><i>idle</i>
&minus; check the device unless it is in SLEEP, STANDBY or
IDLE mode. In the IDLE state, most disks are still spinning,
so this is probably not what you want.</p>

<p style="margin-left:22%; margin-top: 1em">Maximum number
of skipped checks (in a row) can be specified by appending
positive number &acute;,N&acute; to POWERMODE (like
&acute;&minus;n standby,15&acute;). After N checks are
skipped in a row, powermode is ignored and the check is
performed anyway.</p>

<p style="margin-left:22%; margin-top: 1em">When a periodic
test is skipped, <b>smartd</b> normally writes an informal
log message. The message can be suppressed by appending the
option &acute;,q&acute; to POWERMODE (like &acute;&minus;n
standby,q&acute;). This prevents a laptop disk from spinning
up due to this message.</p>

<p style="margin-left:22%; margin-top: 1em">Both
&acute;,N&acute; and &acute;,q&acute; can be specified
together.</p>

<p style="margin-left:11%;"><b>&minus;T TYPE</b></p>

<p style="margin-left:22%;">Specifies how tolerant
<b>smartd</b> should be of SMART command failures. The valid
arguments to this Directive are:</p>

<p style="margin-left:22%; margin-top: 1em"><i>normal</i>
&minus; do not try to monitor the disk if a mandatory SMART
command fails, but continue if an optional SMART command
fails. This is the default.</p>


<p style="margin-left:22%; margin-top: 1em"><i>permissive</i>
&minus; try to monitor the disk even if it appears to lack
SMART capabilities. This may be required for some old disks
(prior to ATA-3 revision 4) that implemented SMART before
the SMART standards were incorporated into the ATA/ATAPI
Specifications. [Please see the <b>smartctl &minus;T</b>
command-line option.]</p>

<p style="margin-left:11%;"><b>&minus;o VALUE</b></p>

<p style="margin-left:22%;">[ATA only] Enables or disables
SMART Automatic Offline Testing when <b>smartd</b> starts up
and has no further effect. The valid arguments to this
Directive are <i>on</i> and <i>off</i>.</p>

<p style="margin-left:22%; margin-top: 1em">The delay
between tests is vendor-specific, but is typically four
hours.</p>

<p style="margin-left:22%; margin-top: 1em">Note that SMART
Automatic Offline Testing is <b>not</b> part of the ATA
Specification. Please see the <b>smartctl &minus;o</b>
command-line option documentation for further information
about this feature.</p>

<p style="margin-left:11%;"><b>&minus;S VALUE</b></p>

<p style="margin-left:22%;">Enables or disables Attribute
Autosave when <b>smartd</b> starts up and has no further
effect. The valid arguments to this Directive are <i>on</i>
and <i>off</i>. Also affects SCSI devices. [Please see the
<b>smartctl &minus;S</b> command-line option.]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;H</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>[ATA only] Check the SMART health status of the disk. If
any Prefailure Attributes are less than or equal to their
threshold values, then disk failure is predicted in less
than 24 hours, and a message at loglevel
<b>&acute;LOG_CRIT&acute;</b> will be logged to syslog.
[Please see the <b>smartctl &minus;H</b> command-line
option.]</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;l TYPE</b></p>

<p style="margin-left:22%;">Reports increases in the number
of errors in one of three SMART logs. The valid arguments to
this Directive are:</p>

<p style="margin-left:22%; margin-top: 1em"><i>error</i>
&minus; [ATA only] report if the number of ATA errors
reported in the Summary SMART error log has increased since
the last check.</p>

<p style="margin-left:22%; margin-top: 1em"><i>xerror</i>
&minus; [ATA only] report if the number of ATA errors
reported in the Extended Comprehensive SMART error log has
increased since the last check.</p>

<p style="margin-left:22%; margin-top: 1em">If both
&acute;&minus;l error&acute; and &acute;&minus;l
xerror&acute; are specified, smartd checks the maximum of
both values.</p>

<p style="margin-left:22%; margin-top: 1em">[Please see the
<b>smartctl &minus;l xerror</b> command-line option.]</p>


<p style="margin-left:22%; margin-top: 1em"><i>selftest</i>
&minus; report if the number of failed tests reported in the
SMART Self-Test Log has increased since the last check, or
if the timestamp associated with the most recent failed test
has increased. Note that such errors will <b>only</b> be
logged if you run self-tests on the disk (and it fails a
test!). Self-Tests can be run automatically by
<b>smartd</b>: please see the <b>&acute;&minus;s&acute;</b>
Directive below. Self-Tests can also be run manually by
using the <b>&acute;&minus;t&nbsp;short&acute;</b> and
<b>&acute;&minus;t&nbsp;long&acute;</b> options of
<b>smartctl</b> and the results of the testing can be
observed using the <b>smartctl
&acute;&minus;l&nbsp;selftest&acute;</b> command-line
option. [Please see the <b>smartctl &minus;l</b> and
<b>&minus;t</b> command-line options.]</p>

<p style="margin-left:22%; margin-top: 1em">[ATA only]
Failed self-tests outdated by a newer successful extended
self-test are ignored. The warning email counter is reset if
the number of failed self tests dropped to 0. This typically
happens when an extended self-test is run after all bad
sectors have been reallocated.</p>


<p style="margin-left:22%; margin-top: 1em"><i>offlinests[,ns]</i>
&minus; [ATA only] report if the Offline Data Collection
status has changed since the last check. The report will be
logged as LOG_CRIT if the new status indicates an error.
With some drives the status often changes, therefore
&acute;&minus;l offlinests&acute; is not enabled by
&rsquo;&minus;a&acute; Directive. Appending
&acute;,ns&acute; (no standby) to this directive is not
implemented on Linux.</p>


<p style="margin-left:22%; margin-top: 1em"><i>selfteststs[,ns]</i>
&minus; [ATA only] report if the Self-Test execution status
has changed since the last check. The report will be logged
as LOG_CRIT if the new status indicates an error. Appending
&acute;,ns&acute; (no standby) to this directive is not
implemented on Linux.</p>


<p style="margin-left:22%; margin-top: 1em"><i>scterc,READTIME,WRITETIME</i>
&minus; [ATA only] sets the SCT Error Recovery Control
settings to the specified values (deciseconds) when
<b>smartd</b> starts up and has no further effect. Values of
0 disable the feature, other values less than 65 are
probably not supported. For RAID configurations, this is
typically set to 70,70 deciseconds. [Please see the
<b>smartctl &minus;l scterc</b> command-line option.]</p>

<p style="margin-left:11%;"><b>&minus;e
NAME[,VALUE]</b></p>

<p style="margin-left:22%;">Sets non-SMART device settings
when <b>smartd</b> starts up and has no further effect.
[Please see the <b>smartctl &minus;&minus;set</b>
command-line option.] Valid arguments are:</p>


<p style="margin-left:22%; margin-top: 1em"><i>aam,[N|off]</i>
&minus; [ATA only] Sets the Automatic Acoustic Management
(AAM) feature.</p>


<p style="margin-left:22%; margin-top: 1em"><i>apm,[N|off]</i>
&minus; [ATA only] Sets the Advanced Power Management (APM)
feature.</p>


<p style="margin-left:22%; margin-top: 1em"><i>lookahead,[on|off]</i>
&minus; [ATA only] Sets the read look-ahead feature.</p>


<p style="margin-left:22%; margin-top: 1em"><i>security-freeze</i>
&minus; [ATA only] Sets ATA Security feature to frozen
mode.</p>


<p style="margin-left:22%; margin-top: 1em"><i>standby,[N|off]</i>
&minus; [ATA only] Sets the standby (spindown) timer and
places the drive in the IDLE mode.</p>


<p style="margin-left:22%; margin-top: 1em"><i>wcache,[on|off]</i>
&minus; [ATA only] Sets the volatile write cache
feature.</p>

<p style="margin-left:11%;"><b>&minus;s REGEXP</b></p>

<p style="margin-left:22%;">Run Self-Tests or Offline
Immediate Tests, at scheduled times. A Self- or Offline
Immediate Test will be run at the end of periodic device
polling, if all 12 characters of the string
<b>T/MM/DD/d/HH</b> match the extended regular expression
<b>REGEXP</b>. Here:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p><b>T</b></p></td>
<td width="5%"></td>
<td width="72%">


<p>is the type of the test. The values that <b>smartd</b>
will try to match (in turn) are: &acute;L&acute; for a
<b>L</b>ong Self-Test, &acute;S&acute; for a <b>S</b>hort
Self-Test, &acute;C&acute; for a <b>C</b>onveyance Self-Test
(ATA only), and &acute;O&acute; for an <b>O</b>ffline
Immediate Test (ATA only). As soon as a match is found, the
test will be started and no additional matches will be
sought for that device and that polling cycle.</p></td></tr>
</table>

<p style="margin-left:28%; margin-top: 1em">To run
scheduled Selective Self-Tests, use &acute;n&acute; for
<b>n</b>ext span, &acute;r&acute; to <b>r</b>edo last span,
or &acute;c&acute; to <b>c</b>ontinue with next span or redo
last span based on status of last test. The LBA range is
based on the first span from the last test. See the
<b>smartctl &minus;t select,[next|redo|cont]</b> options for
further info.</p>

<p style="margin-left:28%; margin-top: 1em">Some disks
(e.g. WD) do not preserve the selective self test log
accross power cycles. If state persistence
(&acute;&minus;s&acute; option) is enabled, the last test
span is preserved by smartd and used if (and only if) the
selective self test log is empty.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>MM</b></p></td>
<td width="3%"></td>
<td width="72%">


<p style="margin-top: 1em">is the month of the year,
expressed with two decimal digits. The range is from 01
(January) to 12 (December) inclusive. Do <b>not</b> use a
single decimal digit or the match will always fail!</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>DD</b></p></td>
<td width="3%"></td>
<td width="72%">


<p>is the day of the month, expressed with two decimal
digits. The range is from 01 to 31 inclusive. Do <b>not</b>
use a single decimal digit or the match will always
fail!</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>d</b></p></td>
<td width="3%"></td>
<td width="72%">


<p>is the day of the week, expressed with one decimal
digit. The range is from 1 (Monday) to 7 (Sunday)
inclusive.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>HH</b></p></td>
<td width="3%"></td>
<td width="72%">


<p>is the hour of the day, written with two decimal digits,
and given in hours after midnight. The range is 00 (midnight
to just before 1am) to 23 (11pm to just before midnight)
inclusive. Do <b>not</b> use a single decimal digit or the
match will always fail!</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Some examples
follow. In reading these, keep in mind that in extended
regular expressions a dot <b>&acute;.&acute;</b> matches any
single character, and a parenthetical expression such as
<b>&acute;(A|B|C)&acute;</b> denotes any one of the three
possibilities <b>A</b>, <b>B</b>, or <b>C</b>.</p>

<p style="margin-left:22%; margin-top: 1em">To schedule a
short Self-Test between 2-3am every morning, use: <b><br>
&minus;s S/../.././02</b> <br>
To schedule a long Self-Test between 4-5am every Sunday
morning, use: <b><br>
&minus;s L/../../7/04</b> <br>
To schedule a long Self-Test between 10-11pm on the first
and fifteenth day of each month, use: <b><br>
&minus;s L/../(01|15)/./22</b> <br>
To schedule an Offline Immediate test after every midnight,
6am, noon,and 6pm, plus a Short Self-Test daily at 1-2am and
a Long Self-Test every Saturday at 3-4am, use: <b><br>
&minus;s
(O/../.././(00|06|12|18)|S/../.././01|L/../../6/03)</b> <br>
If Long Self-Tests of a large disks take longer than the
system uptime, a full disk test can be performed by several
Selective Self-Tests. To setup a full test of a 1TB disk
within 20 days (one 50GB span each day), run this command
once: <br>
smartctl -t select,0-99999999 /dev/sda <br>
To run the next test spans on Monday-Friday between 12-13am,
run smartd with this directive: <b><br>
&minus;s n/../../[1-5]/12</b></p>

<p style="margin-left:22%; margin-top: 1em">Scheduled tests
are run immediately following the regularly-scheduled device
polling, if the current local date, time, and test type,
match <b>REGEXP</b>. By default the regularly-scheduled
device polling occurs every thirty minutes after starting
<b>smartd</b>. Take caution if you use the
&acute;&minus;i&acute; option to make this polling interval
more than sixty minutes: the poll times may fail to coincide
with any of the testing times that you have specified with
<b>REGEXP</b>. In this case the test will be run following
the next device polling.</p>

<p style="margin-left:22%; margin-top: 1em">Before running
an offline or self-test, <b>smartd</b> checks to be sure
that a self-test is not already running. If a self-test
<b>is</b> already running, then this running self test will
<b>not</b> be interrupted to begin another test.</p>

<p style="margin-left:22%; margin-top: 1em"><b>smartd</b>
will not attempt to run <b>any</b> type of test if another
test was already started or run in the same hour.</p>

<p style="margin-left:22%; margin-top: 1em">To avoid
performance problems during system boot, <b>smartd</b> will
not attempt to run any scheduled tests following the very
first device polling (unless &acute;&minus;q onecheck&acute;
is specified).</p>

<p style="margin-left:22%; margin-top: 1em">Each time a
test is run, <b>smartd</b> will log an entry to SYSLOG. You
can use these or the &rsquo;-q showtests&rsquo; command-line
option to verify that you constructed <b>REGEXP</b>
correctly. The matching order (<b>L</b> before <b>S</b>
before <b>C</b> before <b>O</b>) ensures that if multiple
test types are all scheduled for the same hour, the longer
test type has precedence. This is usually the desired
behavior.</p>

<p style="margin-left:22%; margin-top: 1em">If the
scheduled tests are used in conjunction with state
persistence (&acute;&minus;s&acute; option), smartd will
also try to match the hours since last shutdown (or 90 days
at most). If any test would have been started during
downtime, the longest (see above) of these tests is run
after second device polling.</p>

<p style="margin-left:22%; margin-top: 1em">If the
&acute;&minus;n&acute; directive is used and any test would
have been started during disk standby time, the longest of
these tests is run when the disk is active again.</p>

<p style="margin-left:22%; margin-top: 1em">Unix users:
please beware that the rules for extended regular
expressions [regex(7)] are <b>not</b> the same as the rules
for file-name pattern matching by the shell [glob(7)].
<b>smartd</b> will issue harmless informational warning
messages if it detects characters in <b>REGEXP</b> that
appear to indicate that you have made this mistake.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>&minus;m ADD</b></p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">Send a warning email to the
email address <b>ADD</b> if the &acute;&minus;H&acute;,
&acute;&minus;l&acute;, &acute;&minus;f&acute;,
&acute;&minus;C&acute;, or &acute;&minus;O&acute; Directives
detect a failure or a new error, or if a SMART command to
the disk fails. This Directive only works in conjunction
with these other Directives (or with the equivalent default
&acute;&minus;a&acute; Directive).</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">To prevent your
email in-box from getting filled up with warning messages,
by default only a single warning will be sent for each of
the enabled alert types, &acute;&minus;H&acute;,
&acute;&minus;l&acute;, &acute;&minus;f&acute;,
&acute;&minus;C&acute;, or &acute;&minus;O&acute; even if
more than one failure or error is detected or if the failure
or error persists. [This behavior can be modified; see the
&acute;&minus;M&acute; Directive below.]</p>

<p style="margin-left:22%; margin-top: 1em">To send email
to more than one user, please use the following &quot;comma
separated&quot; form for the address:
<b>user1@add1,user2@add2,...,userN@addN</b> (with no
spaces).</p>

<p style="margin-left:22%; margin-top: 1em">To test that
email is being sent correctly, use the &acute;&minus;M
test&acute; Directive described below to send one test email
message on <b>smartd</b> startup.</p>

<p style="margin-left:22%; margin-top: 1em">By default,
email is sent using the system <b>mail</b> command. In order
that <b>smartd</b> find the mail command (normally
/bin/mail) an executable named <b>&acute;mail&acute;</b>
must be in the path of the shell or environment from which
<b>smartd</b> was started. If you wish to specify an
explicit path to the mail executable (for example
/usr/local/bin/mail) or a custom script to run, please use
the &acute;&minus;M exec&acute; Directive below.</p>

<p style="margin-left:22%; margin-top: 1em">Note also that
there is a special argument <b>&lt;nomailer&gt;</b> which
can be given to the &acute;&minus;m&acute; Directive in
conjunction with the &acute;&minus;M exec&acute; Directive.
Please see below for an explanation of its effect.</p>

<p style="margin-left:22%; margin-top: 1em">If the mailer
or the shell running it produces any STDERR/STDOUT output,
then a snippet of that output will be copied to SYSLOG. The
remainder of the output is discarded. If problems are
encountered in sending mail, this should help you to
understand and fix them. If you have mail problems, we
recommend running <b>smartd</b> in debug mode with the
&acute;-d&acute; flag, using the &acute;-M test&acute;
Directive described below.</p>

<p style="margin-left:22%; margin-top: 1em">[NEW
EXPERIMENTAL SMARTD FEATURE] If a word of the comma
separated list has the form &acute;@plugin&acute;, a custom
script /etc/smartmontools/smartd_warning.d/plugin is run and
the word is removed from the list before sending mail. The
string &acute;plugin&acute; may be any valid name except
&acute;ALL&acute;. If &acute;@ALL&acute; is specified, all
scripts in /etc/smartmontools/smartd_warning.d/* are run
instead. This is handled by the script
/etc/smartmontools/smartd_warning.sh (see also
&acute;&minus;M exec&acute; below).</p>

<p style="margin-left:11%;"><b>&minus;M TYPE</b></p>

<p style="margin-left:22%;">These Directives modify the
behavior of the <b>smartd</b> email warnings enabled with
the &acute;&minus;m&acute; email Directive described above.
These &acute;&minus;M&acute; Directives only work in
conjunction with the &acute;&minus;m&acute; Directive and
can not be used without it.</p>

<p style="margin-left:22%; margin-top: 1em">Multiple
&minus;M Directives may be given. If more than one of the
following three &minus;M Directives are given (example:
&minus;M once &minus;M daily) then the final one (in the
example, &minus;M daily) is used.</p>

<p style="margin-left:22%; margin-top: 1em">The valid
arguments to the &minus;M Directive are (one of the
following three):</p>

<p style="margin-left:22%; margin-top: 1em"><i>once</i>
&minus; send only one warning email for each type of disk
problem detected. This is the default unless state
persistence (&acute;&minus;s&acute; option) is enabled.</p>

<p style="margin-left:22%; margin-top: 1em"><i>daily</i>
&minus; send additional warning reminder emails, once per
day, for each type of disk problem detected. This is the
default if state persistence (&acute;&minus;s&acute; option)
is enabled.</p>


<p style="margin-left:22%; margin-top: 1em"><i>diminishing</i>
&minus; send additional warning reminder emails, after a
one-day interval, then a two-day interval, then a four-day
interval, and so on for each type of disk problem detected.
Each interval is twice as long as the previous interval.</p>

<p style="margin-left:22%; margin-top: 1em">If a disk
problem is no longer detected, the internal email counter is
reset. If the problem reappears a new warning email is sent
immediately.</p>

<p style="margin-left:22%; margin-top: 1em">In addition,
one may add zero or more of the following Directives:</p>

<p style="margin-left:22%; margin-top: 1em"><i>test</i>
&minus; send a single test email immediately upon
<b>smartd</b> startup. This allows one to verify that email
is delivered correctly. Note that if this Directive is used,
<b>smartd</b> will also send the normal email warnings that
were enabled with the &acute;&minus;m&acute; Directive, in
addition to the single test email!</p>

<p style="margin-left:22%; margin-top: 1em"><i>exec
PATH</i> &minus; run the executable PATH instead of the
default mail command, when <b>smartd</b> needs to send
email. PATH must point to an executable binary file or
script.</p>

<p style="margin-left:22%; margin-top: 1em">By setting PATH
to point to a customized script, you can make <b>smartd</b>
perform useful tricks when a disk problem is detected
(beeping the console, shutting down the machine,
broadcasting warnings to all logged-in users, etc.) But
please be careful. <b>smartd</b> will <b>block</b> until the
executable PATH returns, so if your executable hangs, then
<b>smartd</b> will also hang. Some sample scripts are
included in
/usr/share/doc/smartmontools/examplescripts/.</p>

<p style="margin-left:22%; margin-top: 1em">The return
status of the executable is recorded by <b>smartd</b> in
SYSLOG. The executable is not expected to write to STDOUT or
STDERR. If it does, then this is interpreted as indicating
that something is going wrong with your executable, and a
fragment of this output is logged to SYSLOG to help you to
understand the problem. Normally, if you wish to leave some
record behind, the executable should send mail or write to a
file or device.</p>

<p style="margin-left:22%; margin-top: 1em">Before running
the executable, <b>smartd</b> sets a number of environment
variables. These environment variables may be used to
control the executable&acute;s behavior. The environment
variables exported by <b>smartd</b> are: <b><br>
SMARTD_MAILER</b></p>

<p style="margin-left:28%;">is set to the argument of
&minus;M exec, if present or else to &acute;mail&acute;
(examples: /bin/mail, mail).</p>

<p style="margin-left:22%;"><b>SMARTD_DEVICE</b></p>

<p style="margin-left:28%;">is set to the device path
(examples: /dev/hda, /dev/sdb).</p>

<p style="margin-left:22%;"><b>SMARTD_DEVICETYPE</b></p>

<p style="margin-left:28%;">is set to the device type
specified by &acute;-d&acute; directive or
&acute;auto&acute; if none.</p>

<p style="margin-left:22%;"><b>SMARTD_DEVICESTRING</b></p>

<p style="margin-left:28%;">is set to the device
description. For SMARTD_DEVICETYPE of ata or scsi, this is
the same as SMARTD_DEVICE. For 3ware RAID controllers, the
form used is &acute;/dev/sdc [3ware_disk_01]&acute;. For
HighPoint RocketRAID controller, the form is &acute;/dev/sdd
[hpt_1/1/1]&acute; under Linux or &acute;/dev/hptrr
[hpt_1/1/1]&acute; under FreeBSD. For Areca controllers, the
form is &acute;/dev/sg2 [areca_disk_09]&acute; on Linux or
&acute;/dev/arcmsr0 [areca_disk_09]&acute; on FreeBSD. In
these cases the device string contains a space and is NOT
quoted. So to use $SMARTD_DEVICESTRING in a bash script you
should probably enclose it in double quotes.</p>

<p style="margin-left:22%;"><b>SMARTD_DEVICEINFO</b></p>

<p style="margin-left:28%;">is set to device identify
information. It includes most of the info printed by
<b>smartctl &minus;i</b> but uses a brief single line
format. This device info is also logged when <b>smartd</b>
starts up. The string contains space characters and is NOT
quoted.</p>

<p style="margin-left:22%;"><b>SMARTD_FAILTYPE</b></p>

<p style="margin-left:28%;">gives the reason for the
warning or message email. The possible values that it takes
and their meanings are: <i><br>
EmailTest</i>: this is an email test message. <i><br>
Health</i>: the SMART health status indicates imminent
failure. <i><br>
Usage</i>: a usage Attribute has failed. <i><br>
SelfTest</i>: the number of self-test failures has
increased. <i><br>
ErrorCount</i>: the number of errors in the ATA error log
has increased. <i><br>
CurrentPendingSector</i>: one of more disk sectors could not
be read and are marked to be reallocated (replaced with
spare sectors). <i><br>
OfflineUncorrectableSector</i>: during off-line testing, or
self-testing, one or more disk sectors could not be read.
<i><br>
Temperature</i>: Temperature reached critical limit (see
&minus;W directive). <i><br>
FailedHealthCheck</i>: the SMART health status command
failed. <i><br>
FailedReadSmartData</i>: the command to read SMART Attribute
data failed. <i><br>
FailedReadSmartErrorLog</i>: the command to read the SMART
error log failed. <i><br>
FailedReadSmartSelfTestLog</i>: the command to read the
SMART self-test log failed. <i><br>
FailedOpenDevice</i>: the open() command to the device
failed.</p>

<p style="margin-left:22%;"><b>SMARTD_ADDRESS</b></p>

<p style="margin-left:28%;">is determined by the address
argument ADD of the &acute;&minus;m&acute; Directive. If ADD
is <b>&lt;nomailer&gt;</b>, then <b>SMARTD_ADDRESS</b> is
not set. Otherwise, it is set to the comma-separated-list of
email addresses given by the argument ADD, with the commas
replaced by spaces (example:admin@example.com root). If more
than one email address is given, then this string will
contain space characters and is NOT quoted, so to use it in
a bash script you may want to enclose it in double
quotes.</p>

<p style="margin-left:22%;"><b>SMARTD_MESSAGE</b></p>

<p style="margin-left:28%;">is set to the one sentence
summary warning email message string from <b>smartd</b>.
This message string contains space characters and is NOT
quoted. So to use $SMARTD_MESSAGE in a bash script you
should probably enclose it in double quotes.</p>

<p style="margin-left:22%;"><b>SMARTD_FULLMESSAGE</b></p>

<p style="margin-left:28%;">is set to the contents of the
entire email warning message string from <b>smartd</b>. This
message string contains space and return characters and is
NOT quoted. So to use $SMARTD_FULLMESSAGE in a bash script
you should probably enclose it in double quotes.</p>

<p style="margin-left:22%;"><b>SMARTD_TFIRST</b></p>

<p style="margin-left:28%;">is a text string giving the
time and date at which the first problem of this type was
reported. This text string contains space characters and no
newlines, and is NOT quoted. For example: <br>
Sun Feb 9 14:58:19 2003 CST</p>

<p style="margin-left:22%;"><b>SMARTD_TFIRSTEPOCH</b></p>

<p style="margin-left:28%;">is an integer, which is the
unix epoch (number of seconds since Jan 1, 1970) for
<b>SMARTD_TFIRST</b>.</p>

<p style="margin-left:22%;"><b>SMARTD_PREVCNT</b></p>

<p style="margin-left:28%;">is an integer specifying the
number of previous messages sent. It is set to
&acute;0&acute; for the first message.</p>

<p style="margin-left:22%;"><b>SMARTD_NEXTDAYS</b></p>

<p style="margin-left:28%;">is an integer specifying the
number of days until the next message will be sent. It it
set to empty on &acute;&minus;M once&acute; and set to
&acute;1&acute; on &acute;&minus;M daily&acute;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="78%">


<p>The shell which is used to run PATH is system-dependent.
For vanilla Linux/glibc it&acute;s bash. For other systems,
the man page for <b>popen</b>(3) should say what shell is
used.</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">If the
&acute;&minus;m ADD&acute; Directive is given with a normal
address argument, then the executable pointed to by PATH
will be run in a shell with STDIN receiving the body of the
email message, and with the same command-line arguments:
<br>
-s &quot;$SMARTD_SUBJECT&quot; $SMARTD_ADDRESS <br>
that would normally be provided to &acute;mail&acute;.
Examples include: <b><br>
-m user@home -M exec /bin/mail <br>
-m admin@work -M exec /usr/local/bin/mailto <br>
-m root -M exec /Example_1/bash/script/below</b></p>

<p style="margin-left:22%; margin-top: 1em">If the
&acute;&minus;m ADD&acute; Directive is given with the
special address argument <b>&lt;nomailer&gt;</b> then the
executable pointed to by PATH is run in a shell with
<b>no</b> STDIN and <b>no</b> command-line arguments, for
example: <b><br>
-m &lt;nomailer&gt; -M exec /Example_2/bash/script/below</b>
<br>
If the executable produces any STDERR/STDOUT output, then
<b>smartd</b> assumes that something is going wrong, and a
snippet of that output will be copied to SYSLOG. The
remainder of the output is then discarded.</p>

<p style="margin-left:22%; margin-top: 1em">Some EXAMPLES
of scripts that can be used with the &acute;&minus;M
exec&acute; Directive are given below. Some sample scripts
are also included in
/usr/share/doc/smartmontools/examplescripts/.</p>

<p style="margin-left:22%; margin-top: 1em">[NEW
EXPERIMENTAL SMARTD FEATURE] The executable is run by the
script /etc/smartmontools/smartd_warning.sh. This script
formats subject and full message based on SMARTD_MESSAGE and
other environment variables set by <b>smartd</b>. The
environment variables SMARTD_SUBJECT and SMARTD_FULLMESSAGE
are set by the script before running the executable.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p style="margin-top: 1em"><b>&minus;f</b></p></td>
<td width="4%"></td>
<td width="78%">


<p style="margin-top: 1em">[ATA only] Check for
&acute;failure&acute; of any Usage Attributes. If these
Attributes are less than or equal to the threshold, it does
NOT indicate imminent disk failure. It &quot;indicates an
advisory condition where the usage or age of the device has
exceeded its intended design life period.&quot; [Please see
the <b>smartctl &minus;A</b> command-line option.]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>&minus;p</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>[ATA only] Report anytime that a Prefail Attribute has
changed its value since the last check. [Please see the
<b>smartctl &minus;A</b> command-line option.]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>&minus;u</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>[ATA only] Report anytime that a Usage Attribute has
changed its value since the last check. [Please see the
<b>smartctl &minus;A</b> command-line option.]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>&minus;t</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>[ATA only] Equivalent to turning on the two previous
flags &acute;&minus;p&acute; and &acute;&minus;u&acute;.
Tracks changes in <i>all</i> device Attributes (both
Prefailure and Usage). [Please see the <b>smartctl</b>
&minus;A command-line option.]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>&minus;i ID</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>[ATA only] Ignore device Attribute number <b>ID</b> when
checking for failure of Usage Attributes. <b>ID</b> must be
a decimal integer in the range from 1 to 255. This Directive
modifies the behavior of the &acute;&minus;f&acute;
Directive and has no effect without it.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">This is useful,
for example, if you have a very old disk and don&acute;t
want to keep getting messages about the hours-on-lifetime
Attribute (usually Attribute 9) failing. This Directive may
appear multiple times for a single device, if you want to
ignore multiple Attributes.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p style="margin-top: 1em"><b>&minus;I ID</b></p></td>
<td width="4%"></td>
<td width="78%">


<p style="margin-top: 1em">[ATA only] Ignore device
Attribute <b>ID</b> when tracking changes in the Attribute
values. <b>ID</b> must be a decimal integer in the range
from 1 to 255. This Directive modifies the behavior of the
&acute;&minus;p&acute;, &acute;&minus;u&acute;, and
&acute;&minus;t&acute; tracking Directives and has no effect
without one of them.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">This is useful,
for example, if one of the device Attributes is the disk
temperature (usually Attribute 194 or 231). It&acute;s
annoying to get reports each time the temperature changes.
This Directive may appear multiple times for a single
device, if you want to ignore multiple Attributes.</p>

<p style="margin-left:11%;"><b>&minus;r ID[!]</b></p>

<p style="margin-left:22%;">[ATA only] When tracking,
report the <i>Raw</i> value of Attribute <b>ID</b> along
with its (normally reported) <i>Normalized</i> value.
<b>ID</b> must be a decimal integer in the range from 1 to
255. This Directive modifies the behavior of the
&acute;&minus;p&acute;, &acute;&minus;u&acute;, and
&acute;&minus;t&acute; tracking Directives and has no effect
without one of them. This Directive may be given multiple
times.</p>

<p style="margin-left:22%; margin-top: 1em">A common use of
this Directive is to track the device Temperature (often
ID=194 or 231).</p>

<p style="margin-left:22%; margin-top: 1em">If the optional
flag &acute;!&acute; is appended, a change of the Normalized
value is considered critical. The report will be logged as
LOG_CRIT and a warning email will be sent if
&acute;&minus;m&acute; is specified.</p>

<p style="margin-left:11%;"><b>&minus;R ID[!]</b></p>

<p style="margin-left:22%;">[ATA only] When tracking,
report whenever the <i>Raw</i> value of Attribute <b>ID</b>
changes. (Normally <b>smartd</b> only tracks/reports changes
of the <i>Normalized</i> Attribute values.) <b>ID</b> must
be a decimal integer in the range from 1 to 255. This
Directive modifies the behavior of the
&acute;&minus;p&acute;, &acute;&minus;u&acute;, and
&acute;&minus;t&acute; tracking Directives and has no effect
without one of them. This Directive may be given multiple
times.</p>

<p style="margin-left:22%; margin-top: 1em">If this
Directive is given, it automatically implies the
&acute;&minus;r&acute; Directive for the same Attribute, so
that the Raw value of the Attribute is reported.</p>

<p style="margin-left:22%; margin-top: 1em">A common use of
this Directive is to track the device Temperature (often
ID=194 or 231). It is also useful for understanding how
different types of system behavior affects the values of
certain Attributes.</p>

<p style="margin-left:22%; margin-top: 1em">If the optional
flag &acute;!&acute; is appended, a change of the Raw value
is considered critical. The report will be logged as
LOG_CRIT and a warning email will be sent if
&acute;&minus;m&acute; is specified. An example is &acute;-R
5!&acute; to warn when new sectors are reallocated.</p>

<p style="margin-left:11%;"><b>&minus;C ID[+]</b></p>

<p style="margin-left:22%;">[ATA only] Report if the
current number of pending sectors is non-zero. Here
<b>ID</b> is the id number of the Attribute whose raw value
is the Current Pending Sector count. The allowed range of
<b>ID</b> is 0 to 255 inclusive. To turn off this reporting,
use ID&nbsp;=&nbsp;0. If the <b>&minus;C ID</b> option is
not given, then it defaults to <b>&minus;C 197</b> (since
Attribute 197 is generally used to monitor pending sectors).
If the name of this Attribute is changed by a
&acute;&minus;v 197,FORMAT,NAME&acute; directive, the
default is changed to <b>&minus;C 0</b>.</p>

<p style="margin-left:22%; margin-top: 1em">If
&acute;+&acute; is specified, a report is only printed if
the number of sectors has increased between two check
cycles. Some disks do not reset this attribute when a bad
sector is reallocated. See also &acute;&minus;v
197,increasing&acute; below.</p>

<p style="margin-left:22%; margin-top: 1em">The warning
email counter is reset if the number of pending sectors
dropped to 0. This typically happens when all pending
sectors have been reallocated or could be read again.</p>

<p style="margin-left:22%; margin-top: 1em">A pending
sector is a disk sector (containing 512 bytes of your data)
which the device would like to mark as
&lsquo;&lsquo;bad&quot; and reallocate. Typically this is
because your computer tried to read that sector, and the
read failed because the data on it has been corrupted and
has inconsistent Error Checking and Correction (ECC) codes.
This is important to know, because it means that there is
some unreadable data on the disk. The problem of figuring
out what file this data belongs to is operating system and
file system specific. You can typically force the sector to
reallocate by writing to it (translation: make the device
substitute a spare good sector for the bad one) but at the
price of losing the 512 bytes of data stored there.</p>

<p style="margin-left:11%;"><b>&minus;U ID[+]</b></p>

<p style="margin-left:22%;">[ATA only] Report if the number
of offline uncorrectable sectors is non-zero. Here <b>ID</b>
is the id number of the Attribute whose raw value is the
Offline Uncorrectable Sector count. The allowed range of
<b>ID</b> is 0 to 255 inclusive. To turn off this reporting,
use ID&nbsp;=&nbsp;0. If the <b>&minus;U ID</b> option is
not given, then it defaults to <b>&minus;U 198</b> (since
Attribute 198 is generally used to monitor offline
uncorrectable sectors). If the name of this Attribute is
changed by a &acute;&minus;v 198,FORMAT,NAME&acute; (except
&acute;&minus;v 198,FORMAT,Offline_Scan_UNC_SectCt&acute;),
directive, the default is changed to <b>&minus;U 0</b>.</p>

<p style="margin-left:22%; margin-top: 1em">If
&acute;+&acute; is specified, a report is only printed if
the number of sectors has increased since the last check
cycle. Some disks do not reset this attribute when a bad
sector is reallocated. See also &acute;&minus;v
198,increasing&acute; below.</p>

<p style="margin-left:22%; margin-top: 1em">The warning
email counter is reset if the number of offline
uncorrectable sectors dropped to 0. This typically happens
when all offline uncorrectable sectors have been reallocated
or could be read again.</p>

<p style="margin-left:22%; margin-top: 1em">An offline
uncorrectable sector is a disk sector which was not readable
during an off-line scan or a self-test. This is important to
know, because if you have data stored in this disk sector,
and you need to read it, the read will fail. Please see the
previous &acute;&minus;C&acute; option for more details.</p>

<p style="margin-left:11%;"><b>&minus;W
DIFF[,INFO[,CRIT]]</b></p>

<p style="margin-left:22%;">Report if the current
temperature had changed by at least <b>DIFF</b> degrees
since last report, or if new min or max temperature is
detected. Report or Warn if the temperature is greater or
equal than one of <b>INFO</b> or <b>CRIT</b> degrees
Celsius. If the limit <b>CRIT</b> is reached, a message with
loglevel <b>&acute;LOG_CRIT&acute;</b> will be logged to
syslog and a warning email will be send if
&acute;&minus;m&acute; is specified. If only the limit
<b>INFO</b> is reached, a message with loglevel
<b>&acute;LOG_INFO&acute;</b> will be logged.</p>

<p style="margin-left:22%; margin-top: 1em">The warning
email counter is reset if the temperature dropped below
<b>INFO</b> or <b>CRIT</b>-5 if <b>INFO</b> is not
specified.</p>

<p style="margin-left:22%; margin-top: 1em">If this
directive is used in conjunction with state persistence
(&acute;&minus;s&acute; option), the min and max temperature
values are preserved across boot cycles. The minimum
temperature value is not updated during the first 30 minutes
after startup.</p>

<p style="margin-left:22%; margin-top: 1em">To disable any
of the 3 reports, set the corresponding limit to 0. Trailing
zero arguments may be omitted. By default, all temperature
reports are disabled (&acute;-W 0&acute;).</p>

<p style="margin-left:22%; margin-top: 1em">To track
temperature changes of at least 2 degrees, use: <b><br>
&minus;W 2</b> <br>
To log informal messages on temperatures of at least 40
degrees, use: <b><br>
&minus;W 0,40</b> <br>
For warning messages/mails on temperatures of at least 45
degrees, use: <b><br>
&minus;W 0,0,45</b> <br>
To combine all of the above reports, use: <b><br>
&minus;W 2,40,45</b></p>

<p style="margin-left:22%; margin-top: 1em">For ATA
devices, smartd interprets Attribute 194 or 190 as
Temperature Celsius by default. This can be changed to
Attribute 9 or 220 by the drive database or by the
&acute;&minus;v 9,temp&acute; or &acute;&minus;v
220,temp&acute; directive.</p>

<p style="margin-left:11%;"><b>&minus;F TYPE</b></p>

<p style="margin-left:22%;">[ATA only] Modifies the
behavior of <b>smartd</b> to compensate for some known and
understood device firmware bug. This directive may be used
multiple times. The valid arguments are:</p>

<p style="margin-left:22%; margin-top: 1em"><i>none</i>
&minus; Assume that the device firmware obeys the ATA
specifications. This is the default, unless the device has
presets for &acute;&minus;F&acute; in the drive database.
Using this directive will over-ride any preset values.</p>


<p style="margin-left:22%; margin-top: 1em"><i>nologdir</i>
&minus; Suppresses read attempts of SMART or GP Log
Directory. Support for all standard logs is assumed without
an actual check. Some Intel SSDs may freeze if log address 0
is read.</p>

<p style="margin-left:22%; margin-top: 1em"><i>samsung</i>
&minus; In some Samsung disks (example: model SV4012H
Firmware Version: RM100-08) some of the two- and four-byte
quantities in the SMART data structures are byte-swapped
(relative to the ATA specification). Enabling this option
tells <b>smartd</b> to evaluate these quantities in
byte-reversed order. Some signs that your disk needs this
option are (1) no self-test log printed, even though you
have run self-tests; (2) very large numbers of ATA errors
reported in the ATA error log; (3) strange and impossible
values for the ATA error log timestamps.</p>


<p style="margin-left:22%; margin-top: 1em"><i>samsung2</i>
&minus; In some Samsung disks the number of ATA errors
reported is byte swapped. Enabling this option tells
<b>smartd</b> to evaluate this quantity in byte-reversed
order.</p>


<p style="margin-left:22%; margin-top: 1em"><i>samsung3</i>
&minus; Some Samsung disks (at least SP2514N with Firmware
VF100-37) report a self-test still in progress with 0%
remaining when the test was already completed. If this
directive is specified, <b>smartd</b> will not skip the next
scheduled self-test (see Directive &acute;&minus;s&acute;
above) in this case.</p>


<p style="margin-left:22%; margin-top: 1em"><i>xerrorlba</i>
&minus; This only affects <b>smartctl</b>.</p>

<p style="margin-left:22%; margin-top: 1em">[Please see the
<b>smartctl &minus;F</b> command-line option.]</p>

<p style="margin-left:11%;"><b>&minus;v
ID,FORMAT[:BYTEORDER][,NAME]</b></p>

<p style="margin-left:22%;">[ATA only] Sets a
vendor-specific raw value print FORMAT, an optional
BYTEORDER and an optional NAME for Attribute ID. This
directive may be used multiple times. Please see <b>smartctl
-v</b> command-line option for further details.</p>

<p style="margin-left:22%; margin-top: 1em">The following
arguments affect smartd warning output:</p>


<p style="margin-left:22%; margin-top: 1em"><i>197,increasing</i>
&minus; Raw Attribute number 197 (Current Pending Sector
Count) is not reset if uncorrectable sectors are
reallocated. This sets &acute;-C 197+&acute; if no other
&acute;-C&acute; directive is specified.</p>


<p style="margin-left:22%; margin-top: 1em"><i>198,increasing</i>
&minus; Raw Attribute number 198 (Offline Uncorrectable
Sector Count) is not reset if uncorrectable sector are
reallocated. This sets &acute;-U 198+&acute; if no other
&acute;-U&acute; directive is specified.</p>

<p style="margin-left:11%;"><b>&minus;P TYPE</b></p>

<p style="margin-left:22%;">[ATA only] Specifies whether
<b>smartd</b> should use any preset options that are
available for this drive. The valid arguments to this
Directive are:</p>

<p style="margin-left:22%; margin-top: 1em"><i>use</i>
&minus; use any presets that are available for this drive.
This is the default.</p>

<p style="margin-left:22%; margin-top: 1em"><i>ignore</i>
&minus; do not use any presets for this drive.</p>

<p style="margin-left:22%; margin-top: 1em"><i>show</i>
&minus; show the presets listed for this drive in the
database.</p>

<p style="margin-left:22%; margin-top: 1em"><i>showall</i>
&minus; show the presets that are available for all drives
and then exit.</p>

<p style="margin-left:22%; margin-top: 1em">[Please see the
<b>smartctl &minus;P</b> command-line option.]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;a</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Equivalent to turning on all of the following
Directives: <b>&acute;&minus;H&acute;</b> to check the SMART
health status, <b>&acute;&minus;f&acute;</b> to report
failures of Usage (rather than Prefail) Attributes,
<b>&acute;&minus;t&acute;</b> to track changes in both
Prefailure and Usage Attributes,
<b>&acute;&minus;l&nbsp;error&acute;</b> to report increases
in the number of ATA errors,
<b>&acute;&minus;l&nbsp;selftest&acute;</b> to report
increases in the number of Self-Test Log errors,
<b>&acute;&minus;l&nbsp;selfteststs&acute;</b> to report
changes of Self-Test execution status, <b>&acute;&minus;C
197&acute;</b> to report nonzero values of the current
pending sector count, and <b>&acute;&minus;U 198&acute;</b>
to report nonzero values of the offline pending sector
count.</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Note that
&minus;a is the default for ATA devices. If none of these
other Directives is given, then &minus;a is assumed.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>#</b></p></td>
<td width="10%"></td>
<td width="78%">


<p style="margin-top: 1em">Comment: ignore the remainder of
the line.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>\</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>Continuation character: if this is the last non-white or
non-comment character on a line, then the following line is
a continuation of the current one.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">If you are not
sure which Directives to use, I suggest experimenting for a
few minutes with <b>smartctl</b> to see what SMART
functionality your disk(s) support(s). If you do not like
voluminous syslog messages, a good choice of <b>smartd</b>
configuration file Directives might be: <b><br>
&minus;H &minus;l&nbsp;selftest &minus;l&nbsp;error
&minus;f.</b> <br>
If you want more frequent information, use: <b>-a. <br>
ADDITIONAL DETAILS ABOUT DEVICESCAN</b></p>

<p style="margin-left:22%;">If a non-comment entry in the
configuration file is the text string <b>DEVICESCAN</b> in
capital letters, then <b>smartd</b> will ignore any
remaining lines in the configuration file, and will scan for
devices (see also <b>smartd</b>(8) man page).</p>

<p style="margin-left:22%; margin-top: 1em">If
<b>DEVICESCAN</b> is not followed by any Directives, then
smartd will scan for both ATA and SCSI devices, and will
monitor all possible SMART properties of any devices that
are found.</p>


<p style="margin-left:22%; margin-top: 1em"><b>DEVICESCAN</b>
may optionally be followed by any valid Directives, which
will be applied to all devices that are found in the scan.
For example <b><br>
DEVICESCAN -m root@example.com</b> <br>
will scan for all devices, and then monitor them. It will
send one email warning per device for any problems that are
found. <b><br>
DEVICESCAN -d ata -m root@example.com</b> <br>
will do the same, but restricts the scan to ATA devices
only. <b><br>
DEVICESCAN -H -d ata -m root@example.com</b> <br>
will do the same, but only monitors the SMART health status
of the devices, (rather than the default &minus;a, which
monitors all SMART properties).</p>

<p style="margin-left:22%; margin-top: 1em">[NEW
EXPERIMENTAL SMARTD FEATURE] Configuration entries for
specific devices may precede the <b>DEVICESCAN</b> entry.
For example <b><br>
DEFAULT -m root@example.com <br>
/dev/sda -s S/../.././02 <br>
/dev/sdc -d ignore <br>
DEVICESCAN -s L/../.././02</b> <br>
will scan for all devices except /dev/sda and /dev/sdc,
monitor them, and run a long test between 2-3am every
morning. Device /dev/sda will also be monitored, but only a
short test will be run. Device /dev/sdc will be ignored.
Warning emails will be sent for all monitored devices.</p>

<p style="margin-left:11%;"><b>EXAMPLES OF SHELL SCRIPTS
FOR &acute;&minus;M exec&acute;</b></p>

<p style="margin-left:22%;">These are two examples of shell
scripts that can be used with the &acute;&minus;M exec
PATH&acute; Directive described previously. The paths to
these scripts and similar executables is the PATH argument
to the &acute;&minus;M exec PATH&acute; Directive.</p>

<p style="margin-left:22%; margin-top: 1em">Example 1: This
script is for use with &acute;&minus;m ADDRESS -M exec
PATH&acute;. It appends the output of <b>smartctl -a</b> to
the output of the smartd email warning message and sends it
to ADDRESS.</p>

<p style="margin-left:22%; margin-top: 1em"><b>#!
/bin/bash</b></p>

<p style="margin-left:22%; margin-top: 1em"><b># Save the
email message (STDIN) to a file: <br>
cat &gt; /root/msg</b></p>

<p style="margin-left:22%; margin-top: 1em"><b># Append the
output of smartctl -a to the message: <br>
/usr/sbin/smartctl -a -d $SMART_DEVICETYPE $SMARTD_DEVICE
&gt;&gt; /root/msg</b></p>

<p style="margin-left:22%; margin-top: 1em"><b># Now email
the message to the user at address ADD: <br>
/bin/mail -s &quot;$SMARTD_SUBJECT&quot; $SMARTD_ADDRESS
&lt; /root/msg</b></p>

<p style="margin-left:22%; margin-top: 1em">Example 2: This
script is for use with &acute;&minus;m &lt;nomailer&gt;
&minus;M exec PATH&acute;. It warns all users about a disk
problem, waits 30 seconds, and then powers down the
machine.</p>

<p style="margin-left:22%; margin-top: 1em"><b>#!
/bin/bash</b></p>

<p style="margin-left:22%; margin-top: 1em"><b># Warn all
users of a problem <br>
wall &acute;Problem detected with disk: &acute;
&quot;$SMARTD_DEVICESTRING&quot; <br>
wall &acute;Warning message from smartd is: &acute;
&quot;$SMARTD_MESSAGE&quot; <br>
wall &acute;Shutting down machine in 30 seconds...
&acute;</b></p>

<p style="margin-left:22%; margin-top: 1em"><b># Wait half
a minute <br>
sleep 30</b></p>

<p style="margin-left:22%; margin-top: 1em"><b># Power down
the machine <br>
/sbin/shutdown -hf now</b></p>

<p style="margin-left:22%; margin-top: 1em">Some example
scripts are distributed with the smartmontools package, in
/usr/share/doc/smartmontools/examplescripts/.</p>

<p style="margin-left:22%; margin-top: 1em">Please note
that these scripts typically run as root, so any files that
they read/write should not be writable by ordinary users or
reside in directories like /tmp that are writable by
ordinary users and may expose your system to symlink
attacks.</p>

<p style="margin-left:22%; margin-top: 1em">As previously
described, if the scripts write to STDOUT or STDERR, this is
interpreted as indicating that there was an internal error
within the script, and a snippet of STDOUT/STDERR is logged
to SYSLOG. The remainder is flushed.</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Bruce
Allen</b> <br>
University of Wisconsin &minus; Milwaukee Physics Department
<b><br>
Christian Franke</b> (Windows interface, C++ redesign, most
enhancements since 2009) <b><br>
smartmontools&minus;support@lists.sourceforge.net</b></p>

<h2>CONTRIBUTORS
<a name="CONTRIBUTORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
have made large contributions to smartmontools: <b><br>
Casper Dik</b> (Solaris SCSI interface) <b><br>
Douglas Gilbert</b> (SCSI subsystem) <b><br>
Guido Guenther</b> (Autoconf/Automake packaging) <b><br>
Geoffrey Keating</b> (Darwin ATA interface) <b><br>
Eduard Martinescu</b> (FreeBSD interface) <b><br>
Fr&eacute;d&eacute;ric L. W. Meunier</b> (Web site and
Mailing list) <b><br>
Gabriele Pohl</b> (Web site and Wiki, conversion from CVS to
SVN) <b><br>
Keiji Sawada</b> (Solaris ATA interface) <b><br>
Manfred Schwarb</b> (Drive database) <b><br>
Sergey Svishchev</b> (NetBSD interface) <b><br>
David Snyder and Sergey Svishchev</b> (OpenBSD interface)
<b><br>
Phil Williams</b> (User interface and drive database)
<b><br>
Shengfeng Zhou</b> (Linux/FreeBSD HighPoint RocketRAID
interface) <br>
Many other individuals have made smaller contributions and
corrections.</p>

<h2>CREDITS
<a name="CREDITS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This code was
derived from the smartsuite package, written by Michael
Cornwell, and from the previous UCSC smartsuite package. It
extends these to cover ATA-5 disks. This code was originally
developed as a Senior Thesis by Michael Cornwell at the
Concurrent Systems Laboratory (now part of the Storage
Systems Research Center), Jack Baskin School of Engineering,
University of California, Santa Cruz.
<b>http://ssrc.soe.ucsc.edu/</b> .</p>

<h2>HOME PAGE FOR SMARTMONTOOLS:
<a name="HOME PAGE FOR SMARTMONTOOLS:"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Please see the
following web site for updates, further documentation, bug
reports and patches:
<b>http://smartmontools.sourceforge.net/</b></p>

<h2>SEE ALSO:
<a name="SEE ALSO:"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>smartd</b>(8),
<b>smartctl</b>(8), <b>syslogd</b>(8),
<b>syslog.conf</b>(5), <b>badblocks</b>(8),
<b>ide&minus;smart</b>(8), <b>regex</b>(7).</p>

<h2>SVN ID OF THIS PAGE:
<a name="SVN ID OF THIS PAGE:"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">$Id:
smartd.conf.5.in 3833 2013-07-20 15:00:04Z chrfranke $</p>
<hr>
</body>
</html>
