<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 01:26:29 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SLAPD</title>

</head>
<body>

<h1 align="center">SLAPD</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#ACKNOWLEDGEMENTS">ACKNOWLEDGEMENTS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">slapd &minus;
Stand-alone LDAP Daemon</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>slapd</b>
[<b>&minus;4</b>|<b>&minus;6</b>]
[<b>&minus;T&nbsp;</b>{<b>acl</b>|<b>a</b>[<b>dd</b>]|<b>auth</b>|<b>c</b>[<b>at</b>]|
<b>d</b>[<b>n</b>]|<b>i</b>[<b>ndex</b>]|<b>p</b>[<b>asswd</b>]|<b>s</b>[<b>chema</b>]|<b>t</b>[<b>est</b>]}]
[<b>&minus;d&nbsp;</b><i>debug-level</i>]
[<b>&minus;f&nbsp;</b><i>slapd-config-file</i>]
[<b>&minus;F&nbsp;</b><i>slapd-config-directory</i>]
[<b>&minus;h&nbsp;</b><i>URLs</i>]
[<b>&minus;n&nbsp;</b><i>service-name</i>]
[<b>&minus;s&nbsp;</b><i>syslog-level</i>]
[<b>&minus;l&nbsp;</b><i>syslog-local-user</i>]
[<b>&minus;o&nbsp;</b><i>option</i>[<b>=</b><i>value</i>]]
[<b>&minus;r&nbsp;</b><i>directory</i>]
[<b>&minus;u&nbsp;</b><i>user</i>]
[<b>&minus;g&nbsp;</b><i>group</i>]
[<b>&minus;c&nbsp;</b><i>cookie</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Slapd</b> is
the stand-alone LDAP daemon. It listens for LDAP connections
on any number of ports (default <b>389</b>), responding to
the LDAP operations it receives over these connections.
<b>slapd</b> is typically invoked at boot time, usually out
of <b>/etc/rc.local</b>. Upon startup, <b>slapd</b> normally
forks and disassociates itself from the invoking tty. If
configured in the config file (or config directory), the
<b>slapd</b> process will print its process ID (see
<b>getpid</b>(2)) to a <b>.pid</b> file, as well as the
command line options during invocation to an <b>.args</b>
file (see <b>slapd.conf</b>(5)). If the <b>&minus;d</b> flag
is given, even with a zero argument, <b>slapd</b> will not
fork and disassociate from the invoking tty.</p>

<p style="margin-left:11%; margin-top: 1em">See the
&quot;OpenLDAP Administrator&rsquo;s Guide&quot; for more
details on <b>slapd</b>.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>&minus;4</b></p></td>
<td width="8%"></td>
<td width="46%">


<p style="margin-top: 1em">Listen on IPv4 addresses
only.</p> </td>
<td width="32%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;6</b></p></td>
<td width="8%"></td>
<td width="46%">


<p>Listen on IPv6 addresses only.</p></td>
<td width="32%">
</td></tr>
</table>


<p style="margin-left:11%;"><b>&minus;T&nbsp;</b><i>tool</i></p>

<p style="margin-left:22%;">Run in Tool mode. The
<i>tool</i> argument selects whether to run as
<i>slapadd</i>, <i>slapcat</i>, <i>slapdn</i>,
<i>slapindex</i>, <i>slappasswd</i>, <i>slapschema</i>, or
<i>slaptest</i> (<i>slapacl</i> and <i>slapauth</i> need the
entire <b>acl</b> and <b>auth</b> option value to be spelled
out, as <b>a</b> is reserved to <i>slapadd</i>). This option
should be the first option specified when it is used; any
remaining options will be interpreted by the corresponding
slap tool program, according to the respective man pages.
Note that these tool programs will usually be symbolic links
to <b>slapd</b>. This option is provided for situations
where symbolic links are not provided or not usable.</p>


<p style="margin-left:11%;"><b>&minus;d&nbsp;</b><i>debug-level</i></p>

<p style="margin-left:22%;">Turn on debugging as defined by
<i>debug-level</i>. If this option is specified, even with a
zero argument, <b>slapd</b> will not fork or disassociate
from the invoking terminal. Some general operation and
status messages are printed for any value of
<i>debug-level</i>. <i>debug-level</i> is taken as a bit
string, with each bit corresponding to a different kind of
debugging information. See &lt;ldap_log.h&gt; for details.
Comma-separated arrays of friendly names can be specified to
select debugging output of the corresponding debugging
information. All the names recognized by the <i>loglevel</i>
directive described in <b>slapd.conf</b>(5) are supported.
If <i>debug-level</i> is <b>?</b>, a list of installed
debug-levels is printed, and slapd exits.</p>

<p style="margin-left:22%; margin-top: 1em">Remember that
if you turn on packet logging, packets containing bind
passwords will be output, so if you redirect the log to a
logfile, that file should be read-protected.</p>


<p style="margin-left:11%;"><b>&minus;s&nbsp;</b><i>syslog-level</i></p>

<p style="margin-left:22%;">This option tells <b>slapd</b>
at what debug-level debugging statements should be logged to
the <b>syslog</b>(8) facility. The value <i>syslog-level</i>
can be set to any value or combination allowed by the
<b>&minus;d</b> switch. Slapd logs all messages selected by
<i>syslog-leveli</i> at the <b>syslog</b>(3) severity
debug-level <b>DEBUG</b>, on the unit specified with
<b>&minus;l</b>.</p>


<p style="margin-left:11%;"><b>&minus;n&nbsp;</b><i>service-name</i></p>

<p style="margin-left:22%;">Specifies the service name for
logging and other purposes. Defaults to basename of argv[0],
i.e.: &quot;slapd&quot;.</p>


<p style="margin-left:11%;"><b>&minus;l&nbsp;</b><i>syslog-local-user</i></p>

<p style="margin-left:22%;">Selects the local user of the
<b>syslog</b>(8) facility. Value can be <b>LOCAL0</b>,
through <b>LOCAL7</b>, as well as <b>USER</b> and
<b>DAEMON</b>. The default is <b>LOCAL4</b>. However, this
option is only permitted on systems that support local users
with the <b>syslog</b>(8) facility. Logging to syslog(8)
occurs at the &quot;DEBUG&quot; severity debug-level.</p>


<p style="margin-left:11%;"><b>&minus;f&nbsp;</b><i>slapd-config-file</i></p>

<p style="margin-left:22%;">Specifies the slapd
configuration file. The default is
<b>/etc/openldap/slapd.conf</b>.</p>


<p style="margin-left:11%;"><b>&minus;F&nbsp;</b><i>slapd-config-directory</i></p>

<p style="margin-left:22%;">Specifies the slapd
configuration directory. The default is
<b>/etc/openldap/slapd.d</b>. If both <b>&minus;f</b> and
<b>&minus;F</b> are specified, the config file will be read
and converted to config directory format and written to the
specified directory. If neither option is specified, slapd
will attempt to read the default config directory before
trying to use the default config file. If a valid config
directory exists then the default config file is ignored.
All of the slap tools that use the config options observe
this same behavior.</p>


<p style="margin-left:11%;"><b>&minus;h&nbsp;</b><i>URLlist</i></p>

<p style="margin-left:22%;"><b>slapd</b> will by default
serve <b>ldap:///</b> (LDAP over TCP on all interfaces on
default LDAP port). That is, it will bind using INADDR_ANY
and port <b>389</b>. The <b>&minus;h</b> option may be used
to specify LDAP (and other scheme) URLs to serve. For
example, if slapd is given <b>&minus;h
&quot;ldap://127.0.0.1:9009/ ldaps:/// ldapi:///&quot;</b>,
it will listen on 127.0.0.1:9009 for LDAP, 0.0.0.0:636 for
LDAP over TLS, and LDAP over IPC (Unix domain sockets). Host
0.0.0.0 represents INADDR_ANY (any interface). A space
separated list of URLs is expected. The URLs should be of
the LDAP, LDAPS, or LDAPI schemes, and generally without a
DN or other optional parameters (excepting as discussed
below). Support for the latter two schemes depends on
selected configuration options. Hosts may be specified by
name or IPv4 and IPv6 address formats. Ports, if specified,
must be numeric. The default ldap:// port is <b>389</b> and
the default ldaps:// port is <b>636</b>.</p>

<p style="margin-left:22%; margin-top: 1em">For LDAP over
IPC, <b>name</b> is the name of the socket, and no
<b>port</b> is required, nor allowed; note that directory
separators must be URL-encoded, like any other characters
that are special to URLs; so the socket</p>


<p style="margin-left:22%; margin-top: 1em">/usr/local/var/ldapi</p>

<p style="margin-left:22%; margin-top: 1em">must be
specified as</p>


<p style="margin-left:22%; margin-top: 1em">ldapi://%2Fusr%2Flocal%2Fvar%2Fldapi</p>

<p style="margin-left:22%; margin-top: 1em">The default
location for the IPC socket is /var/run/ldapi</p>

<p style="margin-left:22%; margin-top: 1em">The listener
permissions are indicated by
&quot;x&minus;mod=&minus;rwxrwxrwx&quot;,
&quot;x&minus;mod=0777&quot; or &quot;x&minus;mod=777&quot;,
where any of the &quot;rwx&quot; can be &quot;&minus;&quot;
to suppress the related permission, while any of the
&quot;7&quot; can be any legal octal digit, according to
chmod(1). The listeners can take advantage of the
&quot;x&minus;mod&quot; extension to apply rough limitations
to operations, e.g. allow read operations (&quot;r&quot;,
which applies to search and compare), write operations
(&quot;w&quot;, which applies to add, delete, modify and
modrdn), and execute operations (&quot;x&quot;, which means
bind is required). &quot;User&quot; permissions apply to
authenticated users, while &quot;other&quot; apply to
anonymous users; &quot;group&quot; permissions are ignored.
For example,
&quot;ldap:///????x&minus;mod=&minus;rw&minus;&minus;&minus;&minus;&minus;&minus;&minus;&quot;
means that read and write is only allowed for authenticated
connections, and bind is required for all operations. This
feature is experimental, and requires to be manually enabled
at configure time.</p>


<p style="margin-left:11%;"><b>&minus;r&nbsp;</b><i>directory</i></p>

<p style="margin-left:22%;">Specifies a directory to become
the root directory. slapd will change the current working
directory to this directory and then <b>chroot</b>(2) to
this directory. This is done after opening listeners but
before reading any configuration file or initializing any
backend. When used as a security mechanism, it should be
used in conjunction with <b>&minus;u</b> and <b>&minus;g</b>
options.</p>


<p style="margin-left:11%;"><b>&minus;u&nbsp;</b><i>user</i></p>

<p style="margin-left:22%;"><b>slapd</b> will run slapd
with the specified user name or id, and that user&rsquo;s
supplementary group access list as set with initgroups(3).
The group ID is also changed to this user&rsquo;s gid,
unless the <b>&minus;g</b> option is used to override. Note
when used with <b>&minus;r</b>, slapd will use the user
database in the change root environment.</p>

<p style="margin-left:22%; margin-top: 1em">Note that on
some systems, running as a non-privileged user will prevent
passwd back-ends from accessing the encrypted passwords.
Note also that any shell back-ends will run as the specified
non-privileged user.</p>


<p style="margin-left:11%;"><b>&minus;g&nbsp;</b><i>group</i></p>

<p style="margin-left:22%;"><b>slapd</b> will run with the
specified group name or id. Note when used with
<b>&minus;r</b>, slapd will use the group database in the
change root environment.</p>


<p style="margin-left:11%;"><b>&minus;c&nbsp;</b><i>cookie</i></p>

<p style="margin-left:22%;">This option provides a cookie
for the syncrepl replication consumer. The cookie is a comma
separated list of <i>name=value</i> pairs. Currently
supported syncrepl cookie fields are <b>rid</b>, <b>sid</b>,
and <b>csn</b>. <b>rid</b> identifies a replication thread
within the consumer server and is used to find the syncrepl
specification in <b>slapd.conf</b>(5) or
<b>slapd&minus;config</b>(5) having the matching replication
identifier in its definition. The <b>rid</b> must be
provided in order for any other specified values to be used.
<b>sid</b> is the server id in a multi-master/mirror-mode
configuration. <b>csn</b> is the commit sequence number
received by a previous synchronization and represents the
state of the consumer replica content which the syncrepl
engine will synchronize to the current provider content. In
case of <i>mirror-mode</i> or <i>multi-master</i>
replication agreement, multiple <b>csn</b> values, semicolon
separated, can appear. Use only the <b>rid</b> part to force
a full reload.</p>


<p style="margin-left:11%;"><b>&minus;o&nbsp;</b><i>option</i>[<b>=</b><i>value</i>]</p>

<p style="margin-left:22%;">This option provides a generic
means to specify options without the need to reserve a
separate letter for them.</p>

<p style="margin-left:22%; margin-top: 1em">It supports the
following options: <b><br>
slp=</b>{<b>on</b>|<b>off</b>|<i>slp-attrs</i>}</p>

<p style="margin-left:32%;">When SLP support is compiled
into slapd, disable it (<b>off</b>), <br>
enable it by registering at SLP DAs without specific SLP
attributes (<b>on</b>), or with specific SLP attributes
<i>slp-attrs</i> that must be an SLP attribute list
definition according to the SLP standard.</p>

<p style="margin-left:32%; margin-top: 1em">For example,
<b>&quot;slp=(tree=production),(server-type=OpenLDAP),(server&minus;version=2.4.15)&quot;</b>
registers at SLP DAs with the three SLP attributes tree,
server-type and server-version that have the values given
above. This allows to specifically query the SLP DAs for
LDAP servers holding the <i>production</i> tree in case
multiple trees are available.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">To start
<i>slapd</i> and have it fork and detach from the terminal
and start serving the LDAP databases defined in the default
config file, just type:</p>

<p style="margin-left:11%; margin-top: 1em">slapd</p>

<p style="margin-left:11%; margin-top: 1em">To start
<b>slapd</b> with an alternate configuration file, and turn
on voluminous debugging which will be printed on standard
error, type:</p>

<p style="margin-left:11%; margin-top: 1em">slapd -f
/var/tmp/slapd.conf -d 255</p>

<p style="margin-left:11%; margin-top: 1em">To test whether
the configuration file is correct or not, type:</p>

<p style="margin-left:11%; margin-top: 1em">slapd -Tt</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>ldap</b>(3),
<b>slapd.conf</b>(5), <b>slapd&minus;config</b>(5),
<b>slapd.access</b>(5), <b>slapacl</b>(8),
<b>slapadd</b>(8), <b>slapauth</b>(8), <b>slapcat</b>(8),
<b>slapdn</b>(8), <b>slapindex</b>(8), <b>slappasswd</b>(8),
<b>slapschema</b>(8), <b>slaptest</b>(8).</p>

<p style="margin-left:11%; margin-top: 1em">&quot;OpenLDAP
Administrator&rsquo;s Guide&quot;
(http://www.OpenLDAP.org/doc/admin/)</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">See
http://www.openldap.org/its/</p>

<h2>ACKNOWLEDGEMENTS
<a name="ACKNOWLEDGEMENTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>OpenLDAP
Software</b> is developed and maintained by The OpenLDAP
Project &lt;http://www.openldap.org/&gt;. <b>OpenLDAP
Software</b> is derived from University of Michigan LDAP 3.3
Release.</p>
<hr>
</body>
</html>
