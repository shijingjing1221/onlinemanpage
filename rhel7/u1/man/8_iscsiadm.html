<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 00:57:37 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>ISCSIADM</title>

</head>
<body>

<h1 align="center">ISCSIADM</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#DISCOVERY TYPES">DISCOVERY TYPES</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#FILES">FILES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHORS">AUTHORS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">iscsiadm
&minus; open-iscsi administration utility</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>iscsiadm</b>
&minus;m discoverydb [ &minus;hV ] [ &minus;d debug_level ]
[ &minus;P printlevel ] [ &minus;I iface &minus;t type
&minus;p ip:port [ &minus;lD ] ] | [ [ -p ip:port -t type ]
[ &minus;o operation ] [ &minus;n name ] [ &minus;v value ]
[ &minus;lD ] ]</p>


<p style="margin-left:11%; margin-top: 1em"><b>iscsiadm</b>
&minus;m discovery [ &minus;hV ] [ &minus;d debug_level ] [
&minus;P printlevel ] [ &minus;I iface &minus;t type
&minus;p ip:port [ &minus;l ] ] | [ [ -p ip:port ] [
&minus;l | &minus;D ] ]</p>


<p style="margin-left:11%; margin-top: 1em"><b>iscsiadm</b>
&minus;m node [ &minus;hV ] [ &minus;d debug_level ] [
&minus;P printlevel ] [ &minus;L all,manual,automatic ] [
&minus;U all,manual,automatic ] [ &minus;S ] [ [ &minus;T
targetname &minus;p ip:port &minus;I iface ] [ &minus;l |
&minus;u | &minus;R | &minus;s] ] [ [ &minus;o operation ] [
&minus;n name ] [ &minus;v value ] [ &minus;p ip:port ]
]</p>


<p style="margin-left:11%; margin-top: 1em"><b>iscsiadm</b>
&minus;m session [ &minus;hV ] [ &minus;d debug_level ] [
&minus;P printlevel ] [ &minus;r sessionid | sysfsdir [
&minus;R ] [ &minus;u | &minus;s | &minus;o new ] ]</p>


<p style="margin-left:11%; margin-top: 1em"><b>iscsiadm</b>
&minus;m iface [ &minus;hV ] [ &minus;d debug_level ] [
&minus;P printlevel ] [ &minus;I ifacename | &minus;H
hostno|MAC ] [ [ &minus;o operation ] [ &minus;n name ] [
&minus;v value ] ] [ &minus;C ping [ &minus;a ip ] [
&minus;b packetsize ] [ &minus;c count ] [ &minus;i interval
] ]</p>


<p style="margin-left:11%; margin-top: 1em"><b>iscsiadm</b>
&minus;m fw [ &minus;d debug_level ] [&minus;l]</p>


<p style="margin-left:11%; margin-top: 1em"><b>iscsiadm</b>
&minus;m host [ &minus;P printlevel ] [ &minus;H hostno|MAC
] [ [ &minus;C chap [ &minus;x chap_tbl_idx ] ] | [ &minus;C
flashnode [ &minus;A portal_type ] [ &minus;x flashnode_idx
] ] | [ &minus;C stats ] ] [ [ &minus;o operation ] [
&minus;n name ] [ &minus;v value ] ]</p>


<p style="margin-left:11%; margin-top: 1em"><b>iscsiadm</b>
&minus;k priority</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The iscsiadm
utility is a command-line tool allowing discovery and login
to iSCSI targets, as well as access and management of the
open-iscsi database.</p>

<p style="margin-left:11%; margin-top: 1em">Open-iscsi does
not use the term node as defined by the iSCSI RFC, where a
node is a single iSCSI initiator or target. Open-iscsi uses
the term node to refer to a portal on a target.</p>

<p style="margin-left:11%; margin-top: 1em">For session
mode, a session id (sid) is used. The sid of a session can
be found by running iscsiadm &minus;m session &minus;P 1.
The session id and sysfs path are not currently persistent
and is partially determined by when the session is
setup.</p>

<p style="margin-left:11%; margin-top: 1em">Note that many
of the node and discovery operations require that the iSCSI
daemon (iscsid) be running.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;a</b>,
<b>&minus;&minus;ip=</b><i>ipaddr</i></p>

<p style="margin-left:22%;"><i>ipaddr</i> can be IPv4 or
IPv6.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
only valid for ping submode.</p>

<p style="margin-left:11%;"><b>&minus;A</b>,
<b>&minus;&minus;portal_type=</b><i>[ipv4|ipv6]</i></p>

<p style="margin-left:22%;">Specify the portal type for the
new flash node entry to be created.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
only valid for flashnode submode of host mode and only with
<i>new</i> operation.</p>

<p style="margin-left:11%;"><b>&minus;b</b>,
<b>&minus;&minus;packetsize=</b><i>packetsize</i></p>

<p style="margin-left:22%;">Specify the ping
<i>packetsize</i>.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
only valid for ping submode.</p>

<p style="margin-left:11%;"><b>&minus;c</b>,
<b>&minus;&minus;count=</b><i>count</i></p>

<p style="margin-left:22%;"><i>count</i> specify number of
ping iterations.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
only valid for ping submode.</p>

<p style="margin-left:11%;"><b>&minus;C</b>,
<b>&minus;&minus;submode=</b><i>op</i></p>

<p style="margin-left:22%;">Specify the submode for mode.
op must be name of submode.</p>

<p style="margin-left:22%; margin-top: 1em">Currently
iscsiadm support ping as submode for iface. For example,</p>

<p style="margin-left:22%; margin-top: 1em">iscsiadm -m
iface -I ifacename -C ping -a ipaddr -b packetsize -c count
-i interval</p>

<p style="margin-left:22%; margin-top: 1em">For host, it
supports chap , flashnode and stats as submodes. For
example,</p>

<p style="margin-left:22%; margin-top: 1em">iscsiadm -m
host -H hostno -C chap -x chap_tbl_idx -o operation</p>

<p style="margin-left:22%; margin-top: 1em">iscsiadm -m
host -H hostno -C flashnode -x flashnode_idx -o
operation</p>

<p style="margin-left:22%; margin-top: 1em">iscsiadm -m
host -H hostno -C stats</p>

<p style="margin-left:11%;"><b>&minus;d</b>,
<b>&minus;&minus;debug=</b><i>debug_level</i></p>

<p style="margin-left:22%;">print debugging information.
Valid values for debug_level are 0 to 8.</p>

<p style="margin-left:11%;"><b>&minus;h</b>,
<b>&minus;&minus;help</b></p>

<p style="margin-left:22%;">display help text and exit</p>

<p style="margin-left:11%;"><b>&minus;H</b>,
<b>&minus;&minus;host=</b><i>[hostno|MAC]</i></p>

<p style="margin-left:22%;">The host agrument specifies the
SCSI host to use for the operation. It can be the scsi host
number assigned to the host by the kernel&rsquo;s scsi
layer, or the MAC address of a scsi host.</p>

<p style="margin-left:11%;"><b>&minus;i</b>,
<b>&minus;&minus;interval=</b><i>interval</i></p>

<p style="margin-left:22%;"><i>interval</i> specify delay
between two ping iterations.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
only valid for ping submode.</p>

<p style="margin-left:11%;"><b>&minus;I</b>,
<b>&minus;&minus;interface=</b><i>[iface]</i></p>

<p style="margin-left:22%;">The interface argument
specifies the iSCSI interface to use for the operation.
iSCSI interfaces (iface) are defined in
/var/lib/iscsi/ifaces. For hardware iSCSI (qla4xxx) the
iface config must have the hardware address (iface.hwaddress
= port&rsquo;s MAC address) and the driver/transport_name
(iface.transport_name). The iface&rsquo;s name is then the
filename of the iface config. For software iSCSI, the iface
config must have either the hardware address
(iface.hwaddress), or the network layer&rsquo;s interface
name (iface.net_ifacename), and it must have the
driver/transport_name</p>

<p style="margin-left:22%; margin-top: 1em">The available
drivers/iscsi_transports are tcp (software iSCSI over
TCP/IP), iser (software iSCSI over infinniband), or qla4xxx
(Qlogic 4XXXX HBAs). The hwaddress is the MAC address or for
software iSCSI it may be the special value
&quot;default&quot; which directs the initiator to not bind
the session to a specific hardware resource and instead
allow the network or infinniband layer to decide what to do.
There is no need to create a iface config with the default
behavior. If you do not specify a iface, then the default
behavior is used.</p>

<p style="margin-left:22%; margin-top: 1em">As mentioned
above there is a special iface name default. There are three
others -- cxgb3i, bnx2i and iser, which does not bind the
session to a specific card, but will bind the session to the
cxgb3i, bnx2i or iser transport. These are experimental and
the use is not supported as a stable interface yet.</p>

<p style="margin-left:22%; margin-top: 1em">In discovery
mode multiple interfaces can be specified by passing in
multiple &minus;I/&minus;&minus;interface instances. For
example,</p>

<p style="margin-left:22%; margin-top: 1em">&quot;iscsiadm
&minus;m discoverydb &minus;t st &minus;p ip:port &minus;I
iface0 &minus;I iface2 --discover&quot;</p>

<p style="margin-left:22%; margin-top: 1em">Will direct
iscsiadm to setup the node db to create records which will
create sessions though the two intefaces passed in.</p>

<p style="margin-left:22%; margin-top: 1em">In node mode,
only a single interface is supported in each call to
iscsiadm.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
valid for discovery, node and iface mode.</p>

<p style="margin-left:11%;"><b>&minus;k</b>,
<b>&minus;&minus;killiscsid=</b><i>[priority]</i></p>

<p style="margin-left:22%;">Currently priority must be
zero. This will immediately stop all iscsid operations and
shutdown iscsid. It does not logout any sessions. Running
this command is the same as doing &quot;killall
iscsid&quot;. Neither should normally not be used, because
if iscsid is doing error recovery or if there is an error
while iscsid is not running, the system may not be able to
recover. This command and iscsid&rsquo;s SIGTERM handling
are experimental.</p>

<p style="margin-left:11%;"><b>&minus;D</b>,
<b>&minus;&minus;discover</b></p>

<p style="margin-left:22%;">Discover targets using the
discovery record with the <i>recid</i> matching the the
discovery type and portal passed in. If there is no matching
record, it will be created using the iscsid.conf discovery
settings. This must be passed in <i>discoverydb</i> mode to
instruct iscsiadm to perform discovery.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
only valid for SendTargets discovery mode.</p>

<p style="margin-left:11%;"><b>&minus;l</b>,
<b>&minus;&minus;login</b></p>

<p style="margin-left:22%;">For node and fw mode, login to
a specified record. For discovery mode, login to all
discovered targets.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
only valid for discovery and node modes.</p>

<p style="margin-left:11%;"><b>&minus;L</b>,
<b>&minus;&minus;loginall==</b><i>[all|manual|automatic]</i></p>

<p style="margin-left:22%;">For node mode, login all
sessions with the node or conn startup values passed in or
all running sesssion, except ones marked onboot, if all is
passed in.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
only valid for node mode (it is valid but not functional for
session mode).</p>

<p style="margin-left:11%;"><b>&minus;m,
&minus;&minus;mode</b> <i>op</i></p>

<p style="margin-left:22%;">specify the mode. <i>op</i>
must be one of <i>discovery</i>, <i>discoverydb</i>,
<i>node</i>, <i>fw</i>, <i>host iface</i> or
<i>session</i>.</p>

<p style="margin-left:22%; margin-top: 1em">If no other
options are specified: for <i>discovery</i>,
<i>discoverydb</i> and <i>node</i>, all of their respective
records are displayed; for <i>session</i>, all active
sessions and connections are displayed; for <i>fw</i>, all
boot firmware values are displayed; for <i>host</i>, all
iSCSI hosts are displayed; and for <i>iface</i>, all ifaces
setup in /var/lib/iscsi/ifaces are displayed.</p>

<p style="margin-left:11%;"><b>&minus;n</b>,
<b>&minus;&minus;name=</b><i>name</i></p>

<p style="margin-left:22%;">In node mode, specify a field
<i>name</i> in a record. In flashnode submode of host mode,
specify name of the flash node parameter.</p>

<p style="margin-left:22%; margin-top: 1em">For use with
the <i>update</i> operator.</p>

<p style="margin-left:11%;"><b>&minus;o</b>,
<b>&minus;&minus;op=</b><i>op</i></p>

<p style="margin-left:22%;">Specifies a database operator
<i>op</i>. <i>op</i> must be one of <i>new</i>,
<i>delete</i>, <i>update</i>, <i>show</i> or
<i>nonpersistent</i>.</p>

<p style="margin-left:22%; margin-top: 1em">For iface mode,
<i>apply</i> and <i>applyall</i> are also applicable.</p>

<p style="margin-left:22%; margin-top: 1em">For flashnode
submode of host mode, <i>login</i> and <i>logout</i> are
also applicable.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
valid for all modes except fw. Delete should not be used on
a running session. If it is iscsiadm will stop the session
and then delete the record.</p>

<p style="margin-left:22%; margin-top: 1em"><i>new</i>
creates a new database record for a given object. In node
mode, the <i>recid</i> is the target name and portal
(IP:port). In iface mode, the <i>recid</i> is the iface
name. In discovery mode, the <i>recid</i> is the portal and
discovery type.</p>

<p style="margin-left:22%; margin-top: 1em">In session
mode, the <i>new</i> operation logs in a new session using
the same node database and iface information as the
specified session.</p>

<p style="margin-left:22%; margin-top: 1em">In discovery
mode, if the <i>recid</i> and new operation is passed in,
but the <i>--discover</i> argument is not, then iscsiadm
will only create a discovery record (it will not perform
discovery). If the <i>--discover</i> argument is passed in
with the portal and discovery type, then iscsiadm will
create the discovery record if needed, and it will create
records for portals returned by the target that do not yet
have a node DB record.</p>

<p style="margin-left:22%; margin-top: 1em"><i>delete</i>
deletes a specified <i>recid</i>. In discovery node, if
iscsiadm is performing discovery it will delete records for
portals that are no longer returned.</p>

<p style="margin-left:22%; margin-top: 1em"><i>update</i>
will update the <i>recid</i> with <i>name</i> to the
specified <i>value</i>. In discovery node, if iscsiadm is
performing discovery the <i>recid</i>, <i>name</i> and
<i>value</i> arguments are not needed. The update operation
will operate on the portals returned by the target, and will
update the node records with info from the config file and
command line.</p>

<p style="margin-left:22%; margin-top: 1em"><i>show</i> is
the default behaviour for node, discovery and iface mode. It
is also used when there are no commands passed into session
mode and a running sid is passed in. <i>name</i> and
<i>value</i> are currently ignored when used with
<i>show</i>.</p>


<p style="margin-left:22%; margin-top: 1em"><i>nonpersistent</i>
instructs iscsiadm to not manipulate the node DB.</p>

<p style="margin-left:22%; margin-top: 1em"><i>apply</i>
will cause the network settings to take effect on the
specified iface.</p>


<p style="margin-left:22%; margin-top: 1em"><i>applyall</i>
will cause the network settings to take effect on all the
ifaces whose MAC address or host number matches that of the
specific host.</p>

<p style="margin-left:22%; margin-top: 1em"><i>login</i>
will log into the specified flash node entry.</p>

<p style="margin-left:22%; margin-top: 1em"><i>logout</i>
does the logout from the given flash node entry.</p>

<p style="margin-left:11%;"><b>&minus;p</b>,
<b>&minus;&minus;portal=</b><i>ip[:port]</i></p>

<p style="margin-left:22%;">Use target portal with
ip-address <i>ip</i> and <i>port</i>. If port is not passed
in the default <i>port</i> value is 3260.</p>

<p style="margin-left:22%; margin-top: 1em">IPv6 addresses
can bs specified as [ddd.ddd.ddd.ddd]:port or
ddd.ddd.ddd.ddd.</p>

<p style="margin-left:22%; margin-top: 1em">Hostnames can
also be used for the ip argument.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
only valid for discovery, or for node operations with the
<i>new</i> operator.</p>

<p style="margin-left:22%; margin-top: 1em">This should be
used along with &minus;&minus;target in node mode, to
specify what the open-iscsi docs refer to as a node or node
record. Note: open-iscsi&rsquo;s use of the word node, does
not match the iSCSI RFC&rsquo;s iSCSI Node term.</p>

<p style="margin-left:11%;"><b>&minus;P</b>,
<b>&minus;&minus;print=</b><i>printlevel</i></p>

<p style="margin-left:22%;">If in node mode print nodes in
tree format. If in session mode print sessions in tree
format. If in discovery mode print the nodes in tree
format.</p>

<p style="margin-left:11%;"><b>&minus;T</b>,
<b>&minus;&minus;targetname=</b><i>targetname</i></p>

<p style="margin-left:22%;">Use target
<i>targetname</i>.</p>

<p style="margin-left:22%; margin-top: 1em">This should be
used along with &minus;&minus;portal in node mode, to
specify what the open-iscsi docs refer to as a node or node
record. Note: open-iscsi&rsquo;s use of the word node, does
not match the iSCSI RFC&rsquo;s iSCSI Node term.</p>

<p style="margin-left:11%;"><b>&minus;r</b>,
<b>&minus;&minus;sid=</b><i>sid | sysfsdir</i></p>

<p style="margin-left:22%;">Use session ID <i>sid</i>. The
sid of a session can be found from running iscsiadm in
session mode with the &minus;&minus;info argument.</p>

<p style="margin-left:22%; margin-top: 1em">Instead of sid,
a sysfs path containing the session can be used. For example
using one of the following:
/sys/devices/platform/hostH/sessionS/targetH:B:I/H:B:I:L,
/sys/devices/platform/hostH/sessionS/targetH:B:I, or
/sys/devices/platform/hostH/sessionS, for the sysfsdir
argument would result in the session with sid S to be
used.</p>

<p style="margin-left:22%; margin-top: 1em"><i>sid |
sysfsdir</i> is only required for session mode.</p>

<p style="margin-left:11%;"><b>&minus;R</b>,
<b>&minus;&minus;rescan</b></p>

<p style="margin-left:22%;">In session mode, if sid is also
passed in rescan the session. If no sid has been passed in
rescan all running sessions.</p>

<p style="margin-left:22%; margin-top: 1em">In node mode,
rescan a session running through the target, portal, iface
tuple passed in.</p>

<p style="margin-left:11%;"><b>&minus;s</b>,
<b>&minus;&minus;stats</b></p>

<p style="margin-left:22%;">Display session statistics.
This option when used with host mode, displays host
statistics.</p>

<p style="margin-left:11%;"><b>&minus;S</b>,
<b>&minus;&minus;show</b></p>

<p style="margin-left:22%;">When displaying records, do not
hide masked values, such as the CHAP secret (password).</p>

<p style="margin-left:22%; margin-top: 1em">This option is
only valid for node and session mode.</p>

<p style="margin-left:11%;"><b>&minus;t</b>,
<b>&minus;&minus;type=</b><i>type</i></p>

<p style="margin-left:22%;"><i>type</i> must be
<i>sendtargets</i> (or abbreviated as <i>st</i>),
<i>slp</i>, <i>isns</i> or <i>fw</i>. Currently only
sendtargets, fw, and iSNS is supported, see the DISCOVERY
TYPES section.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
only valid for discovery mode.</p>

<p style="margin-left:11%;"><b>&minus;u</b>,
<b>&minus;&minus;logout</b></p>

<p style="margin-left:22%;">logout for a specified
record.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
only valid for node and session mode.</p>

<p style="margin-left:11%;"><b>&minus;U</b>,
<b>&minus;&minus;logoutall==</b><i>[all,manual,automatic]</i></p>

<p style="margin-left:22%;">logout all sessions with the
node or conn startup values passed in or all running
sesssion, except ones marked onboot, if all is passed
in.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
only valid for node mode (it is valid but not functional for
session mode).</p>

<p style="margin-left:11%;"><b>&minus;v</b>,
<b>&minus;&minus;value=</b><i>value</i></p>

<p style="margin-left:22%;">Specify a <i>value</i> for use
with the <i>update</i> operator.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
only valid for node mode and flashnode submode of host
mode.</p>

<p style="margin-left:11%;"><b>&minus;V</b>,
<b>&minus;&minus;version</b></p>

<p style="margin-left:22%;">display version and exit</p>

<p style="margin-left:11%;"><b>&minus;x</b>,
<b>&minus;&minus;index=</b><i>index</i></p>

<p style="margin-left:22%;">Specify the <i>index</i> of the
entity to operate on.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
only valid for chap and flashnode submodes of host mode.</p>

<h2>DISCOVERY TYPES
<a name="DISCOVERY TYPES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">iSCSI defines 3
discovery types: SendTargets, SLP, and iSNS. <b><br>
SendTargets</b></p>

<p style="margin-left:22%;">A native iSCSI protocol which
allows each iSCSI target to send a list of available targets
to the initiator.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>SLP</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Optionally an iSCSI target can use the Service Location
Protocol (SLP) to announce the available targets. The
initiator can either implement SLP queries directly or can
use a separate tool to acquire the information about
available targets.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>iSNS</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>iSNS (Internet Storage Name Service) records information
about storage volumes within a larger network. To utilize
iSNS, pass the address and optionally the port of the iSNS
server to do discovery to.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>fw</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Several NICs and systems contain a mini iSCSI initiator
which can be used for boot. To get the values used for boot
the fw option can be used. Doing fw discovery, does not
store persistent records in the node or discovery DB,
because the values are stored in the system&rsquo;s or
NIC&rsquo;s resource.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Performing fw
discovery will print the portals, like with other discovery
methods. To see other settings like CHAP values and
initiator settings, like you would in node mode, run
&quot;iscsiadm &minus;m fw&quot;.</p>

<p style="margin-left:22%; margin-top: 1em">fw support in
open-iscsi is experimental. The settings and iscsiadm syntax
and output format may change.</p>

<p style="margin-left:11%; margin-top: 1em">iscsiadm
supports the <b>iSNS (isns)</b> or <b>SendTargets (st)</b>
discovery type. An SLP implementation is under
development.</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">On success 0 is
returned. On error one of the return codes below will be
returned.</p>

<p style="margin-left:11%; margin-top: 1em">Commands that
operation on multiple objects (sessions, records, etc),
iscsiadm/iscsistart will return the first error that is
encountered. iscsiadm/iscsistart will attempt to execute the
operation on the objects it can. If no objects are found
ISCSI_ERR_NO_OBJS_FOUND is returned.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>0</b></p></td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em">ISCSI_SUCCESS - command executed
successfully.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>1</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR - generic error code.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>2</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_SESS_NOT_FOUND - session could not be
found.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>3</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_NOMEM - could not allocate resource for
operation.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>4</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_TRANS - connect problem caused operation to
fail.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>5</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_LOGIN - generic iSCSI login failure.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>6</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_IDBM - error accessing/managing iSCSI DB.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>7</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_INVAL - invalid argument.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>8</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_TRANS_TIMEOUT - connection timer exired while
trying to connect.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>9</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_INTERNAL - generic internal iscsid/kernel
failure.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>10</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_LOGOUT - iSCSI logout failed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>11</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_PDU_TIMEOUT - iSCSI PDU timedout.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>12</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_TRANS_NOT_FOUND - iSCSI transport module not
loaded in kernel or iscsid.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>13</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_ACCESS - did not have proper OS permissions to
access iscsid or execute iscsiadm command.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>14</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_TRANS_CAPS - transport module did not support
operation.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>15</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_SESS_EXISTS - session is logged in.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>16</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_INVALID_MGMT_REQ - invalid IPC MGMT
request.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>17</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_ISNS_UNAVAILABLE - iSNS service is not
supported.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>18</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_ISCSID_COMM_ERR - a read/write to iscsid
failed.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>19</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_FATAL_LOGIN - fatal iSCSI login error.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>20</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_ISCSID_NOTCONN - could ont connect to
iscsid.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>21</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_NO_OBJS_FOUND - no
records/targets/sessions/portals found to execute operation
on.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>22</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_SYSFS_LOOKUP - could not lookup object in
sysfs.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>23</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_HOST_NOT_FOUND - could not lookup host.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>24</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_LOGIN_AUTH_FAILED - login failed due to
authorization failure.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>25</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_ISNS_QUERY - iSNS query failure.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>26</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>ISCSI_ERR_ISNS_REG_FAILED - iSNS
registration/deregistration failed.</p></td></tr>
</table>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Discover
targets at a given IP address:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>iscsiadm &minus;&minus;mode discoverydb
&minus;&minus;type sendtargets &minus;&minus;portal
192.168.1.10 &minus;&minus;discover</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Login, must use
a node record id found by the discovery:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>iscsiadm &minus;&minus;mode node
&minus;&minus;targetname iqn.2001-05.com.doe:test
&minus;&minus;portal 192.168.1.1:3260
&minus;&minus;login</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Logout:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>iscsiadm &minus;&minus;mode node
&minus;&minus;targetname iqn.2001-05.com.doe:test
&minus;&minus;portal 192.168.1.1:3260
&minus;&minus;logout</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">List node
records:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>iscsiadm &minus;&minus;mode node</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Display all
data for a given node record:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>iscsiadm &minus;&minus;mode node
&minus;&minus;targetname iqn.2001-05.com.doe:test
&minus;&minus;portal 192.168.1.1:3260</p></td></tr>
</table>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">/etc/iscsi/iscsid.conf</p>

<p style="margin-left:22%;">The configuration file read by
<b>iscsid</b> and <b>iscsiadm</b> on startup.</p>


<p style="margin-left:11%;">/etc/iscsi/initiatorname.iscsi</p>

<p style="margin-left:22%;">The file containing the iSCSI
InitiatorName and InitiatorAlias read by <b>iscsid</b> and
<b>iscsiadm</b> on startup.</p>

<p style="margin-left:11%;">/var/lib/iscsi/nodes/</p>

<p style="margin-left:22%;">This directory contains the
nodes with their targets.</p>


<p style="margin-left:11%;">/var/lib/iscsi/send_targets</p>

<p style="margin-left:22%;">This directory contains the
portals.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>iscsid</b>(8)</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Open-iSCSI
project &lt;http://www.open-iscsi.org/&gt; <br>
Alex Aizman &lt;itn780@yahoo.com&gt; <br>
Dmitry Yusupov &lt;dmitry_yus@yahoo.com&gt;</p>
<hr>
</body>
</html>
