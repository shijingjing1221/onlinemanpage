<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 00:21:49 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>AMADDCLIENT</title>

</head>
<body>

<h1 align="center">AMADDCLIENT</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#FILES">FILES</a><br>
<a href="#RETURN VALUE">RETURN VALUE</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">amaddclient
&minus; program to add client to an existing Amanda
configuration</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="46%">


<p style="margin-top: 1em"><b>amaddclient</b>
&minus;&minus;config <i>config</i> ||</p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:29%;">&minus;&minus;client
<i>client&nbsp;name</i> || <br>
&minus;&minus;diskdev <i>directory&nbsp;to&nbsp;backup</i>
[&minus;&minus;m]
[&minus;&minus;dumptype&nbsp;<i>string</i>]
[&minus;&minus;includefile&nbsp;<i>string</i>]
[&minus;&minus;includelist&nbsp;<i>string</i>]
[&minus;&minus;excludefile&nbsp;<i>string</i>]
[&minus;&minus;excludelist&nbsp;<i>string</i>]
[&minus;&minus;user&nbsp;<i>string</i>]
[&minus;&minus;auth&nbsp;<i>string</i>]
[&minus;&minus;gnutar_list_dir&nbsp;<i>string</i>]
[&minus;&minus;amandates&nbsp;<i>string</i>]
[&minus;&minus;no&minus;client&minus;update]
[&minus;&minus;batch] [&minus;&minus;help]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">After Amanda
rpms are successfully installed and <b>amserverconfig</b> is
run, <b>amaddclient</b> will add client to the Amanda
configuration. <b>amaddclient</b> create or update Amanda
<b>disklist</b>(5) file and create or update
/var/lib/amanda/.amandahosts file on the server.</p>

<p style="margin-left:11%; margin-top: 1em">If
&minus;&minus;no&minus;client&minus;update is not specified,
<b>amaddclient</b> will attempt to update or create
/var/lib/amanda/.amandahost, amanda&minus;client.conf and
gnutar&minus;lists on the client. (See ssh&minus;keygen(1)
and ssh&minus;add(1) for detail.)</p>


<p style="margin-left:11%; margin-top: 1em"><b>amaddclient</b>
must be run by user amandabackup.</p>


<p style="margin-left:11%; margin-top: 1em">&minus;&minus;config,
&minus;&minus;client and &minus;&minus;diskdev must be
specified.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:17%; margin-top: 1em">Options may be
abbreviated, as long as the abbreviation is not ambiguous.
Option argument can either separated by '=' or a space.
Example: &minus;&minus;conf=v253, &minus;&minus;client
client8.zmanda.com</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;config
config</b></p>

<p style="margin-left:17%;">Amanda configuration which this
program will add the client to.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;client
client</b></p>

<p style="margin-left:17%;">The name of the client machine
to add. FQDN name recommended.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;diskdev
diskdev</b></p>

<p style="margin-left:17%;">Directory for this Amanda
configuration to backup.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;m</b></p>

<p style="margin-left:17%;">Modify existing entry in the
<b>disklist</b>(5) file.</p>

<p style="margin-left:17%; margin-top: 1em">Note: if
<b>disklist</b>(5) file has been modified manually, this
option might not work.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;dumptype
dumptype</b></p>

<p style="margin-left:17%;">dumptype to use. Dumptype must
be defined in /etc/amanda/template.d/dumptypes or
/etc/amanda/$config/amanda.conf file. Default:
[user&minus;tar]</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;user
string</b></p>

<p style="margin-left:17%;">name of user using
<b>amrecover</b> on the client, default is root.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;auth
string</b></p>

<p style="margin-left:17%;">authentication method to use
when running <b>amrecover</b> from the client , default is
bsdtcp.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;gnutar_list_dir
string</b></p>

<p style="margin-left:17%;">directory where gnutar keep its
state file on the client. Absolute path required. Default is
/var/lib/amanda/gnutar&minus;lists. If
&minus;&minus;no&minus;client&minus;update is not set, this
program will attempt to create the directory on the
client.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;amandates
string</b></p>

<p style="margin-left:17%;">file where amanda keep the date
of each dumplevel on the client, default is
/etc/amandates.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;batch</b></p>

<p style="margin-left:17%;">Turn on batch mode when copying
files to the client, default is off</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;no&minus;client&minus;update</b></p>

<p style="margin-left:17%;">If this option is set,
<b>amaddclient</b> will not attempt to update/create
.amandahosts, amanda&minus;client.conf and
gnutar&minus;lists file on the client.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;help</b></p>

<p style="margin-left:17%;">Display usage.</p>

<p style="margin-left:17%; margin-top: 1em">If any of the
following four options are used, <b>amaddclient</b> will
extend the dumptype definition to an in&minus;line
definition in the <b>disklist</b>(5) file.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;includefile
string</b></p>

<p style="margin-left:17%;">string is a glob expression</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;includelist
string</b></p>

<p style="margin-left:17%;">string is a file name on the
client containing glob expressions. Specify either
&minus;&minus;includefile or &minus;&minus;includelist.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;excludefile
string</b></p>

<p style="margin-left:17%;">string is a glob expression</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;excludelist
string</b></p>

<p style="margin-left:17%;">string is a file name on the
client containing glob expressions. Specify either
&minus;&minus;excludefile or &minus;&minus;excludelist.</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>/var/lib/amanda/template.d</b></p>

<p style="margin-left:17%;">Amanda configuration template
files install location</p>


<p style="margin-left:11%; margin-top: 1em"><b>/var/lib/amanda</b></p>

<p style="margin-left:17%;">amandabackup home directory</p>


<p style="margin-left:11%; margin-top: 1em"><b>/var/lib/amanda/.amandahosts</b></p>

<p style="margin-left:17%;">Amanda authentication file.</p>


<p style="margin-left:11%; margin-top: 1em"><b>/var/lib/amanda/gnutar&minus;lists</b></p>

<p style="margin-left:17%;">A directory which contains
backup timestamp and list of files backed up.</p>


<p style="margin-left:11%; margin-top: 1em"><b>/etc/amanda/$config</b></p>

<p style="margin-left:17%;">Amanda configuration files
location for $config(e.g: DailySet1).</p>


<p style="margin-left:11%; margin-top: 1em"><b>/etc/amanda/template.d</b></p>

<p style="margin-left:17%;">A directory contains dumptypes
and tapetypes files used by all Amanda configurations.</p>


<p style="margin-left:11%; margin-top: 1em"><b>/etc/amandates</b></p>

<p style="margin-left:17%;">Amanda file on the client. It
keeps track of structures of previous dumps.</p>


<p style="margin-left:11%; margin-top: 1em"><b>/tmp/amanda</b></p>

<p style="margin-left:17%;">directory contains Amanda debug
log files.</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">On success,
zero is returned. On error, 1 is returned.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>amanda</b>(8),
<b>amanda.conf</b>(5), <b>amserverconfig</b>(8),
<b>ssh-keygen</b>(1), <b>ssh-add</b>(1), <b>scp</b>(1)</p>

<p style="margin-left:11%; margin-top: 1em">The Amanda
Wiki: : http://wiki.zmanda.com/</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Kevin
Till</b> &lt;kevin.till@zmanda.com&gt;</p>

<p style="margin-left:17%;">Zmanda, Inc.
(http://www.zmanda.com)</p>
<hr>
</body>
</html>
