<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 01:28:03 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SNMPD</title>

</head>
<body>

<h1 align="center">SNMPD</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#LISTENING ADDRESSES">LISTENING ADDRESSES</a><br>
<a href="#Transport Specific Notes">Transport Specific Notes</a><br>
<a href="#CONFIGURATION FILES">CONFIGURATION FILES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">snmpd - daemon
to respond to SNMP request packets.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>snmpd</b>
[OPTIONS] [LISTENING ADDRESSES]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>snmpd</b> is
an SNMP agent which binds to a port and awaits requests from
SNMP management software. Upon receiving a request, it
processes the request(s), collects the requested information
and/or performs the requested operation(s) and returns the
information to the sender.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p style="margin-top: 1em"><b>&minus;a</b></p></td>
<td width="1%"></td>
<td width="77%">


<p style="margin-top: 1em">Log the source addresses of
incoming requests.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>&minus;A</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Append to the log file rather than truncating it.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>&minus;c</b> <i>FILE</i></p></td>
<td width="1%"></td>
<td width="77%">


<p>Read <i>FILE</i> as a configuration file (or a
comma-separated list of configuration files). Note that the
loaded file will only understand snmpd.conf tokens, unless
the configuration type is specified in the file as described
in the snmp_config man page under SWITCHING CONFIGURATION
TYPES IN MID-FILE.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>&minus;C</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Do not read any configuration files except the ones
optionally specified by the <b>&minus;c</b> option. Note
that this behaviour also covers the persistent configuration
files. This may result in dynamically-assigned values being
reset following an agent restart, unless the relevant
persistent config files are explicitly loaded using the
<b>&minus;c</b> option.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>&minus;d</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Dump (in hexadecimal) the sent and received SNMP
packets.</p> </td></tr>
</table>


<p style="margin-left:11%;"><b>&minus;D</b><i>[TOKEN[,...]]</i></p>

<p style="margin-left:23%;">Turn on debugging output for
the given <i>TOKEN</i>(s). Without any tokens specified, it
defaults to printing all the tokens (which is equivalent to
the keyword &quot;ALL&quot;). You might want to try
<i>ALL</i> for extremely verbose output. Note: You can not
put a space between the &minus;D flag and the listed
TOKENs.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;f</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>Do not fork() from the calling shell.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;g</b> <i>GID</i></p></td>
<td width="3%"></td>
<td width="77%">


<p>Change to the numerical group ID <i>GID</i> after
opening listening sockets.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;h,
&minus;&minus;help</b></p>

<p style="margin-left:23%;">Display a brief usage message
and then exit.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;H</b></p></td>
<td width="9%"></td>
<td width="77%">


<p>Display a list of configuration file directives
understood by the agent and then exit.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;I</b>
<i>[&minus;]INITLIST</i></p>

<p style="margin-left:23%;">Specifies which modules should
(or should not) be initialized when the agent starts up. If
the comma-separated <i>INITLIST</i> is preceded with a
&rsquo;&minus;&rsquo;, it is the list of modules that should
<i>not</i> be started. Otherwise this is the list of the
<i>only</i> modules that should be started.</p>

<p style="margin-left:23%; margin-top: 1em">To get a list
of compiled modules, run the agent with the arguments
<i>&minus;Dmib_init &minus;H</i> (assuming debugging support
has been compiled in).</p>

<p style="margin-left:11%;"><b>&minus;L[efos]</b></p>

<p style="margin-left:23%;">Specify where logging output
should be directed (standard error or output, to a file or
via syslog). See LOGGING OPTIONS in snmpcmd(5) for
details.</p>

<p style="margin-left:11%;"><b>&minus;m</b>
<i>MIBLIST</i></p>

<p style="margin-left:23%;">Specifies a colon separated
list of MIB modules to load for this application. This
overrides the environment variable MIBS. See
<i>snmpcmd(1)</i> for details.</p>

<p style="margin-left:11%;"><b>&minus;M</b>
<i>DIRLIST</i></p>

<p style="margin-left:23%;">Specifies a colon separated
list of directories to search for MIBs. This overrides the
environment variable MIBDIRS. See <i>snmpcmd(1)</i> for
details.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>&minus;n</b> <i>NAME</i></p></td>
<td width="1%"></td>
<td width="77%">


<p>Set an alternative application name (which will affect
the configuration files loaded). By default this will be
<i>snmpd</i>, regardless of the name of the actual
binary.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>&minus;p</b> <i>FILE</i></p></td>
<td width="1%"></td>
<td width="77%">


<p>Save the process ID of the daemon in <i>FILE</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>&minus;q</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Print simpler output for easier automated parsing.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>&minus;r</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Do not require root access to run the daemon.
Specifically, do not exit if files only accessible to root
(such as /dev/kmem etc.) cannot be opened.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>&minus;u</b> <i>UID</i></p></td>
<td width="1%"></td>
<td width="77%">


<p>Change to the user ID <i>UID</i> (which can be given in
numerical or textual form) after opening listening
sockets.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>&minus;U</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Instructs the agent to not remove its pid file (see the
<b>&minus;p</b> option) on shutdown. Overrides the
leave_pidfile token in the <i>snmpd.conf</i> file, see
<i>snmpd.conf(5).</i></p> </td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;v,
&minus;&minus;version</b></p>

<p style="margin-left:23%;">Print version information for
the agent and then exit.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;V</b></p></td>
<td width="9%"></td>
<td width="55%">


<p>Symbolically dump SNMP transactions.</p></td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;x</b>
<i>ADDRESS</i></p>

<p style="margin-left:23%;">Listens for AgentX connections
on the specified address rather than the default
&quot;/var/agentx/master&quot;. The address can either be a
Unix domain socket path, or the address of a network
interface. The format is the same as the format of listening
addresses described below.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;X</b></p></td>
<td width="9%"></td>
<td width="77%">


<p>Run as an AgentX subagent rather than as an SNMP master
agent.</p> </td></tr>
</table>


<p style="margin-left:11%;"><b>&minus;&minus;</b><i>name</i><b>=&quot;value&quot;</b></p>

<p style="margin-left:23%;">Allows one to specify any token
(&quot;name&quot;) supported in the <i>snmpd.conf</i> file
and sets its value to &quot;value&quot;. Overrides the
corresponding token in the <i>snmpd.conf</i> file. See
<i>snmpd.conf(5)</i> for the full list of tokens.</p>

<h2>LISTENING ADDRESSES
<a name="LISTENING ADDRESSES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">By default,
<b>snmpd</b> listens for incoming SNMP requests on UDP port
161 on all IPv4 interfaces. However, it is possible to
modify this behaviour by specifying one or more listening
addresses as arguments to <b>snmpd</b>. A listening address
takes the form:</p>


<p style="margin-left:22%; margin-top: 1em">[&lt;transport-specifier&gt;:]&lt;transport-address&gt;</p>

<p style="margin-left:11%; margin-top: 1em">At its
simplest, a listening address may consist only of a port
number, in which case <b>snmpd</b> listens on that UDP port
on all IPv4 interfaces. Otherwise, the
&lt;transport-address&gt; part of the specification is
parsed according to the following table:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="37%">


<p><b>&lt;transport-specifier&gt;</b></p></td>
<td width="6%"></td>
<td width="40%">


<p><b>&lt;transport-address&gt; format</b></p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="37%">


<p>udp <i>(default)</i></p></td>
<td width="6%"></td>
<td width="40%">


<p>hostname[:port] <i>or</i> IPv4-address[:port]</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="37%">


<p>tcp</p></td>
<td width="6%"></td>
<td width="40%">


<p>hostname[:port] <i>or</i> IPv4-address[:port]</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="37%">


<p>unix</p></td>
<td width="6%"></td>
<td width="40%">


<p>pathname</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="37%">


<p>ipx</p></td>
<td width="6%"></td>
<td width="40%">


<p>[network]:node[/port]</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="37%">


<p>aal5pvc <i>or</i> pvc</p></td>
<td width="6%"></td>
<td width="40%">


<p>[interface.][VPI.]VCI</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="37%">


<p>udp6 <i>or</i> udpv6 <i>or</i> udpipv6</p></td>
<td width="6%"></td>
<td width="40%">


<p>hostname[:port] <i>or</i> IPv6-address[:port]</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="37%">


<p>tcp6 <i>or</i> tcpv6 <i>or</i> tcpipv6</p></td>
<td width="6%"></td>
<td width="40%">


<p>hostname[:port] <i>or</i> IPv6-address[:port]</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="37%">


<p>ssh</p></td>
<td width="6%"></td>
<td width="40%">


<p>hostname:port</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="37%">


<p>dtlsudp</p></td>
<td width="6%"></td>
<td width="40%">


<p>hostname:port</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Note that
&lt;transport-specifier&gt; strings are case-insensitive so
that, for example, &quot;tcp&quot; and &quot;TCP&quot; are
equivalent. Here are some examples, along with their
interpretation:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="34%">


<p style="margin-top: 1em"><i>127.0.0.1:161</i></p></td>
<td width="3%"></td>
<td width="52%">


<p style="margin-top: 1em">listen on UDP port 161, but only
on the loopback interface. This prevents <b>snmpd</b> being
queried remotely. The port specification &quot;:161&quot; is
not strictly necessary since that is the default SNMP
port.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="34%">


<p><i>TCP:1161</i></p></td>
<td width="3%"></td>
<td width="52%">


<p>listen on TCP port 1161 on all IPv4 interfaces.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="34%">


<p><i>ipx:/40000</i></p></td>
<td width="3%"></td>
<td width="52%">


<p>listen on IPX port 40000 on all IPX interfaces.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="34%">


<p><i>unix:/tmp/local&minus;agent</i></p></td>
<td width="3%"></td>
<td width="52%">


<p>listen on the Unix domain socket
<i>/tmp/local&minus;agent</i>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="34%">


<p><i>/tmp/local&minus;agent</i></p></td>
<td width="3%"></td>
<td width="52%">


<p>is identical to the previous specification, since the
Unix domain is assumed if the first character of the
&lt;transport-address&gt; is &rsquo;/&rsquo;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="34%">


<p><i>PVC:161</i></p></td>
<td width="3%"></td>
<td width="52%">


<p>listen on the AAL5 permanent virtual circuit with VPI=0
and VCI=161 (decimal) on the first ATM adapter in the
machine.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="34%">


<p><i>udp6:10161</i></p></td>
<td width="3%"></td>
<td width="52%">


<p>listen on port 10161 on all IPv6 interfaces.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="34%">


<p><i>ssh:127.0.0.1:22</i></p></td>
<td width="3%"></td>
<td width="52%">


<p>Allows connections from the snmp subsystem on the ssh
server on port 22. The details of using SNMP over SSH are
defined below.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="34%">


<p><i>dtlsudp:127.0.0.1:9161</i></p></td>
<td width="3%"></td>
<td width="52%">


<p>Listen for connections over DTLS on UDP port 9161. The
snmp.conf file must have the <i>serverCert,</i>
configuration tokens defined.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Note that not
all the transport domains listed above will always be
available; for instance, hosts with no IPv6 support will not
be able to use udp6 transport addresses, and attempts to do
so will result in the error &quot;Error opening specified
endpoint&quot;. Likewise, since AAL5 PVC support is only
currently available on Linux, it will fail with the same
error on other platforms.</p>

<h2>Transport Specific Notes
<a name="Transport Specific Notes"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em">ssh</p></td>
<td width="8%"></td>
<td width="77%">


<p style="margin-top: 1em">The SSH transport, on the server
side, is actually just a unix named pipe that can be
connected to via a ssh subsystem configured in the main ssh
server. The pipe location (configurable with the
sshtosnmpsocket token in snmp.conf) is
<i>/var/net&minus;snmp/sshtosnmp.</i> Packets should be
submitted to it via the sshtosnmp application, which also
sends the user ID as well when starting the connection. The
TSM security model should be used when packets should
process it.</p></td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">The
<i>sshtosnmp</i> command knows how to connect to this pipe
and talk to it. It should be configured in the <i>OpenSSH
sshd</i> configuration file (which is normally
<i>/etc/ssh/sshd_config</i> using the following
configuration line:</p>

<p style="margin-left:34%; margin-top: 1em">Subsystem snmp
/usr/local/bin/sshtosnmp</p>

<p style="margin-left:23%; margin-top: 1em">The
<i>sshtosnmp</i> command will need read/write access to the
<i>/var/net&minus;snmp/sshtosnmp</i> pipe. Although it
should be fairly safe to grant access to the average user
since it still requires modifications to the ACM settings
before the user can perform operations, paranoid
administrators may want to make the /var/net&minus;snmp
directory accessible only by users in a particular group.
Use the <i>sshtosnmpsocketperms</i> snmp.conf configure
option to set the permissions, owner and group of the
created socket.</p>

<p style="margin-left:23%; margin-top: 1em">Access control
can be granted to the user &quot;foo&quot; using the
following style of simple snmpd.conf settings:</p>

<p style="margin-left:34%; margin-top: 1em">rouser &minus;s
tsm foo authpriv</p>

<p style="margin-left:23%; margin-top: 1em">Note that
&quot;authpriv&quot; is acceptable assuming as SSH protects
everything that way (assuming you have a non-insane setup).
snmpd has no notion of how SSH has actually protected a
packet and thus the snmp agent assumes all packets passed
through the SSH transport have been protected at the
authpriv level.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p>dtlsudp</p></td>
<td width="1%"></td>
<td width="77%">


<p>The DTLS protocol, which is based off of TLS, requires
both client and server certificates to establish the
connection and authenticate both sides. In order to do this,
the client will need to configure the snmp.conf file with
the <i>clientCert</i> configuration tokens. The server will
need to configure the snmp.conf file with the
<i>serverCert</i> configuration tokens defined.</p></td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">Access control
setup is similar to the ssh transport as the TSM security
model should be used to protect the packet.</p>

<h2>CONFIGURATION FILES
<a name="CONFIGURATION FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>snmpd</b>
checks for the existence of and parses the following files:
<b><br>
/etc/snmp/snmp.conf</b></p>

<p style="margin-left:20%;">Common configuration for the
agent and applications. See <i>snmp.conf(5)</i> for
details.</p>

<p style="margin-left:11%;"><b>/etc/snmp/snmpd.conf <br>
/etc/snmp/snmpd.local.conf</b></p>

<p style="margin-left:20%;">Agent-specific configuration.
See <i>snmpd.conf(5)</i> for details. These files are
optional and may be used to configure access control, trap
generation, subagent protocols and much else besides.</p>

<p style="margin-left:20%; margin-top: 1em">In addition to
these two configuration files in /etc/snmp, the agent will
read any files with the names <i>snmpd.conf</i> and
<i>snmpd.local.conf</i> in a colon separated path specified
in the SNMPCONFPATH environment variable.</p>


<p style="margin-left:11%;"><b>/usr/share/snmp/mibs/</b></p>

<p style="margin-left:20%;">The agent will also load all
files in this directory as MIBs. It will not, however, load
any file that begins with a &rsquo;.&rsquo; or descend into
subdirectories.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">(in recommended
reading order)</p>


<p style="margin-left:11%; margin-top: 1em">snmp_config(5),
snmp.conf(5), snmpd.conf(5)</p>
<hr>
</body>
</html>
