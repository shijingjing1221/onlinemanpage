<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 00:21:53 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>AMANDA.CONF</title>

</head>
<body>

<h1 align="center">AMANDA.CONF</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#SYNTAX">SYNTAX</a><br>
<a href="#GLOBAL PARAMETERS">GLOBAL PARAMETERS</a><br>
<a href="#HOLDINGDISK SECTION">HOLDINGDISK SECTION</a><br>
<a href="#DUMPTYPE SECTION">DUMPTYPE SECTION</a><br>
<a href="#TAPETYPE SECTION">TAPETYPE SECTION</a><br>
<a href="#INTERFACE SECTION">INTERFACE SECTION</a><br>
<a href="#APPLICATION SECTION">APPLICATION SECTION</a><br>
<a href="#SCRIPT SECTION">SCRIPT SECTION</a><br>
<a href="#DEVICE SECTION">DEVICE SECTION</a><br>
<a href="#CHANGER SECTION">CHANGER SECTION</a><br>
<a href="#INTERACTIVITY SECTION">INTERACTIVITY SECTION</a><br>
<a href="#TAPERSCAN SECTION">TAPERSCAN SECTION</a><br>
<a href="#DUMP SPLITTING CONFIGURATION">DUMP SPLITTING CONFIGURATION</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHORS">AUTHORS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">amanda.conf
&minus; Main configuration file for Amanda, the Advanced
Maryland Automatic Network Disk Archiver</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>amanda.conf</b>(5)
is the main configuration file for Amanda. This manpage
lists the relevant sections and parameters of this file for
quick reference.</p>

<p style="margin-left:11%; margin-top: 1em">The file
<b>&lt;CONFIG_DIR&gt;/&lt;config&gt;/amanda.conf</b> is
loaded.</p>

<h2>SYNTAX
<a name="SYNTAX"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">There are a
number of configuration parameters that control the behavior
of the Amanda programs. All have default values, so you need
not specify the parameter in <b>amanda.conf</b> if the
default is suitable.</p>


<p style="margin-left:11%; margin-top: 1em"><b>COMMENTS</b>
<br>
Lines starting with # are ignored, as are blank lines.
Comments may be placed on a line with a directive by
starting the comment with a #. The remainder of the line is
ignored.</p>

<p style="margin-left:11%; margin-top: 1em"><b>KEYWORDS AND
IDENTIFIERS</b> <br>
Keywords are case insensitive, i.e. <b>mailto</b> and
<b>MailTo</b> are treated the same. Also, the characters
'<b>&minus;</b>' and '<b>_</b>' are interchangeable in all
predefined Amanda keywords: <b>device_property</b> and
<b>device&minus;property</b> have the same meaning. This
manpage uses the dashed versions, but the underscored
versions will be accepted for backward compatibility</p>

<p style="margin-left:11%; margin-top: 1em">Identifiers are
names which are defined in the configuration itself, such as
dumptypes or interfaces. Identifiers are are
case&minus;insensitive, but sensitive to '<b>&minus;</b>'
vs. '<b>_</b>'. Identifiers should be quoted in the
configuration file, although For historical reasons, the
quotes are optional.</p>

<p style="margin-left:11%; margin-top: 1em">Strings are
always quoted with double quotes (&quot;), and any double
quotes or backslashes within the string are escaped with a
backslash:</p>

<p style="margin-left:11%; margin-top: 1em">tapelist
&quot;/path/to/tapelist&quot; <br>
property &quot;escaped&minus;string&quot; &quot;escaping: \\
(backslash) and \&quot; (double&minus;quote)&quot;</p>

<p style="margin-left:11%; margin-top: 1em">To summarize,
then:</p>

<p style="margin-left:11%; margin-top: 1em"># QUOTES CASE
&minus;/_ <br>
logdir &quot;logs&quot; # required sensitive sensitive <br>
send&minus;amreport&minus;on strange # prohibited
insensitive insensitive <br>
tapetype &quot;EXABYTE&quot; # optional insensitive
sensitive</p>

<p style="margin-left:11%; margin-top: 1em">define dumptype
&quot;dt&quot; { # optional insensitive sensitive <br>
&quot;dumptype&minus;common&quot; # optional insensitive
sensitive <br>
strategy noinc # prohibited insensitive insensitive <br>
}</p>

<p style="margin-left:11%; margin-top: 1em"><b>VALUE
SUFFIXES</b> <br>
Integer arguments may have one of the following (case
insensitive) suffixes, some of which have a multiplier
effect:</p>

<p style="margin-left:11%; margin-top: 1em"><b>b byte
bytes</b></p>

<p style="margin-left:17%;">Some number of bytes.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bps</b></p>

<p style="margin-left:17%;">Some number of bytes per
second.</p>

<p style="margin-left:11%; margin-top: 1em"><b>k kb kbyte
kbytes kilobyte kilobytes</b></p>

<p style="margin-left:17%;">Some number of kilobytes
(bytes*1024).</p>

<p style="margin-left:11%; margin-top: 1em"><b>kps
kbps</b></p>

<p style="margin-left:17%;">Some number of kilobytes per
second (bytes*1024).</p>

<p style="margin-left:17%; margin-top: 1em">It is the
default multiplier for all size options.</p>

<p style="margin-left:11%; margin-top: 1em"><b>m mb meg
mbyte mbytes megabyte megabytes</b></p>

<p style="margin-left:17%;">Some number of megabytes
(bytes*1024*1024).</p>

<p style="margin-left:11%; margin-top: 1em"><b>mps
mbps</b></p>

<p style="margin-left:17%;">Some number of megabytes per
second (bytes*1024*1024).</p>

<p style="margin-left:11%; margin-top: 1em"><b>g gb gbyte
gbytes gigabyte gigabytes</b></p>

<p style="margin-left:17%;">Some number of gigabytes
(bytes*1024*1024*1024).</p>

<p style="margin-left:11%; margin-top: 1em"><b>t tb tbyte
tbytes terabyte terabytes</b></p>

<p style="margin-left:17%;">Some number of terabytes
(bytes*1024*1024*1024*1024).</p>

<p style="margin-left:11%; margin-top: 1em"><b>tape
tapes</b></p>

<p style="margin-left:17%;">Some number of tapes.</p>

<p style="margin-left:11%; margin-top: 1em"><b>day
days</b></p>

<p style="margin-left:17%;">Some number of days.</p>

<p style="margin-left:11%; margin-top: 1em"><b>week
weeks</b></p>

<p style="margin-left:17%;">Some number of weeks
(days*7).</p>


<p style="margin-left:23%; margin-top: 1em"><b><big>Note</big></b>
<br>
The value <b>inf</b> may be used in most places where an
integer is expected to mean an infinite amount.</p>

<p style="margin-left:23%; margin-top: 1em">Boolean
arguments may have any of the values <b>1</b>, <b>y</b>,
<b>yes</b>, <b>t</b>, <b>true</b> or <b>on</b> to indicate a
true state, or <b>0</b>, <b>n</b>, <b>no</b>, <b>f</b>,
<b>false</b> or <b>off</b> to indicate a false state. If no
argument is given, <b>true</b> is assumed.</p>


<p style="margin-left:11%; margin-top: 1em"><b><big>PARAMETER
ORDER</big></b> <big><br>
In general, the order in which parameters occur in the
configuration file does not matter, with the exception of
subsection inheritance. For example, if dumptype
&quot;normal&minus;encrypt&quot; which inherits from
dumptype &quot;normal&quot;, then &quot;normal&quot; must
appear first in the configuration file.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>STRINGS</b>
<br>
Quoted strings in Amanda follow a common, C&minus;like
syntax. Printable characters and whitespace are kept
as&minus;is, except that the backslash character (\) is used
as an escape character, and a double&minus;quote ends the
string. The allowed escape sequences are</big></p>

<p style="margin-left:11%; margin-top: 1em"><big>ESCAPE
SEQUENCE BECOMES <br>
\\ \ <br>
\&quot; &quot; <br>
\n (newline) <br>
\t (tab) <br>
\r (carriage return) <br>
\f (form&minus;feed) <br>
\1 &minus; \7 <br>
\01 &minus; \77 <br>
\001 &minus; \377 (character specified in octal) <br>
Illegally quoted strings are handled on a
&quot;best&minus;effort&quot; basis, which may lead to
unexpected results.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big>Examples:</big></p>

<p style="margin-left:11%; margin-top: 1em"><big>finserver
&quot;/data/finance/XYZ Corp's \&quot;real\&quot;
finances&quot; finance&minus;high eth0 &minus;1 <br>
property &quot;syspath&quot;
&quot;C:\\WINDOWS\\SYSTEM&quot;</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>SUBSECTIONS
AND INHERITANCE</b> <br>
Amanda configuration files may include various
<i>subsections</i>, each defining a set of configuration
directives. Each type of subsection is described below. Note
that all types of subsections can <i>inherit</i> from other
subsections of the same type by naming the
&quot;parent&quot; section in the &quot;child&quot;
subsection. For example:</big></p>

<p style="margin-left:11%; margin-top: 1em"><big>define
dumptype global { <br>
record yes <br>
index yes <br>
}</big></p>

<p style="margin-left:11%; margin-top: 1em"><big>define
dumptype nocomp { <br>
global # inherit the parameters in dumptype 'global' <br>
compress none <br>
}</big></p>

<p style="margin-left:11%; margin-top: 1em"><big>Note that
multiple inheritance is also supported by simply naming
multiple parent sections in a child. Parents are implicitly
expanded in place in a child, and the last occurrence of
each parameter takes precedence. For example,</big></p>

<p style="margin-left:11%; margin-top: 1em"><big>define
tapetype par1 { <br>
comment &quot;Parent 1&quot; <br>
filemark 8k <br>
speed 300bps <br>
length 200M <br>
} <br>
define tapetype par2 { <br>
comment &quot;Parent 2&quot; <br>
filemark 16k <br>
speed 400bps <br>
} <br>
define tapetype child { <br>
par1 <br>
par2 <br>
filemark 32k <br>
} <br>
In this example, 'child' will have a filemark of 32k, a
speed of 400bps, and a length of 200M.</big></p>

<h2>GLOBAL PARAMETERS
<a name="GLOBAL PARAMETERS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><big><b>org</b>
<i>string</i></big></p>

<p style="margin-left:17%;"><big>Default:
<i>&quot;daily&quot;</i>. A descriptive name for the
configuration. This string appears in the Subject line of
mail reports. Each Amanda configuration should have a
different string to keep mail reports distinct.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>mailer</b>
<i>string</i></big></p>

<p style="margin-left:17%;"><big>Default found by
configure. A mail program that can send mail with '<i>MAILER
&minus;s &quot;subject&quot; user &lt;
message_file</i>'.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>mailto</b>
<i>string</i></big></p>

<p style="margin-left:17%;"><big>Default: none. A space
separated list of recipients for mail reports. If not
specified, amdump will not send any mail.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>send&minus;amreport&minus;on</b>
[ <b>all</b> | <b>strange</b> | <b>error</b> | <b>never</b>
]</big></p>

<p style="margin-left:17%;"><big>Default: <b>all</b>.
Specify which types of messages will trigger an email from
amreport. amreport is used by amdump and amflush.</big></p>


<p style="margin-left:17%; margin-top: 1em"><big><b>all</b></big></p>

<p style="margin-left:23%;"><big>Send an email on any
message.</big></p>


<p style="margin-left:17%; margin-top: 1em"><big><b>strange</b></big></p>

<p style="margin-left:23%;"><big>Send an email on strange
or error message. A strange message occurs when the dump
succeeded, but returned one or more errors unknown to
Amanda.</big></p>


<p style="margin-left:17%; margin-top: 1em"><big><b>error</b></big></p>

<p style="margin-left:23%;"><big>Send an email only on
error messages.</big></p>


<p style="margin-left:17%; margin-top: 1em"><big><b>never</b></big></p>

<p style="margin-left:23%;"><big>Never send an
email.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>report&minus;use&minus;media</b>
<i>boolean</i></big></p>

<p style="margin-left:17%;"><big>Default: <i>True</i> if
<b>max&minus;dle&minus;by&minus;volume</b> is not set,
<i>False</i> if it is set. If the reporter must print the
list of media used in the run.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>report&minus;next&minus;media</b>
<i>boolean</i></big></p>

<p style="margin-left:17%;"><big>Default: <i>True</i> if
<b>max&minus;dle&minus;by&minus;volume</b> is not set,
<i>False</i> if it is set. If the reporter must print the
list of media expected for the next run.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>max&minus;dle&minus;by&minus;volume</b>
<i>int</i></big></p>

<p style="margin-left:17%;"><big>Default:
<i>1000000000</i>. The maximum number of dle written to a
single volume.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>dumpcycle</b>
<i>int</i></big></p>

<p style="margin-left:17%;"><big>Default: <i>10 days</i>.
The number of days in the backup cycle. Each disk will get a
full backup at least this often. Setting this to zero tries
to do a full backup each run.</big></p>


<p style="margin-left:23%; margin-top: 1em"><big><b><big>Note</big></b>
<br>
This parameter may also be set in a specific <b>dumptype</b>
(see below). This value sets the default for all
<b>dumptype</b>s so must appear in <b>amanda.conf</b> before
any <b>dumptype</b>s are defined.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b><big>runspercycle</big></b>
<big><i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>same as
dumpcycle</i>. The number of amdump runs in <b>dumpcycle</b>
days. A value of 0 means the same value as <b>dumpcycle</b>.
A value of &minus;1 means guess the number of runs from the
<b>tapelist</b>(5) file, which is the number of tapes used
in the last <b>dumpcycle</b> days /
<b>runtapes</b>.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>tapecycle</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>15
tapes</i>. Specifies the number of &quot;active&quot;
volumes &minus; volumes that Amanda will not overwrite.
While Amanda is always willing to write to a new volume, it
refuses to overwrite a volume unless at least
'<b>tapecycle</b> &minus;1' volumes have been written
since.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>It is
considered good administrative practice to set the
<b>tapecycle</b> parameter slightly lower than the actual
number of tapes in use. This allows the administrator to
more easily cope with damaged or misplaced tapes or schedule
adjustments that call for slight adjustments in the rotation
order.</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>Note:
Amanda is commonly misconfigured with <b>tapecycle</b> equal
to the number of tapes per <b>dumpcycle</b>. In this
misconfiguration, amanda may erase a full dump before a new
one is completed. Recovery is then impossible. The
<b>tapecycle</b> must be at least one tape larger than the
number of tapes per dumpcycle.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>The
number of tapes per dumpcycle is calculated by multiplying
the number of <b>amdump</b> runs per dump cycle
<b>runspercycle</b> (the number of <b>amdump</b> runs per
dump cycle) and <b>runtapes</b> (the number of tapes used
per run). Typically <b>tapecycle</b> is set to two or four
times the tapes per dumpcycle.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>usetimestamps</b>
<i>bool</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <b>Yes</b>.
This option allows Amanda to track multiple runs per
calendar day. The only reason one might disable it is that
Amanda versions before 2.5.1 can't read logfiles written
when this option was enabled.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>label&minus;new&minus;tapes</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Deprecated, use
<b>autolabel</b> option with options <b>volume&minus;error
empty</b> to get equivalent behavior.</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>Default:
not set. When set, this directive will cause Amanda to
automatically write an Amanda tape label to any blank tape
she encounters.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>autolabel</b>
<i>string</i> [<b>any</b>] [<b>other&minus;config</b>]
[<b>non&minus;amanda</b>] [<b>volume&minus;error</b>]
[<b>empty</b>]</big></big></p>

<p style="margin-left:17%;"><big><big>Default: not set.
When set, this directive will cause Amanda to automatically
write an Amanda tape label to most volume she encounters.
This option is DANGEROUS because when set, Amanda may erase
near&minus;failing tapes or tapes accidentally loaded in the
wrong slot.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>When
using this directive, specify the template for new tape
labels. The template can contains many variables that are
substituted by their values:</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>$c :
config name <br>
$o : org configuration <br>
$b : barcode of the volume <br>
$s : slot number, can specify a minimun number of digit:
<br>
$3s to get '001' <br>
$m : meta label</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>The
template can contain some number of contiguous '%'
characters, which will be replaced with a generated number.
Be sure to specify enough '%' characters that you do not run
out of tape labels. Example:
<b>&quot;DailySet1&minus;%%%&quot;</b>,
<b>&quot;$c&minus;%%%&quot;</b>,
<b>&quot;$m&minus;%%%&quot;</b>,
<b>&quot;$m&minus;$b&quot;</b></big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>The
generared label can be used only if it match the
<b>labelstr</b> setting. The volume will not be used if the
generated label doesn't match the <b>labelstr</b>
setting.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>Note
that many devices cannot distinguish an empty tape from an
error condition, so it may is often necessary to include
<b>volume&minus;error</b> as an autolabel
condition.</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><b>any</b></big></big></p>

<p style="margin-left:23%;"><big><big>equivalent to
'<b>other&minus;config non&minus;amanda volume&minus;error
empty</b>'</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><b>other&minus;config</b></big></big></p>

<p style="margin-left:23%;"><big><big>Label volumes with a
valid Amanda label that do not match our <b>labelstr</b>.
Danger: this may erase volumes from other Amanda
configurations without warning!</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><b>non&minus;amanda</b></big></big></p>

<p style="margin-left:23%;"><big><big>Label volumes which
do not start with data that resembles an Amanda header.
Danger: this may erase volumes from other backup
applications without warning!</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><b>volume&minus;error</b></big></big></p>

<p style="margin-left:23%;"><big><big>Label volumes where
an error occurs while trying to read the label. Danger: this
may erase arbitrary volumes due to transient
errors.</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><b>empty</b></big></big></p>

<p style="margin-left:23%;"><big><big>Label volumes where a
read returns 0 bytes.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>meta&minus;autolabel</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: not set.
When set and if the changer support meta&minus;label, this
directive will cause Amanda to automatically add a
meta&minus;label to a meta&minus;volume.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>A
meta&minus;volume is a containers that contains many
volumes, eg. a removable hard&minus;disk for use with
chg&minus;disk, each hard disk have many slots (volume). The
meta&minus;label is the label to put on the
meta&minus;volume.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>When
using this directive, specify the template for new meta
labels. The template can contains many variables that are
substituted by their values:</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>$c :
config name <br>
$o : org configuration</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>The
template should contain some number of contiguous '%'
characters, which will be replaced with a generated number.
Be sure to specify enough '%' characters that you do not run
out of meta labels. Example:
<b>&quot;DailySet1&minus;%%%&quot;</b>,
<b>&quot;$o&minus;%%%&quot;</b>,</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>dumpuser</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default:
<i>&quot;amanda&quot;</i>. The login name Amanda uses to run
the backups. The backup client hosts must allow access from
the tape server host as this user via <b>.rhosts</b> or
<b>.amandahosts</b>, depending on how the Amanda software
was built.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>printer</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Printer to use when
doing tape labels. See the <b>lbl&minus;templ tapetype</b>
option.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>tapedev</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default:
<i>&quot;null:&quot;</i>. This parameter can either specify
a device (explicitly or by referencing a device definition
&minus; see <b>amanda-devices</b>(7)) or a tape changer
(explicitly or by referencing a device definition &minus;
see <b>amanda-changers</b>(7)).</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>device&minus;property</b>
<i>string string</i></big></big></p>

<p style="margin-left:17%;"><big><big>These options can set
various device properties. See <b>amanda-devices</b>(7) for
more information on device properties and their syntax. Both
strings are always quoted; the first string contains the
name of the property to set, and the second contains its
value. For example, to set a fixed block size of 128k,
write: <br>
device&minus;property &quot;BLOCK_SIZE&quot;
&quot;128k&quot;</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>property</b>
[<b>append</b>] <i>string string</i>+</big></big></p>

<p style="margin-left:17%;"><big><big>These options can set
various properties, they can be used by third party software
to store information in the configuration file. Both strings
are quoted; the first string contains the name of the
property to set, and the others contains its values.
<b>append</b> keyword append the values to the list of
values for that property.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>tpchanger</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: not set. The
tape changer to use. In most cases, only one of
<b>tpchanger</b> or <b>tapedev</b> is specified, although
for backward compatibility both may be specified if
<b>tpchanger</b> gives the name of an old changer script.
See <b>amanda-changers</b>(7) for more information on
configuring changers.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>interactivity</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: not set. The
interactivity module Amanda should use to interact with the
user. See <b>amanda-interactivity</b>(7) for a list of
modules.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>taperscan</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: traditional.
The taperscan module amanda should use to find a tape to
write to. See <b>amanda-taperscan</b>(7) for a list of
modules.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>changerdev</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default:
<i>&quot;dev/null&quot;</i>. A tape changer configuration
parameter. Usage depends on the particular changer defined
with the <b>tpchanger</b> option.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>changerfile</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default:
<i>&quot;/usr/adm/amanda/log/changer&minus;status&quot;</i>.
A tape changer configuration parameter. Usage depends on the
particular changer defined with the <b>tpchanger</b>
option.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>runtapes</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>1</i>.
The maximum number of tapes used in a single run. If a tape
changer is not configured, this option is not used and
should be commented out of the configuration
file.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>If a
tape changer is configured, this may be set larger than one
to let Amanda write to more than one tape.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>Note
that this is an upper bound on the number of tapes, and
Amanda may use less.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>maxdumpsize</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default:
<b>runtapes</b><i>*</i><b>tape&minus;length</b>. Maximum
number of bytes the planner will schedule for a
run.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>The
default unit is Kbytes if it is not
specified.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>taperalgo</b>
[ <b>first</b> | <b>firstfit</b> | <b>largest</b> |
<b>largestfit</b> | <b>smallest</b> | <b>last</b>
]</big></big></p>

<p style="margin-left:17%;"><big><big>Default:
<b>first</b>. The algorithm used to choose which dump image
to send to the taper.</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><b>first</b></big></big></p>

<p style="margin-left:23%;"><big><big>First in, first
out.</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><b>firstfit</b></big></big></p>

<p style="margin-left:23%;"><big><big>The first dump image
that will fit on the current tape.</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><b>largest</b></big></big></p>

<p style="margin-left:23%;"><big><big>The largest dump
image.</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><b>largestfit</b></big></big></p>

<p style="margin-left:23%;"><big><big>The largest dump
image that will fit on the current tape.</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><b>smallest</b></big></big></p>

<p style="margin-left:23%;"><big><big>The smallest dump
image.</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><b>last</b></big></big></p>

<p style="margin-left:23%;"><big><big>Last in, first
out.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>taper&minus;parallel&minus;write</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>1</i>.
Amanda can write simultaneously up to that number of volume
at any given time. The changer must have as many
drives.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>eject&minus;volume</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>no</i>.
Set to <b>yes</b> if you want the volume to be ejected after
Amanda wrote data to it. It works only with some changer and
device.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>labelstr</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default:
<i>&quot;.*&quot;</i>. The tape label constraint regular
expression. All tape labels generated (see
<b>amlabel</b>(8)) and used by this configuration must match
the regular expression. If multiple configurations are run
from the same tape server host, it is helpful to set their
labels to different strings (for example,
&quot;DAILY[0&minus;9][0&minus;9]*&quot; vs.
&quot;ARCHIVE[0&minus;9][0&minus;9]*&quot;) to avoid
overwriting each other's tapes.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>tapetype</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>no
default</i>. The type of tape drive associated with
<b>tapedev</b> or <b>tpchanger</b>. This refers to one of
the defined <b>tapetype</b>s in the config file (see below),
which specify various tape parameters, like the
<b>length</b>, <b>filemark</b> size, and <b>speed</b> of the
tape media and device.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>ctimeout</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>30
seconds</i>. Maximum amount of time that <b>amcheck</b> will
wait for each client host.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>dtimeout</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>1800
seconds</i>. Amount of idle time per disk on a given client
that a <b>dumper</b> running from within <b>amdump</b> will
wait before it fails with a data timeout
error.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>etimeout</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>300
seconds</i>. Amount of time per estimate on a given client
that the <b>planner</b> step of <b>amdump</b> will wait to
get the dump size estimates (note: Amanda runs up to 3
estimates for each DLE). For instance, with the default of
300 seconds and four DLE's, each estimating level 0 and
level 1 on client A, <b>planner</b> will wait up to 40
minutes for that machine. A negative value will be
interpreted as a total amount of time to wait per client
instead of per disk.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>connect&minus;tries</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>3</i>.
How many times the server will try a
connection.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>req&minus;tries</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>3</i>.
How many times the server will resend a REQ packet if it
doesn't get the ACK packet.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>netusage</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>80000
Kbps</i>. The maximum network bandwidth allocated to Amanda,
in Kbytes per second. See also the <b>interface</b>
section.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>inparallel</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>10</i>.
The maximum number of backups that Amanda will attempt to
run in parallel. Amanda will stay within the constraints of
network bandwidth and holding disk space available, so it
doesn't hurt to set this number a bit high. Some contention
can occur with larger numbers of backups, but this effect is
relatively small on most systems.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>displayunit</b>
&quot;k|m|g|t&quot;</big></big></p>

<p style="margin-left:17%;"><big><big>Default:
<i>&quot;k&quot;</i>. The unit used to print many numbers,
k=kilo, m=mega, g=giga, t=tera.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>dumporder</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default:
<i>&quot;tttTTTTTTT&quot;</i>. The priority order of each
dumper:</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>s:
smallest size <br>
S: largest size <br>
t: smallest time <br>
T: largest time <br>
b: smallest bandwidth <br>
B: largest bandwidth</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>maxdumps</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>1</i>.
The maximum number of backups from a single host that Amanda
will attempt to run in parallel. See also the
<b>inparallel</b> option.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>Note
that this parameter may also be set in a specific
<b>dumptype</b> (see below). This value sets the default for
all <b>dumptype</b>s so must appear in <b>amanda.conf</b>
before any <b>dumptype</b>s are defined.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>bumpsize</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>10
Mbytes</i>. The minimum savings required to trigger an
automatic bump from one incremental level to the next,
expressed as size. If Amanda determines that the next higher
backup level will be this much smaller than the current
level, it will do the next level. The value of this
parameter is used only if the parameter <i>bumppercent</i>
is set to 0.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>The
default unit is Kbytes if it is not
specified.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>The
global setting of this parameter can be overwritten inside
of a dumptype&minus;definition.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>See
also the options <b>bumppercent</b>, <b>bumpmult</b> and
<b>bumpdays</b>.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>bumppercent</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>0</i>.
The minimum savings required to trigger an automatic bump
from one incremental level to the next, expressed as
percentage of the current size of the DLE (size of current
level 0). If Amanda determines that the next higher backup
level will be this much smaller than the current level, it
will do the next level.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>If
this parameter is set to 0, the value of the parameter
<i>bumpsize</i> is used to trigger bumping.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>The
global setting of this parameter can be overwritten inside
of a dumptype&minus;definition.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>See
also the options <b>bumpsize</b>, <b>bumpmult</b> and
<b>bumpdays</b>.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>bumpmult</b>
<i>float</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>1.5</i>.
The bump size multiplier. Amanda multiplies <b>bumpsize</b>
by this factor for each level. This prevents active
filesystems from bumping too much by making it harder to
bump to the next level. For example, with the default
<b>bumpsize</b> and <b>bumpmult</b> set to 2.0, the bump
threshold will be 10 Mbytes for level one, 20 Mbytes for
level two, 40 Mbytes for level three, and so
on.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>The
global setting of this parameter can be overwritten inside
of a dumptype&minus;definition.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>bumpdays</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>2
days</i>. To insure redundancy in the dumps, Amanda keeps
filesystems at the same incremental level for at least
<b>bumpdays</b> days, even if the other bump threshold
criteria are met.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>The
global setting of this parameter can be overwritten inside
of a dumptype&minus;definition.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>diskfile</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default:
<i>&quot;disklist&quot;</i>. The file name for the
<i>disklist</i> file holding client hosts, disks and other
client dumping information.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>infofile</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default:
<i>&quot;/usr/adm/amanda/curinfo&quot;</i>. The file or
directory name for the historical information database. If
Amanda was configured to use DBM databases, this is the base
file name for them. If it was configured to use text
formated databases (the default), this is the base directory
and within here will be a directory per client, then a
directory per disk, then a text file of
data.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>logdir</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default:
<i>&quot;/usr/adm/amanda&quot;</i>. The directory for the
<b>amdump</b> and <b>log</b> files.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>indexdir</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default
<i>&quot;/usr/adm/amanda/index&quot;</i>. The directory
where index files (backup image catalogues) are stored.
Index files are only generated for filesystems whose
<b>dumptype</b> has the <b>index</b> option
enabled.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>tapelist</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default:
<i>&quot;tapelist&quot;</i>. The file name for the active
<b>tapelist</b>(5). Amanda maintains this file with
information about the active set of tapes.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>device&minus;output&minus;buffer&minus;size</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default:
<i>1280k</i>. Controls the amount of memory used by Amanda
to hold data as it is read from the network or disk before
it is written to the output device. Higher values may be
useful on fast tape drives and optical
media.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>The
default unit is bytes if it is not
specified.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>tapebufs</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>20</i>.
This option is deprecated; use the
<b>device&minus;output&minus;buffer&minus;size</b> directive
instead. <b>tapebufs</b> works the same way, but the number
specified is multiplied by the device blocksize prior to
use.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>reserve</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>100</i>.
The part of holding&minus;disk space that should be reserved
for incremental backups if no tape is available, expressed
as a percentage of the available holding&minus;disk space
(0&minus;100). By default, when there is no tape to write
to, degraded mode (incremental) backups will be performed to
the holding disk. If full backups should also be allowed in
this case, the amount of holding disk space reserved for
incrementals should be lowered.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>autoflush
no</b>|<b>yes</b>|<b>all</b></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <b>no</b>.
Whether an amdump run will flush the dumps from holding disk
to tape. With <b>yes</b>, only dump matching the command
line argument are flushed. With <b>all</b>, all dump are
flushed.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>amrecover&minus;do&minus;fsf</b>
<i>bool</i></big></big></p>

<p style="margin-left:17%;"><big><big>Deprecated; amrecover
always uses fsf, and does not invoke
amrestore.</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>Default:
<b>on</b>. Amrecover will call amrestore with the &minus;f
flag for faster positioning of the tape.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>amrecover&minus;check&minus;label</b>
<i>bool</i></big></big></p>

<p style="margin-left:17%;"><big><big>Deprecated; amrecover
always checks the label, and does not invoke
amrestore.</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>Default:
<b>on</b>. Amrecover will call amrestore with the &minus;l
flag to check the label.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>amrecover&minus;changer</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: not set.
Amrecover will use the changer if you use 'settape
&lt;string&gt;' and that string is the same as the
<b>amrecover&minus;changer</b> setting.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>columnspec</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>default:
&quot;HostName=0:&minus;12:12,Disk=1:&minus;11:11,Level=1:&minus;1:1,OrigKB=1:&minus;7:0,OutKB=1:&minus;7:0,Compress=1:&minus;6:1,DumpTime=1:&minus;7:7,Dumprate=1:&minus;6:1,TapeTime=1:&minus;6:6,TapeRate=1:&minus;6:1&quot;</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>Defines
the width of columns <b>amreport</b> should use.
<i>String</i> is a comma (',') separated list of triples.
Each triple consists of three parts which are separated by a
equal sign ('=') and a colon (':') (see the example). These
four parts specify:</big></big></p>

<p style="margin-left:23%; margin-top: 1em"><big><big>1.
the name of the column, which may be:</big></big></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p><big><big>Compress (compression ratio)</big></big></p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p><big><big>Disk (client disk name)</big></big></p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p><big><big>DumpRate (dump rate in
KBytes/sec)</big></big></p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p><big><big>DumpTime (total dump time in
hours:minutes)</big></big></p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p><big><big>HostName (client host name)</big></big></p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p><big><big>Level (dump level)</big></big></p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p><big><big>OrigKB (original image size in
KBytes)</big></big></p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p><big><big>OutKB (output image size in
KBytes)</big></big></p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p><big><big>TapeRate (tape writing rate in
KBytes/sec)</big></big></p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p><big><big>TapeTime (total tape time in
hours:minutes)</big></big></p> </td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em"><big><big>2.
the amount of space to display before the column (used to
get whitespace between columns).</big></big></p>

<p style="margin-left:23%; margin-top: 1em"><big><big>3.
the width of the column itself. If set to a negative value,
the width will be calculated on demand to fit the largest
entry in this column.</big></big></p>

<p style="margin-left:23%; margin-top: 1em"><big><big>4.
the precision of the column, number of digit after the
decimal point for number.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>Here
is an example:</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>columnspec
&quot;Disk=1:18,HostName=0:10,OrigKB=::2,OutKB=1:7&quot;</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>The
above will display the disk information in 18 characters and
put one space before it. The hostname column will be 10
characters wide with no space to the left. The Original
KBytes print 2 decimal digit. The output KBytes column is
seven characters wide with one space before
it.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>includefile</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>no
default</i>. The name of an Amanda configuration file to
include within the current file. Useful for sharing
dumptypes, tapetypes and interface definitions among several
configurations. Relative pathnames are relative to the
configuration directory.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>debug&minus;days</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>3</i>.
The number of days the debug files are kept.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>debug&minus;auth</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>0</i>.
Debug level of the auth module</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>debug&minus;event</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>0</i>.
Debug level of the event module</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>debug&minus;holding</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>0</i>.
Debug level of the holdingdisk module</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>debug&minus;protocol</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>0</i>.
Debug level of the protocol module</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>debug&minus;planner</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>0</i>.
Debug level of the planner process</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>debug&minus;driver</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>0</i>.
Debug level of the driver process</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>debug&minus;dumper</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>0</i>.
Debug level of the dumper process</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>debug&minus;chunker</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>0</i>.
Debug level of the chunker process</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>debug&minus;taper</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>0</i>.
Debug level of the taper process</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>debug&minus;recovery</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>1</i>.
Debug level of all recovery process</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>flush&minus;threshold&minus;dumped</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>0</i>.
Amanda will not begin writing data to a new volume until the
amount of data on the holding disk is at least this
percentage of the volume size. In other words, Amanda will
not begin until the amount of data on the holding disk is
greater than the tape length times this parameter. This
parameter may be larger than 100%, for example to keep more
recent dumps on the holding disk for faster
recovery.</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>Needless
to say, your holding disk must be big enough that this
criterion could be satisfied. If the holding disk cannot be
used for a particular dump (because, for example, there is
no remaining holding space) then Amanda will disregard the
constraint specified by this setting and start a new volume
anyway. Once writing to a volume has begun, this constraint
is not applied unless and until a new volume is
needed.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>The
value of this parameter may not exceed than that of the
<b>flush&minus;threshold&minus;scheduled</b>
parameter.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>flush&minus;threshold&minus;scheduled</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>0</i>.
Amanda will not begin writing data to a new volume until the
sum of the amount of data on the holding disk and the
estimated amount of data remaining to be dumped during this
run is at least this percentage of the volume size. In other
words, Amanda will not begin until the inequality h + s &gt;
t &times; d is satisfied, where h is the amount of data on
the holding disk, s is the total amount of data scheduled
for this run but not dumped yet, t is the capacity of a
volume, and d is this parameter, expressed as a percentage.
This parameter may be larger than 100%.</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>Needless
to say, your holding disk must be big enough that this
criterion could be satisfied. If the holding disk cannot be
used for a particular dump (because, for example, there is
no remaining holding space) then Amanda will disregard the
constraint specified by this setting and start a new volume
anyway. Once writing to a volume has begun, this constraint
is not applied unless and until a new volume is
needed.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>The
value of this parameter may not be less than that of the
<b>flush&minus;threshold&minus;dumped</b> or
<b>taperflush</b> parameters.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>taperflush</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>0</i>. At
the end of a run, Amanda will start a new tape to flush
remaining data if there is more data on the holding disk at
the end of a run than this setting allows; the amount is
specified as a percentage of the capacity of a single
volume. In other words, at the end of a run, Amanda will
begin a new tape if the inequality h &gt; t &times; f is
satisfied, where h is the amount of data remaining on the
holding disk from this or previous runs, t is the capacity
of a volume, and f is this parameter, expressed as a
percentage. This parameter may be greater than
100%.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>The
value of this parameter may not exceed that of the
<b>flush&minus;threshold&minus;scheduled</b> parameter.;
<b>autoflush</b> must be set to 'yes' if <b>taperflush</b>
is greater than 0.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>reserved&minus;udp&minus;port</b>
<i>int</i>,<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default:
&minus;&minus;with&minus;udpportrange or <i>512,1023</i>.
Reserved udp port that will be used (bsd, bsdudp). Range is
inclusive.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>reserved&minus;tcp&minus;port</b>
<i>int</i>,<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default:
&minus;&minus;with&minus;low&minus;tcpportrange or
<i>512,1023</i>. Reserved tcp port that will be used
(bsdtcp). Range is inclusive.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>unreserved&minus;tcp&minus;port</b>
<i>int</i>,<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default:
&minus;&minus;with&minus;tcpportrange or <i>1024,65535</i>.
Unreserved tcp port that will be used (bsd, bsdudp). Range
is inclusive.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>recovery&minus;limit</b>
[ <i>string</i> | <b>same&minus;host</b> |
<b>server</b>]</big></big></p>

<p style="margin-left:17%;"><big><big>Default: none (no
limitations). This parameter limits the hosts that may do
recoveries. Hosts are identified by their authenticated peer
name, as described in <b>amanda-auth</b>(7); if this is not
available and the recovery&minus;limit parameter is present,
recovery will be denied. The arguments to the parameter are
strings giving host match expressions (see
<b>amanda-match</b>(7)) or the special keywords
<b>same&minus;host</b> or <b>server</b>. The
<b>same&minus;host</b> keyword requires an exact match to
the hostname of the DLE being recovered. The <b>server</b>
keyword require the connection come from the fqdn of the
server. Specifying no arguments at all will disable all
recoveries from any host.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>Note
that match expressions can be constructed to be forgiving of
e.g., fully&minus;qualified vs. unqualified hostnames, but
<b>same&minus;host</b> requires an exact
match.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>The
error messages that appear in amrecover are intentionally
vague to avoid information leakage. Consult the amindexd
debug log for more details on the reasons a recovery was
rejected.</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>Recovery
limits can be refined on a per&minus;DLE basis using the
dumptype parameter of the same name. Note that the default
value will apply to any dumpfiles for disks which no longer
appear in the disklist; thus leaving the global parameter at
its default value but setting it for all DLEs is not
sufficient to maintain secure backups.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>tmpdir</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: none (system
default). Set it to a directory with lots of free space if
sort in amindexd fail with 'No space left on
device'.</big></big></p>

<h2>HOLDINGDISK SECTION
<a name="HOLDINGDISK SECTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><big><big>The
<b>amanda.conf</b> file may define one or more holding disks
used as buffers to hold backup images before they are
written to tape. The syntax is: <br>
define holdingdisk <i>name</i> { <i><br>
holdingdisk&minus;option holdingdisk&minus;value</i> <br>
... <br>
}</big></big></p>

<p style="margin-left:11%; margin-top: 1em"><big><big>The {
must appear at the end of a line, and the } on its own
line.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><i>Name</i>
is a logical name for this holding disk.</big></big></p>

<p style="margin-left:11%; margin-top: 1em"><big><big>The
options and values are:</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>comment</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: not set. A
comment string describing this holding disk.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>directory</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default:
<i>&quot;/dumps/amanda&quot;</i>. The path to this holding
area.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>use</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>0 Gb</i>.
Amount of space that can be used in this holding disk area.
If the value is zero, all available space on the file system
is used. If the value is negative, Amanda will use all
available space minus that value.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>chunksize</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>1 Gb</i>.
Holding disk chunk size. Dumps larger than the specified
size will be stored in multiple holding disk files. The size
of each chunk will not exceed the specified value. However,
even though dump images are split in the holding disk, they
are concatenated as they are written to tape, so each dump
image still corresponds to a single continuous tape
section.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>The
default unit is Kbytes if it is not
specified.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>If 0
is specified, Amanda will create holding disk chunks as
large as ((INT_MAX/1024)&minus;64) Kbytes.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>Each
holding disk chunk includes a 32 Kbyte header, so the
minimum chunk size is 64 Kbytes (but that would be really
silly).</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>Operating
systems that are limited to a maximum file size of 2 Gbytes
actually cannot handle files that large. They must be at
least one byte less than 2 Gbytes. Since Amanda works with
32 Kbyte blocks, and to handle the final read at the end of
the chunk, the chunk size should be at least 64 Kbytes (2 *
32 Kbytes) smaller than the maximum file size, e.g. 2047
Mbytes.</big></big></p>

<h2>DUMPTYPE SECTION
<a name="DUMPTYPE SECTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><big><big>The
<b>amanda.conf</b>(5) file may define multiple sets of
backup options and refer to them by name from the
<b>disklist</b>(5) file. For instance, one set of options
might be defined for file systems that can benefit from high
compression, another set that does not compress well,
another set for file systems that should always get a full
backup and so on.</big></big></p>

<p style="margin-left:11%; margin-top: 1em"><big><big>A set
of backup options are entered in a <b>dumptype</b> section,
which looks like this: <br>
define dumptype &quot;<i>name</i>&quot; { <i><br>
dumptype&minus;option dumptype&minus;value</i> <br>
... <br>
}</big></big></p>

<p style="margin-left:11%; margin-top: 1em"><big><big>The {
must appear at the end of a line, and the } on its own
line.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><i>Name</i>
is the name of this set of backup options. It is referenced
from the <b>disklist</b>(5) file.</big></big></p>

<p style="margin-left:11%; margin-top: 1em"><big><big>Some
of the options in a <b>dumptype</b> section are the same as
those in the main part of <b>amanda.conf</b>(5). The main
option value is used to set the default for all
<b>dumptype</b> sections. For instance, setting
<b>dumpcycle</b> to 50 in the main part of the config file
causes all following <b>dumptype</b> sections to start with
that value, but the value may be changed on a section by
section basis. Changes to variables in the main part of the
config file must be done before (earlier in the file) any
<b>dumptype</b>s are defined.</big></big></p>

<p style="margin-left:11%; margin-top: 1em"><big><big>The
dumptype options and values are:</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>auth</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default:
<i>&quot;bsdtcp&quot;</i>. Type of authorization to perform
between tape server and backup client hosts. See
<b>amanda-auth</b>(7) for more detail.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>amandad&minus;path</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default:
<i>&quot;$libexec/amandad&quot;</i>. Specify the amandad
path of the client, only use with rsh/ssh
authentification.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>client&minus;username</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default:
<i>CLIENT_LOGIN</i>. Specify the username to connect on the
client, only use with rsh/ssh
authentification.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>client&minus;port</b>
[ <i>int</i> | <i>string</i> ]</big></big></p>

<p style="margin-left:17%;"><big><big>Default:
<i>&quot;amanda&quot;</i>. Specifies the port to connect to
on the client. It can be a service name or a numeric port
number.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>bumpsize</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>10
Mbytes</i>. The minimum savings required to trigger an
automatic bump from one incremental level to the next,
expressed as size. If Amanda determines that the next higher
backup level will be this much smaller than the current
level, it will do the next level. The value of this
parameter is used only if the parameter <i>bumppercent</i>
is set to 0.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>The
default unit is Kbytes if it is not
specified.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>See
also the options <b>bumppercent</b>, <b>bumpmult</b> and
<b>bumpdays</b>.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>bumppercent</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>0</i>.
The minimum savings required to trigger an automatic bump
from one incremental level to the next, expressed as
percentage of the current size of the DLE (size of current
level 0). If Amanda determines that the next higher backup
level will be this much smaller than the current level, it
will do the next level.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>If
this parameter is set to 0, the value of the parameter
<i>bumpsize</i> is used to trigger bumping.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>See
also the options <b>bumpsize</b>, <b>bumpmult</b> and
<b>bumpdays</b>.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>bumpmult</b>
<i>float</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>1.5</i>.
The bump size multiplier. Amanda multiplies <b>bumpsize</b>
by this factor for each level. This prevents active
filesystems from bumping too much by making it harder to
bump to the next level. For example, with the default
<b>bumpsize</b> and <b>bumpmult</b> set to 2.0, the bump
threshold will be 10 Mbytes for level one, 20 Mbytes for
level two, 40 Mbytes for level three, and so
on.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>bumpdays</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>2
days</i>. To insure redundancy in the dumps, Amanda keeps
filesystems at the same incremental level for at least
<b>bumpdays</b> days, even if the other bump threshold
criteria are met.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>comment</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: not set. A
comment string describing this set of backup
options.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>comprate</b>
<i>float</i> [, <i>float</i> ]</big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>0.50,
0.50</i>. The expected full and incremental compression
factor for dumps. It is only used if Amanda does not have
any history information on compression rates for a
filesystem, so should not usually need to be set. However,
it may be useful for the first time a very large filesystem
that compresses very little is backed up.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>compress</b>
[ <b>none</b> | <b>client</b> | <b>server</b> ] [
<b>best</b> | <b>fast</b> | <b>custom</b> ]</big></big></p>

<p style="margin-left:17%;"><big><big>Default: <b>client
fast</b>. If Amanda does compression of the backup images,
it can do so either on the backup client host before it
crosses the network or on the tape server host as it goes
from the network into the holding disk or to tape. Which
place to do compression (if at all) depends on how well the
dump image usually compresses, the speed and load on the
client or server, network capacity, holding disk capacity,
availability of tape hardware compression,
etc.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>For
either type of compression, Amanda also allows the selection
of three styles of compression. <b>best</b> is the best
compression available, often at the expense of CPU overhead.
<b>fast</b> is often not as good a compression as
<b>best</b>, but usually less CPU overhead. Or to specify
<b>custom</b> to use your own compression method. (See
dumptype custom&minus;compress in example/amanda.conf for
reference)</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>So
the <b>compress</b> options line may be one
of:</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>compress
none</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>compress
client fast</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>compress
client best</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>compress
client custom</big></big></p>

<p style="margin-left:23%;"><big><big>Specify
<b>client&minus;custom&minus;compress</b>
&quot;PROG&quot;</big></big></p>

<p style="margin-left:23%; margin-top: 1em"><big><big>PROG
must not contain white space and it must accept &minus;d for
uncompress.</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>compress
server fast</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>compress
server best</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>compress
server custom</big></big></p>

<p style="margin-left:23%;"><big><big>Specify
<b>server&minus;custom&minus;compress</b>
&quot;PROG&quot;</big></big></p>

<p style="margin-left:23%; margin-top: 1em"><big><big>PROG
must not contain white space and it must accept &minus;d for
uncompress.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>Note
that some tape devices do compression and this option has
nothing to do with whether that is used. If hardware
compression is used (usually via a particular tape device
name or <b>mt</b> option), Amanda (software) compression
should be disabled.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>client&minus;custom&minus;compress</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: none. The
program to use to perform compression/decompression on the
client; used with &quot;compress client custom&quot;. Must
not contain whitespace. Must accept &minus;d to
uncompress.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>server&minus;custom&minus;compress</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: none. The
program to use to perform compression/decompression on the
server; used with &quot;compress server custom&quot;. Must
not contain whitespace. Must accept &minus;d to
uncompress.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>dumpcycle</b>
<i>int</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <i>10
days</i>. The number of days in the backup cycle. Each disk
using this set of options will get a full backup at least
this of ten. Setting this to zero tries to do a full backup
each run.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>encrypt</b>
[ <b>none</b> | <b>client</b> | <b>server</b>
]</big></big></p>

<p style="margin-left:17%;"><big><big>Default: not set. To
encrypt backup images, it can do so either on the backup
client host before it crosses the network or on the tape
server host as it goes from the network into the holding
disk or to tape.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>So
the <b>encrypt</b> options line may be one
of:</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>encrypt
none</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>encrypt
client</big></big></p>

<p style="margin-left:23%;"><big><big>Specify
client&minus;encrypt &quot;PROG&quot;</big></big></p>

<p style="margin-left:23%; margin-top: 1em"><big><big>PROG
must not contain white space.</big></big></p>


<p style="margin-left:23%; margin-top: 1em"><big><big>Specify
client&minus;decrypt&minus;option
&quot;decryption&minus;parameter&quot; Default:
&quot;&minus;d&quot;</big></big></p>


<p style="margin-left:23%; margin-top: 1em"><big><big>decryption&minus;parameter
must not contain white space.</big></big></p>

<p style="margin-left:23%; margin-top: 1em"><big><big>(See
dumptype client&minus;encrypt&minus;nocomp in
example/amanda.conf for reference)</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>encrypt
server</big></big></p>

<p style="margin-left:23%;"><big><big>Specify
server&minus;encrypt &quot;PROG&quot;</big></big></p>

<p style="margin-left:23%; margin-top: 1em"><big><big>PROG
must not contain white space.</big></big></p>


<p style="margin-left:23%; margin-top: 1em"><big><big>Specify
server&minus;decrypt&minus;option
&quot;decryption&minus;parameter&quot; Default:
&quot;&minus;d&quot;</big></big></p>


<p style="margin-left:23%; margin-top: 1em"><big><big>decryption&minus;parameter
must not contain white space.</big></big></p>

<p style="margin-left:23%; margin-top: 1em"><big><big>(See
dumptype server&minus;encrypt&minus;fast in
example/amanda.conf for reference)</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>Note
that current logic assumes compression then encryption
during backup(thus decrypt then uncompress during restore).
So specifying client&minus;encryption AND
server&minus;compression is not supported. <i>amcrypt</i>
which is a wrapper of <i>aespipe</i> is provided as a
reference symmetric encryption program.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>client&minus;encrypt</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: none. The
program to use to perform encryption/decryption on the
client; used with &quot;encrypt client&quot;. Must not
contain whitespace.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>client&minus;decrypt&minus;option</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: &minus;d.
The option that can be passed to client&minus;encrypt to
make it decrypt instead. Must not contain
whitespace.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>server&minus;encrypt</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: none. The
program to use to perform encryption/decryption on the
server; used with &quot;encrypt server&quot;. Must not
contain whitespace.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>server&minus;decrypt&minus;option</b>
<i>string</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: &minus;d.
The option that can be passed to server&minus;encrypt to
make it decrypt instead. Must not contain
whitespace.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>estimate</b>
[ <b>client</b> | <b>calcsize</b> | <b>server</b>
]+</big></big></p>

<p style="margin-left:17%;"><big><big>Default:
<b>client</b>. Determine the way Amanda estimates the size
of each DLE before beginning a backup. This is a list of
acceptable estimate methods, and Amanda applies the first
method supported by the application. The methods
are:</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>client</big></big></p>

<p style="margin-left:23%;"><big><big>Use the same program
as the dumping program. This is the most accurate method to
do estimates, but it can take a long time.</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>calcsize</big></big></p>

<p style="margin-left:23%;"><big><big>Use a faster program
to do estimates, but the result is less
accurate.</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>server</big></big></p>

<p style="margin-left:23%;"><big><big>Use only statistics
from the previous few runs to give an estimate. This very
quick, but the result is not accurate if your disk usage
changes from day to day. If this method is specified, but
the server does not have enough data to make an estimate,
then the option is internally moved to the end of the list,
thereby preferring 'client' or 'calcsize' in this
case.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>exclude</b>
[ <b>list</b> | <b>file</b>
][[<b>optional</b>][<b>append</b>][ <i>string</i>
]+]</big></big></p>

<p style="margin-left:17%;"><big><big>Default: <b>file</b>.
Exclude is the opposite of <b>include</b> and specifies
files that will be excluded from the backup. The format of
the exclude expressions depends on the application, and some
applications do not support excluding files at
all.</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>There
are two exclude parameters, <b>exclude file</b> and
<b>exclude list.</b> With <b>exclude file</b>, the
<i>string</i> is an exclude expression. With <b>exclude
list</b> , the <i>string</i> is a file name on the client
containing <b>GNU&minus;tar</b> exclude expressions. The
path to the specified exclude list file, if present (see
description of 'optional' below), must be readable by the
Amanda user.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>All
exclude expressions are concatenated in one file and passed
to the application as an
<b>&minus;&minus;exclude&minus;from</b>
argument.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>For
<b>GNU&minus;tar</b>, exclude expressions must always be
specified as relative to the top&minus;level directory of
the DLE, and must start with &quot;./&quot;. See the
manpages for individual applications for more information on
supported exclude expressions.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>With
the <b>append</b> keyword, the <i>string</i> is appended to
the current list, without it, the <i>string</i> overwrites
the list.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>If
<b>optional</b> is specified for <b>exclude list</b>, then
amcheck will not complain if the file doesn't exist or is
not readable.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>For
<b>exclude list</b>, if the file name is relative, the disk
name being backed up is prepended. So if this is entered:
<br>
exclude list &quot;.amanda.excludes&quot; <br>
the actual file used would be /var/.amanda.excludes for a
backup of /var, /usr/local/.amanda.excludes for a backup of
/usr/local, and so on.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>holdingdisk</b>
[ <b>never</b> | <b>auto</b> | <b>required</b>
]</big></big></p>

<p style="margin-left:17%;"><big><big>Default: <b>auto</b>.
Whether a holding disk should be used for these backups or
whether they should go directly to tape. If the holding disk
is a portion of another file system that Amanda is backing
up, that file system should refer to a dumptype with
<b>holdingdisk</b> set to <i>never</i> to avoid backing up
the holding disk into itself.</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><b>never</b>|no|false|off</big></big></p>

<p style="margin-left:23%;"><big><big>Never use a
holdingdisk, the dump will always go directly to tape. There
will be no dump if you have a tape error.</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><b>auto</b>|yes|true|on</big></big></p>

<p style="margin-left:23%;"><big><big>Use the holding disk,
unless there is a problem with the holding disk, the dump
won't fit there or the medium doesn't require spooling
(e.g., VFS device)</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><b>required</b></big></big></p>

<p style="margin-left:23%;"><big><big>Always dump to
holdingdisk, never directly to tape. There will be no dump
if it doesn't fit on holdingdisk</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>ignore</b>
<i>boolean</i></big></big></p>

<p style="margin-left:17%;"><big><big>Default: <b>no</b>.
Whether disks associated with this backup type should be
backed up or not. This option is useful when the
<i>disklist</i> file is shared among several configurations,
some of which should not back up all the listed file
systems.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>include</b>
[ <b>list</b> | <b>file</b>
][[<b>optional</b>][<b>append</b>][ <i>string</i>
]+]</big></big></p>

<p style="margin-left:17%;"><big><big>Default: <b>file</b>
&quot;.&quot;. There are two include lists, <b>include
file</b> and <b>include list.</b> With <b>include file</b> ,
the <i>string</i> is a glob expression. With <b>include
list</b> , the <i>string</i> is a file name on the client
containing glob expressions.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>All
include expressions are expanded by Amanda, concatenated in
one file and passed to <b>GNU&minus;tar</b> as a
<b>&minus;&minus;files&minus;from</b> argument. They must
start with &quot;./&quot; and contain no other
&quot;/&quot;.</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>Include
expressions must always be specified as relative to the head
directory of the DLE.</big></big></p>


<p style="margin-left:23%; margin-top: 1em"><big><big><b><big>Note</big></b>
<br>
For globbing to work at all, even the limited single level,
the top level directory of the DLE must be readable by the
Amanda user.</big></big></p>

<p style="margin-left:17%;"><big><big>With the
<b>append</b> keyword, the <i>string</i> is appended to the
current list, without it, the <i>string</i> overwrites the
list.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>If
<b>optional</b> is specified for <b>include list</b>, then
amcheck will not complain if the file doesn't exist or is
not readable.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>For
<b>include list</b>, If the file name is relative, the disk
name being backed up is prepended.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b><big>index</big></b>
<big><i>boolean</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default:
<b>no</b>. Whether an index (catalogue) of the backup should
be generated and saved in <b>indexdir</b>. These catalogues
are used by the <b>amrecover</b>
utility.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>kencrypt</b>
<i>boolean</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default:
<b>no</b>. Whether the backup image should be encrypted by
Kerberos as it is sent across the network from the backup
client host to the tape server host.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>maxdumps</b>
<i>int</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default:
<i>1</i>. The maximum number of backups from a single host
that Amanda will attempt to run in parallel. See also the
main section parameter
<b>inparallel</b>.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>maxpromoteday</b>
<i>int</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default:
<i>10000</i>. The maximum number of day for a promotion, set
it 0 if you don't want promotion, set it to 1 or 2 if your
disks get overpromoted.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>max&minus;warnings</b>
<i>int</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default:
<i>20</i>. The maximum number of error lines in the report
for a dle. A value of '0' means unlimited. This is useful to
reduce the size of the log file and the size of the report.
All errors are put in separate files if a dle have more
errors.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>priority</b>
[ <b>low</b> | <b>medium</b> | <b>high</b>
]</big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default:
<b>medium</b>. When there is no tape to write to, Amanda
will do incremental backups in priority order to the holding
disk. The priority may be high (2), medium (1), low (0) or a
number of your choice.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>program</b>
[ <b>&quot;DUMP&quot;</b> | <b>&quot;GNUTAR&quot;</b> |
<b>&quot;APPLICATION&quot;</b> ]</big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default:
<i>&quot;DUMP&quot;</i>. The type of backup to perform.
Valid values are:</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>&quot;DUMP&quot;</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>The native
operating system backup program.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>&quot;GNUTAR&quot;</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>To use
GNU&minus;tar or to do PC backups using
Samba.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>&quot;APPLICATION&quot;</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>To use an
application, see the <i>application</i>
option.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>application</b>
<i>string</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>No default. Must
be the name of an application if <i>program</i> is set to
<i>APPLICATION</i>. See APPLICATION SECTION
below.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>script</b>
<i>string</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>No default. Must
be the name of a script. You can have many script. See
SCRIPT SECTION below.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>property</b>
[<b>append</b>] <i>string string</i>+</big></big></big></p>

<p style="margin-left:17%;"><big><big><big>These options
can set various properties, they can be used by third party
software to store information in the configuration file.
Both strings are quoted; the first string contains the name
of the property to set, and the others contains its values.
<b>append</b> keyword append the values to the list of
values for that property.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>record</b>
<i>boolean</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default:
<b>yes</b>. Whether to ask the backup program to update its
database (e.g. /etc/dumpdates for DUMP or
/usr/local/var/amanda/gnutar&minus;lists for GNUTAR) of time
stamps. This is normally enabled for daily backups and
turned off for periodic archival runs.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>skip&minus;full</b>
<i>boolean</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default:
<b>no</b>. If <b>true</b> and <b>planner</b> has scheduled a
full backup, these disks will be skipped, and full backups
should be run off&minus;line on these days. It was reported
that Amanda only schedules level 1 incrementals in this
configuration; this is probably a bug.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>skip&minus;incr</b>
<i>boolean</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default:
<b>no</b>. If <b>true</b> and <b>planner</b> has scheduled
an incremental backup, these disks will be
skipped.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>ssh&minus;keys</b>
<i>string</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default: not
set. The key file the ssh auth will use, it must be the
private key. If this parameter is not specified, then the
default ssh key will be used.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>starttime</b>
<i>int</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default: not
set. Backup of these disks will not start until after this
time of day. The value should be hh*100+mm, e.g. 6:30PM
(18:30) would be entered as 1830.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>strategy</b>
[ <b>standard</b> | <b>nofull</b> | <b>noinc</b> |
<b>skip</b> | <b>incronly</b> ]</big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default:
<b>standard</b>. Strategy to use when planning what level of
backup to run next. Values are:</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>standard</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>The standard
Amanda schedule.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>nofull</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Never do full
backups, only level 1 incrementals.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>noinc</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Never do
incremental backups, only full dumps.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>skip</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Treat this DLE
as if it doesn't exist (useful to disable DLEs when sharing
the <i>disklist</i> file between multiple configurations).
Skipped DLEs will not be checked or dumped, and will not be
matched by disklist expressions.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>incronly</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Only do
incremental dumps. <b>amadmin force</b> should be used to
tell Amanda that a full dump has been performed
off&minus;line, so that it resets to level
1.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>allow&minus;split</b>
<i>bool</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default: true.
If true, then dumps with this dumptype can be split on the
storage media. If false, then the dump will be written in a
single file on the media. See &quot;Dump Splitting
Configuration&quot; below.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>tape&minus;splitsize</b>
<i>int</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Deprecated. See
&quot;Dump Splitting Configuration&quot;
below.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big>Default:
not set. Split dump file on tape into pieces of a specified
size. The default unit is Kbytes if it is not
specified.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>split&minus;diskbuffer</b>
<i>string</i></big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big>Deprecated.
See &quot;Dump Splitting Configuration&quot; below. Default:
not set. When dumping a split dump in PORT&minus;WRITE mode
(usually meaning &quot;no holding disk&quot;), buffer the
split chunks to a file in the directory specified by this
option.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>fallback&minus;splitsize</b>
<i>int</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Deprecated. See
&quot;Dump Splitting Configuration&quot;
below.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big>Default:
<i>10M</i>. This specifies the part size used when no
<b>split&minus;diskbuffer</b> is specified, or when it is
too small or does not exist, and thus the maximum amount of
memory consumed for in&minus;memory splitting. The default
unit is Kbytes if it is not specified.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>recovery&minus;limit</b>
[ <b>server</b> | <b>same&minus;host</b> | <i>string</i>
]*</big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default: global
value. This parameter overrides the global
<b>recovery&minus;limit</b> parameter for DLEs of this
dumptype.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>dump&minus;limit</b>
[ <b>server</b> | <b>same&minus;host</b>
]*</big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default:
<b>server</b>. Specify which host can initiate a backup of
the dle. With <b>server</b>, the server can initiate a
backup with the <b>amdump</b> command. With
<b>same&minus;host</b>, the client can initiate a backup
with the <b>amdump_client</b> command.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>The
following <b>dumptype</b> entries are predefined by Amanda:
<br>
define dumptype &quot;no&minus;compress&quot; { <br>
compress none <br>
} <br>
define dumptype &quot;compress&minus;fast&quot; { <br>
compress client fast <br>
} <br>
define dumptype &quot;compress&minus;best&quot; { <br>
compress client best <br>
} <br>
define dumptype &quot;srvcompress&quot; { <br>
compress server fast <br>
} <br>
define dumptype &quot;bsd&minus;auth&quot; { <br>
auth &quot;bsd&quot; <br>
} <br>
define dumptype &quot;bsdtcp&minus;auth&quot; { <br>
auth &quot;bsdtcp&quot; <br>
} <br>
define dumptype &quot;no&minus;record&quot; { <br>
record no <br>
} <br>
define dumptype &quot;no&minus;hold&quot; { <br>
holdingdisk no <br>
} <br>
define dumptype &quot;no&minus;full&quot; { <br>
skip&minus;full yes <br>
}</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>In
addition to options in a <b>dumptype</b> section, one or
more other <b>dumptype</b> names may be supplied as
identifiers, which make this <b>dumptype</b> inherit options
from other previously defined <b>dumptype</b>s. For
instance, two sections might be the same except for the
<b>record</b> option: <br>
define dumptype &quot;normal&quot; { <br>
comment &quot;Normal backup, no compression, do
indexing&quot; <br>
no&minus;compress <br>
index yes <br>
maxdumps 2 <br>
} <br>
define dumptype &quot;testing&quot; { <br>
comment &quot;Test backup, no compression, do indexing, no
recording&quot; <br>
&quot;normal&quot; <br>
record no <br>
}</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>Amanda
provides a <b>dumptype</b> named <i>global</i> in the sample
<b>amanda.conf</b> file that all <b>dumptype</b>s should
reference. This provides an easy place to make changes that
will affect every <b>dumptype</b>, although you must be
careful that every dumptype explicitly inherits from the
<i>global</i> dumptype &minus; Amanda does not do so
automatically.</big></big></big></p>

<h2>TAPETYPE SECTION
<a name="TAPETYPE SECTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><big><big><big>The
<b>amanda.conf</b> file may define multiple types of tape
media and devices. The information is entered in a
<b>tapetype</b> section, which looks like this in the config
file: <br>
define tapetype &quot;<i>name</i>&quot; { <i><br>
tapetype&minus;option tapetype&minus;value</i> <br>
... <br>
}</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>The
{ must appear at the end of a line, and the } on its own
line.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><i>Name</i>
is the name of this type of tape medium/device. It is
referenced from the <b>tapetype</b> option in the main part
of the config file.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>The
tapetype options and values are:</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>comment</b>
<i>string</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default: not
set. A comment string describing this set of tape
information.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>filemark</b>
<i>int</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default: <i>1
kbytes</i>. How large a file mark (tape mark) is, measured
in kbytes. If the size is only known in some linear
measurement (e.g. inches), convert it to kbytes using the
device density.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>length</b>
<i>int</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default: <i>2000
kbytes</i>. How much data will fit on a tape, expressed in
kbytes.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big>Note
that this value is only used by Amanda to schedule which
backups will be run. Once the backups start, Amanda will
continue to write to a tape until it gets an error,
regardless of what value is entered for <b>length</b> (but
see <b>amanda-devices</b>(7) for
exceptions).</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>blocksize</b>
<i>int</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default: <i>32
kbytes</i>. How much data will be written in each tape
record, expressed in kbytes. This is similar to the
<i>BLOCK_SIZE</i> device property, but if the blocksize is
not a multiple of 1024 bytes, then this parameter cannot be
used to specify it, and the property must be used
instead.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>readblocksize</b>
<i>int</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default: <i>32
kytes</i> How much data will be read in each tape record.
This can be used to override a device's block size for reads
only. This may be useful, for example, in reading a tape
written with a 256k block size when Amanda is configured to
use 128k blocks. This unusual feature is not supported by
all operating systems and tape
devices.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big>The
default unit is Kbytes if it is not
specified.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>part&minus;size</b>
<i>int</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>If this is set
to zero (default), then no splitting will take place, and
the entire dump will fail, if end&minus;of&minus;medium is
encountered before the dump is complete, unless the device
property LEOM is true, and the device can detect EOM. See
&quot;Dump Splitting Configuration&quot;
below.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>part&minus;cache&minus;type</b>
[ <b>none</b> | <b>disk</b> | <b>memory</b>
]</big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default: none.
When part caching is required, this parameter specifies the
type of caching that will be used. The options include no
caching (<b>none</b>), in which case a failed part will
cause the entire dump to fail; on&minus;disk caching
(<b>disk</b>), for which <b>part&minus;cache&minus;dir</b>
must be set properly; and in&minus;memory caching
(<b>memory</b>), which on most systems severely restrains
the size of the part that can be written. See &quot;Dump
Splitting Configuration&quot; below.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>part&minus;cache&minus;dir</b>
<i>string</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default: none.
The directory in which part&minus;cache files can be written
when caching on disk. See &quot;Dump Splitting
Configuration&quot; below.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>part&minus;cache&minus;max&minus;size</b>
<i>int</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default: none.
The maximum part size to use when caching is in effect. This
is used to limit the part size when disk or memory space for
caching is constrained. This value must be greater than
zero.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>speed</b>
<i>int</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default: <i>200
bps</i>. How fast the drive will accept data, in bytes per
second. This parameter is NOT currently used by
Amanda.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>lbl&minus;templ</b>
<i>string</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default: not
set. A PostScript template file used by <b>amreport</b> to
generate labels. Several sample files are provided with the
Amanda sources in the <i>example</i> directory. See the
<b>amreport</b>(8) man page for more
information.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>In
addition to options, another <b>tapetype</b> name may be
supplied as an identifier, which makes this <b>tapetype</b>
inherit options from another <b>tapetype</b>. For instance,
the only difference between a DLT4000 tape drive using
Compact&minus;III tapes and one using Compact&minus;IV tapes
is the length of the tape. So they could be entered as: <br>
define tapetype &quot;DLT4000&minus;III&quot; { <br>
comment &quot;DLT4000 tape drives with Compact&minus;III
tapes&quot; <br>
length 12500 mbytes # 10 Gig tapes with some compression
<br>
filemark 2000 kbytes <br>
speed 1536 kps <br>
} <br>
define tapetype &quot;DLT4000&minus;IV&quot; { <br>
&quot;DLT4000&minus;III&quot; <br>
comment &quot;DLT4000 tape drives with Compact&minus;IV
tapes&quot; <br>
length 25000 mbytes # 20 Gig tapes with some compression
<br>
}</big></big></big></p>

<h2>INTERFACE SECTION
<a name="INTERFACE SECTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><big><big><big>The
<b>amanda.conf</b> file may define multiple types of network
interfaces. The information is entered in an
<b>interface</b> section, which looks like this: <br>
define interface &quot;<i>name</i>&quot; { <i><br>
interface&minus;option interface&minus;value</i> <br>
... <br>
}</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>The
{ must appear at the end of a line, and the } on its own
line.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><i>name</i>
is the name of this type of network interface. It is
referenced from the <i>disklist</i>
file.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>Note
that these sections define network interface
characteristics, not the actual interface that will be used.
Nor do they impose limits on the bandwidth that will
actually be taken up by Amanda. Amanda computes the
estimated bandwidth each file system backup will take based
on the estimated size and time, then compares that plus any
other running backups with the limit as another of the
criteria when deciding whether to start the backup. Once a
backup starts, Amanda will use as much of the network as it
can leaving throttling up to the operating system and
network hardware.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>The
interface options and values are:</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>comment</b>
<i>string</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default: not
set. A comment string describing this set of network
information.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>use</b>
<i>int</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default:
<i>80000 Kbps</i>. The speed of the interface in Kbytes per
second.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>In
addition to options, another <b>interface</b> name may be
supplied as an identifier, which makes this <b>interface</b>
inherit options from another <b>interface</b>. At the
moment, this is of little use.</big></big></big></p>

<h2>APPLICATION SECTION
<a name="APPLICATION SECTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><big><big><big>The
<b>amanda.conf</b> file may define multiple types of
application. The information is entered in a
<b>application</b> section, which looks like this: <br>
define application &quot;<i>name</i>&quot; { <i><br>
application&minus;option application&minus;value</i> <br>
... <br>
}</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>The
{ must appear at the end of a line, and the } on its own
line.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><i>name</i>
is the name of this type of application. It is referenced
from the <i>dumptype</i></big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>The
application options and values are:</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>client&minus;name</b>
<i>string</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>No default,
specifies an application name that is in the
amanda&minus;client.conf on the client. The setting from
that application will be merged with the current
application. If <b>client&minus;name</b> is set then it is
an error if that application is not defined on the
client.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big>If
<b>client&minus;name</b> is not set then the merge is done
with the application that have the name equal to the plugin.
eg. if the plugin is 'amgtar', then the setting from the
application 'amgtar' is used if it is
defined.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>comment</b>
<i>string</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default: not
set. A comment string describing this
application.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>plugin</b>
<i>string</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>No default. Must
be set to the name of the program. This program must be in
the <i>$libexecdir/amanda/application</i> directory on the
client.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>property</b>
[<b>append</b>] [<b>priority</b>] <i>string
string</i>+</big></big></big></p>

<p style="margin-left:17%;"><big><big><big>No default. You
can set property for the application, each application have
a different set of property. Both strings are quoted; the
first string contains the name of the property to set, and
the others contains its values. <b>append</b> keyword append
the values to the list of values for that property.
<b>priority</b> keyword disallow the setting of that
property on the client.</big></big></big></p>

<h2>SCRIPT SECTION
<a name="SCRIPT SECTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><big><big><big>The
<b>amanda.conf</b> file may define multiple types of script.
The information is entered in a <b>script</b> section, which
looks like this: <br>
define script &quot;<i>name</i>&quot; { <i><br>
script&minus;option script&minus;value</i> <br>
... <br>
}</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>The
{ must appear at the end of a line, and the } on its own
line.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><i>name</i>
is the name of this type of script. It is referenced from
the <i>dumptype</i></big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>The
script options and values are:</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>client&minus;name</b>
<i>string</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>No default,
specifies a script name that is in the
amanda&minus;client.conf on the client. The setting from
that script will be merged with the currect script. If
<b>client&minus;name</b> is set then it is an error if that
script is not defined on the client.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big>If
<b>client&minus;name</b> is not set then the merge is done
with the script that have the name equal to the plugin. eg.
if the plugin is 'amlog&minus;script', then the setting from
the script 'amlog&minus;script' is
used.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>comment</b>
<i>string</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default: not
set. A comment string describing this
script.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>plugin</b>
<i>string</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>No default. Must
be set to the name of the program. This program must be in
the <i>$libexecdir/amanda/application</i> directory on the
client and/or server.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>order</b>
<i>int</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default:
<i>5000</i>. Scripts are executed in that order, it is
useful if you have many scripts and they must be executed in
a spefific order.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>single&minus;execution</b>
<i>boolean</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default:
<i>no</i>. The script is executed for each dle. If
<i>yes</i>, the script is executed one time
only.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>execute&minus;where</b>
[ <b>client</b> | <b>server</b> ]</big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default:
<b>client</b>. Where the script must be executed, on the
client or server.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>execute&minus;on</b>
<i>execute_on</i>
[,<i>execute_on</i>]*</big></big></big></p>

<p style="margin-left:17%;"><big><big><big>No default. When
the script must be executed, you can specify many of
them:</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>pre&minus;amcheck</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Execute before
the amcheck command for all dle. Can only be run on
server.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>pre&minus;dle&minus;amcheck</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Execute before
the amcheck command for the dle.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>pre&minus;host&minus;amcheck</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Execute before
the amcheck command for all dle for the
client.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>post&minus;amcheck</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Execute after
the amcheck command for all dle. Can only be run on
server.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>post&minus;dle&minus;amcheck</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Execute after
the amcheck command for the dle.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>post&minus;host&minus;amcheck</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Execute after
the amcheck command for all dle for the
client.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>pre&minus;estimate</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Execute before
the estimate command for all dle. Can only be run on
server.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>pre&minus;dle&minus;estimate</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Execute before
the estimate command for the dle.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>pre&minus;host&minus;estimate</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Execute before
the estimate command for all dle for the
client.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>post&minus;estimate</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Execute after
the estimate command for all dle. Can only be run on
server.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>post&minus;dle&minus;estimate</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Execute after
the estimate command for the dle.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>post&minus;host&minus;estimate</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Execute after
the estimate command for all dle for the
client.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>pre&minus;backup</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Execute before
the backup command for all dle. Can only be run on
server.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>pre&minus;dle&minus;backup</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Execute before
the backup command for the dle.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>pre&minus;host&minus;backup</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Execute before
the backup command for all dle for the client. It can't be
run on client, it must be run on
server</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>post&minus;backup</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Execute after
the backup command for all dle. Can only be run on
server.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>post&minus;dle&minus;backup</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Execute after
the backup command for the dle.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>post&minus;host&minus;backup</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Execute after
the backup command for all dle for the client. It can't be
run on client, it must be run on
server</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>pre&minus;recover</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Execute before
any level is recovered.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>post&minus;recover</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Execute after
all levels are recovered.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>pre&minus;level&minus;recover</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Execute before
each level recovery.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>post&minus;level&minus;recover</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Execute after
each level recovery.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big><b>inter&minus;level&minus;recover</b></big></big></big></p>

<p style="margin-left:23%;"><big><big><big>Execute between
two levels of recovery.</big></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><big>If
you recover level 0 and 2 of the disk /usr with amrecover,
it will execute: <br>
script &minus;&minus;pre&minus;recover <br>
script &minus;&minus;pre&minus;level&minus;recover
&minus;&minus;level 0 <br>
#recovering level 0 <br>
script &minus;&minus;post&minus;level&minus;recover
&minus;&minus;level 0 <br>
script &minus;&minus;inter&minus;level&minus;recover
&minus;&minus;level 0 &minus;&minus;level 2 <br>
script &minus;&minus;pre&minus;level&minus;recover
&minus;&minus;level 2 <br>
#recovering level 2 <br>
script &minus;&minus;post&minus;level&minus;recover
&minus;&minus;level 2 <br>
script
&minus;&minus;post&minus;recover</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>property</b>
[<b>append</b>] [<b>priority</b>] <i>string
string</i>+</big></big></big></p>

<p style="margin-left:17%;"><big><big><big>No default. You
can set property for the script, each script have a
different set of property. Both strings are quoted; the
first string contains the name of the property to set, and
the others contains its values. <b>append</b> keyword append
the values to the list of values for that property.
<b>priority</b> keyword disallow the setting of that
property on the client.</big></big></big></p>

<h2>DEVICE SECTION
<a name="DEVICE SECTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><big><big><big>Backend
storage devices are specified in <b>amanda.conf</b> in the
form of &quot;device&quot; sections, which look like this:
<br>
define device <i>name</i> { <br>
commend &quot;<i>comment (optional)</i>&quot; <br>
tapedev &quot;<i>device&minus;specifier</i>&quot; <br>
device&minus;property &quot;<i>prop&minus;name</i>&quot;
&quot;<i>prop&minus;value</i>&quot; <br>
... <br>
}</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>The
{ must appear at the end of a line, and the } on its own
line.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><i>name</i>
is the user&minus;specified name of this device. It is
referenced from the global <i>tapedev</i> parameter. The
<i>device&minus;specifier</i> specifies the device name to
use; see <b>amanda-devices</b>(7). As with most sections,
the <i>comment</i> parmeter is optional and only for the
user's convenience.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>An
arbitrary number of <i>device&minus;property</i> parameters
can be specified. Again, see <b>amanda-devices</b>(7) for
information on device properties.</big></big></big></p>

<h2>CHANGER SECTION
<a name="CHANGER SECTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><big><big><big>Changers
are described in <b>amanda.conf</b> in the form of
&quot;changer&quot; sections, which look like this: <br>
define changer <i>name</i> { <br>
comment &quot;<i>comment (optional)</i>&quot; <br>
tpchanger &quot;<i>changer&minus;spec</i>&quot; <br>
changerdev &quot;<i>device&minus;name</i>&quot; <br>
changerfile &quot;<i>state&minus;file</i>&quot; <br>
... <br>
}</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>The
{ must appear at the end of a line, and the } on its own
line.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><i>name</i>
is the user&minus;specified name of this device. The
remaining parameters are specific to the changer type
selected.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>See
<b>amanda-changers</b>(7) for more information on
configuring changers.</big></big></big></p>

<h2>INTERACTIVITY SECTION
<a name="INTERACTIVITY SECTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><big><big><big>The
<b>amanda.conf</b> file may define multiple interactivyt
methods, although only one will be used &minus; that
specified by the <b>interactivity</b> parameter. The
information is entered in a <b>interactivity</b> section,
which looks like this: <br>
define interactivity <i>name</i> { <i><br>
interactivity&minus;option interactivity&minus;value</i>
<br>
... <br>
}</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>The
{ must appear at the end of a line, and the } on its own
line.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><i>name</i>
is the user&minus;specified name of this interactivity. The
remaining parameters are specific to the interactivity type
selected.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>The
interactivity options and values are:</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>comment</b>
<i>string</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default: not
set. A comment string describing this
interactivity.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>plugin</b>
<i>string</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>No default. Must
be set to the name of the interactivity module, as described
in <b>amanda-interactivity</b>(7).</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>property</b>
[<b>append</b>] <i>string string</i>+</big></big></big></p>

<p style="margin-left:17%;"><big><big><big>No default. You
can set arbitrary properties for the interactivity. Each
interactivity module has a different set of properties. The
first string contains the name of the property to set, and
the others contains its values. All strings should be
quoted. The <b>append</b> keyword appends the given values
to an existing list of values for that
property.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>See
<b>amanda-interactivity</b>(7) for more information on
configuring interactivity methods.</big></big></big></p>

<h2>TAPERSCAN SECTION
<a name="TAPERSCAN SECTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><big><big><big>The
<b>amanda.conf</b> file may define multiple taperscan
methods, although only one will be used &minus; that
specified by the <b>taperscan</b> parameter. The information
is entered in a <b>taperscan</b> section, which looks like
this: <br>
define taperscan <i>name</i> { <i><br>
taperscan&minus;option taperscan&minus;value</i> <br>
... <br>
}</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>The
{ must appear at the end of a line, and the } on its own
line.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><i>name</i>
is the user&minus;specified name of this taperscan. The
remaining parameters are specific to the taperscan type
selected.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>The
taperscan options and values are:</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>comment</b>
<i>string</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>Default: not
set. A comment string describing this
taperscan.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>plugin</b>
<i>string</i></big></big></big></p>

<p style="margin-left:17%;"><big><big><big>No default. Must
be set to the name of the taperscan module. See
<b>amanda-taperscan</b>(7) for a list of defined taperscan
modules.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>property</b>
[<b>append</b>] <i>string string</i>+</big></big></big></p>

<p style="margin-left:17%;"><big><big><big>No default.
Operates just like properties for interactivity methods,
above.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>See
<b>amanda-taperscan</b>(7) for more information on
configuring taperscan.</big></big></big></p>

<h2>DUMP SPLITTING CONFIGURATION
<a name="DUMP SPLITTING CONFIGURATION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><big><big><big>Amanda
can &quot;split&quot; dumps into parts while writing them to
storage media. This allows Amanda to recover gracefully from
a failure while writing a part to a volume, by simply
selecting a new volume and re&minus;writing the dump from
the beginning of the failed part. Parts also allow Amanda to
seek directly to the required data, although this
functionality is not yet used.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>In
order to support re&minus;writing from the beginning of a
failed part, Amanda must have access to the contents of the
part after it has been partially written. If the dump is
being read from holding disk, then the part contents are
availble there. Otherwise, the part must be cached, and this
can be done memory or on disk. In either of the latter
cases, the cache must have enough space to hold an entire
part.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>Because
it is common for a single Amanda configuration to use both
holding&minus;disk (FILE&minus;WRITE) and direct (known as
PORT&minus;WRITE) dumps, Amanda allows the configuration of
different split sizes for the two cases. This allows, for
example, for a part size appropriate to large tapes when
performing FILE&minus;WRITE dumps, with a part size limited
by available disk or memory when performing PORT&minus;WRITE
dumps.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>Selecting
a proper split size is a delicate matter. If the parts are
too large, substantial storage space may be wasted in failed
parts. If too small, large dumps will be split into
innumerable tiny dumpfiles, adding to restoration
complexity; furthermore, an excess of filemarks will cause
slower tape drive operation and reduce the usable space on
tape. A good rule of thumb is 1/10 of the size of a volume
of storage media.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>In
versions of Amanda through 3.1.*, splitting was controlled
by the dumptype parameters <b>tape&minus;splitsize</b>,
<b>split&minus;diskbuffer</b>, and
<b>fallback&minus;splitsize</b>. These keywords had
confusing and non&minus;intuitive interactions, and have
since been deprecated.</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>If
the deprecated keywords are not present, subsequent versions
of Amanda use the dumptype parameter
<b>allow&minus;split</b> to control whether a DLE can be
split, and the <i>tapetype</i> parameters
<b>part&minus;size</b>, <b>part&minus;cache&minus;type</b>,
<b>part&minus;cache&minus;dir</b>, and
<b>part&minus;cache&minus;max&minus;size</b>. The
<b>part&minus;size</b> specifies the &quot;normal&quot; part
size, while the <b>part&minus;cache&minus;*</b> parameters
describe how to behave when caching is required (on
PORT&minus;WRITE). Full details on these parameters are
given above.</big></big></big></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>amanda</b>(8),
<b>amanda-client.conf</b>(5), <b>amanda-applications</b>(7),
<b>amanda-auth</b>(7), <b>amanda-changers</b>(7),
<b>amanda-devices</b>(7), <b>amanda-interactivity</b>(7),
<b>amanda-scripts</b>(7),
<b>amanda-taperscan</b>(7)</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big>The
Amanda Wiki: : http://wiki.zmanda.com/</big></big></big></p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>James
da Silva</b> &lt;jds@amanda.org&gt;</big></big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><big><b>Stefan
G. Weichinger</b>
&lt;sgw@amanda.org&gt;</big></big></big></p>
<hr>
</body>
</html>
