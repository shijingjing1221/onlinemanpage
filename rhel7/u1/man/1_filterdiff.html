<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 00:43:31 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>FILTERDIFF</title>

</head>
<body>

<h1 align="center">FILTERDIFF</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">filterdiff
&minus; extract or exclude diffs from a diff file</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>filterdiff</b>
[[&minus;i&nbsp;<i>PATTERN</i>] |
[&minus;&minus;include=<i>PATTERN</i>]]
[[&minus;I&nbsp;<i>FILE</i>] |
[&minus;&minus;include&minus;from&minus;file=<i>FILE</i>]]
[[&minus;p&nbsp;<i>n</i>] |
[&minus;&minus;strip&minus;match=<i>n</i>]]
[&minus;&minus;strip=<i>n</i>]
[&minus;&minus;addprefix=<i>PREFIX</i>]
[&minus;&minus;addoldprefix=<i>PREFIX</i>]
[&minus;&minus;addnewprefix=<i>PREFIX</i>]
[[&minus;x&nbsp;<i>PATTERN</i>] |
[&minus;&minus;exclude=<i>PATTERN</i>]]
[[&minus;X&nbsp;<i>FILE</i>] |
[&minus;&minus;exclude&minus;from&minus;file=<i>FILE</i>]]
[[&minus;v] | [&minus;&minus;verbose]] [&minus;&minus;clean]
[[&minus;z] | [&minus;&minus;decompress]]
[[&minus;#&nbsp;<i>RANGE</i>] |
[&minus;&minus;hunks=<i>RANGE</i>]]
[&minus;&minus;lines=<i>RANGE</i>]
[&minus;&minus;files=<i>RANGE</i>] [&minus;&minus;annotate]
[&minus;&minus;format=<i>FORMAT</i>]
[&minus;&minus;as&minus;numbered&minus;lines=<i>WHEN</i>]
[&minus;&minus;remove&minus;timestamps] [<i>file</i>...]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>filterdiff</b>
{[&minus;&minus;help] | [&minus;&minus;version] |
[&minus;&minus;list] | [&minus;&minus;grep&nbsp;...]}</p></td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">You can use
filterdiff to obtain a patch that applies to files matching
the shell wildcard <i>PATTERN</i> from a larger collection
of patches. For example, to see the patches in
patch&minus;2.4.3.gz that apply to all files called
lp.c:</p>

<p style="margin-left:17%; margin-top: 1em">filterdiff
&minus;z &minus;i '*/lp.c' patch&minus;2.4.3.gz</p>

<p style="margin-left:11%; margin-top: 1em">If neither
<b>&minus;i</b> nor <b>&minus;x</b> options are given,
<b>&minus;i '*'</b> is assumed. This way <b>filterdiff</b>
can be used to clean up an existing diff file, removing
redundant lines from the beginning (eg. the text from the
mail body) or between the chunks (eg. in CVS diffs). To
extract pure patch data, use a command like this:</p>

<p style="margin-left:17%; margin-top: 1em">filterdiff
message&minus;with&minus;diff&minus;in&minus;the&minus;body
&gt; patch</p>

<p style="margin-left:11%; margin-top: 1em">Note that the
interpretation of the shell wildcard pattern does not count
slash characters or periods as special (in other words, no
flags are given to <b>fnmatch</b>). This is so that
&ldquo;*/basename&rdquo;&minus;type patterns can be given
without limiting the number of pathname components.</p>

<p style="margin-left:11%; margin-top: 1em">You can use
both unified and context format diffs with this program.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;i</b>
<i>PATTERN</i>,
<b>&minus;&minus;include=</b><i>PATTERN</i></p>

<p style="margin-left:17%;">Include only files matching
<i>PATTERN</i>. All other lines in the input are
suppressed.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;I</b>
<i>FILE</i>,
<b>&minus;&minus;include&minus;from&minus;file=</b><i>FILE</i></p>

<p style="margin-left:17%;">Include only files matching any
pattern listed in <i>FILE</i>, one pattern per line. All
other lines in the input are suppressed.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;x</b>
<i>PATTERN</i>,
<b>&minus;&minus;exclude=</b><i>PATTERN</i></p>

<p style="margin-left:17%;">Exclude files matching
<i>PATTERN</i>. All other lines in the input are
displayed.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;X</b>
<i>FILE</i>,
<b>&minus;&minus;exclude&minus;from&minus;file=</b><i>FILE</i></p>

<p style="margin-left:17%;">Exclude files matching any
pattern listed in <i>FILE</i>, one pattern per line. All
other lines in the input are displayed.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;p</b>
<i>n</i>,
<b>&minus;&minus;strip&minus;match=</b><i>n</i></p>

<p style="margin-left:17%;">When matching, ignore the first
<i>n</i> components of the pathname.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;#</b>
<i>RANGE</i>, <b>&minus;&minus;hunks</b>=<i>RANGE</i></p>

<p style="margin-left:17%;">Only include hunks within the
specified <i>RANGE</i>. Hunks are numbered from 1, and the
range is a comma&minus;separated list of numbers or
&ldquo;first&minus;last&rdquo; spans; either the first or
the last in the span may be omitted to indicate no limit in
that direction.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;lines</b>=<i>RANGE</i></p>

<p style="margin-left:17%;">Only include hunks that contain
lines from the original file that lie within the specified
<i>RANGE</i>. Lines are numbered from 1, and the range is a
comma&minus;separated list of numbers or
&ldquo;first&minus;last&rdquo; spans; either the first or
the last in the span may be omitted to indicate no limit in
that direction.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;files</b>=<i>RANGE</i></p>

<p style="margin-left:17%;">Only include files indicated by
the specified <i>RANGE</i>. Files are numbered from 1 in the
order they appear in the patch input, and the range is a
comma&minus;separated list of numbers or
&ldquo;first&minus;last&rdquo; spans; either the first or
the last in the span may be omitted to indicate no limit in
that direction.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;annotate</b></p>

<p style="margin-left:17%;">Annotate each hunk with the
filename and hunk number.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;format</b>=unified|context</p>

<p style="margin-left:17%;">Use specified output
format.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;strip</b>=<i>n</i></p>

<p style="margin-left:17%;">Remove the first <i>n</i>
components of pathnames in the output.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;addprefix</b>=<i>PREFIX</i></p>

<p style="margin-left:17%;">Prefix pathnames in the output
by <i>PREFIX</i>. This will override any individual settings
specified with the <b>&minus;&minus;addoldprefix</b> or
<b>&minus;&minus;addnewprefix</b> options.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;addoldprefix</b>=<i>PREFIX</i></p>

<p style="margin-left:17%;">Prefix pathnames for old or
original files in the output by <i>PREFIX</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;addnewprefix</b>=<i>PREFIX</i></p>

<p style="margin-left:17%;">Prefix pathnames for updated or
new files in the output by <i>PREFIX</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;as&minus;numbered&minus;lines</b>=before|after</p>

<p style="margin-left:17%;">Instead of a patch fragment,
display the lines of the selected hunks with the line number
of the file before (or after) the patch is applied, followed
by a TAB character and a colon, at the beginning of each
line. Each hunk except the first will have a line consisting
of &ldquo;...&rdquo; before it.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;remove&minus;timestamps</b></p>

<p style="margin-left:17%;">Do not include file timestamps
in the output.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;v</b>,
<b>&minus;&minus;verbose</b></p>

<p style="margin-left:17%;">Always show non&minus;diff
lines in the output. By default, non&minus;diff lines are
only shown when excluding a filename pattern.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;clean</b></p>

<p style="margin-left:17%;">Always remove all
non&minus;diff lines from the output. Even when excluding a
filename pattern.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;z</b>,
<b>&minus;&minus;decompress</b></p>

<p style="margin-left:17%;">Decompress files with
extensions .gz and .bz2.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;help</b></p>

<p style="margin-left:17%;">Display a short usage
message.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;version</b></p>

<p style="margin-left:17%;">Display the version number of
filterdiff.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;list</b></p>

<p style="margin-left:17%;">Behave like <b>lsdiff</b>(1)
instead.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;grep</b></p>

<p style="margin-left:17%;">Behave like <b>grepdiff</b>(1)
instead.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">To see all
patch hunks that affect the first five lines of a C
file:</p>

<p style="margin-left:17%; margin-top: 1em">filterdiff
&minus;i '*.c' &minus;&minus;lines=&minus;5 &lt; patch</p>

<p style="margin-left:11%; margin-top: 1em">To see the
first hunk of each file patch, use:</p>

<p style="margin-left:17%; margin-top: 1em">filterdiff
&minus;#1 patchfile</p>

<p style="margin-left:11%; margin-top: 1em">To see patches
modifying a ChangeLog file in a subdirectory, use:</p>

<p style="margin-left:17%; margin-top: 1em">filterdiff
&minus;p1 Changelog</p>

<p style="margin-left:11%; margin-top: 1em">To see the
complete patches for each patch that modifies line 1 of the
original file, use:</p>

<p style="margin-left:17%; margin-top: 1em">filterdiff
&minus;&minus;lines=1 patchfile | lsdiff | \ <br>
xargs &minus;rn1 filterdiff patchfile &minus;i</p>

<p style="margin-left:11%; margin-top: 1em">To see all but
the first hunk of a particular patch, you might use:</p>

<p style="margin-left:17%; margin-top: 1em">filterdiff
&minus;p1 &minus;i file.c &minus;#2&minus;
foo&minus;patch</p>

<p style="margin-left:11%; margin-top: 1em">If you have a
very specific list of hunks in a patch that you want to see,
list them:</p>

<p style="margin-left:17%; margin-top: 1em">filterdiff
&minus;#1,2,5&minus;8,10,12,27&minus;</p>

<p style="margin-left:11%; margin-top: 1em">To see the
lines of the files that would be patched as they will appear
after the patch is applied, use:</p>

<p style="margin-left:17%; margin-top: 1em">filterdiff
&minus;&minus;as&minus;numbered&minus;lines=after
patch.file</p>

<p style="margin-left:11%; margin-top: 1em">You can see the
same context before the patch is applied with:</p>

<p style="margin-left:17%; margin-top: 1em">filterdiff
&minus;&minus;as&minus;numbered&minus;lines=before <br>
patch.file</p>

<p style="margin-left:11%; margin-top: 1em">Filterdiff can
also be used to convert between unified and context format
diffs:</p>

<p style="margin-left:17%; margin-top: 1em">filterdiff
&minus;v &minus;&minus;format=unified context.diff</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>lsdiff</b>(1),
<b>grepdiff</b>(1)</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Tim
Waugh</b> &lt;twaugh@redhat.com&gt;</p>

<p style="margin-left:17%;">Package maintainer</p>
<hr>
</body>
</html>
