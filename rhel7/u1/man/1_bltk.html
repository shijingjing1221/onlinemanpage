<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 00:25:31 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>BLTK</title>

</head>
<body>

<h1 align="center">BLTK</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">bltk &minus;
tool kit is used to measure battery life and performance
under different workloads on Linux.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>bltk</b>
[&minus;hVvaNAcCBXswiIRDPGOYZyQzxul] [&minus;t sec]
[&minus;r results_dir] [&minus;m {0,1}] [&minus;U path]
[&minus;g setup] [&minus;J pid] [&minus;T time] [&minus;F
file] [&minus;W app] [&minus;L title] [&minus;K comment]
[&minus;e app] [&minus;E app] [&minus;p percent] [&minus;d
percent] [&minus;o {0,1,2}] [&minus;q file] [&minus;b
percent] [&minus;f command] [&minus;k num]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>The BLTK</b>
can be used with various workloads to simulate different
types of laptop usage. The following workloads are currently
implemented:</p>

<p style="margin-left:22%;"><b>Idle workload</b></p>

<p style="margin-left:32%;">collect statistics only (mostly
used to measure battery life)</p>

<p style="margin-left:22%;"><b>Developer workload</b></p>

<p style="margin-left:32%;">simulates code development in
Linux environment</p>

<p style="margin-left:22%;"><b>Reader workload</b></p>

<p style="margin-left:32%;">simulates text reading on
laptop (mostly used to measure battery life)</p>

<p style="margin-left:22%;"><b>Playback workload</b></p>

<p style="margin-left:32%;">simulates laptop entertaining
usage (produces constant average load on the system)</p>

<p style="margin-left:22%;"><b>3d game workload</b></p>

<p style="margin-left:32%;">simulates 3D-gaming on laptop
(Unreal Tournament demo is used to create this workload)</p>

<p style="margin-left:22%;"><b>Office Activity
workload</b></p>

<p style="margin-left:32%;">simulates laptop usage for
different office activities (based on OpenOffice.org office
suit)</p>

<p style="margin-left:11%; margin-top: 1em">When started,
test collects platform/OS initial info and if it&rsquo;s OK
prompts user to unplug AC adapter. After cable unplugged,
workload started. During the workload execution test harness
collects various system information (e.g. CPU load, battery
drain, display state, CPU frequency, etc...). After battery
completely discharged user should plug the AC cable back and
boot the system. When it is done the results are
available.</p>

<p style="margin-left:11%; margin-top: 1em">There are
several tools for result evaluation. They allow creating
report file for test run, to gather results into a table for
system comparison, and to draw graphs for different
purposes.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Results</b>
&minus; after the battery dies and the system booted back,
the results are available. They are stored in
&rsquo;bltk/&lt;wokload_name&gt;.results&rsquo; directory
(or in the directory, specified in &minus;r option). If
target directory already exist the tool will add numeric
extension to its name (.001, .002 e.t.c.) The results
consist of the following files (see below for detailed
description):</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>cmd</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>In this file &rsquo;bltk&rsquo; command with arguments
are stored</p></td></tr>
</table>

<p style="margin-left:11%;"><b>infoi&lt;N&gt;.log
(info1.log, info2.log, ...)</b></p>

<p style="margin-left:22%;">Here initial system info is
stored. Another two files (info1.log, info2.log) contains
system info after AC adapter was unplugged, and on 5%
battery capacity remained. They are used to check whether
any changes occurred during test execution.</p>

<p style="margin-left:11%;"><b>stat.log</b></p>

<p style="margin-left:22%;">Statistics generated by bltk
harness are stored here. One statistic line generated per 1
minute (or per number of seconds, specified in -t
option).</p>

<p style="margin-left:11%;"><b>system&lt;N&gt;</b></p>

<p style="margin-left:22%;">When -k 1 is used, the system
information is stored under this directory. The numbers at
the end of directory name have the following meanings:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="9%"></td>
<td width="66%">


<p>initial system info</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p><b>1</b></p></td>
<td width="9%"></td>
<td width="66%">


<p>system info after AC adapter was unplugged</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p><b>2</b></p></td>
<td width="9%"></td>
<td width="66%">


<p>system info on 5% battery capacity remained</p></td>
<td width="2%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>version</b></p>

<p style="margin-left:22%;">this file contains version
information</p>

<p style="margin-left:11%;"><b>workload</b></p>

<p style="margin-left:22%;">the file contains info about
workload</p>

<p style="margin-left:11%;"><b>work_out.log <br>
err.log</b></p>

<p style="margin-left:22%;">There are stored any error
messages</p>

<p style="margin-left:11%;"><b>warning.log</b></p>

<p style="margin-left:22%;">Contains warnings</p>

<p style="margin-left:11%;"><b>work.log</b></p>

<p style="margin-left:22%;">Strings generated by USR1, USR2
signals from workload. String format is the same as in the
&rsquo;stat.log&rsquo; file.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>fail</b></p></td>
<td width="2%"></td>
<td width="23%">


<p>when test fails</p></td>
<td width="55%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>score</b></p></td>
<td width="2%"></td>
<td width="23%">
</td>
<td width="55%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>Report</b></p></td>
<td width="2%"></td>
<td width="23%"></td>
<td width="55%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>Report.table</b></p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;h</b>,
<b>&minus;-help</b></p>

<p style="margin-left:22%;">Help; display a help message
and then exits.</p>

<p style="margin-left:11%;"><b>&minus;V</b>,
<b>&minus;-version</b></p>

<p style="margin-left:22%;">Version; display version number
and then exits.</p>

<p style="margin-left:11%;"><b>&minus;v</b>,
<b>&minus;-verbose</b></p>

<p style="margin-left:22%;">Verbose</p>

<p style="margin-left:11%;"><b>&minus;a</b>,
<b>&minus;-ac-ignore</b></p>

<p style="margin-left:22%;">ignore ac adapter state check
(on/off)</p>

<p style="margin-left:11%;"><b>&minus;N</b>,
<b>&minus;-time-stat-ignore</b></p>

<p style="margin-left:22%;">disable time statistics</p>

<p style="margin-left:11%;"><b>&minus;A</b>,
<b>&minus;-ac-stat-ignore</b></p>

<p style="margin-left:22%;">disable ac adapter
statistics</p>

<p style="margin-left:11%;"><b>&minus;c</b>,
<b>&minus;-cpu-stat-ignore</b></p>

<p style="margin-left:22%;">disable cpu load statistics</p>

<p style="margin-left:11%;"><b>&minus;C</b>,
<b>&minus;-cpu-add-stat-ignore</b></p>

<p style="margin-left:22%;">disable cpu additional
statistics</p>

<p style="margin-left:11%;"><b>&minus;B</b>,
<b>&minus;-bat-stat-ignore</b></p>

<p style="margin-left:22%;">disable battery statistics</p>

<p style="margin-left:11%;"><b>&minus;X</b>,
<b>&minus;-disp-stat-ignore</b></p>

<p style="margin-left:22%;">Disable display state
statistics</p>

<p style="margin-left:11%;"><b>&minus;H</b>,
<b>&minus;-hd-stat-ignore</b></p>

<p style="margin-left:22%;">disable hard drive state
statistics</p>

<p style="margin-left:11%;"><b>&minus;t</b> seconds,
<b>&minus;-report-time</b> seconds</p>

<p style="margin-left:22%;">frequency of report line
generation in seconds</p>

<p style="margin-left:11%;"><b>&minus;r</b> results_dir,
<b>&minus;-results</b> results_dir</p>

<p style="margin-left:22%;">name of results directory</p>

<p style="margin-left:11%;"><b>&minus;s</b>,
<b>&minus;-stat-ignore</b></p>

<p style="margin-left:22%;">disable all statistics</p>

<p style="margin-left:11%;"><b>&minus;w</b>,
<b>&minus;-work-stat-ignore</b></p>

<p style="margin-left:22%;">disable workload statistics</p>

<p style="margin-left:11%;"><b>&minus;m</b> {0,1},
<b>&minus;-stat-memory</b> {0,1}</p>

<p style="margin-left:22%;">dump statistics directly on
disk or keep in memory, if statistics are kept in memory, it
will be dumped on disk at low battery capacity, or at the
test end</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="9%"></td>
<td width="30%">


<p>disk</p></td>
<td width="38%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p><b>1</b></p></td>
<td width="9%"></td>
<td width="30%">


<p>memory (by default)</p></td>
<td width="38%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;i</b>,
<b>&minus;-idle-test</b></p>

<p style="margin-left:22%;">idle test</p>

<p style="margin-left:11%;"><b>&minus;I</b>,
<b>&minus;-idle</b></p>

<p style="margin-left:22%;">idle workload</p>

<p style="margin-left:11%;"><b>&minus;R</b>,
<b>&minus;-reader</b></p>

<p style="margin-left:22%;">reader workload</p>

<p style="margin-left:11%;"><b>&minus;D</b>,
<b>&minus;-developer</b></p>

<p style="margin-left:22%;">developer workload</p>


<p style="margin-left:11%;"><b>&minus;P</b>,<b>&rsquo;</b>&minus;-player&quot;</p>

<p style="margin-left:22%;">playback workload</p>

<p style="margin-left:11%;"><b>&minus;G</b>,
<b>&minus;-game</b></p>

<p style="margin-left:22%;">3D-gaming workload</p>

<p style="margin-left:11%;"><b>&minus;O</b>,
<b>&minus;-office</b></p>

<p style="margin-left:22%;">office productivity
workload</p>

<p style="margin-left:11%;"><b>&minus;U</b> path,
<b>&minus;-user</b> path</p>

<p style="margin-left:22%;">user-specified workload (path
to executable)</p>

<p style="margin-left:11%;"><b>&minus;g</b> routine,
<b>&minus;-user-init</b> routine&quot;</p>

<p style="margin-left:22%;">setup routines for
user-specified workload</p>

<p style="margin-left:11%;"><b>&minus;Y</b>,
<b>&minus;-discharging</b></p>

<p style="margin-left:22%;">battery discharge mode</p>

<p style="margin-left:11%;"><b>&minus;Z</b>,
<b>&minus;-charging</b></p>

<p style="margin-left:22%;">battery charge mode</p>

<p style="margin-left:11%;"><b>&minus;J</b> pid,
<b>&minus;-jobs</b> pid</p>

<p style="margin-left:22%;">make jobs number</p>

<p style="margin-left:11%;"><b>&minus;T</b> seconds,
<b>&minus;-time</b> seconds</p>

<p style="margin-left:22%;">workload time</p>

<p style="margin-left:11%;"><b>&minus;F</b>,
<b>&minus;-file</b></p>

<p style="margin-left:22%;">workload file</p>

<p style="margin-left:11%;"><b>&minus;W</b>,
<b>&minus;-prog</b></p>

<p style="margin-left:22%;">workload program name of player
(player workload, default &rsquo;mplayer&rsquo;) name of
web-browser (reader workload, default
&rsquo;firefox&rsquo;)</p>

<p style="margin-left:11%;"><b>&minus;L</b>,
<b>&minus;-title</b></p>

<p style="margin-left:22%;">title of web-browser
document</p>

<p style="margin-left:11%;"><b>&minus;M</b>,
<b>&minus;-manufacturer</b></p>

<p style="margin-left:22%;">enable time and cpu load
statistics only</p>

<p style="margin-left:11%;"><b>&minus;S</b>,
<b>&minus;-show</b></p>

<p style="margin-left:22%;">demo/debug mode, one iteration
only</p>

<p style="margin-left:11%;"><b>&minus;n</b>,
<b>&minus;-show-num</b></p>

<p style="margin-left:22%;">demo/debug mode,
&rsquo;show-num&rsquo; iteration</p>

<p style="margin-left:11%;"><b>&minus;j</b>,
<b>&minus;-show-cnt</b></p>

<p style="margin-left:22%;">demo/debug mode,
&rsquo;show-cnt&rsquo; sub iteration</p>

<p style="margin-left:11%;"><b>&minus;T</b> seconds,
<b>&minus;-show-time</b> seconds</p>

<p style="margin-left:22%;">demo/debug mode, debug time</p>

<p style="margin-left:11%;"><b>&minus;K</b> comment,
<b>&minus;-comment</b> comment</p>

<p style="margin-left:22%;">user comment for report</p>

<p style="margin-left:11%;"><b>&minus;e</b> application,
<b>&minus;-init-prog</b> application</p>

<p style="margin-left:22%;">run program before test
starting</p>

<p style="margin-left:11%;"><b>&minus;E</b> application,
<b>&minus;-init-prog-su</b> application</p>

<p style="margin-left:22%;">run program as root before test
starting</p>

<p style="margin-left:11%;"><b>&minus;y</b>,
<b>&minus;-yes</b></p>

<p style="margin-left:22%;">auto &rsquo;yes&rsquo; answer
to all questions</p>

<p style="margin-left:11%;"><b>&minus;Q</b>,
<b>&minus;-debug</b></p>

<p style="margin-left:22%;">debug workload (see cpu-load
and disp-load below)</p>

<p style="margin-left:11%;"><b>&minus;p</b> percent,
<b>&minus;-cpu-load</b> percent</p>

<p style="margin-left:22%;">debug workload, the time cpu
loaded in percent</p>

<p style="margin-left:11%;"><b>&minus;d</b> percent,
<b>&minus;-disp-load</b> percent</p>

<p style="margin-left:22%;">Debug workload, the time
display on in percent</p>

<p style="margin-left:11%;"><b>&minus;o</b> {0,1,2},
<b>&minus;-output</b> {0,1,2}</p>

<p style="margin-left:22%;">direct workload output:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="9%"></td>
<td width="40%">


<p>file</p></td>
<td width="28%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p><b>1</b></p></td>
<td width="9%"></td>
<td width="40%">


<p>file and console</p></td>
<td width="28%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p><b>2</b></p></td>
<td width="9%"></td>
<td width="40%">


<p>/dev/null, other - console</p></td>
<td width="28%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;z</b>,
<b>&minus;-debug-vars</b></p>

<p style="margin-left:22%;">debug option</p>

<p style="margin-left:11%;"><b>&minus;q</b> file,
<b>&minus;-debug-vars-file</b> file</p>

<p style="margin-left:22%;">debug option - debug variables
file</p>

<p style="margin-left:11%;"><b>&minus;x</b>,
<b>&minus;-dpms</b></p>

<p style="margin-left:22%;">debug option - try to use
display power management</p>

<p style="margin-left:11%;"><b>&minus;u</b>,
<b>&minus;-spy</b></p>

<p style="margin-left:22%;">debug option - try to find out
unexpected system activity</p>

<p style="margin-left:11%;"><b>&minus;l</b>,
<b>&minus;-simul-laptop</b></p>

<p style="margin-left:22%;">debug option, laptop
simulation</p>

<p style="margin-left:11%;"><b>&minus;b</b> percent,
<b>&minus;-bat-sync</b> percent</p>

<p style="margin-left:22%;">debug option, battery critical
capacity, default 5%</p>

<p style="margin-left:11%;"><b>&minus;f</b> command,
<b>&minus;-user-field</b> command</p>

<p style="margin-left:22%;">the output of user-specified
command being added to statistics Example: -f &quot;cat
/proc/acpi/thermal_zone/TZ01/temperature | awk &rsquo;{print
}&rsquo;&quot;</p>

<p style="margin-left:11%;"><b>&minus;k</b> num,
<b>&minus;-stat-system</b> num</p>

<p style="margin-left:22%;">debug option, save system
files, default 0</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">bltk -I or
--idle</p>

<p style="margin-left:22%;">idle workload running</p>

<p style="margin-left:11%;">bltk -R or --reader</p>

<p style="margin-left:22%;">reader workload running</p>

<p style="margin-left:11%;">bltk -D or --developer</p>

<p style="margin-left:22%;">developer workload running</p>

<p style="margin-left:11%;">bltk -O or --office</p>

<p style="margin-left:22%;">office workload running</p>

<p style="margin-left:11%;">bltk -P or --player</p>

<p style="margin-left:22%;">player workload running</p>

<p style="margin-left:11%;">bltk -G or --game</p>

<p style="margin-left:22%;">game workload running</p>

<p style="margin-left:11%;">bltk -i or --idle-test -T 60 -t
1</p>

<p style="margin-left:22%;">idle test running for 60
seconds, stats interval 1 second</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>bltk.conf</b>(5),
<b>bltk_report</b>(1)</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Konstantin
Karasyov &lt;konstantin.a.karasyov@intel.com&gt; <br>
Vladimir Lebedev &lt;vladimir.p.lebedev@intel.com&gt;</p>
<hr>
</body>
</html>
