<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 00:56:39 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>iowatcher</title>

</head>
<body>

<h1 align="center">iowatcher</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#GRAPHS">GRAPHS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">iowatcher -
Create visualizations from blktrace results</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>iowatcher</b>
<i>OPTIONS...</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">iowatcher
graphs the results of a blktrace run. It can graph the
result of an existing blktrace, start a new blktrace, or
start a new blktrace and a benchmark run. It can then create
an image or movie of the IO from a given trace. iowatcher
can produce either SVG files or movies in mp4 format (with
ffmpeg) or ogg format (with png2theora).</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>--help</b></p></td>
<td width="2%"></td>
<td width="43%">


<p style="margin-top: 1em">Print a brief usage summary.</p></td>
<td width="35%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>-d, --device</b>
&lt;device&gt;</p>

<p style="margin-left:22%;">Controls which device you are
tracing. You can only trace one device at a time for now. It
is sent directly to blktrace, and only needed when you are
making a new trace.</p>

<p style="margin-left:11%;"><b>-D,
--blktrace-destination</b> &lt;destination&gt;</p>

<p style="margin-left:22%;">Destination for blktrace.</p>

<p style="margin-left:11%;"><b>-p, --prog</b>
&lt;program&gt;</p>

<p style="margin-left:22%;">Program to run while blktrace
is run.</p>

<p style="margin-left:11%;"><b>-K,
--keep-movie-svgs</b></p>

<p style="margin-left:22%;">Keep the SVG files generated
for movie mode.</p>

<p style="margin-left:11%;"><b>-t, --trace</b>
&lt;file|directory&gt;</p>

<p style="margin-left:22%;">Controls the name of the
blktrace file. iowatcher uses a dump from blkparse, so -t
tries to guess the name of the corresponding per CPU
blktrace data files if the dump file doesn&rsquo;t already
exist. If you want more than one trace in a given graph, you
can specify -t more than once. If a directory is specified,
iowatcher will use the name of the directory as the base
name of the dump file and all trace files found inside the
directory will be processed.</p>

<p style="margin-left:11%;"><b>-l, --label</b>
&lt;label&gt;</p>

<p style="margin-left:22%;">Sets a label in the graph for a
trace file. The labels are added in the same order the trace
files are added.</p>

<p style="margin-left:11%;"><b>-m, --movie</b>
[spindle|rect]</p>

<p style="margin-left:22%;">Create a movie. The file format
depends on the extension used in the -o filename.* option.
If you specify an .ogv or .ogg extension, the result will be
Ogg Theora video, if png2theora is available. If you use an
.mp4 extension, the result will be an mp4 video if ffmpeg is
available. You can use any other extension, but the end
result will be an mp4. You can use --movie=spindle or
--movie=rect, which changes the style of the IO mapping.</p>

<p style="margin-left:11%;"><b>-T, --title</b>
&lt;title&gt;</p>

<p style="margin-left:22%;">Set a title to be placed at the
top of the graph.</p>

<p style="margin-left:11%;"><b>-o, --output</b>
&lt;file&gt;</p>

<p style="margin-left:22%;">Output filename (default:
trace.svg).</p>

<p style="margin-left:11%;"><b>-r, --rolling</b>
&lt;seconds&gt;</p>

<p style="margin-left:22%;">Control the duration for the
rolling average. iowatcher tries to smooth out bumpy graphs
by averaging the current second with seconds from the past.
Larger numbers here give you flatter graphs.</p>

<p style="margin-left:11%;"><b>-h, --height</b>
&lt;height&gt;</p>

<p style="margin-left:22%;">Set the height of each
graph</p>

<p style="margin-left:11%;"><b>-w, --width</b>
&lt;width&gt;</p>

<p style="margin-left:22%;">Set the width of each graph</p>

<p style="margin-left:11%;"><b>-c, --columns</b>
&lt;columns&gt;</p>

<p style="margin-left:22%;">Numbers of columns in graph
output</p>

<p style="margin-left:11%;"><b>-x, --xzoom</b>
&lt;min:max&gt;</p>

<p style="margin-left:22%;">Limit processed time range to
min:max</p>

<p style="margin-left:11%;"><b>-y, --yzoom</b>
&lt;min:max&gt;</p>

<p style="margin-left:22%;">Limit processed sectors to
min:max</p>

<p style="margin-left:11%;"><b>-a, --io-plot-action</b>
&lt;action&gt;</p>

<p style="margin-left:22%;">Plot given action (one of
Q,D,C) in IO graph</p>

<p style="margin-left:11%;"><b>-P, --per-process-io</b></p>

<p style="margin-left:22%;">Distinguish between processes
in IO graph</p>

<p style="margin-left:11%;"><b>-O, --only-graph</b>
&lt;graph&gt;</p>

<p style="margin-left:22%;">Add a single graph to the
output (see GRAPHS). By default all the graphs are included,
but with -O you get only the graphs you ask for. -O may be
used more than once.</p>

<p style="margin-left:11%;"><b>-N, --no-graph</b>
&lt;type&gt;</p>

<p style="margin-left:22%;">Remove a single graph from the
output (see GRAPHS). This may also be used more than
once.</p>

<h2>GRAPHS
<a name="GRAPHS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Choices for -O
and -N are: <br>
io, tput, latency, queue_depth, iops, cpu-sys, cpu-io,
cpu-irq, cpu-user, cpu-soft</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Generate graph
from the existing trace.dump:</p>

<p style="margin-left:22%; margin-top: 1em">iowatcher -t
trace.dump -o trace.svg</p>

<p style="margin-left:11%; margin-top: 1em">Skip the IO
graph:</p>

<p style="margin-left:22%; margin-top: 1em">iowatcher -t
trace.dump -o trace.svg -N io</p>

<p style="margin-left:11%; margin-top: 1em">Only graph tput
and latency:</p>

<p style="margin-left:22%; margin-top: 1em">iowatcher -t
trace.dump -o trace.svg -O tput -O latency</p>

<p style="margin-left:11%; margin-top: 1em">Generate a
graph from two runs, and label them:</p>

<p style="margin-left:22%; margin-top: 1em">iowatcher -t
ext4.dump -t xfs.dump -l Ext4 -l XFS -o trace.svg</p>

<p style="margin-left:11%; margin-top: 1em">Run a fio
benchmark and store the trace in trace.dump, add a title to
the top, use /dev/sda for blktrace:</p>

<p style="margin-left:22%; margin-top: 1em">iowatcher -d
/dev/sda -t trace.dump -T &rsquo;Fio Benchmark&rsquo; -p
&rsquo;fio some_job_file&rsquo;</p>

<p style="margin-left:11%; margin-top: 1em">Make a movie
from an existing trace:</p>

<p style="margin-left:22%; margin-top: 1em">iowatcher -t
trace --movie -o trace.mp4</p>
<hr>
</body>
</html>
