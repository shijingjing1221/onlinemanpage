<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 01:20:27 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SA-COMPILE</title>

</head>
<body>

<h1 align="center">SA-COMPILE</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#PREREQUESITES">PREREQUESITES</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">sa&minus;compile
&minus; compile SpamAssassin ruleset into native code</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>sa-compile</b>
[options]</p>

<p style="margin-left:11%; margin-top: 1em">Options:</p>

<pre style="margin-left:11%; margin-top: 1em">  &minus;&minus;list                        Output base string list to STDOUT
  &minus;&minus;sudo                        Use 'sudo' for privilege escalation
  &minus;&minus;keep&minus;tmps                   Keep temporary files instead of deleting
  &minus;C path, &minus;&minus;configpath=path, &minus;&minus;config&minus;file=path
                                Path to standard configuration dir
  &minus;p prefs, &minus;&minus;prefspath=file, &minus;&minus;prefs&minus;file=file
                                Set user preferences file
  &minus;&minus;siteconfigpath=path         Path for site configs
                                (default: /etc/mail/spamassassin)
  &minus;&minus;updatedir=path              Directory to place updates
          (default: /var/lib/spamassassin/compiled/&lt;perlversion&gt;/3.004000)
  &minus;&minus;cf='config line'            Additional line of configuration
  &minus;D, &minus;&minus;debug [area=n,...]      Print debugging messages
  &minus;V, &minus;&minus;version                 Print version
  &minus;h, &minus;&minus;help                    Print usage message</pre>


<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">sa-compile uses
<tt>&quot;re2c&quot;</tt> to compile the site-wide parts of
the SpamAssassin ruleset. No part of user_prefs or any files
included from user_prefs can be built into the compiled
set.</p>

<p style="margin-left:11%; margin-top: 1em">This compiled
set is then used by the
<tt>&quot;Mail::SpamAssassin::Plugin::Rule2XSBody&quot;</tt>
plugin to speed up SpamAssassin&rsquo;s operation, where
possible, and when that plugin is loaded.</p>


<p style="margin-left:11%; margin-top: 1em"><tt>&quot;re2c&quot;</tt>
can match strings much faster than perl code, by
constructing a <small>DFA</small> to match many simple
strings in parallel, and compiling that to native object
code. Not all SpamAssassin rules are amenable to this
conversion, however.</p>

<p style="margin-left:11%; margin-top: 1em">This requires
<tt>&quot;re2c&quot;</tt> (see
<tt>&quot;http://re2c.org/&quot;</tt>), and the C compiler
used to build Perl <small>XS</small> modules, be
installed.</p>

<p style="margin-left:11%; margin-top: 1em">Note that
running this, and creating a compiled ruleset, will have no
effect on SpamAssassin scanning speeds unless you also edit
your <tt>&quot;v320.pre&quot;</tt> file and ensure this line
is uncommented:</p>

<pre style="margin-left:11%; margin-top: 1em">  loadplugin Mail::SpamAssassin::Plugin::Rule2XSBody</pre>


<p style="margin-left:11%; margin-top: 1em">Additionally,
&quot;sa-compile&quot; will not restart &quot;spamd&quot; or
otherwise cause a scanner to reload the now-compiled ruleset
automatically.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;list</b></p>

<p style="margin-left:17%;">Output the extracted base
strings to <small>STDOUT,</small> instead of generating the
C extension code.</p>

<p style="margin-left:11%;"><b>&minus;&minus;sudo</b></p>

<p style="margin-left:17%;">Use <tt>sudo(8)</tt> to run
code as &rsquo;root&rsquo; when writing files to the
compiled-rules storage area (which is
<tt>&quot;/var/lib/spamassassin/compiled/5.016/3.004000&quot;</tt>
by default).</p>

<p style="margin-left:11%;"><b>&minus;&minus;quiet</b></p>

<p style="margin-left:17%;">Produce less diagnostic output.
Errors will still be displayed.</p>


<p style="margin-left:11%;"><b>&minus;&minus;keep&minus;tmps</b></p>

<p style="margin-left:17%;">Keep temporary files after the
script completes, instead of deleting them.</p>

<p style="margin-left:11%;"><b>&minus;C</b> <i>path</i>,
<b>&minus;&minus;configpath</b>=<i>path</i>,
<b>&minus;&minus;config&minus;file</b>=<i>path</i></p>

<p style="margin-left:17%;">Use the specified path for
locating the distributed configuration files. Ignore the
default directories (usually
<tt>&quot;/usr/share/spamassassin&quot;</tt> or
similar).</p>


<p style="margin-left:11%;"><b>&minus;&minus;siteconfigpath</b>=<i>path</i></p>

<p style="margin-left:17%;">Use the specified path for
locating site-specific configuration files. Ignore the
default directories (usually
<tt>&quot;/etc/mail/spamassassin&quot;</tt> or similar).</p>


<p style="margin-left:11%;"><b>&minus;&minus;updatedir</b></p>

<p style="margin-left:17%;">By default,
<tt>&quot;sa&minus;compile&quot;</tt> will use the
system-wide rules update directory:</p>

<pre style="margin-left:17%; margin-top: 1em">        /var/lib/spamassassin/compiled/5.016/3.004000</pre>


<p style="margin-left:17%; margin-top: 1em">If the updates
should be stored in another location, specify it here.</p>

<p style="margin-left:17%; margin-top: 1em">Note that use
of this option is not recommended; if sa-compile is placing
the compiled rules the wrong directory, you probably need to
rebuild SpamAssassin with different
<tt>&quot;Makefile.PL&quot;</tt> arguments, instead of
overriding sa-compile&rsquo;s runtime behaviour.</p>


<p style="margin-left:11%;"><b>&minus;&minus;cf=&rsquo;config
line&rsquo;</b></p>

<p style="margin-left:17%;">Add additional lines of
configuration directly from the command-line, parsed after
the configuration files are read. Multiple
<b>&minus;&minus;cf</b> arguments can be used, and each will
be considered a separate line of configuration.</p>

<p style="margin-left:11%;"><b>&minus;p</b> <i>prefs</i>,
<b>&minus;&minus;prefspath</b>=<i>prefs</i>,
<b>&minus;&minus;prefs&minus;file</b>=<i>prefs</i></p>

<p style="margin-left:17%;">Read user score preferences
from <i>prefs</i> (usually
<tt>&quot;$HOME/.spamassassin/user_prefs&quot;</tt>) .</p>

<p style="margin-left:11%;"><b>&minus;D</b>
[<i>area,...</i>], <b>&minus;&minus;debug</b>
[<i>area,...</i>]</p>

<p style="margin-left:17%;">Produce debugging output. If no
areas are listed, all debugging information is printed.
Diagnostic output can also be enabled for each area
individually; <i>area</i> is the area of the code to
instrument.</p>

<p style="margin-left:17%; margin-top: 1em">For more
information about which areas (also known as channels) are
available, please see the documentation at
&lt;http://wiki.apache.org/spamassassin/DebugChannels&gt;.</p>

<p style="margin-left:11%;"><b>&minus;h</b>,
<b>&minus;&minus;help</b></p>

<p style="margin-left:17%;">Print help message and
exit.</p>

<p style="margin-left:11%;"><b>&minus;V</b>,
<b>&minus;&minus;version</b></p>

<p style="margin-left:17%;">Print sa-compile version and
exit.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>Mail::SpamAssassin</i>(3)
<i>spamassassin</i>(1) <i>spamd</i>(1)</p>

<h2>PREREQUESITES
<a name="PREREQUESITES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><tt>&quot;Mail::SpamAssassin&quot;
&quot;re2c&quot;
&quot;Mail::SpamAssassin::Plugin::Rule2XSBody&quot;</tt></p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">See
&lt;http://issues.apache.org/SpamAssassin/&gt;</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The Apache
SpamAssassin(tm) Project
&lt;http://spamassassin.apache.org/&gt;</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">SpamAssassin is
distributed under the Apache License, Version 2.0, as
described in the file <tt>&quot;LICENSE&quot;</tt> included
with the distribution.</p>
<hr>
</body>
</html>
