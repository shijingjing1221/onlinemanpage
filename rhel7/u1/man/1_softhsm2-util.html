<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 01:28:16 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SOFTHSM2-UTIL</title>

</head>
<body>

<h1 align="center">SOFTHSM2-UTIL</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#ACTIONS">ACTIONS</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">softhsm2-util
&minus; support tool for libsofthsm2</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>softhsm2-util
&minus;&minus;show-slots</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>softhsm2-util
&minus;&minus;init-token &minus;&minus;slot</b>
<i>number</i> <b>&minus;&minus;label</b> <i>text</i> \ <br>
[<b>&minus;&minus;so-pin</b> <i>PIN</i>
<b>&minus;&minus;pin</b> <i>PIN</i>]</p>


<p style="margin-left:11%; margin-top: 1em"><b>softhsm2-util
&minus;&minus;import</b> <i>path</i>
[<b>&minus;&minus;file-pin</b> <i>PIN</i>]
<b>&minus;&minus;slot</b> <i>number</i> \ <br>
[<b>&minus;&minus;pin</b> <i>PIN</i>
<b>&minus;&minus;no&minus;public&minus;key]
&minus;&minus;label</b> <i>text</i> <b>&minus;&minus;id</b>
<i>hex</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i><b>softhsm2-util</b></i>
is a support tool mainly for libsofthsm2. It can also be
used with other PKCS#11 libraries by using the option
<b>&minus;&minus;module</b></p>

<p style="margin-left:11%; margin-top: 1em">Read the
sections below to get more information on the libsofthsm2
and PKCS#11. Most applications assumes that the token they
want to use is already initialized. It is then up to the
user to initialize the PKCS#11 token. This is done by using
the PKCS#11 interface, but instead of writing your own tool
you can use the <b>softhsm2-util</b> tool.</p>

<p style="margin-left:11%; margin-top: 1em">Keys are
usually created directly in the token, but the user may want
to use an existing key pair. Keys can be imported to a token
by using the PKCS#11 interface, but this tool can also be
used if the user has the key pair in a PKCS#8 file. If you
need to convert keys from BIND .private-key format over to
PKCS#8, one can use <b>softhsm2-keyconv</b>.</p>

<p style="margin-left:11%; margin-top: 1em">The libary
<b>libsofthsm2</b>, known as SoftHSM, provides cryptographic
functionality by using the PKCS#11 API. It was developed as
a part of the OpenDNSSEC project, thus designed to meet the
requirements of OpenDNSSEC, but can also work together with
other software that want to use the functionality of the
PKCS#11 API.</p>

<p style="margin-left:11%; margin-top: 1em">SoftHSM is a
software implementation of a generic cryptographic device
with a PKCS#11 interface. These devices are often called
tokens. Read in the manual softhsm2.conf(5) on how to create
these tokens and how they are added to a slot in
SoftHSM.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>PKCS#11</b> API can be used to handle and store
cryptographic keys. This interface specifies how to
communicate with cryptographic devices such as HSMs
(Hardware Security Modules) and smart cards. The purpose of
these devices is, among others, to generate cryptographic
keys and sign information without revealing private-key
material to the outside world. They are often designed to
perform well on these specific tasks compared to ordinary
processes in a normal computer.</p>

<h2>ACTIONS
<a name="ACTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;help</b>,
<b>&minus;h</b></p>

<p style="margin-left:22%;">Show the help information.</p>

<p style="margin-left:11%;"><b>&minus;&minus;import</b>
<i>path</i></p>

<p style="margin-left:22%;">Import a key pair from the
given <i>path</i>. The file must be in PKCS#8-format. <br>
Use with <b>&minus;&minus;file-pin</b>,
<b>&minus;&minus;slot</b>, <b>&minus;&minus;pin</b>,
<b>&minus;&minus;no&minus;public&minus;key</b>,
<b>&minus;&minus;label</b>, and <b>&minus;&minus;id</b>.</p>


<p style="margin-left:11%;"><b>&minus;&minus;init-token</b></p>

<p style="margin-left:22%;">Initialize the token at a given
slot. If the token is already initialized then this command
will reinitialize it, thus erasing all the objects in the
token. The matching Security Officer (SO) PIN must also be
provided when doing reinitialization. <br>
Use with <b>&minus;&minus;slot</b>,
<b>&minus;&minus;label</b>. <b>&minus;&minus;so-pin</b>, and
<b>&minus;&minus;pin</b>.</p>


<p style="margin-left:11%;"><b>&minus;&minus;show-slots</b></p>

<p style="margin-left:22%;">Display all the available slots
and their current status.</p>

<p style="margin-left:11%;"><b>&minus;&minus;version</b>,
<b>&minus;v</b></p>

<p style="margin-left:22%;">Show the version info.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;file-pin</b>
<i>PIN</i></p>

<p style="margin-left:22%;">The <i>PIN</i> will be used to
decrypt the PKCS#8 file. If not given then the PKCS#8 file
is assumed to be unencrypted.</p>

<p style="margin-left:11%;"><b>&minus;&minus;force</b></p>

<p style="margin-left:22%;">Use this option to override the
warnings and force the given action.</p>

<p style="margin-left:11%;"><b>&minus;&minus;id</b>
<i>hex</i></p>

<p style="margin-left:22%;">Choose an ID of the key pair.
The ID is in hexadecimal with a variable length. Use with
<b>&minus;&minus;force</b> when importing a key pair if the
ID already exists.</p>

<p style="margin-left:11%;"><b>&minus;&minus;label</b>
<i>text</i></p>

<p style="margin-left:22%;">Defines the <i>label</i> of the
object or the token.</p>

<p style="margin-left:11%;"><b>&minus;&minus;module</b>
<i>path</i></p>

<p style="margin-left:22%;">Use another PKCS#11 library
than SoftHSM.</p>


<p style="margin-left:11%;"><b>&minus;&minus;no&minus;public&minus;key</b></p>

<p style="margin-left:22%;">Do not import the public
key.</p>

<p style="margin-left:11%;"><b>&minus;&minus;pin</b>
<i>PIN</i></p>

<p style="margin-left:22%;">The <i>PIN</i> for the normal
user.</p>

<p style="margin-left:11%;"><b>&minus;&minus;slot</b>
<i>number</i></p>

<p style="margin-left:22%;">The slot where the token is
located.</p>

<p style="margin-left:11%;"><b>&minus;&minus;so-pin</b>
<i>PIN</i></p>

<p style="margin-left:22%;">The <i>PIN</i> for the Security
Officer (SO).</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The token can
be initialized using this command:</p>

<p style="margin-left:22%; margin-top: 1em">softhsm2-util
&minus;&minus;init-token &minus;&minus;slot 1
&minus;&minus;label &quot;A token&quot;</p>

<p style="margin-left:11%; margin-top: 1em">A key pair can
be imported using the softhsm tool where you specify the
path to the key file, slot number, label and ID of the new
objects, and the user PIN. The file must be in PKCS#8
format.</p>

<p style="margin-left:22%; margin-top: 1em">softhsm2-util
&minus;&minus;import key1.pem &minus;&minus;slot 1
&minus;&minus;label &quot;My key&quot; \ <br>
&minus;&minus;id A1B2 &minus;&minus;pin 123456 <br>
(Add, &minus;&minus;file-pin <i>PIN</i>, if the key file is
encrypted.)</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Written by
Rickard Bellgrim, Francis Dupont, Ren&eacute; Post, and
Roland van Rijswijk.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>softhsm2-keyconv</i>(1),
<i>softhsm2-migrate</i>(1), <i>softhsm2.conf</i>(5)</p>
<hr>
</body>
</html>
