<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 01:01:46 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>User manual for old pgm functions</title>

</head>
<body>

<h1 align="center">User manual for old pgm functions</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">libpgm -
libnetpbm functions to read and write PGM image files</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;netpbm/pgm.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>void
pgm_init( int *</b><i>argcP</i><b>, char
*</b><i>argv</i><b>[] );</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>gray **
pgm_allocarray( int</b> <i>cols</i><b>, int</b> <i>rows</i>
<b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>gray *
pgm_allocrow( int</b><i>cols</i> <b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>void
pgm_freearray( gray **</b><i>grays</i><b>,
int</b><i>rows</i> <b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>void
pgm_freerow( gray *</b><i>grayrow</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>void
pgm_readpgminit( FILE *</b><i>fp</i><b>, int
*</b><i>colsP</i><b>, int *</b><i>rowsP</i><b>, gray
*</b><i>maxvalP</i><b>, int *</b><i>formatP</i>
<b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>void
pgm_readpgmrow( FILE *</b><i>fp</i><b>, gray
*</b><i>grayrow</i><b>, int</b> <i>cols</i><b>, gray</b>
<i>maxval</i><b>, int</b> <i>format</i> <b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>gray **
pgm_readpgm( FILE *</b><i>fp</i><b>, int
*</b><i>colsP</i><b>, int *</b><i>rowsP</i><b>, gray
*</b><i>maxvalP</i> <b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>void
pgm_writepgminit( FILE * fp , int</b> <i>cols</i><b>,
int</b> <i>rows</i><b>, gray</b> <i>maxval</i><b>, int</b>
<i>forceplain</i> <b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>void
pgm_writepgmrow( FILE *</b><i>fp</i><b>, gray
*</b><i>grayrow</i><b>, int cols</b><i>,</i> <b>gray</b>
<i>maxval</i><b>, int</b> <i>forceplain</i> <b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>void
pgm_writepgm( FILE *</b><i>fp</i><b>, gray **</b>
<i>grays</i><b>, int</b> <i>cols</i><b>, int</b>
<i>rows</i><b>, gray</b> <i>maxval</i><b>, int</b>
<i>forceplain</i> <b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>void
pgm_writepgm( FILE *</b><i>fp</i><b>, gray
**</b><i>grays</i><b>, int</b> <i>cols</i><b>, int</b>
<i>rows</i><b>, gray</b> <i>maxval</i><b>, int</b>
<i>forceplain</i> <b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>void
pgm_nextimage( FILE *</b><i>file</i><b>, int * const</b>
<i>eofP</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>void
pgm_check( FILE *</b> <i>file</i><b>, const enum
pm_check_type</b> <i>check_type</i><b>, const int</b>
<i>format</i><b>, const int</b> <i>cols</i><b>, const
int</b> <i>rows</i><b>, const int</b> <i>maxval</i><b>, enum
pm_check_code * const</b> <i>retval</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>typedef ...
gray;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>#define
PGM_MAXMAXVAL ...</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>#define
PGM_OVERALLMAXVAL ...</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>#define
PGM_FORMAT ...</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>#define
RPGM_FORMAT ...</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>#define
PGM_TYPE PGM_FORMAT</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>#define</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>PGM_FORMAT_TYPE(</b><i>format</i><b>)
...</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">These library
functions are part of <b>Netpbm</b>(1)</p>

<p style="margin-left:11%; margin-top: 1em"><b>TYPES AND
CONSTANTS</b> <br>
Each <b>gray</b> should contain only the values between
<b>0</b> and <b>PGM_OVERALLMAXVAL</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PGM_OVERALLMAXVAL</b>
is the maximum value of a maxval in a PGM file.
<b>PGM_MAXMAXVAL</b> is the maximum value of a maxval in a
PGM file that is compatible with the PGM format as it
existed before April 2000. It is also the maximum value of a
maxval that results in the minimum possible raster size for
a particular image. I.e an image with a maxval higher than
<b>PGM_MAXMAXVAL</b> cannot be read or generated by old PGM
processing programs and requires more file space.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PGM_FORMAT</b>
is the format code for a Plain PGM format image file.
<b>RPGM_FORMAT</b> is the format code for a Raw PGM format
image file. <b>PGM_TYPE</b> is the format type code for the
PGM formats. <b>PGM_FORMAT_TYPE</b> is a macro that
generates code to compute the format type code of a PBM or
PGM format from the format code which is its argument.</p>


<p style="margin-left:11%; margin-top: 1em"><b>INITIALIZATION
<br>
pgm_init()</b> is obsolete (at least since Netpbm 9.25
(March 2002)). Use
<a href="libpm.html#initialization"><b>pm_proginit()</b></a>
instead.</p>


<p style="margin-left:11%; margin-top: 1em"><b>pgm_init()</b>
is identical to <b>pm_proginit</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>MEMORY
MANAGEMENT <br>
pgm_allocarray()</b> allocates an array of grays.</p>


<p style="margin-left:11%; margin-top: 1em"><b>pgm_allocrow()</b>
allocates a row of the given number of grays.</p>


<p style="margin-left:11%; margin-top: 1em"><b>pgm_freearray()</b>
frees the array allocated with <b>pgm_allocarray()</b>
containing the given number of rows.</p>


<p style="margin-left:11%; margin-top: 1em"><b>pgm_freerow()</b>
frees a row of grays allocated with
<b>pgm_allocrow()</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>READING
FILES</b> <br>
If a function in this section is called on a PBM format
file, it translates the PBM file into a PGM file on the fly
and functions as if it were called on the equivalent PGM
file. The <i>format</i> value returned by
<b>pgm_readpgminit()</b> is, however, not translated. It
represents the actual format of the PBM file.</p>


<p style="margin-left:11%; margin-top: 1em"><b>pgm_readpgminit()</b>
reads the header of a PGM file, returning all the
information from the header and leaving the file positioned
just after the header.</p>


<p style="margin-left:11%; margin-top: 1em"><b>pgm_readpgmrow()</b>
reads a row of grays into the <i>grayrow</i> <br>
array. <i>format</i>, <i>cols</i>, and <i>maxval</i> are the
values returned by <b>pgm_readpgminit()</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>pgm_readpgm()</b>
reads an entire PGM image into memory, returning the
allocated array as its return value and returning the
information from the header as <i>rows</i>, <i>cols</i>, and
<i>maxval</i>. This function combines
<b>pgm_readpgminit()</b>, <b>pgm_allocarray()</b>, and
<b>pgm_readpgmrow()</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>pgm_readpgminit()</b>
and <b>pgm_readpgm</b> abort the program with a message to
Standard Error if the PGM image header is not syntactically
valid, including if it contains a number too large to be
processed using the system&rsquo;s normal data structures
(to wit, a number that won&rsquo;t fit in a C
&rsquo;int&rsquo;).</p>

<p style="margin-left:11%; margin-top: 1em"><b>WRITING
FILES <br>
pgm_writepgminit()</b> writes the header for a PGM file and
leaves it positioned just after the header.</p>


<p style="margin-left:11%; margin-top: 1em"><i>forceplain</i>
is a logical value that tells <b>pgm_writepgminit()</b> to
write a header for a plain PGM format file, as opposed to a
raw PGM format file.</p>


<p style="margin-left:11%; margin-top: 1em"><b>pgm_writepgmrow()</b>
writes the row <i>grayrow</i> to a PGM file. For meaningful
results, <i>cols</i>, <i>maxval</i>, and <i>forceplain</i>
must be the same as was used with
<b>pgm_writepgminit()</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>pgm_writepgm()</b>
write the header and all data for a PGM image. This function
combines <b>pgm_writepgminit()</b> and
<b>pgm_writepgmrow()</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>MISCELLANEOUS
<br>
pgm_nextimage()</b> positions a PGM input file to the next
image in it (so that a subsequent <b>pgm_readpgminit()</b>
reads its header).</p>


<p style="margin-left:11%; margin-top: 1em"><b>pgm_nextimage()</b>
is analogous to <b>pbm_nextimage()</b>, but works on PGM and
PBM files.</p>


<p style="margin-left:11%; margin-top: 1em"><b>pgm_check()</b>
checks for the common file integrity error where the file is
the wrong size to contain all the image data.</p>


<p style="margin-left:11%; margin-top: 1em"><b>pgm_check()</b>
is analogous to <b>pbm_check()</b>, but works on PGM and PBM
files.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>libpbm</b>(1)
, <b>libppm</b>(1) , <b>libpnm</b>(1)</p>
<hr>
</body>
</html>
