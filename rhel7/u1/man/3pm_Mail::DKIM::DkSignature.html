<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 01:03:45 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>Mail::DKIM::DkSignature</title>

</head>
<body>

<h1 align="center">Mail::DKIM::DkSignature</h1>

<a href="#NAME">NAME</a><br>
<a href="#CONSTRUCTORS">CONSTRUCTORS</a><br>
<a href="#METHODS">METHODS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#COPYRIGHT AND LICENSE">COPYRIGHT AND LICENSE</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">Mail::DKIM::DkSignature
&minus; represents a DomainKeys&minus;Signature header</p>

<h2>CONSTRUCTORS
<a name="CONSTRUCTORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>new()</i>
<br>
Create a new DomainKey signature from parameters</p>

<pre style="margin-left:11%; margin-top: 1em">  my $signature = Mail::DKIM::DkSignature&minus;&gt;new(
                      [ Algorithm =&gt; &quot;rsa&minus;sha1&quot;, ]
                      [ Signature =&gt; $base64, ]
                      [ Method =&gt; &quot;simple&quot;, ]
                      [ Domain =&gt; &quot;example.org&quot;, ]
                      [ Headers =&gt; &quot;from:subject:date:message&minus;id&quot;, ]
                      [ Query =&gt; &quot;dns&quot;, ]
                      [ Selector =&gt; &quot;alpha&quot;, ]
                      [ Key =&gt; $private_key, ]
                  );</pre>


<p style="margin-left:11%; margin-top: 1em"><i>parse()</i>
<br>
Create a new signature from a DomainKey-Signature header</p>

<pre style="margin-left:11%; margin-top: 1em">  my $sig = Mail::DKIM::DkSignature&minus;&gt;parse(
                  &quot;DomainKey&minus;Signature: a=rsa&minus;sha1; b=yluiJ7+0=; c=nofws&quot;
            );</pre>


<p style="margin-left:11%; margin-top: 1em">Constructs a
signature by parsing the provided DomainKey-Signature header
content. You do not have to include the header name (i.e.
&quot;DomainKey-Signature:&quot;) but it is recommended, so
the header name can be preserved and returned the same way
in &quot;<i>as_string()</i>&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Note: The input
to this constructor is in the same format as the output of
the as_string method.</p>

<h2>METHODS
<a name="METHODS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>as_string()</i>
<br>
Convert the signature header as a string.</p>

<pre style="margin-left:11%; margin-top: 1em">  print $signature&minus;&gt;as_string . &quot;\n&quot;;</pre>


<p style="margin-left:11%; margin-top: 1em">outputs</p>

<pre style="margin-left:11%; margin-top: 1em">  DomainKey&minus;Signature: a=rsa&minus;sha1; b=yluiJ7+0=; c=nofws</pre>


<p style="margin-left:11%; margin-top: 1em">As shown in the
example, the as_string method can be used to generate the
DomainKey-Signature that gets prepended to a signed
message.</p>


<p style="margin-left:11%; margin-top: 1em"><i>algorithm()</i>
<br>
Get or set the algorithm (a=) field</p>

<p style="margin-left:11%; margin-top: 1em">The algorithm
used to generate the signature. Defaults to
&quot;rsa&minus;sha1&quot;, an RSA-signed
<small>SHA&minus;1</small> digest.</p>


<p style="margin-left:11%; margin-top: 1em"><i>canonicalization()</i>
<br>
Get or set the canonicalization (c=) field.</p>

<pre style="margin-left:11%; margin-top: 1em">  $signature&minus;&gt;canonicalization(&quot;nofws&quot;);
  $signature&minus;&gt;canonicalization(&quot;simple&quot;);
  $method = $signature&minus;&gt;canonicalization;</pre>


<p style="margin-left:11%; margin-top: 1em">Message
canonicalization (default is &quot;simple&quot;). This
informs the verifier of the type of canonicalization used to
prepare the message for signing.</p>


<p style="margin-left:11%; margin-top: 1em"><i>domain()</i>
<br>
Get or set the domain (d=) field.</p>

<pre style="margin-left:11%; margin-top: 1em">  my $d = $signature&minus;&gt;domain;          # gets the domain value
  $signature&minus;&gt;domain(&quot;example.org&quot;);   # sets the domain value</pre>


<p style="margin-left:11%; margin-top: 1em">The domain of
the signing entity, as specified in the signature. This is
the domain that will be queried for the public key.</p>


<p style="margin-left:11%; margin-top: 1em"><i>headerlist()</i>
<br>
Get or set the signed header fields (h=) field.</p>

<pre style="margin-left:11%; margin-top: 1em">  $signature&minus;&gt;headerlist(&quot;a:b:c&quot;);
  my $headerlist = $signature&minus;&gt;headerlist;
  my @headers = $signature&minus;&gt;headerlist;</pre>


<p style="margin-left:11%; margin-top: 1em">Signed header
fields. A colon-separated list of header field names that
identify the header fields presented to the signing
algorithm.</p>

<p style="margin-left:11%; margin-top: 1em">In scalar
context, the list of header field names will be returned as
a single string, with the names joined together with colons.
In list context, the header field names will be returned as
a list.</p>


<p style="margin-left:11%; margin-top: 1em"><i>identity()</i>
<br>
Get the signing identity.</p>

<pre style="margin-left:11%; margin-top: 1em">  my $i = $signature&minus;&gt;identity;</pre>


<p style="margin-left:11%; margin-top: 1em">In DomainKey
signatures, the signing identity is the first address found
in the Sender header or the From header. This field is
populated by the Verifier when processing a DomainKey
signature.</p>


<p style="margin-left:11%; margin-top: 1em"><i>identity_source()</i>
<br>
Determine which header had the identity.</p>

<pre style="margin-left:11%; margin-top: 1em">  my $source = $signature&minus;&gt;identity_source;</pre>


<p style="margin-left:11%; margin-top: 1em">If the message
is being verified, this method will tell you which of the
message headers was used to determine the signature
identity. Possible values are &quot;header.sender&quot; and
&quot;header.from&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>protocol()</i>
<br>
Get or set the query methods (q=) field.</p>

<p style="margin-left:11%; margin-top: 1em">A
colon-separated list of query methods used to retrieve the
public key (default is &quot;dns&quot;).</p>


<p style="margin-left:11%; margin-top: 1em"><i>selector()</i>
<br>
Get or set the selector (s=) field.</p>

<p style="margin-left:11%; margin-top: 1em">The selector
subdivides the namespace for the &quot;d=&quot; (domain)
tag.</p>


<p style="margin-left:11%; margin-top: 1em"><i>signature()</i>
<br>
Get or set the signature data (b=) field.</p>

<p style="margin-left:11%; margin-top: 1em">The signature
data. Whitespace is automatically stripped from the returned
value.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">Mail::DKIM::Signature
for DKIM-Signature headers</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Jason Long,
&lt;jlong@messiah.edu&gt;</p>

<h2>COPYRIGHT AND LICENSE
<a name="COPYRIGHT AND LICENSE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright (C)
2006&minus;2007,2010 by Messiah College</p>

<p style="margin-left:11%; margin-top: 1em">This library is
free software; you can redistribute it and/or modify it
under the same terms as Perl itself, either Perl version
5.8.6 or, at your option, any later version of Perl 5 you
may have available.</p>
<hr>
</body>
</html>
