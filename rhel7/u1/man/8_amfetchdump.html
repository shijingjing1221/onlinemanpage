<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 00:21:57 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>AMFETCHDUMP</title>

</head>
<body>

<h1 align="center">AMFETCHDUMP</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#CAVEATS">CAVEATS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHORS">AUTHORS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">amfetchdump
&minus; extract backup images from multiple Amanda
tapes.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>amfetchdump</b> [&minus;c |
&minus;C | &minus;l] [&minus;p | &minus;n] [&minus;a]
[&minus;O&nbsp;<i>directory</i>]
[&minus;d&nbsp;<i>device</i>] [&minus;h |
&minus;&minus;header&minus;file&nbsp;<i>filename</i> |
&minus;&minus;header&minus;fd&nbsp;<i>fd</i>]
[&minus;&minus;decompress |
&minus;&minus;no&minus;decompress |
&minus;&minus;server&minus;decompress |
&minus;&minus;client&minus;decompress]
[&minus;&minus;extract&nbsp;&minus;&minus;directory&nbsp;<i>directory&nbsp;</i>[&minus;&minus;data&minus;path&nbsp;<i>amanda|directtcp</i>]&nbsp;[&minus;&minus;application&minus;property&nbsp;<i>NAME=VALUE</i>]*]
[&minus;&minus;decrypt | &minus;&minus;no&minus;decrypt |
&minus;&minus;server&minus;decrypt |
&minus;&minus;client&minus;decrypt]
[&minus;&minus;exact_match]
[<b>&minus;o&nbsp;</b><i>configoption</i>...] <i>config
hostname</i>
[<i>disk&nbsp;</i>[&nbsp;<i>date&nbsp;</i>[&nbsp;<i>level&nbsp;</i>[&nbsp;<i>hostname&nbsp;</i>[...]&nbsp;]&nbsp;]&nbsp;]]</p> </td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>Amfetchdump</b>
pulls one or more matching dumps from tape or from the
holding disk, handling the reassembly of multi&minus;tape
split dump files as well as any tape autochanger operations.
The dump are by default decompressed and decrypted.</p>

<p style="margin-left:11%; margin-top: 1em">It will
automatically use the Amanda catalog to locate available
dumps on tape, in the same way that the <b>find</b> feature
of <b>amadmin</b>(8) lists available dumps.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>hostname</i>, <i>diskname</i>, <i>datestamp</i>, and
<i>level</i> dump specifications are further described in
<b>amanda-match</b>(7). Note that at minimum a
<i>hostname</i> must be specified.</p>

<p style="margin-left:11%; margin-top: 1em">Unless
<b>&minus;p</b> is used, backup images are extracted to
files in the current directory named:</p>

<p style="margin-left:11%; margin-top: 1em">If a changer
error occurs, or the <b>&minus;d</b> option is given, then
amfetchdump prompts for each required volume.</p>


<p style="margin-left:11%; margin-top: 1em"><i>hostname.diskname.datestamp.dumplevel</i></p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i><b>&minus;p</b></i></p>

<p style="margin-left:17%;">Pipe exactly one complete dump
file to <i>stdout</i>, instead of writing the file to disk.
This will restore only the first matching dumpfile (where
&quot;first&quot; is determined by the dump log search
facility).</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;h</b></p>

<p style="margin-left:17%;">Output the amanda header as a
32K block to same output as the image.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;header&minus;fd</b>
<i>fd</i></p>

<p style="margin-left:17%;">Output the amanda header to the
numbered file descriptor.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;header&minus;file</b>
<i>filename</i></p>

<p style="margin-left:17%;">Output the amanda header to the
filename.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;d</b>
<i>device_or_changer</i></p>

<p style="margin-left:17%;">Restore from this device or
changer instead of the default, prompting for each
volume.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;O</b>
<i>directory</i></p>

<p style="margin-left:17%;">Output restored files to this
directory, instead of to the current working directory.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;c</b></p>

<p style="margin-left:17%;">Compress output, fastest method
available.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;C</b></p>

<p style="margin-left:17%;">Compress output, smallest file
size method available.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;decompress</b></p>

<p style="margin-left:17%;">Always do the decompression,
this is the default.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;no&minus;decompress</b></p>

<p style="margin-left:17%;">Never do the decompression.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;server&minus;decompress</b></p>

<p style="margin-left:17%;">Do the decompression only if
the compression was done on the server.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;client&minus;decompress</b></p>

<p style="margin-left:17%;">Do the decompression only if
the compression was done on the client.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;decrypt</b></p>

<p style="margin-left:17%;">Always do the decryption, this
is the default.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;no&minus;decrypt</b></p>

<p style="margin-left:17%;">Never do the decryption.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;server&minus;decrypt</b></p>

<p style="margin-left:17%;">Do the decryption only if the
encryption was done on the server.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;client&minus;decrypt</b></p>

<p style="margin-left:17%;">Do the decryption only if the
encryption was done on the client.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;exact&minus;match</b></p>

<p style="margin-left:17%;">The host and disk are parsed as
exact values</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;extract</b></p>

<p style="margin-left:17%;">Extract the backup on the
server in the <i>directory</i> directory.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;directory</b>
<i>directory</i></p>

<p style="margin-left:17%;">Where to extract the backup
with the <b>&minus;&minus;extract</b> option.</p>

<p style="margin-left:17%; margin-top: 1em">Warning: All
files in that directory can be removed.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;data&minus;path</b>
amanda|directtcp</p>

<p style="margin-left:17%;">The data path to use with
<b>&minus;&minus;extract</b>, the default is to use the
fatest data path.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;application&minus;property</b>
<i>NAME=VALUE</i></p>

<p style="margin-left:17%;">Application property to send to
the application with <b>&minus;&minus;extract.</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;l</b></p>

<p style="margin-left:17%;">Leave dumps in the
compressed/uncompressed and encrypted/unencrypted state in
which they were found on tape. It is a synonym for
<b>&minus;&minus;no&minus;decompression
&minus;&minus;no&minus;decryption</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;a</b></p>

<p style="margin-left:17%;">Assume that all tapes are
already available, via tape changer or otherwise, instead of
prompting the operator to ensure that all tapes are
loaded.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;n</b></p>

<p style="margin-left:17%;">Do not reassemble split dump
files at all, just restore each piece as an individual
file.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;o</b>
<i>configoption</i></p>

<p style="margin-left:17%;">See the &quot;<b>CONFIGURATION
OVERRIDE</b>&quot; section in <b>amanda</b>(8).</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All the
examples here assume your configuration is called
<i>SetA</i>.</p>

<p style="margin-left:11%; margin-top: 1em">Here's a simple
case, restoring all known dumps of the host vanya to the
current working directory. <br>
$ amfetchdump SetA vanya</p>

<p style="margin-left:11%; margin-top: 1em">A more likely
scenario involves restoring a particular dump from a
particular date. We'll pipe this one to <b>GNU&minus;tar</b>
as well, to automatically extract the dump. <br>
$ amfetchdump &minus;p SetA vanya /home 20051020 | gtar
&minus;xvpf &minus;</p>

<h2>CAVEATS
<a name="CAVEATS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>Amfetchdump</b>
is dependent on accessing your server's config, tape
changer, and (normally) dump logs. As such, it's not
necessarily the most useful tool when those have all been
wiped out and you desperately need to pull things from your
tape. Pains have been taken to make it as capable as
possible, but for seriously minimialist restores, look to
<b>amrestore</b>(8) or <b>dd</b>(8) instead.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>amanda</b>(8),
<b>amanda-match</b>(7), <b>amadmin</b>(8),
<b>amrestore</b>(8)</p>

<p style="margin-left:11%; margin-top: 1em">The Amanda
Wiki: : http://wiki.zmanda.com/</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>John
Stange</b> &lt;building@nap.edu&gt;</p>

<p style="margin-left:17%;">National Academies Press</p>

<p style="margin-left:11%; margin-top: 1em"><b>Ian
Turner</b> &lt;ian@zmanda.com&gt;</p>

<p style="margin-left:17%;">Zmanda, Inc.
(http://www.zmanda.com)</p>
<hr>
</body>
</html>
