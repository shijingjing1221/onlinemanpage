<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 01:02:00 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>LKSH(1) BSD General Commands Manual LKSH(1)</p>

<p style="margin-top: 1em"><b>NAME</b></p>

<p style="margin-left:6%;"><b>lksh</b> &mdash; Legacy Korn
shell built on mksh</p>

<p style="margin-top: 1em"><b>SYNOPSIS</b></p>

<p style="margin-left:13%;"><b>lksh</b>
[<b>&minus;+abCefhiklmnprUuvXx</b>]
[<b>&minus;+o&nbsp;</b><i>opt</i>] [</p>

<p><b>&minus;c</b> <i>string</i> | <b>&minus;s</b> |
<i>file</i> [<i>args&nbsp;...</i>] ]</p>

<p style="margin-top: 1em"><b>DESCRIPTION</b></p>

<p style="margin-left:6%;"><b>lksh</b> is a command
interpreter intended exclusively for running legacy shell
scripts. It is built on <b>mksh</b>; refer to its manual
page for details on the scripting language. It is
recommended to port scripts to <b>mksh</b> instead of
relying on legacy or idiotic POSIX-mandated behaviour, since
the MirBSD Korn Shell scripting language is much more
consistent.</p>

<p style="margin-top: 1em"><b>LEGACY MODE</b></p>

<p style="margin-left:6%;"><b>lksh</b> has the following
differences from <b>mksh</b>:</p>

<p style="margin-top: 1em"><b>&bull;</b></p>

<p style="margin-left:12%;"><b>lksh</b> is not suitable for
use as <i>/bin/sh</i>.</p>

<p style="margin-top: 1em"><b>&bull;</b></p>

<p style="margin-left:12%;">There is no explicit support
for interactive use, nor any command line editing or history
code. Hence, <b>lksh</b> is not suitable as a user&rsquo;s
login shell, either; use <b>mksh</b> instead.</p>

<p style="margin-top: 1em"><b>&bull;</b></p>

<p style="margin-left:12%;">The KSH_VERSION string
identifies <b>lksh</b> as &lsquo;&lsquo;LEGACY
KSH&rsquo;&rsquo; instead of &lsquo;&lsquo;MIRBSD
KSH&rsquo;&rsquo;.</p>

<p style="margin-top: 1em"><b>&bull;</b></p>

<p style="margin-left:12%;"><b>lksh</b> only offers the
traditional ten file descriptors to scripts.</p>

<p style="margin-top: 1em"><b>&bull;</b></p>

<p style="margin-left:12%;"><b>lksh</b> uses POSIX
arithmetics, which has quite a few implications: The data
type for arithmetics is the host ISO C <i>long</i> data
type. Signed integer wraparound is Undefined Behaviour. The
sign of the result of a modulo operation with at least one
negative operand is unspecified. Shift operations on
negative numbers are unspecified. Division of the largest
negative number by &minus;1 is Undefined Behaviour. The
compiler is permitted to delete all data and crash the
system if Undefined Behaviour occurs.</p>

<p style="margin-top: 1em"><b>&bull;</b></p>

<p style="margin-left:12%;">The rotation arithmetic
operators are not available.</p>

<p style="margin-top: 1em"><b>&bull;</b></p>

<p style="margin-left:12%;">The shift arithmetic operators
take all bits of the second operand into account; if they
exceed permitted precision, the result is unspecified.</p>

<p style="margin-top: 1em"><b>&bull;</b></p>

<p style="margin-left:12%;">The GNU <b>bash</b> extension
&amp;&gt; to redirect stdout and stderr in one go is not
parsed.</p>

<p style="margin-top: 1em"><b>&bull;</b></p>

<p style="margin-left:12%;">The <b>mksh</b> command line
option <b>&minus;T</b> is not available.</p>

<p style="margin-top: 1em"><b>&bull;</b></p>

<p style="margin-left:12%;">Unless <b>set -o posix</b> is
active, <b>lksh</b> always uses traditional mode for
constructs like:</p>

<p style="margin-left:19%; margin-top: 1em">$ set --
$(getopt ab:c &quot;$@&quot;) <br>
$ echo $?</p>

<p style="margin-left:12%; margin-top: 1em">POSIX mandates
this to show 0, but traditional mode passes through the
errorlevel from the getopt(1) command.</p>

<p style="margin-top: 1em"><b>&bull;</b></p>

<p style="margin-left:12%;"><b>lksh</b>, unlike AT&amp;T
UNIX <b>ksh</b>, does not keep file descriptors &gt; 2
private.</p>

<p style="margin-top: 1em"><b>SEE ALSO</b></p>

<p style="margin-left:6%;">mksh(1)</p>


<p style="margin-left:6%; margin-top: 1em"><i>https://www.mirbsd.org/mksh.htm</i></p>


<p style="margin-left:6%; margin-top: 1em"><i>https://www.mirbsd.org/ksh&minus;chan.htm</i></p>

<p style="margin-top: 1em"><b>CAVEATS</b></p>

<p style="margin-left:6%;"><b>lksh</b> tries to make a
cross between a legacy bourne/posix compatibl-ish shell and
a legacy pdksh-alike but &lsquo;&lsquo;legacy&rsquo;&rsquo;
is not exactly specified.</p>

<p style="margin-left:6%; margin-top: 1em">The <b>set</b>
built-in command does not have all options one would expect
from a full-blown <b>mksh</b> or <b>pdksh</b>.</p>

<p style="margin-left:6%; margin-top: 1em">Talk to the
MirOS development team using the mailing list at &lang;
miros&minus;mksh@mirbsd.org&rang; or the #!/bin/mksh (or
#ksh) IRC channel at <i>irc.freenode.net</i> (Port 6697 SSL,
6667 unencrypted) if you need any further quirks or
assistance, and consider migrating your legacy scripts to
work with <b>mksh</b> instead of requiring <b>lksh</b>.</p>

<p style="margin-left:6%; margin-top: 1em">MirBSD
May&nbsp;2, 2013 MirBSD</p>
<hr>
</body>
</html>
