<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 01:01:26 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>ledctl</title>

</head>
<body>

<h1 align="center">ledctl</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#FILES">FILES</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#LICENSE">LICENSE</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">ledctl &minus;
Intel(R) LED control application for a storage
enclosures.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>ledctl</b> [
<i><small>OPTIONS</small></i> ]
<i>pattern_name</i>=<i>list_of_devices</i> ...</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The ledctl is
an user space application designed to control LEDs
associated with each slot in an enclosure or a drive bay.
The LEDs of devices listed in <i>list_of_devices</i> are set
to the given pattern <i>pattern_name</i> and all other LEDs
are turned off. User must have root privileges to use this
application.</p>

<p style="margin-left:11%; margin-top: 1em">There are two
types of systems: 2&minus;LEDs systems (Activity
<small>LED,</small> Status <small>LED</small> ) and
3&minus;LEDs systems (Activity <small>LED,</small> Locate
<small>LED,</small> Fail <small>LED</small> ). The ledctl
application uses <small>SGPIO</small> and
<small>SES&minus;2</small> protocol to control LEDs. The
program implements <small>IBPI</small> patterns of
<small>SFF&minus;8489</small> specification for
<small>SGPIO.</small> Please note some enclosures do not
stick close to <small>SFF&minus;8489</small> specification.
It might happen that enclosure&rsquo;s processor will accept
an <small>IBPI</small> pattern but it will blink the LEDs at
variance with <small>SFF&minus;8489</small> specification or
it has limited number of patterns supported.</p>


<p style="margin-left:11%; margin-top: 1em"><small>LED</small>
management ( <small>AHCI</small> ) and SAF-TE protocols are
not supported.</p>

<p style="margin-left:11%; margin-top: 1em">The ledctl
application has been verified to work with Intel(R) storage
controllers (i.e. Intel(R) <small>AHCI</small> controller
and Intel(R) <small>SAS</small> controller). The application
might work with storage controllers of other vendors
(especially <small>SCSI/SAS</small> controllers). However,
storage controllers of other vendors have not been
tested.</p>

<p style="margin-left:11%; margin-top: 1em">The ledmon
application has the highest priority when accessing LEDs. It
means that some patterns set by ledctl may have no effect if
ledmon is running (except Locate pattern).</p>

<p style="margin-left:11%; margin-top: 1em">The ledctl
application is a part of Intel(R) Enclosure
<small>LED</small> Utilities.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Pattern
Names</b> <br>
The ledctl application accepts the following names for
<i>pattern_name</i> argument according to
<small>SFF&minus;8489</small> specification.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>locate</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>Turns Locate <small>LED</small> associated with the
given device(s) or empty slot(s) on.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>locate_off</b></p>

<p style="margin-left:23%;">Turns only Locate
<small>LED</small> off.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>normal</b></p></td>
<td width="3%"></td>
<td width="75%">


<p>Turns Status <small>LED,</small> Failure
<small>LED</small> and Locate <small>LED</small> off.</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>off</b></p></td>
<td width="3%"></td>
<td width="75%">


<p>Turns only Status <small>LED</small> and Failure
<small>LED</small> off.</p></td>
<td width="2%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>ica</b> or
<b>degraded</b></p>

<p style="margin-left:23%;">Visualizes &quot;In a Critical
Array&quot; pattern.</p>

<p style="margin-left:11%;"><b>rebuild</b> or
<b>rebuild_p</b></p>

<p style="margin-left:23%;">Visualizes &quot;Rebuild&quot;
pattern.</p>

<p style="margin-left:11%;"><b>ifa</b> or
<b>failed_array</b></p>

<p style="margin-left:23%;">Visualizes &quot;In a Failed
Array&quot; pattern.</p>

<p style="margin-left:11%;"><b>hotspare</b></p>

<p style="margin-left:23%;">Visualizes &quot;Hotspare&quot;
pattern.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>pfa</b></p></td>
<td width="8%"></td>
<td width="74%">


<p>Visualizes &quot;Predicted Failure Analysis&quot;
pattern.</p> </td>
<td width="3%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>failure</b> or
<b>disk_failed</b></p>

<p style="margin-left:23%;">Visualizes &quot;Failure&quot;
pattern.</p>

<p style="margin-left:11%;"><b>ses_abort</b></p>

<p style="margin-left:23%;"><small>SES&minus;2 R/R
ABORD</small></p>

<p style="margin-left:11%;"><b>ses_rebuild</b></p>

<p style="margin-left:23%;"><small>SES&minus;2
REBUILD/REMAP</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>ses_ifa</b></p></td>
<td width="1%"></td>
<td width="32%">


<p><small>SES&minus;2 IN FAILED ARRAY</small></p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>ses_ica</b></p></td>
<td width="1%"></td>
<td width="32%">


<p><small>SES&minus;2 IN CRIT ARRAY</small></p></td>
<td width="45%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>ses_cons_check</b></p>

<p style="margin-left:23%;"><small>SES&minus;2 CONS
CHECK</small></p>

<p style="margin-left:11%;"><b>ses_hotspare</b></p>

<p style="margin-left:23%;"><small>SES&minus;2 HOT
SPARE</small></p>

<p style="margin-left:11%;"><b>ses_rsvd_dev</b></p>

<p style="margin-left:23%;"><small>SES&minus;2 RSVD
DEVICE</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>ses_ok</b></p></td>
<td width="3%"></td>
<td width="12%">


<p><small>SES&minus;2 OK</small></p></td>
<td width="65%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>ses_ident</b></p>

<p style="margin-left:23%;"><small>SES&minus;2
IDENT</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>ses_rm</b></p></td>
<td width="3%"></td>
<td width="19%">


<p><small>SES&minus;2 REMOVE</small></p></td>
<td width="58%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>ses_insert</b></p>

<p style="margin-left:23%;"><small>SES&minus;2
INSERT</small></p>

<p style="margin-left:11%;"><b>ses_missing</b></p>

<p style="margin-left:23%;"><small>SES&minus;2
MISSING</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>ses_dnr</b></p></td>
<td width="1%"></td>
<td width="29%">


<p><small>SES&minus;2 DO NOT REMOVE</small></p></td>
<td width="48%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>ses_active</b></p>

<p style="margin-left:23%;"><small>SES&minus;2
ACTIVE</small></p>

<p style="margin-left:11%;"><b>ses_enbale_bb</b></p>

<p style="margin-left:23%;"><small>SES&minus;2 ENABLE BYP
B</small></p>

<p style="margin-left:11%;"><b>ses_enable_ba</b></p>

<p style="margin-left:23%;"><small>SES&minus;2 ENABLE BYP
A</small></p>

<p style="margin-left:11%;"><b>ses_devoff</b></p>

<p style="margin-left:23%;"><small>SES&minus;2 DEVICE
OFF</small></p>

<p style="margin-left:11%;"><b>ses_fault</b></p>

<p style="margin-left:23%;"><small>SES&minus;2
FAULT</small></p>

<p style="margin-left:11%; margin-top: 1em"><b>Patterns
Translation</b> <br>
When non <small>SES&minus;2</small> pattern is send to
device in enclosure automatic translation is being done.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>locate</b></p></td>
<td width="3%"></td>
<td width="51%">


<p><i>locate</i> is translated to <i>ses_ident</i></p></td>
<td width="26%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>locate_off</b></p>

<p style="margin-left:23%;"><i>locate_off</i> is translated
to <i>~ses_ident</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>normal</b></p></td>
<td width="3%"></td>
<td width="46%">


<p><i>normal</i> is translated to <i>ses_ok</i></p></td>
<td width="31%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>off</b></p></td>
<td width="3%"></td>
<td width="46%">


<p><i>off</i> is translated to <i>ses_ok</i></p></td>
<td width="31%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>degraded</b></p>

<p style="margin-left:23%;"><i>degraded</i> is translated
to <i>ses_ica</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>rebuild</b></p></td>
<td width="1%"></td>
<td width="55%">


<p><i>rebuild</i> is translated to <i>ses_rebuild</i></p></td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>rebuild_p</b></p>

<p style="margin-left:23%;"><i>rebuild_p</i> is translated
to <i>ses_rebuild</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>failed</b></p></td>
<td width="3%"></td>
<td width="48%">


<p><i>failed</i> is translated to <i>ses_ifa</i></p></td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>hotspare</b></p>

<p style="margin-left:23%;"><i>hotspare</i> is translated
to <i>ses_hotspare</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>pfa</b></p></td>
<td width="1%"></td>
<td width="52%">


<p><i>pfa</i> is translated to <i>ses_rsvd_dev</i></p></td>
<td width="25%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>failure</b></p></td>
<td width="1%"></td>
<td width="52%">


<p><i>failure</i> is translated to <i>ses_fault</i></p></td>
<td width="25%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>disk_failed</b></p>

<p style="margin-left:23%;"><i>disk_failed</i> is
translated to <i>ses_fault</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>List of
Devices</b> <br>
The application accepts a list of devices in two formats.
The first format is a list with comma separated elements.
The second format is a&nbsp;list in curly braces and
elements are separated by space. See examples section bellow
for details.</p>

<p style="margin-left:11%; margin-top: 1em">A device is a
path to file in /dev directory or in /sys/block directory.
It may identify a block device, a <small>RAID</small> device
or a container device. In case of a <small>RAID</small>
device or a container device a state will be set for all
block devices associated, respectively.</p>

<p style="margin-left:11%; margin-top: 1em">The LEDs of
devices listed in <i>list_of_devices</i> are set to the
given pattern <i>pattern_name</i> and all other LEDs are
turned off.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;c</b>
or <b>&minus;&minus;config</b>=<i>path</i></p>

<p style="margin-left:23%;">Sets a path to local
configuration file. If this option is specified the global
configuration file and user configuration file has no
effect.</p>

<p style="margin-left:11%;"><b>&minus;l</b> or
<b>&minus;&minus;log</b>=<i>path</i></p>

<p style="margin-left:23%;">Sets a path to local log file.
If this option is specified the global log file
<i>/var/log/ledctl.log</i> is not used.</p>

<p style="margin-left:11%;"><b>&minus;h</b> or
<b>&minus;&minus;help</b></p>

<p style="margin-left:23%;">Prints this text out and
exits.</p>

<p style="margin-left:11%;"><b>&minus;v</b> or
<b>&minus;&minus;version</b></p>

<p style="margin-left:23%;">Displays version of ledctl and
information about the license and exits.</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>/var/log/ledctl.log</i></p>

<p style="margin-left:23%;">Global log file, used by all
instances of ledctl application. To force logging to user
defined file use <i>&minus;l</i> option switch.</p>

<p style="margin-left:11%;"><i>~/.ledctl</i></p>

<p style="margin-left:23%;">User configuration file, shared
between ledmon and all ledctl application instances.</p>

<p style="margin-left:11%;"><i>/etc/ledcfg.conf</i></p>

<p style="margin-left:23%;">Global configuration file,
shared between ledmon and all ledctl application
instances.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
example illustrates how to locate a single block device.</p>

<pre style="margin-left:11%; margin-top: 1em">    ledctl locate=/dev/sda</pre>


<p style="margin-left:11%; margin-top: 1em">The following
example illustrates how to turn Locate <small>LED</small>
off for the same block device.</p>

<pre style="margin-left:11%; margin-top: 1em">    ledctl locate_off=/dev/sda</pre>


<p style="margin-left:11%; margin-top: 1em">The following
example illustrates how to locate disks of a
<small>RAID</small> device and how to set rebuild pattern
for two block devices at the same time. This example uses
both formats of device list.</p>

<pre style="margin-left:11%; margin-top: 1em">     ledctl locate=/dev/md127 rebuild={ /sys/block/sd[a&minus;b] }</pre>


<p style="margin-left:11%; margin-top: 1em">The following
example illustrates how to turn Status <small>LED</small>
and Failure <small>LED</small> off for the given
device(s).</p>

<pre style="margin-left:11%; margin-top: 1em">     ledctl off={ /dev/sda /dev/sdb }</pre>


<p style="margin-left:11%; margin-top: 1em">The following
example illustrates how to locate a three block devices.
This example uses the first format of device list.</p>

<pre style="margin-left:11%; margin-top: 1em">     ledctl locate=/dev/sda,/dev/sdb,/dev/sdc</pre>


<h2>LICENSE
<a name="LICENSE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright (c)
2009&minus;2013 Intel Corporation.</p>

<p style="margin-left:11%; margin-top: 1em">This program is
distributed under the terms of the <small>GNU</small>
General Public License as published by the Free Software
Foundation. See the built-in help for details on the License
and the lack of warranty.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>ledmon</i>(8),
<i>ledctl.conf</i>(5)</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This manual
page was written by Artur Wojcik
&lt;artur.wojcik@intel.com&gt;. It may be used by
others.</p>
<hr>
</body>
</html>
