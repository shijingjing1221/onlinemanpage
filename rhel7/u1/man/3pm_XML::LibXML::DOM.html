<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 01:51:33 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>XML::LibXML::DOM</title>

</head>
<body>

<h1 align="center">XML::LibXML::DOM</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#VERSION">VERSION</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">XML::LibXML::DOM
&minus; XML::LibXML DOM Implementation</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">XML::LibXML
provides an light-wight interface to <i>modify</i> a node of
the document tree generated by the XML::LibXML parser. This
interface follows as far as possible the <small>DOM</small>
Level 3 specification. Additionally to the specified
functions the XML::LibXML supports some functions that are
more handy to use in the perl environment.</p>

<p style="margin-left:11%; margin-top: 1em">One also has to
remember, that XML::LibXML is an interface to libxml2 nodes
which actually reside on the C&minus;Level of XML::LibXML.
This means each node is a reference to a structure different
than a perl hash or array. The only way to access these
structure&rsquo;s values is through the <small>DOM</small>
interface provided by XML::LibXML. This also means, that one
<i>can&rsquo;t</i> simply inherit an XML::LibXML node and
add new member variables as they were hash keys.</p>

<p style="margin-left:11%; margin-top: 1em">The
<small>DOM</small> interface of XML::LibXML does not intend
to implement a full <small>DOM</small> interface as it is
done by <small>XML::GDOME</small> and used for full featured
application. Moreover, it offers an simple way to build or
modify documents that are created by XML::LibXML&rsquo;s
parser.</p>

<p style="margin-left:11%; margin-top: 1em">Another target
of the XML::LibXML interface is to make the interfaces of
libxml2 available to the perl community. This includes also
some workarounds to some features where libxml2 assumes more
control over the C&minus;Level that most perl users
don&rsquo;t have.</p>

<p style="margin-left:11%; margin-top: 1em">One of the most
important parts of the XML::LibXML <small>DOM</small>
interface is, that the interfaces try do follow the
<small>DOM</small> Level 3 specification
(&lt;http://www.w3.org/TR/DOM&minus;Level&minus;3&minus;Core/&gt;)
rather strictly. This means the interface functions are
named as the <small>DOM</small> specification says and not
what widespread Java interfaces claim to be standard.
Although there are several functions that have only a
singular interface that conforms to the <small>DOM</small>
spec XML::LibXML provides an additional Java style alias
interface.</p>

<p style="margin-left:11%; margin-top: 1em">Also there are
some function interfaces left over from early stages of
XML::LibXML for compatibility reasons. These interfaces are
for compatibility reasons <i>only</i>. They might disappear
in one of the future versions of XML::LibXML, so a user is
requested to switch over to the official functions.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Encodings
and XML::LibXML&rsquo;s <small>DOM</small>
implementation</b> <br>
See the section on Encodings in the <i>XML::LibXML</i>
manual page.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Namespaces
and XML::LibXML&rsquo;s <small>DOM</small>
implementation</b> <br>
XML::LibXML&rsquo;s <small>DOM</small> implementation is
limited by the <small>DOM</small> implementation of libxml2
which treats namespaces slightly differently than required
by the <small>DOM</small> Level 2 specification.</p>

<p style="margin-left:11%; margin-top: 1em">According to
the <small>DOM</small> Level 2 specification, namespaces of
elements and attributes should be persistent, and nodes
should be permanently bound to namespace URIs as they get
created; it should be possible to manipulate the special
attributes used for declaring <small>XML</small> namespaces
just as other attributes without affecting the namespaces of
other nodes. In <small>DOM</small> Level 2, the application
is responsible for creating the special attributes
consistently and/or for correct serialization of the
document.</p>

<p style="margin-left:11%; margin-top: 1em">This is both
inconvenient, causes problems in serialization of
<small>DOM</small> to <small>XML,</small> and most
importantly, seems almost impossible to implement over
libxml2.</p>

<p style="margin-left:11%; margin-top: 1em">In libxml2,
namespace <small>URI</small> and prefix of a node is
provided by a pointer to a namespace declaration (appearing
as a special xmlns attribute in the <small>XML</small>
document). If the prefix or namespace <small>URI</small> of
the declaration changes, the prefix and namespace
<small>URI</small> of all nodes that point to it changes as
well. Moreover, in contrast to <small>DOM,</small> a node
(element or attribute) can only be bound to a namespace
<small>URI</small> if there is some namespace declaration in
the document to point to.</p>

<p style="margin-left:11%; margin-top: 1em">Therefore
current <small>DOM</small> implementation in XML::LibXML
tries to treat namespace declarations in a compromise
between reason, common sense, limitations of libxml2, and
the <small>DOM</small> Level 2 specification.</p>

<p style="margin-left:11%; margin-top: 1em">In XML::LibXML,
special attributes declaring <small>XML</small> namespaces
are often created automatically, usually when a namespaced
node is attached to a document and no existing declaration
of the namespace and prefix is in the scope to be reused. In
this respect, XML::LibXML <small>DOM</small> implementation
differs from the <small>DOM</small> Level 2 specification
according to which special attributes for declaring the
appropriate <small>XML</small> namespaces should not be
added when a node with a namespace prefix and namespace
<small>URI</small> is created.</p>

<p style="margin-left:11%; margin-top: 1em">Namespace
declarations are also created when
XML::LibXML::Document&rsquo;s <i>createElementNS()</i> or
<i>createAttributeNS()</i> function are used. If the a
namespace is not declared on the documentElement, the
namespace will be locally declared for the newly created
node. In case of Attributes this may look a bit confusing,
since these nodes cannot have namespace declarations itself.
In this case the namespace is internally applied to the
attribute and later declared on the node the attribute is
appended to (if required).</p>

<p style="margin-left:11%; margin-top: 1em">The following
example may explain this a bit:</p>

<pre style="margin-left:11%; margin-top: 1em">  my $doc = XML::LibXML&minus;&gt;createDocument;
  my $root = $doc&minus;&gt;createElementNS( &quot;&quot;, &quot;foo&quot; );
  $doc&minus;&gt;setDocumentElement( $root );
  my $attr = $doc&minus;&gt;createAttributeNS( &quot;bar&quot;, &quot;bar:foo&quot;, &quot;test&quot; );
  $root&minus;&gt;setAttributeNodeNS( $attr );</pre>


<p style="margin-left:11%; margin-top: 1em">This piece of
code will result in the following document:</p>

<pre style="margin-left:11%; margin-top: 1em">  &lt;?xml version=&quot;1.0&quot;?&gt;
  &lt;foo xmlns:bar=&quot;bar&quot; bar:foo=&quot;test&quot;/&gt;</pre>


<p style="margin-left:11%; margin-top: 1em">The namespace
is declared on the document element during the
<i>setAttributeNodeNS()</i> call.</p>

<p style="margin-left:11%; margin-top: 1em">Namespaces can
be also declared explicitly by the use of
XML::LibXML::Element&rsquo;s <i>setNamespace()</i> function.
Since 1.61, they can also be manipulated with functions
<i>setNamespaceDeclPrefix()</i> and
<i>setNamespaceDeclURI()</i> (not available in
<small>DOM</small> ). Changing an <small>URI</small> or
prefix of an existing namespace declaration affects the
namespace <small>URI</small> and prefix of all nodes which
point to it (that is the nodes in its scope).</p>

<p style="margin-left:11%; margin-top: 1em">It is also
important to repeat the specification: While working with
namespaces you should use the namespace aware functions
instead of the simplified versions. For example you should
<i>never</i> use <i>setAttribute()</i> but
<i>setAttributeNS()</i>.</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Matt Sergeant,
Christian Glahn, Petr Pajas</p>

<h2>VERSION
<a name="VERSION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">2.0018</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">2001&minus;2007,
AxKit.com Ltd.</p>


<p style="margin-left:11%; margin-top: 1em">2002&minus;2006,
Christian Glahn.</p>


<p style="margin-left:11%; margin-top: 1em">2006&minus;2009,
Petr Pajas.</p>
<hr>
</body>
</html>
