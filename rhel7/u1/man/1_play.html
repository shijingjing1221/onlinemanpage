<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 00:18:41 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SoX</title>

</head>
<body>

<h1 align="center">SoX</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#FILENAMES">FILENAMES</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EFFECTS">EFFECTS</a><br>
<a href="#DIAGNOSTICS">DIAGNOSTICS</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#LICENSE">LICENSE</a><br>
<a href="#AUTHORS">AUTHORS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">SoX &minus;
Sound eXchange, the Swiss Army knife of audio
manipulation</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>sox</b>
[<i>global-options</i>] [<i>format-options</i>]
<i>infile1</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>[[<i>format-options</i>] <i>infile2</i>] ...
[<i>format-options</i>] <i>outfile</i></p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>[<i>effect</i> [<i>effect-options</i>]] ...</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>play</b>
[<i>global-options</i>] [<i>format-options</i>]
<i>infile1</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>[[<i>format-options</i>] <i>infile2</i>] ...
[<i>format-options</i>]</p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>[<i>effect</i> [<i>effect-options</i>]] ...</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>rec</b>
[<i>global-options</i>] [<i>format-options</i>]
<i>outfile</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>[<i>effect</i> [<i>effect-options</i>]] ...</p></td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>Introduction</b>
<br>
SoX reads and writes audio files in most popular formats and
can optionally apply effects to them. It can combine
multiple input sources, synthesise audio, and, on many
systems, act as a general purpose audio player or a
multi-track audio recorder. It also has limited ability to
split the input into multiple output files.</p>

<p style="margin-left:11%; margin-top: 1em">All SoX
functionality is available using just the <b>sox</b>
command. To simplify playing and recording audio, if SoX is
invoked as <b>play</b>, the output file is automatically set
to be the default sound device, and if invoked as
<b>rec</b>, the default sound device is used as an input
source. Additionally, the <b>soxi</b>(1) command provides a
convenient way to just query audio file header
information.</p>

<p style="margin-left:11%; margin-top: 1em">The heart of
SoX is a library called libSoX. Those interested in
extending SoX or using it in other programs should refer to
the libSoX manual page: <b>libsox</b>(3).</p>

<p style="margin-left:11%; margin-top: 1em">SoX is a
command-line audio processing tool, particularly suited to
making quick, simple edits and to batch processing. If you
need an interactive, graphical audio editor, use
<b>audacity</b>(1).</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-326771.png" alt="Image grohtml-326771.png"></p>

<p style="margin-left:11%; margin-top: 1em">The overall SoX
processing chain can be summarised as follows:</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-326772.png" alt="Image grohtml-326772.png"></p>

<p style="margin-left:11%; margin-top: 1em">Note however,
that on the SoX command line, the positions of the Output(s)
and the Effects are swapped w.r.t. the logical flow just
shown. Note also that whilst options pertaining to files are
placed before their respective file name, the opposite is
true for effects. To show how this works in practice, here
is a selection of examples of how SoX might be used. The
simple</p>

<pre style="margin-left:11%;">   sox recital.au recital.wav</pre>


<p style="margin-left:11%;">translates an audio file in Sun
AU format to a Microsoft WAV file, whilst</p>

<pre style="margin-left:11%;">   sox recital.au &minus;b 16 recital.wav channels 1 rate 16k fade 3 norm</pre>


<p style="margin-left:11%;">performs the same format
translation, but also applies four effects (down-mix to one
channel, sample rate change, fade-in, nomalize), and stores
the result at a bit-depth of 16.</p>

<pre style="margin-left:11%;">   sox &minus;r 16k &minus;e signed &minus;b 8 &minus;c 1 voice-memo.raw voice-memo.wav</pre>


<p style="margin-left:11%;">converts &lsquo;raw&rsquo;
(a.k.a. &lsquo;headerless&rsquo;) audio to a self-describing
file format,</p>

<pre style="margin-left:11%;">   sox slow.aiff fixed.aiff speed 1.027</pre>


<p style="margin-left:11%;">adjusts audio speed,</p>

<pre style="margin-left:11%;">   sox short.wav long.wav longer.wav</pre>


<p style="margin-left:11%;">concatenates two audio files,
and</p>

<pre style="margin-left:11%;">   sox &minus;m music.mp3 voice.wav mixed.flac</pre>


<p style="margin-left:11%;">mixes together two audio
files.</p>

<pre style="margin-left:11%;">   play &quot;The Moonbeams/Greatest/*.ogg&quot; bass +3</pre>


<p style="margin-left:11%;">plays a collection of audio
files whilst applying a bass boosting effect,</p>

<pre style="margin-left:11%;">   play &minus;n &minus;c1 synth sin %&minus;12 sin %&minus;9 sin %&minus;5 sin %&minus;2 fade h 0.1 1 0.1</pre>


<p style="margin-left:11%;">plays a synthesised &lsquo;A
minor seventh&rsquo; chord with a pipe-organ sound,</p>

<pre style="margin-left:11%;">   rec &minus;c 2 radio.aiff trim 0 30:00</pre>


<p style="margin-left:11%;">records half an hour of stereo
audio, and</p>

<pre style="margin-left:11%;">   play &minus;q take1.aiff &amp; rec &minus;M take1.aiff take1&minus;dub.aiff</pre>


<p style="margin-left:11%;">(with POSIX shell and where
supported by hardware) records a new track in a multi-track
recording. Finally,</p>

<pre style="margin-left:11%;">   rec &minus;r 44100 &minus;b 16 &minus;s &minus;p silence 1 0.50 0.1% 1 10:00 0.1% | \
     sox &minus;p song.ogg silence 1 0.50 0.1% 1 2.0 0.1% : \
     newfile : restart</pre>


<p style="margin-left:11%;">records a stream of audio such
as LP/cassette and splits in to multiple audio files at
points with 2 seconds of silence. Also, it does not start
recording until it detects audio is playing and stops after
it sees 10 minutes of silence.</p>

<p style="margin-left:11%; margin-top: 1em">N.B. The above
is just an overview of SoX&rsquo;s capabilities; detailed
explanations of how to use <i>all</i> SoX parameters, file
formats, and effects can be found below in this manual, in
<b>soxformat</b>(7), and in <b>soxi</b>(1).</p>

<p style="margin-left:11%; margin-top: 1em"><b>File Format
Types</b> <br>
SoX can work with &lsquo;self-describing&rsquo; and
&lsquo;raw&rsquo; audio files. &lsquo;self-describing&rsquo;
formats (e.g. WAV, FLAC, MP3) have a header that completely
describes the signal and encoding attributes of the audio
data that follows. &lsquo;raw&rsquo; or
&lsquo;headerless&rsquo; formats do not contain this
information, so the audio characteristics of these must be
described on the SoX command line or inferred from those of
the input file.</p>

<p style="margin-left:11%; margin-top: 1em">The following
four characteristics are used to describe the format of
audio data such that it can be processed with SoX: <br>
sample rate</p>

<p style="margin-left:22%;">The sample rate in samples per
second (&lsquo;Hertz&rsquo; or &lsquo;Hz&rsquo;). Digital
telephony traditionally uses a sample rate of 8000&nbsp;Hz
(8&nbsp;kHz), though these days, 16 and even 32&nbsp;kHz are
becoming more common. Audio Compact Discs use 44100&nbsp;Hz
(44.1&nbsp;kHz). Digital Audio Tape and many computer
systems use 48&nbsp;kHz. Professional audio systems often
use 96 kHz.</p>

<p style="margin-left:11%;">sample size</p>

<p style="margin-left:22%;">The number of bits used to
store each sample. Today, 16-bit is commonly used. 8-bit was
popular in the early days of computer audio. 24-bit is used
in the professional audio arena. Other sizes are also
used.</p>

<p style="margin-left:11%;">data encoding</p>

<p style="margin-left:22%;">The way in which each audio
sample is represented (or &lsquo;encoded&rsquo;). Some
encodings have variants with different byte-orderings or
bit-orderings. Some compress the audio data so that the
stored audio data takes up less space (i.e. disk space or
transmission bandwidth) than the other format parameters and
the number of samples would imply. Commonly-used encoding
types include floating-point, &mu;-law, ADPCM,
signed-integer PCM, MP3, and FLAC.</p>

<p style="margin-left:11%;">channels</p>

<p style="margin-left:22%;">The number of audio channels
contained in the file. One (&lsquo;mono&rsquo;) and two
(&lsquo;stereo&rsquo;) are widely used. &lsquo;Surround
sound&rsquo; audio typically contains six or more
channels.</p>

<p style="margin-left:11%; margin-top: 1em">The term
&lsquo;bit-rate&rsquo; is a measure of the amount of storage
occupied by an encoded audio signal over a unit of time. It
can depend on all of the above and is typically denoted as a
number of kilo-bits per second (kbps). An A-law telephony
signal has a bit-rate of 64 kbps. MP3-encoded stereo music
typically has a bit-rate of 128&minus;196 kbps. FLAC-encoded
stereo music typically has a bit-rate of 550&minus;760
kbps.</p>

<p style="margin-left:11%; margin-top: 1em">Most
self-describing formats also allow textual
&lsquo;comments&rsquo; to be embedded in the file that can
be used to describe the audio in some way, e.g. for music,
the title, the author, etc.</p>

<p style="margin-left:11%; margin-top: 1em">One important
use of audio file comments is to convey &lsquo;Replay
Gain&rsquo; information. SoX supports applying Replay Gain
information, but not generating it. Note that by default,
SoX copies input file comments to output files that support
comments, so output files may contain Replay Gain
information if some was present in the input file. In this
case, if anything other than a simple format conversion was
performed then the output file Replay Gain information is
likely to be incorrect and so should be recalculated using a
tool that supports this (not SoX).</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>soxi</b>(1) command can be used to display information
from audio file headers.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Determining
&amp; Setting The File Format</b> <br>
There are several mechanisms available for SoX to use to
determine or set the format characteristics of an audio
file. Depending on the circumstances, individual
characteristics may be determined or set using different
mechanisms.</p>

<p style="margin-left:11%; margin-top: 1em">To determine
the format of an input file, SoX will use, in order of
precedence and as given or available:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>1.</p></td>
<td width="3%"></td>
<td width="49%">


<p>Command-line format options.</p></td>
<td width="34%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>2.</p></td>
<td width="3%"></td>
<td width="49%">


<p>The contents of the file header.</p></td>
<td width="34%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>3.</p></td>
<td width="3%"></td>
<td width="49%">


<p>The filename extension.</p></td>
<td width="34%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">To set the
output file format, SoX will use, in order of precedence and
as given or available:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em">1.</p></td>
<td width="3%"></td>
<td width="83%">


<p style="margin-top: 1em">Command-line format options.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>2.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The filename extension.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>3.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The input file format characteristics, or the closest
that is supported by the output file type.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">For all files,
SoX will exit with an error if the file type cannot be
determined. Command-line format options may need to be added
or changed to resolve the problem.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Playing
&amp; Recording Audio</b> <br>
The <b>play</b> and <b>rec</b> commands are provided so that
basic playing and recording is as simple as</p>

<pre style="margin-left:11%;">   play existing-file.wav</pre>


<p style="margin-left:11%;">and</p>
<pre style="margin-left:11%;">   rec new-file.wav</pre>

<p style="margin-left:11%;">These two commands are
functionally equivalent to</p>

<pre style="margin-left:11%;">   sox existing-file.wav &minus;d</pre>


<p style="margin-left:11%;">and</p>

<pre style="margin-left:11%;">   sox &minus;d new-file.wav</pre>


<p style="margin-left:11%;">Of course, further options and
effects (as described below) can be added to the commands in
either form.</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-326773.png" alt="Image grohtml-326773.png"></p>

<p style="margin-left:11%; margin-top: 1em">Some systems
provide more than one type of (SoX-compatible) audio driver,
e.g. ALSA &amp; OSS, or SUNAU &amp; AO. Systems can also
have more than one audio device (a.k.a. &lsquo;sound
card&rsquo;). If more than one audio driver has been
built-in to SoX, and the default selected by SoX when
recording or playing is not the one that is wanted, then the
<b>AUDIODRIVER</b> environment variable can be used to
override the default. For example (on many systems):</p>

<pre style="margin-left:11%;">   set AUDIODRIVER=oss
   play ...</pre>


<p style="margin-left:11%;">The <b>AUDIODEV</b> environment
variable can be used to override the default audio device,
e.g.</p>

<pre style="margin-left:11%;">   set AUDIODEV=/dev/dsp2
   play ...
   sox ... &minus;t oss</pre>


<p style="margin-left:11%;">or</p>

<pre style="margin-left:11%;">   set AUDIODEV=hw:soundwave,1,2
   play ...
   sox ... &minus;t alsa</pre>


<p style="margin-left:11%;">Note that the way of setting
environment variables varies from system to system - for
some specific examples, see &lsquo;SOX_OPTS&rsquo;
below.</p>

<p style="margin-left:11%; margin-top: 1em">When playing a
file with a sample rate that is not supported by the audio
output device, SoX will automatically invoke the <b>rate</b>
effect to perform the necessary sample rate conversion. For
compatibility with old hardware, the default <b>rate</b>
quality level is set to &lsquo;low&rsquo;. This can be
changed by explicitly specifying the <b>rate</b> effect with
a different quality level, e.g.</p>

<pre style="margin-left:11%;">   play ... rate &minus;m</pre>


<p style="margin-left:11%;">or by using the
<b>&minus;&minus;play&minus;rate&minus;arg</b> option (see
below).</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-326774.png" alt="Image grohtml-326774.png"></p>

<p style="margin-left:11%; margin-top: 1em">On some
systems, SoX allows audio playback volume to be adjusted
whilst using <b>play</b>. Where supported, this is achieved
by tapping the &lsquo;v&rsquo; &amp; &lsquo;V&rsquo; keys
during playback.</p>

<p style="margin-left:11%; margin-top: 1em">To help with
setting a suitable recording level, SoX includes a
peak-level meter which can be invoked (before making the
actual recording) as follows:</p>
<pre style="margin-left:11%;">   rec &minus;n</pre>

<p style="margin-left:11%;">The recording level should be
adjusted (using the system-provided mixer program, not SoX)
so that the meter is <i>at most occasionally</i> full scale,
and never &lsquo;in the red&rsquo; (an exclamation mark is
shown). See also <b>&minus;S</b> below.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Accuracy</b>
<br>
Many file formats that compress audio discard some of the
audio signal information whilst doing so. Converting to such
a format and then converting back again will not produce an
exact copy of the original audio. This is the case for many
formats used in telephony (e.g. A-law, GSM) where low signal
bandwidth is more important than high audio fidelity, and
for many formats used in portable music players (e.g. MP3,
Vorbis) where adequate fidelity can be retained even with
the large compression ratios that are needed to make
portable players practical.</p>

<p style="margin-left:11%; margin-top: 1em">Formats that
discard audio signal information are called
&lsquo;lossy&rsquo;. Formats that do not are called
&lsquo;lossless&rsquo;. The term &lsquo;quality&rsquo; is
used as a measure of how closely the original audio signal
can be reproduced when using a lossy format.</p>

<p style="margin-left:11%; margin-top: 1em">Audio file
conversion with SoX is lossless when it can be, i.e. when
not using lossy compression, when not reducing the sampling
rate or number of channels, and when the number of bits used
in the destination format is not less than in the source
format. E.g. converting from an 8-bit PCM format to a 16-bit
PCM format is lossless but converting from an 8-bit PCM
format to (8-bit) A-law isn&rsquo;t.</p>

<p style="margin-left:11%; margin-top: 1em"><b>N.B.</b> SoX
converts all audio files to an internal uncompressed format
before performing any audio processing. This means that
manipulating a file that is stored in a lossy format can
cause further losses in audio fidelity. E.g. with</p>

<pre style="margin-left:11%;">   sox long.mp3 short.mp3 trim 10</pre>


<p style="margin-left:11%;">SoX first decompresses the
input MP3 file, then applies the <b>trim</b> effect, and
finally creates the output MP3 file by re-compressing the
audio - with a possible reduction in fidelity above that
which occurred when the input file was created. Hence, if
what is ultimately desired is lossily compressed audio, it
is highly recommended to perform all audio processing using
lossless file formats and then convert to the lossy format
only at the final stage.</p>

<p style="margin-left:11%; margin-top: 1em"><b>N.B.</b>
Applying multiple effects with a single SoX invocation will,
in general, produce more accurate results than those
produced using multiple SoX invocations.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Dithering</b>
<br>
Dithering is a technique used to maximise the dynamic range
of audio stored at a particular bit-depth. Any distortion
introduced by quantisation is decorrelated by adding a small
amount of white noise to the signal. In most cases, SoX can
determine whether the selected processing requires dither
and will add it during output formatting if appropriate.</p>

<p style="margin-left:11%; margin-top: 1em">Specifically,
by default, SoX automatically adds TPDF dither when the
output bit-depth is less than 24 and any of the following
are true:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">bit-depth reduction has been
specified explicitly using a command-line option</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>the output file format supports only bit-depths lower
than that of the input file format</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>an effect has increased effective bit-depth within the
internal processing chain</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">For example,
adjusting volume with <b>vol 0.25</b> requires two
additional bits in which to losslessly store its results
(since 0.25 decimal equals 0.01 binary). So if the input
file bit-depth is 16, then SoX&rsquo;s internal
representation will utilise 18 bits after processing this
volume change. In order to store the output at the same
depth as the input, dithering is used to remove the
additional bits.</p>

<p style="margin-left:11%; margin-top: 1em">Use the
<b>&minus;V</b> option to see what processing SoX has
automatically added. The <b>&minus;D</b> option may be given
to override automatic dithering. To invoke dithering
manually (e.g. to select a noise-shaping curve), see the
<b>dither</b> effect.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Clipping</b>
<br>
Clipping is distortion that occurs when an audio signal
level (or &lsquo;volume&rsquo;) exceeds the range of the
chosen representation. In most cases, clipping is
undesirable and so should be corrected by adjusting the
level prior to the point (in the processing chain) at which
it occurs.</p>

<p style="margin-left:11%; margin-top: 1em">In SoX,
clipping could occur, as you might expect, when using the
<b>vol</b> or <b>gain</b> effects to increase the audio
volume. Clipping could also occur with many other effects,
when converting one format to another, and even when simply
playing the audio.</p>

<p style="margin-left:11%; margin-top: 1em">Playing an
audio file often involves resampling, and processing by
analogue components can introduce a small DC offset and/or
amplification, all of which can produce distortion if the
audio signal level was initially too close to the clipping
point.</p>

<p style="margin-left:11%; margin-top: 1em">For these
reasons, it is usual to make sure that an audio file&rsquo;s
signal level has some &lsquo;headroom&rsquo;, i.e. it does
not exceed a particular level below the maximum possible
level for the given representation. Some standards bodies
recommend as much as 9dB headroom, but in most cases, 3dB
(&asymp; 70% linear) is enough. Note that this wisdom seems
to have been lost in modern music production; in fact, many
CDs, MP3s, etc. are now mastered at levels <i>above</i>
0dBFS i.e. the audio is clipped as delivered.</p>

<p style="margin-left:11%; margin-top: 1em">SoX&rsquo;s
<b>stat</b> and <b>stats</b> effects can assist in
determining the signal level in an audio file. The
<b>gain</b> or <b>vol</b> effect can be used to prevent
clipping, e.g.</p>

<pre style="margin-left:11%;">   sox dull.wav bright.wav gain &minus;6 treble +6</pre>


<p style="margin-left:11%;">guarantees that the treble
boost will not clip.</p>

<p style="margin-left:11%; margin-top: 1em">If clipping
occurs at any point during processing, SoX will display a
warning message to that effect.</p>

<p style="margin-left:11%; margin-top: 1em">See also
<b>&minus;G</b> and the <b>gain</b> and <b>norm</b>
effects.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Input File
Combining</b> <br>
SoX&rsquo;s input combiner can be configured (see OPTIONS
below) to combine multiple files using any of the following
methods: &lsquo;concatenate&rsquo;, &lsquo;sequence&rsquo;,
&lsquo;mix&rsquo;, &lsquo;mix-power&rsquo;,
&lsquo;merge&rsquo;, or &lsquo;multiply&rsquo;. The default
method is &lsquo;sequence&rsquo; for <b>play</b>, and
&lsquo;concatenate&rsquo; for <b>rec</b> and <b>sox</b>.</p>

<p style="margin-left:11%; margin-top: 1em">For all methods
other than &lsquo;sequence&rsquo;, multiple input files must
have the same sampling rate. If necessary, separate SoX
invocations can be used to make sampling rate adjustments
prior to combining.</p>

<p style="margin-left:11%; margin-top: 1em">If the
&lsquo;concatenate&rsquo; combining method is selected
(usually, this will be by default) then the input files must
also have the same number of channels. The audio from each
input will be concatenated in the order given to form the
output file.</p>

<p style="margin-left:11%; margin-top: 1em">The
&lsquo;sequence&rsquo; combining method is selected
automatically for <b>play</b>. It is similar to
&lsquo;concatenate&rsquo; in that the audio from each input
file is sent serially to the output file. However, here the
output file may be closed and reopened at the corresponding
transition between input files. This may be just what is
needed when sending different types of audio to an output
device, but is not generally useful when the output is a
normal file.</p>

<p style="margin-left:11%; margin-top: 1em">If either the
&lsquo;mix&rsquo; or &lsquo;mix-power&rsquo; combining
method is selected then two or more input files must be
given and will be mixed together to form the output file.
The number of channels in each input file need not be the
same, but SoX will issue a warning if they are not and some
channels in the output file will not contain audio from
every input file. A mixed audio file cannot be un-mixed
without reference to the original input files.</p>

<p style="margin-left:11%; margin-top: 1em">If the
&lsquo;merge&rsquo; combining method is selected then two or
more input files must be given and will be merged together
to form the output file. The number of channels in each
input file need not be the same. A merged audio file
comprises all of the channels from all of the input files.
Un-merging is possible using multiple invocations of SoX
with the <b>remix</b> effect. For example, two mono files
could be merged to form one stereo file. The first and
second mono files would become the left and right channels
of the stereo file.</p>

<p style="margin-left:11%; margin-top: 1em">The
&lsquo;multiply&rsquo; combining method multiplies the
sample values of corresponding channels (treated as numbers
in the interval &minus;1 to +1). If the number of channels
in the input files is not the same, the missing channels are
considered to contain all zero.</p>

<p style="margin-left:11%; margin-top: 1em">When combining
input files, SoX applies any specified effects (including,
for example, the <b>vol</b> volume adjustment effect) after
the audio has been combined. However, it is often useful to
be able to set the volume of (i.e. &lsquo;balance&rsquo;)
the inputs individually, before combining takes place.</p>

<p style="margin-left:11%; margin-top: 1em">For all
combining methods, input file volume adjustments can be made
manually using the <b>&minus;v</b> option (below) which can
be given for one or more input files. If it is given for
only some of the input files then the others receive no
volume adjustment. In some circumstances, automatic volume
adjustments may be applied (see below).</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>&minus;V</b> option (below) can be used to show the input
file volume adjustments that have been selected (either
manually or automatically).</p>

<p style="margin-left:11%; margin-top: 1em">There are some
special considerations that need to made when mixing input
files:</p>

<p style="margin-left:11%; margin-top: 1em">Unlike the
other methods, &lsquo;mix&rsquo; combining has the potential
to cause clipping in the combiner if no balancing is
performed. In this case, if manual volume adjustments are
not given, SoX will try to ensure that clipping does not
occur by automatically adjusting the volume (amplitude) of
each input signal by a factor of &sup1;/ <small>n</small> ,
where n is the number of input files. If this results in
audio that is too quiet or otherwise unbalanced then the
input file volumes can be set manually as described above.
Using the <b>norm</b> effect on the mix is another
alternative.</p>

<p style="margin-left:11%; margin-top: 1em">If mixed audio
seems loud enough at some points but too quiet in others
then dynamic range compression should be applied to correct
this - see the <b>compand</b> effect.</p>

<p style="margin-left:11%; margin-top: 1em">With the
&lsquo;mix-power&rsquo; combine method, the mixed volume is
approximately equal to that of one of the input signals.
This is achieved by balancing using a factor of &sup1;/
<small>&radic;n</small> instead of &sup1;/ <small>n</small>
. Note that this balancing factor does not guarantee that
clipping will not occur, but the number of clips will
usually be low and the resultant distortion is generally
imperceptible.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Output
Files</b> <br>
SoX&rsquo;s default behaviour is to take one or more input
files and write them to a single output file.</p>

<p style="margin-left:11%; margin-top: 1em">This behaviour
can be changed by specifying the pseudo-effect
&lsquo;newfile&rsquo; within the effects list. SoX will then
enter multiple output mode.</p>

<p style="margin-left:11%; margin-top: 1em">In multiple
output mode, a new file is created when the effects prior to
the &lsquo;newfile&rsquo; indicate they are done. The
effects chain listed after &lsquo;newfile&rsquo; is then
started up and its output is saved to the new file.</p>

<p style="margin-left:11%; margin-top: 1em">In multiple
output mode, a unique number will automatically be appended
to the end of all filenames. If the filename has an
extension then the number is inserted before the extension.
This behaviour can be customized by placing a %n anywhere in
the filename where the number should be substituted. An
optional number can be placed after the % to indicate a
minimum fixed width for the number.</p>

<p style="margin-left:11%; margin-top: 1em">Multiple output
mode is not very useful unless an effect that will stop the
effects chain early is specified before the
&lsquo;newfile&rsquo;. If end of file is reached before the
effects chain stops itself then no new file will be created
as it would be empty.</p>

<p style="margin-left:11%; margin-top: 1em">The following
is an example of splitting the first 60 seconds of an input
file into two 30 second files and ignoring the rest.</p>

<pre style="margin-left:11%;">   sox song.wav ringtone%1n.wav trim 0 30 : newfile : trim 0 30</pre>


<p style="margin-left:11%; margin-top: 1em"><b>Stopping
SoX</b> <br>
Usually SoX will complete its processing and exit
automatically once it has read all available audio data from
the input files.</p>

<p style="margin-left:11%; margin-top: 1em">If desired, it
can be terminated earlier by sending an interrupt signal to
the process (usually by pressing the keyboard interrupt key
which is normally Ctrl-C). This is a natural requirement in
some circumstances, e.g. when using SoX to make a recording.
Note that when using SoX to play multiple files, Ctrl-C
behaves slightly differently: pressing it once causes SoX to
skip to the next file; pressing it twice in quick succession
causes SoX to exit.</p>

<p style="margin-left:11%; margin-top: 1em">Another option
to stop processing early is to use an effect that has a time
period or sample count to determine the stopping point. The
trim effect is an example of this. Once all effects chains
have stopped then SoX will also stop.</p>

<h2>FILENAMES
<a name="FILENAMES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Filenames can
be simple file names, absolute or relative path names, or
URLs (input files only). Note that URL support requires that
<b>wget</b>(1) is available.</p>

<p style="margin-left:11%; margin-top: 1em">Note: Giving
SoX an input or output filename that is the same as a SoX
effect-name will not work since SoX will treat it as an
effect specification. The only work-around to this is to
avoid such filenames. This is generally not difficult since
most audio filenames have a filename
&lsquo;extension&rsquo;, whilst effect-names do not.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Special
Filenames</b> <br>
The following special filenames may be used in certain
circumstances in place of a normal filename on the command
line:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>&minus;</b></p></td>
<td width="10%"></td>
<td width="78%">


<p style="margin-top: 1em">SoX can be used in simple
pipeline operations by using the special filename
&lsquo;&minus;&rsquo; which, if used as an input filename,
will cause SoX will read audio data from &lsquo;standard
input&rsquo; (stdin), and which, if used as the output
filename, will cause SoX will send audio data to
&lsquo;standard output&rsquo; (stdout). Note that when using
this option for the output file, and sometimes when using it
for an input file, the file-type (see <b>&minus;t</b> below)
must also be given.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&quot;|</b><i>program</i>
[<i>options</i>] ...<b>&quot;</b></p>

<p style="margin-left:22%;">This can be used in place of an
input filename to specify the the given program&rsquo;s
standard output (stdout) be used as an input file. Unlike
<b>&minus;</b> (above), this can be used for several inputs
to one SoX command. For example, if &lsquo;genw&rsquo;
generates mono WAV formatted signals to its standard output,
then the following command makes a stereo file from two
generated signals:</p>

<pre style="margin-left:22%;">   sox &minus;M &quot;|genw &minus;&minus;imd &minus;&quot; &quot;|genw &minus;&minus;thd &minus;&quot; out.wav</pre>


<p style="margin-left:22%;">For headerless (raw) audio,
<b>&minus;t</b> (and perhaps other format options) will need
to be given, preceding the input command.</p>


<p style="margin-left:11%;"><b>&quot;</b><i>wildcard-filename</i><b>&quot;</b></p>

<p style="margin-left:22%;">Specifies that filename
&lsquo;globbing&rsquo; (wild-card matching) should be
performed by SoX instead of by the shell. This allows a
single set of file options to be applied to a group of
files. For example, if the current directory contains three
&lsquo;vox&rsquo; files, file1.vox, file2.vox, and
file3.vox, then</p>

<pre style="margin-left:22%;">   play &minus;&minus;rate 6k *.vox</pre>


<p style="margin-left:22%;">will be expanded by the
&lsquo;shell&rsquo; (in most environments) to</p>

<pre style="margin-left:22%;">   play &minus;&minus;rate 6k file1.vox file2.vox file3.vox</pre>


<p style="margin-left:22%;">which will treat only the first
vox file as having a sample rate of 6k. With</p>

<pre style="margin-left:22%;">   play &minus;&minus;rate 6k &quot;*.vox&quot;</pre>


<p style="margin-left:22%;">the given sample rate option
will be applied to all three vox files.</p>

<p style="margin-left:11%;"><b>&minus;p</b>,
<b>&minus;&minus;sox&minus;pipe</b></p>

<p style="margin-left:22%;">This can be used in place of an
output filename to specify that the SoX command should be
used as in input pipe to another SoX command. For example,
the command:</p>

<pre style="margin-left:22%;">   play &quot;|sox &minus;n &minus;p synth 2&quot; &quot;|sox &minus;n &minus;p synth 2 tremolo 10&quot; stat</pre>


<p style="margin-left:22%;">plays two &lsquo;files&rsquo;
in succession, each with different effects.</p>


<p style="margin-left:22%; margin-top: 1em"><b>&minus;p</b>
is in fact an alias for &lsquo;<b>&minus;t sox
&minus;</b>&rsquo;.</p>

<p style="margin-left:11%;"><b>&minus;d</b>,
<b>&minus;&minus;default&minus;device</b></p>

<p style="margin-left:22%;">This can be used in place of an
input or output filename to specify that the default audio
device (if one has been built into SoX) is to be used. This
is akin to invoking <b>rec</b> or <b>play</b> (as described
above).</p>

<p style="margin-left:11%;"><b>&minus;n</b>,
<b>&minus;&minus;null</b></p>

<p style="margin-left:22%;">This can be used in place of an
input or output filename to specify that a &lsquo;null
file&rsquo; is to be used. Note that here, &lsquo;null
file&rsquo; refers to a SoX-specific mechanism and is not
related to any operating-system mechanism with a similar
name.</p>

<p style="margin-left:22%; margin-top: 1em">Using a null
file to input audio is equivalent to using a normal audio
file that contains an infinite amount of silence, and as
such is not generally useful unless used with an effect that
specifies a finite time length (such as <b>trim</b> or
<b>synth</b>).</p>

<p style="margin-left:22%; margin-top: 1em">Using a null
file to output audio amounts to discarding the audio and is
useful mainly with effects that produce information about
the audio instead of affecting it (such as <b>noiseprof</b>
or <b>stat</b>).</p>

<p style="margin-left:22%; margin-top: 1em">The sampling
rate associated with a null file is by default 48&nbsp;kHz,
but, as with a normal file, this can be overridden if
desired using command-line format options (see below).</p>

<p style="margin-left:11%; margin-top: 1em"><b>Supported
File &amp; Audio Device Types</b> <br>
See <b>soxformat</b>(7) for a list and description of the
supported file formats and audio device drivers.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Global
Options</b> <br>
These options can be specified on the command line at any
point before the first effect name.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>SOX_OPTS</b> environment variable can be used to provide
alternative default values for SoX&rsquo;s global options.
For example:</p>

<pre style="margin-left:11%;">   SOX_OPTS=&quot;&minus;&minus;buffer 20000 &minus;&minus;play&minus;rate&minus;arg &minus;hs &minus;&minus;temp /mnt/temp&quot;</pre>


<p style="margin-left:11%;">Note that setting SOX_OPTS can
potentially create unwanted changes in the behaviour of
scripts or other programs that invoke SoX. SOX_OPTS might
best be used for things (such as in the given example) that
reflect the environment in which SoX is being run. Enabling
options such as <b>&minus;&minus;no&minus;clobber</b> as
default might be handled better using a shell alias since a
shell alias will not affect operation in scripts etc.</p>

<p style="margin-left:11%; margin-top: 1em">One way to
ensure that a script cannot be affected by SOX_OPTS is to
clear SOX_OPTS at the start of the script, but this of
course loses the benefit of SOX_OPTS carrying some
system-wide default options. An alternative approach is to
explicitly invoke SoX with default option values, e.g.</p>

<pre style="margin-left:11%;">   SOX_OPTS=&quot;&minus;V &minus;&minus;no-clobber&quot;
   ...
   sox &minus;V2 &minus;&minus;clobber $input $output ...</pre>


<p style="margin-left:11%;">Note that the way to set
environment variables varies from system to system. Here are
some examples:</p>

<p style="margin-left:11%; margin-top: 1em">Unix bash:</p>

<pre style="margin-left:11%;">   export SOX_OPTS=&quot;&minus;V &minus;&minus;no-clobber&quot;</pre>


<p style="margin-left:11%;">Unix csh:</p>

<pre style="margin-left:11%;">   setenv SOX_OPTS &quot;&minus;V &minus;&minus;no-clobber&quot;</pre>


<p style="margin-left:11%;">MS-DOS/MS-Windows:</p>

<pre style="margin-left:11%;">   set SOX_OPTS=&minus;V &minus;&minus;no-clobber</pre>


<p style="margin-left:11%;">MS-Windows GUI: via Control
Panel : System : Advanced : Environment Variables</p>

<p style="margin-left:11%; margin-top: 1em">Mac OS X GUI:
Refer to Apple&rsquo;s Technical Q&amp;A QA1067 document.
<b><br>
&minus;&minus;buffer BYTES</b>,
<b>&minus;&minus;input&minus;buffer BYTES</b></p>

<p style="margin-left:22%;">Set the size in bytes of the
buffers used for processing audio (default 8192).
<b>&minus;&minus;buffer</b> applies to input, effects, and
output processing; <b>&minus;&minus;input&minus;buffer</b>
applies only to input processing (for which it overrides
<b>&minus;&minus;buffer</b> if both are given).</p>

<p style="margin-left:22%; margin-top: 1em">Be aware that
large values for <b>&minus;&minus;buffer</b> will cause SoX
to be become slow to respond to requests to terminate or to
skip the current input file.</p>


<p style="margin-left:11%;"><b>&minus;&minus;clobber</b></p>

<p style="margin-left:22%;">Don&rsquo;t prompt before
overwriting an existing file with the same name as that
given for the output file. This is the default
behaviour.</p>

<p style="margin-left:11%;"><b>&minus;&minus;combine
concatenate</b>|<b>merge</b>|<b>mix</b>|<b>mix&minus;power</b>|<b>multiply</b>|<b>sequence</b></p>

<p style="margin-left:22%;">Select the input file combining
method; for some of these, short options are available:
<b>&minus;m</b> selects &lsquo;mix&rsquo;, <b>&minus;M</b>
selects &lsquo;merge&rsquo;, and <b>&minus;T</b> selects
&lsquo;multiply&rsquo;.</p>

<p style="margin-left:22%; margin-top: 1em">See <b>Input
File Combining</b> above for a description of the different
combining methods.</p>

<p style="margin-left:11%;"><b>&minus;D</b>,
<b>&minus;&minus;no&minus;dither</b></p>

<p style="margin-left:22%;">Disable automatic dither - see
&lsquo;Dithering&rsquo; above. An example of why this might
occasionally be useful is if a file has been converted from
16 to 24 bit with the intention of doing some processing on
it, but in fact no processing is needed after all and the
original 16 bit file has been lost, then, strictly speaking,
no dither is needed if converting the file back to 16 bit.
See also the <b>stats</b> effect for how to determine the
actual bit depth of the audio within a file.</p>


<p style="margin-left:11%;"><b>&minus;&minus;effects&minus;file</b>
<i>FILENAME</i></p>

<p style="margin-left:22%;">Use FILENAME to obtain all
effects and their arguments. The file is parsed as if the
values were specified on the command line. A new line can be
used in place of the special <b>:</b> marker to separate
effect chains. For convenience, such markers at the end of
the file are normally ignored; if you want to specify an
empty last effects chain, use an explicit <b>:</b> by itself
on the last line of the file. This option causes any effects
specified on the command line to be discarded.</p>

<p style="margin-left:11%;"><b>&minus;G</b>,
<b>&minus;&minus;guard</b></p>

<p style="margin-left:22%;">Automatically invoke the
<b>gain</b> effect to guard against clipping. E.g.</p>

<pre style="margin-left:22%;">   sox &minus;G infile &minus;b 16 outfile rate 44100 dither &minus;s</pre>


<p style="margin-left:22%;">is shorthand for</p>

<pre style="margin-left:22%;">   sox infile &minus;b 16 outfile gain &minus;h rate 44100 gain &minus;rh dither &minus;s</pre>


<p style="margin-left:22%;">See also <b>&minus;V,
&minus;&minus;norm,</b> and the <b>gain</b> effect.</p>

<p style="margin-left:11%;"><b>&minus;h</b>,
<b>&minus;&minus;help</b></p>

<p style="margin-left:22%;">Show version number and usage
information.</p>


<p style="margin-left:11%;"><b>&minus;&minus;help&minus;effect</b>
<i>NAME</i></p>

<p style="margin-left:22%;">Show usage information on the
specified effect. The name <b>all</b> can be used to show
usage on all effects.</p>


<p style="margin-left:11%;"><b>&minus;&minus;help&minus;format</b>
<i>NAME</i></p>

<p style="margin-left:22%;">Show information about the
specified file format. The name <b>all</b> can be used to
show information on all formats.</p>

<p style="margin-left:11%;"><b>&minus;&minus;i</b>,
<b>&minus;&minus;info</b></p>

<p style="margin-left:22%;">Only if given as the first
parameter to <b>sox</b>, behave as <b>soxi</b>(1).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>&minus;m</b>|<b>&minus;M</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>Equivalent to <b>&minus;&minus;combine mix</b> and
<b>&minus;&minus;combine merge</b>, respectively.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;&minus;magic</b></p>

<p style="margin-left:22%;">If SoX has been built with the
optional &lsquo;libmagic&rsquo; library then this option can
be given to enable its use in helping to detect audio file
types.</p>


<p style="margin-left:11%;"><b>&minus;&minus;multi&minus;threaded</b>
| <b>&minus;&minus;single&minus;threaded</b></p>

<p style="margin-left:22%;">By default, SoX is
&lsquo;single threaded&rsquo;. If the
<b>&minus;&minus;multi&minus;threaded</b> option is given
however then SoX will process audio channels for most
multi-channel effects in parallel on
hyper-threading/multi-core architectures. This may reduce
processing time, though sometimes it may be necessary to use
this option in conjuction with a larger buffer size than is
the default to gain any benefit from multi-threaded
processing (e.g. 131072; see <b>&minus;&minus;buffer</b>
above).</p>


<p style="margin-left:11%;"><b>&minus;&minus;no&minus;clobber</b></p>

<p style="margin-left:22%;">Prompt before overwriting an
existing file with the same name as that given for the
output file.</p>

<p style="margin-left:22%; margin-top: 1em"><b>N.B.</b>
Unintentionally overwriting a file is easier than you might
think, for example, if you accidentally enter</p>

<pre style="margin-left:22%;">   sox file1 file2 effect1 effect2 ...</pre>


<p style="margin-left:22%;">when what you really meant
was</p>

<pre style="margin-left:22%;">   play file1 file2 effect1 effect2 ...</pre>


<p style="margin-left:22%;">then, without this option,
file2 will be overwritten. Hence, using this option is
recommended. SOX_OPTS (above), a &lsquo;shell&rsquo; alias,
script, or batch file may be an appropriate way of
permanently enabling it.</p>


<p style="margin-left:11%;"><b>&minus;&minus;norm</b>[<b>=</b><i>dB-level</i>]</p>

<p style="margin-left:22%;">Automatically invoke the
<b>gain</b> effect to guard against clipping and to
normalise the audio. E.g.</p>

<pre style="margin-left:22%;">   sox &minus;&minus;norm infile &minus;b 16 outfile rate 44100 dither &minus;s</pre>


<p style="margin-left:22%;">is shorthand for</p>

<pre style="margin-left:22%;">   sox infile &minus;b 16 outfile gain &minus;h rate 44100 gain &minus;nh dither &minus;s</pre>


<p style="margin-left:22%;">Optionally, the audio can be
normalized to a given level (usually) below 0 dBFS:</p>

<pre style="margin-left:22%;">   sox &minus;&minus;norm=&minus;3 infile outfile</pre>


<p style="margin-left:22%; margin-top: 1em">See also
<b>&minus;V, &minus;G,</b> and the <b>gain</b> effect.</p>


<p style="margin-left:11%;"><b>&minus;&minus;play&minus;rate&minus;arg
ARG</b></p>

<p style="margin-left:22%;">Selects a quality option to be
used when the &lsquo;rate&rsquo; effect is automatically
invoked whilst playing audio. This option is typically set
via the <b>SOX_OPTS</b> environment variable (see
above).</p>

<p style="margin-left:11%;"><b>&minus;&minus;plot
gnuplot</b>|<b>octave</b>|<b>off</b></p>

<p style="margin-left:22%;">If not set to <b>off</b> (the
default if <b>&minus;&minus;plot</b> is not given), run in a
mode that can be used, in conjunction with the gnuplot
program or the GNU Octave program, to assist with the
selection and configuration of many of the transfer-function
based effects. For the first given effect that supports the
selected plotting program, SoX will output commands to plot
the effect&rsquo;s transfer function, and then exit without
actually processing any audio. E.g.</p>

<pre style="margin-left:22%;">   sox &minus;&minus;plot octave input-file &minus;n highpass 1320 &gt; highpass.plt
   octave highpass.plt</pre>


<p style="margin-left:11%;"><b>&minus;q</b>,
<b>&minus;&minus;no&minus;show&minus;progress</b></p>

<p style="margin-left:22%;">Run in quiet mode when SoX
wouldn&rsquo;t otherwise do so. This is the opposite of the
<b>&minus;S</b> option.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;R</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Run in &lsquo;repeatable&rsquo; mode. When this option
is given, where applicable, SoX will embed a fixed
time-stamp in the output file (e.g. <b>AIFF</b>) and will
&lsquo;seed&rsquo; pseudo random number generators (e.g.
<b>dither</b>) with a fixed number, thus ensuring that
successive SoX invocations with the same inputs and the same
parameters yield the same output.</p></td></tr>
</table>


<p style="margin-left:11%;"><b>&minus;&minus;replay&minus;gain
track</b>|<b>album</b>|<b>off</b></p>

<p style="margin-left:22%;">Select whether or not to apply
replay-gain adjustment to input files. The default is
<b>off</b> for <b>sox</b> and <b>rec</b>, <b>album</b> for
<b>play</b> where (at least) the first two input files are
tagged with the same Artist and Album names, and
<b>track</b> for <b>play</b> otherwise.</p>

<p style="margin-left:11%;"><b>&minus;S</b>,
<b>&minus;&minus;show&minus;progress</b></p>

<p style="margin-left:22%;">Display input file
format/header information, and processing progress as input
file(s) percentage complete, elapsed time, and remaining
time (if known; shown in brackets), and the number of
samples written to the output file. Also shown is a
peak-level meter, and an indication if clipping has
occurred. The peak-level meter shows up to two channels and
is calibrated for digital audio as follows (right channel
shown):</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-326775.png" alt="Image grohtml-326775.png"></p>

<p style="margin-left:22%; margin-top: 1em">A three-second
peak-held value of headroom in dBs will be shown to the
right of the meter if this is below 6dB.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
enabled by default when using SoX to play or record
audio.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;T</b></p></td>
<td width="8%"></td>
<td width="50%">


<p>Equivalent to <b>&minus;&minus;combine multiply</b>.</p></td>
<td width="28%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;&minus;temp</b>
<i>DIRECTORY</i></p>

<p style="margin-left:22%;">Specify that any temporary
files should be created in the given <i>DIRECTORY</i>. This
can be useful if there are permission or free-space problems
with the default location. In this case, using
&lsquo;<b>&minus;&minus;temp .</b>&rsquo; (to use the
current directory) is often a good solution.</p>


<p style="margin-left:11%;"><b>&minus;&minus;version</b></p>

<p style="margin-left:22%;">Show SoX&rsquo;s version number
and exit.</p>


<p style="margin-left:11%;"><b>&minus;V</b>[<i>level</i>]</p>

<p style="margin-left:22%;">Set verbosity. This is
particularly useful for seeing how any automatic effects
have been invoked by SoX.</p>

<p style="margin-left:22%; margin-top: 1em">SoX displays
messages on the console (stderr) according to the following
verbosity levels:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>0</p></td>
<td width="9%"></td>
<td width="68%">


<p>No messages are shown at all; use the exit status to
determine if an error has occurred.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>1</p></td>
<td width="9%"></td>
<td width="68%">


<p>Only error messages are shown. These are generated if
SoX cannot complete the requested commands.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>2</p></td>
<td width="9%"></td>
<td width="68%">


<p>Warning messages are also shown. These are generated if
SoX can complete the requested commands, but not exactly
according to the requested command parameters, or if
clipping occurs.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>3</p></td>
<td width="9%"></td>
<td width="68%">


<p>Descriptions of SoX&rsquo;s processing phases are also
shown. Useful for seeing exactly how SoX is processing your
audio.</p> </td></tr>
</table>

<p style="margin-left:22%;">4 and above</p>

<p style="margin-left:32%;">Messages to help with debugging
SoX are also shown.</p>

<p style="margin-left:22%; margin-top: 1em">By default, the
verbosity level is set to 2 (shows errors and warnings).
Each occurrence of the <b>&minus;V</b> option increases the
verbosity level by 1. Alternatively, the verbosity level can
be set to an absolute number by specifying it immediately
after the <b>&minus;V</b>, e.g. <b>&minus;V0</b> sets it to
0.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Input File
Options</b> <br>
These options apply only to input files and may precede only
input filenames on the command line. <b><br>
&minus;&minus;ignore&minus;length</b></p>

<p style="margin-left:22%;">Override an (incorrect) audio
length given in an audio file&rsquo;s header. If this option
is given then SoX will keep reading audio until it reaches
the end of the input file.</p>

<p style="margin-left:11%;"><b>&minus;v</b>,
<b>&minus;&minus;volume</b> <i>FACTOR</i></p>

<p style="margin-left:22%;">Intended for use when combining
multiple input files, this option adjusts the volume of the
file that follows it on the command line by a factor of
<i>FACTOR</i>. This allows it to be &lsquo;balanced&rsquo;
w.r.t. the other input files. This is a linear (amplitude)
adjustment, so a number less than 1 decreases the volume and
a number greater than 1 increases it. If a negative number
is given then in addition to the volume adjustment, the
audio signal will be inverted.</p>

<p style="margin-left:22%; margin-top: 1em">See also the
<b>norm</b>, <b>vol</b>, and <b>gain</b> effects, and see
<b>Input File Balancing</b> above.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Input &amp;
Output File Format Options</b> <br>
These options apply to the input or output file whose name
they immediately precede on the command line and are used
mainly when working with headerless file formats or when
specifying a format for the output file that is different to
that of the input file. <b><br>
&minus;b</b> <i>BITS</i>, <b>&minus;&minus;bits</b>
<i>BITS</i></p>

<p style="margin-left:22%;">The number of bits (a.k.a.
bit-depth or sometimes word-length) in each encoded sample.
Not applicable to complex encodings such as MP3 or GSM. Not
necessary with encodings that have a fixed number of bits,
e.g. A/&mu;-law, ADPCM.</p>

<p style="margin-left:22%; margin-top: 1em">For an input
file, the most common use for this option is to inform SoX
of the number of bits per sample in a &lsquo;raw&rsquo;
(&lsquo;headerless&rsquo;) audio file. For example</p>

<pre style="margin-left:22%;">   sox &minus;r 16k &minus;e signed &minus;b 8 input.raw output.wav</pre>


<p style="margin-left:22%;">converts a particular
&lsquo;raw&rsquo; file to a self-describing
&lsquo;WAV&rsquo; file.</p>

<p style="margin-left:22%; margin-top: 1em">For an output
file, this option can be used (perhaps along with
<b>&minus;e</b>) to set the output encoding size. By default
(i.e. if this option is not given), the output encoding size
will (providing it is supported by the output file type) be
set to the input encoding size. For example</p>

<pre style="margin-left:22%;">   sox input.cdda &minus;b 24 output.wav</pre>


<p style="margin-left:22%;">converts raw CD digital audio
(16-bit, signed-integer) to a 24-bit (signed-integer)
&lsquo;WAV&rsquo; file.</p>


<p style="margin-left:11%;"><b>&minus;1</b>/<b>&minus;2</b>/<b>&minus;3</b>/<b>&minus;4</b>/<b>&minus;8</b></p>

<p style="margin-left:22%;">The number of bytes in each
encoded sample. Deprecated aliases for <b>&minus;b 8</b>,
<b>&minus;b 16</b>, <b>&minus;b 24</b>, <b>&minus;b 32</b>,
<b>&minus;b 64</b> respectively.</p>

<p style="margin-left:11%;"><b>&minus;c</b>
<i>CHANNELS</i>, <b>&minus;&minus;channels</b>
<i>CHANNELS</i></p>

<p style="margin-left:22%;">The number of audio channels in
the audio file. This can be any number greater than
zero.</p>

<p style="margin-left:22%; margin-top: 1em">For an input
file, the most common use for this option is to inform SoX
of the number of channels in a &lsquo;raw&rsquo;
(&lsquo;headerless&rsquo;) audio file. Occasionally, it may
be useful to use this option with a &lsquo;headered&rsquo;
file, in order to override the (presumably incorrect) value
in the header - note that this is only supported with
certain file types. Examples:</p>

<pre style="margin-left:22%;">   sox &minus;r 48k &minus;e float &minus;b 32 &minus;c 2 input.raw output.wav</pre>


<p style="margin-left:22%;">converts a particular
&lsquo;raw&rsquo; file to a self-describing
&lsquo;WAV&rsquo; file.</p>

<pre style="margin-left:22%;">   play &minus;c 1 music.wav</pre>


<p style="margin-left:22%;">interprets the file data as
belonging to a single channel regardless of what is
indicated in the file header. Note that if the file does in
fact have two channels, this will result in the file playing
at half speed.</p>

<p style="margin-left:22%; margin-top: 1em">For an output
file, this option provides a shorthand for specifying that
the <b>channels</b> effect should be invoked in order to
change (if necessary) the number of channels in the audio
signal to the number given. For example, the following two
commands are equivalent:</p>

<pre style="margin-left:22%;">   sox input.wav &minus;c 1 output.wav bass &minus;b 24
   sox input.wav      output.wav bass &minus;b 24 channels 1</pre>


<p style="margin-left:22%;">though the second form is more
flexible as it allows the effects to be ordered
arbitrarily.</p>

<p style="margin-left:11%;"><b>&minus;e</b>
<i>ENCODING</i>, <b>&minus;&minus;encoding</b>
<i>ENCODING</i></p>

<p style="margin-left:22%;">The audio encoding type.
Sometimes needed with file-types that support more than one
encoding type. For example, with raw, WAV, or AU (but not,
for example, with MP3 or FLAC). The available encoding types
are as follows: <b><br>
signed-integer</b></p>

<p style="margin-left:32%;">PCM data stored as signed
(&lsquo;two&rsquo;s complement&rsquo;) integers. Commonly
used with a 16 or 24 &minus;bit encoding size. A value of 0
represents minimum signal power.</p>

<p style="margin-left:22%;"><b>unsigned-integer</b></p>

<p style="margin-left:32%;">PCM data stored as unsigned
integers. Commonly used with an 8-bit encoding size. A value
of 0 represents maximum signal power.</p>

<p style="margin-left:22%;"><b>floating-point</b></p>

<p style="margin-left:32%;">PCM data stored as IEEE 753
single precision (32-bit) or double precision (64-bit)
floating-point (&lsquo;real&rsquo;) numbers. A value of 0
represents minimum signal power.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>a-law</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>International telephony standard for logarithmic
encoding to 8 bits per sample. It has a precision equivalent
to roughly 13-bit PCM and is sometimes encoded with reversed
bit-ordering (see the <b>&minus;X</b> option).</p></td></tr>
</table>

<p style="margin-left:22%;"><b>u-law,&nbsp;mu-law</b></p>

<p style="margin-left:32%;">North American telephony
standard for logarithmic encoding to 8 bits per sample.
A.k.a. &mu;-law. It has a precision equivalent to roughly
14-bit PCM and is sometimes encoded with reversed
bit-ordering (see the <b>&minus;X</b> option).</p>

<p style="margin-left:22%;"><b>oki-adpcm</b></p>

<p style="margin-left:32%;">OKI (a.k.a. VOX, Dialogic, or
Intel) 4-bit ADPCM; it has a precision equivalent to roughly
12-bit PCM. ADPCM is a form of audio compression that has a
good compromise between audio quality and encoding/decoding
speed.</p>

<p style="margin-left:22%;"><b>ima-adpcm</b></p>

<p style="margin-left:32%;">IMA (a.k.a. DVI) 4-bit ADPCM;
it has a precision equivalent to roughly 13-bit PCM.</p>

<p style="margin-left:22%;"><b>ms-adpcm</b></p>

<p style="margin-left:32%;">Microsoft 4-bit ADPCM; it has a
precision equivalent to roughly 14-bit PCM.</p>

<p style="margin-left:22%;"><b>gsm-full-rate</b></p>

<p style="margin-left:32%;">GSM is currently used for the
vast majority of the world&rsquo;s digital wireless
telephone calls. It utilises several audio formats with
different bit-rates and associated speech quality. SoX has
support for GSM&rsquo;s original 13kbps &lsquo;Full
Rate&rsquo; audio format. It is usually CPU-intensive to
work with GSM audio.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&nbsp;</p></td>
<td width="10%"></td>
<td width="78%">


<p>Encoding names can be abbreviated where this would not
be ambiguous; e.g. &lsquo;unsigned-integer&rsquo; can be
given as &lsquo;un&rsquo;, but not &lsquo;u&rsquo;
(ambiguous with &lsquo;u-law&rsquo;).</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">For an input
file, the most common use for this option is to inform SoX
of the encoding of a &lsquo;raw&rsquo;
(&lsquo;headerless&rsquo;) audio file (see the examples in
<b>&minus;b</b> and <b>&minus;c</b> above).</p>

<p style="margin-left:22%; margin-top: 1em">For an output
file, this option can be used (perhaps along with
<b>&minus;b</b>) to set the output encoding type For
example</p>
<pre style="margin-left:22%;">   sox input.cdda &minus;e float output1.wav


   sox input.cdda &minus;b 64 &minus;e float output2.wav</pre>


<p style="margin-left:22%;">convert raw CD digital audio
(16-bit, signed-integer) to floating-point &lsquo;WAV&rsquo;
files (single &amp; double precision respectively).</p>

<p style="margin-left:22%; margin-top: 1em">By default
(i.e. if this option is not given), the output encoding type
will (providing it is supported by the output file type) be
set to the input encoding type.</p>


<p style="margin-left:11%;"><b>&minus;s</b>/<b>&minus;u</b>/<b>&minus;f</b>/<b>&minus;A</b>/<b>&minus;U</b>/<b>&minus;o</b>/<b>&minus;i</b>/<b>&minus;a</b>/<b>&minus;g</b></p>

<p style="margin-left:22%;">Deprecated aliases for
specifying the encoding types <b>signed-integer</b>,
<b>unsigned-integer</b>, <b>floating-point</b>,
<b>a-law</b>, <b>mu-law</b>, <b>oki-adpcm</b>,
<b>ima-adpcm</b>, <b>ms-adpcm</b>, <b>gsm-full-rate</b>
respectively (see <b>&minus;e</b> above).</p>


<p style="margin-left:11%;"><b>&minus;&minus;no&minus;glob</b></p>

<p style="margin-left:22%;">Specifies that filename
&lsquo;globbing&rsquo; (wild-card matching) should not be
performed by SoX on the following filename. For example, if
the current directory contains the two files
&lsquo;five-seconds.wav&rsquo; and &lsquo;five*.wav&rsquo;,
then</p>

<pre style="margin-left:22%;">   play &minus;&minus;no&minus;glob &quot;five*.wav&quot;</pre>


<p style="margin-left:22%;">can be used to play just the
single file &lsquo;five*.wav&rsquo;.</p>

<p style="margin-left:11%;"><b>&minus;r,
&minus;&minus;rate</b> <i>RATE</i>[<b>k</b>]</p>

<p style="margin-left:22%;">Gives the sample rate in Hz (or
kHz if appended with &lsquo;k&rsquo;) of the file.</p>

<p style="margin-left:22%; margin-top: 1em">For an input
file, the most common use for this option is to inform SoX
of the sample rate of a &lsquo;raw&rsquo;
(&lsquo;headerless&rsquo;) audio file (see the examples in
<b>&minus;b</b> and <b>&minus;c</b> above). Occasionally it
may be useful to use this option with a
&lsquo;headered&rsquo; file, in order to override the
(presumably incorrect) value in the header - note that this
is only supported with certain file types. For example, if
audio was recorded with a sample-rate of say 48k from a
source that played back a little, say 1.5%, too slowly,
then</p>

<pre style="margin-left:22%;">   sox &minus;r 48720 input.wav output.wav</pre>


<p style="margin-left:22%;">effectively corrects the speed
by changing only the file header (but see also the
<b>speed</b> effect for the more usual solution to this
problem).</p>

<p style="margin-left:22%; margin-top: 1em">For an output
file, this option provides a shorthand for specifying that
the <b>rate</b> effect should be invoked in order to change
(if necessary) the sample rate of the audio signal to the
given value. For example, the following two commands are
equivalent:</p>

<pre style="margin-left:22%;">   sox input.wav &minus;r 48k output.wav bass &minus;b 24
   sox input.wav        output.wav bass &minus;b 24 rate 48k</pre>


<p style="margin-left:22%;">though the second form is more
flexible as it allows <b>rate</b> options to be given, and
allows the effects to be ordered arbitrarily.</p>

<p style="margin-left:11%;"><b>&minus;t</b>,
<b>&minus;&minus;type</b> <i>FILE-TYPE</i></p>

<p style="margin-left:22%;">Gives the type of the audio
file. For both input and output files, this option is
commonly used to inform SoX of the type a
&lsquo;headerless&rsquo; audio file (e.g. raw, mp3) where
the actual/desired type cannot be determined from a given
filename extension. For example:</p>
<pre style="margin-left:22%;">   another-command | sox &minus;t mp3 &minus; output.wav

   sox input.wav &minus;t raw output.bin</pre>

<p style="margin-left:22%;">It can also be used to override
the type implied by an input filename extension, but if
overriding with a type that has a header, SoX will exit with
an appropriate error message if such a header is not
actually present.</p>

<p style="margin-left:22%; margin-top: 1em">See
<b>soxformat</b>(7) for a list of supported file types.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;L</b>,
<b>&minus;&minus;endian little <br>
&minus;B</b>, <b>&minus;&minus;endian big <br>
&minus;x</b>, <b>&minus;&minus;endian swap</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>&nbsp;</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>These options specify whether the byte-order of the
audio data is, respectively, &lsquo;little endian&rsquo;,
&lsquo;big endian&rsquo;, or the opposite to that of the
system on which SoX is being used. Endianness applies only
to data encoded as floating-point, or as signed or unsigned
integers of 16 or more bits. It is often necessary to
specify one of these options for headerless files, and
sometimes necessary for (otherwise) self-describing files. A
given endian-setting option may be ignored for an input file
whose header contains a specific endianness identifier, or
for an output file that is actually an audio device.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em"><b>N.B.</b>
Unlike other format characteristics, the endianness (byte,
nibble, &amp; bit ordering) of the input file is not
automatically used for the output file; so, for example,
when the following is run on a little-endian system:</p>

<pre style="margin-left:22%;">   sox &minus;B audio.s16 trimmed.s16 trim 2</pre>


<p style="margin-left:22%;">trimmed.s16 will be created as
little-endian;</p>

<pre style="margin-left:22%;">   sox &minus;B audio.s16 &minus;B trimmed.s16 trim 2</pre>


<p style="margin-left:22%;">must be used to preserve
big-endianness in the output file.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>&minus;V</b> option can be used to check the selected
orderings.</p>

<p style="margin-left:11%;"><b>&minus;N</b>,
<b>&minus;&minus;reverse&minus;nibbles</b></p>

<p style="margin-left:22%;">Specifies that the nibble
ordering (i.e. the 2 halves of a byte) of the samples should
be reversed; sometimes useful with ADPCM-based formats.</p>

<p style="margin-left:22%; margin-top: 1em"><b>N.B.</b> See
also N.B. in section on <b>&minus;x</b> above.</p>

<p style="margin-left:11%;"><b>&minus;X</b>,
<b>&minus;&minus;reverse&minus;bits</b></p>

<p style="margin-left:22%;">Specifies that the bit ordering
of the samples should be reversed; sometimes useful with a
few (mostly headerless) formats.</p>

<p style="margin-left:22%; margin-top: 1em"><b>N.B.</b> See
also N.B. in section on <b>&minus;x</b> above.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Output File
Format Options</b> <br>
These options apply only to the output file and may precede
only the output filename on the command line. <b><br>
&minus;&minus;add&minus;comment</b> <i>TEXT</i></p>

<p style="margin-left:22%;">Append a comment in the output
file header (where applicable).</p>

<p style="margin-left:11%;"><b>&minus;&minus;comment</b>
<i>TEXT</i></p>

<p style="margin-left:22%;">Specify the comment text to
store in the output file header (where applicable).</p>

<p style="margin-left:22%; margin-top: 1em">SoX will
provide a default comment if this option (or
<b>&minus;&minus;comment&minus;file</b>) is not given. To
specify that no comment should be stored in the output file,
use <b>&minus;&minus;comment &quot;&quot; .</b></p>


<p style="margin-left:11%;"><b>&minus;&minus;comment&minus;file</b>
<i>FILENAME</i></p>

<p style="margin-left:22%;">Specify a file containing the
comment text to store in the output file header (where
applicable).</p>

<p style="margin-left:11%;"><b>&minus;C</b>,
<b>&minus;&minus;compression</b> <i>FACTOR</i></p>

<p style="margin-left:22%;">The compression factor for
variably compressing output file formats. If this option is
not given then a default compression factor will apply. The
compression factor is interpreted differently for different
compressing file formats. See the description of the file
formats that use this option in <b>soxformat</b>(7) for more
information.</p>

<h2>EFFECTS
<a name="EFFECTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">In addition to
converting, playing and recording audio files, SoX can be
used to invoke a number of audio &lsquo;effects&rsquo;.
Multiple effects may be applied by specifying them one after
another at the end of the SoX command line, forming an
&lsquo;effects chain&rsquo;. Note that applying multiple
effects in real-time (i.e. when playing audio) is likely to
require a high performance computer. Stopping other
applications may alleviate performance issues should they
occur.</p>

<p style="margin-left:11%; margin-top: 1em">Some of the SoX
effects are primarily intended to be applied to a single
instrument or &lsquo;voice&rsquo;. To facilitate this, the
<b>remix</b> effect and the global SoX option
<b>&minus;M</b> can be used to isolate then recombine tracks
from a multi-track recording.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Multiple
Effects Chains</b> <br>
A single effects chain is made up of one or more effects.
Audio from the input runs through the chain until either the
end of the input file is reached or an effect in the chain
requests to terminate the chain.</p>

<p style="margin-left:11%; margin-top: 1em">SoX supports
running multiple effects chains over the input audio. In
this case, when one chain indicates it is done processing
audio, the audio data is then sent through the next effects
chain. This continues until either no more effects chains
exist or the input has reached the end of the file.</p>

<p style="margin-left:11%; margin-top: 1em">An effects
chain is terminated by placing a <b>:</b> (colon) after an
effect. Any following effects are a part of a new effects
chain.</p>

<p style="margin-left:11%; margin-top: 1em">It is important
to place the effect that will stop the chain as the first
effect in the chain. This is because any samples that are
buffered by effects to the left of the terminating effect
will be discarded. The amount of samples discarded is
related to the <b>&minus;&minus;buffer</b> option and it
should be kept small, relative to the sample rate, if the
terminating effect cannot be first. Further information on
stopping effects can be found in the <b>Stopping SoX</b>
section.</p>

<p style="margin-left:11%; margin-top: 1em">There are a few
pseudo-effects that aid using multiple effects chains. These
include <b>newfile</b> which will start writing to a new
output file before moving to the next effects chain and
<b>restart</b> which will move back to the first effects
chain. Pseudo-effects must be specified as the first effect
in a chain and as the only effect in a chain (they must have
a <b>:</b> before and after they are specified).</p>

<p style="margin-left:11%; margin-top: 1em">The following
is an example of multiple effects chains. It will split the
input file into multiple files of 30 seconds in length. Each
output filename will have unique number in its name as
documented in the <b>Output Files</b> section.</p>

<pre style="margin-left:11%;">   sox infile.wav output.wav trim 0 30 : newfile : restart</pre>


<p style="margin-left:11%; margin-top: 1em"><b>Common
Notation And Parameters</b> <br>
In the descriptions that follow, brackets [ ] are used to
denote parameters that are optional, braces { } to denote
those that are both optional and repeatable, and angle
brackets &lt; &gt; to denote those that are repeatable but
not optional. Where applicable, default values for optional
parameters are shown in parenthesis ( ).</p>

<p style="margin-left:11%; margin-top: 1em">The following
parameters are used with, and have the same meaning for,
several effects: <i><br>
center</i>[<b>k</b>]</p>

<p style="margin-left:22%;">See <i>frequency</i>.</p>

<p style="margin-left:11%;"><i>frequency</i>[<b>k</b>]</p>

<p style="margin-left:22%;">A frequency in Hz, or, if
appended with &lsquo;k&rsquo;, kHz.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><i>gain</i></p></td>
<td width="5%"></td>
<td width="78%">


<p>A power gain in dB. Zero gives no gain; less than zero
gives an attenuation.</p></td></tr>
</table>


<p style="margin-left:11%;"><i>width</i>[<b>h</b>|<b>k</b>|<b>o</b>|<b>q</b>]</p>

<p style="margin-left:22%;">Used to specify the band-width
of a filter. A number of different methods to specify the
width are available (though not all for every effect). One
of the characters shown may be appended to select the
desired method as follows:</p>

<p style="margin-left:22%; margin-top: 1em">&nbsp; &nbsp;
&nbsp; &nbsp;</p>


<p align="center"><img src="grohtml-326776.png" alt="Image grohtml-326776.png"></p>

<p style="margin-left:22%; margin-top: 1em">For each effect
that uses this parameter, the default method (i.e. if no
character is appended) is the one that it listed first in
the first line of the effect&rsquo;s description.</p>

<p style="margin-left:11%; margin-top: 1em">To see if SoX
has support for an optional effect, enter <b>sox
&minus;h</b> and look for its name under the list:
&lsquo;EFFECTS&rsquo;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Supported
Effects</b> <br>
Note: a categorised list of the effects can be found in the
accompanying &lsquo;README&rsquo; file. <b><br>
allpass</b> <i>frequency</i>[<b>k</b>]
<i>width</i>[<b>h</b>|<b>k</b>|<b>o</b>|<b>q</b>]</p>

<p style="margin-left:22%;">Apply a two-pole all-pass
filter with central frequency (in Hz) <i>frequency</i>, and
filter-width <i>width</i>. An all-pass filter changes the
audio&rsquo;s frequency to phase relationship without
changing its frequency to amplitude relationship. The filter
is described in detail in [1].</p>

<p style="margin-left:22%; margin-top: 1em">This effect
supports the <b>&minus;&minus;plot</b> global option.</p>

<p style="margin-left:11%;"><b>band</b> [<b>&minus;n</b>]
<i>center</i>[<b>k</b>]
[<i>width</i>[<b>h</b>|<b>k</b>|<b>o</b>|<b>q</b>]]</p>

<p style="margin-left:22%;">Apply a band-pass filter. The
frequency response drops logarithmically around the
<i>center</i> frequency. The <i>width</i> parameter gives
the slope of the drop. The frequencies at <i>center</i> +
<i>width</i> and <i>center</i> &minus; <i>width</i> will be
half of their original amplitudes. <b>band</b> defaults to a
mode oriented to pitched audio, i.e. voice, singing, or
instrumental music. The <b>&minus;n</b> (for noise) option
uses the alternate mode for un-pitched audio (e.g.
percussion). <b>Warning: &minus;n</b> introduces a
power-gain of about 11dB in the filter, so beware of output
clipping. <b>band</b> introduces noise in the shape of the
filter, i.e. peaking at the <i>center</i> frequency and
settling around it.</p>

<p style="margin-left:22%; margin-top: 1em">This effect
supports the <b>&minus;&minus;plot</b> global option.</p>

<p style="margin-left:22%; margin-top: 1em">See also
<b>sinc</b> for a bandpass filter with steeper
shoulders.</p>


<p style="margin-left:11%;"><b>bandpass</b>|<b>bandreject</b>
[<b>&minus;c</b>] <i>frequency</i>[<b>k</b>]
<i>width</i>[<b>h</b>|<b>k</b>|<b>o</b>|<b>q</b>]</p>

<p style="margin-left:22%;">Apply a two-pole Butterworth
band-pass or band-reject filter with central frequency
<i>frequency</i>, and (3dB-point) band-width <i>width</i>.
The <b>&minus;c</b> option applies only to <b>bandpass</b>
and selects a constant skirt gain (peak gain = Q) instead of
the default: constant 0dB peak gain. The filters roll off at
6dB per octave (20dB per decade) and are described in detail
in [1].</p>

<p style="margin-left:22%; margin-top: 1em">These effects
support the <b>&minus;&minus;plot</b> global option.</p>

<p style="margin-left:22%; margin-top: 1em">See also
<b>sinc</b> for a bandpass filter with steeper
shoulders.</p>

<p style="margin-left:11%;"><b>bandreject</b>
<i>frequency</i>[<b>k</b>]
<i>width</i>[<b>h</b>|<b>k</b>|<b>o</b>|<b>q</b>]</p>

<p style="margin-left:22%;">Apply a band-reject filter. See
the description of the <b>bandpass</b> effect for
details.</p>

<p style="margin-left:11%;"><b>bass</b>|<b>treble</b>
<i>gain</i> [<i>frequency</i>[<b>k</b>]
[<i>width</i>[<b>s</b>|<b>h</b>|<b>k</b>|<b>o</b>|<b>q</b>]]]</p>

<p style="margin-left:22%;">Boost or cut the bass (lower)
or treble (upper) frequencies of the audio using a two-pole
shelving filter with a response similar to that of a
standard hi-fi&rsquo;s tone-controls. This is also known as
shelving equalisation (EQ).</p>

<p style="margin-left:22%; margin-top: 1em"><i>gain</i>
gives the gain at 0&nbsp;Hz (for <b>bass</b>), or whichever
is the lower of &sim;22&nbsp;kHz and the Nyquist frequency
(for <b>treble</b>). Its useful range is about &minus;20
(for a large cut) to +20 (for a large boost). Beware of
<b>Clipping</b> when using a positive <i>gain</i>.</p>

<p style="margin-left:22%; margin-top: 1em">If desired, the
filter can be fine-tuned using the following optional
parameters:</p>


<p style="margin-left:22%; margin-top: 1em"><i>frequency</i>
sets the filter&rsquo;s central frequency and so can be used
to extend or reduce the frequency range to be boosted or
cut. The default value is 100&nbsp;Hz (for <b>bass</b>) or
3&nbsp;kHz (for <b>treble</b>).</p>

<p style="margin-left:22%; margin-top: 1em"><i>width</i>
determines how steep is the filter&rsquo;s shelf transition.
In addition to the common width specification methods
described above, &lsquo;slope&rsquo; (the default, or if
appended with &lsquo;<b>s</b>&rsquo;) may be used. The
useful range of &lsquo;slope&rsquo; is about 0.3, for a
gentle slope, to 1 (the maximum), for a steep slope; the
default value is 0.5.</p>

<p style="margin-left:22%; margin-top: 1em">The filters are
described in detail in [1].</p>

<p style="margin-left:22%; margin-top: 1em">These effects
support the <b>&minus;&minus;plot</b> global option.</p>

<p style="margin-left:22%; margin-top: 1em">See also
<b>equalizer</b> for a peaking equalisation effect.</p>

<p style="margin-left:11%;"><b>bend</b> [<b>&minus;f</b>
<i>frame-rate</i>(25)] [<b>&minus;o</b>
<i>over-sample</i>(16)] {
<i>delay</i><b>,</b><i>cents</i><b>,</b><i>duration</i>
}</p>

<p style="margin-left:22%;">Changes pitch by specified
amounts at specified times. Each given triple:
<i>delay</i><b>,</b><i>cents</i><b>,</b><i>duration</i>
specifies one bend. <i>delay</i> is the amount of time after
the start of the audio stream, or the end of the previous
bend, at which to start bending the pitch; <i>cents</i> is
the number of cents (100 cents = 1 semitone) by which to
bend the pitch, and <i>duration</i> the length of time over
which the pitch will be bent.</p>

<p style="margin-left:22%; margin-top: 1em">The
pitch-bending algorithm utilises the Discrete Fourier
Transform (DFT) at a particular frame rate and over-sampling
rate. The <b>&minus;f</b> and <b>&minus;o</b> parameters may
be used to adjust these parameters and thus control the
smoothness of the changes in pitch.</p>

<p style="margin-left:22%; margin-top: 1em">For example, an
initial tone is generated, then bent three times, yielding
four different notes in total:</p>

<pre style="margin-left:22%;">   play &minus;n synth 2.5 sin 667 gain 1 \
     bend .35,180,.25  .15,740,.53  0,&minus;520,.3</pre>


<p style="margin-left:22%;">Note that the clipping that is
produced in this example is deliberate; to remove it, use
<b>gain&nbsp;&minus;5</b> in place of
<b>gain&nbsp;1</b>.</p>

<p style="margin-left:22%; margin-top: 1em">See also
<b>pitch</b>.</p>

<p style="margin-left:11%;"><b>biquad</b> <i>b0 b1 b2 a0 a1
a2</i></p>

<p style="margin-left:22%;">Apply a biquad IIR filter with
the given coefficients. Where b* and a* are the numerator
and denominator coefficients respectively.</p>

<p style="margin-left:22%; margin-top: 1em">See
http://en.wikipedia.org/wiki/Digital_biquad_filter (where a0
= 1).</p>

<p style="margin-left:22%; margin-top: 1em">This effect
supports the <b>&minus;&minus;plot</b> global option.</p>

<p style="margin-left:11%;"><b>channels</b>
<i>CHANNELS</i></p>

<p style="margin-left:22%;">Invoke a simple algorithm to
change the number of channels in the audio signal to the
given number <i>CHANNELS</i>: mixing if decreasing the
number of channels or duplicating if increasing the number
of channels.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>channels</b> effect is invoked automatically if
SoX&rsquo;s <b>&minus;c</b> option specifies a number of
channels that is different to that of the input file(s).
Alternatively, if this effect is given explicitly, then
SoX&rsquo;s <b>&minus;c</b> option need not be given. For
example, the following two commands are equivalent:</p>

<pre style="margin-left:22%;">   sox input.wav &minus;c 1 output.wav bass &minus;b 24
   sox input.wav      output.wav bass &minus;b 24 channels 1</pre>


<p style="margin-left:22%;">though the second form is more
flexible as it allows the effects to be ordered
arbitrarily.</p>

<p style="margin-left:22%; margin-top: 1em">See also
<b>remix</b> for an effect that allows channels to be
mixed/selected arbitrarily.</p>

<p style="margin-left:11%;"><b>chorus</b> <i>gain-in
gain-out</i> &lt;<i>delay decay speed depth</i>
<b>&minus;s</b>|<b>&minus;t</b>&gt;</p>

<p style="margin-left:22%;">Add a chorus effect to the
audio. This can make a single vocal sound like a chorus, but
can also be applied to instrumentation.</p>

<p style="margin-left:22%; margin-top: 1em">Chorus
resembles an echo effect with a short delay, but whereas
with echo the delay is constant, with chorus, it is varied
using sinusoidal or triangular modulation. The modulation
depth defines the range the modulated delay is played before
or after the delay. Hence the delayed sound will sound
slower or faster, that is the delayed sound tuned around the
original one, like in a chorus where some vocals are
slightly off key. See [3] for more discussion of the chorus
effect.</p>

<p style="margin-left:22%; margin-top: 1em">Each four-tuple
parameter delay/decay/speed/depth gives the delay in
milliseconds and the decay (relative to gain-in) with a
modulation speed in Hz using depth in milliseconds. The
modulation is either sinusoidal (<b>&minus;s</b>) or
triangular (<b>&minus;t</b>). Gain-out is the volume of the
output.</p>

<p style="margin-left:22%; margin-top: 1em">A typical delay
is around 40ms to 60ms; the modulation speed is best near
0.25Hz and the modulation depth around 2ms. For example, a
single delay:</p>

<pre style="margin-left:22%;">   play guitar1.wav chorus 0.7 0.9 55 0.4 0.25 2 &minus;t</pre>


<p style="margin-left:22%;">Two delays of the original
samples:</p>

<pre style="margin-left:22%;">   play guitar1.wav chorus 0.6 0.9 50 0.4 0.25 2 &minus;t \
      60 0.32 0.4 1.3 &minus;s</pre>


<p style="margin-left:22%;">A fuller sounding chorus (with
three additional delays):</p>

<pre style="margin-left:22%;">   play guitar1.wav chorus 0.5 0.9 50 0.4 0.25 2 &minus;t \
      60 0.32 0.4 2.3 &minus;t 40 0.3 0.3 1.3 &minus;s</pre>


<p style="margin-left:11%;"><b>compand</b>
<i>attack1</i><b>,</b><i>decay1</i>{<b>,</b><i>attack2</i><b>,</b><i>decay2</i>}</p>


<p style="margin-left:22%;">[<i>soft-knee-dB</i><b>:</b>]<i>in-dB1</i>[<b>,</b><i>out-dB1</i>]{<b>,</b><i>in-dB2</i><b>,</b><i>out-dB2</i>}
<br>
[<i>gain</i> [<i>initial-volume-dB</i> [<i>delay</i>]]]</p>

<p style="margin-left:22%; margin-top: 1em">Compand
(compress or expand) the dynamic range of the audio.</p>

<p style="margin-left:22%; margin-top: 1em">The
<i>attack</i> and <i>decay</i> parameters (in seconds)
determine the time over which the instantaneous level of the
input signal is averaged to determine its volume; attacks
refer to increases in volume and decays refer to decreases.
For most situations, the attack time (response to the music
getting louder) should be shorter than the decay time
because the human ear is more sensitive to sudden loud music
than sudden soft music. Where more than one pair of
attack/decay parameters are specified, each input channel is
companded separately and the number of pairs must agree with
the number of input channels. Typical values are
<b>0.3,0.8</b> seconds.</p>

<p style="margin-left:22%; margin-top: 1em">The second
parameter is a list of points on the compander&rsquo;s
transfer function specified in dB relative to the maximum
possible signal amplitude. The input values must be in a
strictly increasing order but the transfer function does not
have to be monotonically rising. If omitted, the value of
<i>out-dB1</i> defaults to the same value as <i>in-dB1</i>;
levels below <i>in-dB1</i> are not companded (but may have
gain applied to them). The point <b>0,0</b> is assumed but
may be overridden (by <b>0,</b><i>out-dBn</i>). If the list
is preceded by a <i>soft-knee-dB</i> value, then the points
at where adjacent line segments on the transfer function
meet will be rounded by the amount given. Typical values for
the transfer function are
<b>6:&minus;70,&minus;60,&minus;20</b>.</p>

<p style="margin-left:22%; margin-top: 1em">The third
(optional) parameter is an additional gain in dB to be
applied at all points on the transfer function and allows
easy adjustment of the overall gain.</p>

<p style="margin-left:22%; margin-top: 1em">The fourth
(optional) parameter is an initial level to be assumed for
each channel when companding starts. This permits the user
to supply a nominal level initially, so that, for example, a
very large gain is not applied to initial signal levels
before the companding action has begun to operate: it is
quite probable that in such an event, the output would be
severely clipped while the compander gain properly adjusts
itself. A typical value (for audio which is initially quiet)
is <b>&minus;90</b> dB.</p>

<p style="margin-left:22%; margin-top: 1em">The fifth
(optional) parameter is a delay in seconds. The input signal
is analysed immediately to control the compander, but it is
delayed before being fed to the volume adjuster. Specifying
a delay approximately equal to the attack/decay times allows
the compander to effectively operate in a
&lsquo;predictive&rsquo; rather than a reactive mode. A
typical value is <b>0.2</b> seconds.</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-326777.png" alt="Image grohtml-326777.png"></p>

<p style="margin-left:22%; margin-top: 1em">The following
example might be used to make a piece of music with both
quiet and loud passages suitable for listening to in a noisy
environment such as a moving vehicle:</p>

<pre style="margin-left:22%;">   sox asz.wav asz-car.wav compand 0.3,1 6:&minus;70,&minus;60,&minus;20 &minus;5 &minus;90 0.2</pre>


<p style="margin-left:22%;">The transfer function
(&lsquo;6:&minus;70,...&rsquo;) says that very soft sounds
(below &minus;70dB) will remain unchanged. This will stop
the compander from boosting the volume on
&lsquo;silent&rsquo; passages such as between movements.
However, sounds in the range &minus;60dB to 0dB (maximum
volume) will be boosted so that the 60dB dynamic range of
the original music will be compressed 3-to-1 into a 20dB
range, which is wide enough to enjoy the music but narrow
enough to get around the road noise. The &lsquo;6:&rsquo;
selects 6dB soft-knee companding. The &minus;5 (dB) output
gain is needed to avoid clipping (the number is inexact, and
was derived by experimentation). The &minus;90 (dB) for the
initial volume will work fine for a clip that starts with
near silence, and the delay of 0.2 (seconds) has the effect
of causing the compander to react a bit more quickly to
sudden volume changes.</p>

<p style="margin-left:22%; margin-top: 1em">In the next
example, compand is being used as a noise-gate for when the
noise is at a lower level than the signal:</p>

<pre style="margin-left:22%;">   play infile compand .1,.2 &minus;inf,&minus;50.1,&minus;inf,&minus;50,&minus;50 0 &minus;90 .1</pre>


<p style="margin-left:22%;">Here is another noise-gate,
this time for when the noise is at a higher level than the
signal (making it, in some ways, similar to squelch):</p>

<pre style="margin-left:22%;">   play infile compand .1,.1 &minus;45.1,&minus;45,&minus;inf,0,&minus;inf 45 &minus;90 .1</pre>


<p style="margin-left:22%;">This effect supports the
<b>&minus;&minus;plot</b> global option (for the transfer
function).</p>

<p style="margin-left:22%; margin-top: 1em">See also
<b>mcompand</b> for a multiple-band companding effect.</p>

<p style="margin-left:11%;"><b>contrast</b>
[<i>enhancement-amount</i>(75)]</p>

<p style="margin-left:22%;">Comparable with compression,
this effect modifies an audio signal to make it sound
louder. <i>enhancement-amount</i> controls the amount of the
enhancement and is a number in the range 0&minus;100. Note
that <i>enhancement-amount</i> = 0 still gives a significant
contrast enhancement.</p>

<p style="margin-left:22%; margin-top: 1em">See also the
<b>compand</b> and <b>mcompand</b> effects.</p>

<p style="margin-left:11%;"><b>dcshift</b> <i>shift</i>
[<i>limitergain</i>]</p>

<p style="margin-left:22%;">Apply a DC shift to the audio.
This can be useful to remove a DC offset (caused perhaps by
a hardware problem in the recording chain) from the audio.
The effect of a DC offset is reduced headroom and hence
volume. The <b>stat</b> or <b>stats</b> effect can be used
to determine if a signal has a DC offset.</p>

<p style="margin-left:22%; margin-top: 1em">The given
<i>dcshift</i> value is a floating point number in the range
of &plusmn;2 that indicates the amount to shift the audio
(which is in the range of &plusmn;1).</p>

<p style="margin-left:22%; margin-top: 1em">An optional
<i>limitergain</i> can be specified as well. It should have
a value much less than 1 (e.g. 0.05 or 0.02) and is used
only on peaks to prevent clipping.</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-326778.png" alt="Image grohtml-326778.png"></p>

<p style="margin-left:22%; margin-top: 1em">An alternative
approach to removing a DC offset (albeit with a short delay)
is to use the <b>highpass</b> filter effect at a frequency
of say 10Hz, as illustrated in the following example:</p>

<pre style="margin-left:22%;">   sox &minus;n dc.wav synth 5 sin %0 50
   sox dc.wav fixed.wav highpass 10</pre>



<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>deemph</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Apply Compact Disc (IEC 60908) de-emphasis (a treble
attenuation shelving filter).</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Pre-emphasis
was applied in the mastering of some CDs issued in the early
1980s. These included many classical music albums, as well
as now sought-after issues of albums by The Beatles, Pink
Floyd and others. Pre-emphasis should be removed at playback
time by a de-emphasis filter in the playback device.
However, not all modern CD players have this filter, and
very few PC CD drives have it; playing pre-emphasised audio
without the correct de-emphasis filter results in audio that
sounds harsh and is far from what its creators intended.</p>

<p style="margin-left:22%; margin-top: 1em">With the
<b>deemph</b> effect, it is possible to apply the necessary
de-emphasis to audio that has been extracted from a
pre-emphasised CD, and then either burn the de-emphasised
audio to a new CD (which will then play correctly on any CD
player), or simply play the correctly de-emphasised audio
files on the PC. For example:</p>

<pre style="margin-left:22%;">   sox track1.wav track1&minus;deemph.wav deemph</pre>


<p style="margin-left:22%;">and then burn track1-deemph.wav
to CD, or</p>

<pre style="margin-left:22%;">   play track1&minus;deemph.wav</pre>


<p style="margin-left:22%;">or simply</p>

<pre style="margin-left:22%;">   play track1.wav deemph</pre>


<p style="margin-left:22%;">The de-emphasis filter is
implemented as a biquad; its maximum deviation from the
ideal response is only 0.06dB (up to 20kHz).</p>

<p style="margin-left:22%; margin-top: 1em">This effect
supports the <b>&minus;&minus;plot</b> global option.</p>

<p style="margin-left:22%; margin-top: 1em">See also the
<b>bass</b> and <b>treble</b> shelving equalisation
effects.</p>

<p style="margin-left:11%;"><b>delay</b>
{<i>length</i>}</p>

<p style="margin-left:22%;">Delay one or more audio
channels. <i>length</i> can specify a time or, if appended
with an &lsquo;s&rsquo;, a number of samples. Do not specify
both time and samples delays in the same command. For
example, <b>delay 1.5 0 0.5</b> delays the first channel by
1.5 seconds, the third channel by 0.5 seconds, and leaves
the second channel (and any other channels that may be
present) un-delayed. The following (one long) command plays
a chime sound:</p>

<pre style="margin-left:22%;">   play &minus;n synth &minus;j 3 sin %3 sin %&minus;2 sin %&minus;5 sin %&minus;9 \
     sin %&minus;14 sin %&minus;21 fade h .01 2 1.5 delay \
     1.3 1 .76 .54 .27 remix &minus; fade h 0 2.7 2.5 norm &minus;1</pre>


<p style="margin-left:22%;">and this plays a guitar
chord:</p>

<pre style="margin-left:22%;">   play &minus;n synth pl G2 pl B2 pl D3 pl G3 pl D4 pl G4 \
     delay 0 .05 .1 .15 .2 .25 remix &minus; fade 0 4 .1 norm &minus;1</pre>


<p style="margin-left:11%;"><b>dither</b>
[<b>&minus;S</b>|<b>&minus;s</b>|<b>&minus;f</b>
<i>filter</i>] [<b>&minus;a</b>] [<b>&minus;p</b>
<i>precision</i>]</p>

<p style="margin-left:22%;">Apply dithering to the audio.
Dithering deliberately adds a small amount of noise to the
signal in order to mask audible quantization effects that
can occur if the output sample size is less than 24 bits.
With no options, this effect will add triangular (TPDF)
white noise. Noise-shaping (only for certain sample rates)
can be selected with <b>&minus;s</b>. With the
<b>&minus;f</b> option, it is possible to select a
particular noise-shaping filter from the following list:
lipshitz, f-weighted, modified-e-weighted,
improved-e-weighted, gesemann, shibata, low-shibata,
high-shibata. Note that most filter types are available only
with 44100Hz sample rate. The filter types are distinguished
by the following properties: audibility of noise, level of
(inaudible, but in some circumstances, otherwise
problematic) shaped high frequency noise, and processing
speed. <br>
See http://sox.sourceforge.net/SoX/NoiseShaping for graphs
of the different noise-shaping curves.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>&minus;S</b> option selects a slightly
&lsquo;sloped&rsquo; TPDF, biased towards higher
frequencies. It can be used at any sampling rate but below
&asymp;22k, plain TPDF is probably better, and above &asymp;
37k, noise-shaped is probably better.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>&minus;a</b> option enables a mode where dithering (and
noise-shaping if applicable) are automatically enabled only
when needed. The most likely use for this is when applying
fade in or out to an already dithered file, so that the
redithering applies only to the faded portions. However,
auto dithering is not fool-proof, so the fades should be
carefully checked for any noise modulation; if this occurs,
then either re-dither the whole file, or use <b>trim</b>,
<b>fade</b>, and concatencate.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>&minus;p</b> option allows overriding the target
precision.</p>

<p style="margin-left:22%; margin-top: 1em">If the SoX
global option <b>&minus;R</b> option is not given, then the
pseudo-random number generator used to generate the white
noise will be &lsquo;reseeded&rsquo;, i.e. the generated
noise will be different between invocations.</p>

<p style="margin-left:22%; margin-top: 1em">This effect
should not be followed by any other effect that affects the
audio.</p>

<p style="margin-left:22%; margin-top: 1em">See also the
&lsquo;Dithering&rsquo; section above.</p>

<p style="margin-left:11%;"><b>downsample</b>
[<i>factor</i>(2)]</p>

<p style="margin-left:22%;">Downsample the signal by an
integer factor: Only the first out of each <i>factor</i>
samples is retained, the others are discarded.</p>

<p style="margin-left:22%; margin-top: 1em">No decimation
filter is applied. If the input is not a properly
bandlimited baseband signal, aliasing will occur. This may
be desirable, e.g., for frequency translation.</p>

<p style="margin-left:22%; margin-top: 1em">For a general
resampling effect with anti-aliasing, see <b>rate</b>. See
also <b>upsample</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>earwax</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Makes audio easier to listen to on headphones. Adds
&lsquo;cues&rsquo; to 44.1kHz stereo (i.e. audio CD format)
audio so that when listened to on headphones the stereo
image is moved from inside your head (standard for
headphones) to outside and in front of the listener
(standard for speakers).</p></td></tr>
</table>

<p style="margin-left:11%;"><b>echo</b> <i>gain-in
gain-out</i> &lt;<i>delay decay</i>&gt;</p>

<p style="margin-left:22%;">Add echoing to the audio.
Echoes are reflected sound and can occur naturally amongst
mountains (and sometimes large buildings) when talking or
shouting; digital echo effects emulate this behaviour and
are often used to help fill out the sound of a single
instrument or vocal. The time difference between the
original signal and the reflection is the
&lsquo;delay&rsquo; (time), and the loudness of the
reflected signal is the &lsquo;decay&rsquo;. Multiple echoes
can have different delays and decays.</p>

<p style="margin-left:22%; margin-top: 1em">Each given
<i>delay decay</i> pair gives the delay in milliseconds and
the decay (relative to gain-in) of that echo. Gain-out is
the volume of the output. For example: This will make it
sound as if there are twice as many instruments as are
actually playing:</p>

<pre style="margin-left:22%;">   play lead.aiff echo 0.8 0.88 60 0.4</pre>


<p style="margin-left:22%;">If the delay is very short,
then it sound like a (metallic) robot playing music:</p>

<pre style="margin-left:22%;">   play lead.aiff echo 0.8 0.88 6 0.4</pre>


<p style="margin-left:22%;">A longer delay will sound like
an open air concert in the mountains:</p>

<pre style="margin-left:22%;">   play lead.aiff echo 0.8 0.9 1000 0.3</pre>


<p style="margin-left:22%;">One mountain more, and:</p>

<pre style="margin-left:22%;">   play lead.aiff echo 0.8 0.9 1000 0.3 1800 0.25</pre>


<p style="margin-left:11%;"><b>echos</b> <i>gain-in
gain-out</i> &lt;<i>delay decay</i>&gt;</p>

<p style="margin-left:22%;">Add a sequence of echoes to the
audio. Each <i>delay decay</i> pair gives the delay in
milliseconds and the decay (relative to gain-in) of that
echo. Gain-out is the volume of the output.</p>

<p style="margin-left:22%; margin-top: 1em">Like the echo
effect, echos stand for &lsquo;ECHO in Sequel&rsquo;, that
is the first echos takes the input, the second the input and
the first echos, the third the input and the first and the
second echos, ... and so on. Care should be taken using many
echos; a single echos has the same effect as a single
echo.</p>

<p style="margin-left:22%; margin-top: 1em">The sample will
be bounced twice in symmetric echos:</p>

<pre style="margin-left:22%;">   play lead.aiff echos 0.8 0.7 700 0.25 700 0.3</pre>


<p style="margin-left:22%;">The sample will be bounced
twice in asymmetric echos:</p>

<pre style="margin-left:22%;">   play lead.aiff echos 0.8 0.7 700 0.25 900 0.3</pre>


<p style="margin-left:22%;">The sample will sound as if
played in a garage:</p>

<pre style="margin-left:22%;">   play lead.aiff echos 0.8 0.7 40 0.25 63 0.3</pre>


<p style="margin-left:11%;"><b>equalizer</b>
<i>frequency</i>[<b>k</b>]
<i>width</i>[<b>q</b>|<b>o</b>|<b>h</b>|<b>k</b>]
<i>gain</i></p>

<p style="margin-left:22%;">Apply a two-pole peaking
equalisation (EQ) filter. With this filter, the signal-level
at and around a selected frequency can be increased or
decreased, whilst (unlike band-pass and band-reject filters)
that at all other frequencies is unchanged.</p>


<p style="margin-left:22%; margin-top: 1em"><i>frequency</i>
gives the filter&rsquo;s central frequency in Hz,
<i>width</i>, the band-width, and <i>gain</i> the required
gain or attenuation in dB. Beware of <b>Clipping</b> when
using a positive <i>gain</i>.</p>

<p style="margin-left:22%; margin-top: 1em">In order to
produce complex equalisation curves, this effect can be
given several times, each with a different central
frequency.</p>

<p style="margin-left:22%; margin-top: 1em">The filter is
described in detail in [1].</p>

<p style="margin-left:22%; margin-top: 1em">This effect
supports the <b>&minus;&minus;plot</b> global option.</p>

<p style="margin-left:22%; margin-top: 1em">See also
<b>bass</b> and <b>treble</b> for shelving equalisation
effects.</p>

<p style="margin-left:11%;"><b>fade</b> [<i>type</i>]
<i>fade-in-length</i> [<i>stop-time</i>
[<i>fade-out-length</i>]]</p>

<p style="margin-left:22%;">Apply a fade effect to the
beginning, end, or both of the audio.</p>

<p style="margin-left:22%; margin-top: 1em">An optional
<i>type</i> can be specified to select the shape of the fade
curve: <b>q</b> for quarter of a sine wave, <b>h</b> for
half a sine wave, <b>t</b> for linear
(&lsquo;triangular&rsquo;) slope, <b>l</b> for logarithmic,
and <b>p</b> for inverted parabola. The default is
logarithmic.</p>

<p style="margin-left:22%; margin-top: 1em">A fade-in
starts from the first sample and ramps the signal level from
0 to full volume over <i>fade-in-length</i> seconds. Specify
0 seconds if no fade-in is wanted.</p>

<p style="margin-left:22%; margin-top: 1em">For fade-outs,
the audio will be truncated at <i>stop-time</i> and the
signal level will be ramped from full volume down to 0
starting at <i>fade-out-length</i> seconds before the
<i>stop-time</i>. If <i>fade-out-length</i> is not
specified, it defaults to the same value as
<i>fade-in-length</i>. No fade-out is performed if
<i>stop-time</i> is not specified. If the file length can be
determined from the input file header and length-changing
effects are not in effect, then <b>0</b> may be specified
for <i>stop-time</i> to indicate the usual case of a
fade-out that ends at the end of the input audio stream.</p>

<p style="margin-left:22%; margin-top: 1em">All times can
be specified in either periods of time or sample counts. To
specify time periods use the format hh:mm:ss.frac format. To
specify using sample counts, specify the number of samples
and append the letter &lsquo;s&rsquo; to the sample count
(for example &lsquo;8000s&rsquo;).</p>

<p style="margin-left:22%; margin-top: 1em">See also the
<b>splice</b> effect.</p>

<p style="margin-left:11%;"><b>fir</b>
[<i>coefs-file</i>|<i>coefs</i>]</p>

<p style="margin-left:22%;">Use SoX&rsquo;s FFT convolution
engine with given FIR filter coefficients. If a single
argument is given then this is treated as the name of a file
containing the filter coefficients (white-space separated;
may contain &lsquo;#&rsquo; comments). If the given filename
is &lsquo;&minus;&rsquo;, or if no argument is given, then
the coefficients are read from the &lsquo;standard
input&rsquo; (stdin); otherwise, coefficients may be given
on the command line. Examples:</p>

<pre style="margin-left:22%;">   sox infile outfile fir 0.0195 &minus;0.082 0.234 0.891 &minus;0.145 0.043   sox infile outfile fir coefs.txt</pre>


<p style="margin-left:22%;">with coefs.txt containing</p>

<pre style="margin-left:22%;">   # HP filter
   # freq=10000
     1.2311233052619888e&minus;01
    &minus;4.4777096106211783e&minus;01
     5.1031563346705155e&minus;01
    &minus;6.6502926320995331e&minus;02
   ...</pre>


<p style="margin-left:22%; margin-top: 1em">This effect
supports the <b>&minus;&minus;plot</b> global option.</p>

<p style="margin-left:11%;"><b>flanger</b> [<i>delay depth
regen width speed shape phase interp</i>]</p>

<p style="margin-left:22%;">Apply a flanging effect to the
audio. See [3] for a detailed description of flanging.</p>

<p style="margin-left:22%; margin-top: 1em">All parameters
are optional (right to left).</p>

<p style="margin-left:22%; margin-top: 1em">&nbsp; &nbsp;
&nbsp;</p>


<p align="center"><img src="grohtml-326779.png" alt="Image grohtml-326779.png"></p>

<p style="margin-left:11%;"><b>gain</b>
[<b>&minus;e</b>|<b>&minus;B</b>|<b>&minus;b</b>|<b>&minus;r</b>]
[<b>&minus;n</b>] [<b>&minus;l</b>|<b>&minus;h</b>]
[<i>gain-dB</i>]</p>

<p style="margin-left:22%;">Apply amplification or
attenuation to the audio signal, or, in some cases, to some
of its channels. Note that use of any of <b>&minus;e</b>,
<b>&minus;B</b>, <b>&minus;b</b>, <b>&minus;r</b>, or
<b>&minus;n</b> requires temporary file space to store the
audio to be processed, so may be unsuitable for use with
&lsquo;streamed&rsquo; audio.</p>

<p style="margin-left:22%; margin-top: 1em">Without other
options, <i>gain-dB</i> is used to adjust the signal power
level by the given number of dB: positive amplifies (beware
of Clipping), negative attenuates. With other options, the
<i>gain-dB</i> amplification or attenuation is (logically)
applied after the processing due to those options.</p>

<p style="margin-left:22%; margin-top: 1em">Given the
<b>&minus;e</b> option, the levels of the audio channels of
a multi-channel file are &lsquo;equalised&rsquo;, i.e. gain
is applied to all channels other than that with the highest
peak level, such that all channels attain the same peak
level (but, without also giving <b>&minus;n</b>, the audio
is not &lsquo;normalised&rsquo;).</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>&minus;B</b> (balance) option is similar to
<b>&minus;e</b>, but with <b>&minus;B,</b> the RMS level is
used instead of the peak level. <b>&minus;B</b> might be
used to correct stereo imbalance caused by an imperfect
record turntable cartridge. Note that unlike
<b>&minus;e</b>, <b>&minus;B</b> might cause some
clipping.</p>


<p style="margin-left:22%; margin-top: 1em"><b>&minus;b</b>
is similar to <b>&minus;B</b> but has clipping protection,
i.e. if necessary to prevent clipping whilst balancing,
attenuation is applied to all channels. Note, however, that
in conjunction with <b>&minus;n</b>, <b>&minus;B</b> and
<b>&minus;b</b> are synonymous.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>&minus;r</b> option is used in conjunction with a prior
invocation of <b>gain</b> with the <b>&minus;h</b> option -
see below for details.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>&minus;n</b> option normalises the audio to 0dB FSD; it
is often used in conjunction with a negative <i>gain-dB</i>
to the effect that the audio is normalised to a given level
below 0dB. For example,</p>

<pre style="margin-left:22%;">   sox infile outfile gain &minus;n</pre>


<p style="margin-left:22%;">normalises to 0dB, and</p>

<pre style="margin-left:22%;">   sox infile outfile gain &minus;n &minus;3</pre>


<p style="margin-left:22%;">normalises to &minus;3dB.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>&minus;l</b> option invokes a simple limiter, e.g.</p>

<pre style="margin-left:22%;">   sox infile outfile gain &minus;l 6</pre>


<p style="margin-left:22%;">will apply 6dB of gain but
never clip. Note that limiting more than a few dBs more than
occasionally (in a piece of audio) is not recommended as it
can cause audible distortion. See the <b>compand</b> effect
for a more capable limiter.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>&minus;h</b> option is used to apply gain to provide
head-room for subsequent processing. For example, with</p>

<pre style="margin-left:22%;">   sox infile outfile gain &minus;h bass +6</pre>


<p style="margin-left:22%;">6dB of attenuation will be
applied prior to the bass boosting effect thus ensuring that
it will not clip. Of course, with bass, it is obvious how
much headroom will be needed, but with other effects (e.g.
rate, dither) it is not always as clear. Another advantage
of using <b>gain &minus;h</b> rather than an explicit
attenuation, is that if the headroom is not used by
subsequent effects, it can be reclaimed with <b>gain
&minus;r</b>, for example:</p>

<pre style="margin-left:22%;">   sox infile outfile gain &minus;h bass +6 rate 44100 gain &minus;r</pre>


<p style="margin-left:22%;">The above effects chain
guarantees never to clip nor amplify; it attenuates if
necessary to prevent clipping, but by only as much as is
needed to do so.</p>

<p style="margin-left:22%; margin-top: 1em">Output
formatting (dithering and bit-depth reduction) also requires
headroom (which cannot be &lsquo;reclaimed&rsquo;), e.g.</p>

<pre style="margin-left:22%;">   sox infile outfile gain &minus;h bass +6 rate 44100 gain &minus;rh dither</pre>


<p style="margin-left:22%;">Here, the second <b>gain</b>
invocation, reclaims as much of the headroom as it can from
the preceding effects, but retains as much headroom as is
needed for subsequent processing. The SoX global option
<b>&minus;G</b> can be given to automatically invoke <b>gain
&minus;h</b> and <b>gain &minus;r</b>.</p>

<p style="margin-left:22%; margin-top: 1em">See also the
<b>norm</b> and <b>vol</b> effects.</p>

<p style="margin-left:11%;"><b>highpass</b>|<b>lowpass</b>
[<b>&minus;1</b>|<b>&minus;2</b>] <i>frequency</i>[<b>k</b>]
[width[<b>q</b>|<b>o</b>|<b>h</b>|<b>k</b>]]</p>

<p style="margin-left:22%;">Apply a high-pass or low-pass
filter with 3dB point <i>frequency</i>. The filter can be
either single-pole (with <b>&minus;1</b>), or double-pole
(the default, or with <b>&minus;2</b>). <i>width</i> applies
only to double-pole filters; the default is Q = 0.707 and
gives a Butterworth response. The filters roll off at 6dB
per pole per octave (20dB per pole per decade). The
double-pole filters are described in detail in [1].</p>

<p style="margin-left:22%; margin-top: 1em">These effects
support the <b>&minus;&minus;plot</b> global option.</p>

<p style="margin-left:22%; margin-top: 1em">See also
<b>sinc</b> for filters with a steeper roll-off.</p>

<p style="margin-left:11%;"><b>hilbert</b> [<b>&minus;n</b>
<i>taps</i>]</p>

<p style="margin-left:22%;">Apply an odd-tap Hilbert
transform filter, phase-shifting the signal by 90
degrees.</p>

<p style="margin-left:22%; margin-top: 1em">This is used in
many matrix coding schemes and for analytic signal
generation. The process is often written as a multiplication
by <i>i</i> (or <i>j</i>), the imaginary unit.</p>

<p style="margin-left:22%; margin-top: 1em">An odd-tap
Hilbert transform filter has a bandpass characteristic,
attenuating the lowest and highest frequencies. Its
bandwidth can be controlled by the number of filter taps,
which can be specified with <b>&minus;n</b>. By default, the
number of taps is chosen for a cutoff frequency of about 75
Hz.</p>

<p style="margin-left:22%; margin-top: 1em">This effect
supports the <b>&minus;&minus;plot</b> global option.</p>

<p style="margin-left:11%;"><b>ladspa module</b>
[<b>plugin</b>] [<b>argument</b>...]</p>

<p style="margin-left:22%;">Apply a LADSPA [5] (Linux Audio
Developer&rsquo;s Simple Plugin API) plugin. Despite the
name, LADSPA is not Linux-specific, and a wide range of
effects is available as LADSPA plugins, such as cmt [6] (the
Computer Music Toolkit) and Steve Harris&rsquo;s plugin
collection [7]. The first argument is the plugin module, the
second the name of the plugin (a module can contain more
than one plugin) and any other arguments are for the control
ports of the plugin. Missing arguments are supplied by
default values if possible. Only plugins with at most one
audio input and one audio output port can be used. If found,
the environment variable LADSPA_PATH will be used as search
path for plugins.</p>

<p style="margin-left:11%;"><b>loudness</b> [<i>gain</i>
[<i>reference</i>]]</p>

<p style="margin-left:22%;">Loudness control - similar to
the <b>gain</b> effect, but provides equalisation for the
human auditory system. See
http://en.wikipedia.org/wiki/Loudness for a detailed
description of loudness. The gain is adjusted by the given
<i>gain</i> parameter (usually negative) and the signal
equalised according to ISO 226 w.r.t. a reference level of
65dB, though an alternative <i>reference</i> level may be
given if the original audio has been equalised for some
other optimal level. A default gain of &minus;10dB is used
if a <i>gain</i> value is not given.</p>

<p style="margin-left:22%; margin-top: 1em">See also the
<b>gain</b> effect.</p>

<p style="margin-left:11%;"><b>lowpass</b>
[<b>&minus;1</b>|<b>&minus;2</b>] <i>frequency</i>[<b>k</b>]
[width[<b>q</b>|<b>o</b>|<b>h</b>|<b>k</b>]]</p>

<p style="margin-left:22%;">Apply a low-pass filter. See
the description of the <b>highpass</b> effect for
details.</p>

<p style="margin-left:11%;"><b>mcompand</b>
&quot;<i>attack1</i><b>,</b><i>decay1</i>{<b>,</b><i>attack2</i><b>,</b><i>decay2</i>}</p>


<p style="margin-left:22%;">[<i>soft-knee-dB</i><b>:</b>]<i>in-dB1</i>[<b>,</b><i>out-dB1</i>]{<b>,</b><i>in-dB2</i><b>,</b><i>out-dB2</i>}
<br>
[<i>gain</i> [<i>initial-volume-dB</i>
[<i>delay</i>]]]&quot; {<i>crossover-freq</i>[<b>k</b>]
&quot;attack1,...&quot;}</p>

<p style="margin-left:22%; margin-top: 1em">The multi-band
compander is similar to the single-band compander but the
audio is first divided into bands using Linkwitz-Riley
cross-over filters and a separately specifiable compander
run on each band. See the <b>compand</b> effect for the
definition of its parameters. Compand parameters are
specified between double quotes and the crossover frequency
for that band is given by <i>crossover-freq</i>; these can
be repeated to create multiple bands.</p>

<p style="margin-left:22%; margin-top: 1em">For example,
the following (one long) command shows how multi-band
companding is typically used in FM radio:</p>

<pre style="margin-left:22%;">   play track1.wav gain &minus;3 sinc 8000&minus; 29 100 mcompand \
     &quot;0.005,0.1 &minus;47,&minus;40,&minus;34,&minus;34,&minus;17,&minus;33&quot; 100 \
     &quot;0.003,0.05 &minus;47,&minus;40,&minus;34,&minus;34,&minus;17,&minus;33&quot; 400 \
     &quot;0.000625,0.0125 &minus;47,&minus;40,&minus;34,&minus;34,&minus;15,&minus;33&quot; 1600 \
     &quot;0.0001,0.025 &minus;47,&minus;40,&minus;34,&minus;34,&minus;31,&minus;31,&minus;0,&minus;30&quot; 6400 \
     &quot;0,0.025 &minus;38,&minus;31,&minus;28,&minus;28,&minus;0,&minus;25&quot; \
     gain 15 highpass 22 highpass 22 sinc &minus;n 255 &minus;b 16 &minus;17500 \
     gain 9 lowpass &minus;1 17801</pre>


<p style="margin-left:22%;">The audio file is played with a
simulated FM radio sound (or broadcast signal condition if
the lowpass filter at the end is skipped). Note that the
pipeline is set up with US-style 75us pre-emphasis.</p>

<p style="margin-left:22%; margin-top: 1em">See also
<b>compand</b> for a single-band companding effect.</p>

<p style="margin-left:11%;"><b>noiseprof</b>
[<i>profile-file</i>]</p>

<p style="margin-left:22%;">Calculate a profile of the
audio for use in noise reduction. See the description of the
<b>noisered</b> effect for details.</p>

<p style="margin-left:11%;"><b>noisered</b>
[<i>profile-file</i> [<i>amount</i>]]</p>

<p style="margin-left:22%;">Reduce noise in the audio
signal by profiling and filtering. This effect is moderately
effective at removing consistent background noise such as
hiss or hum. To use it, first run SoX with the
<b>noiseprof</b> effect on a section of audio that ideally
would contain silence but in fact contains noise - such
sections are typically found at the beginning or the end of
a recording. <b>noiseprof</b> will write out a noise profile
to <i>profile-file</i>, or to stdout if no
<i>profile-file</i> or if &lsquo;&minus;&rsquo; is given.
E.g.</p>

<pre style="margin-left:22%;">   sox speech.wav &minus;n trim 0 1.5 noiseprof speech.noise-profile</pre>


<p style="margin-left:22%;">To actually remove the noise,
run SoX again, this time with the <b>noisered</b> effect;
<b>noisered</b> will reduce noise according to a noise
profile (which was generated by <b>noiseprof</b>), from
<i>profile-file</i>, or from stdin if no <i>profile-file</i>
or if &lsquo;&minus;&rsquo; is given. E.g.</p>

<pre style="margin-left:22%;">   sox speech.wav cleaned.wav noisered speech.noise-profile 0.3</pre>


<p style="margin-left:22%;">How much noise should be
removed is specified by <i>amount</i>-<i>a</i> number
between 0 and 1 with a default of 0.5. Higher numbers will
remove more noise but present a greater likelihood of
removing wanted components of the audio signal. Before
replacing an original recording with a noise-reduced
version, experiment with different <i>amount</i> values to
find the optimal one for your audio; use headphones to check
that you are happy with the results, paying particular
attention to quieter sections of the audio.</p>

<p style="margin-left:22%; margin-top: 1em">On most
systems, the two stages - profiling and reduction - can be
combined using a pipe, e.g.</p>

<pre style="margin-left:22%;">   sox noisy.wav &minus;n trim 0 1 noiseprof | play noisy.wav noisered</pre>


<p style="margin-left:11%;"><b>norm</b>
[<i>dB-level</i>]</p>

<p style="margin-left:22%;">Normalise the audio.
<b>norm</b> is just an alias for <b>gain &minus;n</b>; see
the <b>gain</b> effect for details.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>oops</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Out Of Phase Stereo effect. Mixes stereo to twin-mono
where each mono channel contains the difference between the
left and right stereo channels. This is sometimes known as
the &lsquo;karaoke&rsquo; effect as it often has the effect
of removing most or all of the vocals from a recording. It
is equivalent to <b>remix 1,2i 1,2i</b>.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>overdrive</b>
[<i>gain</i>(20) [<i>colour</i>(20)]]</p>

<p style="margin-left:22%;">Non linear distortion. The
<i>colour</i> parameter controls the amount of even harmonic
content in the over-driven output.</p>

<p style="margin-left:11%;"><b>pad</b> {
<i>length</i>[<b>@</b><i>position</i>] }</p>

<p style="margin-left:22%;">Pad the audio with silence, at
the beginning, the end, or any specified points through the
audio. Both <i>length</i> and <i>position</i> can specify a
time or, if appended with an &lsquo;s&rsquo;, a number of
samples. <i>length</i> is the amount of silence to insert
and <i>position</i> the position in the input audio stream
at which to insert it. Any number of lengths and positions
may be specified, provided that a specified position is not
less that the previous one. <i>position</i> is optional for
the first and last lengths specified and if omitted
correspond to the beginning and the end of the audio
respectively. For example, <b>pad 1.5 1.5</b> adds 1.5
seconds of silence padding at each end of the audio, whilst
<b>pad 4000s@3:00</b> inserts 4000 samples of silence 3
minutes into the audio. If silence is wanted only at the end
of the audio, specify either the end position or specify a
zero-length pad at the start.</p>

<p style="margin-left:22%; margin-top: 1em">See also
<b>delay</b> for an effect that can add silence at the
beginning of the audio on a channel-by-channel basis.</p>

<p style="margin-left:11%;"><b>phaser</b> <i>gain-in
gain-out delay decay speed</i>
[<b>&minus;s</b>|<b>&minus;t</b>]</p>

<p style="margin-left:22%;">Add a phasing effect to the
audio. See [3] for a detailed description of phasing.</p>


<p style="margin-left:22%; margin-top: 1em">delay/decay/speed
gives the delay in milliseconds and the decay (relative to
gain-in) with a modulation speed in Hz. The modulation is
either sinusoidal (<b>&minus;s</b>) - preferable for
multiple instruments, or triangular (<b>&minus;t</b>) -
gives single instruments a sharper phasing effect. The decay
should be less than 0.5 to avoid feedback, and usually no
less than 0.1. Gain-out is the volume of the output.</p>

<p style="margin-left:22%; margin-top: 1em">For
example:</p>

<pre style="margin-left:22%;">   play snare.flac phaser 0.8 0.74 3 0.4 0.5 &minus;t</pre>


<p style="margin-left:22%;">Gentler:</p>

<pre style="margin-left:22%;">   play snare.flac phaser 0.9 0.85 4 0.23 1.3 &minus;s</pre>


<p style="margin-left:22%;">A popular sound:</p>

<pre style="margin-left:22%;">   play snare.flac phaser 0.89 0.85 1 0.24 2 &minus;t</pre>


<p style="margin-left:22%;">More severe:</p>

<pre style="margin-left:22%;">   play snare.flac phaser 0.6 0.66 3 0.6 2 &minus;t</pre>


<p style="margin-left:11%;"><b>pitch</b> [<b>&minus;q</b>]
<i>shift</i> [<i>segment</i> [<i>search</i>
[<i>overlap</i>]]]</p>

<p style="margin-left:22%;">Change the audio pitch (but not
tempo).</p>

<p style="margin-left:22%; margin-top: 1em"><i>shift</i>
gives the pitch shift as positive or negative
&lsquo;cents&rsquo; (i.e. 100ths of a semitone). See the
<b>tempo</b> effect for a description of the other
parameters.</p>

<p style="margin-left:22%; margin-top: 1em">See also the
<b>bend</b>, <b>speed</b>, and <b>tempo</b> effects.</p>

<p style="margin-left:11%;"><b>rate</b>
[<b>&minus;q</b>|<b>&minus;l</b>|<b>&minus;m</b>|<b>&minus;h</b>|<b>&minus;v</b>]
[override-options] <i>RATE</i>[<b>k</b>]</p>

<p style="margin-left:22%;">Change the audio sampling rate
(i.e. resample the audio) to any given <i>RATE</i> (even
non-integer if this is supported by the output file format)
using a quality level defined as follows:</p>

<p style="margin-left:22%; margin-top: 1em">&nbsp;
&nbsp;</p>


<p align="center"><img src="grohtml-3267710.png" alt="Image grohtml-3267710.png"></p>

<p style="margin-left:22%; margin-top: 1em">where
<i>Band-width</i> is the percentage of the audio frequency
band that is preserved and <i>Rej dB</i> is the level of
noise rejection. Increasing levels of resampling quality
come at the expense of increasing amounts of time to process
the audio. If no quality option is given, the quality level
used is &lsquo;high&rsquo; (but see &lsquo;Playing &amp;
Recording Audio&rsquo; above regarding playback).</p>

<p style="margin-left:22%; margin-top: 1em">The
&lsquo;quick&rsquo; algorithm uses cubic interpolation; all
others use band-limited interpolation. By default, all
algorithms have a &lsquo;linear&rsquo; phase response; for
&lsquo;medium&rsquo;, &lsquo;high&rsquo; and &lsquo;very
high&rsquo;, the phase response is configurable (see
below).</p>

<p style="margin-left:22%; margin-top: 1em">The <b>rate</b>
effect is invoked automatically if SoX&rsquo;s
<b>&minus;r</b> option specifies a rate that is different to
that of the input file(s). Alternatively, if this effect is
given explicitly, then SoX&rsquo;s <b>&minus;r</b> option
need not be given. For example, the following two commands
are equivalent:</p>

<pre style="margin-left:22%;">   sox input.wav &minus;r 48k output.wav bass &minus;b 24
   sox input.wav        output.wav bass &minus;b 24 rate 48k</pre>


<p style="margin-left:22%;">though the second command is
more flexible as it allows <b>rate</b> options to be given,
and allows the effects to be ordered arbitrarily.</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-3267711.png" alt="Image grohtml-3267711.png"></p>

<p style="margin-left:22%; margin-top: 1em">Warning:
technically detailed discussion follows.</p>

<p style="margin-left:22%; margin-top: 1em">The simple
quality selection described above provides settings that
satisfy the needs of the vast majority of resampling tasks.
Occasionally, however, it may be desirable to fine-tune the
resampler&rsquo;s filter response; this can be achieved
using <i>override&nbsp;options</i>, as detailed in the
following table:</p>

<p style="margin-left:22%; margin-top: 1em">&nbsp;
&nbsp;</p>


<p align="center"><img src="grohtml-3267712.png" alt="Image grohtml-3267712.png"></p>

<p style="margin-left:22%; margin-top: 1em">N.B. Override
options cannot be used with the &lsquo;quick&rsquo; or
&lsquo;low&rsquo; quality algorithms.</p>

<p style="margin-left:22%; margin-top: 1em">All resamplers
use filters that can sometimes create &lsquo;echo&rsquo;
(a.k.a. &lsquo;ringing&rsquo;) artefacts with transient
signals such as those that occur with &lsquo;finger
snaps&rsquo; or other highly percussive sounds. Such
artefacts are much more noticeable to the human ear if they
occur before the transient (&lsquo;pre-echo&rsquo;) than if
they occur after it (&lsquo;post-echo&rsquo;). Note that
frequency of any such artefacts is related to the smaller of
the original and new sampling rates but that if this is at
least 44.1kHz, then the artefacts will lie outside the range
of human hearing.</p>

<p style="margin-left:22%; margin-top: 1em">A phase
response setting may be used to control the distribution of
any transient echo between &lsquo;pre&rsquo; and
&lsquo;post&rsquo;: with minimum phase, there is no pre-echo
but the longest post-echo; with linear phase, pre and post
echo are in equal amounts (in signal terms, but not
audibility terms); the intermediate phase setting attempts
to find the best compromise by selecting a small length (and
level) of pre-echo and a medium lengthed post-echo.</p>

<p style="margin-left:22%; margin-top: 1em">Minimum,
intermediate, or linear phase response is selected using the
<b>&minus;M</b>, <b>&minus;I</b>, or <b>&minus;L</b> option;
a custom phase response can be created with the
<b>&minus;p</b> option. Note that phase responses between
&lsquo;linear&rsquo; and &lsquo;maximum&rsquo; (greater than
50) are rarely useful.</p>

<p style="margin-left:22%; margin-top: 1em">A
resampler&rsquo;s band-width setting determines how much of
the frequency content of the original signal (w.r.t. the
original sample rate when up-sampling, or the new sample
rate when down-sampling) is preserved during conversion. The
term &lsquo;pass-band&rsquo; is used to refer to all
frequencies up to the band-width point (e.g. for 44.1kHz
sampling rate, and a resampling band-width of 95%, the
pass-band represents frequencies from 0Hz (D.C.) to circa
21kHz). Increasing the resampler&rsquo;s band-width results
in a slower conversion and can increase transient echo
artefacts (and vice versa).</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>&minus;s</b> &lsquo;steep filter&rsquo; option changes
resampling band-width from the default 95% (based on the 3dB
point), to 99%. The <b>&minus;b</b> option allows the
band-width to be set to any value in the range 74&minus;99.7
%, but note that band-width values greater than 99% are not
recommended for normal use as they can cause excessive
transient echo.</p>

<p style="margin-left:22%; margin-top: 1em">If the
<b>&minus;a</b> option is given, then aliasing/imaging above
the pass-band is allowed. For example, with 44.1kHz sampling
rate, and a resampling band-width of 95%, this means that
frequency content above 21kHz can be distorted; however,
since this is above the pass-band (i.e. above the highest
frequency of interest/audibility), this may not be a
problem. The benefits of allowing aliasing/imaging are
reduced processing time, and reduced (by almost half)
transient echo artefacts. Note that if this option is given,
then the minimum band-width allowable with <b>&minus;b</b>
increases to 85%.</p>

<p style="margin-left:22%; margin-top: 1em">Examples:</p>

<pre style="margin-left:22%;">   sox input.wav &minus;b 16 output.wav rate &minus;s &minus;a 44100 dither &minus;s</pre>


<p style="margin-left:22%;">default (high) quality
resampling; overrides: steep filter, allow aliasing; to
44.1kHz sample rate; noise-shaped dither to 16-bit WAV
file.</p>

<pre style="margin-left:22%;">   sox input.wav &minus;b 24 output.aiff rate &minus;v &minus;I &minus;b 90 48k</pre>


<p style="margin-left:22%;">very high quality resampling;
overrides: intermediate phase, band-width 90%; to 48k sample
rate; store output to 24-bit AIFF file.</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-3267713.png" alt="Image grohtml-3267713.png"></p>

<p style="margin-left:22%; margin-top: 1em">The
<b>pitch</b> and <b>speed</b> effects use the <b>rate</b>
effect at their core.</p>

<p style="margin-left:11%;"><b>remix</b>
[<b>&minus;a</b>|<b>&minus;m</b>|<b>&minus;p</b>]
&lt;<i>out-spec</i>&gt;</p>

<p style="margin-left:22%;"><i>out-spec</i> =
<i>in-spec</i>{<b>,</b><i>in-spec</i>} | <b>0</b> <i><br>
in-spec</i> =
[<i>in-chan</i>][<b>&minus;</b>[<i>in-chan2</i>]][<i>vol-spec</i>]
<i><br>
vol-spec</i> = <b>p</b>|<b>i</b>|<b>v</b>[<i>volume</i>]</p>

<p style="margin-left:22%; margin-top: 1em">Select and mix
input audio channels into output audio channels. Each output
channel is specified, in turn, by a given <i>out-spec</i>: a
list of contributing input channels and volume
specifications.</p>

<p style="margin-left:22%; margin-top: 1em">Note that this
effect operates on the audio <i>channels</i> within the SoX
effects processing chain; it should not be confused with the
<b>&minus;m</b> global option (where multiple <i>files</i>
are mix-combined before entering the effects chain).</p>

<p style="margin-left:22%; margin-top: 1em">An
<i>out-spec</i> contains comma-separated input
channel-numbers and hyphen-delimited channel-number ranges;
alternatively, <b>0</b> may be given to create a silent
output channel. For example,</p>

<pre style="margin-left:22%;">   sox input.wav output.wav remix 6 7 8 0</pre>


<p style="margin-left:22%;">creates an output file with
four channels, where channels 1, 2, and 3 are copies of
channels 6, 7, and 8 in the input file, and channel 4 is
silent. Whereas</p>

<pre style="margin-left:22%;">   sox input.wav output.wav remix 1&minus;3,7 3</pre>


<p style="margin-left:22%;">creates a (somewhat bizarre)
stereo output file where the left channel is a mix-down of
input channels 1, 2, 3, and 7, and the right channel is a
copy of input channel 3.</p>

<p style="margin-left:22%; margin-top: 1em">Where a range
of channels is specified, the channel numbers to the left
and right of the hyphen are optional and default to 1 and to
the number of input channels respectively. Thus</p>

<pre style="margin-left:22%;">   sox input.wav output.wav remix &minus;</pre>


<p style="margin-left:22%;">performs a mix-down of all
input channels to mono.</p>

<p style="margin-left:22%; margin-top: 1em">By default,
where an output channel is mixed from multiple (n) input
channels, each input channel will be scaled by a factor of
&sup1;/ <small>n</small> . Custom mixing volumes can be set
by following a given input channel or range of input
channels with a <i>vol-spec</i> (volume specification). This
is one of the letters <b>p</b>, <b>i</b>, or <b>v</b>,
followed by a volume number, the meaning of which depends on
the given letter and is defined as follows:</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-3267714.png" alt="Image grohtml-3267714.png"></p>

<p style="margin-left:22%; margin-top: 1em">If an
<i>out-spec</i> includes at least one <i>vol-spec</i> then,
by default, &sup1;/ <small>n</small> scaling is not applied
to any other channels in the same out-spec (though may be in
other out-specs). The &minus;a (automatic) option however,
can be given to retain the automatic scaling in this case.
For example,</p>

<pre style="margin-left:22%;">   sox input.wav output.wav remix 1,2 3,4v0.8</pre>


<p style="margin-left:22%;">results in channel level
multipliers of 0.5,0.5 1,0.8, whereas</p>

<pre style="margin-left:22%;">   sox input.wav output.wav remix &minus;a 1,2 3,4v0.8</pre>


<p style="margin-left:22%;">results in channel level
multipliers of 0.5,0.5 0.5,0.8.</p>

<p style="margin-left:22%; margin-top: 1em">The &minus;m
(manual) option disables all automatic volume adjustments,
so</p>

<pre style="margin-left:22%;">   sox input.wav output.wav remix &minus;m 1,2 3,4v0.8</pre>


<p style="margin-left:22%;">results in channel level
multipliers of 1,1 1,0.8.</p>

<p style="margin-left:22%; margin-top: 1em">The volume
number is optional and omitting it corresponds to no volume
change; however, the only case in which this is useful is in
conjunction with <b>i</b>. For example, if <i>input.wav</i>
is stereo, then</p>

<pre style="margin-left:22%;">   sox input.wav output.wav remix 1,2i</pre>


<p style="margin-left:22%;">is a mono equivalent of the
<b>oops</b> effect.</p>

<p style="margin-left:22%; margin-top: 1em">If the
<b>&minus;p</b> option is given, then any automatic &sup1;/
<small>n</small> scaling is replaced by &sup1;/
<small>&radic;n</small> (&lsquo;power&rsquo;) scaling; this
gives a louder mix but one that might occasionally clip.</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-3267715.png" alt="Image grohtml-3267715.png"></p>

<p style="margin-left:22%; margin-top: 1em">One use of the
<b>remix</b> effect is to split an audio file into a set of
files, each containing one of the constituent channels (in
order to perform subsequent processing on individual audio
channels). Where more than a few channels are involved, a
script such as the following (Bourne shell script) is
useful:</p>

<pre style="margin-left:22%;">#!/bin/sh
chans=`soxi &minus;c &quot;$1&quot;`
while [ $chans &minus;ge 1 ]; do
   chans0=`printf %02i $chans`   # 2 digits hence up to 99 chans
   out=`echo &quot;$1&quot;|sed &quot;s/\(.*\)\.\(.*\)/\1&minus;$chans0.\2/&quot;`
   sox &quot;$1&quot; &quot;$out&quot; remix $chans
   chans=`expr $chans &minus; 1`
done</pre>


<p style="margin-left:22%;">If a file <i>input.wav</i>
containing six audio channels were given, the script would
produce six output files: <i>input-01.wav</i>,
<i>input-02.wav</i>, ..., <i>input-06.wav</i>.</p>

<p style="margin-left:22%; margin-top: 1em">See also the
<b>swap</b> effect.</p>

<p style="margin-left:11%;"><b>repeat</b> [<i>count</i>
(1)]</p>

<p style="margin-left:22%;">Repeat the entire audio
<i>count</i> times, or once if <i>count</i> is not given.
Requires temporary file space to store the audio to be
repeated. Note that repeating once yields two copies: the
original audio and the repeated audio.</p>

<p style="margin-left:11%;"><b>reverb</b>
[<b>&minus;w</b>|<b>&minus;&minus;wet-only</b>]
[<i>reverberance</i> (50%) [<i>HF-damping</i> (50%)</p>

<p style="margin-left:22%;">[<i>room-scale</i> (100%)
[<i>stereo-depth</i> (100%) <br>
[<i>pre-delay</i> (0ms) [<i>wet-gain</i> (0dB)]]]]]]</p>

<p style="margin-left:22%; margin-top: 1em">Add
reverberation to the audio using the &lsquo;freeverb&rsquo;
algorithm. A reverberation effect is sometimes desirable for
concert halls that are too small or contain so many people
that the hall&rsquo;s natural reverberance is diminished.
Applying a small amount of stereo reverb to a (dry) mono
signal will usually make it sound more natural. See [3] for
a detailed description of reverberation.</p>

<p style="margin-left:22%; margin-top: 1em">Note that this
effect increases both the volume and the length of the
audio, so to prevent clipping in these domains, a typical
invocation might be:</p>

<pre style="margin-left:22%;">   play dry.wav gain &minus;3 pad 0 3 reverb</pre>


<p style="margin-left:22%;">The <b>&minus;w</b> option can
be given to select only the &lsquo;wet&rsquo; signal, thus
allowing it to be processed further, independently of the
&lsquo;dry&rsquo; signal. E.g.</p>

<pre style="margin-left:22%;">   play &minus;m voice.wav &quot;|sox voice.wav &minus;p reverse reverb &minus;w reverse&quot;</pre>


<p style="margin-left:22%;">for a reverse reverb
effect.</p>

<p style="margin-left:11%;"><b>reverse</b></p>

<p style="margin-left:22%;">Reverse the audio completely.
Requires temporary file space to store the audio to be
reversed.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>riaa</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Apply RIAA vinyl playback equalisation. The sampling
rate must be one of: 44.1, 48, 88.2, 96 kHz.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">This effect
supports the <b>&minus;&minus;plot</b> global option.</p>

<p style="margin-left:11%;"><b>silence</b>
[<b>&minus;l</b>] <i>above-periods</i> [<i>duration
threshold</i>[<b>d</b>|<b>%</b>]</p>

<p style="margin-left:22%;">[<i>below-periods duration
threshold</i>[<b>d</b>|<b>%</b>]]</p>

<p style="margin-left:22%; margin-top: 1em">Removes silence
from the beginning, middle, or end of the audio.
&lsquo;Silence&rsquo; is determined by a specified
threshold.</p>

<p style="margin-left:22%; margin-top: 1em">The
<i>above-periods</i> value is used to indicate if audio
should be trimmed at the beginning of the audio. A value of
zero indicates no silence should be trimmed from the
beginning. When specifying an non-zero <i>above-periods</i>,
it trims audio up until it finds non-silence. Normally, when
trimming silence from beginning of audio the
<i>above-periods</i> will be 1 but it can be increased to
higher values to trim all audio up to a specific count of
non-silence periods. For example, if you had an audio file
with two songs that each contained 2 seconds of silence
before the song, you could specify an <i>above-period</i> of
2 to strip out both silence periods and the first song.</p>

<p style="margin-left:22%; margin-top: 1em">When
<i>above-periods</i> is non-zero, you must also specify a
<i>duration</i> and <i>threshold</i>. <i>Duration</i>
indications the amount of time that non-silence must be
detected before it stops trimming audio. By increasing the
duration, burst of noise can be treated as silence and
trimmed off.</p>


<p style="margin-left:22%; margin-top: 1em"><i>Threshold</i>
is used to indicate what sample value you should treat as
silence. For digital audio, a value of 0 may be fine but for
audio recorded from analog, you may wish to increase the
value to account for background noise.</p>

<p style="margin-left:22%; margin-top: 1em">When optionally
trimming silence from the end of the audio, you specify a
<i>below-periods</i> count. In this case,
<i>below-period</i> means to remove all audio after silence
is detected. Normally, this will be a value 1 of but it can
be increased to skip over periods of silence that are
wanted. For example, if you have a song with 2 seconds of
silence in the middle and 2 second at the end, you could set
below-period to a value of 2 to skip over the silence in the
middle of the audio.</p>

<p style="margin-left:22%; margin-top: 1em">For
<i>below-periods</i>, <i>duration</i> specifies a period of
silence that must exist before audio is not copied any more.
By specifying a higher duration, silence that is wanted can
be left in the audio. For example, if you have a song with
an expected 1 second of silence in the middle and 2 seconds
of silence at the end, a duration of 2 seconds could be used
to skip over the middle silence.</p>

<p style="margin-left:22%; margin-top: 1em">Unfortunately,
you must know the length of the silence at the end of your
audio file to trim off silence reliably. A work around is to
use the <b>silence</b> effect in combination with the
<b>reverse</b> effect. By first reversing the audio, you can
use the <i>above-periods</i> to reliably trim all audio from
what looks like the front of the file. Then reverse the file
again to get back to normal.</p>

<p style="margin-left:22%; margin-top: 1em">To remove
silence from the middle of a file, specify a
<i>below-periods</i> that is negative. This value is then
treated as a positive value and is also used to indicate the
effect should restart processing as specified by the
<i>above-periods</i>, making it suitable for removing
periods of silence in the middle of the audio.</p>

<p style="margin-left:22%; margin-top: 1em">The option
<b>&minus;l</b> indicates that <i>below-periods duration</i>
length of audio should be left intact at the beginning of
each period of silence. For example, if you want to remove
long pauses between words but do not want to remove the
pauses completely.</p>

<p style="margin-left:22%; margin-top: 1em">The
<i>period</i> counts are in units of samples.
<i>Duration</i> counts may be in the format of
hh:mm:ss.frac, or the exact count of samples.
<i>Threshold</i> numbers may be suffixed with <b>d</b> to
indicate the value is in decibels, or <b>%</b> to indicate a
percentage of maximum value of the sample value (<b>0%</b>
specifies pure digital silence).</p>

<p style="margin-left:22%; margin-top: 1em">The following
example shows how this effect can be used to start a
recording that does not contain the delay at the start which
usually occurs between &lsquo;pressing the record
button&rsquo; and the start of the performance: <tt><br>
rec</tt> <i>parameters filename other-effects</i> silence 1
5 2%</p>

<p style="margin-left:11%;"><b>sinc</b> [<b>&minus;a</b>
<i>att</i>|<b>&minus;b</b> <i>beta</i>] [<b>&minus;p</b>
<i>phase</i>|<b>&minus;M</b>|<b>&minus;I</b>|<b>&minus;L</b>]
[<b>&minus;t</b> <i>tbw</i>|<b>&minus;n</b> <i>taps</i>]
[<i>freqHP</i>] <br>
[<b>&minus;</b><i>freqLP</i> [<b>&minus;t</b>
tbw|<b>&minus;n</b> taps]]</p>

<p style="margin-left:22%;">Apply a sinc kaiser-windowed
low-pass, high-pass, band-pass, or band-reject filter to the
signal. The <i>freqHP</i> and <i>freqLP</i> parameters give
the frequencies of the 6dB points of a high-pass and
low-pass filter that may be invoked individually, or
together. If both are given, then <i>freqHP</i> less than
<i>freqLP</i> creates a band-pass filter, <i>freqHP</i>
greater than <i>freqLP</i> creates a band-reject filter. For
example, the invocations</p>

<pre style="margin-left:22%;">   sinc 3k
   sinc -4k
   sinc 3k-4k
   sinc 4k-3k</pre>


<p style="margin-left:22%;">create a high-pass, low-pass,
band-pass, and band-reject filter respectively.</p>

<p style="margin-left:22%; margin-top: 1em">The default
stop-band attenuation of 120dB can be overridden with
<b>&minus;a</b>; alternatively, the kaiser-window
&lsquo;beta&rsquo; parameter can be given directly with
<b>&minus;b</b>.</p>

<p style="margin-left:22%; margin-top: 1em">The default
transition band-width of 5% of the total band can be
overridden with <b>&minus;t</b> (and <i>tbw</i> in Hertz);
alternatively, the number of filter taps can be given
directly with <b>&minus;n</b>.</p>

<p style="margin-left:22%; margin-top: 1em">If both
<i>freqHP</i> and <i>freqLP</i> are given, then a
<b>&minus;t</b> or <b>&minus;n</b> option given to the left
of the frequencies applies to both frequencies; one of these
options given to the right of the frequencies applies only
to <i>freqLP</i>.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>&minus;p</b>, <b>&minus;M</b>, <b>&minus;I</b>, and
<b>&minus;L</b> options control the filter&rsquo;s phase
response; see the <b>rate</b> effect for details.</p>

<p style="margin-left:22%; margin-top: 1em">This effect
supports the <b>&minus;&minus;plot</b> global option.</p>

<p style="margin-left:11%;"><b>spectrogram</b>
[<i>options</i>]</p>

<p style="margin-left:22%;">Create a spectrogram of the
audio; the audio is passed unmodified through the SoX
processing chain. This effect is optional - type <b>sox
&minus;&minus;help</b> and check the list of supported
effects to see if it has been included.</p>

<p style="margin-left:22%; margin-top: 1em">The spectrogram
is rendered in a Portable Network Graphic (PNG) file, and
shows time in the X-axis, frequency in the Y-axis, and audio
signal magnitude in the Z-axis. Z-axis values are
represented by the colour (or optionally the intensity) of
the pixels in the X-Y plane. If the audio signal contains
multiple channels then these are shown from top to bottom
starting from channel 1 (which is the left channel for
stereo audio).</p>

<p style="margin-left:22%; margin-top: 1em">For example, if
&lsquo;my.wav&rsquo; is a stereo file, then with</p>

<pre style="margin-left:22%;">   sox my.wav &minus;n spectrogram</pre>


<p style="margin-left:22%;">a spectrogram of the entire
file will be created in the file
&lsquo;spectrogram.png&rsquo;. More often though, analysis
of a smaller portion of the audio is required; e.g. with</p>

<pre style="margin-left:22%;">   sox my.wav &minus;n remix 2 trim 20 30 spectrogram</pre>


<p style="margin-left:22%;">the spectrogram shows
information only from the second (right) channel, and of
thirty seconds of audio starting from twenty seconds in. To
analyse a small portion of the frequency domain, the
<b>rate</b> effect may be used, e.g.</p>

<pre style="margin-left:22%;">   sox my.wav &minus;n rate 6k spectrogram</pre>


<p style="margin-left:22%;">allows detailed analysis of
frequencies up to 3kHz (half the sampling rate) i.e. where
the human auditory system is most sensitive. With</p>

<pre style="margin-left:22%;">   sox my.wav &minus;n trim 0 10 spectrogram &minus;x 600 &minus;y 200 &minus;z 100</pre>


<p style="margin-left:22%;">the given options control the
size of the spectrogram&rsquo;s X, Y &amp; Z axes (in this
case, the spectrogram area of the produced image will be 600
by 200 pixels in size and the Z-axis range will be 100 dB).
Note that the produced image includes axes legends etc. and
so will be a little larger than the specified spectrogram
size. In this example:</p>

<pre style="margin-left:22%;">   sox &minus;n &minus;n synth 6 tri 10k:14k spectrogram &minus;z 100 &minus;w kaiser</pre>


<p style="margin-left:22%;">an analysis
&lsquo;window&rsquo; with high dynamic range is selected to
best display the spectrogram of a swept triangular wave. For
a smilar example, append the following to the
&lsquo;chime&rsquo; command in the description of the
<b>delay</b> effect (above):</p>

<pre style="margin-left:22%;">   rate 2k spectrogram &minus;X 200 &minus;Z &minus;10 &minus;w kaiser</pre>


<p style="margin-left:22%;">Options are also avaliable to
control the appearance (colour-set, brightness, contrast,
etc.) and filename of the spectrogram; e.g. with</p>

<pre style="margin-left:22%;">   sox my.wav &minus;n spectrogram &minus;m &minus;l &minus;o print.png</pre>


<p style="margin-left:22%;">a spectrogram is created
suitable for printing on a &lsquo;black and white&rsquo;
printer.</p>


<p style="margin-left:22%; margin-top: 1em"><i>Options:</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>&minus;x&nbsp;</b><i>num</i></p></td>
<td width="1%"></td>
<td width="68%">


<p>Change the (maximum) width (X-axis) of the spectrogram
from its default value of 800 pixels to a given number
between 100 and 200000. See also <b>&minus;X</b> and
<b>&minus;d</b>.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>&minus;X&nbsp;</b><i>num</i></p></td>
<td width="1%"></td>
<td width="68%">


<p>X-axis pixels/second; the default is auto-calculated to
fit the given or known audio duration to the X-axis size, or
100 otherwise. If given in conjunction with <b>&minus;d</b>,
this option affects the width of the spectrogram; otherwise,
it affects the duration of the spectrogram. <i>num</i> can
be from 1 (low time resolution) to 5000 (high time
resolution) and need not be an integer. SoX may make a
slight adjustment to the given number for processing
quantisation reasons; if so, SoX will report the actual
number used (viewable when the SoX global option
<b>&minus;V</b> is in effect). See also <b>&minus;x</b> and
<b>&minus;d</b>.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>&minus;y&nbsp;</b><i>num</i></p></td>
<td width="1%"></td>
<td width="68%">


<p>Sets the Y-axis size in pixels (per channel); this is
the number of frequency &lsquo;bins&rsquo; used in the
Fourier analysis that produces the spectrogram. N.B. it can
be slow to produce the spectrogram if this number is not one
more than a power of two (e.g. 129). By default the Y-axis
size is chosen automatically (depending on the number of
channels). See <b>&minus;Y</b> for alternative way of
setting spectrogram height.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>&minus;Y&nbsp;</b><i>num</i></p></td>
<td width="1%"></td>
<td width="68%">


<p>Sets the target total height of the spectrogram(s). The
default value is 550 pixels. Using this option (and by
default), SoX will choose a height for individual
spectrogram channels that is one more than a power of two,
so the actual total height may fall short of the given
number. However, there is also a minimum height per channel
so if there are many channels, the number may be exceeded.
See <b>&minus;y</b> for alternative way of setting
spectrogram height.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>&minus;z&nbsp;</b><i>num</i></p></td>
<td width="1%"></td>
<td width="68%">


<p>Z-axis (colour) range in dB, default 120. This sets the
dynamic-range of the spectrogram to be
&minus;<i>num&nbsp;</i>dBFS to 0&nbsp;dBFS. <i>Num</i> may
range from 20 to 180. Decreasing dynamic-range effectively
increases the &lsquo;contrast&rsquo; of the spectrogram
display, and vice versa.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>&minus;Z&nbsp;</b><i>num</i></p></td>
<td width="1%"></td>
<td width="68%">


<p>Sets the upper limit of the Z-axis in dBFS. A negative
<i>num</i> effectively increases the
&lsquo;brightness&rsquo; of the spectrogram display, and
vice versa.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>&minus;q&nbsp;</b><i>num</i></p></td>
<td width="1%"></td>
<td width="68%">


<p>Sets the Z-axis quantisation, i.e. the number of
different colours (or intensities) in which to render Z-axis
values. A small number (e.g. 4) will give a
&lsquo;poster&rsquo;-like effect making it easier to discern
magnitude bands of similar level. Small numbers also usually
result in small PNG files. The number given specifies the
number of colours to use inside the Z-axis range; two
colours are reserved to represent out-of-range values.</p></td></tr>
</table>


<p style="margin-left:22%;"><b>&minus;w&nbsp;</b><i>name</i></p>

<p style="margin-left:32%;">Window: Hann (default),
Hamming, Bartlett, Rectangular or Kaiser. The spectrogram is
produced using the Discrete Fourier Transform (DFT)
algorithm. A significant parameter to this algorithm is the
choice of &lsquo;window function&rsquo;. By default, SoX
uses the Hann window which has good all-round
frequency-resolution and dynamic-range properties. For
better frequency resolution (but lower dynamic-range),
select a Hamming window; for higher dynamic-range (but
poorer frequency-resolution), select a Kaiser window.
Bartlett and Rectangular windows are also available.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>&minus;W&nbsp;</b><i>num</i></p></td>
<td width="1%"></td>
<td width="68%">


<p>Window adjustment parameter. This can be used to make
small adjustments to the Kaiser window shape. A positive
number (up to ten) increases its dynamic range, a negative
number decreases it.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>&minus;s</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Allow slack overlapping of DFT windows. This can, in
some cases, increase image sharpness and give greater
adherence to the <b>&minus;x</b> value, but at the expense
of a little spectral loss.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>&minus;m</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Creates a monochrome spectrogram (the default is
colour).</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>&minus;h</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Selects a high-colour palette - less visually pleasing
than the default colour palette, but it may make it easier
to differentiate different levels. If this option is used in
conjunction with <b>&minus;m</b>, the result will be a
hybrid monochrome/colour palette.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>&minus;p&nbsp;</b><i>num</i></p></td>
<td width="1%"></td>
<td width="68%">


<p>Permute the colours in a colour or hybrid palette. The
<i>num</i> parameter, from 1 (the default) to 6, selects the
permutation.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>&minus;l</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Creates a &lsquo;printer friendly&rsquo; spectrogram
with a light background (the default has a dark
background).</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>&minus;a</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Suppress the display of the axis lines. This is
sometimes useful in helping to discern artefacts at the
spectrogram edges.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>&minus;r</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Raw spectrogram: suppress the display of axes and
legends.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>&minus;A</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Selects an alternative, fixed colour-set. This is
provided only for compatibility with spectrograms produced
by another package. It should not normally be used as it has
some problems, not least, a lack of differentiation at the
bottom end which results in masking of low-level
artefacts.</p> </td></tr>
</table>


<p style="margin-left:22%;"><b>&minus;t&nbsp;</b><i>text</i></p>

<p style="margin-left:32%;">Set the image title - text to
display above the spectrogram.</p>


<p style="margin-left:22%;"><b>&minus;c&nbsp;</b><i>text</i></p>

<p style="margin-left:32%;">Set (or clear) the image
comment - text to display below and to the left of the
spectrogram.</p>


<p style="margin-left:22%;"><b>&minus;o&nbsp;</b><i>text</i></p>

<p style="margin-left:32%;">Name of the spectrogram output
PNG file, default &lsquo;spectrogram.png&rsquo;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&nbsp;</p></td>
<td width="10%"></td>
<td width="26%">


<p><i>Advanced Options:</i></p></td>
<td width="52%">
</td></tr>
</table>

<p style="margin-left:22%;">In order to process a smaller
section of audio without affecting other effects or the
output signal (unlike when the <b>trim</b> effect is used),
the following options may be used. <b><br>
&minus;d&nbsp;</b><i>duration</i></p>

<p style="margin-left:32%;">This option sets the X-axis
resolution such that audio with the given <i>duration</i>
([[HH:]MM:]SS) fits the selected (or default) X-axis width.
For example,</p>

<pre style="margin-left:32%;">   sox input.mp3 output.wav &minus;n spectrogram &minus;d 1:00 stats</pre>


<p style="margin-left:32%;">creates a spectrogram showing
the first minute of the audio, whilst <br>
the <b>stats</b> effect is applied to the entire audio
signal.</p>

<p style="margin-left:32%; margin-top: 1em">See also
<b>&minus;X</b> for an alternative way of setting the X-axis
resolution.</p>


<p style="margin-left:22%;"><b>&minus;S&nbsp;</b><i>time</i></p>

<p style="margin-left:32%;">Start the spectrogram at the
given point in the audio stream. For example</p>

<pre style="margin-left:32%;">   sox input.aiff output.wav spectrogram &minus;S 1:00</pre>


<p style="margin-left:32%;">creates a spectrogram showing
all but the first minute of the audio (the output file
however, receives the entire audio stream).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&nbsp;</p></td>
<td width="10%"></td>
<td width="78%">


<p>For the ability to perform off-line processing of
spectral data, see the <b>stat</b> effect.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>speed</b>
<i>factor</i>[<b>c</b>]</p>

<p style="margin-left:22%;">Adjust the audio speed (pitch
and tempo together). <i>factor</i> is either the ratio of
the new speed to the old speed: greater than 1 speeds up,
less than 1 slows down, or, if appended with the letter
&lsquo;c&rsquo;, the number of cents (i.e. 100ths of a
semitone) by which the pitch (and tempo) should be adjusted:
greater than 0 increases, less than 0 decreases.</p>

<p style="margin-left:22%; margin-top: 1em">Technically,
the speed effect only changes the sample rate information,
leaving the samples themselves untouched. The <b>rate</b>
effect is invoked automatically to resample to the output
sample rate, using its default quality/speed. For higher
quality or higher speed resampling, in addition to the
<b>speed</b> effect, specify the <b>rate</b> effect with the
desired quality option.</p>

<p style="margin-left:22%; margin-top: 1em">See also the
<b>bend</b>, <b>pitch</b>, and <b>tempo</b> effects.</p>

<p style="margin-left:11%;"><b>splice</b>
[<b>&minus;h</b>|<b>&minus;t</b>|<b>&minus;q</b>] {
<i>position</i>[<b>,</b><i>excess</i>[<b>,</b><i>leeway</i>]]
}</p>

<p style="margin-left:22%;">Splice together audio sections.
This effect provides two things over simple audio
concatenation: a (usually short) cross-fade is applied at
the join, and a wave similarity comparison is made to help
determine the best place at which to make the join.</p>

<p style="margin-left:22%; margin-top: 1em">One of the
options <b>&minus;h</b>, <b>&minus;t</b>, or <b>&minus;q</b>
may be given to select the fade envelope as half-cosine wave
(the default), triangular (a.k.a. linear), or quarter-cosine
wave respectively.</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-3267716.png" alt="Image grohtml-3267716.png"></p>

<p style="margin-left:22%; margin-top: 1em">To perform a
splice, first use the <b>trim</b> effect to select the audio
sections to be joined together. As when performing a tape
splice, the end of the section to be spliced onto should be
trimmed with a small <i>excess</i> (default 0.005 seconds)
of audio after the ideal joining point. The beginning of the
audio section to splice on should be trimmed with the same
<i>excess</i> (before the ideal joining point), plus an
additional <i>leeway</i> (default 0.005 seconds). SoX should
then be invoked with the two audio sections as input files
and the <b>splice</b> effect given with the position at
which to perform the splice - this is length of the first
audio section (including the excess).</p>

<p style="margin-left:22%; margin-top: 1em">The following
diagram uses the tape analogy to illustrate the splice
operation. The effect simulates the diagonal cuts and joins
the two pieces:</p>

<pre style="margin-left:22%; margin-top: 1em">      length1   excess
    -----------&gt;&lt;---&gt;
    _________   :   :  _________________
             \  :   : :\     &lsquo;
              \ :   : : \     &lsquo;
               \:   : :  \     &lsquo;
                *   : :   * - - *
                 \  : :   :\     &lsquo;
                  \ : :   : \     &lsquo;
    _______________\: :   :  \_____&lsquo;____
                      :   :   :     :
                      &lt;---&gt;   &lt;-----&gt;
                      excess  leeway</pre>


<p style="margin-left:22%; margin-top: 1em">where *
indicates the joining points.</p>

<p style="margin-left:22%; margin-top: 1em">For example, a
long song begins with two verses which start (as determined
e.g. by using the <b>play</b> command with the <b>trim</b>
(<i>start</i>) effect) at times 0:30.125 and 1:03.432. The
following commands cut out the first verse:</p>

<pre style="margin-left:22%;">   sox too-long.wav part1.wav trim 0 30.130</pre>


<p style="margin-left:22%;">(5 ms excess, after the first
verse starts)</p>

<pre style="margin-left:22%;">   sox too-long.wav part2.wav trim 1:03.422</pre>


<p style="margin-left:22%;">(5 ms excess plus 5 ms leeway,
before the second verse starts)</p>

<pre style="margin-left:22%;">   sox part1.wav part2.wav just-right.wav splice 30.130</pre>


<p style="margin-left:22%;">For another example, the SoX
command</p>

<pre style="margin-left:22%;">   play &quot;|sox &minus;n &minus;p synth 1 sin %1&quot; &quot;|sox &minus;n &minus;p synth 1 sin %3&quot;</pre>


<p style="margin-left:22%;">generates and plays two notes,
but there is a nasty click at the transition; the click can
be removed by splicing instead of concatenating the audio,
i.e. by appending <b>splice 1</b> to the command. (Clicks at
the beginning and end of the audio can be removed by
<i>preceding</i> the splice effect with <b>fade q .01 2
.01</b>).</p>

<p style="margin-left:22%; margin-top: 1em">Provided your
arithmetic is good enough, multiple splices can be performed
with a single <b>splice</b> invocation. For example:</p>

<pre style="margin-left:22%;">#!/bin/sh
# Audio Copy and Paste Over
# acpo infile copy-start copy-stop paste-over-start outfile
# All times measured in samples.
rate=`soxi &minus;r &quot;$1&quot;`
e=`expr $rate &rsquo;*&rsquo; 5 / 1000`  # Using default excess
l=$e                         # and leeway.
sox &quot;$1&quot; piece.wav trim `expr $2 &minus; $e &minus; $l`s \
   `expr $3 &minus; $2 + $e + $l + $e`s
sox &quot;$1&quot; part1.wav trim 0 `expr $4 + $e`s
sox &quot;$1&quot; part2.wav trim `expr $4 + $3 &minus; $2 &minus; $e &minus; $l`s
sox part1.wav piece.wav part2.wav &quot;$5&quot; splice \
   `expr $4 + $e`s \
   `expr $4 + $e + $3 &minus; $2 + $e + $l + $e`s</pre>


<p style="margin-left:22%;">In the above Bourne shell
script, two splices are used to &lsquo;copy and paste&rsquo;
audio.</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-3267717.png" alt="Image grohtml-3267717.png"></p>

<p style="margin-left:22%; margin-top: 1em">It is also
possible to use this effect to perform general cross-fades,
e.g. to join two songs. In this case, <i>excess</i> would
typically be an number of seconds, the <b>&minus;q</b>
option would typically be given (to select an &lsquo;equal
power&rsquo; cross-fade), and <i>leeway</i> should be zero
(which is the default if <b>&minus;q</b> is given). For
example, if f1.wav and f2.wav are audio files to be
cross-faded, then</p>

<pre style="margin-left:22%;">   sox f1.wav f2.wav out.wav splice &minus;q $(soxi &minus;D f1.wav),3</pre>


<p style="margin-left:22%;">cross-fades the files where the
point of equal loudness is 3 seconds before the end of
f1.wav, i.e. the total length of the cross-fade is 2 &times;
3 = 6 seconds (Note: the $(...) notation is POSIX
shell).</p>

<p style="margin-left:11%;"><b>stat</b> [<b>&minus;s</b>
<i>scale</i>] [<b>&minus;rms</b>] [<b>&minus;freq</b>]
[<b>&minus;v</b>] [<b>&minus;d</b>]</p>

<p style="margin-left:22%;">Display time and frequency
domain statistical information about the audio. Audio is
passed unmodified through the SoX processing chain.</p>

<p style="margin-left:22%; margin-top: 1em">The information
is output to the &lsquo;standard error&rsquo; (stderr)
stream and is calculated, where <i>n</i> is the duration of
the audio in samples, <i>c</i> is the number of audio
channels, <i>r</i> is the audio sample rate, and <i>x
<small>k</small></i> represents the PCM value (in the range
&minus;1 to +1 by default) of each successive sample in the
audio, as follows:</p>

<p style="margin-left:22%; margin-top: 1em">&nbsp; &nbsp;
&nbsp; &nbsp;</p>


<p align="center"><img src="grohtml-3267718.png" alt="Image grohtml-3267718.png"></p>

<p style="margin-left:22%; margin-top: 1em">Note that the
delta measurements are not applicable for multi-channel
audio.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>&minus;s</b> option can be used to scale the input data
by a given factor. The default value of <i>scale</i> is
2147483647 (i.e. the maximum value of a 32-bit signed
integer). Internal effects always work with signed long PCM
data and so the value should relate to this fact.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>&minus;rms</b> option will convert all output average
values to &lsquo;root mean square&rsquo; format.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>&minus;v</b> option displays only the &lsquo;Volume
Adjustment&rsquo; value.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>&minus;freq</b> option calculates the input&rsquo;s power
spectrum (4096 point DFT) instead of the statistics listed
above. This should only be used with a single channel audio
file.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>&minus;d</b> option displays a hex dump of the 32-bit
signed PCM data audio in SoX&rsquo;s internal buffer. This
is mainly used to help track down endian problems that
sometimes occur in cross-platform versions of SoX.</p>

<p style="margin-left:22%; margin-top: 1em">See also the
<b>stats</b> effect.</p>

<p style="margin-left:11%;"><b>stats</b> [<b>&minus;b</b>
<i>bits</i>|<b>&minus;x</b> <i>bits</i>|<b>&minus;s</b>
<i>scale</i>] [<b>&minus;w</b> <i>window-time</i>]</p>

<p style="margin-left:22%;">Display time domain statistical
information about the audio channels; audio is passed
unmodified through the SoX processing chain. Statistics are
calculated and displayed for each audio channel and, where
applicable, an overall figure is also given.</p>

<p style="margin-left:22%; margin-top: 1em">For example,
for a typical well-mastered stereo music file:</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-3267719.png" alt="Image grohtml-3267719.png"></p>


<p style="margin-left:22%; margin-top: 1em"><i>DC&nbsp;offset</i>,
<i>Min&nbsp;level</i>, and <i>Max&nbsp;level</i> are shown,
by default, in the range &plusmn;1. If the <b>&minus;b</b>
(bits) options is given, then these three measurements will
be scaled to a signed integer with the given number of bits;
for example, for 16 bits, the scale would be &minus;32768 to
+32767. The <b>&minus;x</b> option behaves the same way as
<b>&minus;b</b> except that the signed integer values are
displayed in hexadecimal. The <b>&minus;s</b> option scales
the three measurements by a given floating-point number.</p>


<p style="margin-left:22%; margin-top: 1em"><i>Pk&nbsp;lev&nbsp;dB</i>
and <i>RMS&nbsp;lev&nbsp;dB</i> are standard peak and RMS
level measured in dBFS. <i>RMS&nbsp;Pk&nbsp;dB</i> and
<i>RMS&nbsp;Tr&nbsp;dB</i> are peak and trough values for
RMS level measured over a short window (default 50ms).</p>


<p style="margin-left:22%; margin-top: 1em"><i>Crest&nbsp;factor</i>
is the standard ratio of peak to RMS level (note: not in
dB).</p>


<p style="margin-left:22%; margin-top: 1em"><i>Flat&nbsp;factor</i>
is a measure of the flatness (i.e. consecutive samples with
the same value) of the signal at its peak levels (i.e.
either <i>Min&nbsp;level</i>, or <i>Max&nbsp;level</i>).
<i>Pk&nbsp;count</i> is the number of occasions (not the
number of samples) that the signal attained either
<i>Min&nbsp;level</i>, or <i>Max&nbsp;level</i>.</p>

<p style="margin-left:22%; margin-top: 1em">The right-hand
<i>Bit-depth</i> figure is the standard definition of
bit-depth i.e. bits less significant than the given number
are fixed at zero. The left-hand figure is the number of
most significant bits that are fixed at zero (or one for
negative numbers) subtracted from the right-hand figure (the
number subtracted is directly related to
<i>Pk&nbsp;lev&nbsp;dB</i>).</p>

<p style="margin-left:22%; margin-top: 1em">For
multi-channel audio, an overall figure for each of the above
measurements is given and derived from the channel figures
as follows: <i>DC&nbsp;offset</i>: maximum magnitude;
<i>Max&nbsp;level</i>, <i>Pk&nbsp;lev&nbsp;dB</i>,
<i>RMS&nbsp;Pk&nbsp;dB</i>, <i>Bit-depth</i>: maximum;
<i>Min&nbsp;level</i>, <i>RMS&nbsp;Tr&nbsp;dB</i>: minimum;
<i>RMS&nbsp;lev&nbsp;dB</i>, <i>Flat&nbsp;factor</i>,
<i>Pk&nbsp;count</i>: average; <i>Crest&nbsp;factor</i>: not
applicable.</p>


<p style="margin-left:22%; margin-top: 1em"><i>Length&nbsp;s</i>
is the duration in seconds of the audio, and
<i>Num&nbsp;samples</i> is equal to the sample-rate
multiplied by <i>Length</i>. <i>Scale&nbsp;Max</i> is the
scaling applied to the first three measurements;
specifically, it is the maximum value that could apply to
<i>Max&nbsp;level</i>. <i>Window&nbsp;s</i> is the length of
the window used for the peak and trough RMS
measurements.</p>

<p style="margin-left:22%; margin-top: 1em">See also the
<b>stat</b> effect.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>swap</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Swap stereo channels. See also <b>remix</b> for an
effect that allows arbitrary channel selection and ordering
(and mixing).</p></td></tr>
</table>

<p style="margin-left:11%;"><b>stretch</b> <i>factor</i>
[<i>window fade shift fading</i>]</p>

<p style="margin-left:22%;">Change the audio duration (but
not its pitch). This effect is broadly equivalent to the
<b>tempo</b> effect with (<i>factor</i> inverted and)
<i>search</i> set to zero, so in general, its results are
comparatively poor; it is retained as it can sometimes
out-perform <b>tempo</b> for small <i>factor</i>s.</p>

<p style="margin-left:22%; margin-top: 1em"><i>factor</i>
of stretching: &gt;1 lengthen, &lt;1 shorten duration.
<i>window</i> size is in ms. Default is 20ms. The
<i>fade</i> option, can be &lsquo;lin&rsquo;. <i>shift</i>
ratio, in [0 1]. Default depends on stretch factor. 1 to
shorten, 0.8 to lengthen. The <i>fading</i> ratio, in [0
0.5]. The amount of a fade&rsquo;s default depends on
<i>factor</i> and <i>shift</i>.</p>

<p style="margin-left:22%; margin-top: 1em">See also the
<b>tempo</b> effect.</p>

<p style="margin-left:11%;"><b>synth</b> [<b>&minus;j</b>
<i>KEY</i>] [<b>&minus;n</b>] [<i>len</i> [<i>off</i>
[<i>ph</i> [<i>p1</i> [<i>p2</i> [<i>p3</i>]]]]]]
{[<i>type</i>] [<i>combine</i>] <br>

[[<b>%</b>]<i>freq</i>[<b>k</b>][<b>:</b>|<b>+</b>|<b>/</b>|<b>&minus;</b>[<b>%</b>]<i>freq2</i>[<b>k</b>]]]
[<i>off</i> [<i>ph</i> [<i>p1</i> [<i>p2</i>
[<i>p3</i>]]]]]}</p>

<p style="margin-left:22%;">This effect can be used to
generate fixed or swept frequency audio tones with various
wave shapes, or to generate wide-band noise of various
&lsquo;colours&rsquo;. Multiple synth effects can be
cascaded to produce more complex waveforms; at each stage it
is possible to choose whether the generated waveform will be
mixed with, or modulated onto the output from the previous
stage. Audio for each channel in a multi-channel audio file
can be synthesised independently.</p>

<p style="margin-left:22%; margin-top: 1em">Though this
effect is used to generate audio, an input file must still
be given, the characteristics of which will be used to set
the synthesised audio length, the number of channels, and
the sampling rate; however, since the input file&rsquo;s
audio is not normally needed, a &lsquo;null file&rsquo;
(with the special name <b>&minus;n</b>) is often given
instead (and the length specified as a parameter to
<b>synth</b> or by another given effect that can has an
associated length).</p>

<p style="margin-left:22%; margin-top: 1em">For example,
the following produces a 3 second, 48kHz, audio file
containing a sine-wave swept from 300 to 3300&nbsp;Hz:</p>

<pre style="margin-left:22%;">   sox &minus;n output.wav synth 3 sine 300&minus;3300</pre>


<p style="margin-left:22%;">and this produces an 8&nbsp;kHz
version:</p>

<pre style="margin-left:22%;">   sox &minus;r 8000 &minus;n output.wav synth 3 sine 300&minus;3300</pre>


<p style="margin-left:22%;">Multiple channels can be
synthesised by specifying the set of parameters shown
between braces multiple times; the following puts the swept
tone in the left channel and adds &lsquo;brown&rsquo; noise
in the right:</p>

<pre style="margin-left:22%;">   sox &minus;n output.wav synth 3 sine 300&minus;3300 brownnoise</pre>


<p style="margin-left:22%;">The following example shows how
two synth effects can be cascaded to create a more complex
waveform:</p>

<pre style="margin-left:22%;">   play &minus;n synth 0.5 sine 200&minus;500 synth 0.5 sine fmod 700&minus;100</pre>


<p style="margin-left:22%;">Frequencies can also be given
in &lsquo;scientific&rsquo; note notation, or, by prefixing
a &lsquo;%&rsquo; character, as a number of semitones
relative to &lsquo;middle A&rsquo; (440&nbsp;Hz). For
example, the following could be used to help tune a
guitar&rsquo;s low &lsquo;E&rsquo; string:</p>

<pre style="margin-left:22%;">   play &minus;n synth 4 pluck %&minus;29</pre>


<p style="margin-left:22%;">or with a (Bourne shell) loop,
the whole guitar:</p>

<pre style="margin-left:22%;">   for n in E2 A2 D3 G3 B3 E4; do
     play &minus;n synth 4 pluck $n repeat 2; done</pre>


<p style="margin-left:22%;">See the <b>delay</b> effect
(above) and the reference to &lsquo;SoX scripting
examples&rsquo; (below) for more <b>synth</b> examples.</p>

<p style="margin-left:22%; margin-top: 1em"><b>N.B.</b>
This effect generates audio at maximum volume (0dBFS), which
means that there is a high chance of clipping when using the
audio subsequently, so in many cases, you will want to
follow this effect with the <b>gain</b> effect to prevent
this from happening. (See also <b>Clipping</b> above.) Note
that, by default, the <b>synth</b> effect incorporates the
functionality of <b>gain &minus;h</b> (see the <b>gain</b>
effect for details); <b>synth</b>&rsquo;s <b>&minus;n</b>
option may be given to disable this behaviour.</p>

<p style="margin-left:22%; margin-top: 1em">A detailed
description of each <b>synth</b> parameter follows:</p>

<p style="margin-left:22%; margin-top: 1em"><i>len</i> is
the length of audio to synthesise expressed as a time or as
a number of samples; 0=inputlength, default=0.</p>

<p style="margin-left:22%; margin-top: 1em">The format for
specifying lengths in time is hh:mm:ss.frac. The format for
specifying sample counts is the number of samples with the
letter &lsquo;s&rsquo; appended to it.</p>

<p style="margin-left:22%; margin-top: 1em"><i>type</i> is
one of sine, square, triangle, sawtooth, trapezium, exp,
[white]noise, tpdfnoise pinknoise, brownnoise, pluck;
default=sine.</p>

<p style="margin-left:22%; margin-top: 1em"><i>combine</i>
is one of create, mix, amod (amplitude modulation), fmod
(frequency modulation); default=create.</p>


<p style="margin-left:22%; margin-top: 1em"><i>freq</i>/<i>freq2</i>
are the frequencies at the beginning/end of synthesis in Hz
or, if preceded with &lsquo;%&rsquo;, semitones relative to
A (440&nbsp;Hz); alternatively, &lsquo;scientific&rsquo;
note notation (e.g. E2) may be used. The default frequency
is 440Hz. By default, the tuning used with the note
notations is &lsquo;equal temperament&rsquo;; the
<b>&minus;j</b> <i>KEY</i> option selects &lsquo;just
intonation&rsquo;, where <i>KEY</i> is an integer number of
semitones relative to A (so for example, &minus;9 or 3
selects the key of C), or a note in scientific notation.</p>

<p style="margin-left:22%; margin-top: 1em">If <i>freq2</i>
is given, then <i>len</i> must also have been given and the
generated tone will be swept between the given frequencies.
The two given frequencies must be separated by one of the
characters &lsquo;:&rsquo;, &lsquo;+&rsquo;,
&lsquo;/&rsquo;, or &lsquo;&minus;&rsquo;. This character is
used to specify the sweep function as follows:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p><b>:</b></p></td>
<td width="9%"></td>
<td width="68%">


<p>Linear: the tone will change by a fixed number of hertz
per second.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p><b>+</b></p></td>
<td width="9%"></td>
<td width="68%">


<p>Square: a second-order function is used to change the
tone.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p><b>/</b></p></td>
<td width="9%"></td>
<td width="68%">


<p>Exponential: the tone will change by a fixed number of
semitones per second.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p><b>&minus;</b></p></td>
<td width="9%"></td>
<td width="68%">


<p>Exponential: as &lsquo;/&rsquo;, but initial phase
always zero, and stepped (less smooth) frequency
changes.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p>&nbsp;</p></td>
<td width="9%"></td>
<td width="68%">
</td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Not used for
noise.</p>

<p style="margin-left:22%; margin-top: 1em"><i>off</i> is
the bias (DC-offset) of the signal in percent;
default=0.</p>

<p style="margin-left:22%; margin-top: 1em"><i>ph</i> is
the phase shift in percentage of 1 cycle; default=0. Not
used for noise.</p>

<p style="margin-left:22%; margin-top: 1em"><i>p1</i> is
the percentage of each cycle that is &lsquo;on&rsquo;
(square), or &lsquo;rising&rsquo; (triangle, exp,
trapezium); default=50 (square, triangle, exp), default=10
(trapezium), or sustain (pluck); default=40.</p>

<p style="margin-left:22%; margin-top: 1em"><i>p2</i>
(trapezium): the percentage through each cycle at which
&lsquo;falling&rsquo; begins; default=50. exp: the amplitude
in multiples of 2dB; default=50, or tone-1 (pluck);
default=20.</p>

<p style="margin-left:22%; margin-top: 1em"><i>p3</i>
(trapezium): the percentage through each cycle at which
&lsquo;falling&rsquo; ends; default=60, or tone-2 (pluck);
default=90.</p>

<p style="margin-left:11%;"><b>tempo</b> [<b>&minus;q</b>]
[<b>&minus;m</b>|<b>&minus;s</b>|<b>&minus;l</b>]
<i>factor</i> [<i>segment</i> [<i>search</i>
[<i>overlap</i>]]]</p>

<p style="margin-left:22%;">Change the audio playback speed
but not its pitch. This effect uses the WSOLA algorithm. The
audio is chopped up into segments which are then shifted in
the time domain and overlapped (cross-faded) at points where
their waveforms are most similar as determined by
measurement of &lsquo;least squares&rsquo;.</p>

<p style="margin-left:22%; margin-top: 1em">By default,
linear searches are used to find the best overlapping
points. If the optional <b>&minus;q</b> parameter is given,
tree searches are used instead. This makes the effect work
more quickly, but the result may not sound as good. However,
if you must improve the processing speed, this generally
reduces the sound quality less than reducing the search or
overlap values.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>&minus;m</b> option is used to optimize default values of
segment, search and overlap for music processing.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>&minus;s</b> option is used to optimize default values of
segment, search and overlap for speech processing.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>&minus;l</b> option is used to optimize default values of
segment, search and overlap for &lsquo;linear&rsquo;
processing that tends to cause more noticeable distortion
but may be useful when factor is close to 1.</p>

<p style="margin-left:22%; margin-top: 1em">If &minus;m,
&minus;s, or &minus;l is specified, the default value of
segment will be calculated based on factor, while default
search and overlap values are based on segment. Any values
you provide still override these default values.</p>

<p style="margin-left:22%; margin-top: 1em"><i>factor</i>
gives the ratio of new tempo to the old tempo, so e.g. 1.1
speeds up the tempo by 10%, and 0.9 slows it down by
10%.</p>

<p style="margin-left:22%; margin-top: 1em">The optional
<i>segment</i> parameter selects the algorithm&rsquo;s
segment size in milliseconds. If no other flags are
specified, the default value is 82 and is typically suited
to making small changes to the tempo of music. For larger
changes (e.g. a factor of 2), 41&nbsp;ms may give a better
result. The &minus;m, &minus;s, and &minus;l flags will
cause the segment default to be automatically adjusted based
on factor. For example using &minus;s (for speech) with a
tempo of 1.25 will calculate a default segment value of
32.</p>

<p style="margin-left:22%; margin-top: 1em">The optional
<i>search</i> parameter gives the audio length in
milliseconds over which the algorithm will search for
overlapping points. If no other flags are specified, the
default value is 14.68. Larger values use more processing
time and may or may not produce better results. A practical
maximum is half the value of segment. Search can be reduced
to cut processing time at the risk of degrading output
quality. The &minus;m, &minus;s, and &minus;l flags will
cause the search default to be automatically adjusted based
on segment.</p>

<p style="margin-left:22%; margin-top: 1em">The optional
<i>overlap</i> parameter gives the segment overlap length in
milliseconds. Default value is 12, but &minus;m, &minus;s,
or &minus;l flags automatically adjust overlap based on
segment size. Increasing overlap increases processing time
and may increase quality. A practical maximum for overlap is
the value of search, with overlap typically being (at least)
a little smaller then search.</p>

<p style="margin-left:22%; margin-top: 1em">See also
<b>speed</b> for an effect that changes tempo and pitch
together, <b>pitch</b> and <b>bend</b> for effects that
change pitch only, and <b>stretch</b> for an effect that
changes tempo using a different algorithm.</p>

<p style="margin-left:11%;"><b>treble</b> <i>gain</i>
[<i>frequency</i>[<b>k</b>]
[<i>width</i>[<b>s</b>|<b>h</b>|<b>k</b>|<b>o</b>|<b>q</b>]]]</p>

<p style="margin-left:22%;">Apply a treble tone-control
effect. See the description of the <b>bass</b> effect for
details.</p>

<p style="margin-left:11%;"><b>tremolo</b> <i>speed</i>
[<i>depth</i>]</p>

<p style="margin-left:22%;">Apply a tremolo (low frequency
amplitude modulation) effect to the audio. The tremolo
frequency in Hz is given by <i>speed</i>, and the depth as a
percentage by <i>depth</i> (default 40).</p>

<p style="margin-left:11%;"><b>trim</b>
{[<b>=</b>|<b>&minus;</b>]<i>position</i>}</p>

<p style="margin-left:22%;">Cuts portions out of the audio.
Any number of <i>position</i>s may be given; audio is not
sent to the output until the first <i>position</i> is
reached. The effect then alternates between copying and
discarding audio at each <i>position</i>.</p>

<p style="margin-left:22%; margin-top: 1em">If a
<i>position</i> is preceded by an equals or minus sign, it
is interpreted relative to the beginning or the end of the
audio, respectively. (The audio length must be known for
end-relative locations to work.) Otherwise, it is considered
an offset from the last <i>position</i>, or from the start
of audio for the first parameter. Using a value of 0 for the
first <i>position</i> parameter allows copying from the
beginning of the audio.</p>

<p style="margin-left:22%; margin-top: 1em">All parameters
can be specified using either an amount of time or an exact
count of samples. The format for specifying lengths in time
is hh:mm:ss.frac. A value of 1:30.5 for the first parameter
will not start until 1 minute, thirty and &frac12; seconds
into the audio. The format for specifying sample counts is
the number of samples with the letter &lsquo;s&rsquo;
appended to it. A value of 8000s for the first parameter
will wait until 8000 samples are read before starting to
process audio.</p>

<p style="margin-left:22%; margin-top: 1em">For
example,</p>

<pre style="margin-left:22%;">   sox infile outfile trim 0 10</pre>


<p style="margin-left:22%;">will copy the first ten
seconds, while</p>

<pre style="margin-left:22%;">   play infile trim 12:34 =15:00 -2:00</pre>


<p style="margin-left:22%;">will play from 12 minutes 34
seconds into the audio up to 15 minutes into the audio (i.e.
2 minutes and 26 seconds long), then resume playing two
minutes before the end of audio.</p>

<p style="margin-left:11%;"><b>upsample</b>
[<i>factor</i>]</p>

<p style="margin-left:22%;">Upsample the signal by an
integer factor: <i>factor</i>&minus;1 zero-value samples are
inserted between each pair of input samples. As a result,
the original spectrum is replicated into the new frequency
space (aliasing) and attenuated. This attenuation can be
compensated for by adding <b>vol</b> <i>factor</i> after any
further processing. The upsample effect is typically used in
combination with filtering effects.</p>

<p style="margin-left:22%; margin-top: 1em">For a general
resampling effect with anti-aliasing, see <b>rate</b>. See
also <b>downsample</b>.</p>

<p style="margin-left:11%;"><b>vad</b> [<i>options</i>]</p>

<p style="margin-left:22%;">Voice Activity Detector.
Attempts to trim silence and quiet background sounds from
the ends of (fairly high resolution i.e. 16-bit,
44&minus;48kHz) recordings of speech. The algorithm
currently uses a simple cepstral power measurement to detect
voice, so may be fooled by other things, especially music.
The effect can trim only from the front of the audio, so in
order to trim from the back, the <b>reverse</b> effect must
also be used. E.g.</p>

<pre style="margin-left:22%;">   play speech.wav norm vad</pre>


<p style="margin-left:22%;">to trim from the front,</p>

<pre style="margin-left:22%;">   play speech.wav norm reverse vad reverse</pre>


<p style="margin-left:22%;">to trim from the back, and</p>

<pre style="margin-left:22%;">   play speech.wav norm vad reverse vad reverse</pre>


<p style="margin-left:22%;">to trim from both ends. The use
of the <b>norm</b> effect is recommended, but remember that
neither <b>reverse</b> nor <b>norm</b> is suitable for use
with streamed audio.</p>


<p style="margin-left:22%; margin-top: 1em"><i>Options:</i>
<br>
Default values are shown in parenthesis. <b><br>
&minus;t&nbsp;</b><i>num&nbsp;</i>(7)</p>

<p style="margin-left:32%;">The measurement level used to
trigger activity detection. This might need to be changed
depending on the noise level, signal level and other
charactistics of the input audio.</p>


<p style="margin-left:22%;"><b>&minus;T&nbsp;</b><i>num&nbsp;</i>(0.25)</p>

<p style="margin-left:32%;">The time constant (in seconds)
used to help ignore short bursts of sound.</p>


<p style="margin-left:22%;"><b>&minus;s&nbsp;</b><i>num&nbsp;</i>(1)</p>

<p style="margin-left:32%;">The amount of audio (in
seconds) to search for quieter/shorter bursts of audio to
include prior to the detected trigger point.</p>


<p style="margin-left:22%;"><b>&minus;g&nbsp;</b><i>num&nbsp;</i>(0.25)</p>

<p style="margin-left:32%;">Allowed gap (in seconds)
between quieter/shorter bursts of audio to include prior to
the detected trigger point.</p>


<p style="margin-left:22%;"><b>&minus;p&nbsp;</b><i>num&nbsp;</i>(0)</p>

<p style="margin-left:32%;">The amount of audio (in
seconds) to preserve before the trigger point and any found
quieter/shorter bursts.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&nbsp;</p></td>
<td width="10%"></td>
<td width="26%">


<p><i>Advanced Options:</i></p></td>
<td width="52%">
</td></tr>
</table>

<p style="margin-left:22%;">These allow fine tuning of the
algorithm&rsquo;s internal parameters.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">



<p style="margin-top: 1em"><b>&minus;b&nbsp;</b><i>num</i></p> </td>
<td width="1%"></td>
<td width="68%">


<p style="margin-top: 1em">The algorithm (internally) uses
adaptive noise estimation/reduction in order to detect the
start of the wanted audio. This option sets the time for the
initial noise estimate.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p><b>&minus;N&nbsp;</b><i>num</i></p></td>
<td width="1%"></td>
<td width="68%">


<p>Time constant used by the adaptive noise estimator for
when the noise level is increasing.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p><b>&minus;n&nbsp;</b><i>num</i></p></td>
<td width="1%"></td>
<td width="68%">


<p>Time constant used by the adaptive noise estimator for
when the noise level is decreasing.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p><b>&minus;r&nbsp;</b><i>num</i></p></td>
<td width="1%"></td>
<td width="68%">


<p>Amount of noise reduction to use in the detection
algorithm (e.g. 0, 0.5, ...).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p><b>&minus;f&nbsp;</b><i>num</i></p></td>
<td width="1%"></td>
<td width="68%">


<p>Frequency of the algorithm&rsquo;s
processing/measurements.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p><b>&minus;m&nbsp;</b><i>num</i></p></td>
<td width="1%"></td>
<td width="68%">


<p>Measurement duration; by default, twice the measurement
period; i.e. with overlap.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p><b>&minus;M&nbsp;</b><i>num</i></p></td>
<td width="1%"></td>
<td width="68%">


<p>Time constant used to smooth spectral measurements.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p><b>&minus;h&nbsp;</b><i>num</i></p></td>
<td width="1%"></td>
<td width="68%">


<p>&lsquo;Brick-wall&rsquo; frequency of high-pass filter
applied at the input to the detector algorithm.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p><b>&minus;l&nbsp;</b><i>num</i></p></td>
<td width="1%"></td>
<td width="68%">


<p>&lsquo;Brick-wall&rsquo; frequency of low-pass filter
applied at the input to the detector algorithm.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p><b>&minus;H&nbsp;</b><i>num</i></p></td>
<td width="1%"></td>
<td width="68%">


<p>&lsquo;Brick-wall&rsquo; frequency of high-pass lifter
used in the detector algorithm.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p><b>&minus;L&nbsp;</b><i>num</i></p></td>
<td width="1%"></td>
<td width="68%">


<p>&lsquo;Brick-wall&rsquo; frequency of low-pass lifter
used in the detector algorithm.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p>&nbsp;</p></td>
<td width="1%"></td>
<td width="68%">
</td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">See also the
<b>silence</b> effect.</p>

<p style="margin-left:11%;"><b>vol</b> <i>gain</i>
[<i>type</i> [<i>limitergain</i>]]</p>

<p style="margin-left:22%;">Apply an amplification or an
attenuation to the audio signal. Unlike the <b>&minus;v</b>
option (which is used for balancing multiple input files as
they enter the SoX effects processing chain), <b>vol</b> is
an effect like any other so can be applied anywhere, and
several times if necessary, during the processing chain.</p>

<p style="margin-left:22%; margin-top: 1em">The amount to
change the volume is given by <i>gain</i> which is
interpreted, according to the given <i>type</i>, as follows:
if <i>type</i> is <b>amplitude</b> (or is omitted), then
<i>gain</i> is an amplitude (i.e. voltage or linear) ratio,
if <b>power</b>, then a power (i.e. wattage or
voltage-squared) ratio, and if <b>dB</b>, then a power
change in dB.</p>

<p style="margin-left:22%; margin-top: 1em">When
<i>type</i> is <b>amplitude</b> or <b>power</b>, a
<i>gain</i> of 1 leaves the volume unchanged, less than 1
decreases it, and greater than 1 increases it; a negative
<i>gain</i> inverts the audio signal in addition to
adjusting its volume.</p>

<p style="margin-left:22%; margin-top: 1em">When
<i>type</i> is <b>dB</b>, a <i>gain</i> of 0 leaves the
volume unchanged, less than 0 decreases it, and greater than
0 increases it.</p>

<p style="margin-left:22%; margin-top: 1em">See [4] for a
detailed discussion on electrical (and hence audio signal)
voltage and power ratios.</p>

<p style="margin-left:22%; margin-top: 1em">Beware of
<b>Clipping</b> when the increasing the volume.</p>

<p style="margin-left:22%; margin-top: 1em">The <i>gain</i>
and the <i>type</i> parameters can be concatenated if
desired, e.g. <b>vol 10dB</b>.</p>

<p style="margin-left:22%; margin-top: 1em">An optional
<i>limitergain</i> value can be specified and should be a
value much less than 1 (e.g. 0.05 or 0.02) and is used only
on peaks to prevent clipping. Not specifying this parameter
will cause no limiter to be used. In verbose mode, this
effect will display the percentage of the audio that needed
to be limited.</p>

<p style="margin-left:22%; margin-top: 1em">See also
<b>gain</b> for a volume-changing effect with different
capabilities, and <b>compand</b> for a dynamic-range
compression/expansion/limiting effect.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Deprecated
Effects</b> <br>
The following effects have been renamed or have their
functionality included in another effect; they continue to
work in this version of SoX but may be removed in future.
<b><br>
mixer</b> [
<b>&minus;l</b>|<b>&minus;r</b>|<b>&minus;f</b>|<b>&minus;b</b>|<b>&minus;1</b>|<b>&minus;2</b>|<b>&minus;3</b>|<b>&minus;4</b>|<i>n</i>{<b>,</b><i>n</i>}
]</p>

<p style="margin-left:22%;">Reduce the number of audio
channels by mixing or selecting channels, or increase the
number of channels by duplicating channels. Note: this
effect operates on the audio <i>channels</i> within the SoX
effects processing chain; it should not be confused with the
<b>&minus;m</b> global option (where multiple <i>files</i>
are mix-combined before entering the effects chain).</p>

<p style="margin-left:22%; margin-top: 1em">When reducing
the number of channels it is possible to use the
<b>&minus;l</b>, <b>&minus;r</b>, <b>&minus;f</b>,
<b>&minus;b</b>, <b>&minus;1</b>, <b>&minus;2</b>,
<b>&minus;3</b>, <b>&minus;4</b>, options to select only the
left, right, front, back channel(s) or specific channel for
the output instead of averaging the channels. The
<b>&minus;l</b>, and <b>&minus;r</b> options will do
averaging in quad-channel files so select the exact channel
to prevent this.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>mixer</b> effect can also be invoked with up to 16
numbers, separated by commas, which specify the proportion
(0 = 0% and 1 = 100%) of each input channel that is to be
mixed into each output channel. In two-channel mode, 4
numbers are given: l &rarr; l, l &rarr; r, r &rarr; l, and r
&rarr; r, respectively. In four-channel mode, the first 4
numbers give the proportions for the left-front output
channel, as follows: lf &rarr; lf, rf &rarr; lf, lb &rarr;
lf, and rb &rarr; rf. The next 4 give the right-front output
in the same order, then left-back and right-back.</p>

<p style="margin-left:22%; margin-top: 1em">It is also
possible to use the 16 numbers to expand or reduce the
channel count; just specify 0 for unused channels.</p>

<p style="margin-left:22%; margin-top: 1em">Finally,
certain reduced combination of numbers can be specified for
certain input/output channel combinations.</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-3267720.png" alt="Image grohtml-3267720.png"></p>

<p style="margin-left:22%; margin-top: 1em">This effect has
been superseded by the <b>remix</b> effect that handles any
number of channels.</p>

<h2>DIAGNOSTICS
<a name="DIAGNOSTICS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Exit status is
0 for no error, 1 if there is a problem with the
command-line parameters, or 2 if an error occurs during file
processing.</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Please report
any bugs found in this version of SoX to the mailing list
(sox-users@lists.sourceforge.net).</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>soxi</b>(1),
<b>soxformat</b>(7), <b>libsox</b>(3) <b><br>
audacity</b>(1), <b>gnuplot</b>(1), <b>octave</b>(1),
<b>wget</b>(1) <br>
The SoX web site at http://sox.sourceforge.net <br>
SoX scripting examples at
http://sox.sourceforge.net/Docs/Scripts</p>


<p style="margin-left:11%; margin-top: 1em"><b>References</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>[1]</p></td>
<td width="7%"></td>
<td width="78%">


<p>R. Bristow-Johnson, <i>Cookbook formulae for audio EQ
biquad filter coefficients</i>,
http://musicdsp.org/files/Audio-EQ-Cookbook.txt</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>[2]</p></td>
<td width="7%"></td>
<td width="78%">


<p>Wikipedia, <i>Q-factor</i>,
http://en.wikipedia.org/wiki/Q_factor</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>[3]</p></td>
<td width="7%"></td>
<td width="78%">


<p>Scott Lehman, <i>Effects Explained</i>,
http://harmony-central.com/Effects/effects-explained.html</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>[4]</p></td>
<td width="7%"></td>
<td width="78%">


<p>Wikipedia, <i>Decibel</i>,
http://en.wikipedia.org/wiki/Decibel</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>[5]</p></td>
<td width="7%"></td>
<td width="78%">


<p>Richard Furse, <i>Linux Audio Developer&rsquo;s Simple
Plugin API</i>, http://www.ladspa.org</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>[6]</p></td>
<td width="7%"></td>
<td width="78%">


<p>Richard Furse, <i>Computer Music Toolkit</i>,
http://www.ladspa.org/cmt</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>[7]</p></td>
<td width="7%"></td>
<td width="78%">


<p>Steve Harris, <i>LADSPA plugins</i>,
http://plugin.org.uk</p> </td></tr>
</table>

<h2>LICENSE
<a name="LICENSE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
1998&minus;2013 Chris Bagwell and SoX Contributors. <br>
Copyright 1991 Lance Norskog and Sundry Contributors.</p>

<p style="margin-left:11%; margin-top: 1em">This program is
free software; you can redistribute it and/or modify it
under the terms of the GNU General Public License as
published by the Free Software Foundation; either version 2,
or (at your option) any later version.</p>

<p style="margin-left:11%; margin-top: 1em">This program is
distributed in the hope that it will be useful, but WITHOUT
ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Chris Bagwell
(cbagwell@users.sourceforge.net). Other authors and
contributors are listed in the ChangeLog file that is
distributed with the source code.</p>
<hr>
</body>
</html>
