<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 00:38:22 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>DOVEADM&minus;SEARCH&minus;QUERY</title>

</head>
<body>

<h1 align="center">DOVEADM&minus;SEARCH&minus;QUERY</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#SEARCH KEYS">SEARCH KEYS</a><br>
<a href="#DATE SPECIFICATION">DATE SPECIFICATION</a><br>
<a href="#SIZE">SIZE</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">doveadm&minus;search&minus;query
&minus; Overview of search queries for doveadm mailbox
commands</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Several
<b>doveadm</b>(1) commands use a <i>search_query</i> in
order to act only on matching messages. This manual page
describes all <i>SEARCH&nbsp;KEYS</i>, which can be used in
a <i>search_query</i>.</p>

<p style="margin-left:11%; margin-top: 1em">Each
<i>search_query</i> consists at least of one
<i>SEARCH&nbsp;KEY</i>. Most of the <i>SEARCH KEYS</i>
require an argument. All <i>SEARCH&nbsp;KEYS</i> are
case&minus;insensitive. The shortest valid
<i>search_query</i> is <b>ALL</b>. For example:</p>

<p style="margin-left:22%; margin-top: 1em">doveadm search
ALL</p>

<p style="margin-left:11%; margin-top: 1em">Multiple search
query expressions will be combined with the <b>AND</b>
operator by default. To find all messages that are new and
greater than 50 kilobyte, one can use:</p>

<p style="margin-left:22%; margin-top: 1em">doveadm search
NEW LARGER 50k</p>


<p style="margin-left:11%; margin-top: 1em"><b>OR</b>&minus;ed
<i>SEARCH KEYS</i> have to be written in parenthesis, when
mixing ANDs and ORs. Shells commonly require escaping for
parentheses. To find messages that were saved on the
&quot;13th of April 2007&quot; AND have the \Seen and/or
\Flagged flag set, one can use for example:</p>

<p style="margin-left:22%; margin-top: 1em">doveadm search
SAVEDON 2007&minus;04&minus;13 \( SEEN OR FLAGGED \)</p>

<p style="margin-left:11%; margin-top: 1em">It's also
possible to specify the mailbox, in which should be
searched. Use either the keyword <b>mailbox</b> and the name
of the mailbox or the keyword <b>mailbox&minus;guid</b> and
the mailbox's globally unique identifier in the
<i>search_query</i>. To find all messages in the mailbox
with the GUID &quot;44f68b13ce97044b837f000035ca9452&quot;
use:</p>

<p style="margin-left:22%; margin-top: 1em">doveadm search
mailbox&minus;guid 44f68b13ce97044b837f000035ca9452 ALL</p>

<p style="margin-left:11%; margin-top: 1em">To list all
deleted messages in the &quot;Trash&quot; folder use:</p>

<p style="margin-left:22%; margin-top: 1em">doveadm search
mailbox Trash DELETED</p>

<h2>SEARCH KEYS
<a name="SEARCH KEYS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
search keys from the specification of IMAP version 4
revision 1 (see: RFC 3501, section 6.4.4) are supported:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>ALL</b></p></td>
<td width="7%"></td>
<td width="32%">


<p>Matches all messages.</p></td>
<td width="46%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>ANSWERED</b></p>

<p style="margin-left:22%;">Matches messages with the IMAP
flag \Answered set.</p>


<p style="margin-left:11%;"><b>BCC&nbsp;</b><i>pattern</i></p>

<p style="margin-left:22%;">Matches messages, which contain
<i>pattern</i> in the BCC field of the message's IMAP
envelope structure.</p>


<p style="margin-left:11%;"><b>BEFORE&nbsp;</b><i>date&nbsp;specification</i></p>

<p style="margin-left:22%;">Matches messages with an
internal date before <i>date&nbsp;specification</i>.</p>


<p style="margin-left:11%;"><b>BODY&nbsp;</b><i>pattern</i></p>

<p style="margin-left:22%;">Matches messages, which contain
<i>pattern</i> in the body part.</p>


<p style="margin-left:11%;"><b>CC&nbsp;</b><i>pattern</i></p>

<p style="margin-left:22%;">Matches messages, which contain
<i>pattern</i> in the CC field of the message's IMAP
envelope structure.</p>

<p style="margin-left:11%;"><b>DELETED</b></p>

<p style="margin-left:22%;">Matches messages with the IMAP
flag \Deleted set.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>DRAFT</b></p></td>
<td width="4%"></td>
<td width="72%">


<p>Matches messages with the IMAP flag \Draft set.</p></td>
<td width="6%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>FLAGGED</b></p>

<p style="margin-left:22%;">Matches messages with the IMAP
flag \Flagged set.</p>


<p style="margin-left:11%;"><b>FROM&nbsp;</b><i>pattern</i></p>

<p style="margin-left:22%;">Matches messages, which contain
<i>pattern</i> in the FROM field of the message's IMAP
envelope structure.</p>

<p style="margin-left:11%;"><b>HEADER</b> <i>field
pattern</i></p>

<p style="margin-left:22%;">Matches messages, which either
have the named header <i>field</i>, when empty
<i>pattern</i> was given. Or messages, where the given
header <i>field</i>'s value contains the specified
<i>pattern</i>.</p>


<p style="margin-left:11%;"><b>KEYWORD&nbsp;</b><i>keyword</i></p>

<p style="margin-left:22%;">Matches messages with the given
IMAP <i>keyword</i> (e.g. $Forwarded) flag set.</p>


<p style="margin-left:11%;"><b>LARGER&nbsp;</b><i>size</i></p>

<p style="margin-left:22%;">Matches messages that are
larger than the specified <i>size</i>.</p>


<p style="margin-left:11%;"><b>MAILBOX&nbsp;</b><i>name</i></p>

<p style="margin-left:22%;">Matches messages in the mailbox
with the specified <i>name</i>.</p>


<p style="margin-left:11%;"><b>MAILBOX&minus;GUID&nbsp;</b><i>guid</i></p>

<p style="margin-left:22%;">Matches messages in the mailbox
with the specified <i>guid</i>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>NEW</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Matches messages, which have the IMAP flag \Recent set
<b>but not</b> the IMAP flag \Seen.</p></td></tr>
</table>


<p style="margin-left:11%;"><b>NOT&nbsp;</b><i>search&nbsp;key</i></p>

<p style="margin-left:22%;">Inverse matching &minus;
matches massages, where the search doesn't match the
specified <i>search&nbsp;key</i> or its value.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>OLD</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Matches messages, which do not have the IMAP flag
\Recent set.</p></td></tr>
</table>


<p style="margin-left:11%;"><b>ON&nbsp;</b><i>date&nbsp;specification</i></p>

<p style="margin-left:22%;">Matches messages whose internal
date matches the given <i>date&nbsp;specification</i>.</p>


<p style="margin-left:11%;"><i>search&nbsp;key&nbsp;</i><b>OR&nbsp;</b><i>search&nbsp;key</i></p>

<p style="margin-left:22%;">Matches messages where one of
the OR&minus;ed search keys matches. <br>
Note: IMAP4rev1 uses the syntax:
<b>OR&nbsp;</b><i>search&nbsp;key&nbsp;search&nbsp;key</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>RECENT</b></p></td>
<td width="2%"></td>
<td width="73%">


<p>Matches messages with the IMAP flag \Recent set.</p></td>
<td width="5%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>SEEN</b></p></td>
<td width="2%"></td>
<td width="73%">


<p>Matches messages with the IMAP flag \Seen set.</p></td>
<td width="5%">
</td></tr>
</table>


<p style="margin-left:11%;"><b>SENTBEFORE&nbsp;</b><i>date&nbsp;specification</i></p>

<p style="margin-left:22%;">Matches messages with a Date:
header before <i>date&nbsp;specification</i>.</p>


<p style="margin-left:11%;"><b>SENTON&nbsp;</b><i>date&nbsp;specification</i></p>

<p style="margin-left:22%;">Matches messages with a Date:
header matching the given
<i>date&nbsp;specification</i>.</p>


<p style="margin-left:11%;"><b>SENTSINCE&nbsp;</b><i>date&nbsp;specification</i></p>

<p style="margin-left:22%;">Matches messages with a Date:
header matching or after the given
<i>date&nbsp;specification</i>.</p>


<p style="margin-left:11%;"><b>SINCE&nbsp;</b><i>date&nbsp;specification</i></p>

<p style="margin-left:22%;">Matches messages whose internal
date is within or after the given
<i>date&nbsp;specification</i>.</p>


<p style="margin-left:11%;"><b>SMALLER&nbsp;</b><i>size</i></p>

<p style="margin-left:22%;">Matches messages with a size
smaller than the given <i>size</i>.</p>


<p style="margin-left:11%;"><b>SUBJECT&nbsp;</b><i>pattern</i></p>

<p style="margin-left:22%;">Matches messages, which contain
<i>pattern</i> in the SUBJECT field of the message's IMAP
envelope structure.</p>


<p style="margin-left:11%;"><b>TEXT&nbsp;</b><i>pattern</i></p>

<p style="margin-left:22%;">Matches messages, which contain
<i>pattern</i> in the message body.</p>


<p style="margin-left:11%;"><b>TO&nbsp;</b><i>pattern</i></p>

<p style="margin-left:22%;">Matches messages, which contain
<i>pattern</i> in the TO field of the message's IMAP
envelope structure.</p>


<p style="margin-left:11%;"><b>UID&nbsp;</b><i>sequence</i></p>

<p style="margin-left:22%;">Matches messages with the given
UID(s). A <i>sequence</i> may be a single UID. Can be a
sequence range, written as <i>from</i>:<i>to</i>,
e.g.&nbsp;<b>100</b>:<b>125</b>. As comma separated list of
UIDs, e.g. <b>11,50,4</b>. It's also possible to combine
multiple sequences, e.g. <b>1,3,5,7,10:20</b>.</p>

<p style="margin-left:11%;"><b>UNANSWERED</b></p>

<p style="margin-left:22%;">Matches messages, which do not
have the IMAP flag \Answered set.</p>

<p style="margin-left:11%;"><b>UNDELETED</b></p>

<p style="margin-left:22%;">Matches messages, which do not
have the IMAP flag \Deleted set.</p>

<p style="margin-left:11%;"><b>UNDRAFT</b></p>

<p style="margin-left:22%;">Matches messages, which do not
have the IMAP flag \Draft set.</p>

<p style="margin-left:11%;"><b>UNFLAGGED</b></p>

<p style="margin-left:22%;">Matches messages, which do not
have the IMAP flag \Flagged set.</p>


<p style="margin-left:11%;"><b>UNKEYWORD&nbsp;</b><i>keyword</i></p>

<p style="margin-left:22%;">Matches messages, which do not
have the given IMAP <i>keyword</i> flag set</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>UNSEEN</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Matches messages, which do not have the IMAP flag \Seen
set.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>DOVEADM
SEARCH KEYS</b> <br>
Additional search keys, provided by <b>doveadm</b>(1).
<b><br>
SAVEDBEFORE&nbsp;</b><i>date&nbsp;specification</i></p>

<p style="margin-left:22%;">Matches messages, which were
saved before <i>date&nbsp;specification</i>.</p>


<p style="margin-left:11%;"><b>SAVEDON&nbsp;</b><i>date&nbsp;specification</i></p>

<p style="margin-left:22%;">Matches messages whose save
date matches the given <i>date&nbsp;specification</i>.</p>


<p style="margin-left:11%;"><b>SAVEDSINCE&nbsp;</b><i>date&nbsp;specification</i></p>

<p style="margin-left:22%;">Matches messages with a save
date matching or after the given
<i>date&nbsp;specification</i>.</p>

<h2>DATE SPECIFICATION
<a name="DATE SPECIFICATION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>doveadm</b>(1)
supports a few additional <i>date specification</i> formats.
They can be used anywhere, where a <i>date specification</i>
value is obligatory. <i><br>

day</i><b>&minus;</b><i>month</i><b>&minus;</b><i>year</i></p>

<p style="margin-left:22%;">Default IMAP4rev1 date format.
<i><br>
day</i>, the day of month: <b>1</b>&minus;<b>31</b>. <i><br>
month</i>, the abbreviated month name: <b>Jan</b>,
<b>Feb</b>, <b>Mar</b>, <b>Apr</b>, <b>May</b>, <b>Jun</b>,
<b>Jul</b>, <b>Aug</b>, <b>Sep</b>, <b>Oct</b>,
<b>Nov&nbsp;</b>or <b>Dec</b>. <i><br>
year</i>, four digits of year, e.g. <b>2007</b>. <br>
For example the &quot;13th of April 2007&quot; will be
represented as <b>13&minus;Apr&minus;2007</b>.</p>

<p style="margin-left:11%;"><i>interval</i></p>

<p style="margin-left:22%;">Combination of a positive
integer <i>number</i> and a <i>time&nbsp;unit</i>. <br>
Available <i>time&nbsp;units</i> are: <b>weeks</b> (abbr:
<b>w</b>), <b>days</b> (abbr: <b>d</b>), <b>hours</b> (abbr:
<b>h</b>), <b>mins</b> (abbr: <b>m</b>) and <b>secs</b>
(abbr: <b>s</b>). <br>
To match messages from last week, you may specify for
example: <b>since&nbsp;1w</b>,
<b>since&nbsp;1weeks&nbsp;</b>or
<b>since&nbsp;7days</b>.</p>

<p style="margin-left:11%;"><i>Unix timestamp</i></p>

<p style="margin-left:22%;">A 10 digit Unix timestamp,
seconds since the 1st of January 1970, 00:00:00 UTC. For
example the &quot;13th of April 2007&quot; will be
represented as <b>1176418800</b>.</p>


<p style="margin-left:11%;"><i>YYYY&minus;MM&minus;DD</i></p>

<p style="margin-left:22%;">Extended ISO&minus;8601
calendar date format. For example the &quot;13th of April
2007&quot; will be represented as
<b>2007&minus;04&minus;13</b>.</p>

<h2>SIZE
<a name="SIZE"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>doveadm</b>(1)
provides also an additional <i>size</i> representation
format. The following formats can be used anywhere, where a
<i>size</i> value is obligatory.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>octets</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>The message size in octets, as specified in the
IMAP4rev1 specification.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>size</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>The message size in <b>B&nbsp;</b>(byte),
<b>k&nbsp;</b>(kilobyte), <b>M&nbsp;</b>(megabyte),
<b>G&nbsp;</b>(gigabyte)&nbsp;or
<b>T&nbsp;</b>(terabyte).</p> </td></tr>
</table>

<p style="margin-left:22%;">To match messages, bigger than
1 megabyte, you may specify for example:
<b>larger&nbsp;1M&nbsp;</b>or <b>larger&nbsp;1024k</b>.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>doveadm</b>(1),
<b>doveadm&minus;search</b>(1)</p>
<hr>
</body>
</html>
