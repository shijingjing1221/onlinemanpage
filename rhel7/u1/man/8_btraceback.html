<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 00:25:56 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>BTRACEBACK</title>

</head>
<body>

<h1 align="center">BTRACEBACK</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#USAGE">USAGE</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#ENVIRONMENT">ENVIRONMENT</a><br>
<a href="#FILES">FILES</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">btraceback
&minus; wrapper script around gdb and bsmtp</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>btraceback</b>
<i>/path/to/binary pid</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i><b>btraceback</b></i>
is a wrapper shell script around the <b>gdb</b> debugger (or
<b>dbx</b> on Solaris systems) and <b>bsmtp</b>, provided
for debugging purposes.</p>

<h2>USAGE
<a name="USAGE"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>btraceback</b>
is called by the exception handlers of the Bacula daemons
during a crash. It can also be called interactively to view
the current state of the threads belonging to a process, but
this is not recommended unless you are trying to debug a
problem (see below).</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">In order to
work properly, debugging symbols must be available to the
debugger on the system, and gdb, or dbx (on Solaris systems)
must be available in the <b>$PATH</b>.</p>

<p style="margin-left:11%; margin-top: 1em">If the Director
or Storage daemon runs under a non-root uid, you will
probably need to be modify the <b>btraceback</b> script to
elevate privileges for the call to <b>gdb</b>/<b>dbx</b>, to
ensure it has the proper permissions to debug when called by
the daemon.</p>

<p style="margin-left:11%; margin-top: 1em">Although
Bacula&rsquo;s use of <b>btraceback</b> within its exception
handlers is always safe, manual or interactive use of
<b>btraceback</b> is subject to the same risks than live
debugging of any program, which means it could cause Bacula
to crash under rare and abnormal circumstances. Consequently
we do not recommend manual use of <b>btraceback</b> in
production environments unless it is required for debugging
a problem.</p>

<h2>ENVIRONMENT
<a name="ENVIRONMENT"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>btracback</b>
relies on <b>$PATH</b> to find the debugger.</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>/usr/lib/bacula/btraceback</i></p>

<p style="margin-left:22%;">The script itself.</p>


<p style="margin-left:11%;"><i>/usr/sbin/btraceback</i></p>

<p style="margin-left:22%;">symbolic link to
<i>/usr/lib/bacula/btraceback</i></p>


<p style="margin-left:11%;"><i>/etc/bacula/scripts/btraceback.gdb</i></p>

<p style="margin-left:22%;">the GDB command batch used to
output a stack trace</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This manual
page was written by Lucas B. Cohen
&lt;lbc@members.fsf.org&gt;</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>bsmtp</b>(1)</p>
<hr>
</body>
</html>
