<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 01:28:36 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SPAWN</title>

</head>
<body>

<h1 align="center">SPAWN</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#COMMAND ATTRIBUTE SYNTAX">COMMAND ATTRIBUTE SYNTAX</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#DIAGNOSTICS">DIAGNOSTICS</a><br>
<a href="#SECURITY">SECURITY</a><br>
<a href="#CONFIGURATION PARAMETERS">CONFIGURATION PARAMETERS</a><br>
<a href="#RESOURCE AND RATE CONTROL">RESOURCE AND RATE CONTROL</a><br>
<a href="#MISCELLANEOUS">MISCELLANEOUS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#LICENSE">LICENSE</a><br>
<a href="#AUTHOR(S)">AUTHOR(S)</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">spawn &minus;
Postfix external command spawner</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>spawn</b>
[generic Postfix daemon options] command_attributes...</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>spawn</b>(8) daemon provides the Postfix equivalent of
<b>inetd</b>. It listens on a port as specified in the
Postfix <b>master.cf</b> file and spawns an external command
whenever a connection is established. The connection can be
made over local IPC (such as UNIX-domain sockets) or over
non-local IPC (such as TCP sockets). The command&acute;s
standard input, output and error streams are connected
directly to the communication endpoint.</p>

<p style="margin-left:11%; margin-top: 1em">This daemon
expects to be run from the <b>master</b>(8) process
manager.</p>

<h2>COMMAND ATTRIBUTE SYNTAX
<a name="COMMAND ATTRIBUTE SYNTAX"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The external
command attributes are given in the <b>master.cf</b> file at
the end of a service definition. The syntax is as follows:
<b><br>
user</b>=<i>username</i> (required) <b><br>
user</b>=<i>username</i>:<i>groupname</i></p>

<p style="margin-left:22%;">The external command is
executed with the rights of the specified <i>username</i>.
The software refuses to execute commands with root
privileges, or with the privileges of the mail system owner.
If <i>groupname</i> is specified, the corresponding group ID
is used instead of the group ID of <i>username</i>.</p>

<p style="margin-left:11%;"><b>argv</b>=<i>command</i>...
(required)</p>

<p style="margin-left:22%;">The command to be executed.
This must be specified as the last command attribute. The
command is executed directly, i.e. without interpretation of
shell meta characters by a shell command interpreter.</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">In order to
enforce standard Postfix process resource controls, the
<b>spawn</b>(8) daemon runs only one external command at a
time. As such, it presents a noticeable overhead by wasting
precious process resources. The <b>spawn</b>(8) daemon is
expected to be replaced by a more structural solution.</p>

<h2>DIAGNOSTICS
<a name="DIAGNOSTICS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>spawn</b>(8) daemon reports abnormal child exits.
Problems are logged to <b>syslogd</b>(8).</p>

<h2>SECURITY
<a name="SECURITY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This program
needs root privilege in order to execute external commands
as the specified user. It is therefore security sensitive.
However the <b>spawn</b>(8) daemon does not talk to the
external command and thus is not vulnerable to data-driven
attacks.</p>

<h2>CONFIGURATION PARAMETERS
<a name="CONFIGURATION PARAMETERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Changes to
<b>main.cf</b> are picked up automatically as
<b>spawn</b>(8) processes run for only a limited amount of
time. Use the command &quot;<b>postfix reload</b>&quot; to
speed up a change.</p>

<p style="margin-left:11%; margin-top: 1em">The text below
provides only a parameter summary. See <b>postconf</b>(5)
for more details including examples.</p>

<p style="margin-left:11%; margin-top: 1em">In the text
below, <i>transport</i> is the first field of the entry in
the <b>master.cf</b> file.</p>

<h2>RESOURCE AND RATE CONTROL
<a name="RESOURCE AND RATE CONTROL"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>transport</i><b>_time_limit
($command_time_limit)</b></p>

<p style="margin-left:22%;">The amount of time the command
is allowed to run before it is terminated.</p>

<p style="margin-left:22%; margin-top: 1em">Postfix 2.4 and
later support a suffix that specifies the time unit: s
(seconds), m (minutes), h (hours), d (days), w (weeks). The
default time unit is seconds.</p>

<h2>MISCELLANEOUS
<a name="MISCELLANEOUS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>config_directory
(see &rsquo;postconf -d&rsquo; output)</b></p>

<p style="margin-left:22%;">The default location of the
Postfix main.cf and master.cf configuration files.</p>

<p style="margin-left:11%;"><b>daemon_timeout
(18000s)</b></p>

<p style="margin-left:22%;">How much time a Postfix daemon
process may take to handle a request before it is terminated
by a built-in watchdog timer.</p>

<p style="margin-left:11%;"><b>export_environment (see
&rsquo;postconf -d&rsquo; output)</b></p>

<p style="margin-left:22%;">The list of environment
variables that a Postfix process will export to non-Postfix
processes.</p>

<p style="margin-left:11%;"><b>ipc_timeout (3600s)</b></p>

<p style="margin-left:22%;">The time limit for sending or
receiving information over an internal communication
channel.</p>

<p style="margin-left:11%;"><b>mail_owner (postfix)</b></p>

<p style="margin-left:22%;">The UNIX system account that
owns the Postfix queue and most Postfix daemon
processes.</p>

<p style="margin-left:11%;"><b>max_idle (100s)</b></p>

<p style="margin-left:22%;">The maximum amount of time that
an idle Postfix daemon process waits for an incoming
connection before terminating voluntarily.</p>

<p style="margin-left:11%;"><b>max_use (100)</b></p>

<p style="margin-left:22%;">The maximal number of incoming
connections that a Postfix daemon process will service
before terminating voluntarily.</p>

<p style="margin-left:11%;"><b>process_id
(read-only)</b></p>

<p style="margin-left:22%;">The process ID of a Postfix
command or daemon process.</p>

<p style="margin-left:11%;"><b>process_name
(read-only)</b></p>

<p style="margin-left:22%;">The process name of a Postfix
command or daemon process.</p>

<p style="margin-left:11%;"><b>queue_directory (see
&rsquo;postconf -d&rsquo; output)</b></p>

<p style="margin-left:22%;">The location of the Postfix
top-level queue directory.</p>

<p style="margin-left:11%;"><b>syslog_facility
(mail)</b></p>

<p style="margin-left:22%;">The syslog facility of Postfix
logging.</p>

<p style="margin-left:11%;"><b>syslog_name (see
&rsquo;postconf -d&rsquo; output)</b></p>

<p style="margin-left:22%;">The mail system name that is
prepended to the process name in syslog records, so that
&quot;smtpd&quot; becomes, for example,
&quot;postfix/smtpd&quot;.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">postconf(5),
configuration parameters <br>
master(8), process manager <br>
syslogd(8), system logging</p>

<h2>LICENSE
<a name="LICENSE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The Secure
Mailer license must be distributed with this software.</p>

<h2>AUTHOR(S)
<a name="AUTHOR(S)"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Wietse Venema
<br>
IBM T.J. Watson Research <br>
P.O. Box 704 <br>
Yorktown Heights, NY 10598, USA</p>
<hr>
</body>
</html>
