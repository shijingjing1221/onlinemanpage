<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 00:21:08 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>ACL_CALC_MASK(3) BSD Library Functions Manual
ACL_CALC_MASK(3)</p>

<p style="margin-top: 1em"><b>NAME</b></p>

<p style="margin-left:6%;"><b>acl_calc_mask</b> &mdash;
calculate the file group class mask</p>

<p style="margin-top: 1em"><b>LIBRARY</b></p>

<p style="margin-left:6%;">Linux Access Control Lists
library (libacl, &minus;lacl).</p>

<p style="margin-top: 1em"><b>SYNOPSIS</b></p>

<p style="margin-left:6%;"><b>#include &lt;sys/types.h&gt;
<br>
#include &lt;sys/acl.h&gt;</b></p>

<p style="margin-left:6%; margin-top: 1em"><i>int</i></p>


<p style="margin-left:12%;"><b>acl_calc_mask</b>(<i>acl_t&nbsp;*acl_p</i>);</p>

<p style="margin-top: 1em"><b>DESCRIPTION</b></p>

<p style="margin-left:6%;">The <b>acl_calc_mask</b>()
function calculates and sets the permissions associated with
the ACL_MASK ACL entry of the ACL referred to by
<i>acl_p</i>. The value of the new permissions is the union
of the permissions granted by all entries of tag type
ACL_GROUP, ACL_GROUP_OBJ, or ACL_USER. If the ACL referred
to by <i>acl_p</i> already contains an ACL_MASK entry, its
permissions are overwritten; if it does not contain an
ACL_MASK entry, one is added.</p>

<p style="margin-left:6%; margin-top: 1em">If the ACL
referred to by <i>acl_p</i> does not contain enough space
for the new ACL entry, then additional working storage may
be allocated. If the working storage cannot be increased in
the current location, then it may be relocated and the
previous working storage is released and a pointer to the
new working storage is returned via <i>acl_p</i>.</p>

<p style="margin-left:6%; margin-top: 1em">The order of
existing entries in the ACL is undefined after this
function.</p>

<p style="margin-left:6%; margin-top: 1em">Any existing ACL
entry descriptors that refer to entries in the ACL continue
to refer to those entries. Any existing ACL pointers that
refer to the ACL referred to by <i>acl_p</i> continue to
refer to the ACL.</p>

<p style="margin-top: 1em"><b>RETURN VALUE</b></p>

<p style="margin-left:6%;">The <b>acl_calc_mask</b>()
function returns the value&nbsp;0 if successful; otherwise
the value&nbsp;&minus;1 is returned and the global variable
<i>errno</i> is set to indicate the error.</p>

<p style="margin-top: 1em"><b>ERRORS</b></p>

<p style="margin-left:6%;">If any of the following
conditions occur, the <b>acl_calc_mask</b>() function
returns -1 and sets <i>errno</i> to the corresponding
value:</p>

<p style="margin-top: 1em">[EINVAL]</p>

<p style="margin-left:31%; margin-top: 1em">The argument
<i>acl</i> is not a valid pointer to an ACL.</p>

<p style="margin-top: 1em">[ENOMEM]</p>

<p style="margin-left:31%; margin-top: 1em">The
<b>acl_calc_mask</b>() function is unable to allocate the
memory required for an ACL_MASK ACL entry.</p>

<p style="margin-top: 1em"><b>STANDARDS</b></p>

<p style="margin-left:6%;">IEEE Std 1003.1e draft 17
(&ldquo;POSIX.1e&rdquo;, abandoned)</p>

<p style="margin-top: 1em"><b>SEE ALSO</b></p>

<p style="margin-left:6%;">acl_check(3), acl_get_entry(3),
acl_valid(3), acl(5)</p>

<p style="margin-top: 1em"><b>AUTHOR</b></p>

<p style="margin-left:6%;">Derived from the FreeBSD manual
pages written by Robert N M Watson
&lt;rwatson@FreeBSD.org&gt;, and adapted for Linux by
Andreas Gruenbacher &lt;a.gruenbacher@bestbits.at&gt;.</p>

<p style="margin-left:6%; margin-top: 1em">Linux ACL
March&nbsp;23, 2002 Linux ACL</p>
<hr>
</body>
</html>
