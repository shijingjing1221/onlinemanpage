<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 01:58:14 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>HTDBM</title>

</head>
<body>

<h1 align="center">HTDBM</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#SUMMARY">SUMMARY</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#SECURITY CONSIDERATIONS">SECURITY CONSIDERATIONS</a><br>
<a href="#RESTRICTIONS">RESTRICTIONS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">htdbm &minus;
Manipulate DBM password databases</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>htdbm</b> [
-<b>T</b><i>DBTYPE</i> ] [ -<b>i</b> ] [ -<b>c</b> ] [
-<b>m</b> | -<b>B</b> | -<b>d</b> | -<b>s</b> | -<b>p</b> ]
[ -<b>C</b> <i>cost</i> ] [ -<b>t</b> ] [ -<b>v</b> ]
<i>filename username</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>htdbm</b>
-<b>b</b> [ -<b>T</b><i>DBTYPE</i> ] [ -<b>c</b> ] [
-<b>m</b> | -<b>B</b> | -<b>d</b> | -<b>s</b> | -<b>p</b> ]
[ -<b>C</b> <i>cost</i> ] [ -<b>t</b> ] [ -<b>v</b> ]
<i>filename username password</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>htdbm</b>
-<b>n</b> [ -<b>i</b> ] [ -<b>c</b> ] [ -<b>m</b> |
-<b>B</b> | -<b>d</b> | -<b>s</b> | -<b>p</b> ] [ -<b>C</b>
<i>cost</i> ] [ -<b>t</b> ] [ -<b>v</b> ]
<i>username</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>htdbm</b>
-<b>nb</b> [ -<b>c</b> ] [ -<b>m</b> | -<b>B</b> | -<b>d</b>
| -<b>s</b> | -<b>p</b> ] [ -<b>C</b> <i>cost</i> ] [
-<b>t</b> ] [ -<b>v</b> ] <i>username password</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>htdbm</b>
-<b>v</b> [ -<b>T</b><i>DBTYPE</i> ] [ -<b>i</b> ] [
-<b>c</b> ] [ -<b>m</b> | -<b>B</b> | -<b>d</b> | -<b>s</b>
| -<b>p</b> ] [ -<b>C</b> <i>cost</i> ] [ -<b>t</b> ] [
-<b>v</b> ] <i>filename username</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>htdbm</b>
-<b>vb</b> [ -<b>T</b><i>DBTYPE</i> ] [ -<b>c</b> ] [
-<b>m</b> | -<b>B</b> | -<b>d</b> | -<b>s</b> | -<b>p</b> ]
[ -<b>C</b> <i>cost</i> ] [ -<b>t</b> ] [ -<b>v</b> ]
<i>filename username password</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>htdbm</b>
-<b>x</b> [ -<b>T</b><i>DBTYPE</i> ] <i>filename
username</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>htdbm</b>
-<b>l</b> [ -<b>T</b><i>DBTYPE</i> ]</p>

<h2>SUMMARY
<a name="SUMMARY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">htdbm is used
to manipulate the DBM format files used to store usernames
and password for basic authentication of HTTP users via
mod_authn_dbm. See the dbmmanage documentation for more
information about these DBM files.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em">-b</p></td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em">Use batch mode; <i>i.e.</i>, get
the password from the command line rather than prompting for
it. This option should be used with extreme care, since
<b>the password is clearly visible</b> on the command line.
For script use see the -i option.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>-i</p></td>
<td width="8%"></td>
<td width="78%">


<p>Read the password from stdin without verification (for
script usage).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>-c</p></td>
<td width="8%"></td>
<td width="78%">


<p>Create the <i>passwdfile</i>. If <i>passwdfile</i>
already exists, it is rewritten and truncated. This option
cannot be combined with the -n option.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>-n</p></td>
<td width="8%"></td>
<td width="78%">


<p>Display the results on standard output rather than
updating a database. This option changes the syntax of the
command line, since the <i>passwdfile</i> argument (usually
the first one) is omitted. It cannot be combined with the -c
option.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>-m</p></td>
<td width="8%"></td>
<td width="78%">


<p>Use MD5 encryption for passwords. On Windows and
Netware, this is the default.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>-B</p></td>
<td width="8%"></td>
<td width="78%">


<p>Use bcrypt encryption for passwords. This is currently
considered to be very secure.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>-C</p></td>
<td width="8%"></td>
<td width="78%">


<p>This flag is only allowed in combination with -B (bcrypt
encryption). It sets the computing time used for the bcrypt
algorithm (higher is more secure but slower, default: 5,
valid: 4 to 31).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>-d</p></td>
<td width="8%"></td>
<td width="78%">


<p>Use crypt() encryption for passwords. The default on all
platforms but Windows and Netware. Though possibly supported
by htdbm on all platforms, it is not supported by the httpd
server on Windows and Netware. This algorithm is
<b>insecure</b> by today&rsquo;s standards.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>-s</p></td>
<td width="8%"></td>
<td width="78%">


<p>Use SHA encryption for passwords. Facilitates migration
from/to Netscape servers using the LDAP Directory
Interchange Format (ldif). This algorithm is <b>insecure</b>
by today&rsquo;s standards.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>-p</p></td>
<td width="8%"></td>
<td width="78%">


<p>Use plaintext passwords. Though htdbm will support
creation on all platforms, the httpd daemon will only accept
plain text passwords on Windows and Netware.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>-l</p></td>
<td width="8%"></td>
<td width="78%">


<p>Print each of the usernames and comments from the
database on stdout.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>-v</p></td>
<td width="8%"></td>
<td width="78%">


<p>Verify the username and password. The program will print
a message indicating whether the supplied password is valid.
If the password is invalid, the program exits with error
code 3.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>-x</p></td>
<td width="8%"></td>
<td width="78%">


<p>Delete user. If the username exists in the specified DBM
file, it will be deleted.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>-t</p></td>
<td width="8%"></td>
<td width="78%">


<p>Interpret the final parameter as a comment. When this
option is specified, an additional string can be appended to
the command line; this string will be stored in the
&quot;Comment&quot; field of the database, associated with
the specified username.</p></td></tr>
</table>

<p style="margin-left:11%;"><i>filename</i></p>

<p style="margin-left:22%;">The filename of the DBM format
file. Usually without the extension .db, .pag, or .dir. If
-c is given, the DBM file is created if it does not already
exist, or updated if it does exist.</p>

<p style="margin-left:11%;"><i>username</i></p>

<p style="margin-left:22%;">The username to create or
update in <i>passwdfile</i>. If <i>username</i> does not
exist in this file, an entry is added. If it does exist, the
password is changed.</p>

<p style="margin-left:11%;"><i>password</i></p>

<p style="margin-left:22%;">The plaintext password to be
encrypted and stored in the DBM file. Used only with the -b
flag.</p>

<p style="margin-left:11%;">-T<i>DBTYPE</i></p>

<p style="margin-left:22%;">Type of DBM file (SDBM, GDBM,
DB, or &quot;default&quot;).</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">One should be
aware that there are a number of different DBM file formats
in existence, and with all likelihood, libraries for more
than one format may exist on your system. The three primary
examples are SDBM, NDBM, GNU GDBM, and Berkeley/Sleepycat DB
2/3/4. Unfortunately, all these libraries use different file
formats, and you must make sure that the file format used by
<i>filename</i> is the same format that htdbm expects to
see. htdbm currently has no way of determining what type of
DBM file it is looking at. If used against the wrong format,
will simply return nothing, or may create a different DBM
file with a different name, or at worst, it may corrupt the
DBM file if you were attempting to write to it.</p>

<p style="margin-left:11%; margin-top: 1em">One can usually
use the file program supplied with most Unix systems to see
what format a DBM file is in.</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">htdbm returns a
zero status (&quot;true&quot;) if the username and password
have been successfully added or updated in the DBM File.
htdbm returns 1 if it encounters some problem accessing
files, 2 if there was a syntax problem with the command
line, 3 if the password was entered interactively and the
verification entry didn&rsquo;t match, 4 if its operation
was interrupted, 5 if a value is too long (username,
filename, password, or final computed record), 6 if the
username contains illegal characters (see the Restrictions
section), and 7 if the file is not a valid DBM password
file.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">htdbm
/usr/local/etc/apache/.htdbm-users jsmith</p>

<p style="margin-left:11%; margin-top: 1em">Adds or
modifies the password for user jsmith. The user is prompted
for the password. If executed on a Windows system, the
password will be encrypted using the modified Apache MD5
algorithm; otherwise, the system&rsquo;s crypt() routine
will be used. If the file does not exist, htdbm will do
nothing except return an error.</p>

<p style="margin-left:11%; margin-top: 1em">htdbm -c
/home/doe/public_html/.htdbm jane</p>

<p style="margin-left:11%; margin-top: 1em">Creates a new
file and stores a record in it for user jane. The user is
prompted for the password. If the file exists and cannot be
read, or cannot be written, it is not altered and htdbm will
display a message and return an error status.</p>

<p style="margin-left:11%; margin-top: 1em">htdbm -mb
/usr/web/.htdbm-all jones Pwd4Steve</p>

<p style="margin-left:11%; margin-top: 1em">Encrypts the
password from the command line (Pwd4Steve) using the MD5
algorithm, and stores it in the specified file.</p>

<h2>SECURITY CONSIDERATIONS
<a name="SECURITY CONSIDERATIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Web password
files such as those managed by htdbm should <i>not</i> be
within the Web server&rsquo;s URI space -- that is, they
should not be fetchable with a browser.</p>

<p style="margin-left:11%; margin-top: 1em">The use of the
-b option is discouraged, since when it is used the
unencrypted password appears on the command line.</p>

<p style="margin-left:11%; margin-top: 1em">When using the
crypt() algorithm, note that only the first 8 characters of
the password are used to form the password. If the supplied
password is longer, the extra characters will be silently
discarded.</p>

<p style="margin-left:11%; margin-top: 1em">The SHA
encryption format does not use salting: for a given
password, there is only one encrypted representation. The
crypt() and MD5 formats permute the representation by
prepending a random salt string, to make dictionary attacks
against the passwords more difficult.</p>

<p style="margin-left:11%; margin-top: 1em">The SHA and
crypt() formats are insecure by today&rsquo;s standards.</p>

<h2>RESTRICTIONS
<a name="RESTRICTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">On the Windows
platform, passwords encrypted with htdbm are limited to no
more than 255 characters in length. Longer passwords will be
truncated to 255 characters.</p>

<p style="margin-left:11%; margin-top: 1em">The MD5
algorithm used by htdbm is specific to the Apache software;
passwords encrypted using it will not be usable with other
Web servers.</p>

<p style="margin-left:11%; margin-top: 1em">Usernames are
limited to 255 bytes and may not include the character
:.</p>
<hr>
</body>
</html>
