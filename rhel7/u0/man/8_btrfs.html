<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 01:32:58 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>BTRFS</title>

</head>
<body>

<h1 align="center">BTRFS</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#COMMANDS">COMMANDS</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#AVAILABILITY">AVAILABILITY</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">btrfs &minus;
control a btrfs filesystem</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>btrfs
subvolume create</b> [-i <i>&lt;qgroupid&gt;</i>]
[<i>&lt;dest&gt;</i>/]<i>&lt;name&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
subvolume delete</b> <i>&lt;subvolume&gt;</i>
[<i>&lt;subvolume&gt;...</i>]</p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
subvolume list</b> [<i>options</i>] [-G [+|-]<i>value</i>]
[-C [+|-]<i>value</i>] [--sort=rootid,gen,ogen,path]
<i>&lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
subvolume snapshot</b> [-r] <i>&lt;source&gt;
&lt;dest&gt;</i>|[<i>&lt;dest&gt;</i>/]<i>&lt;name&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
subvolume get-default</b> <i>&lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
subvolume set-default</b> <i>&lt;id&gt; &lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
subvolume find-new</b> <i>&lt;subvolume&gt;
&lt;lastgen&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
subvolume show</b> <i>&lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
filesystem df</b> <i>&lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
filesystem show</b>
[<i>--mounted</i>|<i>--all-devices</i>|<i>&lt;uuid&gt;</i>]</p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
filesystem sync</b> <i>&lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
filesystem defragment</b> [<i>options</i>]
<i>&lt;file&gt;</i>|<i>&lt;dir&gt;</i>
[<i>&lt;file&gt;</i>|<i>&lt;dir&gt;...</i>]</p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
filesystem resize</b>
[<i>devid</i>:][+/&minus;]<i>&lt;size&gt;</i>[gkm]|[<i>devid</i>:]<i>max
&lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
filesystem label</b>
[<i>&lt;device&gt;</i>|<i>&lt;mount_point&gt;</i>]
[<i>&lt;newlabel&gt;</i>]</p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
[filesystem] balance start</b> [<i>options</i>]
<i>&lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
[filesystem] balance pause</b> <i>&lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
[filesystem] balance cancel</b> <i>&lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
[filesystem] balance resume</b> <i>&lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
[filesystem] balance status</b> [-v] <i>&lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs device
add</b> [-Kf] <i>&lt;device&gt;</i>
[<i>&lt;device&gt;...</i>] <i>&lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs device
delete</b> <i>&lt;device&gt;</i> [<i>&lt;device&gt;...</i>]
<i>&lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs device
scan</b> [<i>--all-devices</i>|<i>&lt;device&gt;
P[&lt;device&gt;...]</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs device
ready</b> <i>&lt;device&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs device
stats</b> [-z]
{<i>&lt;path&gt;</i>|<i>&lt;device&gt;</i>}</p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs scrub
start</b> [-BdqrR] [-c <i>ioprio_class</i> -n
<i>ioprio_classdata</i>]
{<i>&lt;path&gt;</i>|<i>&lt;device&gt;</i>}</p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs scrub
cancel</b> {<i>&lt;path&gt;</i>|<i>&lt;device&gt;</i>}</p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs scrub
resume</b> [-BdqrR] [-c <i>ioprio_class</i> -n
<i>ioprio_classdata</i>]
{<i>&lt;path&gt;</i>|<i>&lt;device&gt;</i>}</p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs scrub
status</b> [-d]
{<i>&lt;path&gt;</i>|<i>&lt;device&gt;</i>}</p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
check</b> [<i>options</i>] <i>&lt;device&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs rescue
chunk-recover</b> [<i>options</i>] <i>&lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs rescue
super-recover</b> [<i>options</i>] <i>&lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
restore</b> [<i>options</i>] <i>&lt;device&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
inspect-internal inode-resolve</b> [-v] <i>&lt;inode&gt;
&lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
inspect-internal logical-resolve</b> [-Pv] [-s
<i>&lt;size&gt;</i>] <i>&lt;logical&gt; &lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
inspect-internal subvolid-resolve</b> <i>&lt;subvolid&gt;
&lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
inspect-internal rootid</b> <i>&lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
send</b> [-v] [-p <i>&lt;parent&gt;</i>] [-c
<i>&lt;clone-src&gt;</i>] [-f <i>&lt;outfile&gt;</i>]
<i>&lt;subvol&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
receive</b> [-ve] [-f <i>&lt;infile&gt;</i>]
<i>&lt;mount&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs quota
enable</b> <i>&lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs quota
disable</b> <i>&lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs quota
rescan</b> [-s] <i>&lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs qgroup
assign</b> <i>&lt;src&gt; &lt;dst&gt; &lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs qgroup
remove</b> <i>&lt;src&gt; &lt;dst&gt; &lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs qgroup
create</b> <i>&lt;qgroupid&gt; &lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs qgroup
destroy</b> <i>&lt;qgroupid&gt; &lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs qgroup
show</b> <i>&lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs qgroup
limit</b> [<i>options</i>] <i>&lt;size&gt;</i>|<b>none</b>
[<i>&lt;qgroupid&gt;</i>] <i>&lt;path&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
replace start</b> [-Bfr]
<i>&lt;srcdev&gt;</i>|<i>&lt;devid&gt; &lt;targetdev&gt;
&lt;mount_point&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
replace status</b> [-1] <i>&lt;mount_point&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
replace cancel</b> <i>&lt;mount_point&gt;</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
help|&minus;&minus;help</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>btrfs
&lt;command&gt; &minus;&minus;help</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>btrfs</b> is
used to control the filesystem and the files and directories
stored. It is the tool to create or destroy a snapshot or a
subvolume for the filesystem, to defrag a file or a
directory, flush the data to the disk, to resize the
filesystem, to scan the device.</p>

<p style="margin-left:11%; margin-top: 1em">It is possible
to abbreviate the commands unless the commands are
ambiguous. For example: it is possible to run <i>btrfs sub
snaps</i> instead of <i>btrfs subvolume snapshot.</i> But
<i>btrfs file s</i> is not allowed, because <i>file s</i>
may be interpreted both as <i>filesystem show</i> and as
<i>filesystem sync.</i> In this case <i>btrfs</i> returns
filesystem sync If a command is terminated by <i>--help</i>
, the detailed help is showed. If the passed command matches
more commands, detailed help of all the matched commands is
showed. For example <i>btrfs dev --help</i> shows the help
of all <i>device*</i> commands.</p>

<h2>COMMANDS
<a name="COMMANDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>subvolume
create</b> [-i <i>&lt;qgroupid&gt;</i>]
[<i>&lt;dest&gt;</i>/]<i>&lt;name&gt;</i></p>

<p style="margin-left:22%;">Create a subvolume
<i>&lt;name&gt;</i> in <i>&lt;dest&gt;</i>. If
<i>&lt;dest&gt;</i> is not given subvolume
<i>&lt;name&gt;</i> will be created in the current
directory.</p>

<p style="margin-left:22%; margin-top: 1em"><i>Options</i>
<b><br>
-i</b> <i>&lt;qgroupid&gt;</i></p>

<p style="margin-left:29%;">Add the newly created subvolume
to a qgroup. This option can be given multiple times.</p>

<p style="margin-left:11%; margin-top: 1em"><b>subvolume
delete</b> <i>&lt;subvolume&gt;</i>
[<i>&lt;subvolume&gt;...</i>]</p>

<p style="margin-left:22%;">Delete the subvolume
<i>&lt;subvolume&gt;</i>. If <i>&lt;subvolume&gt;</i> is not
a subvolume, <b>btrfs</b> returns an error.</p>

<p style="margin-left:11%; margin-top: 1em"><b>subvolume
list</b> [<i>options</i>] [-G [+|-]<i>value</i>] [-C
[+|-]<i>value</i>] <br>
[--sort=rootid,gen,ogen,path] <i>&lt;path&gt;</i></p>

<p style="margin-left:22%; margin-top: 1em">List the
subvolumes present in the filesystem <i>&lt;path&gt;</i>.
For every subvolume the following information is shown by
default. ID <i>&lt;ID&gt;</i> top level <i>&lt;ID&gt;</i>
path <i>&lt;path&gt;</i> where path is the relative path of
the subvolume to the <i>top level</i> subvolume.</p>

<p style="margin-left:22%; margin-top: 1em">The
subvolume&rsquo;s ID may be used by the <b>subvolume
set-default</b> command, or at mount time via the
<i>subvolid=</i> option. If <i>-p</i> is given, then
<i>parent &lt;ID&gt;</i> is added to the output between ID
and top level. The parent&rsquo;s ID may be used at mount
time via the <i>subvolrootid=</i> option.</p>


<p style="margin-left:22%; margin-top: 1em"><i>Options</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-p</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>print parent ID.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-a</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>print all the subvolumes in the filesystem and
distinguish between absolute and relative path with respect
to the given <i>&lt;path&gt;</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-c</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>print the ogeneration of the subvolume, aliases: ogen or
origin generation.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-g</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>print the generation of the subvolume.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-o</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>print only subvolumes bellow specified &lt;path&gt;.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-u</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>print the UUID of the subvolume.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-q</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>print the parent uuid of subvolumes (and snapshots).</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-t</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>print the result as a table.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-s</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>only snapshot subvolumes in the filesystem will be
listed.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-r</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>only readonly subvolumes in the filesystem will be
listed.</p> </td></tr>
</table>

<p style="margin-left:22%;"><b>-G [+|-]</b><i>value</i></p>

<p style="margin-left:29%;">list subvolumes in the
filesystem that its generation is &gt;=, &lt;= or =
<i>value</i>. &rsquo;+&rsquo; means &gt;= <i>value</i>,
&rsquo;-&rsquo; means &lt;= <i>value</i>, If there is
neither &rsquo;+&rsquo; nor &rsquo;-&rsquo;, it means =
<i>value</i>.</p>

<p style="margin-left:22%;"><b>-C [+|-]</b><i>value</i></p>

<p style="margin-left:29%;">list subvolumes in the
filesystem that its ogeneration is &gt;=, &lt;= or =
<i>value</i>. The usage is the same to &rsquo;-g&rsquo;
option.</p>


<p style="margin-left:22%;"><b>--sort=rootid,gen,ogen,path</b></p>

<p style="margin-left:29%;">list subvolumes in order by
specified items. you can add &rsquo;+&rsquo; or
&rsquo;-&rsquo; in front of each items, &rsquo;+&rsquo;
means ascending, &rsquo;-&rsquo; means descending. The
default is ascending.</p>

<p style="margin-left:29%; margin-top: 1em">for
<b>--sort</b> you can combine some items together by
&rsquo;,&rsquo;, just like -sort=+ogen,-gen,path,rootid.</p>

<p style="margin-left:11%; margin-top: 1em"><b>subvolume
snapshot</b> [-r] <i>&lt;source&gt;
&lt;dest&gt;</i>|[<i>&lt;dest&gt;</i>/]<i>&lt;name&gt;</i></p>

<p style="margin-left:22%;">Create a writable/readonly
snapshot of the subvolume <i>&lt;source&gt;</i> with the
name <i>&lt;name&gt;</i> in the <i>&lt;dest&gt;</i>
directory. If only <i>&lt;dest&gt;</i> is given, the
subvolume will be named the basename of
<i>&lt;source&gt;</i>. If <i>&lt;source&gt;</i> is not a
subvolume, <b>btrfs</b> returns an error. If <i>-r</i> is
given, the snapshot will be readonly.</p>

<p style="margin-left:11%; margin-top: 1em"><b>subvolume
get-default</b> <i>&lt;path&gt;</i></p>

<p style="margin-left:22%;">Get the default subvolume of
the filesystem <i>&lt;path&gt;</i>. The output format is
similar to <b>subvolume list</b> command.</p>

<p style="margin-left:11%; margin-top: 1em"><b>subvolume
set-default</b> <i>&lt;id&gt; &lt;path&gt;</i></p>

<p style="margin-left:22%;">Set the subvolume of the
filesystem <i>&lt;path&gt;</i> which is mounted as
<i>default</i>. The subvolume is identified by
<i>&lt;id&gt;</i>, which is returned by the <b>subvolume
list</b> command.</p>

<p style="margin-left:11%; margin-top: 1em"><b>subvolume
find-new</b> <i>&lt;subvolume&gt; &lt;last_gen&gt;</i></p>

<p style="margin-left:22%;">List the recently modified
files in a subvolume, after <i>&lt;last_gen&gt;</i> ID.</p>

<p style="margin-left:11%; margin-top: 1em"><b>subvolume
show</b> <i>&lt;path&gt;</i></p>

<p style="margin-left:22%;">Show information of a given
subvolume in the <i>&lt;path&gt;</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>filesystem
df</b> <i>&lt;path&gt;</i></p>

<p style="margin-left:22%;">Show space usage information
for a mount point.</p>

<p style="margin-left:11%; margin-top: 1em"><b>filesystem
show</b>
[<i>--mounted</i>|<i>--all-devices</i>|<i>&lt;uuid&gt;</i>]</p>

<p style="margin-left:22%;">Show the btrfs filesystem with
some additional info. If no option or <i>UUID</i> is passed,
<b>btrfs</b> shows information of all the btrfs filesystem
both mounted and unmounted. If <b>--mounted</b> is passed,
it would probe btrfs kernel to list mounted btrfs
filesystem(s); If <b>--all-devices</b> is passed, all the
devices under /dev are scanned; otherwise the devices list
is extracted from the /proc/partitions file.</p>

<p style="margin-left:11%; margin-top: 1em"><b>filesystem
sync</b> <i>&lt;path&gt;</i></p>

<p style="margin-left:22%;">Force a sync for the filesystem
identified by <i>&lt;path&gt;</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>filesystem
defragment</b> [<i>options</i>]
<i>&lt;file&gt;</i>|<i>&lt;dir&gt;</i>
[<i>&lt;file&gt;</i>|<i>&lt;dir&gt;...</i>]</p>

<p style="margin-left:22%;">Defragment file data and/or
directory metadata. If <b>-r</b> is passed, files in
<i>dir</i> will be defragmented recursively.</p>

<p style="margin-left:22%; margin-top: 1em">The start
position and the number of bytes to defragment can be
specified by <i>start</i> and <i>len</i>. Any extent bigger
than threshold will be considered already defragged. Use 0
to take the kernel default, and use 1 to say every single
extent must be rewritten. You can also turn on compression
in defragment operations.</p>


<p style="margin-left:22%; margin-top: 1em"><i>Options</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-v</b></p></td>
<td width="4%"></td>
<td width="65%">


<p>be verbose</p></td>
<td width="6%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-c</b></p></td>
<td width="4%"></td>
<td width="65%">


<p>compress file contents while defragmenting</p></td>
<td width="6%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-r</b></p></td>
<td width="4%"></td>
<td width="65%">


<p>defragment files recursively</p></td>
<td width="6%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-f</b></p></td>
<td width="4%"></td>
<td width="65%">


<p>flush filesystem after defragmenting</p></td>
<td width="6%">
</td></tr>
</table>

<p style="margin-left:22%;"><b>-s</b> <i>start</i></p>

<p style="margin-left:29%;">defragment only from byte
<i>start</i> onward</p>

<p style="margin-left:22%;"><b>-l</b> <i>len</i></p>

<p style="margin-left:29%;">defragment only up to
<i>len</i> bytes</p>

<p style="margin-left:22%;"><b>-t</b> <i>size</i></p>

<p style="margin-left:29%;">defragment only files at least
<i>size</i> bytes big</p>

<p style="margin-left:29%; margin-top: 1em">For
<b>start</b>, <b>len</b>, <b>size</b> it is possible to
append a suffix like <b>k</b> for 1 KBytes, <b>m</b> for 1
MBytes...</p>

<p style="margin-left:29%; margin-top: 1em">NOTE:
defragmenting with kernels up to 2.6.37 will unlink COW-ed
copies of data, don&rsquo;t use it if you use snapshots,
have de-duplicated your data or made copies with <b>cp
--reflink</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>filesystem
resize</b>
[<i>devid</i>:][+/&minus;]<i>&lt;size&gt;</i>[gkm]|[<i>devid</i>:]<i>max
&lt;path&gt;</i></p>

<p style="margin-left:22%;">Resize a filesystem identified
by <i>&lt;path&gt;</i> for the underlying device
<i>devid</i>. The <i>devid</i> can be found with <b>btrfs
filesystem show</b> and defaults to 1 if not specified. The
<i>&lt;size&gt;</i> parameter specifies the new size of the
filesystem. If the prefix <i>+</i> or <i>&minus;</i> is
present the size is increased or decreased by the quantity
<i>&lt;size&gt;</i>. If no units are specified, the unit of
the <i>&lt;size&gt;</i> parameter defaults to bytes.
Optionally, the size parameter may be suffixed by one of the
following units designators: &rsquo;K&rsquo;,
&rsquo;M&rsquo;, or &rsquo;G&rsquo;, kilobytes, megabytes,
or gigabytes, respectively.</p>

<p style="margin-left:22%; margin-top: 1em">If
&rsquo;max&rsquo; is passed, the filesystem will occupy all
available space on the device <i>devid</i>.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>resize</b> command <b>does not</b> manipulate the size of
underlying partition. If you wish to enlarge/reduce a
filesystem, you must make sure you can expand the partition
before enlarging the filesystem and shrink the partition
after reducing the size of the filesystem. This can done
using <b>fdisk(8)</b> or <b>parted(8)</b> to delete the
existing partition and recreate it with the new desired
size. When recreating the partition make sure to use the
same starting disk cylinder as before.</p>

<p style="margin-left:11%; margin-top: 1em"><b>filesystem
label</b> [<i>&lt;dev&gt;</i>|<i>&lt;mount_point&gt;</i>]
[<i>newlabel</i>]</p>

<p style="margin-left:22%;">Show or update the label of a
filesystem. <i>[&lt;device&gt;|&lt;mountpoint&gt;]</i> is
used to identify the filesystem. If a <i>newlabel</i>
optional argument is passed, the label is changed. The
following constraints exist for a label:</p>

<p style="margin-left:22%; margin-top: 1em">- the maximum
allowable length shall be less than 256 chars</p>


<p style="margin-left:11%; margin-top: 1em"><b>[filesystem]
balance start</b> [<i>options</i>] <i>&lt;path&gt;</i></p>

<p style="margin-left:22%;">Balance chunks across the
devices Balance and/or convert (change allocation profile
of) chunks that passed all <i>filters</i> in a
comma-separated list of filters for a particular chunk type.
If filter list is not given balance all chunks of that type.
In case none of the <i>-d</i>, <i>-m</i> or <i>-s</i>
options is given balance all chunks in a filesystem.</p>

<p style="margin-left:22%; margin-top: 1em"><i>Options</i>
<b><br>
-d[</b><i>filters</i><b>]</b></p>

<p style="margin-left:29%;">act on data chunks</p>


<p style="margin-left:22%;"><b>-m[</b><i>filters</i><b>]</b></p>

<p style="margin-left:29%;">act on metadata chunks</p>


<p style="margin-left:22%;"><b>-s[</b><i>filters</i><b>]</b></p>

<p style="margin-left:29%;">act on system chunks (only
under -f)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-v</b></p></td>
<td width="4%"></td>
<td width="56%">


<p>be verbose</p></td>
<td width="15%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-f</b></p></td>
<td width="4%"></td>
<td width="56%">


<p>force reducing of metadata integrity</p></td>
<td width="15%">
</td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><b>[filesystem]
balance pause</b> <i>&lt;path&gt;</i></p>

<p style="margin-left:22%;">Pause running balance.</p>


<p style="margin-left:11%; margin-top: 1em"><b>[filesystem]
balance cancel</b> <i>&lt;path&gt;</i></p>

<p style="margin-left:22%;">Cancel running or paused
balance.</p>


<p style="margin-left:11%; margin-top: 1em"><b>[filesystem]
balance resume</b> <i>&lt;path&gt;</i></p>

<p style="margin-left:22%;">Resume interrupted balance.</p>


<p style="margin-left:11%; margin-top: 1em"><b>[filesystem]
balance status</b> [-v] <i>&lt;path&gt;</i></p>

<p style="margin-left:22%;">Show status of running or
paused balance.</p>


<p style="margin-left:22%; margin-top: 1em"><i>Options</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-v</b></p></td>
<td width="4%"></td>
<td width="16%">


<p>be verbose</p></td>
<td width="55%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>device
add</b> <i>[-Kf] &lt;dev&gt;</i> [<i>&lt;dev&gt;...</i>]
<i>&lt;path&gt;</i></p>

<p style="margin-left:22%;">Add device(s) to the filesystem
identified by <i>&lt;path&gt;</i>. If applicable, a whole
device discard (TRIM) operation is performed.</p>

<p style="margin-left:22%; margin-top: 1em"><i>Options</i>
<b><br>
-K|--nodiscard</b></p>

<p style="margin-left:29%;">do not perform discard by
default</p>

<p style="margin-left:22%;"><b>-f|--force</b></p>

<p style="margin-left:29%;">force overwrite of existing
filesystem on the given disk(s)</p>

<p style="margin-left:11%; margin-top: 1em"><b>device
delete</b> <i>&lt;dev&gt;</i> [<i>&lt;dev&gt;...</i>]
<i>&lt;path&gt;</i></p>

<p style="margin-left:22%;">Remove device(s) from a
filesystem identified by <i>&lt;path&gt;</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>device
scan</b> [--all-devices|<i>&lt;device&gt;</i>
[<i>&lt;device&gt;...</i>]</p>

<p style="margin-left:22%;">If one or more devices are
passed, these are scanned for a btrfs filesystem. If no
devices are passed, <b>btrfs</b> uses block devices
containing btrfs filesystem as listed by blkid. Finally, if
<b>--all-devices</b> is passed, all the devices under /dev
are scanned.</p>

<p style="margin-left:11%; margin-top: 1em"><b>device
ready</b> <i>&lt;device&gt;</i></p>

<p style="margin-left:22%;">Check device to see if it has
all of it&rsquo;s devices in cache for mounting.</p>

<p style="margin-left:11%; margin-top: 1em"><b>device
stats</b> [-z]
{<i>&lt;path&gt;</i>|<i>&lt;device&gt;</i>}</p>

<p style="margin-left:22%;">Read and print the device IO
stats for all devices of the filesystem identified by
<i>&lt;path&gt;</i> or for a single
<i>&lt;device&gt;</i>.</p>


<p style="margin-left:22%; margin-top: 1em"><i>Options</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-z</b></p></td>
<td width="4%"></td>
<td width="60%">


<p>Reset stats to zero after reading them.</p></td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>scrub
start</b> [-BdqrR] [-c <i>ioprio_class</i> -n
<i>ioprio_classdata</i>] <br>
{<i>&lt;path&gt;</i>|<i>&lt;device&gt;</i>}</p>

<p style="margin-left:22%;">Start a scrub on all devices of
the filesystem identified by <i>&lt;path&gt;</i> or on a
single <i>&lt;device&gt;</i>. Without options, scrub is
started as a background process. Progress can be obtained
with the <b>scrub status</b> command. Scrubbing involves
reading all data from all disks and verifying checksums.
Errors are corrected along the way if possible.</p>

<p style="margin-left:22%; margin-top: 1em">The default IO
priority of scrub is the idle class. The priority can be
configured similar to the <b>ionice</b>(1) syntax.</p>


<p style="margin-left:22%; margin-top: 1em"><i>Options</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-B</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>Do not background and print scrub statistics when
finished.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-d</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>Print separate statistics for each device of the
filesystem (-B only).</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-q</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>Quiet. Omit error messages and statistics.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-r</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>Read only mode. Do not attempt to correct anything.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-R</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>Raw print mode. Print full data instead of summary.</p></td></tr>
</table>

<p style="margin-left:22%;"><b>-c</b>
<i>ioprio_class</i></p>

<p style="margin-left:29%;">Set IO priority class (see
<b>ionice</b>(1) manpage).</p>

<p style="margin-left:22%;"><b>-n</b>
<i>ioprio_classdata</i></p>

<p style="margin-left:29%;">Set IO priority classdata (see
<b>ionice</b>(1) manpage).</p>

<p style="margin-left:11%; margin-top: 1em"><b>scrub
cancel</b> {<i>&lt;path&gt;</i>|<i>&lt;device&gt;</i>}</p>

<p style="margin-left:22%;">If a scrub is running on the
filesystem identified by <i>&lt;path&gt;</i>, cancel it.
Progress is saved in the scrub progress file and scrubbing
can be resumed later using the <b>scrub resume</b> command.
If a <i>&lt;device&gt;</i> is given, the corresponding
filesystem is found and <b>scrub cancel</b> behaves as if it
was called on that filesystem.</p>

<p style="margin-left:11%; margin-top: 1em"><b>scrub
resume</b> [-BdqrR] [-c ioprio_class -n ioprio_classdata]
<br>
{<i>&lt;path&gt;</i>|<i>&lt;device&gt;</i>}</p>

<p style="margin-left:22%;">Resume a canceled or
interrupted scrub cycle on the filesystem identified by
<i>&lt;path&gt;</i> or on a given <i>&lt;device&gt;</i>.
Does not start a new scrub if the last scrub finished
successfully.</p>

<p style="margin-left:22%; margin-top: 1em"><i>Options</i>
<br>
see <b>scrub start</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>scrub
status</b> [-d]
{<i>&lt;path&gt;</i>|<i>&lt;device&gt;</i>}</p>

<p style="margin-left:22%;">Show status of a running scrub
for the filesystem identified by <i>&lt;path&gt;</i> or for
the specified <i>&lt;device&gt;</i>. If no scrub is running,
show statistics of the last finished or canceled scrub for
that filesystem or device.</p>


<p style="margin-left:22%; margin-top: 1em"><i>Options</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-d</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>Print separate statistics for each device of the
filesystem.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>check</b>
[<i>options</i>] &lt;device&gt;</p>

<p style="margin-left:22%;">Check an unmounted btrfs
filesystem.</p>

<p style="margin-left:22%; margin-top: 1em"><i>Options</i>
<b><br>
-s|--support</b> <i>&lt;superblock&gt;</i></p>

<p style="margin-left:29%;">use this superblock copy.</p>

<p style="margin-left:22%;"><b>--repair</b></p>

<p style="margin-left:29%;">try to repair the
filesystem.</p>

<p style="margin-left:22%;"><b>--init-csum-tree</b></p>

<p style="margin-left:29%;">create a new CRC tree.</p>

<p style="margin-left:22%;"><b>--init-extent-tree</b></p>

<p style="margin-left:29%;">create a new extent tree.</p>

<p style="margin-left:11%; margin-top: 1em"><b>rescue
chunk-recover</b> [<i>options</i>] &lt;device&gt;</p>

<p style="margin-left:22%;">Recover the chunk tree by
scanning the devices one by one.</p>


<p style="margin-left:22%; margin-top: 1em"><i>Options</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-y</b></p></td>
<td width="4%"></td>
<td width="66%">


<p>assume an answer of &rsquo;yes&rsquo; to all
questions.</p> </td>
<td width="5%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-v</b></p></td>
<td width="4%"></td>
<td width="66%">


<p>verbose mode.</p></td>
<td width="5%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-h</b></p></td>
<td width="4%"></td>
<td width="66%">


<p>help.</p></td>
<td width="5%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>rescue
super-recover</b> [<i>options</i>] &lt;device&gt;</p>

<p style="margin-left:22%;">Recover bad superblocks from
good copies.</p>


<p style="margin-left:22%; margin-top: 1em"><i>Options</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-y</b></p></td>
<td width="4%"></td>
<td width="66%">


<p>assume an answer of &rsquo;yes&rsquo; to all
questions.</p> </td>
<td width="5%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-v</b></p></td>
<td width="4%"></td>
<td width="66%">


<p>verbose mode.</p></td>
<td width="5%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>restore</b>
[<i>options</i>] &lt;device&gt;</p>

<p style="margin-left:22%;">Try to restore files from a
damaged filesystem(unmounted).</p>


<p style="margin-left:22%; margin-top: 1em"><i>Options</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-s</b></p></td>
<td width="4%"></td>
<td width="37%">


<p>get snapshots.</p></td>
<td width="34%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-x</b></p></td>
<td width="4%"></td>
<td width="37%">


<p>get extended attributes.</p></td>
<td width="34%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-v</b></p></td>
<td width="4%"></td>
<td width="37%">


<p>verbose.</p></td>
<td width="34%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-i</b></p></td>
<td width="4%"></td>
<td width="37%">


<p>ignore errors.</p></td>
<td width="34%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-o</b></p></td>
<td width="4%"></td>
<td width="37%">


<p>overwrite.</p></td>
<td width="34%">
</td></tr>
</table>

<p style="margin-left:22%;"><b>-t</b>
<i>&lt;location&gt;</i></p>

<p style="margin-left:29%;">tree location.</p>

<p style="margin-left:22%;"><b>-f</b>
<i>&lt;offset&gt;</i></p>

<p style="margin-left:29%;">filesystem location.</p>

<p style="margin-left:22%;"><b>-u</b>
<i>&lt;block&gt;</i></p>

<p style="margin-left:29%;">super mirror.</p>

<p style="margin-left:22%;"><b>-r</b>
<i>&lt;rootid&gt;</i></p>

<p style="margin-left:29%;">root objectid.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-d</b></p></td>
<td width="4%"></td>
<td width="25%">


<p>find dir.</p></td>
<td width="46%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-l</b></p></td>
<td width="4%"></td>
<td width="25%">


<p>list tree roots.</p></td>
<td width="46%">
</td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><b>inspect-internal
inode-resolve</b> [-v] <i>&lt;inode&gt; &lt;path&gt;</i></p>

<p style="margin-left:22%;">Resolves an &lt;inode&gt; in
subvolume &lt;path&gt; to all filesystem paths.</p>


<p style="margin-left:22%; margin-top: 1em"><i>Options</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-v</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>verbose mode. print count of returned paths and ioctl()
return value</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><b>inspect-internal
logical-resolve</b> [-Pv] [-s bufsize] <i>&lt;logical&gt;
&lt;path&gt;</i></p>

<p style="margin-left:22%;">Resolves a &lt;logical&gt;
address in the filesystem mounted at &lt;path&gt; to all
inodes. By default, each inode is then resolved to a file
system path (similar to the <b>inode-resolve</b>
subcommand).</p>


<p style="margin-left:22%; margin-top: 1em"><i>Options</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-P</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>skip the path resolving and print the inodes instead</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-v</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>verbose mode. print count of returned paths and all
ioctl() return values</p></td></tr>
</table>

<p style="margin-left:22%;"><b>-s</b>
<i>&lt;bufsize&gt;</i></p>

<p style="margin-left:29%;">set inode container&rsquo;s
size. This is used to increase inode container&rsquo;s size
in case it is not enough to read all the resolved results.
The max value one can set is 64k.</p>


<p style="margin-left:11%; margin-top: 1em"><b>inspect-internal
subvolid-resolve</b> <i>&lt;subvolid&gt;
&lt;path&gt;</i></p>

<p style="margin-left:22%;">Get file system paths for the
given subvolume ID.</p>


<p style="margin-left:11%; margin-top: 1em"><b>inspect-internal
rootid</b> <i>&lt;path&gt;</i></p>

<p style="margin-left:22%;">For a given file or directory,
return the containing tree root id. For a subvolume return
it&rsquo;s own tree id.</p>

<p style="margin-left:22%; margin-top: 1em">The result is
undefined for the so-called empty subvolumes (identified by
inode number 2).</p>

<p style="margin-left:11%; margin-top: 1em"><b>send</b>
[-v] [-p <i>&lt;parent&gt;</i>] [-c
<i>&lt;clone-src&gt;</i>] [-f <i>&lt;outfile&gt;</i>]
<i>&lt;subvol&gt;</i></p>

<p style="margin-left:22%;">Send the subvolume to stdout.
Sends the subvolume specified by <i>&lt;subvol&gt;</i> to
stdout. By default, this will send the whole subvolume. To
do an incremental send, use &rsquo;<i>-p
&lt;parent&gt;</i>&rsquo;. If you want to allow btrfs to
clone from any additional local snapshots, use &rsquo;<i>-c
&lt;clone-src&gt;</i>&rsquo; (multiple times where
applicable). You must not specify clone sources unless you
guarantee that these snapshots are exactly in the same state
on both sides, the sender and the receiver. It is allowed to
omit the <i>which case &rsquo;</i><b>btrfs
send</b><i>&rsquo; will determine a suitable parent among
the clone sources itself.</i></p>


<p style="margin-left:22%; margin-top: 1em"><i>Options</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-v</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>Enable verbose debug output. Each occurrence of this
option increases the verbose level more.</p></td></tr>
</table>

<p style="margin-left:22%;"><b>-p</b>
<i>&lt;parent&gt;</i></p>

<p style="margin-left:29%;">Send an incremental stream from
<i>&lt;parent&gt;</i> to <i>&lt;subvol&gt;</i>.</p>

<p style="margin-left:22%;"><b>-c</b>
<i>&lt;clone-src&gt;</i></p>

<p style="margin-left:29%;">Use this snapshot as a clone
source for an incremental send (multiple allowed).</p>

<p style="margin-left:22%;"><b>-f</b>
<i>&lt;outfile&gt;</i></p>

<p style="margin-left:29%;">Output is normally written to
stdout. To write to a file, use this option. An alternative
would be to use pipes.</p>

<p style="margin-left:11%; margin-top: 1em"><b>receive</b>
[-ve] [-f <i>&lt;infile&gt;</i>] <i>&lt;mount&gt;</i></p>

<p style="margin-left:22%;">Receive subvolumes from stdin.
Receives one or more subvolumes that were previously sent
with btrfs send. The received subvolumes are stored into
<i>&lt;mount&gt;</i>. btrfs receive will fail in case a
receiving subvolume already exists. It will also fail in
case a previously received subvolume was changed after it
was received. After receiving a subvolume, it is immediately
set to read only.</p>


<p style="margin-left:22%; margin-top: 1em"><i>Options</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-v</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>Enable verbose debug output. Each occurrence of this
option increases the verbose level more.</p></td></tr>
</table>

<p style="margin-left:22%;"><b>-f</b>
<i>&lt;infile&gt;</i></p>

<p style="margin-left:29%;">By default, btrfs receive uses
stdin to receive the subvolumes. Use this option to specify
a file to use instead.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-e</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>Terminate after receiving an &lt;end cmd&gt; in the data
stream. Without this option, the receiver terminates only if
an error is recognized or on EOF.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>quota
enable</b> <i>&lt;path&gt;</i></p>

<p style="margin-left:22%;">Enable subvolume quota support
for a filesystem.</p>

<p style="margin-left:11%; margin-top: 1em"><b>quota
disable</b> <i>&lt;path&gt;</i></p>

<p style="margin-left:22%;">Disable subvolume quota support
for a filesystem.</p>

<p style="margin-left:11%; margin-top: 1em"><b>quota
rescan</b> [-s] <i>&lt;path&gt;</i></p>

<p style="margin-left:22%;">Trash all qgroup numbers and
scan the metadata again with the current config.</p>


<p style="margin-left:22%; margin-top: 1em"><i>Options</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-s</b></p></td>
<td width="4%"></td>
<td width="65%">


<p>show status of a running rescan operation.</p></td>
<td width="6%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>qgroup
assign</b> <i>&lt;src&gt; &lt;dst&gt; &lt;path&gt;</i></p>

<p style="margin-left:22%;">Enable subvolume qgroup support
for a filesystem.</p>

<p style="margin-left:11%; margin-top: 1em"><b>qgroup
remove</b> <i>&lt;src&gt; &lt;dst&gt; &lt;path&gt;</i></p>

<p style="margin-left:22%;">Remove a subvol from a quota
group.</p>

<p style="margin-left:11%; margin-top: 1em"><b>qgroup
create</b> <i>&lt;qgroupid&gt; &lt;path&gt;</i></p>

<p style="margin-left:22%;">Create a subvolume quota
group.</p>

<p style="margin-left:11%; margin-top: 1em"><b>qgroup
destroy</b> <i>&lt;qgroupid&gt; &lt;path&gt;</i></p>

<p style="margin-left:22%;">Destroy a subvolume quota
group.</p>

<p style="margin-left:11%; margin-top: 1em"><b>qgroup
show</b> <i>&lt;path&gt;</i></p>

<p style="margin-left:22%;">Show all subvolume quota
groups.</p>

<p style="margin-left:11%; margin-top: 1em"><b>qgroup
limit</b> [<i>options</i>] <i>&lt;size&gt;</i>|<b>none</b>
[<i>&lt;qgroupid&gt;</i>] <i>&lt;path&gt;</i></p>

<p style="margin-left:22%;">Limit the size of a subvolume
quota group.</p>

<p style="margin-left:11%; margin-top: 1em"><b>replace
start</b> [-Bfr] <i>&lt;srcdev&gt;</i>|<i>&lt;devid&gt;
&lt;targetdev&gt; &lt;path&gt;</i></p>

<p style="margin-left:22%;">Replace device of a btrfs
filesystem. On a live filesystem, duplicate the data to the
target device which is currently stored on the source
device. If the source device is not available anymore, or if
the <b>-r</b> option is set, the data is built only using
the RAID redundancy mechanisms. After completion of the
operation, the source device is removed from the filesystem.
If the <i>&lt;srcdev&gt;</i> is a numerical value, it is
assumed to be the device id of the filesystem which is
mounted at mount_point, otherwise is is the path to the
source device. If the source device is disconnected, from
the system, you have to use the <i>devid</i> parameter
format. The <i>&lt;targetdev&gt;</i> needs to be same size
or larger than the <i>&lt;srcdev&gt;</i>.</p>


<p style="margin-left:22%; margin-top: 1em"><i>Options</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-r</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>only read from <i>&lt;srcdev&gt;</i> if no other
zero-defect mirror exists (enable this if your drive has
lots of read errors, the access would be very slow)</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-f</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>force using and overwriting <i>&lt;targetdev&gt;</i>
even if it looks like containing a valid btrfs filesystem. A
valid filesystem is assumed if a btrfs superblock is found
which contains a correct checksum. Devices which are
currently mounted are never allowed to be used as the
<i>&lt;targetdev&gt;</i></p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-B</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>do not background</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>replace
status</b> [-1] <i>&lt;mount_point&gt;</i></p>

<p style="margin-left:22%;">Print status and progress
information of a running device replace operation.</p>


<p style="margin-left:22%; margin-top: 1em"><i>Options</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-1</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>print once instead of print continuously until the
replace operation finishes (or is canceled)</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>replace
cancel</b> <i>&lt;mount_point&gt;</i></p>

<p style="margin-left:22%;">Cancel a running device replace
operation.</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>btrfs</b>
returns a zero exist status if it succeeds. Non zero is
returned in case of failure.</p>

<h2>AVAILABILITY
<a name="AVAILABILITY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>btrfs</b> is
part of btrfs-progs. Btrfs filesystem is currently under
heavy development, and not suitable for any uses other than
benchmarking and review. Please refer to the btrfs wiki
http://btrfs.wiki.kernel.org for further details.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>mkfs.btrfs</b>(8),
<b>ionice</b>(1)</p>
<hr>
</body>
</html>
