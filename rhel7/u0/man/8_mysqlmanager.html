<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 02:08:03 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>MYSQLMANAGER</title>

</head>
<body>

<h1 align="center">MYSQLMANAGER</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#MYSQL INSTANCE MANAGER COMMAND OPTIONS">MYSQL INSTANCE MANAGER COMMAND OPTIONS</a><br>
<a href="#MYSQL INSTANCE MANAGER CONFIGURATION FILES">MYSQL INSTANCE MANAGER CONFIGURATION FILES</a><br>
<a href="#STARTING THE MYSQL SERVER WITH MYSQL INSTANCE MANAGER">STARTING THE MYSQL SERVER WITH MYSQL INSTANCE MANAGER</a><br>
<a href="#INSTANCE MANAGER USER AND PASSWORD MANAGEMENT">INSTANCE MANAGER USER AND PASSWORD MANAGEMENT</a><br>
<a href="#MYSQL SERVER INSTANCE STATUS MONITORING">MYSQL SERVER INSTANCE STATUS MONITORING</a><br>
<a href="#CONNECTING TO MYSQL INSTANCE MANAGER">CONNECTING TO MYSQL INSTANCE MANAGER</a><br>
<a href="#MYSQL INSTANCE MANAGER COMMANDS">MYSQL INSTANCE MANAGER COMMANDS</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">mysqlmanager
&minus; the MySQL Instance Manager</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="34%">


<p style="margin-top: 1em"><b>mysqlmanager
[</b><i>options</i><b>]</b></p> </td>
<td width="55%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:17%; margin-top: 1em"><b><big>Important</big></b>
<br>
MySQL Instance Manager has been deprecated and is removed in
MySQL 5.4.</p>


<p style="margin-left:11%; margin-top: 1em"><b>mysqlmanager</b>
is the MySQL Instance Manager (IM). This program monitors
and manages MySQL Database Server instances. MySQL Instance
Manager is available for Unix&minus;like operating systems,
as well as Windows. It runs as a daemon that listens on a
TCP/IP port. On Unix, it also listens on a Unix socket
file.</p>

<p style="margin-left:11%; margin-top: 1em">MySQL Instance
Manager can be used in place of the mysqld_safe script to
start and stop one or more instances of MySQL Server.
Because Instance Manager can manage multiple server
instances, it can also be used in place of the
<b>mysqld_multi</b> script. Instance Manager offers these
capabilities:</p>

<p style="margin-left:17%; margin-top: 1em">&bull; Instance
Manager can start and stop instances, and report on the
status of instances.</p>

<p style="margin-left:17%; margin-top: 1em">&bull; Server
instances can be treated as guarded or unguarded:</p>

<p style="margin-left:23%; margin-top: 1em">&bull; When
Instance Manager starts, it starts each guarded instance. If
the instance crashes, Instance Manager detects this and
restarts it. When Instance Manager stops, it stops the
instance.</p>

<p style="margin-left:23%; margin-top: 1em">&bull; A
nonguarded instance is not started when Instance Manager
starts or monitored by it. If the instance crashes after
being started, Instance Manager does not restart it. When
Instance Manager exits, it does not stop the instance if it
is running. <br>
Instances are guarded by default. An instance can be
designated as nonguarded by including the <b>nonguarded</b>
option in the configuration file.</p>

<p style="margin-left:23%; margin-top: 1em">&bull; Instance
Manager provides an interactive interface for configuring
instances, so that the need to edit the configuration file
manually is reduced or eliminated.</p>

<p style="margin-left:23%; margin-top: 1em">&bull; Instance
Manager provides remote instance management. That is, it
runs on the host where you want to control MySQL Server
instances, but you can connect to it from a remote host to
perform instance&minus;management operations.</p>

<p style="margin-left:17%; margin-top: 1em">The following
sections describe MySQL Instance Manager operation in more
detail.</p>

<h2>MYSQL INSTANCE MANAGER COMMAND OPTIONS
<a name="MYSQL INSTANCE MANAGER COMMAND OPTIONS"></a>
</h2>



<p style="margin-left:17%; margin-top: 1em"><b><big>Important</big></b>
<br>
MySQL Instance Manager has been deprecated and is removed in
MySQL 5.4.</p>

<p style="margin-left:11%; margin-top: 1em">The MySQL
Instance Manager supports a number of command options. For a
brief listing, invoke <b>mysqlmanager</b> with the
<b>&minus;&minus;help</b> option. Options may be given on
the command line or in the Instance Manager configuration
file. On Windows, the standard configuration file is my.ini
in the directory where Instance Manager is installed. On
Unix, the standard file is /etc/my.cnf. To specify a
different configuration file, start Instance Manager with
the <b>&minus;&minus;defaults&minus;file</b> option.</p>


<p style="margin-left:11%; margin-top: 1em"><b>mysqlmanager</b>
supports the following options. The options for managing
entries in the password file are described further in the
section called &ldquo;INSTANCE MANAGER USER AND PASSWORD
MANAGEMENT&rdquo;.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;help</b>, <b>&minus;?</b></p>

<p style="margin-left:17%; margin-top: 1em">Display a help
message and exit.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;add&minus;user</b></p>

<p style="margin-left:17%; margin-top: 1em">Add a new user
(specified with the <b>&minus;&minus;username</b> option) to
the password file. This option was added in MySQL
5.1.12.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;angel&minus;pid&minus;file=</b><i>file_name</i></p>

<p style="margin-left:17%; margin-top: 1em">The file in
which the angel process records its process ID when
<b>mysqlmanager</b> runs in daemon mode (that is, when the
<b>&minus;&minus;run&minus;as&minus;service</b> option is
given). The default file name is mysqlmanager.angel.pid.</p>

<p style="margin-left:17%; margin-top: 1em">If the
<b>&minus;&minus;angel&minus;pid&minus;file</b> option is
not given, the default angel PID file has the same name as
the PID file except that any PID file extension is replaced
with an extension of .angel.pid. (For example,
mysqlmanager.pid becomes mysqlmanager.angel.pid.)</p>

<p style="margin-left:17%; margin-top: 1em">This option was
added in MySQL 5.1.11.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;bind&minus;address=</b><i>IP</i></p>

<p style="margin-left:17%; margin-top: 1em">The IP address
to bind to.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;check&minus;password&minus;file</b></p>

<p style="margin-left:17%; margin-top: 1em">Check the
validity and consistency of the password file. This option
was added in MySQL 5.1.12.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;clean&minus;password&minus;file</b></p>

<p style="margin-left:17%; margin-top: 1em">Drop all users
from the password file. This option was added in MySQL
5.1.12.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;debug=</b><i>debug_options</i>,
<b>&minus;#</b> <i>debug_options</i></p>

<p style="margin-left:17%; margin-top: 1em">Write a
debugging log. A typical <i>debug_options</i> string is
&acute;d:t:o,<i>file_name</i>&acute;. This option was added
in MySQL 5.1.10.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;default&minus;mysqld&minus;path=</b><i>path</i></p>

<p style="margin-left:17%; margin-top: 1em">The path name
of the MySQL Server binary. This path name is used for all
server instance sections in the configuration file for which
no <b>mysqld&minus;path</b> option is present. The default
value of this option is the compiled&minus;in path name,
which depends on how the MySQL distribution was configured.
Example:
<b>&minus;&minus;default&minus;mysqld&minus;path=/usr/sbin/mysqld</b></p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;defaults&minus;file=</b><i>file_name</i></p>

<p style="margin-left:17%; margin-top: 1em">Read Instance
Manager and MySQL Server settings from the given file. All
configuration changes made by the Instance Manager will be
written to this file. This must be the first option on the
command line if it is used, and the file must exist.</p>

<p style="margin-left:17%; margin-top: 1em">If this option
is not given, Instance Manager uses its standard
configuration file. On Windows, the standard file is my.ini
in the directory where Instance Manager is installed. On
Unix, the standard file is /etc/my.cnf.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;drop&minus;user</b></p>

<p style="margin-left:17%; margin-top: 1em">Drop a user
(specified with the <b>&minus;&minus;username</b> option)
from the password file. This option was added in MySQL
5.1.12.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;edit&minus;user</b></p>

<p style="margin-left:17%; margin-top: 1em">Change an entry
for an existing user (specified with the
<b>&minus;&minus;username</b> option) in the password file.
This option was added in MySQL 5.1.12.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;install</b></p>

<p style="margin-left:17%; margin-top: 1em">On Windows,
install Instance Manager as a Windows service. The service
name is MySQL Manager.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;list&minus;users</b></p>

<p style="margin-left:17%; margin-top: 1em">List the users
in the password file. This option was added in MySQL
5.1.12.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;log=</b><i>file_name</i></p>

<p style="margin-left:17%; margin-top: 1em">The path to the
Instance Manager log file. This option has no effect unless
the <b>&minus;&minus;run&minus;as&minus;service</b> option
is also given. If the file name specified for the option is
a relative name, the log file is created under the directory
from which Instance Manager is started. To ensure that the
file is created in a specific directory, specify it as a
full path name.</p>

<p style="margin-left:17%; margin-top: 1em">If
<b>&minus;&minus;run&minus;as&minus;service</b> is given
without <b>&minus;&minus;log</b>, the log file is
mysqlmanager.log in the data directory.</p>

<p style="margin-left:17%; margin-top: 1em">If
<b>&minus;&minus;run&minus;as&minus;service</b> is not
given, log messages go to the standard output. To capture
log output, you can redirect Instance Manager output to a
file:</p>

<p style="margin-left:23%; margin-top: 1em">mysqlmanager
&gt; im.log</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;monitoring&minus;interval=</b><i>seconds</i></p>

<p style="margin-left:17%; margin-top: 1em">The interval in
seconds for monitoring server instances. The default value
is 20 seconds. Instance Manager tries to connect to each
monitored (guarded) instance using the nonexisting
MySQL_Instance_Manager user account to check whether it is
alive/not hanging. If the result of the connection attempt
indicates that the instance is unavailable, Instance Manager
performs several attempts to restart the instance.</p>

<p style="margin-left:17%; margin-top: 1em">Normally, the
MySQL_Instance_Manager account does not exist, so the
connection attempts by Instance Manager cause the monitored
instance to produce messages in its general query log
similar to the following:</p>

<p style="margin-left:23%; margin-top: 1em">Access denied
for user
&acute;MySQL_Instance_M&acute;@&acute;localhost&acute;
&raquo; <br>
(using password: YES)</p>

<p style="margin-left:17%; margin-top: 1em">The nonguarded
option in the appropriate server instance section disables
monitoring for a particular instance. If the instance dies
after being started, Instance Manager will not restart it.
Instance Manager tries to connect to a nonguarded instance
only when you request the instance&acute;s status (for
example, with the SHOW INSTANCES status.</p>

<p style="margin-left:17%; margin-top: 1em">See the section
called &ldquo;MYSQL SERVER INSTANCE STATUS
MONITORING&rdquo;, for more information.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;mysqld&minus;safe&minus;compatible</b></p>

<p style="margin-left:17%; margin-top: 1em">Run in a
<b>mysqld_safe</b>&minus;compatible manner. For details, see
the section called &ldquo;STARTING THE MYSQL SERVER WITH
MYSQL INSTANCE MANAGER&rdquo;. This option was added in
MySQL 5.1.12.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;password=</b><i>password</i>,
<b>&minus;p</b> <i>password</i></p>

<p style="margin-left:17%; margin-top: 1em">Specify the
password for an entry to be added to or modified in the
password file. Unlike the
<b>&minus;&minus;password</b>/<b>&minus;P</b> option for
most MySQL programs, the password value is required, not
optional. See also the section called &ldquo;INSTANCE
MANAGER USER AND PASSWORD MANAGEMENT&rdquo;. This option was
added in MySQL 5.1.12.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;password&minus;file=</b><i>file_name</i></p>

<p style="margin-left:17%; margin-top: 1em">The name of the
file where the Instance Manager looks for users and
passwords. On Windows, the default is mysqlmanager.passwd in
the directory where Instance Manager is installed. On Unix,
the default file is /etc/mysqlmanager.passwd. See also the
section called &ldquo;INSTANCE MANAGER USER AND PASSWORD
MANAGEMENT&rdquo;.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;pid&minus;file=</b><i>file_name</i></p>

<p style="margin-left:17%; margin-top: 1em">The process ID
file to use. On Windows, the default file is
mysqlmanager.pid in the directory where Instance Manager is
installed. On Unix, the default is mysqlmanager.pid in the
data directory.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;port=</b><i>port_num</i></p>

<p style="margin-left:17%; margin-top: 1em">The port number
to use when listening for TCP/IP connections from clients.
The default port number (assigned by IANA) is 2273.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;print&minus;defaults</b></p>

<p style="margin-left:17%; margin-top: 1em">Print the
current defaults and exit. This must be the first option on
the command line if it is used.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;print&minus;password&minus;line</b></p>

<p style="margin-left:17%; margin-top: 1em">Prepare an
entry for the password file, print it to the standard
output, and exit. You can redirect the output from Instance
Manager to a file to save the entry in the file.</p>

<p style="margin-left:17%; margin-top: 1em">Prior to MySQL
5.1.12, this option was named
<b>&minus;&minus;passwd</b>.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;remove</b></p>

<p style="margin-left:17%; margin-top: 1em">On Windows,
removes Instance Manager as a Windows service. This assumes
that Instance Manager has been run with
<b>&minus;&minus;install</b> previously.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;run&minus;as&minus;service</b></p>

<p style="margin-left:17%; margin-top: 1em">On Unix,
daemonize and start an angel process. The angel process
monitors Instance Manager and restarts it if it crashes.
(The angel process itself is simple and unlikely to
crash.)</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;socket=</b><i>path</i></p>

<p style="margin-left:17%; margin-top: 1em">On Unix, the
socket file to use for incoming connections. The default
file is named /tmp/mysqlmanager.sock. This option has no
meaning on Windows.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;standalone</b></p>

<p style="margin-left:17%; margin-top: 1em">This option is
used on Windows to run Instance Manager in standalone mode.
You should specify it when you start Instance Manager from
the command line.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;user=</b><i>user_name</i></p>

<p style="margin-left:17%; margin-top: 1em">On Unix, the
user name of the system account to use for starting and
running <b>mysqlmanager</b>. This option generates a warning
and has no effect unless you start <b>mysqlmanager</b> as
root (so that it can change its effective user ID), or as
the named user. It is recommended that you configure
<b>mysqlmanager</b> to run using the same account used to
run the <b>mysqld</b> server. (&ldquo;User&rdquo; in this
context refers to a system login account, not a MySQL user
listed in the grant tables.)</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;username=</b><i>user_name</i>,
<b>&minus;u</b> <i>user_name</i></p>

<p style="margin-left:17%; margin-top: 1em">Specify the
user name for an entry to be added to or modified in the
password file. This option was added in MySQL 5.1.12.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;version</b>, <b>&minus;V</b></p>

<p style="margin-left:17%; margin-top: 1em">Display version
information and exit.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;wait&minus;timeout=</b><i>N</i></p>

<p style="margin-left:17%; margin-top: 1em">The number of
seconds to wait for activity on an incoming connection
before closing it. The default is 28800 seconds (8
hours).</p>

<p style="margin-left:17%; margin-top: 1em">This option was
added in MySQL 5.1.7. Before that, the timeout is 30 seconds
and cannot be changed.</p>

<h2>MYSQL INSTANCE MANAGER CONFIGURATION FILES
<a name="MYSQL INSTANCE MANAGER CONFIGURATION FILES"></a>
</h2>



<p style="margin-left:17%; margin-top: 1em"><b><big>Important</big></b>
<br>
MySQL Instance Manager has been deprecated and is removed in
MySQL 5.4.</p>

<p style="margin-left:11%; margin-top: 1em">Instance
Manager uses its standard configuration file unless it is
started with a <b>&minus;&minus;defaults&minus;file</b>
option that specifies a different file. On Windows, the
standard file is my.ini in the directory where Instance
Manager is installed. On Unix, the standard file is
/etc/my.cnf.</p>

<p style="margin-left:11%; margin-top: 1em">Instance
Manager reads options for itself from the [manager] section
of the configuration file, and options for server instances
from [mysqld] or [mysqld<i>N</i>] sections. The [manager]
section contains any of the options listed in the section
called &ldquo;MYSQL INSTANCE MANAGER COMMAND OPTIONS&rdquo;,
except for those specified as having to be given as the
first option on the command line. Here is a sample [manager]
section:</p>

<p style="margin-left:17%; margin-top: 1em"># MySQL
Instance Manager options section <br>
[manager] <br>
default&minus;mysqld&minus;path =
/usr/local/mysql/libexec/mysqld <br>
socket=/tmp/manager.sock <br>
pid&minus;file=/tmp/manager.pid <br>
password&minus;file = /home/cps/.mysqlmanager.passwd <br>
monitoring&minus;interval = 2 <br>
port = 1999 <br>
bind&minus;address = 192.168.1.5</p>

<p style="margin-left:11%; margin-top: 1em">Each [mysqld]
or [mysqld<i>N</i>] instance section specifies options given
by Instance Manager to a server instance at startup. These
are mainly common MySQL Server options (see
Section&nbsp;5.1.2, &ldquo;Server Command Options&rdquo;).
In addition, a [mysqld<i>N</i>] section can contain the
options in the following list, which are specific to
Instance Manager. These options are interpreted by Instance
Manager itself; it does not pass them to the server when it
attempts to start that server.</p>


<p style="margin-left:17%; margin-top: 1em"><b><big>Warning</big></b>
<br>
The Instance Manager&minus;specific options must not be used
in a [mysqld] section. If a server is started without using
Instance Manager, it will not recognize these options and
will fail to start properly.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
mysqld&minus;path = <i>path</i></p>

<p style="margin-left:17%; margin-top: 1em">The path name
of the <b>mysqld</b> server binary to use for the server
instance.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
nonguarded</p>

<p style="margin-left:17%; margin-top: 1em">This option
disables Instance Manager monitoring functionality for the
server instance. By default, an instance is guarded: At
Instance Manager start time, it starts the instance. It also
monitors the instance status and attempts to restart it if
it fails. At Instance Manager exit time, it stops the
instance. None of these things happen for nonguarded
instances.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
shutdown&minus;delay = <i>seconds</i></p>

<p style="margin-left:17%; margin-top: 1em">The number of
seconds Instance Manager should wait for the server instance
to shut down. The default value is 35 seconds. After the
delay expires, Instance Manager assumes that the instance is
hanging and attempts to terminate it. If you use InnoDB with
large tables, you should increase this value.</p>

<p style="margin-left:11%; margin-top: 1em">Here are some
sample instance sections:</p>

<p style="margin-left:17%; margin-top: 1em">[mysqld1] <br>
mysqld&minus;path=/usr/local/mysql/libexec/mysqld <br>
socket=/tmp/mysql.sock <br>
port=3307 <br>
server_id=1 <br>
skip&minus;stack&minus;trace <br>
core&minus;file <br>
log&minus;bin <br>
log&minus;error <br>
log=mylog <br>
log&minus;slow&minus;queries <br>
[mysqld2] <br>
nonguarded <br>
port=3308 <br>
server_id=2 <br>
mysqld&minus;path=
/home/cps/mysql/trees/mysql&minus;5.1/sql/mysqld <br>
socket = /tmp/mysql.sock5 <br>
pid&minus;file = /tmp/hostname.pid5 <br>
datadir= /home/cps/mysql_data/data_dir1 <br>

language=/home/cps/mysql/trees/mysql&minus;5.1/sql/share/english
<br>
log&minus;bin <br>
log=/tmp/fordel.log</p>

<h2>STARTING THE MYSQL SERVER WITH MYSQL INSTANCE MANAGER
<a name="STARTING THE MYSQL SERVER WITH MYSQL INSTANCE MANAGER"></a>
</h2>



<p style="margin-left:17%; margin-top: 1em"><b><big>Important</big></b>
<br>
MySQL Instance Manager has been deprecated and is removed in
MySQL 5.4.</p>

<p style="margin-left:11%; margin-top: 1em">This section
discusses how Instance Manager starts server instances when
it starts. However, before you start Instance Manager, you
should set up a password file for it. Otherwise, you will
not be able to connect to Instance Manager to control it
after it starts. For details about creating Instance Manager
accounts, see the section called &ldquo;INSTANCE MANAGER
USER AND PASSWORD MANAGEMENT&rdquo;.</p>

<p style="margin-left:11%; margin-top: 1em">On Unix, the
<b>mysqld</b> MySQL database server normally is started with
the <b>mysql.server</b> script, which usually resides in the
/etc/init.d/ folder. That script invokes the
<b>mysqld_safe</b> script by default. However, you can use
Instance Manager instead if you modify the /etc/my.cnf
configuration file by adding use&minus;manager to the
[mysql.server] section:</p>

<p style="margin-left:17%; margin-top: 1em">[mysql.server]
<br>
use&minus;manager</p>

<p style="margin-left:11%; margin-top: 1em">Before MySQL
5.1.12, Instance Manager always tries to start at least one
server instance: When it starts, it reads its configuration
file if it exists to find server instance sections and
prepare a list of instances. Instance sections have names of
the form [mysqld] or [mysqld<i>N</i>], where <i>N</i> is an
unsigned integer (for example, [mysqld1], [mysqld2], and so
forth).</p>

<p style="margin-left:11%; margin-top: 1em">After preparing
the list of instances, Instance Manager starts the guarded
instances in the list. If there are no instances, Instance
Manager creates an instance named mysqld and attempts to
start it with default (compiled&minus;in) configuration
values. This means that the Instance Manager cannot find the
<b>mysqld</b> program if it is not installed in the default
location. (Section&nbsp;2.1.5, &ldquo;Installation
Layouts&rdquo;, describes default locations for components
of MySQL distributions.) If you have installed the MySQL
server in a nonstandard location, you should create the
Instance Manager configuration file.</p>

<p style="margin-left:11%; margin-top: 1em">The startup
behavior just described is similar to that of
<b>mysqld_safe</b>, which always attempts to start a server.
However, it lacks the flexibility required for some
operations because it is not possible to run Instance
Manager in such a way that it refrains from starting any
server instances. For example, you cannot invoke Instance
Manager for the purpose of configuring an instance without
also starting it (a task that a MySQL installer application
might want to perform). Consequently, MySQL 5.1.12
introduces the following changes:</p>

<p style="margin-left:17%; margin-top: 1em">&bull; A new
option,
<b>&minus;&minus;mysqld&minus;safe&minus;compatible</b>, may
be used to cause Instance Manager to run with startup
behavior similar to that used before MySQL 5.1.12: If
Instance Manager finds a [mysqld] instance section in the
configuration file, it will start it. If Instance Manager
finds no [mysqld] section, it creates one using default
configuration values, writes a [mysqld] section to the
configuration file if it is accessible, and starts the
mysqld instance. Instance Manager also starts any other
guarded instances listed in the configuration file.</p>

<p style="margin-left:17%; margin-top: 1em">&bull; Without
<b>&minus;&minus;mysqld&minus;safe&minus;compatible</b>,
Instance Manager reads its configuration file if it exists
and starts instances for any guarded instance sections that
it finds. If there are none, it starts no instances.</p>

<p style="margin-left:11%; margin-top: 1em">Instance
Manager also stops all guarded server instances when it
shuts down.</p>

<p style="margin-left:11%; margin-top: 1em">The allowable
options for [mysqld<i>N</i>] server instance sections are
described in the section called &ldquo;MYSQL INSTANCE
MANAGER CONFIGURATION FILES&rdquo;. In these sections, you
can use a special
<b>mysqld&minus;path=</b><i>path&minus;to&minus;mysqld&minus;binary</i>
option that is recognized only by Instance Manager. Use this
option to let Instance Manager know where the <b>mysqld</b>
binary resides. If there are multiple instances, it may also
be necessary to set other options such as <b>datadir</b> and
<b>port</b>, to ensure that each instance has a different
data directory and TCP/IP port number. Section&nbsp;5.6,
&ldquo;Running Multiple MySQL Servers on the Same
Machine&rdquo;, discusses the configuration values that must
differ for each instance when you run multiple instance on
the same machine.</p>


<p style="margin-left:17%; margin-top: 1em"><b><big>Warning</big></b>
<br>
The [mysqld] instance section, if it exists, must not
contain any Instance Manager&minus;specific options.</p>

<p style="margin-left:11%; margin-top: 1em">The typical
Unix startup/shutdown cycle for a MySQL server with the
MySQL Instance Manager enabled is as follows:</p>

<p style="margin-left:17%; margin-top: 1em">1. The
<b>/etc/init.d/mysql</b> script starts MySQL Instance
Manager.</p>

<p style="margin-left:17%; margin-top: 1em">2. Instance
Manager starts the guarded server instances and monitors
them.</p>

<p style="margin-left:17%; margin-top: 1em">3. If a server
instance fails, Instance Manager restarts it.</p>

<p style="margin-left:17%; margin-top: 1em">4. If Instance
Manager is shut down (for example, with the
<b>/etc/init.d/mysql stop</b> command), it shuts down all
server instances.</p>

<h2>INSTANCE MANAGER USER AND PASSWORD MANAGEMENT
<a name="INSTANCE MANAGER USER AND PASSWORD MANAGEMENT"></a>
</h2>



<p style="margin-left:17%; margin-top: 1em"><b><big>Important</big></b>
<br>
MySQL Instance Manager has been deprecated and is removed in
MySQL 5.4.</p>

<p style="margin-left:11%; margin-top: 1em">The Instance
Manager stores its user information in a password file. On
Windows, the default is mysqlmanager.passwd in the directory
where Instance Manager is installed. On Unix, the default
file is /etc/mysqlmanager.passwd. To specify a different
location for the password file, use the
<b>&minus;&minus;password&minus;file</b> option.</p>

<p style="margin-left:11%; margin-top: 1em">If the password
file does not exist or contains no password entries, you
cannot connect to the Instance Manager.</p>


<p style="margin-left:17%; margin-top: 1em"><b><big>Note</big></b>
<br>
Any Instance Manager process that is running to monitor
server instances does not notice changes to the password
file. You must stop it and restart it after making password
entry changes.</p>

<p style="margin-left:11%; margin-top: 1em">Entries in the
password file have the following format, where the two
fields are the account user name and encrypted password,
separated by a colon:</p>


<p style="margin-left:17%; margin-top: 1em">petr:*35110DC9B4D8140F5DE667E28C72DD2597B5C848</p>

<p style="margin-left:11%; margin-top: 1em">Instance
Manager password encryption is the same as that used by
MySQL Server. It is a one&minus;way operation; no means are
provided for decrypting encrypted passwords.</p>

<p style="margin-left:11%; margin-top: 1em">Instance
Manager accounts differ somewhat from MySQL Server
accounts:</p>

<p style="margin-left:17%; margin-top: 1em">&bull; MySQL
Server accounts are associated with a host name, user name,
and password (see Section&nbsp;5.5.1, &ldquo;User Names and
Passwords&rdquo;).</p>

<p style="margin-left:17%; margin-top: 1em">&bull; Instance
Manager accounts are associated with a user name and
password only.</p>

<p style="margin-left:11%; margin-top: 1em">This means that
a client can connect to Instance Manager with a given user
name from any host. To limit connections so that clients can
connect only from the local host, start Instance Manager
with the <b>&minus;&minus;bind&minus;address=127.0.0.1</b>
option so that it listens only to the local network
interface. Remote clients will not be able to connect. Local
clients can connect like this:</p>

<p style="margin-left:17%; margin-top: 1em">shell&gt;
<b>mysql &minus;h 127.0.0.1 &minus;P 2273</b></p>

<p style="margin-left:11%; margin-top: 1em">Before MySQL
5.1.12, the only option for creating password file entries
is <b>&minus;&minus;passwd</b>, which causes Instance
Manager to prompt for user name and password values and
display the resulting entry. You can save the output in the
/etc/mysqlmanager.passwd password file to store it. Here is
an example:</p>

<p style="margin-left:17%; margin-top: 1em">shell&gt;
<b>mysqlmanager &minus;&minus;passwd &gt;&gt;
/etc/mysqlmanager.passwd</b> <br>
Creating record for new user. <br>
Enter user name: <b>mike</b> <br>
Enter password: <b>mikepass</b> <br>
Re&minus;type password: <b>mikepass</b></p>

<p style="margin-left:11%; margin-top: 1em">At the prompts,
enter the user name and password for the new Instance
Manager user. You must enter the password twice. It does not
echo to the screen, so double entry guards against entering
a different password than you intend (if the two passwords
do not match, no entry is generated).</p>

<p style="margin-left:11%; margin-top: 1em">The preceding
command causes the following line to be added to
/etc/mysqlmanager.passwd:</p>


<p style="margin-left:17%; margin-top: 1em">mike:*BBF1F551DD9DD96A01E66EC7DDC073911BAD17BA</p>

<p style="margin-left:11%; margin-top: 1em">Use of the
<b>&minus;&minus;password</b> option fails if
<b>mysqlmanager</b> is invoked directly from an IBM 5250
terminal. To work around this, use a command like the
following from the command line to generate the password
entry:</p>

<p style="margin-left:17%; margin-top: 1em">shell&gt;
<b>mysql &minus;B &minus;&minus;skip&minus;column&minus;name
\ <br>
&minus;e &acute;SELECT
CONCAT(&quot;</b><i>user_name</i><b>&quot;,&quot;:&quot;,PASSWORD(&quot;</b><i>pass_val</i><b>&quot;));&acute;</b></p>

<p style="margin-left:11%; margin-top: 1em">The output from
the command can be used an entry in the
/etc/mysqlmanager.passwd file.</p>

<p style="margin-left:11%; margin-top: 1em">Beginning with
MySQL 5.1.12, the <b>&minus;&minus;passwd</b> option is
renamed to
<b>&minus;&minus;print&minus;password&minus;line</b> and
there are several other options for managing user accounts
from the command line. For example, the
<b>&minus;&minus;username</b> and
<b>&minus;&minus;password</b> options are available on the
command line for specifying the user name and password for
an account entry. You can use them to generate an entry with
no prompting like this (type the command on a single
line):</p>

<p style="margin-left:17%; margin-top: 1em">shell&gt;
<b>mysqlmanager
&minus;&minus;print&minus;password&minus;line <br>
&minus;&minus;username=mike &minus;&minus;password=mikepass
&gt;&gt; /etc/mysqlmanager.passwd</b></p>

<p style="margin-left:11%; margin-top: 1em">If you omit the
<b>&minus;&minus;username</b> or
<b>&minus;&minus;password</b> option, Instance Manager
prompts for the required value.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;print&minus;password&minus;line</b>
causes Instance Manager to send the resulting account entry
to its output, which you can append to the password file.
The following list describes other account&minus;management
options that cause Instance Manager to operate directly on
the password file. (These options make Instance Manager
scriptable for account&minus;management purposes.) For
operations on the password file to succeed, the file must
exist and it must be accessible by Instance Manager. (The
exception is
<b>&minus;&minus;clean&minus;password&minus;file</b>, which
creates the file if it does not exist. Alternatively, if
there is no password file, manually create it as an empty
file and ensure that its ownership and access modes allow it
to be read and written by Instance Manager.) The default
password file is used unless you specify a
<b>&minus;&minus;password&minus;file</b> option.</p>

<p style="margin-left:11%; margin-top: 1em">To ensure
consistent treatment of the password file, it should be
owned by the system account that you use for running
Instance Manager to manage server instances, and you should
invoke it from that account when you use it to manage
accounts in the password file.</p>

<p style="margin-left:17%; margin-top: 1em">&bull; Create a
new user:</p>

<p style="margin-left:23%; margin-top: 1em">mysqlmanager
&minus;&minus;add&minus;user
&minus;&minus;username=<i>user_name</i>
[&minus;&minus;password=<i>password</i>]</p>

<p style="margin-left:17%; margin-top: 1em">This command
adds a new entry with the given user name and password to
the password file. The <b>&minus;&minus;username</b> (or
<b>&minus;u</b>) option is required. <b>mysqlmanager</b>
prompts for the password if it is not given on the command
line with the <b>&minus;&minus;password</b> (or
<b>&minus;p</b>) option. The command fails if the user
already exists.</p>

<p style="margin-left:17%; margin-top: 1em">&bull; Drop an
existing user:</p>

<p style="margin-left:23%; margin-top: 1em">mysqlmanager
&minus;&minus;drop&minus;user
&minus;&minus;username=<i>user_name</i></p>

<p style="margin-left:17%; margin-top: 1em">This command
removes the entry with the given user name from the password
file. The user name is required. The command fails if the
user does not exist.</p>

<p style="margin-left:17%; margin-top: 1em">&bull; Change
the password for an existing user:</p>

<p style="margin-left:23%; margin-top: 1em">mysqlmanager
&minus;&minus;edit&minus;user
&minus;&minus;username=<i>user_name</i>
[&minus;&minus;password=<i>password</i>]</p>

<p style="margin-left:17%; margin-top: 1em">This command
changes the given user&acute;s password in the password
file. The user name is required. <b>mysqlmanager</b> prompts
for the password it is not given on the command line. The
command fails if the user does not exist.</p>

<p style="margin-left:17%; margin-top: 1em">&bull; List
existing users:</p>

<p style="margin-left:23%; margin-top: 1em">mysqlmanager
&minus;&minus;list&minus;users</p>

<p style="margin-left:17%; margin-top: 1em">This command
lists the user names of the accounts in the password
file.</p>

<p style="margin-left:17%; margin-top: 1em">&bull; Check
the password file:</p>

<p style="margin-left:23%; margin-top: 1em">mysqlmanager
&minus;&minus;check&minus;password&minus;file</p>

<p style="margin-left:17%; margin-top: 1em">This command
performs a consistency and validity check of the password
file. The command fails if there is something wrong with the
file.</p>

<p style="margin-left:17%; margin-top: 1em">&bull; Empty
the password file:</p>

<p style="margin-left:23%; margin-top: 1em">mysqlmanager
&minus;&minus;clean&minus;password&minus;file</p>

<p style="margin-left:17%; margin-top: 1em">This command
empties the password file, which has the effect of dropping
all users listed in it. The option creates the password file
if it does not exist, so it can be used to initialize a new
password file to be used for other account&minus;management
operations. Take care not to use this option to reinitialize
a file containing accounts that you do not want to drop.</p>

<h2>MYSQL SERVER INSTANCE STATUS MONITORING
<a name="MYSQL SERVER INSTANCE STATUS MONITORING"></a>
</h2>



<p style="margin-left:17%; margin-top: 1em"><b><big>Important</big></b>
<br>
MySQL Instance Manager has been deprecated and is removed in
MySQL 5.4.</p>

<p style="margin-left:11%; margin-top: 1em">To monitor the
status of each guarded server instance, the MySQL Instance
Manager attempts to connect to the instance at regular
intervals using the MySQL_Instance_Manager@localhost user
account with a password of check_connection.</p>

<p style="margin-left:11%; margin-top: 1em">You are
<i>not</i> required to create this account for MySQL Server;
in fact, it is expected that it will not exist. Instance
Manager can tell that a server is operational if the server
accepts the connection attempt but refuses access for the
account by returning a login error. However, these failed
connection attempts are logged by the server to its general
query log (see Section&nbsp;5.2.3, &ldquo;The General Query
Log&rdquo;).</p>

<p style="margin-left:11%; margin-top: 1em">Instance
Manager also attempts a connection to nonguarded server
instances when you use the SHOW INSTANCES or SHOW INSTANCE
STATUS command. This is the only status monitoring done for
nonguarded instances.</p>

<p style="margin-left:11%; margin-top: 1em">Instance
Manager knows if a server instance fails at startup because
it receives a status from the attempt. For an instance that
starts but later crashes, Instance Manager receives a signal
because it is the parent process of the instance.</p>

<p style="margin-left:11%; margin-top: 1em">Beginning with
MySQL 5.1.12, Instance Manager tracks instance states so
that it can determine which commands are allowed for each
instance. For example, commands that modify an
instance&acute;s configuration are allowed only while the
instance is offline.</p>

<p style="margin-left:11%; margin-top: 1em">Each instance
is in one of the states described in the following table.
Guarded instances can be in any of the states. Nonguarded
instances can only be offline or online. Instance state
information is displayed in the status column of the SHOW
INSTANCES and SHOW INSTANCE STATUS commands.</p>

<h2>CONNECTING TO MYSQL INSTANCE MANAGER
<a name="CONNECTING TO MYSQL INSTANCE MANAGER"></a>
</h2>



<p style="margin-left:17%; margin-top: 1em"><b><big>Important</big></b>
<br>
MySQL Instance Manager has been deprecated and is removed in
MySQL 5.4.</p>

<p style="margin-left:11%; margin-top: 1em">After you set
up a password file for the MySQL Instance Manager and
Instance Manager is running, you can connect to it. The
MySQL client&minus;server protocol is used to communicate
with the Instance Manager. For example, you can connect to
it using the standard <b>mysql</b> client program:</p>

<p style="margin-left:17%; margin-top: 1em">shell&gt;
<b>mysql &minus;&minus;port=2273
&minus;&minus;host=im.example.org &minus;&minus;user=mysql
&minus;&minus;password</b></p>

<p style="margin-left:11%; margin-top: 1em">Instance
Manager supports the version of the MySQL
client&minus;server protocol used by the client tools and
libraries distributed with MySQL 4.1 or later, so other
programs that use the MySQL C API also can connect to
it.</p>

<h2>MYSQL INSTANCE MANAGER COMMANDS
<a name="MYSQL INSTANCE MANAGER COMMANDS"></a>
</h2>



<p style="margin-left:17%; margin-top: 1em"><b><big>Important</big></b>
<br>
MySQL Instance Manager has been deprecated and is removed in
MySQL 5.4.</p>

<p style="margin-left:11%; margin-top: 1em">After you
connect to MySQL Instance Manager, you can issue commands.
The following general principles apply to Instance Manager
command execution:</p>

<p style="margin-left:17%; margin-top: 1em">&bull; Commands
that take an instance name fail if the name is not a valid
instance name.</p>

<p style="margin-left:17%; margin-top: 1em">&bull; Commands
that take an instance name (other than CREATE INSTANCE) fail
if the instance does not exist.</p>

<p style="margin-left:17%; margin-top: 1em">&bull; As of
MySQL 5.1.12, commands for an instance require that the
instance be in an appropriate state. You cannot configure or
start an instance that is not offline. You cannot start an
instance that is online.</p>

<p style="margin-left:17%; margin-top: 1em">&bull; Instance
Manager maintains information about instance configuration
in an internal (in&minus;memory) cache. Initially, this
information comes from the configuration file if it exists,
but some commands change the configuration of an instance.
Commands that modify the configuration file fail if the file
does not exist or is not accessible to Instance Manager.</p>

<p style="margin-left:17%; margin-top: 1em">As of MySQL
5.1.12, configuration&minus;changing commands modify both
the in&minus;memory cache and the server instance section
recorded in the configuration file to maintain consistency
between them. For this to occur, the instance must be
offline and the configuration file must be accessible and
not malformed. If the configuration file cannot be updated,
the command fails and the cache remains unchanged.</p>

<p style="margin-left:17%; margin-top: 1em">&bull; On
Windows, the standard file is my.ini in the directory where
Instance Manager is installed. On Unix, the standard
configuration file is /etc/my.cnf. To specify a different
configuration file, start Instance Manager with the
<b>&minus;&minus;defaults&minus;file</b> option.</p>

<p style="margin-left:17%; margin-top: 1em">&bull; If a
[mysqld] instance section exists in the configuration file,
it must not contain any Instance Manager&minus;specific
options (see the section called &ldquo;MYSQL INSTANCE
MANAGER CONFIGURATION FILES&rdquo;). Therefore, you must not
add any of these options if you change the configuration for
an instance named mysqld.</p>

<p style="margin-left:11%; margin-top: 1em">The following
list describes the commands that Instance Manager accepts,
with examples.</p>

<p style="margin-left:17%; margin-top: 1em">&bull; CREATE
INSTANCE <i>instance_name</i>
[<i>option_name</i>[=<i>option_value</i>], ...]</p>

<p style="margin-left:17%; margin-top: 1em">This command
configures a new instance by creating an
[<i>instance_name</i>] section in the configuration file.
The command fails if <i>instance_name</i> is not a valid
instance name or the instance already exists.</p>

<p style="margin-left:17%; margin-top: 1em">The created
section instance is empty if no options are given.
Otherwise, the options are added to the section. Options
should be given in the same format used when you write
options in option files. (See Section&nbsp;4.2.3.3,
&ldquo;Using Option Files&rdquo; for a description of the
allowable syntax.) If you specify multiple options, separate
them by commas.</p>

<p style="margin-left:17%; margin-top: 1em">For example, to
create an instance section named [mysqld98], you might write
something like this were you to modify the configuration
file directly:</p>

<p style="margin-left:23%; margin-top: 1em">[mysqld98] <br>
basedir=/var/mysql98</p>

<p style="margin-left:17%; margin-top: 1em">To achieve the
same effect via CREATE INSTANCE, issue this command to
Instance Manager:</p>

<p style="margin-left:23%; margin-top: 1em">mysql&gt;
<b>CREATE INSTANCE mysqld98
basedir=&quot;/var/mysql98&quot;;</b> <br>
Query OK, 0 rows affected (0,00 sec)</p>

<p style="margin-left:17%; margin-top: 1em">CREATE INSTANCE
creates the instance but does not start it.</p>

<p style="margin-left:17%; margin-top: 1em">If the instance
name is the (deprecated) name mysqld, the option list cannot
include any options that are specific to Instance Manager,
such as nonguarded (see the section called &ldquo;MYSQL
INSTANCE MANAGER CONFIGURATION FILES&rdquo;).</p>

<p style="margin-left:17%; margin-top: 1em">This command
was added in MySQL 5.1.12.</p>

<p style="margin-left:17%; margin-top: 1em">&bull; DROP
INSTANCE <i>instance_name</i></p>

<p style="margin-left:17%; margin-top: 1em">This command
removes the configuration for <i>instance_name</i> from the
configuration file.</p>

<p style="margin-left:23%; margin-top: 1em">mysql&gt;
<b>DROP INSTANCE mysqld98;</b> <br>
Query OK, 0 rows affected (0,00 sec)</p>

<p style="margin-left:17%; margin-top: 1em">The command
fails if <i>instance_name</i> is not a valid instance name,
the instance does not exist, or is not offline.</p>

<p style="margin-left:17%; margin-top: 1em">This command
was added in MySQL 5.1.12.</p>

<p style="margin-left:17%; margin-top: 1em">&bull; START
INSTANCE <i>instance_name</i></p>

<p style="margin-left:17%; margin-top: 1em">This command
attempts to start an offline instance. The command is
asynchronous; it does not wait for the instance to
start.</p>

<p style="margin-left:23%; margin-top: 1em">mysql&gt;
<b>START INSTANCE mysqld4;</b> <br>
Query OK, 0 rows affected (0,00 sec)</p>

<p style="margin-left:17%; margin-top: 1em">&bull; STOP
INSTANCE <i>instance_name</i></p>

<p style="margin-left:17%; margin-top: 1em">This command
attempts to stop an instance. The command is synchronous; it
waits for the instance to stop.</p>

<p style="margin-left:23%; margin-top: 1em">mysql&gt;
<b>STOP INSTANCE mysqld4;</b> <br>
Query OK, 0 rows affected (0,00 sec)</p>

<p style="margin-left:17%; margin-top: 1em">&bull; SHOW
INSTANCES</p>

<p style="margin-left:17%; margin-top: 1em">Shows the names
and status of all loaded instances.</p>

<p style="margin-left:23%; margin-top: 1em">mysql&gt;
<b>SHOW INSTANCES;</b> <br>

+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+
<br>
| instance_name | status | <br>

+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+
<br>
| mysqld3 | offline | <br>
| mysqld4 | online | <br>
| mysqld2 | offline | <br>

+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+</p>

<p style="margin-left:17%; margin-top: 1em">&bull; SHOW
INSTANCE STATUS <i>instance_name</i></p>

<p style="margin-left:17%; margin-top: 1em">Shows status
and version information for an instance.</p>

<p style="margin-left:23%; margin-top: 1em">mysql&gt;
<b>SHOW INSTANCE STATUS mysqld3;</b> <br>

+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+
<br>
| instance_name | status | version | <br>

+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+
<br>
| mysqld3 | online | unknown | <br>

+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+</p>

<p style="margin-left:17%; margin-top: 1em">&bull; SHOW
INSTANCE OPTIONS <i>instance_name</i></p>

<p style="margin-left:17%; margin-top: 1em">Shows the
options used by an instance.</p>

<p style="margin-left:23%; margin-top: 1em">mysql&gt;
<b>SHOW INSTANCE OPTIONS mysqld3;</b> <br>

+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+
<br>
| option_name | value | <br>

+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+
<br>
| instance_name | mysqld3 | <br>
| mysqld&minus;path |
/home/cps/mysql/trees/mysql&minus;4.1/sql/mysqld | <br>
| port | 3309 | <br>
| socket | /tmp/mysql.sock3 | <br>
| pid&minus;file | hostname.pid3 | <br>
| datadir | /home/cps/mysql_data/data_dir1/ | <br>
| language |
/home/cps/mysql/trees/mysql&minus;4.1/sql/share/english |
<br>

+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+</p>

<p style="margin-left:17%; margin-top: 1em">&bull; SHOW
<i>instance_name</i> LOG FILES</p>

<p style="margin-left:17%; margin-top: 1em">The command
lists all log files used by the instance. The result set
contains the path to the log file and the log file size. If
no log file path is specified in the instance section of the
configuration file (for example, log=/var/mysql.log), the
Instance Manager tries to guess its placement. If Instance
Manager is unable to guess the log file placement you should
specify the log file location explicitly by using a log
option in the appropriate instance section of the
configuration file.</p>

<p style="margin-left:23%; margin-top: 1em">mysql&gt;
<b>SHOW mysqld LOG FILES;</b> <br>

+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+
<br>
| Logfile | Path | Filesize | <br>

+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+
<br>
| ERROR LOG | /home/cps/var/mysql/owlet.err | 9186 | <br>
| GENERAL LOG | /home/cps/var/mysql/owlet.log | 471503 |
<br>
| SLOW LOG | /home/cps/var/mysql/owlet&minus;slow.log | 4463
| <br>

+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+</p>

<p style="margin-left:17%; margin-top: 1em">SHOW ... LOG
FILES displays information only about log files. If a server
instance uses log tables (see Section&nbsp;5.2.1,
&ldquo;Selecting General Query and Slow Query Log Output
Destinations&rdquo;), no information about those tables is
shown.</p>

<p style="margin-left:17%; margin-top: 1em">Log options are
described in Section&nbsp;5.1.2, &ldquo;Server Command
Options&rdquo;.</p>

<p style="margin-left:17%; margin-top: 1em">&bull; SHOW
<i>instance_name</i> LOG {ERROR | SLOW | GENERAL}
<i>size</i>[,<i>offset_from_end</i>]</p>

<p style="margin-left:17%; margin-top: 1em">This command
retrieves a portion of the specified log file. Because most
users are interested in the latest log messages, the
<i>size</i> parameter defines the number of bytes to
retrieve from the end of the log. To retrieve data from the
middle of the log file, specify the optional
<i>offset_from_end</i> parameter. The following example
retrieves 21 bytes of data, starting 23 bytes before the end
of the log file and ending 2 bytes before the end:</p>

<p style="margin-left:23%; margin-top: 1em">mysql&gt;
<b>SHOW mysqld LOG GENERAL 21, 2;</b> <br>

+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+
<br>
| Log | <br>

+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+
<br>
| using password: YES | <br>

+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+</p>

<p style="margin-left:17%; margin-top: 1em">&bull; SET
<i>instance_name</i>.<i>option_name</i>[=<i>option_value</i>]</p>

<p style="margin-left:17%; margin-top: 1em">This command
edits the specified instance&acute;s configuration section
to change or add instance options. The option is added to
the section is it is not already present. Otherwise, the new
setting replaces the existing one.</p>

<p style="margin-left:23%; margin-top: 1em">mysql&gt;
<b>SET mysqld2.port=3322;</b> <br>
Query OK, 0 rows affected (0.00 sec)</p>

<p style="margin-left:17%; margin-top: 1em">As of MySQL
5.1.12, you can specify multiple options (separated by
commas), and SET can be used only for offline instances.
Each option must indicate the instance name:</p>

<p style="margin-left:23%; margin-top: 1em">mysql&gt;
<b>SET mysqld2.port=3322, mysqld3.nonguarded;</b> <br>
Query OK, 0 rows affected (0.00 sec)</p>

<p style="margin-left:17%; margin-top: 1em">Before MySQL
5.1.12, only a single option can be specified. Also, changes
made to the configuration file do not take effect until the
MySQL server is restarted. In addition, these changes are
not stored in the instance manager&acute;s local cache of
instance settings until a FLUSH INSTANCES command is
executed.</p>

<p style="margin-left:17%; margin-top: 1em">&bull; UNSET
<i>instance_name</i>.<i>option_name</i></p>

<p style="margin-left:17%; margin-top: 1em">This command
removes an option from an instance&acute;s configuration
section.</p>

<p style="margin-left:23%; margin-top: 1em">mysql&gt;
<b>UNSET mysqld2.port;</b> <br>
Query OK, 0 rows affected (0.00 sec)</p>

<p style="margin-left:17%; margin-top: 1em">As of MySQL
5.1.12, you can specify multiple options (separated by
commas), and UNSET can be used only for offline instances.
Each option must indicate the instance name:</p>

<p style="margin-left:23%; margin-top: 1em">mysql&gt;
<b>UNSET mysqld2.port, mysqld4.nonguarded;</b> <br>
Query OK, 0 rows affected (0.00 sec)</p>

<p style="margin-left:17%; margin-top: 1em">Before MySQL
5.1.12, only a single option can be specified. Also, changes
made to the configuration file do not take effect until the
MySQL server is restarted. In addition, these changes are
not stored in the instance manager&acute;s local cache of
instance settings until a FLUSH INSTANCES command is
executed.</p>

<p style="margin-left:17%; margin-top: 1em">&bull; FLUSH
INSTANCES</p>

<p style="margin-left:17%; margin-top: 1em">As of MySQL
5.1.12, FLUSH INSTANCES cannot be used unless all instances
are offline. The command causes Instance Manager to reread
the configuration file, update its in&minus;memory
configuration cache, and start any guarded instances.</p>

<p style="margin-left:17%; margin-top: 1em">Before MySQL
5.1.12, this command forces Instance Manager reread the
configuration file and to refresh internal structures. This
command should be performed after editing the configuration
file. The command does not restart instances.</p>

<p style="margin-left:23%; margin-top: 1em">mysql&gt;
<b>FLUSH INSTANCES;</b> <br>
Query OK, 0 rows affected (0.04 sec)</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
2007-2008 MySQL AB, 2008-2010 Sun Microsystems, Inc.</p>

<p style="margin-left:11%; margin-top: 1em">This
documentation is free software; you can redistribute it
and/or modify it only under the terms of the GNU General
Public License as published by the Free Software Foundation;
version 2 of the License.</p>

<p style="margin-left:11%; margin-top: 1em">This
documentation is distributed in the hope that it will be
useful, but WITHOUT ANY WARRANTY; without even the implied
warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
PURPOSE. See the GNU General Public License for more
details.</p>

<p style="margin-left:11%; margin-top: 1em">You should have
received a copy of the GNU General Public License along with
the program; if not, write to the Free Software Foundation,
Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301
USA or see http://www.gnu.org/licenses/.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">For more
information, please refer to the MySQL Reference Manual,
which may already be installed locally and which is also
available online at http://dev.mysql.com/doc/.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Sun
Microsystems, Inc. (http://www.mysql.com/).</p>
<hr>
</body>
</html>
