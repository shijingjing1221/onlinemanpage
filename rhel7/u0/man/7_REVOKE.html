<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 02:17:23 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>REVOKE</title>

</head>
<body>

<h1 align="center">REVOKE</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#COMPATIBILITY">COMPATIBILITY</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">REVOKE &minus;
remove access privileges</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">REVOKE [ GRANT
OPTION FOR ] <br>
{ { SELECT | INSERT | UPDATE | DELETE | TRUNCATE |
REFERENCES | TRIGGER } <br>
[, ...] | ALL [ PRIVILEGES ] } <br>
ON { [ TABLE ] <i>table_name</i> [, ...] <br>
| ALL TABLES IN SCHEMA <i>schema_name</i> [, ...] } <br>
FROM { [ GROUP ] <i>role_name</i> | PUBLIC } [, ...] <br>
[ CASCADE | RESTRICT ]</p>

<p style="margin-left:11%; margin-top: 1em">REVOKE [ GRANT
OPTION FOR ] <br>
{ { SELECT | INSERT | UPDATE | REFERENCES } (
<i>column_name</i> [, ...] ) <br>
[, ...] | ALL [ PRIVILEGES ] ( <i>column_name</i> [, ...] )
} <br>
ON [ TABLE ] <i>table_name</i> [, ...] <br>
FROM { [ GROUP ] <i>role_name</i> | PUBLIC } [, ...] <br>
[ CASCADE | RESTRICT ]</p>

<p style="margin-left:11%; margin-top: 1em">REVOKE [ GRANT
OPTION FOR ] <br>
{ { USAGE | SELECT | UPDATE } <br>
[, ...] | ALL [ PRIVILEGES ] } <br>
ON { SEQUENCE <i>sequence_name</i> [, ...] <br>
| ALL SEQUENCES IN SCHEMA <i>schema_name</i> [, ...] } <br>
FROM { [ GROUP ] <i>role_name</i> | PUBLIC } [, ...] <br>
[ CASCADE | RESTRICT ]</p>

<p style="margin-left:11%; margin-top: 1em">REVOKE [ GRANT
OPTION FOR ] <br>
{ { CREATE | CONNECT | TEMPORARY | TEMP } [, ...] | ALL [
PRIVILEGES ] } <br>
ON DATABASE <i>database_name</i> [, ...] <br>
FROM { [ GROUP ] <i>role_name</i> | PUBLIC } [, ...] <br>
[ CASCADE | RESTRICT ]</p>

<p style="margin-left:11%; margin-top: 1em">REVOKE [ GRANT
OPTION FOR ] <br>
{ USAGE | ALL [ PRIVILEGES ] } <br>
ON DOMAIN <i>domain_name</i> [, ...] <br>
FROM { [ GROUP ] <i>role_name</i> | PUBLIC } [, ...] <br>
[ CASCADE | RESTRICT ]</p>

<p style="margin-left:11%; margin-top: 1em">REVOKE [ GRANT
OPTION FOR ] <br>
{ USAGE | ALL [ PRIVILEGES ] } <br>
ON FOREIGN DATA WRAPPER <i>fdw_name</i> [, ...] <br>
FROM { [ GROUP ] <i>role_name</i> | PUBLIC } [, ...] <br>
[ CASCADE | RESTRICT ]</p>

<p style="margin-left:11%; margin-top: 1em">REVOKE [ GRANT
OPTION FOR ] <br>
{ USAGE | ALL [ PRIVILEGES ] } <br>
ON FOREIGN SERVER <i>server_name</i> [, ...] <br>
FROM { [ GROUP ] <i>role_name</i> | PUBLIC } [, ...] <br>
[ CASCADE | RESTRICT ]</p>

<p style="margin-left:11%; margin-top: 1em">REVOKE [ GRANT
OPTION FOR ] <br>
{ EXECUTE | ALL [ PRIVILEGES ] } <br>
ON { FUNCTION <i>function_name</i> ( [ [ <i>argmode</i> ] [
<i>arg_name</i> ] <i>arg_type</i> [, ...] ] ) [, ...] <br>
| ALL FUNCTIONS IN SCHEMA <i>schema_name</i> [, ...] } <br>
FROM { [ GROUP ] <i>role_name</i> | PUBLIC } [, ...] <br>
[ CASCADE | RESTRICT ]</p>

<p style="margin-left:11%; margin-top: 1em">REVOKE [ GRANT
OPTION FOR ] <br>
{ USAGE | ALL [ PRIVILEGES ] } <br>
ON LANGUAGE <i>lang_name</i> [, ...] <br>
FROM { [ GROUP ] <i>role_name</i> | PUBLIC } [, ...] <br>
[ CASCADE | RESTRICT ]</p>

<p style="margin-left:11%; margin-top: 1em">REVOKE [ GRANT
OPTION FOR ] <br>
{ { SELECT | UPDATE } [, ...] | ALL [ PRIVILEGES ] } <br>
ON LARGE OBJECT <i>loid</i> [, ...] <br>
FROM { [ GROUP ] <i>role_name</i> | PUBLIC } [, ...] <br>
[ CASCADE | RESTRICT ]</p>

<p style="margin-left:11%; margin-top: 1em">REVOKE [ GRANT
OPTION FOR ] <br>
{ { CREATE | USAGE } [, ...] | ALL [ PRIVILEGES ] } <br>
ON SCHEMA <i>schema_name</i> [, ...] <br>
FROM { [ GROUP ] <i>role_name</i> | PUBLIC } [, ...] <br>
[ CASCADE | RESTRICT ]</p>

<p style="margin-left:11%; margin-top: 1em">REVOKE [ GRANT
OPTION FOR ] <br>
{ CREATE | ALL [ PRIVILEGES ] } <br>
ON TABLESPACE <i>tablespace_name</i> [, ...] <br>
FROM { [ GROUP ] <i>role_name</i> | PUBLIC } [, ...] <br>
[ CASCADE | RESTRICT ]</p>

<p style="margin-left:11%; margin-top: 1em">REVOKE [ GRANT
OPTION FOR ] <br>
{ USAGE | ALL [ PRIVILEGES ] } <br>
ON TYPE <i>type_name</i> [, ...] <br>
FROM { [ GROUP ] <i>role_name</i> | PUBLIC } [, ...] <br>
[ CASCADE | RESTRICT ]</p>

<p style="margin-left:11%; margin-top: 1em">REVOKE [ ADMIN
OPTION FOR ] <i><br>
role_name</i> [, ...] FROM <i>role_name</i> [, ...] <br>
[ CASCADE | RESTRICT ]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>REVOKE</b> command revokes previously granted privileges
from one or more roles. The key word PUBLIC refers to the
implicitly defined group of all roles.</p>

<p style="margin-left:11%; margin-top: 1em">See the
description of the <b>GRANT</b>(7) command for the meaning
of the privilege types.</p>

<p style="margin-left:11%; margin-top: 1em">Note that any
particular role will have the sum of privileges granted
directly to it, privileges granted to any role it is
presently a member of, and privileges granted to PUBLIC.
Thus, for example, revoking SELECT privilege from PUBLIC
does not necessarily mean that all roles have lost SELECT
privilege on the object: those who have it granted directly
or via another role will still have it. Similarly, revoking
SELECT from a user might not prevent that user from using
SELECT if PUBLIC or another membership role still has SELECT
rights.</p>

<p style="margin-left:11%; margin-top: 1em">If GRANT OPTION
FOR is specified, only the grant option for the privilege is
revoked, not the privilege itself. Otherwise, both the
privilege and the grant option are revoked.</p>

<p style="margin-left:11%; margin-top: 1em">If a user holds
a privilege with grant option and has granted it to other
users then the privileges held by those other users are
called dependent privileges. If the privilege or the grant
option held by the first user is being revoked and dependent
privileges exist, those dependent privileges are also
revoked if CASCADE is specified; if it is not, the revoke
action will fail. This recursive revocation only affects
privileges that were granted through a chain of users that
is traceable to the user that is the subject of this REVOKE
command. Thus, the affected users might effectively keep the
privilege if it was also granted through other users.</p>

<p style="margin-left:11%; margin-top: 1em">When revoking
privileges on a table, the corresponding column privileges
(if any) are automatically revoked on each column of the
table, as well. On the other hand, if a role has been
granted privileges on a table, then revoking the same
privileges from individual columns will have no effect.</p>

<p style="margin-left:11%; margin-top: 1em">When revoking
membership in a role, GRANT OPTION is instead called ADMIN
OPTION, but the behavior is similar. Note also that this
form of the command does not allow the noise word GROUP.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Use
<b>psql</b>(1)'s <b>\dp</b> command to display the
privileges granted on existing tables and columns. See
<b>GRANT</b>(7) for information about the format. For
non&minus;table objects there are other <b>\d</b> commands
that can display their privileges.</p>

<p style="margin-left:11%; margin-top: 1em">A user can only
revoke privileges that were granted directly by that user.
If, for example, user A has granted a privilege with grant
option to user B, and user B has in turned granted it to
user C, then user A cannot revoke the privilege directly
from C. Instead, user A could revoke the grant option from
user B and use the CASCADE option so that the privilege is
in turn revoked from user C. For another example, if both A
and B have granted the same privilege to C, A can revoke his
own grant but not B's grant, so C will still effectively
have the privilege.</p>

<p style="margin-left:11%; margin-top: 1em">When a
non&minus;owner of an object attempts to <b>REVOKE</b>
privileges on the object, the command will fail outright if
the user has no privileges whatsoever on the object. As long
as some privilege is available, the command will proceed,
but it will revoke only those privileges for which the user
has grant options. The <b>REVOKE ALL PRIVILEGES</b> forms
will issue a warning message if no grant options are held,
while the other forms will issue a warning if grant options
for any of the privileges specifically named in the command
are not held. (In principle these statements apply to the
object owner as well, but since the owner is always treated
as holding all grant options, the cases can never
occur.)</p>

<p style="margin-left:11%; margin-top: 1em">If a superuser
chooses to issue a <b>GRANT</b> or <b>REVOKE</b> command,
the command is performed as though it were issued by the
owner of the affected object. Since all privileges
ultimately come from the object owner (possibly indirectly
via chains of grant options), it is possible for a superuser
to revoke all privileges, but this might require use of
CASCADE as stated above.</p>

<p style="margin-left:11%; margin-top: 1em"><b>REVOKE</b>
can also be done by a role that is not the owner of the
affected object, but is a member of the role that owns the
object, or is a member of a role that holds privileges WITH
GRANT OPTION on the object. In this case the command is
performed as though it were issued by the containing role
that actually owns the object or holds the privileges WITH
GRANT OPTION. For example, if table t1 is owned by role g1,
of which role u1 is a member, then u1 can revoke privileges
on t1 that are recorded as being granted by g1. This would
include grants made by u1 as well as by other members of
role g1.</p>

<p style="margin-left:11%; margin-top: 1em">If the role
executing <b>REVOKE</b> holds privileges indirectly via more
than one role membership path, it is unspecified which
containing role will be used to perform the command. In such
cases it is best practice to use <b>SET ROLE</b> to become
the specific role you want to do the <b>REVOKE</b> as.
Failure to do so might lead to revoking privileges other
than the ones you intended, or not revoking anything at
all.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Revoke insert
privilege for the public on table films:</p>

<p style="margin-left:17%; margin-top: 1em">REVOKE INSERT
ON films FROM PUBLIC;</p>

<p style="margin-left:11%; margin-top: 1em">Revoke all
privileges from user manuel on view kinds:</p>

<p style="margin-left:17%; margin-top: 1em">REVOKE ALL
PRIVILEGES ON kinds FROM manuel;</p>

<p style="margin-left:11%; margin-top: 1em">Note that this
actually means &ldquo;revoke all privileges that I
granted&rdquo;.</p>

<p style="margin-left:11%; margin-top: 1em">Revoke
membership in role admins from user joe:</p>

<p style="margin-left:17%; margin-top: 1em">REVOKE admins
FROM joe;</p>

<h2>COMPATIBILITY
<a name="COMPATIBILITY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
compatibility notes of the <b>GRANT</b>(7) command apply
analogously to <b>REVOKE</b>. The keyword RESTRICT or
CASCADE is required according to the standard, but
PostgreSQL assumes RESTRICT by default.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>GRANT</b>(7)</p>
<hr>
</body>
</html>
