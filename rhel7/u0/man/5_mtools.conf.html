<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 02:07:36 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>mtools</title>

</head>
<body>

<h1 align="center">mtools</h1>

<a href="#Name">Name</a><br>
<a href="#Description">Description</a><br>
<a href="#See also">See also</a><br>

<hr>


<h2>Name
<a name="Name"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">mtools.conf -
mtools configuration files</p>

<h2>Description
<a name="Description"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This manual
page describes the configuration files for mtools. They are
called <tt>&lsquo;/etc/mtools.conf&rsquo;</tt> and
<tt>&lsquo;~/.mtoolsrc&rsquo;</tt>. If the environmental
variable <tt>MTOOLSRC</tt> is set, its contents is used as
the filename for a third configuration file. These
configuration files describe the following items: <br>
*
&nbsp;Global&nbsp;configuration&nbsp;flags&nbsp;and&nbsp;variables&nbsp;
<br>
*
&nbsp;Per&nbsp;drive&nbsp;flags&nbsp;and&nbsp;variables&nbsp;</p>


<p style="margin-left:11%; margin-top: 1em"><b>Location&nbsp;of&nbsp;the&nbsp;configuration&nbsp;files</b>
<tt><br>
&lsquo;/etc/mtools.conf&rsquo;</tt> is the system-wide
configuration file, and <tt>&lsquo;~/.mtoolsrc&rsquo;</tt>
is the user&rsquo;s private configuration file.</p>

<p style="margin-left:11%; margin-top: 1em">On some
systems, the system-wide configuration file is called
<tt>&lsquo;/etc/default/mtools.conf&rsquo;</tt> instead.
&nbsp;&nbsp;</p>


<p style="margin-left:11%; margin-top: 1em"><b>General&nbsp;configuration&nbsp;file&nbsp;syntax</b>
<br>
The configuration files is made up of sections. Each section
starts with a keyword identifying the section followed by a
colon. Then follow variable assignments and flags. Variable
assignments take the following form: <i><br>
name=value</i></p>

<p style="margin-left:11%; margin-top: 1em">Flags are lone
keywords without an equal sign and value following them. A
section either ends at the end of the file or where the next
section begins.</p>

<p style="margin-left:11%; margin-top: 1em">Lines starting
with a hash (<tt>#</tt>) are comments. Newline characters
are equivalent to whitespace (except where ending a
comment). The configuration file is case insensitive, except
for item enclosed in quotes (such as filenames).</p>


<p style="margin-left:11%; margin-top: 1em"><b>Default&nbsp;values</b>
<br>
For most platforms, mtools contains reasonable compiled-in
defaults for physical floppy drives. Thus, you usually
don&rsquo;t need to bother with the configuration file, if
all you want to do with mtools is to access your floppy
drives. On the other hand, the configuration file is needed
if you also want to use mtools to access your hard disk
partitions and DOSEMU image files.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Global&nbsp;variables</b>
<br>
Global flags may be set to 1 or to 0.</p>

<p style="margin-left:11%; margin-top: 1em">The following
global flags are recognized: <tt><br>
MTOOLS_SKIP_CHECK&nbsp;</tt></p>

<p style="margin-left:22%;">If this is set to 1, mtools
skips most of its sanity checks. This is needed to read some
Atari disks which have been made with the earlier ROMs, and
which would not be recognized otherwise.</p>


<p style="margin-left:11%;"><tt>MTOOLS_FAT_COMPATIBILITY&nbsp;</tt></p>

<p style="margin-left:22%;">If this is set to 1, mtools
skips the fat size checks. Some disks have a bigger FAT than
they really need to. These are rejected if this option is
not set.</p>


<p style="margin-left:11%;"><tt>MTOOLS_LOWER_CASE&nbsp;</tt></p>

<p style="margin-left:22%;">If this is set to 1, mtools
displays all-upper-case short filenames as lowercase. This
has been done to allow a behavior which is consistent with
older versions of mtools which didn&rsquo;t know about the
case bits.</p>


<p style="margin-left:11%;"><tt>MTOOLS_NO_VFAT&nbsp;</tt></p>

<p style="margin-left:22%;">If this is set to 1, mtools
won&rsquo;t generate VFAT entries for filenames which are
mixed-case, but otherwise legal dos filenames. This is
useful when working with DOS versions which can&rsquo;t grok
VFAT long names, such as FreeDOS.</p>


<p style="margin-left:11%;"><tt>MTOOLS_DOTTED_DIR&nbsp;</tt></p>

<p style="margin-left:22%;">In a wide directory, prints the
short name with a dot instead of spaces separating the
basename and the extension.</p>


<p style="margin-left:11%;"><tt>MTOOLS_NAME_NUMERIC_TAIL&nbsp;</tt></p>

<p style="margin-left:22%;">If this is set to one
(default), generate numeric tails for all long names (~1).
If set to zero, only generate numeric tails if otherwise a
clash would have happened.</p>


<p style="margin-left:11%;"><tt>MTOOLS_TWENTY_FOUR_HOUR_CLOCK&nbsp;</tt></p>

<p style="margin-left:22%;">If 1, uses the European
notation for times (twenty four hour clock), else uses the
UK/US notation (am/pm)</p>

<p style="margin-left:11%; margin-top: 1em">Example:
Inserting the following line into your configuration file
instructs mtools to skip the sanity checks:</p>


<p style="margin-left:15%; margin-top: 1em"><b>MTOOLS_SKIP_CHECK=1</b></p>

<p style="margin-left:11%; margin-top: 1em">Global
variables may also be set via the environment:</p>

<p style="margin-left:15%; margin-top: 1em"><b>export
MTOOLS_SKIP_CHECK=1</b></p>

<p style="margin-left:11%; margin-top: 1em">Global string
variables may be set to any value: <tt><br>
MTOOLS_DATE_STRING&nbsp;</tt></p>

<p style="margin-left:22%;">The format used for printing
dates of files. By default, is dd-mm-yyyy.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Per&nbsp;drive&nbsp;flags&nbsp;and&nbsp;variables
&nbsp;&nbsp;<br>
General&nbsp;information</b> <br>
Per drive flags and values may be described in a drive
section. A drive section starts with <tt>drive</tt>
&quot;<i>driveletter</i>&quot; :</p>

<p style="margin-left:11%; margin-top: 1em">Then follow
variable-value pairs and flags.</p>

<p style="margin-left:11%; margin-top: 1em">This is a
sample drive description:</p>

<p style="margin-left:15%; margin-top: 1em"><b>drive a:
<br>
file=&quot;/dev/fd0&quot; use_xdf=1 &nbsp;&nbsp;</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>Location&nbsp;information</b>
<br>
For each drive, you need to describe where its data is
physically stored (image file, physical device, partition,
offset).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><tt>file&nbsp;</tt></p></td>
<td width="4%"></td>
<td width="78%">


<p>The name of the file or device holding the disk image.
This is mandatory. The file name should be enclosed in
quotes.</p> </td></tr>
</table>

<p style="margin-left:11%;"><tt>partition&nbsp;</tt></p>

<p style="margin-left:22%;">Tells mtools to treat the drive
as a partitioned device, and to use the given partition.
Only primary partitions are accessible using this method,
and they are numbered from 1 to 4. For logical partitions,
use the more general <tt>offset</tt> variable. The
<tt>partition</tt> variable is intended for removable media
such as Syquest disks, ZIP drives, and magneto-optical
disks. Although traditional DOS sees Syquest disks and
magneto-optical disks as <tt>&lsquo;giant floppy
disks&rsquo;</tt> which are unpartitioned, OS/2 and Windows
NT treat them like hard disks, i.e. partitioned devices. The
<tt>partition</tt> flag is also useful DOSEMU hdimages. It
is not recommended for hard disks for which direct access to
partitions is available through mounting.</p>

<p style="margin-left:11%;"><tt>offset&nbsp;</tt></p>

<p style="margin-left:22%;">Describes where in the file the
MS-DOS file system starts. This is useful for logical
partitions in DOSEMU hdimages, and for ATARI ram disks. By
default, this is zero, meaning that the file system starts
right at the beginning of the device or file.
&nbsp;&nbsp;</p>


<p style="margin-left:11%; margin-top: 1em"><b>Disk&nbsp;Geometry&nbsp;Configuration</b>
<br>
Geometry information describes the physical characteristics
about the disk. Its has three purposes: <br>
formatting&nbsp;</p>

<p style="margin-left:22%;">The geometry information is
written into the boot sector of the newly made disk.
However, you may also describe the geometry information on
the command line. See section mformat, for details.</p>

<p style="margin-left:11%;">filtering&nbsp;</p>

<p style="margin-left:22%;">On some Unixes there are device
nodes which only support one physical geometry. For
instance, you might need a different node to access a disk
as high density or as low density. The geometry is compared
to the actual geometry stored on the boot sector to make
sure that this device node is able to correctly read the
disk. If the geometry doesn&rsquo;t match, this drive entry
fails, and the next drive entry bearing the same drive
letter is tried. See section multiple descriptions, for more
details on supplying several descriptions for one drive
letter.</p>

<p style="margin-left:22%; margin-top: 1em">If no geometry
information is supplied in the configuration file, all disks
are accepted. On Linux (and on SPARC) there exist device
nodes with configurable geometry
(<tt>&lsquo;/dev/fd0&rsquo;</tt>,
<tt>&lsquo;/dev/fd1&rsquo;</tt> etc), and thus filtering is
not needed (and ignored) for disk drives. (Mtools still does
do filtering on plain files (disk images) in Linux: this is
mainly intended for test purposes, as I don&rsquo;t have
access to a Unix which would actually need filtering).</p>

<p style="margin-left:22%; margin-top: 1em">If you do not
need filtering, but want still a default geometry for
mformatting, you may switch off filtering using the
<tt>mformat_only</tt> flag.</p>

<p style="margin-left:22%; margin-top: 1em">If you want
filtering, you should supply the <tt>filter</tt> flag. If
you supply a geometry, you must supply one of both
flags.</p>


<p style="margin-left:11%;">initial&nbsp;geometry&nbsp;</p>

<p style="margin-left:22%;">On devices that support it
(usually floppy devices), the geometry information is also
used to set the initial geometry. This initial geometry is
applied while reading the boot sector, which contains the
real geometry. If no geometry information is supplied in the
configuration file, or if the <tt>mformat_only</tt> flag is
supplied, no initial configuration is done.</p>

<p style="margin-left:22%; margin-top: 1em">On Linux,
initial geometry is not really needed, as the configurable
devices are able to auto-detect the disk type accurately
enough (for most common formats) to read the boot
sector.</p>

<p style="margin-left:11%; margin-top: 1em">Wrong geometry
information may lead to very bizarre errors. That&rsquo;s
why I strongly recommend that you add the
<tt>mformat_only</tt> flag to your drive description, unless
you really need filtering or initial geometry.</p>

<p style="margin-left:11%; margin-top: 1em">The following
geometry related variables are available: <tt><br>
cylinders&nbsp;</tt></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><tt>tracks</tt></p></td>
<td width="2%"></td>
<td width="78%">


<p>The number of cylinders. (<tt>cylinders</tt> is the
preferred form, <tt>tracks</tt> is considered obsolete)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><tt>heads&nbsp;</tt></p></td>
<td width="2%"></td>
<td width="78%">


<p>The number of heads (sides).</p></td></tr>
</table>

<p style="margin-left:11%;"><tt>sectors&nbsp;</tt></p>

<p style="margin-left:22%;">The number of sectors per
track.</p>

<p style="margin-left:11%; margin-top: 1em">Example: the
following drive section describes a 1.44M drive:</p>

<p style="margin-left:15%; margin-top: 1em"><b>drive a:
<br>
file=&quot;/dev/fd0H1440&quot; <br>
fat_bits=12 <br>
cylinders=80 heads=2 sectors=18 <br>
mformat_only</b></p>

<p style="margin-left:11%; margin-top: 1em">The following
shorthand geometry descriptions are available:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><tt>1.44m&nbsp;</tt></p></td>
<td width="2%"></td>
<td width="78%">


<p>high density 3 1/2 disk. Equivalent to: <tt>fat_bits=12
cylinders=80 heads=2 sectors=18</tt></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><tt>1.2m&nbsp;</tt></p></td>
<td width="2%"></td>
<td width="78%">


<p>high density 5 1/4 disk. Equivalent to: <tt>fat_bits=12
cylinders=80 heads=2 sectors=15</tt></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><tt>720k&nbsp;</tt></p></td>
<td width="2%"></td>
<td width="78%">


<p>double density 3 1/2 disk. Equivalent to:
<tt>fat_bits=12 cylinders=80 heads=2 sectors=9</tt></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><tt>360k&nbsp;</tt></p></td>
<td width="2%"></td>
<td width="78%">


<p>double density 5 1/4 disk. Equivalent to:
<tt>fat_bits=12 cylinders=40 heads=2 sectors=9</tt></p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The shorthand
format descriptions may be amended. For example, <tt>360k
sectors=8</tt> describes a 320k disk and is equivalent to:
<tt>fat_bits=12 cylinders=40 heads=2 sectors=8
&nbsp;&nbsp;</tt></p>


<p style="margin-left:11%; margin-top: 1em"><b>Open&nbsp;Flags</b>
<br>
Moreover, the following flags are available:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p style="margin-top: 1em"><tt>sync&nbsp;</tt></p></td>
<td width="4%"></td>
<td width="63%">


<p style="margin-top: 1em">All i/o operations are done
synchronously</p> </td>
<td width="15%">
</td></tr>
</table>

<p style="margin-left:11%;"><tt>nodelay&nbsp;</tt></p>

<p style="margin-left:22%;">The device or file is opened
with the O_NDELAY flag. This is needed on some non-Linux
architectures.</p>

<p style="margin-left:11%;"><tt>exclusive&nbsp;</tt></p>

<p style="margin-left:22%;">The device or file is opened
with the O_EXCL flag. On Linux, this ensures exclusive
access to the floppy drive. On most other architectures, and
for plain files it has no effect at all. &nbsp;&nbsp;</p>


<p style="margin-left:11%; margin-top: 1em"><b>General&nbsp;Purpose&nbsp;Drive&nbsp;Variables</b>
<br>
The following general purpose drive variables are available.
Depending to their type, these variables can be set to a
string (precmd) or an integer (all others) <tt><br>
fat_bits&nbsp;</tt></p>

<p style="margin-left:22%;">The number of FAT bits. This
may be 12 or 16. This is very rarely needed, as it can
almost always be deduced from information in the boot
sector. On the contrary, describing the number of fat bits
may actually be harmful if you get it wrong. You should only
use it if mtools gets the auto-detected number of fat bits
wrong, or if you want to mformat a disk with a weird number
of fat bits.</p>

<p style="margin-left:11%;"><tt>codepage&nbsp;</tt></p>

<p style="margin-left:22%;">Describes the DOS code page
used for short filenames. This is a number between 1 and
999. By default, code page 850 is used. The reason for this
is because this code page contains most of the characters
that are also available in ISO-Latin-1. You may also specify
a global code page for all drives by using the global
<tt>default_codepage</tt> parameter (outside of any drive
description). This parameters exists starting at version
4.0.0</p>

<p style="margin-left:11%;"><tt>precmd&nbsp;</tt></p>

<p style="margin-left:22%;">On some variants of Solaris, it
is necessary to call &rsquo;volcheck -v&rsquo; before
opening a floppy device, in order for the system to notice
that there is indeed a disk in the drive.
<tt>precmd=&quot;volcheck -v&quot;</tt> in the drive clause
establishes the desired behavior.</p>

<p style="margin-left:11%;"><tt>blocksize&nbsp;</tt></p>

<p style="margin-left:22%;">This parameter represents a
default block size to be always used on this device. All I/O
is done with multiples of this block size, independently of
the sector size registered in the file system&rsquo;s boot
sector. This is useful for character devices whose sector
size is not 512, such as for example CD-ROM drives on
Solaris.</p>

<p style="margin-left:11%; margin-top: 1em">Only the
<tt>file</tt> variable is mandatory. The other parameters
may be left out. In that case a default value or an
auto-detected value is used. &nbsp;&nbsp;</p>


<p style="margin-left:11%; margin-top: 1em"><b>General&nbsp;Purpose&nbsp;Drive&nbsp;Flags</b>
<br>
A flag can either be set to 1 (enabled) or 0 (disabled). If
the value is omitted, it is enabled. For example,
<tt>scsi</tt> is equivalent to <tt>scsi=1 <br>
nolock&nbsp;</tt></p>

<p style="margin-left:22%;">Instruct mtools to not use
locking on this drive. This is needed on systems with buggy
locking semantics. However, enabling this makes operation
less safe in cases where several users may access the same
drive at the same time.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><tt>scsi&nbsp;</tt></p></td>
<td width="4%"></td>
<td width="78%">


<p>When set to 1, this option tells mtools to use raw SCSI
I/O instead of the standard read/write calls to access the
device. Currently, this is supported on HP-UX, Solaris and
SunOS. This is needed because on some architectures, such as
SunOS or Solaris, PC media can&rsquo;t be accessed using the
<tt>read</tt> and <tt>write</tt> system calls, because the
OS expects them to contain a Sun specific &quot;disk
label&quot;.</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">As raw SCSI
access always uses the whole device, you need to specify the
&quot;partition&quot; flag in addition</p>

<p style="margin-left:22%; margin-top: 1em">On some
architectures, such as Solaris, mtools needs root privileges
to be able to use the <tt>scsi</tt> option. Thus mtools
should be installed setuid root on Solaris if you want to
access Zip/Jaz drives. Thus, if the <tt>scsi</tt> flag is
given, <tt>privileged</tt> is automatically implied, unless
explicitly disabled by <tt>privileged=0</tt></p>

<p style="margin-left:22%; margin-top: 1em">Mtools uses its
root privileges to open the device, and to issue the actual
SCSI I/O calls. Moreover, root privileges are only used for
drives described in a system-wide configuration file such as
<tt>&lsquo;/etc/mtools.conf&rsquo;</tt>, and not for those
described in <tt>&lsquo;~/.mtoolsrc&rsquo;</tt> or
<tt>&lsquo;$MTOOLSRC&rsquo;</tt>.</p>

<p style="margin-left:11%;"><tt>privileged&nbsp;</tt></p>

<p style="margin-left:22%;">When set to 1, this instructs
mtools to use its setuid and setgid privileges for opening
the given drive. This option is only valid for drives
described in the system-wide configuration files (such as
<tt>&lsquo;/etc/mtools.conf&rsquo;</tt>, not
<tt>&lsquo;~/.mtoolsrc&rsquo;</tt> or
<tt>&lsquo;$MTOOLSRC&rsquo;</tt>). Obviously, this option is
also a no op if mtools is not installed setuid or setgid.
This option is implied by &rsquo;scsi=1&rsquo;, but again
only for drives defined in system-wide configuration files.
Privileged may also be set explicitly to 0, in order to tell
mtools not to use its privileges for a given drive even if
<tt>scsi=1</tt> is set.</p>

<p style="margin-left:22%; margin-top: 1em">Mtools only
needs to be installed setuid if you use the
<tt>privileged</tt> or <tt>scsi</tt> drive variables. If you
do not use these options, mtools works perfectly well even
when not installed setuid root.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><tt>vold&nbsp;</tt></p></td>
<td width="4%"></td>
<td width="78%">


<p>Instructs mtools to interpret the device name as a vold
identifier rather than as a filename. The vold identifier is
translated into a real filename using the
<tt>media_findname()</tt> and <tt>media_oldaliases()</tt>
functions of the <tt>volmgt</tt> library. This flag is only
available if you configured mtools with the
<tt>--enable-new-vold</tt> option before compilation.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><tt>swap&nbsp;</tt></p></td>
<td width="4%"></td>
<td width="78%">


<p>Consider the media as a word-swapped Atari disk.</p></td></tr>
</table>

<p style="margin-left:11%;"><tt>use_xdf&nbsp;</tt></p>

<p style="margin-left:22%;">If this is set to a non-zero
value, mtools also tries to access this disk as an XDF disk.
XDF is a high capacity format used by OS/2. This is off by
default. See section XDF, for more details.</p>


<p style="margin-left:11%;"><tt>mformat_only&nbsp;</tt></p>

<p style="margin-left:22%;">Tells mtools to use the
geometry for this drive only for mformatting and not for
filtering.</p>

<p style="margin-left:11%;"><tt>filter&nbsp;</tt></p>

<p style="margin-left:22%;">Tells mtools to use the
geometry for this drive both for mformatting and
filtering.</p>

<p style="margin-left:11%;"><tt>remote&nbsp;</tt></p>

<p style="margin-left:22%;">Tells mtools to connect to
floppyd (see section floppyd). &nbsp;&nbsp;</p>


<p style="margin-left:11%; margin-top: 1em"><b>Supplying&nbsp;multiple&nbsp;descriptions&nbsp;for&nbsp;a&nbsp;drive</b>
<br>
It is possible to supply multiple descriptions for a drive.
In that case, the descriptions are tried in order until one
is found that fits. Descriptions may fail for several
reasons:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>1.&nbsp;</p></td>
<td width="7%"></td>
<td width="61%">


<p>because the geometry is not appropriate,</p></td>
<td width="17%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>2.&nbsp;</p></td>
<td width="7%"></td>
<td width="61%">


<p>because there is no disk in the drive,</p></td>
<td width="17%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>3.&nbsp;</p></td>
<td width="7%"></td>
<td width="61%">


<p>or because of other problems.</p></td>
<td width="17%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Multiple
definitions are useful when using physical devices which are
only able to support one single disk geometry. Example:</p>

<p style="margin-left:15%; margin-top: 1em"><b>drive a:
file=&quot;/dev/fd0H1440&quot; 1.44m <br>
drive a: file=&quot;/dev/fd0H720&quot; 720k</b></p>

<p style="margin-left:11%; margin-top: 1em">This instructs
mtools to use /dev/fd0H1440 for 1.44m (high density) disks
and /dev/fd0H720 for 720k (double density) disks. On Linux,
this feature is not really needed, as the /dev/fd0 device is
able to handle any geometry.</p>

<p style="margin-left:11%; margin-top: 1em">You may also
use multiple drive descriptions to access both of your
physical drives through one drive letter:</p>

<p style="margin-left:15%; margin-top: 1em"><b>drive z:
file=&quot;/dev/fd0&quot; <br>
drive z: file=&quot;/dev/fd1&quot;</b></p>

<p style="margin-left:11%; margin-top: 1em">With this
description, <tt>mdir z:</tt> accesses your first physical
drive if it contains a disk. If the first drive
doesn&rsquo;t contain a disk, mtools checks the second
drive.</p>

<p style="margin-left:11%; margin-top: 1em">When using
multiple configuration files, drive descriptions in the
files parsed last override descriptions for the same drive
in earlier files. In order to avoid this, use the
<tt>drive+</tt> or <tt>+drive</tt> keywords instead of
<tt>drive</tt>. The first adds a description to the end of
the list (i.e. it will be tried last), and the first adds it
to the start of the list.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Location&nbsp;of&nbsp;configuration&nbsp;files&nbsp;and&nbsp;parsing&nbsp;order</b>
<br>
The configuration files are parsed in the following
order:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em">1.&nbsp;</p></td>
<td width="7%"></td>
<td width="78%">


<p style="margin-top: 1em">compiled-in defaults</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>2.&nbsp;</p></td>
<td width="7%"></td>
<td width="78%">


<p><tt>&lsquo;/etc/mtools.conf&rsquo;</tt></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>3.&nbsp;</p></td>
<td width="7%"></td>
<td width="78%">


<p><tt>&lsquo;~/.mtoolsrc&rsquo;</tt>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>4.&nbsp;</p></td>
<td width="7%"></td>
<td width="78%">


<p><tt>&lsquo;$MTOOLSRC&rsquo;</tt> (file pointed by the
<tt>MTOOLSRC</tt> environmental variable)</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Options
described in the later files override those described in the
earlier files. Drives defined in earlier files persist if
they are not overridden in the later files. For instance,
drives A and B may be defined in
<tt>&lsquo;/etc/mtools.conf&rsquo;</tt> and drives C and D
may be defined in <tt>&lsquo;~/.mtoolsrc&rsquo;</tt>
However, if <tt>&lsquo;~/.mtoolsrc&rsquo;</tt> also defines
drive A, this new description would override the description
of drive A in <tt>&lsquo;/etc/mtools.conf&rsquo;</tt>
instead of adding to it. If you want to add a new
description to a drive already described in an earlier file,
you need to use either the <tt>+drive</tt> or
<tt>drive+</tt> keyword.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Backwards&nbsp;compatibility&nbsp;with&nbsp;old&nbsp;configuration&nbsp;file&nbsp;syntax</b>
<br>
The syntax described herein is new for version
<tt>mtools-3.0</tt>. The old line-oriented syntax is still
supported. Each line beginning with a single letter is
considered to be a drive description using the old syntax.
Old style and new style drive sections may be mixed within
the same configuration file, in order to make upgrading
easier. Support for the old syntax will be phased out
eventually, and in order to discourage its use, I
purposefully omit its description here.</p>

<h2>See also
<a name="See also"></a>
</h2>

 
<p style="margin-left:11%; margin-top: 1em">mtools</p>
<hr>
</body>
</html>
