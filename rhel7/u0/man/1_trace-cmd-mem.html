<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 02:32:45 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>TRACE&minus;CMD&minus;MEM</title>

</head>
<body>

<h1 align="center">TRACE&minus;CMD&minus;MEM</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#RESOURCES">RESOURCES</a><br>
<a href="#COPYING">COPYING</a><br>
<a href="#NOTES">NOTES</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">trace-cmd-mem
&minus; show memory usage of certain kmem events</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>trace&minus;cmd
mem</b> [<i>OPTIONS</i>][<i>input&minus;file</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
trace&minus;cmd(1) mem requires a trace&minus;cmd record
that enabled the following events:</p>

<p style="margin-left:17%; margin-top: 1em">kmalloc <br>
kmalloc_node <br>
kfree <br>
kmem_cache_alloc <br>
kmem_cache_alloc_node <br>
kmem_cache_alloc_free</p>

<p style="margin-left:11%; margin-top: 1em">It then reads
the amount requested and the ammount freed as well as the
functions that called the allocation. It then reports the
final amount of bytes requested and allocated, along with
the total amount allocated and requested, as well as the max
allocation and requested during the run. It reports the
amount of wasted bytes (allocated &minus; requested) that
was not freed, as well as the max wasted amount during the
run. The list is sorted by descending order of wasted bytes
after the run.</p>

<p style="margin-left:17%; margin-top: 1em">Function Waste
Alloc req TotAlloc TotReq MaxAlloc MaxReq MaxWaste <br>
&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;
&minus;&minus;&minus;&minus;&minus;
&minus;&minus;&minus;&minus;&minus; &minus;&minus;&minus;
&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;
&minus;&minus;&minus;&minus;&minus;&minus;
&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;
&minus;&minus;&minus;&minus;&minus;&minus;
&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;
<br>
rb_allocate_cpu_buffer 768 2304 1536 2304 1536 2304 1536 768
<br>
alloc_pipe_info 400 1152 752 1152 752 1152 752 400 <br>
instance_mkdir 252 544 292 544 292 544 292 252 <br>
__d_alloc 215 1086560 1086345 1087208 1086993 1086560
1086345 215 <br>
get_empty_filp 72 2304 2232 4864 4712 4864 4712 152 <br>
mm_alloc 40 960 920 960 920 960 920 40 <br>
prepare_creds 32 192 160 1728 1440 1728 1440 288 <br>
tracing_buffers_open 8 32 24 32 24 32 24 8 <br>
do_brk 0 0 0 368 368 368 368 0 <br>
journal_add_journal_head 0 6048 6048 6048 6048 6048 6048 0
<br>
journal_start 0 0 0 1224 1224 48 48 0 <br>
__rb_allocate_pages 0 3289856 3289856 3289856 3289856
3289856 3289856 0 <br>
anon_vma_alloc 0 0 0 936 936 864 864 0 <br>
[...]</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;i</b>
<i>input&minus;file</i></p>

<p style="margin-left:17%;">By default, trace&minus;cmd
hist will read the file <i>trace.dat</i>. But the
<b>&minus;i</b> option open up the given
<i>input&minus;file</i> instead. Note, the input file may
also be specified as the last item on the command line.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">trace&minus;cmd(1),
trace&minus;cmd&minus;record(1),
trace&minus;cmd&minus;report(1),
trace&minus;cmd&minus;start(1),
trace&minus;cmd&minus;stop(1),
trace&minus;cmd&minus;extract(1),
trace&minus;cmd&minus;reset(1),
trace&minus;cmd&minus;hist(1),
trace&minus;cmd&minus;split(1),
trace&minus;cmd&minus;listen(1)</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Written by
Steven Rostedt,
&lt;<b><font color="#0000FF">rostedt@goodmis.org</font></b>
<small><font color="#000000">[1]</font></small>
<font color="#000000">&gt;</font></p>

<h2>RESOURCES
<a name="RESOURCES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">git://git.kernel.org/pub/scm/linux/kernel/git/rostedt/trace&minus;cmd.git</font></p>

<h2>COPYING
<a name="COPYING"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Copyright
(C) 2013 Red Hat, Inc. Free use of this software is granted
under the terms of the GNU Public License (GPL).</font></p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">



<p style="margin-top: 1em"><font color="#000000">1.</font></p> </td>
<td width="2%"></td>
<td width="29%">



<p style="margin-top: 1em"><font color="#000000">rostedt@goodmis.org</font></p> </td>
<td width="54%">
</td></tr>
</table>


<p style="margin-left:17%;"><font color="#000000">mailto:rostedt@goodmis.org</font></p>
<hr>
</body>
</html>
