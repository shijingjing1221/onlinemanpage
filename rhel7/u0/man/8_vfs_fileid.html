<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 02:34:18 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>VFS_FILEID</title>

</head>
<body>

<h1 align="center">VFS_FILEID</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#VERSION">VERSION</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">vfs_fileid
&minus; Generates file_id structs with unique device id
values for cluster setups</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="31%">


<p style="margin-top: 1em">vfs objects = fileid</p></td>
<td width="58%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This VFS module
is part of the <b>samba</b>(7) suite.</p>

<p style="margin-left:11%; margin-top: 1em">Samba uses
file_id structs to uniquely identify files for locking
purpose. By default the file_id contains the device and
inode number returned by the stat() system call. As the
file_id is a unique identifier of a file, it must be the
same on all nodes in a cluster setup. This module overloads
the SMB_VFS_FILE_ID_CREATE() operation and generates the
device number based on the configured algorithm (see the
&quot;fileid:algorithm&quot; option).</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">fileid:algorithm
= ALGORITHM</p>

<p style="margin-left:17%;">Available algorithms are fsname
and fsid. The default value is fsname.</p>

<p style="margin-left:17%; margin-top: 1em">The fsname
algorithm generates device id by hashing the kernel device
name.</p>

<p style="margin-left:17%; margin-top: 1em">The fsid
algorithm generates the device id from the f_fsid returned
from the statfs() syscall.</p>

<p style="margin-left:11%; margin-top: 1em">fileid:mapping
= ALGORITHM</p>

<p style="margin-left:17%;">This option is the legacy
version of the fileid:algorithm option, which was used in
earlier versions of fileid mapping feature in custom Samba
3.0 versions.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Usage of the
fileid module with the fsid algorithm:</p>


<p style="margin-left:17%; margin-top: 1em"><i>[global]</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p><b><font color="#0000FF">vfs objects =
fileid</font></b></p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p><b><font color="#0000FF">fileid:algorithm =
fsid</font></b></p> </td></tr>
</table>

<h2>VERSION
<a name="VERSION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
man page is correct for version 3.2 of the Samba
suite.</font></p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
original Samba software and related utilities were created
by Andrew Tridgell. Samba is now developed by the Samba Team
as an Open Source project similar to the way the Linux
kernel is developed.</font></p>
<hr>
</body>
</html>
