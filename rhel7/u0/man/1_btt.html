<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 01:32:59 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>BTT</title>

</head>
<body>

<h1 align="center">BTT</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#REPORTING BUGS">REPORTING BUGS</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">btt &minus;
analyse block i/o traces produces by blktrace</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>btt</b> <br>
[ &minus;a | &minus;&minus;seek&minus;absolute ] <br>
[ &minus;A | &minus;&minus;all&minus;data ] <br>
[ &minus;B &lt;<i>output name</i>&gt; |
&minus;&minus;dump&minus;blocknos=&lt;<i>output name</i>&gt;
] <br>
[ &minus;d &lt;<i>seconds</i>&gt; |
&minus;&minus;range&minus;delta=&lt;<i>seconds</i>&gt; ]
<br>
[ &minus;D &lt;<i>dev;...</i>&gt; |
&minus;&minus;devices=&lt;<i>dev;...</i>&gt; ] <br>
[ &minus;e &lt;<i>exe,...</i>&gt; |
&minus;&minus;exes=&lt;<i>exe,...</i>&gt; ] <br>
[ &minus;h | &minus;&minus;help ] <br>
[ &minus;i &lt;<i>input name</i>&gt; |
&minus;&minus;input&minus;file=&lt;<i>input name</i>&gt; ]
<br>
[ &minus;I &lt;<i>output name</i>&gt; |
&minus;&minus;iostat=&lt;<i>output name</i>&gt; ] <br>
[ &minus;l &lt;<i>output name</i>&gt; |
&minus;&minus;d2c&minus;latencies=&lt;<i>output name</i>&gt;
] <br>
[ &minus;L &lt;<i>freq</i>&gt; |
&minus;&minus;periodic&minus;latencies=&lt;<i>freq</i>&gt; ]
<br>
[ &minus;m &lt;<i>output name</i>&gt; |
&minus;&minus;seeks&minus;per&minus;second=&lt;<i>output
name</i>&gt; ] <br>
[ &minus;M &lt;<i>dev map</i>&gt; |
&minus;&minus;dev&minus;maps=&lt;<i>dev map</i>&gt; <br>
[ &minus;o &lt;<i>output name</i>&gt; |
&minus;&minus;output&minus;file=&lt;<i>output name</i>&gt; ]
<br>
[ &minus;p &lt;<i>output name</i>&gt; |
&minus;&minus;per&minus;io&minus;dump=&lt;<i>output
name</i>&gt; ] <br>
[ &minus;P &lt;<i>output name</i>&gt; |
&minus;&minus;per&minus;io&minus;trees=&lt;<i>output
name</i>&gt; ] <br>
[ &minus;q &lt;<i>output name</i>&gt; |
&minus;&minus;q2c&minus;latencies=&lt;<i>output name</i>&gt;
] <br>
[ &minus;Q &lt;<i>output name</i>&gt; |
&minus;&minus;active&minus;queue&minus;depth=&lt;<i>output
name</i>&gt; ] <br>
[ &minus;r | &minus;&minus;no&minus;remaps ] <br>
[ &minus;s &lt;<i>output name</i>&gt; |
&minus;&minus;seeks=&lt;<i>output name</i>&gt; ] <br>
[ &minus;S &lt;<i>interval</i>&gt; |
&minus;&minus;iostat&minus;interval=&lt;<i>interval</i>&gt;
] <br>
[ &minus;t &lt;<i>sec</i>&gt; |
&minus;&minus;time&minus;start=&lt;<i>sec</i>&gt; ] <br>
[ &minus;T &lt;<i>sec</i>&gt; |
&minus;&minus;time&minus;end=&lt;<i>sec</i>&gt; ] <br>
[ &minus;u &lt;<i>output name</i>&gt; |
&minus;&minus;unplug&minus;hist=&lt;<i>output name</i>&gt; ]
<br>
[ &minus;v | &minus;&minus;verbose ] <br>
[ &minus;V | &minus;&minus;version ] <br>
[ &minus;X | &minus;&minus;easy&minus;parse&minus;avgs ]
<br>
[ &minus;z &lt;<i>output name</i>&gt; |
&minus;&minus;q2d&minus;latencies=&lt;<i>output name</i>&gt;
] <br>
[ &minus;Z | &minus;&minus;do&minus;active ]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">btt is a
post&minus;processing tool for the block layer IO tracing
tool called blktrace(8). As noted in its documentation,
blktrace is a block layer IO tracing mechanism which
provides detailed information about request queue operations
up to user space.</p>

<p style="margin-left:11%; margin-top: 1em">btt will take
in binary dump data from blkparse, and analyse the events,
producing a series of output from the analysis. It will also
build .dat files containing &quot;range data&quot;
&minus;&minus; showing things like Q activity (periods of
time while Q events are being produced), C activity
(likewise for command completions), and etc.</p>

<p style="margin-left:11%; margin-top: 1em">Included with
the distribution is a simple 3D plotting utility,
<i>bno_plot</i>, which can plot the block numbers btt
outputs if the <i>-B</i> option is specified. The display
will display each IO generated, with the time (seconds)
along the X-axis, the block number (start) along the Y-axis
and the number of blocks transferred in the IO represented
along the Z-axis.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;a
<br>
&minus;&minus;seek&minus;absolute</b></p>

<p style="margin-left:17%;">When specified on the command
line, this directs btt to calculate seek distances based
solely upon the ending block address of one IO, and the
start of the next. By default <b>btt</b> uses the concept of
the closeness to either the beginning or end of the previous
IO. See the Users Manual for more details about seek
distances.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;A
<br>
&minus;&minus;all&minus;data</b></p>

<p style="margin-left:17%;">Normally <b>btt</b> will not
print out verbose information concerning per-process and
per-device data. If you desire that level of detail you can
specify this option.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;B
&lt;</b><i>output name</i>&gt; <b><br>
&minus;&minus;dump&minus;blocknos=&lt;</b><i>output
name</i>&gt;</p>

<p style="margin-left:17%;">This option will output
absolute block numbers to three files prefixed by the
specified output name:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="29%">


<p style="margin-top: 1em"><i>prefix_device_r.dat</i></p></td>
<td width="54%">
</td></tr>
</table>

<p style="margin-left:28%;">All read block numbers are
output, first column is time (seconds), second is the block
number, and the third column is the ending block number.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="29%">


<p style="margin-top: 1em"><i>prefix_device_w.dat</i></p></td>
<td width="54%">
</td></tr>
</table>

<p style="margin-left:28%;">All write block numbers are
output, first column is time (seconds), second is the block
number, and the third column is the ending block number.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="29%">


<p style="margin-top: 1em"><i>prefix_device_c.dat</i></p></td>
<td width="54%">
</td></tr>
</table>

<p style="margin-left:28%;">All block numbers (read and
write) are output, first column is time (seconds), second is
the block number, and the third column is the ending block
number.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;d
&lt;</b><i>seconds</i>&gt; <b><br>

&minus;&minus;range&minus;delta=&lt;</b><i>seconds</i>&gt;</p>

<p style="margin-left:17%;"><b>btt</b> outputs a file
containing Q and C activity, the notion of active traces
simply means that there are Q or C traces occurring within a
certain period of each other. The default values is 0.1
seconds; with this option allowing one to change that
granularity. The smaller the value, the more data points
provided.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;D
&lt;</b><i>dev;...</i>&gt; <b><br>
&minus;&minus;devices=&lt;</b><i>dev;...</i>&gt;</p>

<p style="margin-left:17%;">Normally, <b>btt</b> will
produce data for all devices detected in the traces parsed.
With this option, one can reduce the analysis to one or more
devices provided in the string passed to this option. The
device identifiers are the major and minor number of each
device, and each device identifier is separated by a colon
(:). A valid specifier for devices 8,0 and 8,8 would then
be: <i>8,0:8,8</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;e
&lt;</b><i>exe,...</i>&gt; <b><br>
&minus;&minus;exes=&lt;</b><i>exe,...</i>&gt;</p>

<p style="margin-left:17%;">The &minus;e option supplies
the list of executables that will have I/Os analysed.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;h
<br>
&minus;&minus;help</b></p>

<p style="margin-left:17%;">Shows a short summary of
possible command line option</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;i
&lt;</b><i>input name</i>&gt; <b><br>
&minus;&minus;input&minus;file &lt;</b><i>input
file</i>&gt;</p>

<p style="margin-left:17%;">Specifies the input file to
analyse. This should be a trace file produced by
<i>blktrace</i> (8).</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;I
&lt;</b><i>output name</i>&gt; <b><br>
&minus;&minus;iostat=&lt;</b><i>output name</i>&gt;</p>

<p style="margin-left:17%;">The &minus;I option directs btt
to output iostat&minus;like data to the specified file.
Refer to the iostat (sysstat) documentation for details on
the data columns.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;l
&lt;</b><i>output name</i>&gt; <b><br>
&minus;&minus;d2c&minus;latencies=&lt;</b><i>output
name</i>&gt;</p>

<p style="margin-left:17%;">The &minus;l option allows one
to output per&minus;IO D2C latencies respectively. The
supplied argument provides the basis for the output name for
each device.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;L
&lt;</b><i>freq</i>&gt; <b><br>

&minus;&minus;periodic&minus;latencies=&lt;</b><i>freq</i>&gt;</p>

<p style="margin-left:17%;">The &minus;L option allows one
to output periodic latency information for both Q2C and D2C
latencies. The frequency specified will regulate how often
an average latency is output -- a floating point value
expressing seconds.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;m
&lt;</b><i>output name</i>&gt; <b><br>

&minus;&minus;seeks&minus;per&minus;second=&lt;</b><i>output
name</i>&gt;</p>

<p style="margin-left:17%;">Trigger btt to output
seeks-per-second information. The first column will contain
a time value (seconds), and the second column will indicate
the number of seeks per second at that point.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;M
&lt;</b><i>dev map</i>&gt; <b><br>
&minus;&minus;dev&minus;maps=&lt;</b><i>dev map</i>&gt;</p>

<p style="margin-left:17%;">The &minus;M option takes in a
file generated by the provided script (gen_disk_info.py),
and allows for better output of device names.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;o
&lt;</b><i>output name</i>&gt; <b><br>
&minus;&minus;output&minus;file=&lt;</b><i>output
name</i>&gt;</p>

<p style="margin-left:17%;">Specifies the output file
name.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;p
&lt;</b><i>output name</i>&gt; <b><br>
&minus;&minus;per&minus;io&minus;dump=&lt;</b><i>output
name</i>&gt;</p>

<p style="margin-left:17%;">The &minus;p option will
generate a file that contains a list of all IO
&quot;sequences&quot; &minus; showing the parts of each IO
(Q, A, I/M, D, &amp; C).</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;P
&lt;</b><i>output name</i>&gt; <b><br>
&minus;&minus;per&minus;io&minus;trees=&lt;</b><i>output
name</i>&gt;</p>

<p style="margin-left:17%;">The &minus;P option will
generate a file that contains a list of all IO
&quot;sequences&quot; &minus; showing only the Q, D &amp; C
operation times. The D &amp; C time values are separated
from the Q time values with a vertical bar.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;q
&lt;</b><i>output name</i>&gt; <b><br>
&minus;&minus;q2c&minus;latencies=&lt;</b><i>output
name</i>&gt;</p>

<p style="margin-left:17%;">The &minus;q option allows one
to output per&minus;IO Q2C latencies respectively. The
supplied argument provides the basis for the output name for
each device.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;Q
&lt;</b><i>output name</i>&gt; <b><br>

&minus;&minus;active&minus;queue&minus;depth=&lt;</b><i>output
name</i>&gt;</p>

<p style="margin-left:17%;">The &minus;Q option allows one
to output data files showing the time stamp and the depth of
active commands (those issued but not completed).</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;r
<br>
&minus;&minus;no&minus;remaps</b></p>

<p style="margin-left:17%;">Ignore remap traces; older
kernels did not implement the full remap PDU.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;s
&lt;</b><i>output name</i>&gt; <b><br>
&minus;&minus;seeks=&lt;</b><i>output name</i>&gt;</p>

<p style="margin-left:17%;">The &minus;s option instructs
btt to output seek data, the argument provided is the basis
for file names output. There are two files per device, read
seeks and write seeks.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;S
&lt;</b><i>interval</i>&gt; <b><br>

&minus;&minus;iostat&minus;interval=&lt;</b><i>interval</i>&gt;</p>

<p style="margin-left:17%;">The &minus;S option specifies
the interval to use between data output, it defaults to once
per second.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;t
&lt;</b><i>sec</i>&gt; <b><br>
&minus;&minus;time&minus;start=&lt;</b><i>sec</i>&gt;
<b><br>
&minus;T &lt;</b><i>sec</i>&gt; <b><br>
&minus;&minus;time&minus;end=&lt;</b><i>sec</i>&gt;</p>

<p style="margin-left:17%;">The &minus;t/&minus;T options
allow one to set a start and/or end time for analysing
&minus; analysing will only be done for traces after
&minus;t&rsquo;s argument and before &minus;T&rsquo;s
argument. (&minus;t and &minus;T are optional, so if you
specify just &minus;t, analysis will occur for all traces
after the time specified. Similarly, if only &minus;T is
specified, analysis stops after &minus;T&rsquo;s
seconds.)</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;u
&lt;</b><i>output name</i>&gt; <b><br>
&minus;&minus;unplug&minus;hist=&lt;</b><i>output
name</i>&gt;</p>

<p style="margin-left:17%;">This option instructs
<b>btt</b> to generate a data file containing histogram
information for unplug traces on a per device basis. It
shows how many times an unplug was hit with a specified
number of IOs released. There are 21 output values into the
file, as follows:</p>

<p style="margin-left:23%; margin-top: 1em">a value of 0
represents 0..4 counts <br>
a value of 1 represents 5..9 counts <br>
a value of 2 represents 10..14 counts <br>
etc, until <br>
a value of 20 represents 100+ counts</p>

<p style="margin-left:17%; margin-top: 1em">The file
name(s) generated use the text string passed as an argument
for the prefix, followed by the device identifier in
<i>major,minor</i> form, with a <i>.dat</i> extension. For
example, with <i>&minus;u up_hist</i> specified on the
command line: <i>up_hist_008,032.dat</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;V
<br>
&minus;&minus;version</b></p>

<p style="margin-left:17%;">Shows the version of btt.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;v
<br>
&minus;&minus;verbose</b></p>

<p style="margin-left:17%;">Requests a more verbose
output.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;X
<br>
&minus;&minus;easy&minus;parse&minus;avgs</b></p>

<p style="margin-left:17%;">Provide data in an
easy-to-parse form and write it to a file with .avg
exentsion</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;z
&lt;</b><i>output name</i>&gt; <b><br>
&minus;&minus;q2d&minus;latencies=&lt;</b><i>output
name</i>&gt;</p>

<p style="margin-left:17%;">The &minus;z option allows one
to output per&minus;IO Q2D latencies respectively. The
supplied argument provides the basis for the output name for
each device.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;Z
<br>
&minus;&minus;do&minus;active</b></p>

<p style="margin-left:17%;">The &minus;Z will output files
containing data which can be plotted showing
per&minus;device (and total system) I/O activity.</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>btt</i> was
written by Alan D. Brunelle. This man page was created from
the <i>blktrace</i> documentation by Bas Zoetekouw.</p>

<h2>REPORTING BUGS
<a name="REPORTING BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Report bugs to
&lt;linux&minus;btrace@vger.kernel.org&gt;</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
&copy; 2006 Jens Axboe, Alan D. Brunelle and Nathan Scott.
<br>
This is free software. You may redistribute copies of it
under the terms of the GNU General Public License
&lt;http://www.gnu.org/licenses/gpl.html&gt;. There is NO
WARRANTY, to the extent permitted by law. <br>
This manual page was created for Debian by Bas Zoetekouw. It
was derived from the documentation provided by the authors
and it may be used, distributed and modified under the terms
of the GNU General Public License, version 2. <br>
On Debian systems, the text of the GNU General Public
License can be found in
/usr/share/common&minus;licenses/GPL&minus;2.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The btt Users
Guide, which can be found in /usr/share/doc/blktrace/btt.pdf
<br>
bno_plot (1), blktrace (8), blkparse (1), verify_blkparse
(1), blkrawverify (1), btt (1)</p>
<hr>
</body>
</html>
