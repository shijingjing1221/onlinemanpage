<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 01:37:19 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>CRASH</title>

</head>
<body>

<h1 align="center">CRASH</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#COMMANDS">COMMANDS</a><br>
<a href="#FILES">FILES</a><br>
<a href="#ENVIRONMENT">ENVIRONMENT</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">crash &minus;
Analyze Linux crash dump data or a live system</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>crash</b>
[<i>OPTION</i>]... <i>NAMELIST MEMORY-IMAGE (dumpfile
form)</i> <b><br>
crash</b> [<i>OPTION</i>]... <i>[NAMELIST] (live system
form)</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i><b>Crash</b></i>
is a tool for interactively analyzing the state of the Linux
system while it is running, or after a kernel crash has
occurred and a core dump has been created by the <i>netdump,
diskdump, LKCD, kdump, xendump</i> or <i>kvmdump</i>
facilities. It is loosely based on the SVR4 UNIX crash
command, but has been significantly enhanced by completely
merging it with the <b>gdb(1)</b> debugger. The marriage of
the two effectively combines the kernel-specific nature of
the traditional UNIX crash utility with the source code
level debugging capabilities of <b>gdb(1).</b></p>

<p style="margin-left:11%; margin-top: 1em">In the
<i>dumpfile form,</i> both a NAMELIST and a MEMORY-IMAGE
argument must be entered. In the <i>live system form,</i>
the NAMELIST argument must be entered if the kernel&rsquo;s
<i>vmlinux</i> file is not located in a known location, such
as the
<i>/usr/lib/debug/lib/modules/&lt;kernel-version&gt;</i>
directory.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>crash</b> utility has also been extended to support the
analysis of dumpfiles generated by a crash of the Xen
hypervisor. In that case, the NAMELIST argument must be that
of the <i>xen-syms</i> binary. Live system analysis is not
supported for the Xen hypervisor.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>crash</b> utility command set consists of common kernel
core analysis tools such as kernel stack back traces of all
processes, source code disassembly, formatted kernel
structure and variable displays, virtual memory data, dumps
of linked-lists, etc., along with several commands that
delve deeper into specific kernel subsystems. Appropriate
<b>gdb</b> commands may also be entered, which in turn are
passed on to the <b>gdb</b> module for execution. If
desired, commands may be placed in either a
<i>$HOME/.crashrc</i> file and/or in a <i>.crashrc</i> file
in the current directory. During initialization, the
commands in <i>$HOME/.crashrc</i> are executed first,
followed by those in the <i>./.crashrc</i> file.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>crash</b> utility is designed to be independent of Linux
version dependencies. When new kernel source code impacts
the correct functionality of <b>crash</b> and its command
set, the utility will be updated to recognize new kernel
code changes, while maintaining backwards compatibility with
earlier releases.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>NAMELIST</b></p>

<p style="margin-left:22%;">This is a pathname to an
uncompressed kernel image (a <i>vmlinux</i> file), or a Xen
hypervisor image (a <i>xen-syms</i> file) which has been
compiled with the &quot;-g&quot; option. If using the
<i>dumpfile form,</i> a <i>vmlinux</i> file may be
compressed in either gzip or bzip2 formats.</p>

<p style="margin-left:11%;"><b>MEMORY-IMAGE</b></p>

<p style="margin-left:22%;">A kernel core dump file created
by the <i>netdump, diskdump, LKCD kdump, xendump</i> or
<i>kvmdump</i> facilities.</p>

<p style="margin-left:22%; margin-top: 1em">If a
MEMORY-IMAGE argument is not entered, the session will be
invoked on the live system, which typically requires root
privileges because of the device file used to access system
RAM. By default, <i>/dev/crash</i> will be used if it
exists. If it does not exist, then <i>/dev/mem</i> will be
used; but if the kernel has been configured with
<b>CONFIG_STRICT_DEVMEM,</b> then <i>/proc/kcore</i> will be
used. It is permissible to explicitly enter <i>/dev/crash,
/dev/mem</i> or <i>/proc/kcore.</i></p>

<p style="margin-left:11%;"><b>mapfile</b></p>

<p style="margin-left:22%;">If the NAMELIST file is not the
same kernel that is running (live system form), or the
kernel that was running when the system crashed (dumpfile
form), then the <i>System.map</i> file of the original
kernel should be entered on the command line.</p>


<p style="margin-left:11%; margin-top: 1em"><b>-h&nbsp;</b><i>[option]</i>
<b><br>
&minus;-help&nbsp;</b><i>[option]</i></p>

<p style="margin-left:22%;">Without an <i>option</i>
argument, display a <b>crash</b> usage help message. If the
<i>option</i> argument is a <b>crash</b> command name, the
help page for that command is displayed. If it is the string
&quot;input&quot;, a page describing the various
<b>crash</b> command line input options is displayed. If it
is the string &quot;output&quot;, a page describing command
line output options is displayed. If it is the string
&quot;all&quot;, then all of the possible help messages are
displayed. After the help message is displayed, <b>crash</b>
exits.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;s</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Silently proceed directly to the &quot;crash&gt;&quot;
prompt without displaying any version, GPL, or <b>crash</b>
initialization data during startup, and by default, runtime
command output is not passed to any scrolling command.</p></td></tr>
</table>


<p style="margin-left:11%;"><b>&minus;i&nbsp;</b><i>file</i></p>

<p style="margin-left:22%;">Execute the command(s)
contained in <i>file</i> prior to displaying the
&quot;crash&gt;&quot; prompt for interactive user input.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;d&nbsp;</b><i>num</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>Set the internal debug level. The higher the number, the
more debugging data will be printed when <b>crash</b>
initializes and runs.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;S</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Use <i>/boot/System.map</i> as the <i>mapfile</i>.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;e</b> <i>vi |
emacs</i></p>

<p style="margin-left:22%;">Set the <b>readline(3)</b>
command line editing mode to &quot;vi&quot; or
&quot;emacs&quot;. The default editing mode is
&quot;vi&quot;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;f</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Force the usage of a compressed <i>vmlinux</i> file if
its original name does not start with
&quot;vmlinux&quot;.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;k</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Indicate that the NAMELIST file is an LKCD
&quot;Kerntypes&quot; debuginfo file.</p></td></tr>
</table>


<p style="margin-left:11%;"><b>-g&nbsp;</b><i>[namelist]</i></p>

<p style="margin-left:22%;">Determine if a <i>vmlinux</i>
or <i>xen-syms</i> namelist file contains debugging
data.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;t</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Display the system-crash timestamp and exit.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;L</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Attempt to lock all of its virtual address space into
memory by calling mlockall(MCL_CURRENT|MCL_FUTURE) during
initialization. If the system call fails, an error message
will be displayed, but the session continues.</p></td></tr>
</table>


<p style="margin-left:11%;"><b>&minus;c&nbsp;</b><i>tty-device</i></p>

<p style="margin-left:22%;">Open the <i>tty-device</i> as
the console used for debug messages.</p>


<p style="margin-left:11%;"><b>&minus;p&nbsp;</b><i>page-size</i></p>

<p style="margin-left:22%;">If a processor&rsquo;s page
size cannot be determined by the dumpfile, and the processor
default cannot be used, use <i>page-size.</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>-m</b>
<i>option=value</i> <b><br>
--machdep</b> <i>option=value</i></p>

<p style="margin-left:22%;">Pass an option and value pair
to machine-dependent code. These architecture-specific
option/pairs should only be required in very rare
circumstances:</p>

<p style="margin-left:22%; margin-top: 1em">X86_64: <br>
physbase=&lt;physical-address&gt; <br>
irq_eframe_link=&lt;value&gt; <br>
max_physmem_bits=&lt;value&gt; <br>
vm=orig (pre-2.6.11 virtual memory address ranges) <br>
vm=2.6.11 (2.6.11 and later virtual memory address ranges)
<br>
vm=xen (Xen kernel virtual memory address ranges) <br>
vm=xen-rhel4 (RHEL4 Xen kernel virtual address ranges) <br>
PPC64: <br>
vm=orig <br>
vm=2.6.14 (4-level page tables) <br>
IA64: <br>
phys_start=&lt;physical-address&gt; <br>
init_stack_size=&lt;size&gt; <br>
vm=4l (4-level page tables) <br>
ARM: <br>
physbase=&lt;physical-address&gt;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;x</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Automatically load extension modules from a particular
directory. If a directory is specified in the
<b>CRASH_EXTENSIONS</b> shell environment variable, then
that directory will be used. Otherwise
<i>/usr/lib64/crash/extensions</i> (64-bit architectures) or
<i>/usr/lib/crash/extensions</i> (32-bit architectures) will
be used; if they do not exist, then the <i>./extensions
directory will be used.</i></p></td></tr>
</table>

<p style="margin-left:11%;"><b>--active</b></p>

<p style="margin-left:22%;">Track only the active task on
each cpu.</p>

<p style="margin-left:11%;"><b>--buildinfo</b></p>

<p style="margin-left:22%;">Display the crash
binary&rsquo;s build date, the user ID of the builder, the
hostname of the machine where the build was done, the target
architecture, the version number, and the compiler
version.</p>


<p style="margin-left:11%;"><b>--memory_module&nbsp;</b><i>modname</i></p>

<p style="margin-left:22%;">Use the <i>modname</i> as an
alternative kernel module to the <i>crash.ko</i> module that
creates the <i>/dev/crash</i> device.</p>


<p style="margin-left:11%;"><b>--memory_device&nbsp;</b><i>device</i></p>

<p style="margin-left:22%;">Use <i>device</i> as an
alternative device to the <i>/dev/crash, /dev/mem</i> or
<i>/proc/kcore</i> devices.</p>

<p style="margin-left:11%;"><b>--log dumpfile</b></p>

<p style="margin-left:22%;">Dump the contents of the kernel
log buffer. A kernel namelist argument is not necessary, but
the dumpfile must contain the VMCOREINFO data taken from the
original /proc/vmcore ELF header.</p>

<p style="margin-left:11%;"><b>--no_kallsyms</b></p>

<p style="margin-left:22%;">Do not use kallsyms-generated
symbol information contained within kernel module object
files.</p>

<p style="margin-left:11%;"><b>--no_modules</b></p>

<p style="margin-left:22%;">Do not access or display any
kernel module related information.</p>

<p style="margin-left:11%;"><b>--no_ikconf</b></p>

<p style="margin-left:22%;">Do not attempt to read
configuration data that was built into kernels configured
with <b>CONFIG_IKCONFIG.</b></p>

<p style="margin-left:11%;"><b>--no_data_debug</b></p>

<p style="margin-left:22%;">Do not verify the validity of
all structure member offsets and structure sizes that it
uses.</p>

<p style="margin-left:11%;"><b>--no_kmem_cache</b></p>

<p style="margin-left:22%;">Do not initialize the
kernel&rsquo;s slab cache infrastructure, and commands that
use kmem_cache-related data will not work.</p>

<p style="margin-left:11%;"><b>--no_elf_notes</b></p>

<p style="margin-left:22%;">Do not use the registers from
the ELF NT_PRSTATUS notes saved in a compressed kdump header
for backtraces.</p>

<p style="margin-left:11%;"><b>--kmem_cache_delay</b></p>

<p style="margin-left:22%;">Delay the initialization of the
kernel&rsquo;s slab cache infrastructure until it is
required by a run-time command.</p>

<p style="margin-left:11%;"><b>--readnow</b></p>

<p style="margin-left:22%;">Pass this flag to the embedded
<b>gdb</b> module, which will override its two-stage
strategy that it uses for reading symbol tables from the
NAMELIST.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>--smp</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>Specify that the system being analyzed is an SMP
kernel.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>-v <br>
--version</b></p>

<p style="margin-left:22%;">Display the version of the
<b>crash</b> utility, the version of the embedded <b>gdb</b>
module, GPL information, and copyright notices.</p>


<p style="margin-left:11%;"><b>--cpus&nbsp;</b><i>number</i></p>

<p style="margin-left:22%;">Specify the <i>number</i> of
cpus in the SMP system being analyzed.</p>


<p style="margin-left:11%;"><b>--osrelease&nbsp;</b><i>dumpfile</i></p>

<p style="margin-left:22%;">Display the OSRELEASE
vmcoreinfo string from a kdump <i>dumpfile</i> header.</p>

<p style="margin-left:11%;"><b>--hyper</b></p>

<p style="margin-left:22%;">Force the session to be that of
a Xen hypervisor.</p>


<p style="margin-left:11%;"><b>--p2m_mfn&nbsp;</b><i>pfn</i></p>

<p style="margin-left:22%;">When a Xen Hypervisor or its
dom0 kernel crashes, the dumpfile is typically analyzed with
either the Xen hypervisor or the dom0 kernel. It is also
possible to analyze any of the guest domU kernels if the
pfn_to_mfn_list_list <i>pfn</i> value of the guest kernel is
passed on the command line along with its NAMELIST and the
dumpfile.</p>


<p style="margin-left:11%;"><b>--xen_phys_start&nbsp;</b><i>physical-address</i></p>

<p style="margin-left:22%;">Supply the base physical
address of the Xen hypervisor&rsquo;s text and static data
for older xendump dumpfiles that did not pass that
information in the dumpfile header.</p>

<p style="margin-left:11%;"><b>--zero_excluded</b></p>

<p style="margin-left:22%;">If a kdump dumpfile has been
filtered to exclude various types of non-essential pages,
any attempt to read them will fail. With this flag, reads
from any of those pages will return zero-filled memory.</p>

<p style="margin-left:11%;"><b>--no_panic</b></p>

<p style="margin-left:22%;">Do not attempt to find the task
that was running when the kernel crashed. Set the initial
context to that of the &quot;swapper&quot; task on cpu
0.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>--more</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Use <i>/bin/more</i> as the command output scroller,
overriding the default of <i>/usr/bin/less</i> and any
settings in either <i>./.crashrc</i> or
<i>$HOME/.crashrc.</i></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>--less</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Use <i>/usr/bin/less as the command output scroller,
overriding</i> any settings in either <i>./.crashrc</i> or
<i>$HOME/.crashrc.</i></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>--hex</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Set the default command output radix to 16, overriding
the default radix of 10, and any radix settings in either
<i>./.crashrc</i> or <i>$HOME/.crashrc.</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>--dec</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Set the default command output radix to 10, overriding
any radix settings in either <i>./.crashrc</i> or
<i>$HOME/.crashrc. This is the default radix
setting.</i></p> </td></tr>
</table>

<p style="margin-left:11%;"><b>--CRASHPAGER</b></p>

<p style="margin-left:22%;">Use the output paging command
defined in the <b>CRASHPAGER</b> shell environment variable,
overriding any settings in either <i>./.crashrc</i> or
<i>$HOME/.crashrc.</i></p>

<p style="margin-left:11%;"><b>--no_scroll</b></p>

<p style="margin-left:22%;">Do not pass run-time command
output to any scrolling command.</p>

<p style="margin-left:11%;"><b>--no_strip</b></p>

<p style="margin-left:22%;">Do not strip cloned kernel text
symbol names.</p>

<p style="margin-left:11%;"><b>--no_crashrc</b></p>

<p style="margin-left:22%;">Do not execute the commands in
either <i>$HOME/.crashrc</i> or <i>./.crashrc.</i></p>


<p style="margin-left:11%;"><b>--mod&nbsp;</b><i>directory</i></p>

<p style="margin-left:22%;">When loading the debuginfo data
of kernel modules with the <i>mod -S</i> command, search for
their object files in <i>directory</i> instead of in the
standard location.</p>


<p style="margin-left:11%;"><b>--reloc&nbsp;</b><i>size</i></p>

<p style="margin-left:22%;">When analyzing live x86 kernels
that were configured with a <b>CONFIG_PHYSICAL_START</b>
value that is larger than its <b>CONFIG_PHYSICAL_ALIGN</b>
value, then it will be necessary to enter a relocation size
equal to the difference between the two values.</p>

<p style="margin-left:11%;"><b>--minimal</b></p>

<p style="margin-left:22%;">Bring up a session that is
restricted to the <i>log, dis, rd, sym, eval, set</i> and
<i>exit</i> commands. This option may provide a way to
extract some minimal/quick information from a corrupted or
truncated dumpfile, or in situations where one of the
several kernel subsystem initialization routines would abort
the <b>crash</b> session.</p>


<p style="margin-left:11%;"><b>--kvmhost&nbsp;</b><i>[32|64]</i></p>

<p style="margin-left:22%;">When examining an x86 KVM guest
dumpfile, this option specifies that the KVM host that
created the dumpfile was an x86 (32-bit) or an x86_64
(64-bit) machine, overriding the automatically determined
value.</p>


<p style="margin-left:11%;"><b>--kvmio&nbsp;</b><i>&lt;size&gt;</i></p>

<p style="margin-left:22%;">override the
automatically-calculated KVM guest I/O hole size.</p>

<h2>COMMANDS
<a name="COMMANDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Each
<b>crash</b> command generally falls into one of the
following categories: <i><br>
Symbolic display</i></p>

<p style="margin-left:22%;">Displays of kernel text/data,
which take full advantage of the power of <b>gdb</b> to
format and display data structures symbolically.</p>

<p style="margin-left:11%;"><i>System state</i></p>

<p style="margin-left:22%;">The majority of <b>crash</b>
commands consist of a set of &quot;kernel-aware&quot;
commands, which delve into various kernel subsystems on a
system-wide or per-task basis.</p>

<p style="margin-left:11%;"><i>Utility functions</i></p>

<p style="margin-left:22%;">A set of useful helper commands
serving various purposes, some simple, others quite
powerful.</p>

<p style="margin-left:11%;"><i>Session control</i></p>

<p style="margin-left:22%;">Commands that control the
<b>crash</b> session itself.</p>

<p style="margin-left:11%; margin-top: 1em">The following
alphabetical list consists of a very simple overview of each
<b>crash</b> command. However, since individual commands
often have several options resulting in significantly
different output, it is suggested that the full description
of each command be viewed by executing
<i>crash&nbsp;-h&nbsp;&lt;command&gt;,</i> or during a
<b>crash</b> session by simply entering <i>help
command</i><b>.</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>*</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>&quot;pointer to&quot; is shorthand for either the
<i>struct</i> or <i>union</i> commands. It displays the
contents of a kernel structure or union.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>alias</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>creates a single-word alias for a command.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>ascii</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays an ascii chart or translates a numeric value
into its ascii components.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>bt</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays a task&rsquo;s kernel-stack backtrace. If it is
given the <i>&minus;a</i> option, it displays the stack
traces of the active tasks on all CPUs. It is often used
with the <i>foreach</i> command to display the backtraces of
all tasks with one command.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>btop</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>translates a byte value (physical offset) to its page
number.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>dev</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays data concerning the character and block device
assignments, I/O port usage, I/O memory usage, and PCI
device data.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>dis</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>disassembles memory, either entire kernel functions,
from a location for a specified number of instructions, or
from the start of a function up to a specified memory
location.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>eval</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>evaluates an expression or numeric type and displays the
result in hexadecimal, decimal, octal and binary.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>exit</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>causes <b>crash</b> to exit.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>extend</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>dynamically loads or unloads <b>crash</b> shared object
extension modules.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>files</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays information about open files in a context.</p></td></tr>
</table>

<p style="margin-left:11%;"><i>foreach</i></p>

<p style="margin-left:22%;">repeats a specified command for
the specified (or all) tasks in the system.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>fuser</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays the tasks using the specified file or
socket.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>gdb</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>passes its argument to the embedded <b>gdb</b> module.
It is useful for executing <b>gdb</b> commands that have the
same name as <b>crash</b> commands.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>help</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>alone displays the command menu; if followed by a
command name, a full description of a command, its options,
and examples are displayed. Its output is far more complete
and useful than this man page.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>ipcs</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays data about the System V IPC facilities.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>irq</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays data concerning interrupt request numbers and
bottom-half interrupt handling.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>kmem</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays information about the use of kernel memory.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>list</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays the contents of a linked list.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>log</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays the kernel log_buf contents in chronological
order.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>mach</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays data specific to the machine type.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>mod</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays information about the currently installed
kernel modules, or adds or deletes symbolic or debugging
information about specified kernel modules.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>mount</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays information about the currently-mounted
filesystems.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>net</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>display various network related data.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>p</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>passes its arguments to the <b>gdb</b> &quot;print&quot;
command for evaluation and display.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>ps</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays process status for specified, or all, processes
in the system.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>pte</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>translates the hexadecimal contents of a PTE into its
physical page address and page bit settings.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>ptob</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>translates a page frame number to its byte value.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>ptov</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>translates a hexadecimal physical address into a kernel
virtual address.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>q</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>is an alias for the &quot;exit&quot; command.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>rd</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays the contents of memory, with the output
formatted in several different manners.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>repeat</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>repeats a command indefinitely, optionally delaying a
given number of seconds between each command execution.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>runq</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays the tasks on the run queue.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>search</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>searches a range of user or kernel memory space for
given value.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>set</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>either sets a new context, or gets the current context
for display.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>sig</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays signal-handling data of one or more tasks.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>struct</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays either a structure definition or the contents
of a kernel structure at a specified address.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>swap</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays information about each configured swap
device.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>sym</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>translates a symbol to its virtual address, or a static
kernel virtual address to its symbol -- or to a
symbol-plus-offset value, if appropriate.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>sys</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays system-specific data.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>task</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays the contents of a task_struct.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>tree</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays the contents of a red-black tree or a radix
tree.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>timer</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays the timer queue entries, both old- and
new-style, in chronological order.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>union</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>is similar to the <i>struct</i> command, except that it
works on kernel unions.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>vm</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays basic virtual memory information of a
context.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>vtop</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>translates a user or kernel virtual address to its
physical address.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>waitq</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>walks the wait queue list displaying the tasks which are
blocked on the specified wait queue.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>whatis</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays the definition of structures, unions, typedefs
or text/data symbols.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>wr</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>modifies the contents of memory on a live system. It can
only be used if <i>/dev/mem</i> is the device file being
used to access system RAM, and should obviously be used with
great care.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">When
<b>crash</b> is invoked with a Xen hypervisor binary as the
NAMELIST, the command set is slightly modified. The <i>*,
alias, ascii, bt, dis, eval, exit, extend, gdb, help, list,
log, p, pte, rd, repeat, search, set, struct, sym, sys,
union, whatis, wr</i> and <i>q</i> commands are the same as
above. The following commands are specific to the Xen
hypervisor:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><i>domain</i></p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">displays the contents of the
domain structure for selected, or all, domains.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>doms</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>displays domain status for selected, or all,
domains.</p> </td></tr>
</table>

<p style="margin-left:11%;"><i>dumpinfo</i></p>

<p style="margin-left:22%;">displays Xen dump information
for selected, or all, cpus.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><i>pcpus</i></p></td>
<td width="4%"></td>
<td width="78%">


<p>displays physical cpu information for selected, or all,
cpus.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><i>vcpus</i></p></td>
<td width="4%"></td>
<td width="78%">


<p>displays vcpu status for selected, or all, vcpus.</p></td></tr>
</table>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>.crashrc</i></p>

<p style="margin-left:22%;">Initialization commands. The
file can be located in the user&rsquo;s <b>HOME</b>
directory and/or the current directory. Commands found in
the <i>.crashrc</i> file in the <b>HOME</b> directory are
executed before those in the current directory&rsquo;s
<i>.crashrc</i> file.</p>

<h2>ENVIRONMENT
<a name="ENVIRONMENT"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>EDITOR</b></p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">Command input is read using
<b>readline(3).</b> If <b>EDITOR</b> is set to <i>emacs</i>
or <i>vi</i> then suitable keybindings are used. If
<b>EDITOR</b> is not set, then <i>vi</i> is used. This can
be overridden by <b>set vi</b> or <b>set emacs</b> commands
located in a <i>.crashrc</i> file, or by entering <b>-e
emacs</b> on the <b>crash</b> command line.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>CRASHPAGER</b></p>

<p style="margin-left:22%;">If <b>CRASHPAGER</b> is set,
its value is used as the name of the program to which
command output will be sent. If not, then command output is
sent to <b>/usr/bin/less -E -X</b> by default.</p>

<p style="margin-left:11%;"><b>CRASH_MODULE_PATH</b></p>

<p style="margin-left:22%;">Specifies an alternative
directory tree to search for kernel module object files.</p>

<p style="margin-left:11%;"><b>CRASH_EXTENSIONS</b></p>

<p style="margin-left:22%;">Specifies a directory
containing extension modules that will be loaded
automatically if the <b>-x</b> command line option is
used.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If <b>crash</b>
does not work, look for a newer version: kernel evolution
frequently makes <b>crash</b> updates necessary.</p>

<p style="margin-left:11%; margin-top: 1em">The command
<b>set scroll off</b> will cause output to be sent directly
to the terminal rather than through a paging program. This
is useful, for example, if you are running <b>crash</b> in a
window of <b>emacs</b>.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Dave Anderson
&lt;anderson@redhat.com&gt; wrote <b>crash.</b> <br>
Jay Fenlason &lt;fenlason@redhat.com&gt; and Dave Anderson
<br>
&lt;anderson@redhat.com&gt; wrote this man page.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <i>help</i>
command within <b>crash</b> provides more complete and
accurate documentation than this man page.</p>


<p style="margin-left:11%; margin-top: 1em"><i>http://people.redhat.com/anderson</i>
- the home page of the <b>crash</b> utility.</p>


<p style="margin-left:11%; margin-top: 1em"><b>netdump</b>(8),
<b>gdb</b>(1)</p>
<hr>
</body>
</html>
