<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 02:01:53 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>KPROPD</title>

</head>
<body>

<h1 align="center">KPROPD</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#ENVIRONMENT">ENVIRONMENT</a><br>
<a href="#FILES">FILES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">kpropd &minus;
Kerberos V5 slave KDC update server</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>kpropd</b>
[<b>&minus;r</b> <i>realm</i>] [<b>&minus;a</b>
<i>acl_file</i>] [<b>&minus;f</b> <i>slave_dumpfile</i>]
[<b>&minus;F</b> <i>principal_database</i>] [<b>&minus;p</b>
<i>kdb5_util_prog</i>] [<b>&minus;P</b> <i>port</i>]
[<b>&minus;d</b>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>kpropd</i> command runs on the slave KDC server. It
listens for update requests made by the <i>kprop(8)</i>
program. If incremental propagation is enabled, it
periodically requests incremental updates from the master
KDC.</p>

<p style="margin-left:11%; margin-top: 1em">When the slave
receives a kprop request from the master, kpropd accepts the
dumped KDC database and places it in a file, and then runs
<i>kdb5_util(8)</i> to load the dumped database into the
active database which is used by <i>krb5kdc(8)</i>. This
allows the master Kerberos server to use <i>kprop(8)</i> to
propagate its database to the slave servers. Upon a
successful download of the KDC database file, the slave
Kerberos server will have an up&minus;to&minus;date KDC
database.</p>

<p style="margin-left:11%; margin-top: 1em">Where
incremental propagation is not used, kpropd is commonly
invoked out of inetd(8) as a nowait service. This is done by
adding a line to the <b>/etc/inetd.conf</b> file which looks
like this:</p>

<pre style="margin-left:22%; margin-top: 1em">kprop  stream  tcp  nowait  root  /usr/local/sbin/kpropd  kpropd</pre>


<p style="margin-left:11%; margin-top: 1em">kpropd can also
run as a standalone daemon. This is required for incremental
propagation. But this is also useful for debugging
purposes.</p>

<p style="margin-left:11%; margin-top: 1em">Incremental
propagation may be enabled with the <b>iprop_enable</b>
variable in <i>kdc.conf(5)</i>. If incremental propagation
is enabled, the slave periodically polls the master KDC for
updates, at an interval determined by the
<b>iprop_slave_poll</b> variable. If the slave receives
updates, kpropd updates its log file with any updates from
the master. <i>kproplog(8)</i> can be used to view a summary
of the update entry log on the slave KDC. If incremental
propagation is enabled, the principal
<b>kiprop/slavehostname@REALM</b> (where
<i>slavehostname</i> is the name of the slave KDC host, and
<i>REALM</i> is the name of the Kerberos realm) must be
present in the slave's keytab file.</p>


<p style="margin-left:11%; margin-top: 1em"><i>kproplog(8)</i>
can be used to force full replication when iprop is
enabled.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;r</b>
<i>realm</i></p>

<p style="margin-left:22%;">Specifies the realm of the
master server.</p>

<p style="margin-left:11%;"><b>&minus;f</b> <i>file</i></p>

<p style="margin-left:22%;">Specifies the filename where
the dumped principal database file is to be stored; by
default the dumped database file is
<b>/var/kerberos/krb5kdc/from_master</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;p</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Allows the user to specify the pathname to the
<i>kdb5_util(8)</i> program; by default the pathname used is
<b>/usr/sbin/kdb5_util</b>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;S</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>[DEPRECATED] Enable standalone mode. Normally kpropd is
invoked by inetd(8) so it expects a network connection to be
passed to it from inetd(8). If the <b>&minus;S</b> option is
specified, or if standard input is not a socket, kpropd will
put itself into the background, and wait for connections on
port 754 (or the port specified with the <b>&minus;P</b>
option if given).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;d</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Turn on debug mode. In this mode, if the <b>&minus;S</b>
option is selected, kpropd will not detach itself from the
current job and run in the background. Instead, it will run
in the foreground and print out debugging messages during
the database propagation.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;P</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Allow for an alternate port number for kpropd to listen
on. This is only useful in combination with the
<b>&minus;S</b> option.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;a</b>
<i>acl_file</i></p>

<p style="margin-left:22%;">Allows the user to specify the
path to the kpropd.acl file; by default the path used is
<b>/var/kerberos/krb5kdc/kpropd.acl</b>.</p>

<h2>ENVIRONMENT
<a name="ENVIRONMENT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">kpropd uses the
following environment variables:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="24%">


<p><b>KRB5_CONFIG</b></p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="24%">


<p><b>KRB5_KDC_PROFILE</b></p></td>
<td width="62%">
</td></tr>
</table>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>kpropd.acl</b></p>

<p style="margin-left:22%;">Access file for kpropd; the
default location is
<b>/usr/local/var/krb5kdc/kpropd.acl</b>. Each entry is a
line containing the principal of a host from which the local
machine will allow Kerberos database propagation via
<i>kprop(8)</i>.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>kprop(8)</i>,
<i>kdb5_util(8)</i>, <i>krb5kdc(8)</i>, inetd(8)</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">MIT</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">1985-2013,
MIT</p>
<hr>
</body>
</html>
