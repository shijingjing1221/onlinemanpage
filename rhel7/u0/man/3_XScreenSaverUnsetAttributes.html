<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 02:45:27 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>XScreenSaver</title>

</head>
<body>

<h1 align="center">XScreenSaver</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#ERRORS">ERRORS</a><br>
<a href="#AVAILABILITY">AVAILABILITY</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#STABILITY">STABILITY</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">XScreenSaver
&minus; X11 Screen Saver extension client library</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;X11/extensions/scrnsaver.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">typedef struct
{ <br>
Window window; /&lowast; screen saver window */ <br>
int state; /&lowast; ScreenSaver{Off,On,Disabled} */ <br>
int kind; /&lowast; ScreenSaver{Blanked,Internal,External}
*/ <br>
unsigned long til_or_since; /&lowast; milliseconds */ <br>
unsigned long idle; /&lowast; milliseconds */ <br>
unsigned long eventMask; /&lowast; events */ <br>
} XScreenSaverInfo;</p>

<p style="margin-left:11%; margin-top: 1em">typedef struct
{ <br>
int type; /&lowast; of event */ <br>
unsigned long serial; /&lowast; # of last request processed
by server */ <br>
Bool send_event; /&lowast; true if this came frome a
SendEvent request */ <br>
Display *display; /&lowast; Display the event was read from
*/ <br>
Window window; /&lowast; screen saver window */ <br>
Window root; /&lowast; root window of event screen */ <br>
int state; /&lowast; ScreenSaver{Off,On,Cycle} */ <br>
int kind; /&lowast; ScreenSaver{Blanked,Internal,External}
*/ <br>
Bool forced; /&lowast; extents of new region */ <br>
Time time; /&lowast; event timestamp */ <br>
} XScreenSaverNotifyEvent;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em">Bool
XScreenSaverQueryExtension(Display *<i>dpy</i>, int
*<i>event_base_return</i>, int
*<i>error_base_return</i>);</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em">Status
XScreenSaverQueryVersion(Display *<i>dpy</i>, int
*<i>major_version_return</i>, int
*<i>minor_version_return</i>);</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em">XScreenSaverInfo
*XScreenSaverAllocInfo(void);</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em">Status
XScreenSaverQueryInfo(Display *<i>dpy</i>, Drawable
<i>drawable</i>, XScreenSaverInfo *<i>saver_info</i>);</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em">void
XScreenSaverSelectInput(Display *<i>dpy</i>, Drawable
<i>drawable</i>, unsigned long <i>mask);</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em">void
XScreenSaverSetAttributes(Display *<i>dpy</i>, Drawable
<i>drawable</i>, int <i>x</i>, int <i>y</i>, unsigned int
<i>width</i>, unsigned int <i>height</i>, unsigned int
<i>border_width</i>, int <i>depth</i>, unsigned int
<i>class</i>, Visual *<i>visual</i>, unsigned long
<i>valuemask</i>, XSetWindowAttributes
*<i>attributes</i>);</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em">void
XScreenSaverUnsetAttributes(Display *<i>dpy</i>, Drawable
<i>drawable</i>);</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em">void
XScreenSaverSaverRegister(Display *<i>dpy</i>, int
<i>screen</i>, XID <i>xid</i>, Atom <i>type</i>);</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em">Status
XScreenSaverUnregister(Display *<i>dpy</i>, int
<i>screen</i>);</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em">Status
XScreenSaverGetRegistered(Display *<i>dpy</i>, int
<i>screen</i>, XID *<i>xid</i>, Atom *<i>type</i>);</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em">void XScreenSaverSuspend(Display
*<i>dpy</i>, Bool <i>suspend</i>);</p></td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The X Window
System provides support for changing the image on a display
screen after a user-settable period of inactivity to avoid
burning the cathode ray tube phosphors. However, no
interfaces are provided for the user to control the image
that is drawn. This extension allows an external
&lsquo;&lsquo;screen saver&rsquo;&rsquo; client to detect
when the alternate image is to be displayed and to provide
the graphics.</p>

<p style="margin-left:11%; margin-top: 1em">Current X
server implementations typically provide at least one form
of &lsquo;&lsquo;screen saver&rsquo;&rsquo; image.
Historically, this has been a copy of the X logo drawn
against the root background pattern. However, many users
have asked for the mechanism to allow them to write screen
saver programs that provide capabilities similar to those
provided by other window systems. In particular, such users
often wish to be able to display corporate logos,
instructions on how to reactivate the screen, and automatic
screen-locking utilities. This extension provides a means
for writing such clients.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Assumptions</b>
<br>
This extension exports the notion of a special screen saver
window that is mapped above all other windows on a display.
This window has the <i>override-redirect</i> attribute set
so that it is not subject to manipulation by the window
manager. Furthermore, the X identifier for the window is
never returned by <b>QueryTree</b> requests on the root
window, so it is typically not visible to other clients.</p>


<p style="margin-left:11%; margin-top: 1em"><b>XScreenSaverQueryExtension</b>
returns <b>True</b> if the <i>XScreenSaver</i> extension is
available on the given display. A client must call
<b>XScreenSaverQueryExtension</b> before calling any other
XScreenSaver function in order to negotiate a compatible
protocol version; otherwise the client will get undefined
behavior (XScreenSaver may or may not work).</p>

<p style="margin-left:11%; margin-top: 1em">If the
extension is supported, the event number for
<i>ScreenSaverNotify</i> events is returned in the value
pointed to by <i>event_base</i>. Since no additional errors
are defined by this extension, the results of
<i>error_base</i> are not defined.</p>


<p style="margin-left:11%; margin-top: 1em"><b>XScreenSaverQueryVersion</b>
returns <b>True</b> if the request succeeded; the values of
the major and minor protocol versions supported by the
server are returned in <i>major_version_return</i> and
<i>minor_version_return .</i></p>


<p style="margin-left:11%; margin-top: 1em"><b>XScreenSaverAllocInfo</b>
allocates and returns an <b>XScreenSaverInfo</b> structure
for use in calls to <b>XScreenSaverQueryInfo</b>. All fields
in the structure are initialized to zero. If insufficient
memory is available, NULL is returned. The results of this
routine can be released using <i>XFree</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>XScreenSaverQueryInfo</b>
returns information about the current state of the screen
server in <i>saver_info</i> and a non-zero value is
returned. If the extension is not supported,
<i>saver_info</i> is not changed and 0 is returned.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>state</i> field specifies whether or not the screen saver
is currently active and how the <i>til-or-since</i> value
should be interpreted:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><i>Off</i></p></td>
<td width="2%"></td>
<td width="83%">


<p>The screen is not currently being saved;
<i>til-or-since</i> specifies the number of milliseconds
until the screen saver is expected to activate.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><i>On</i></p></td>
<td width="2%"></td>
<td width="83%">


<p>The screen is currently being saved; <i>til-or-since</i>
specifies the number of milliseconds since the screen saver
activated.</p> </td></tr>
</table>

<p style="margin-left:11%;"><i>Disabled</i></p>

<p style="margin-left:17%;">The screen saver is currently
disabled; <i>til-or-since</i> is zero.</p>

<p style="margin-left:11%; margin-top: 1em">The <i>kind</i>
field specifies the mechanism that either is currently being
used or would have been were the screen being saved: <i><br>
Blanked</i></p>

<p style="margin-left:17%;">The video signal to the display
monitor was disabled.</p>

<p style="margin-left:11%;"><i>Internal</i></p>

<p style="margin-left:17%;">A server-dependent, built-in
screen saver image was displayed; either no client had set
the screen saver window attributes or a different client had
the server grabbed when the screen saver activated.</p>

<p style="margin-left:11%;"><i>External</i></p>

<p style="margin-left:17%;">The screen saver window was
mapped with attributes set by a client using the
<b>ScreenSaverSetAttributes</b> request.</p>

<p style="margin-left:11%; margin-top: 1em">The <i>idle</i>
field specifies the number of milliseconds since the last
input was received from the user on any of the input
devices. <br>
The <i>event-mask</i> field specifies which, if any, screen
saver events this client has requested using
<b>ScreenSaverSelectInput</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>XScreenSaverSelectInput</b>
asks that events related to the screen saver be generated
for this client. If no bits are set in <i>event-mask</i>,
then no events will be generated. Otherwise, any combination
of the following bits may be set: <b><br>
ScreenSaverNotify</b></p>

<p style="margin-left:23%;">If this bit is set,
<b>ScreenSaverNotify</b> events are generated whenever the
screen saver is activated or deactivated.</p>

<p style="margin-left:11%;"><b>ScreenSaverCycle</b></p>

<p style="margin-left:23%;">If this bit is set,
<b>ScreenSaverNotify</b> events are generated whenever the
screen saver cycle interval passes.</p>


<p style="margin-left:11%; margin-top: 1em"><b>XScreenSaverSetAttributes</b>
sets the attributes to be used the next time the external
screen saver is activated. If another client currently has
the attributes set, a BadAccess error is generated and the
request is ignored. <br>
Otherwise, the specified window attributes are checked as if
they were used in a core <b>CreateWindow</b> request whose
parent is the root. The <i>override-redirect</i> field is
ignored as it is implicitly set to True. If the window
attributes result in an error according to the rules for
<b>CreateWindow</b>, the request is ignored. <br>
Otherwise, the attributes are stored and will take effect on
the next activation that occurs when the server is not
grabbed by another client. Any resources specified for the
<i>background-pixmap</i> or <i>cursor</i> attributes may be
freed immediately. The server is free to copy the
<i>background-pixmap</i> or <i>cursor</i> resources or to
use them in place; therefore, the effect of changing the
contents of those resources is undefined. If the specified
<i>colormap</i> no longer exists when the screen saver
activates, the parent&rsquo;s colormap is used instead. If
no errors are generated by this request, any previous screen
saver window attributes set by this client are released.
<br>
When the screen saver next activates and the server is not
grabbed by another client, the screen saver window is
created, if necessary, and set to the specified attributes
and events are generated as usual. The colormap associated
with the screen saver window is installed. Finally, the
screen saver window is mapped. <br>
The window remains mapped and at the top of the stacking
order until the screen saver is deactivated in response to
activity on any of the user input devices, a
<b>ForceScreenSaver</b> request with a value of Reset, or
any request that would cause the window to be unmapped. <br>
If the screen saver activates while the server is grabbed by
another client, the internal saver mechanism is used. The
<b>ForceScreenSaver</b> request may be used with a value of
Active to deactivate the internal saver and activate the
external saver. <br>
If the screen saver client&rsquo;s connection to the server
is broken while the screen saver is activated and the
client&rsquo;s close down mode has not been RetainPermanent
or RetainTemporary, the current screen saver is deactivated
and the internal screen saver is immediately activated. <br>
When the screen saver deactivates, the screen saver
window&rsquo;s colormap is uninstalled and the window is
unmapped (except as described below). The screen saver XID
is disassociated with the window and the server may, but is
not required to, destroy the window along with any children.
<br>
When the screen saver is being deactivated and then
immediately reactivated (such as when switching screen
savers), the server may leave the screen saver window mapped
(typically to avoid generating exposures).</p>


<p style="margin-left:11%; margin-top: 1em"><b>XScreenSaverUnsetAttributes</b>
instructs the server to discard any previous screen saver
window attributes set by this client.</p>


<p style="margin-left:11%; margin-top: 1em"><b>XScreenSaverRegister</b>
stores the given <i>XID</i> in the <b>_SCREEN_SAVER_ID</b>
property (of the given <i>type</i>) on the root window of
the specified <i>screen</i>. It returns zero if an error is
encountered and the property is not changed, otherwise it
returns non-zero.</p>


<p style="margin-left:11%; margin-top: 1em"><b>XScreenSaverUnregister</b>
removes any <b>_SCREEN_SAVER_ID</b> from the root window of
the specified <i>screen</i>. It returns zero if an error is
encountered and the property is changed, otherwise it
returns non-zero.</p>


<p style="margin-left:11%; margin-top: 1em"><b>XScreenSaverGetRegistered</b>
returns the <i>XID</i> and <i>type</i> stored in the
<b>_SCREEN_SAVER_ID</b> property on the root window of the
specified <i>screen</i>. It returns zero if an error is
encountered or if the property does not exist or is not of
the correct format; otherwise it returns non-zero.</p>


<p style="margin-left:11%; margin-top: 1em"><b>XScreenSaverSuspend</b>
temporarily suspends the screensaver and DPMS timer if
<i>suspend</i> is &rsquo;True&rsquo;, and restarts the timer
if <i>suspend</i> is &rsquo;False&rsquo;. <br>
This function should be used by applications that
don&rsquo;t want the screensaver or DPMS to become activated
while they&rsquo;re for example in the process of playing a
media sequence, or are otherwise continuously presenting
visual information to the user while in a non-interactive
state. This function is not intended to be called by an
external screensaver application. <br>
If <b>XScreenSaverSuspend</b> is called multiple times with
<i>suspend</i> set to &rsquo;True&rsquo;, it must be called
an equal number of times with <i>suspend</i> set to
&rsquo;False&rsquo; in order for the screensaver timer to be
restarted. This request has no affect if a client tries to
resume the screensaver without first having suspended it.
<b>XScreenSaverSuspend</b> can thus not be used by one
client to resume the screensaver if it&rsquo;s been
suspended by another client. <br>
If a client that has suspended the screensaver becomes
disconnected from the X server, the screensaver timer will
automatically be restarted, unless it&rsquo;s still
suspended by another client. Suspending the screensaver
timer doesn&rsquo;t prevent the screensaver from being
forceably activated with the <b>ForceScreenSaver</b>
request, or a DPMS mode from being set with the
<b>DPMSForceLevel</b> request. <b><br>
XScreenSaverSuspend</b> also doesn&rsquo;t deactivate the
screensaver or DPMS if either is active at the time the
request to suspend them is received by the X server. But
once they&rsquo;ve been deactivated, they won&rsquo;t
automatically be activated again, until the client has
canceled the suspension.</p>

<h2>ERRORS
<a name="ERRORS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>XScreenSaverSelectInput,
XScreenSaverQueryInfo, XScreenSaverSetAttributes</b> and
<b>XScreenSaverUnsetAttributes</b> will generate a
<i>BadDrawable</i> error if <i>drawable</i> is not a valid
drawable identifier. If any undefined bits are set in
<i>event-mask</i>, a BadValue error is generated by
<b>XScreenSaverSelectInput .</b></p>

<h2>AVAILABILITY
<a name="AVAILABILITY"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>XScreenSaverSuspend</b>
is available in version 1.1 and later versions of the X
Screen Saver Extension. Version 1.1 was first released with
X11R7.1.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">X(7)</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Jim Fulton and
Keith Packard.</p>

<h2>STABILITY
<a name="STABILITY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This API is
considered as experimental. The Xss library major revision
may be incremented whenever incompatible changes are done to
the API without notice. Use with care.</p>
<hr>
</body>
</html>
