<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 02:20:21 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SET SESSION AUTHORIZATION</title>

</head>
<body>

<h1 align="center">SET SESSION AUTHORIZATION</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#COMPATIBILITY">COMPATIBILITY</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">SET_SESSION_AUTHORIZATION
&minus; set the session user identifier and the current user
identifier of the current session</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">SET [ SESSION |
LOCAL ] SESSION AUTHORIZATION <i>user_name</i> <br>
SET [ SESSION | LOCAL ] SESSION AUTHORIZATION DEFAULT <br>
RESET SESSION AUTHORIZATION</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This command
sets the session user identifier and the current user
identifier of the current SQL session to be
<i>user_name</i>. The user name can be written as either an
identifier or a string literal. Using this command, it is
possible, for example, to temporarily become an unprivileged
user and later switch back to being a superuser.</p>

<p style="margin-left:11%; margin-top: 1em">The session
user identifier is initially set to be the (possibly
authenticated) user name provided by the client. The current
user identifier is normally equal to the session user
identifier, but might change temporarily in the context of
SECURITY DEFINER functions and similar mechanisms; it can
also be changed by SET ROLE (<b>SET_ROLE</b>(7)). The
current user identifier is relevant for permission
checking.</p>

<p style="margin-left:11%; margin-top: 1em">The session
user identifier can be changed only if the initial session
user (the authenticated user) had the superuser privilege.
Otherwise, the command is accepted only if it specifies the
authenticated user name.</p>

<p style="margin-left:11%; margin-top: 1em">The SESSION and
LOCAL modifiers act the same as for the regular
<b>SET</b>(7) command.</p>

<p style="margin-left:11%; margin-top: 1em">The DEFAULT and
RESET forms reset the session and current user identifiers
to be the originally authenticated user name. These forms
can be executed by any user.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>SET SESSION
AUTHORIZATION</b> cannot be used within a SECURITY DEFINER
function.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:17%; margin-top: 1em">SELECT
SESSION_USER, CURRENT_USER;</p>

<p style="margin-left:17%; margin-top: 1em">session_user |
current_user <br>

&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;
<br>
peter | peter</p>

<p style="margin-left:17%; margin-top: 1em">SET SESSION
AUTHORIZATION 'paul';</p>

<p style="margin-left:17%; margin-top: 1em">SELECT
SESSION_USER, CURRENT_USER;</p>

<p style="margin-left:17%; margin-top: 1em">session_user |
current_user <br>

&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;+&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;
<br>
paul | paul</p>

<h2>COMPATIBILITY
<a name="COMPATIBILITY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The SQL
standard allows some other expressions to appear in place of
the literal <i>user_name</i>, but these options are not
important in practice. PostgreSQL allows identifier syntax
(&quot;username&quot;), which SQL does not. SQL does not
allow this command during a transaction; PostgreSQL does not
make this restriction because there is no reason to. The
SESSION and LOCAL modifiers are a PostgreSQL extension, as
is the RESET syntax.</p>

<p style="margin-left:11%; margin-top: 1em">The privileges
necessary to execute this command are left
implementation&minus;defined by the standard.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">SET ROLE
(<b>SET_ROLE</b>(7))</p>
<hr>
</body>
</html>
