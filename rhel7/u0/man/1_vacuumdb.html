<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 02:34:07 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>VACUUMDB</title>

</head>
<body>

<h1 align="center">VACUUMDB</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#ENVIRONMENT">ENVIRONMENT</a><br>
<a href="#DIAGNOSTICS">DIAGNOSTICS</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">vacuumdb
&minus; garbage&minus;collect and analyze a PostgreSQL
database</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>vacuumdb</b>
[<i>connection&minus;option</i>...] [<i>option</i>...]
[<b>&minus;&minus;table&nbsp;</b>|&nbsp;<b>&minus;t&nbsp;</b><i>table&nbsp;</i>[(&nbsp;<i>column&nbsp;</i>[,...]&nbsp;)]]
[<i>dbname</i>]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>vacuumdb</b>
[<i>connection&minus;option</i>...] [<i>option</i>...]
<b>&minus;&minus;all</b> | <b>&minus;a</b></p></td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">vacuumdb is a
utility for cleaning a PostgreSQL database. vacuumdb will
also generate internal statistics used by the PostgreSQL
query optimizer.</p>

<p style="margin-left:11%; margin-top: 1em">vacuumdb is a
wrapper around the SQL command <b>VACUUM</b>(7). There is no
effective difference between vacuuming and analyzing
databases via this utility and via other methods for
accessing the server.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">vacuumdb
accepts the following command&minus;line arguments:</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;a</b>,
<b>&minus;&minus;all</b></p>

<p style="margin-left:17%;">Vacuum all databases.</p>


<p style="margin-left:11%; margin-top: 1em"><b>[&minus;d]</b>
<i>dbname</i>,
<b>[&minus;&minus;dbname=]</b><i>dbname</i></p>

<p style="margin-left:17%;">Specifies the name of the
database to be cleaned or analyzed. If this is not specified
and <b>&minus;a</b> (or <b>&minus;&minus;all</b>) is not
used, the database name is read from the environment
variable <b>PGDATABASE</b>. If that is not set, the user
name specified for the connection is used.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;e</b>,
<b>&minus;&minus;echo</b></p>

<p style="margin-left:17%;">Echo the commands that vacuumdb
generates and sends to the server.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;f</b>,
<b>&minus;&minus;full</b></p>

<p style="margin-left:17%;">Perform &ldquo;full&rdquo;
vacuuming.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;F</b>,
<b>&minus;&minus;freeze</b></p>

<p style="margin-left:17%;">Aggressively
&ldquo;freeze&rdquo; tuples.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;q</b>,
<b>&minus;&minus;quiet</b></p>

<p style="margin-left:17%;">Do not display progress
messages.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;t</b>
<i>table</i> <b>[ (</b><i>column</i> <b>[,...]) ]</b>,
<b>&minus;&minus;table=</b><i>table</i> <b>[
(</b><i>column</i> <b>[,...]) ]</b></p>

<p style="margin-left:17%;">Clean or analyze <i>table</i>
only. Column names can be specified only in conjunction with
the <b>&minus;&minus;analyze</b> or
<b>&minus;&minus;analyze&minus;only</b> options.</p>


<p style="margin-left:23%; margin-top: 1em"><b><big>Tip</big></b>
<br>
If you specify columns, you probably have to escape the
parentheses from the shell. (See examples below.)</p>


<p style="margin-left:11%; margin-top: 1em"><b><big>&minus;v</big></b><big>,
<b>&minus;&minus;verbose</b></big></p>

<p style="margin-left:17%;"><big>Print detailed information
during processing.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>&minus;V</b>,
<b>&minus;&minus;version</b></big></p>

<p style="margin-left:17%;"><big>Print the vacuumdb version
and exit.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>&minus;z</b>,
<b>&minus;&minus;analyze</b></big></p>

<p style="margin-left:17%;"><big>Also calculate statistics
for use by the optimizer.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>&minus;Z</b>,
<b>&minus;&minus;analyze&minus;only</b></big></p>

<p style="margin-left:17%;"><big>Only calculate statistics
for use by the optimizer (no vacuum).</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>&minus;?</b>,
<b>&minus;&minus;help</b></big></p>

<p style="margin-left:17%;"><big>Show help about vacuumdb
command line arguments, and exit.</big></p>

<p style="margin-left:11%; margin-top: 1em"><big>vacuumdb
also accepts the following command&minus;line arguments for
connection parameters:</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>&minus;h</b>
<i>host</i>, <b>&minus;&minus;host=</b><i>host</i></big></p>

<p style="margin-left:17%;"><big>Specifies the host name of
the machine on which the server is running. If the value
begins with a slash, it is used as the directory for the
Unix domain socket.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>&minus;p</b>
<i>port</i>, <b>&minus;&minus;port=</b><i>port</i></big></p>

<p style="margin-left:17%;"><big>Specifies the TCP port or
local Unix domain socket file extension on which the server
is listening for connections.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>&minus;U</b>
<i>username</i>,
<b>&minus;&minus;username=</b><i>username</i></big></p>

<p style="margin-left:17%;"><big>User name to connect
as.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>&minus;w</b>,
<b>&minus;&minus;no&minus;password</b></big></p>

<p style="margin-left:17%;"><big>Never issue a password
prompt. If the server requires password authentication and a
password is not available by other means such as a .pgpass
file, the connection attempt will fail. This option can be
useful in batch jobs and scripts where no user is present to
enter a password.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>&minus;W</b>,
<b>&minus;&minus;password</b></big></p>

<p style="margin-left:17%;"><big>Force vacuumdb to prompt
for a password before connecting to a database.</big></p>

<p style="margin-left:17%; margin-top: 1em"><big>This
option is never essential, since vacuumdb will automatically
prompt for a password if the server demands password
authentication. However, vacuumdb will waste a connection
attempt finding out that the server wants a password. In
some cases it is worth typing <b>&minus;W</b> to avoid the
extra connection attempt.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>&minus;&minus;maintenance&minus;db=</b><i>dbname</i></big></p>

<p style="margin-left:17%;"><big>Specifies the name of the
database to connect to discover what other databases should
be vacuumed. If not specified, the postgres database will be
used, and if that does not exist, template1 will be
used.</big></p>

<h2>ENVIRONMENT
<a name="ENVIRONMENT"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><big><b>PGDATABASE</b>,
<b>PGHOST</b>, <b>PGPORT</b>, <b>PGUSER</b></big></p>

<p style="margin-left:17%;"><big>Default connection
parameters</big></p>

<p style="margin-left:11%; margin-top: 1em"><big>This
utility, like most other PostgreSQL utilities, also uses the
environment variables supported by libpq (see Section 31.14,
&ldquo;Environment Variables&rdquo;, in the
documentation).</big></p>

<h2>DIAGNOSTICS
<a name="DIAGNOSTICS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><big>In case of
difficulty, see <b>VACUUM</b>(7) and <b>psql</b>(1) for
discussions of potential problems and error messages. The
database server must be running at the targeted host. Also,
any default connection settings and environment variables
used by the libpq front&minus;end library will
apply.</big></p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><big>vacuumdb
might need to connect several times to the PostgreSQL
server, asking for a password each time. It is convenient to
have a ~/.pgpass file in such cases. See Section 31.15,
&ldquo;The Password File&rdquo;, in the documentation for
more information.</big></p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><big>To clean
the database test:</big></p>

<p style="margin-left:17%; margin-top: 1em"><big>$
<b>vacuumdb test</b></big></p>

<p style="margin-left:11%; margin-top: 1em"><big>To clean
and analyze for the optimizer a database named
bigdb:</big></p>

<p style="margin-left:17%; margin-top: 1em"><big>$
<b>vacuumdb &minus;&minus;analyze bigdb</b></big></p>

<p style="margin-left:11%; margin-top: 1em"><big>To clean a
single table foo in a database named xyzzy, and analyze a
single column bar of the table for the optimizer:</big></p>

<p style="margin-left:17%; margin-top: 1em"><big>$
<b>vacuumdb &minus;&minus;analyze &minus;&minus;verbose
&minus;&minus;table 'foo(bar)' xyzzy</b></big></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><big><b>VACUUM</b>(7)</big></p>
<hr>
</body>
</html>
