<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 01:42:33 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>dhcrelay</title>

</head>
<body>

<h1 align="center">dhcrelay</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPERATION">OPERATION</a><br>
<a href="#COMMAND LINE">COMMAND LINE</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">dhcrelay -
Dynamic Host Configuration Protocol Relay Agent</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>dhcrelay</b>
[ <b>-4</b> ] [ <b>-dqaD</b> ] [ <b>-p</b> <i>port</i> ] [
<b>-c</b> <i>count</i> ] [ <b>-A</b> <i>length</i> ] [
<b>-pf</b> <i>pid-file</i> ] [ <b>--no-pid</b> ] [ <b>-m</b>
<i>append</i> | <i>replace</i> | <i>forward</i> |
<i>discard</i> ] [ <b>-i</b> <i>interface0</i> [ <b>...
-i</b> <i>interfaceN</i> ] ] <i>server0</i> [
<i>...serverN</i> ]</p>

<p style="margin-left:11%; margin-top: 1em"><b>dhcrelay
-6</b> [ <b>-dqI</b> ] [ <b>-p</b> <i>port</i> ] [ <b>-c</b>
<i>count</i> ] [ <b>-pf</b> <i>pid-file</i> ] [
<b>--no-pid</b> ] <b>-l</b> <i>lower0</i> [ <b>... -l</b>
<i>lowerN</i> ] <b>-u</b> <i>upper0</i> [ <b>... -u</b>
<i>upperN</i> ]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The Internet
Systems Consortium DHCP Relay Agent, dhcrelay, provides a
means for relaying DHCP and BOOTP requests from a subnet to
which no DHCP server is directly connected to one or more
DHCP servers on other subnets. It supports both DHCPv4/BOOTP
and DHCPv6 protocols.</p>

<h2>OPERATION
<a name="OPERATION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The DHCP Relay
Agent listens for DHCPv4 or DHCPv6 queries from clients or
other relay agents on one or more interfaces, passing them
along to &lsquo;&lsquo;upstream&rsquo;&rsquo; servers or
relay agents as specified on the command line. When a reply
is received from upstream, it is multicast or unicast back
downstream to the source of the original request.</p>

<h2>COMMAND LINE
<a name="COMMAND LINE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>Protocol
selection options:</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>-6</p></td>
<td width="8%"></td>
<td width="78%">


<p>Run dhcrelay as a DHCPv6 relay agent. Incompatible with
the <b>-4</b> option.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>-4</p></td>
<td width="8%"></td>
<td width="78%">


<p>Run dhcrelay as a DHCPv4/BOOTP relay agent. This is the
default mode of operation, so the argument is not necessary,
but may be specified for clarity. Incompatible with
<b>-6</b>.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><i>Specifying
DHCPv4/BOOTP servers</i></p>

<p style="margin-left:11%; margin-top: 1em">In DHCPv4 mode,
a list of one or more server addresses must be specified on
the command line, to which DHCP/BOOTP queries should be
relayed.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options
available for both DHCPv4 and DHCPv6:</i> <br>
-c COUNT</p>

<p style="margin-left:22%;">Maximum hop count. When
forwarding packets, dhcrelay discards packets which have
reached a hop count of COUNT. Default is 10. Maximum is
255.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>-d</p></td>
<td width="8%"></td>
<td width="78%">


<p>Force dhcrelay to run as a foreground process. Useful
when running dhcrelay under a debugger, or running out of
inittab on System V systems.</p></td></tr>
</table>

<p style="margin-left:11%;">-p PORT</p>

<p style="margin-left:22%;">Listen and transmit on port
PORT. This is mostly useful for debugging purposes. Default
is port 67 for DHCPv4/BOOTP, or port 547 for DHCPv6.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>-q</p></td>
<td width="8%"></td>
<td width="78%">


<p>Quiet mode. Prevents dhcrelay6 from printing its network
configuration on startup.</p></td></tr>
</table>

<p style="margin-left:11%;">-pf pid-file</p>

<p style="margin-left:22%;">Path to alternate pid file.</p>

<p style="margin-left:11%;">--no-pid</p>

<p style="margin-left:22%;">Option to disable writing pid
files. By default the program will write a pid file.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options
available in DHCPv4 mode only:</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>-a</p></td>
<td width="8%"></td>
<td width="78%">


<p>Append an agent option field to each request before
forwarding it to the server. Agent option fields in
responses sent from servers to clients will be stripped
before forwarding such responses back to the client. The
agent option field will contain two agent options: the
Circuit ID suboption and the Remote ID suboption. Currently,
the Circuit ID will be the printable name of the interface
on which the client request was received. The client
supports inclusion of a Remote ID suboption as well, but
this is not used by default.</p></td></tr>
</table>

<p style="margin-left:11%;">-A LENGTH</p>

<p style="margin-left:22%;">Specify the maximum packet size
to send to a DHCPv4/BOOTP server. This might be done to
allow sufficient space for addition of relay agent options
while still fitting into the Ethernet MTU size.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>-D</p></td>
<td width="8%"></td>
<td width="78%">


<p>Drop packets from upstream servers if they contain Relay
Agent Information options that indicate they were generated
in response to a query that came via a different relay
agent. If this option is not specified, such packets will be
relayed anyway.</p></td></tr>
</table>

<p style="margin-left:11%;">-i <i>ifname</i></p>

<p style="margin-left:22%;">Listen for DHCPv4/BOOTP queries
on interface <i>ifname</i>. Multiple interfaces may be
specified by using more than one <b>-i</b> option. If no
interfaces are specified on the command line, dhcrelay will
identify all network interfaces, eliminating non-broadcast
interfaces if possible, and attempt to listen on all of
them.</p>

<p style="margin-left:11%;">-m
<i>append</i>|<i>replace</i>|<i>forward</i>|<i>discard</i></p>

<p style="margin-left:22%;">Control the handling of
incoming DHCPv4 packets which already contain relay agent
options. If such a packet does not have <i>giaddr</i> set in
its header, the DHCP standard requires that the packet be
discarded. However, if <i>giaddr</i> is set, the relay agent
may handle the situation in four ways: It may <i>append</i>
its own set of relay options to the packet, leaving the
supplied option field intact; it may <i>replace</i> the
existing agent option field; it may <i>forward</i> the
packet unchanged; or, it may <i>discard</i> it.</p>

<p style="margin-left:22%; margin-top: 1em">To use this
option you must also enable the <b>-a</b> option.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options
available in DHCPv6 mode only:</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>-I</p></td>
<td width="8%"></td>
<td width="78%">


<p>Force use of the DHCPv6 Interface-ID option. This option
is automatically sent when there are two or more downstream
interfaces in use, to disambiguate between them. The
<b>-I</b> option causes dhcrelay to send the option even if
there is only one downstream interface.</p></td></tr>
</table>

<p style="margin-left:11%;">-l
[<i>address%</i>]<i>ifname</i>[<i>#index</i>]</p>

<p style="margin-left:22%;">Specifies the
&lsquo;&lsquo;lower&rsquo;&rsquo; network interface for
DHCPv6 relay mode: the interface on which queries will be
received from clients or from other relay agents. At least
one <b>-l</b> option must be included in the command line
when running in DHCPv6 mode. The interface name
<i>ifname</i> is a mandatory parameter. The link address can
be specified by <i>address%</i>; if it isn&rsquo;t, dhcrelay
will use the first non-link-local address configured on the
interface. The optional <i>#index</i> parameter specifies
the interface index.</p>

<p style="margin-left:11%;">-u
[<i>address%</i>]<i>ifname</i></p>

<p style="margin-left:22%;">Specifies the
&lsquo;&lsquo;upper&rsquo;&rsquo; network interface for
DHCPv6 relay mode: the interface to which queries from
clients and other relay agents should be forwarded. At least
one <b>-u</b> option must be included in the command line
when running in DHCPv6 mode. The interface name
<i>ifname</i> is a mandatory parameter. The destination
unicast or multicast address can be specified by
<i>address%</i>; if not specified, the relay agent will
forward to the DHCPv6
<i>All_DHCP_Relay_Agents_and_Servers</i> multicast
address.</p>

<p style="margin-left:11%; margin-top: 1em">It is possible
to specify the same interface with different addresses more
than once, and even, when the system supports it, to use the
same interface as both upper and lower interfaces.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">dhclient(8),
dhcpd(8), RFC3315, RFC2132, RFC2131.</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Using the same
interface on both upper and lower sides may cause loops, so
when running this way, the maximum hop count should be set
to a low value.</p>

<p style="margin-left:11%; margin-top: 1em">The loopback
interface is not (yet) recognized as a valid interface.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>dhcrelay(8)</b>
To learn more about Internet Systems Consortium, see
<b>https://www.isc.org</b></p>
<hr>
</body>
</html>
