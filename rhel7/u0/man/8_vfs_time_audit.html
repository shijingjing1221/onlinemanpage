<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 02:34:20 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>VFS_TIME_AUDIT</title>

</head>
<body>

<h1 align="center">VFS_TIME_AUDIT</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#VERSION">VERSION</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">vfs_time_audit
&minus; samba vfs module to log slow VFS operations</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="37%">


<p style="margin-top: 1em">vfs objects = time_audit</p></td>
<td width="52%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This VFS module
is part of the <b>samba</b>(7) suite.</p>

<p style="margin-left:11%; margin-top: 1em">The time_audit
VFS module logs system calls that take longer than the
number of milliseconds defined by the variable
time_audit:timeout. It will log the calls and the time spent
in it.</p>

<p style="margin-left:11%; margin-top: 1em">It's kind of
comparable with strace &minus;T and is helpful to reveal
performance problems with the underlying file and storage
subsystems.</p>

<p style="margin-left:11%; margin-top: 1em">This module is
stackable.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">time_audit:timeout
= number of milliseconds</p>

<p style="margin-left:17%;">VFS calls that take longer than
the defined number of milliseconds that should be logged.
The default is 10000 (10s).</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This would log
VFS calls that take longer than 3 seconds:</p>


<p style="margin-left:17%; margin-top: 1em"><i>[sample_share]</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p><b><font color="#0000FF">path =
/test/sample_share</font></b></p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p><b><font color="#0000FF">vfs objects =
time_audit</font></b></p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p><b><font color="#0000FF">time_audit:timeout =
3000</font></b></p> </td></tr>
</table>

<h2>VERSION
<a name="VERSION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
man page is correct for version 4.0.0 of the Samba
suite.</font></p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
original Samba software and related utilities were created
by Andrew Tridgell. Samba is now developed by the Samba Team
as an Open Source project similar to the way the Linux
kernel is developed.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
time_audit VFS module was created with contributions from
Abhidnya Chirmule.</font></p>
<hr>
</body>
</html>
