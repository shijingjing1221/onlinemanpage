<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 02:15:32 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PROVE</title>

</head>
<body>

<h1 align="center">PROVE</h1>

<a href="#NAME">NAME</a><br>
<a href="#USAGE">USAGE</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#FORMATTERS">FORMATTERS</a><br>
<a href="#SOURCE HANDLERS">SOURCE HANDLERS</a><br>
<a href="#PLUGINS">PLUGINS</a><br>
<a href="#POD ERRORS">POD ERRORS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">prove &minus;
Run tests through a TAP harness.</p>

<h2>USAGE
<a name="USAGE"></a>
</h2>


<pre style="margin-left:11%; margin-top: 1em"> prove [options] [files or directories]</pre>


<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Boolean
options:</p>

<pre style="margin-left:11%; margin-top: 1em"> &minus;v,  &minus;&minus;verbose         Print all test lines.
 &minus;l,  &minus;&minus;lib             Add 'lib' to the path for your tests (&minus;Ilib).
 &minus;b,  &minus;&minus;blib            Add 'blib/lib' and 'blib/arch' to the path for
                        your tests
 &minus;s,  &minus;&minus;shuffle         Run the tests in random order.
 &minus;c,  &minus;&minus;color           Colored test output (default).
      &minus;&minus;nocolor         Do not color test output.
      &minus;&minus;count           Show the X/Y test count when not verbose
                        (default)
      &minus;&minus;nocount         Disable the X/Y test count.
 &minus;D   &minus;&minus;dry             Dry run. Show test that would have run.
 &minus;f,  &minus;&minus;failures        Show failed tests.
 &minus;o,  &minus;&minus;comments        Show comments.
      &minus;&minus;ignore&minus;exit     Ignore exit status from test scripts.
 &minus;m,  &minus;&minus;merge           Merge test scripts' STDERR with their STDOUT.
 &minus;r,  &minus;&minus;recurse         Recursively descend into directories.
      &minus;&minus;reverse         Run the tests in reverse order.
 &minus;q,  &minus;&minus;quiet           Suppress some test output while running tests.
 &minus;Q,  &minus;&minus;QUIET           Only print summary results.
 &minus;p,  &minus;&minus;parse           Show full list of TAP parse errors, if any.
      &minus;&minus;directives      Only show results with TODO or SKIP directives.
      &minus;&minus;timer           Print elapsed time after each test.
      &minus;&minus;trap            Trap Ctrl&minus;C and print summary on interrupt.
      &minus;&minus;normalize       Normalize TAP output in verbose output
 &minus;T                     Enable tainting checks.
 &minus;t                     Enable tainting warnings.
 &minus;W                     Enable fatal warnings.
 &minus;w                     Enable warnings.
 &minus;h,  &minus;&minus;help            Display this help
 &minus;?,                    Display this help
 &minus;H,  &minus;&minus;man             Longer manpage for prove
      &minus;&minus;norc            Don't process default .proverc</pre>


<p style="margin-left:11%; margin-top: 1em">Options that
take arguments:</p>

<pre style="margin-left:11%; margin-top: 1em"> &minus;I                     Library paths to include.
 &minus;P                     Load plugin (searches App::Prove::Plugin::*.)
 &minus;M                     Load a module.
 &minus;e,  &minus;&minus;exec            Interpreter to run the tests ('' for compiled
                        tests.)
      &minus;&minus;ext             Set the extension for tests (default '.t')
      &minus;&minus;harness         Define test harness to use.  See TAP::Harness.
      &minus;&minus;formatter       Result formatter to use. See FORMATTERS.
      &minus;&minus;source          Load and/or configure a SourceHandler. See
                        SOURCE HANDLERS.
 &minus;a,  &minus;&minus;archive out.tgz Store the resulting TAP in an archive file.
 &minus;j,  &minus;&minus;jobs N          Run N test jobs in parallel (try 9.)
      &minus;&minus;state=opts      Control prove's persistent state.
      &minus;&minus;rc=rcfile       Process options from rcfile
      &minus;&minus;rules           Rules for parallel vs sequential processing.</pre>


<h2>NOTES
<a name="NOTES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>.proverc</b>
<br>
If <i>~/.proverc</i> or <i>./.proverc</i> exist they will be
read and any options they contain processed before the
command line options. Options in <i>.proverc</i> are
specified in the same way as command line options:</p>

<pre style="margin-left:11%; margin-top: 1em">    # .proverc
    &minus;&minus;state=hot,fast,save
    &minus;j9</pre>


<p style="margin-left:11%; margin-top: 1em">Additional
option files may be specified with the
<tt>&quot;&minus;&minus;rc&quot;</tt> option. Default option
file processing is disabled by the
<tt>&quot;&minus;&minus;norc&quot;</tt> option.</p>

<p style="margin-left:11%; margin-top: 1em">Under Windows
and <small>VMS</small> the option file is named
<i>_proverc</i> rather than <i>.proverc</i> and is sought
only in the current directory.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Reading from
&quot;STDIN&quot;</b> <br>
If you have a list of tests (or URLs, or anything else you
want to test) in a file, you can add them to your tests by
using a &rsquo;&minus;&rsquo;:</p>

<pre style="margin-left:11%; margin-top: 1em"> prove &minus; &lt; my_list_of_things_to_test.txt</pre>


<p style="margin-left:11%; margin-top: 1em">See the
<tt>&quot;README&quot;</tt> in the
<tt>&quot;examples&quot;</tt> directory of this
distribution.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Default Test
Directory</b> <br>
If no files or directories are supplied,
<tt>&quot;prove&quot;</tt> looks for all files matching the
pattern <tt>&quot;t/*.t&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Colored Test
Output</b> <br>
Colored test output is the default, but if output is not to
a terminal, color is disabled. You can override this by
adding the <tt>&quot;&minus;&minus;color&quot;</tt>
switch.</p>

<p style="margin-left:11%; margin-top: 1em">Color support
requires Term::ANSIColor on Unix-like platforms and
Win32::Console windows. If the necessary module is not
installed colored output will not be available.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Exit
Code</b> <br>
If the tests fail <tt>&quot;prove&quot;</tt> will exit with
non-zero status.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Arguments to
Tests</b> <br>
It is possible to supply arguments to tests. To do so
separate them from prove&rsquo;s own arguments with the
arisdottle, &rsquo;::&rsquo;. For example</p>

<pre style="margin-left:11%; margin-top: 1em"> prove &minus;v t/mytest.t :: &minus;&minus;url http://example.com</pre>


<p style="margin-left:11%; margin-top: 1em">would run
<i>t/mytest.t</i> with the options &rsquo;&minus;&minus;url
http://example.com&rsquo;. When running multiple tests they
will each receive the same arguments.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&quot;&minus;&minus;exec&quot;</b>
<br>
Normally you can just pass a list of Perl tests and the
harness will know how to execute them. However, if your
tests are not written in Perl or if you want all tests
invoked exactly the same way, use the
<tt>&quot;&minus;e&quot;</tt>, or
<tt>&quot;&minus;&minus;exec&quot;</tt> switch:</p>

<pre style="margin-left:11%; margin-top: 1em"> prove &minus;&minus;exec '/usr/bin/ruby &minus;w' t/
 prove &minus;&minus;exec '/usr/bin/perl &minus;Tw &minus;mstrict &minus;Ilib' t/
 prove &minus;&minus;exec '/path/to/my/customer/exec'</pre>



<p style="margin-left:11%; margin-top: 1em"><b>&quot;&minus;&minus;merge&quot;</b>
<br>
If you need to make sure your diagnostics are displayed in
the correct order relative to test results you can use the
<tt>&quot;&minus;&minus;merge&quot;</tt> option to merge the
test scripts&rsquo; <small>STDERR</small> into their
<small>STDOUT.</small></p>

<p style="margin-left:11%; margin-top: 1em">This guarantees
that <small>STDOUT</small> (where the test results appear)
and <small>STDERR</small> (where the diagnostics appear)
will stay in sync. The harness will display any diagnostics
your tests emit on <small>STDERR.</small></p>

<p style="margin-left:11%; margin-top: 1em">Caveat: this is
a bit of a kludge. In particular note that if anything that
appears on <small>STDERR</small> looks like a test result
the test harness will get confused. Use this option only if
you understand the consequences and can live with the
risk.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&quot;&minus;&minus;trap&quot;</b>
<br>
The <tt>&quot;&minus;&minus;trap&quot;</tt> option will
attempt to trap <small>SIGINT</small> (Ctrl-C) during a test
run and display the test summary even if the run is
interrupted</p>


<p style="margin-left:11%; margin-top: 1em"><b>&quot;&minus;&minus;state&quot;</b>
<br>
You can ask <tt>&quot;prove&quot;</tt> to remember the state
of previous test runs and select and/or order the tests to
be run based on that saved state.</p>

<p style="margin-left:11%; margin-top: 1em">The
<tt>&quot;&minus;&minus;state&quot;</tt> switch requires an
argument which must be a comma separated list of one or more
of the following options. <br>
&quot;last&quot;</p>

<p style="margin-left:17%;">Run the same tests as the last
time the state was saved. This makes it possible, for
example, to recreate the ordering of a shuffled test.</p>

<pre style="margin-left:17%; margin-top: 1em">    # Run all tests in random order
    $ prove &minus;b &minus;&minus;state=save &minus;&minus;shuffle
    # Run them again in the same order
    $ prove &minus;b &minus;&minus;state=last</pre>


<p style="margin-left:11%;">&quot;failed&quot;</p>

<p style="margin-left:17%;">Run only the tests that failed
on the last run.</p>

<pre style="margin-left:17%; margin-top: 1em">    # Run all tests
    $ prove &minus;b &minus;&minus;state=save
    # Run failures
    $ prove &minus;b &minus;&minus;state=failed</pre>


<p style="margin-left:17%; margin-top: 1em">If you also
specify the <tt>&quot;save&quot;</tt> option newly passing
tests will be excluded from subsequent runs.</p>

<pre style="margin-left:17%; margin-top: 1em">    # Repeat until no more failures
    $ prove &minus;b &minus;&minus;state=failed,save</pre>


<p style="margin-left:11%;">&quot;passed&quot;</p>

<p style="margin-left:17%;">Run only the passed tests from
last time. Useful to make sure that no new problems have
been introduced.</p>

<p style="margin-left:11%;">&quot;all&quot;</p>

<p style="margin-left:17%;">Run all tests in normal order.
Multple options may be specified, so to run all tests with
the failures from last time first:</p>

<pre style="margin-left:17%; margin-top: 1em">    $ prove &minus;b &minus;&minus;state=failed,all,save</pre>


<p style="margin-left:11%;">&quot;hot&quot;</p>

<p style="margin-left:17%;">Run the tests that most
recently failed first. The last failure time of each test is
stored. The <tt>&quot;hot&quot;</tt> option causes tests to
be run in most&minus;recent&minus; failure order.</p>

<pre style="margin-left:17%; margin-top: 1em">    $ prove &minus;b &minus;&minus;state=hot,save</pre>


<p style="margin-left:17%; margin-top: 1em">Tests that have
never failed will not be selected. To run all tests with the
most recently failed first use</p>

<pre style="margin-left:17%; margin-top: 1em">    $ prove &minus;b &minus;&minus;state=hot,all,save</pre>


<p style="margin-left:17%; margin-top: 1em">This
combination of options may also be specified thus</p>

<pre style="margin-left:17%; margin-top: 1em">    $ prove &minus;b &minus;&minus;state=adrian</pre>


<p style="margin-left:11%;">&quot;todo&quot;</p>

<p style="margin-left:17%;">Run any tests with todos.</p>

<p style="margin-left:11%;">&quot;slow&quot;</p>

<p style="margin-left:17%;">Run the tests in slowest to
fastest order. This is useful in conjunction with the
<tt>&quot;&minus;j&quot;</tt> parallel testing switch to
ensure that your slowest tests start running first.</p>

<pre style="margin-left:17%; margin-top: 1em">    $ prove &minus;b &minus;&minus;state=slow &minus;j9</pre>


<p style="margin-left:11%;">&quot;fast&quot;</p>

<p style="margin-left:17%;">Run test tests in fastest to
slowest order.</p>

<p style="margin-left:11%;">&quot;new&quot;</p>

<p style="margin-left:17%;">Run the tests in newest to
oldest order based on the modification times of the test
scripts.</p>

<p style="margin-left:11%;">&quot;old&quot;</p>

<p style="margin-left:17%;">Run the tests in oldest to
newest order.</p>

<p style="margin-left:11%;">&quot;fresh&quot;</p>

<p style="margin-left:17%;">Run those test scripts that
have been modified since the last test run.</p>

<p style="margin-left:11%;">&quot;save&quot;</p>

<p style="margin-left:17%;">Save the state on exit. The
state is stored in a file called <i>.prove</i>
(<i>_prove</i> on Windows and <small>VMS</small> ) in the
current directory.</p>

<p style="margin-left:11%; margin-top: 1em">The
<tt>&quot;&minus;&minus;state&quot;</tt> switch may be used
more than once.</p>

<pre style="margin-left:11%; margin-top: 1em">    $ prove &minus;b &minus;&minus;state=hot &minus;&minus;state=all,save</pre>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;rules</b>
<br>
The <tt>&quot;&minus;&minus;rules&quot;</tt> option is used
to control which tests are run sequentially and which are
run in parallel, if the
<tt>&quot;&minus;&minus;jobs&quot;</tt> option is specified.
The option may be specified multiple times, and the order
matters.</p>

<p style="margin-left:11%; margin-top: 1em">The most
practical use is likely to specify that some tests are not
&quot;parallel-ready&quot;. Since mentioning a file with
&minus;&minus;rules doens&rsquo;t cause it to selected to
run as a test, you can &quot;set and forget&quot; some rules
preferences in your .proverc file. Then you&rsquo;ll be able
to take maximum advantage of the performance benefits of
parallel testing, while some exceptions are still run in
parallel.</p>


<p style="margin-left:11%; margin-top: 1em"><i>&minus;&minus;rules
examples</i></p>

<pre style="margin-left:11%; margin-top: 1em">    # All tests are allowed to run in parallel, except those starting with &quot;p&quot;
    &minus;&minus;rules='seq=t/p*.t' &minus;&minus;rules='par=**'
    # All tests must run in sequence except those starting with &quot;p&quot;, which should be run parallel
    &minus;&minus;rules='par=t/p*.t'</pre>



<p style="margin-left:11%; margin-top: 1em"><i>&minus;&minus;rules
resolution</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>By default, all tests are eligible to be run in
parallel. Specifying any of your own rules removes this
one.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;First match wins&quot;. The first rule that
matches a test will be the one that applies.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Any test which does not match a rule will be run in
sequence at the end of the run.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The existence of a rule does not imply selecting a test.
You must still specify the tests to run.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Specifying a rule to allow tests to run in parallel does
not make the run in parallel. You still need specify the
number of parallel <tt>&quot;jobs&quot;</tt> in your Harness
object.</p> </td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>&minus;&minus;rules
Glob-style pattern matching</i></p>

<p style="margin-left:11%; margin-top: 1em">We implement
our own glob-style pattern matching for &minus;&minus;rules.
Here are the supported patterns:</p>

<pre style="margin-left:11%; margin-top: 1em">    ** is any number of characters, including /, within a pathname
    * is zero or more characters within a filename/directory name
    ? is exactly one character within a filename/directory name
    {foo,bar,baz} is any of foo, bar or baz.
    \ is an escape character</pre>


<p style="margin-left:11%; margin-top: 1em"><i>More advance
specifications for parallel vs sequence run rules</i></p>

<p style="margin-left:11%; margin-top: 1em">If you need
more advanced management of what runs in parallel vs in
sequence, see the associated &rsquo;rules&rsquo;
documentation in TAP::Harness and TAP::Parser::Scheduler. If
what&rsquo;s possible directly through
<tt>&quot;prove&quot;</tt> is not sufficient, you can write
your own harness to access these features directly.</p>

<p style="margin-left:11%; margin-top: 1em"><b>@INC</b>
<br>
prove introduces a separation between &quot;options passed
to the perl which runs prove&quot; and &quot;options passed
to the perl which runs tests&quot;; this distinction is by
design. Thus the perl which is running a test starts with
the default <tt>@INC</tt>. Additional library directories
can be added via the <tt>&quot;PERL5LIB&quot;</tt>
environment variable, via &minus;Ifoo in
<tt>&quot;PERL5OPT&quot;</tt> or via the
<tt>&quot;&minus;Ilib&quot;</tt> option to <i>prove</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Taint
Mode</b> <br>
Normally when a Perl program is run in taint mode the
contents of the <tt>&quot;PERL5LIB&quot;</tt> environment
variable do not appear in <tt>@INC</tt>.</p>

<p style="margin-left:11%; margin-top: 1em">Because
<tt>&quot;PERL5LIB&quot;</tt> is often used during testing
to add build directories to <tt>@INC</tt> prove passes the
names of any directories found in
<tt>&quot;PERL5LIB&quot;</tt> as &minus;I switches. The net
effect of this is that <tt>&quot;PERL5LIB&quot;</tt> is
honoured even when prove is run in taint mode.</p>

<h2>FORMATTERS
<a name="FORMATTERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">You can load a
custom TAP::Parser::Formatter:</p>

<pre style="margin-left:11%; margin-top: 1em">  prove &minus;&minus;formatter MyFormatter</pre>


<h2>SOURCE HANDLERS
<a name="SOURCE HANDLERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">You can load
custom TAP::Parser::SourceHandlers, to change the way the
parser interprets particular <i>sources</i> of
<small>TAP.</small></p>

<pre style="margin-left:11%; margin-top: 1em">  prove &minus;&minus;source MyHandler &minus;&minus;source YetAnother t</pre>


<p style="margin-left:11%; margin-top: 1em">If you want to
provide config to the source you can use:</p>

<pre style="margin-left:11%; margin-top: 1em">  prove &minus;&minus;source MyCustom \
        &minus;&minus;source Perl &minus;&minus;perl&minus;option 'foo=bar baz' &minus;&minus;perl&minus;option avg=0.278 \
        &minus;&minus;source File &minus;&minus;file&minus;option extensions=.txt &minus;&minus;file&minus;option extensions=.tmp t
        &minus;&minus;source pgTAP &minus;&minus;pgtap&minus;option pset=format=html &minus;&minus;pgtap&minus;option pset=border=2</pre>


<p style="margin-left:11%; margin-top: 1em">Each
<tt>&quot;&minus;&minus;$source&minus;option&quot;</tt>
option must specify a key/value pair separated by an
<tt>&quot;=&quot;</tt>. If an option can take multiple
values, just specify it multiple times, as with the
<tt>&quot;extensions=&quot;</tt> examples above. If the
option should be a hash reference, specify the value as a
second pair separated by a <tt>&quot;=&quot;</tt>, as in the
<tt>&quot;pset=&quot;</tt> examples above (escape
<tt>&quot;=&quot;</tt> with a backslash).</p>

<p style="margin-left:11%; margin-top: 1em">All
<tt>&quot;&minus;&minus;sources&quot;</tt> are combined into
a hash, and passed to &quot;new&quot; in
TAP::Harness&rsquo;s <tt>&quot;sources&quot;</tt>
parameter.</p>

<p style="margin-left:11%; margin-top: 1em">See
TAP::Parser::IteratorFactory for more details on how
configuration is passed to <i>SourceHandlers</i>.</p>

<h2>PLUGINS
<a name="PLUGINS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Plugins can be
loaded using the
<tt>&quot;&minus;P</tt><i>plugin</i><tt>&quot;</tt> syntax,
eg:</p>

<pre style="margin-left:11%; margin-top: 1em">  prove &minus;PMyPlugin</pre>


<p style="margin-left:11%; margin-top: 1em">This will
search for a module named
<tt>&quot;App::Prove::Plugin::MyPlugin&quot;</tt>, or
failing that, <tt>&quot;MyPlugin&quot;</tt>. If the plugin
can&rsquo;t be found, <tt>&quot;prove&quot;</tt> will
complain &amp; exit.</p>

<p style="margin-left:11%; margin-top: 1em">You can pass
arguments to your plugin by appending
<tt>&quot;=arg1,arg2,etc&quot;</tt> to the plugin name:</p>

<pre style="margin-left:11%; margin-top: 1em">  prove &minus;PMyPlugin=fou,du,fafa</pre>


<p style="margin-left:11%; margin-top: 1em">Please check
individual plugin documentation for more details.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Available
Plugins</b> <br>
For an up-to-date list of plugins available, please check
<small>CPAN:</small></p>


<p style="margin-left:11%; margin-top: 1em">&lt;http://search.cpan.org/search?query=App%3A%3AProve+Plugin&gt;</p>

<p style="margin-left:11%; margin-top: 1em"><b>Writing
Plugins</b> <br>
Please see &quot; <small>PLUGINS&quot;</small> in
App::Prove.</p>

<h2>POD ERRORS
<a name="POD ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Hey! <b>The
above document had some coding errors, which are explained
below:</b> <br>
Around line 291:</p>

<p style="margin-left:17%;">Unknown directive: =over4</p>

<p style="margin-left:11%;">Around line 293:</p>

<p style="margin-left:17%;">&rsquo;=item&rsquo; outside of
any &rsquo;=over&rsquo;</p>
<hr>
</body>
</html>
