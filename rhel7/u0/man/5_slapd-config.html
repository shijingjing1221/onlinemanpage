<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 02:22:45 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SLAPD-CONFIG</title>

</head>
<body>

<h1 align="center">SLAPD-CONFIG</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#GLOBAL CONFIGURATION OPTIONS">GLOBAL CONFIGURATION OPTIONS</a><br>
<a href="#TLS OPTIONS">TLS OPTIONS</a><br>
<a href="#DYNAMIC MODULE OPTIONS">DYNAMIC MODULE OPTIONS</a><br>
<a href="#SCHEMA OPTIONS">SCHEMA OPTIONS</a><br>
<a href="#GENERAL BACKEND OPTIONS">GENERAL BACKEND OPTIONS</a><br>
<a href="#DATABASE OPTIONS">DATABASE OPTIONS</a><br>
<a href="#GLOBAL DATABASE OPTIONS">GLOBAL DATABASE OPTIONS</a><br>
<a href="#GENERAL DATABASE OPTIONS">GENERAL DATABASE OPTIONS</a><br>
<a href="#DATABASE-SPECIFIC OPTIONS">DATABASE-SPECIFIC OPTIONS</a><br>
<a href="#OVERLAYS">OVERLAYS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#FILES">FILES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#ACKNOWLEDGEMENTS">ACKNOWLEDGEMENTS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">slapd&minus;config
&minus; configuration backend to slapd</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">/etc/openldap/slapd.d</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>config</b> backend manages all of the configuration
information for the <b>slapd</b>(8) daemon. This
configuration information is also used by the SLAPD tools
<b>slapacl</b>(8), <b>slapadd</b>(8), <b>slapauth</b>(8),
<b>slapcat</b>(8), <b>slapdn</b>(8), <b>slapindex</b>(8),
and <b>slaptest</b>(8).</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>config</b> backend is backward compatible with the older
<b>slapd.conf</b>(5) file but provides the ability to change
the configuration dynamically at runtime. If slapd is run
with only a <b>slapd.conf</b> file dynamic changes will be
allowed but they will not persist across a server restart.
Dynamic changes are only saved when slapd is running from a
<b>slapd.d</b> configuration directory.</p>

<p style="margin-left:11%; margin-top: 1em">Unlike other
backends, there can only be one instance of the
<b>config</b> backend, and most of its structure is
predefined. The root of the database is hardcoded to
<b>cn=config</b> and this root entry contains global
settings for slapd. Multiple child entries underneath the
root entry are used to carry various other settings:</p>

<p style="margin-left:22%;"><b>cn=Module</b></p>

<p style="margin-left:32%;">dynamically loaded modules</p>

<p style="margin-left:22%;"><b>cn=Schema</b></p>

<p style="margin-left:32%;">schema definitions</p>

<p style="margin-left:22%;"><b>olcBackend=xxx</b></p>

<p style="margin-left:32%;">backend-specific settings</p>

<p style="margin-left:22%;"><b>olcDatabase=xxx</b></p>

<p style="margin-left:32%;">database-specific settings</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>cn=Module</b> entries will only appear in configurations
where slapd was built with support for dynamically loaded
modules. There can be multiple entries, one for each
configured module path. Within each entry there will be
values recorded for each module loaded on a given path.
These entries have no children.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>cn=Schema</b> entry contains all of the hardcoded schema
elements. The children of this entry contain all
user-defined schema elements. In schema that were loaded
from include files, the child entry will be named after the
include file from which the schema was loaded. Typically the
first child in this subtree will be
<b>cn=core,cn=schema,cn=config</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>olcBackend</b>
entries are for storing settings specific to a single
backend type (and thus global to all database instances of
that type). At present there are no backends that implement
settings of this nature, so usually there will not be any
olcBackend entries.</p>


<p style="margin-left:11%; margin-top: 1em"><b>olcDatabase</b>
entries store settings specific to a single database
instance. These entries may have <b>olcOverlay</b> child
entries corresponding to any overlays configured on the
database. The olcDatabase and olcOverlay entries may also
have miscellaneous child entries for other settings as
needed. There are two special database entries that are
predefined - one is an entry for the config database itself,
and the other is for the &quot;frontend&quot; database.
Settings in the frontend database are inherited by the other
databases, unless they are explicitly overridden in a
specific database.</p>

<p style="margin-left:11%; margin-top: 1em">The specific
configuration options available are discussed below in the
Global Configuration Options, General Backend Options, and
General Database Options. Options are set by defining LDAP
attributes with specific values. In general the names of the
LDAP attributes are the same as the corresponding
<b>slapd.conf</b> keyword, with an &quot;olc&quot; prefix
added on.</p>

<p style="margin-left:11%; margin-top: 1em">The parser for
many of these attributes is the same as used for parsing the
slapd.conf keywords. As such, slapd.conf keywords that allow
multiple items to be specified on one line, separated by
whitespace, will allow multiple items to be specified in one
attribute value. However, when reading the attribute via
LDAP, the items will be returned as individual attribute
values.</p>


<p style="margin-left:11%; margin-top: 1em">Backend-specific
options are discussed in the
<b>slapd&minus;&lt;backend&gt;(5)</b> manual pages. Refer to
the &quot;OpenLDAP Administrator&rsquo;s Guide&quot; for
more details on configuring slapd.</p>

<h2>GLOBAL CONFIGURATION OPTIONS
<a name="GLOBAL CONFIGURATION OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Options
described in this section apply to the server as a whole.
Arguments that should be replaced by actual text are shown
in brackets &lt;&gt;.</p>

<p style="margin-left:11%; margin-top: 1em">These options
may only be specified in the <b>cn=config</b> entry. This
entry must have an objectClass of <b>olcGlobal</b>. <b><br>
olcAllows: &lt;features&gt;</b></p>

<p style="margin-left:22%;">Specify a set of features to
allow (default none). <b>bind_v2</b> allows acceptance of
LDAPv2 bind requests. Note that <b>slapd</b>(8) does not
truly implement LDAPv2 (RFC 1777), now Historic (RFC 3494).
<b>bind_anon_cred</b> allows anonymous bind when credentials
are not empty (e.g. when DN is empty). <b>bind_anon_dn</b>
allows unauthenticated (anonymous) bind when DN is not
empty. <b>update_anon</b> allows unauthenticated (anonymous)
update operations to be processed (subject to access
controls and other administrative limits).
<b>proxy_authz_anon</b> allows unauthenticated (anonymous)
proxy authorization control to be processed (subject to
access controls, authorization and other administrative
limits).</p>

<p style="margin-left:11%;"><b>olcArgsFile:
&lt;filename&gt;</b></p>

<p style="margin-left:22%;">The (absolute) name of a file
that will hold the <b>slapd</b> server&rsquo;s command line
(program name and options).</p>

<p style="margin-left:11%;"><b>olcAttributeOptions:
&lt;option-name&gt;...</b></p>

<p style="margin-left:22%;">Define tagging attribute
options or option tag/range prefixes. Options must not end
with &lsquo;&minus;&rsquo;, prefixes must end with
&lsquo;&minus;&rsquo;. The &lsquo;lang&minus;&rsquo; prefix
is predefined. If you use the <b>olcAttributeOptions</b>
directive, &lsquo;lang&minus;&rsquo; will no longer be
defined and you must specify it explicitly if you want it
defined.</p>

<p style="margin-left:22%; margin-top: 1em">An attribute
description with a tagging option is a subtype of that
attribute description without the option. Except for that,
options defined this way have no special semantics. Prefixes
defined this way work like the &lsquo;lang&minus;&rsquo;
options: They define a prefix for tagging options starting
with the prefix. That is, if you define the prefix
&lsquo;x&minus;foo&minus;&rsquo;, you can use the option
&lsquo;x&minus;foo&minus;bar&rsquo;. Furthermore, in a
search or compare, a prefix or range name (with a trailing
&lsquo;&minus;&rsquo;) matches all options starting with
that name, as well as the option with the range name sans
the trailing &lsquo;&minus;&rsquo;. That is,
&lsquo;x&minus;foo&minus;bar&minus;&rsquo; matches
&lsquo;x&minus;foo&minus;bar&rsquo; and
&lsquo;x&minus;foo&minus;bar&minus;baz&rsquo;.</p>

<p style="margin-left:22%; margin-top: 1em">RFC 4520
reserves options beginning with &lsquo;x&minus;&rsquo; for
private experiments. Other options should be registered with
IANA, see RFC 4520 section 3.5. OpenLDAP also has the
&lsquo;binary&rsquo; option built in, but this is a transfer
option, not a tagging option.</p>

<p style="margin-left:11%;"><b>olcAuthIDRewrite:
&lt;rewrite&minus;rule&gt;</b></p>

<p style="margin-left:22%;">Used by the authentication
framework to convert simple user names to an LDAP DN used
for authorization purposes. Its purpose is analogous to that
of <b>olcAuthzRegexp</b> (see below). The
<b>rewrite&minus;rule</b> is a set of rules analogous to
those described in <b>slapo&minus;rwm</b>(5) for data
rewriting (after stripping the <i>rwm&minus;</i> prefix).
<b>olcAuthIDRewrite</b> and <b>olcAuthzRegexp</b> should not
be intermixed.</p>

<p style="margin-left:11%;"><b>olcAuthzPolicy:
&lt;policy&gt;</b></p>

<p style="margin-left:22%;">Used to specify which rules to
use for Proxy Authorization. Proxy authorization allows a
client to authenticate to the server using one user&rsquo;s
credentials, but specify a different identity to use for
authorization and access control purposes. It essentially
allows user A to login as user B, using user A&rsquo;s
password. The <b>none</b> flag disables proxy authorization.
This is the default setting. The <b>from</b> flag will use
rules in the <i>authzFrom</i> attribute of the authorization
DN. The <b>to</b> flag will use rules in the <i>authzTo</i>
attribute of the authentication DN. The <b>any</b> flag, an
alias for the deprecated value of <b>both</b>, will allow
any of the above, whatever succeeds first (checked in
<b>to</b>, <b>from</b> sequence. The <b>all</b> flag
requires both authorizations to succeed.</p>

<p style="margin-left:22%; margin-top: 1em">The rules are
mechanisms to specify which identities are allowed to
perform proxy authorization. The <i>authzFrom</i> attribute
in an entry specifies which other users are allowed to proxy
login to this entry. The <i>authzTo</i> attribute in an
entry specifies which other users this user can authorize
as. Use of <i>authzTo</i> rules can be easily abused if
users are allowed to write arbitrary values to this
attribute. In general the <i>authzTo</i> attribute must be
protected with ACLs such that only privileged users can
modify it. The value of <i>authzFrom</i> and <i>authzTo</i>
describes an <b>identity</b> or a set of identities; it can
take five forms:</p>


<p style="margin-left:32%;"><b>ldap:///&lt;base&gt;??[&lt;scope&gt;]?&lt;filter&gt;
<br>
dn[.&lt;dnstyle&gt;]:&lt;pattern&gt; <br>
u[&lt;mech&gt;[&lt;realm&gt;]]:&lt;pattern&gt; <br>
group[/objectClass[/attributeType]]:&lt;pattern&gt; <br>
&lt;pattern&gt;</b></p>


<p style="margin-left:32%; margin-top: 1em"><b>&lt;dnstyle&gt;:={exact|onelevel|children|subtree|regex}</b></p>

<p style="margin-left:22%; margin-top: 1em">The first form
is a valid LDAP <b>URI</b> where the
<i>&lt;host&gt;:&lt;port&gt;</i>, the <i>&lt;attrs&gt;</i>
and the <i>&lt;extensions&gt;</i> portions must be absent,
so that the search occurs locally on either <i>authzFrom</i>
or <i>authzTo</i>. The second form is a <b>DN</b>, with the
optional style modifiers <i>exact</i>, <i>onelevel</i>,
<i>children</i>, and <i>subtree</i> for exact, onelevel,
children and subtree matches, which cause
<i>&lt;pattern&gt;</i> to be normalized according to the DN
normalization rules, or the special <i>regex</i> style,
which causes the <i>&lt;pattern&gt;</i> to be treated as a
POSIX (&rsquo;&rsquo;extended&rsquo;&rsquo;) regular
expression, as discussed in <b>regex</b>(7) and/or
<b>re_format</b>(7). A pattern of <i>*</i> means any
non-anonymous DN. The third form is a SASL <b>id</b>, with
the optional fields <i>&lt;mech&gt;</i> and
<i>&lt;realm&gt;</i> that allow to specify a SASL
<b>mechanism</b>, and eventually a SASL <b>realm</b>, for
those mechanisms that support one. The need to allow the
specification of a mechanism is still debated, and users are
strongly discouraged to rely on this possibility. The fourth
form is a group specification, consisting of the keyword
<b>group</b>, optionally followed by the specification of
the group <b>objectClass</b> and member
<b>attributeType</b>. The group with DN
<b>&lt;pattern&gt;</b> is searched with base scope, and in
case of match, the values of the member <b>attributeType</b>
are searched for the asserted DN. For backwards
compatibility, if no identity type is provided, i.e. only
<b>&lt;pattern&gt;</b> is present, an <i>exact DN</i> is
assumed; as a consequence, <b>&lt;pattern&gt;</b> is
subjected to DN normalization. Since the interpretation of
<i>authzFrom</i> and <i>authzTo</i> can impact security,
users are strongly encouraged to explicitly set the type of
identity specification that is being used. A subset of these
rules can be used as third arg in the <b>olcAuthzRegexp</b>
statement (see below); significantly, the <i>URI</i> and the
<i>dn.exact:&lt;dn&gt;</i> forms.</p>

<p style="margin-left:11%;"><b>olcAuthzRegexp:
&lt;match&gt; &lt;replace&gt;</b></p>

<p style="margin-left:22%;">Used by the authentication
framework to convert simple user names, such as provided by
SASL subsystem, to an LDAP DN used for authorization
purposes. Note that the resultant DN need not refer to an
existing entry to be considered valid. When an authorization
request is received from the SASL subsystem, the SASL
<b>USERNAME</b>, <b>REALM</b>, and <b>MECHANISM</b> are
taken, when available, and combined into a name of the
form</p>


<p style="margin-left:32%;"><b>UID=&lt;username&gt;[[,CN=&lt;realm&gt;],CN=&lt;mechanism&gt;],CN=auth</b></p>

<p style="margin-left:22%; margin-top: 1em">This name is
then compared against the <b>match</b> POSIX
(&rsquo;&rsquo;extended&rsquo;&rsquo;) regular expression,
and if the match is successful, the name is replaced with
the <b>replace</b> string. If there are wildcard strings in
the <b>match</b> regular expression that are enclosed in
parenthesis, e.g.</p>

<p style="margin-left:32%;"><b>UID=([^,]*),CN=.*</b></p>

<p style="margin-left:22%; margin-top: 1em">then the
portion of the name that matched the wildcard will be stored
in the numbered placeholder variable $1. If there are other
wildcard strings in parenthesis, the matching strings will
be in $2, $3, etc. up to $9. The placeholders can then be
used in the <b>replace</b> string, e.g.</p>


<p style="margin-left:32%;"><b>UID=$1,OU=Accounts,DC=example,DC=com</b></p>

<p style="margin-left:22%; margin-top: 1em">The replaced
name can be either a DN, i.e. a string prefixed by
&quot;dn:&quot;, or an LDAP URI. If the latter, the server
will use the URI to search its own database(s) and, if the
search returns exactly one entry, the name is replaced by
the DN of that entry. The LDAP URI must have no hostport,
attrs, or extensions components, but the filter is
mandatory, e.g.</p>


<p style="margin-left:32%;"><b>ldap:///OU=Accounts,DC=example,DC=com??one?(UID=$1)</b></p>

<p style="margin-left:22%; margin-top: 1em">The protocol
portion of the URI must be strictly <b>ldap</b>. Note that
this search is subject to access controls. Specifically, the
authentication identity must have &quot;auth&quot; access in
the subject.</p>

<p style="margin-left:22%; margin-top: 1em">Multiple
<b>olcAuthzRegexp</b> values can be specified to allow for
multiple matching and replacement patterns. The matching
patterns are checked in the order they appear in the
attribute, stopping at the first successful match.</p>

<p style="margin-left:11%;"><b>olcConcurrency:
&lt;integer&gt;</b></p>

<p style="margin-left:22%;">Specify a desired level of
concurrency. Provided to the underlying thread system as a
hint. The default is not to provide any hint. This setting
is only meaningful on some platforms where there is not a
one to one correspondence between user threads and kernel
threads.</p>

<p style="margin-left:11%;"><b>olcConnMaxPending:
&lt;integer&gt;</b></p>

<p style="margin-left:22%;">Specify the maximum number of
pending requests for an anonymous session. If requests are
submitted faster than the server can process them, they will
be queued up to this limit. If the limit is exceeded, the
session is closed. The default is 100.</p>

<p style="margin-left:11%;"><b>olcConnMaxPendingAuth:
&lt;integer&gt;</b></p>

<p style="margin-left:22%;">Specify the maximum number of
pending requests for an authenticated session. The default
is 1000.</p>

<p style="margin-left:11%;"><b>olcDisallows:
&lt;features&gt;</b></p>

<p style="margin-left:22%;">Specify a set of features to
disallow (default none). <b>bind_anon</b> disables
acceptance of anonymous bind requests. Note that this
setting does not prohibit anonymous directory access (See
&quot;require authc&quot;). <b>bind_simple</b> disables
simple (bind) authentication. <b>tls_2_anon</b> disables
forcing session to anonymous status (see also
<b>tls_authc</b>) upon StartTLS operation receipt.
<b>tls_authc</b> disallows the StartTLS operation if
authenticated (see also <b>tls_2_anon</b>).</p>

<p style="margin-left:11%;"><b>olcGentleHUP: { TRUE | FALSE
}</b></p>

<p style="margin-left:22%;">A SIGHUP signal will only cause
a &rsquo;gentle&rsquo; shutdown-attempt: <b>Slapd</b> will
stop listening for new connections, but will not close the
connections to the current clients. Future write operations
return unwilling-to-perform, though. Slapd terminates when
all clients have closed their connections (if they ever do),
or - as before - if it receives a SIGTERM signal. This can
be useful if you wish to terminate the server and start a
new <b>slapd</b> server <b>with another database,</b>
without disrupting the currently active clients. The default
is FALSE. You may wish to use <b>olcIdleTimeout</b> along
with this option.</p>

<p style="margin-left:11%;"><b>olcIdleTimeout:
&lt;integer&gt;</b></p>

<p style="margin-left:22%;">Specify the number of seconds
to wait before forcibly closing an idle client connection. A
setting of 0 disables this feature. The default is 0. You
may also want to set the <b>olcWriteTimeout</b> option.</p>

<p style="margin-left:11%;"><b>olcIndexIntLen:
&lt;integer&gt;</b></p>

<p style="margin-left:22%;">Specify the key length for
ordered integer indices. The most significant bytes of the
binary integer will be used for index keys. The default
value is 4, which provides exact indexing for 31 bit values.
A floating point representation is used to index too large
values.</p>

<p style="margin-left:11%;"><b>olcIndexSubstrIfMaxlen:
&lt;integer&gt;</b></p>

<p style="margin-left:22%;">Specify the maximum length for
subinitial and subfinal indices. Only this many characters
of an attribute value will be processed by the indexing
functions; any excess characters are ignored. The default is
4.</p>

<p style="margin-left:11%;"><b>olcIndexSubstrIfMinlen:
&lt;integer&gt;</b></p>

<p style="margin-left:22%;">Specify the minimum length for
subinitial and subfinal indices. An attribute value must
have at least this many characters in order to be processed
by the indexing functions. The default is 2.</p>

<p style="margin-left:11%;"><b>olcIndexSubstrAnyLen:
&lt;integer&gt;</b></p>

<p style="margin-left:22%;">Specify the length used for
subany indices. An attribute value must have at least this
many characters in order to be processed. Attribute values
longer than this length will be processed in segments of
this length. The default is 4. The subany index will also be
used in subinitial and subfinal index lookups when the
filter string is longer than the
<i>olcIndexSubstrIfMaxlen</i> value.</p>

<p style="margin-left:11%;"><b>olcIndexSubstrAnyStep:
&lt;integer&gt;</b></p>

<p style="margin-left:22%;">Specify the steps used in
subany index lookups. This value sets the offset for the
segments of a filter string that are processed for a subany
index lookup. The default is 2. For example, with the
default values, a search using this filter
&quot;cn=*abcdefgh*&quot; would generate index lookups for
&quot;abcd&quot;, &quot;cdef&quot;, and
&quot;efgh&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Note: Indexing
support depends on the particular backend in use. Also,
changing these settings will generally require deleting any
indices that depend on these parameters and recreating them
with <b>slapindex</b>(8). <b><br>
olcListenerThreads: &lt;integer&gt;</b></p>

<p style="margin-left:22%;">Specify the number of threads
to use for the connection manager. The default is 1 and this
is typically adequate for up to 16 CPU cores. The value
should be set to a power of 2.</p>

<p style="margin-left:11%;"><b>olcLocalSSF:
&lt;SSF&gt;</b></p>

<p style="margin-left:22%;">Specifies the Security Strength
Factor (SSF) to be given local LDAP sessions, such as those
to the ldapi:// listener. For a description of SSF values,
see <b>olcSaslSecProps</b>&rsquo;s <b>minssf</b> option
description. The default is 71.</p>

<p style="margin-left:11%;"><b>olcLogFile:
&lt;filename&gt;</b></p>

<p style="margin-left:22%;">Specify a file for recording
debug log messages. By default these messages only go to
stderr and are not recorded anywhere else. Specifying a
logfile copies messages to both stderr and the logfile.</p>

<p style="margin-left:11%;"><b>olcLogLevel: &lt;integer&gt;
[...]</b></p>

<p style="margin-left:22%;">Specify the level at which
debugging statements and operation statistics should be
syslogged (currently logged to the <b>syslogd</b>(8)
LOG_LOCAL4 facility). They must be considered subsystems
rather than increasingly verbose log levels. Some messages
with higher priority are logged regardless of the configured
loglevel as soon as any logging is configured. Log levels
are additive, and available levels are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="8%">


<p><b>1</b></p></td>
<td width="3%"></td>
<td width="57%">


<p><b>(0x1 trace)</b> trace function calls</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="8%">


<p><b>2</b></p></td>
<td width="3%"></td>
<td width="57%">


<p><b>(0x2 packets)</b> debug packet handling</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="8%">


<p><b>4</b></p></td>
<td width="3%"></td>
<td width="57%">


<p><b>(0x4 args)</b> heavy trace debugging (function
args)</p> </td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="8%">


<p><b>8</b></p></td>
<td width="3%"></td>
<td width="57%">


<p><b>(0x8 conns)</b> connection management</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="8%">


<p><b>16</b></p></td>
<td width="3%"></td>
<td width="57%">


<p><b>(0x10 BER)</b> print out packets sent and
received</p> </td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="8%">


<p><b>32</b></p></td>
<td width="3%"></td>
<td width="57%">


<p><b>(0x20 filter)</b> search filter processing</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="8%">


<p><b>64</b></p></td>
<td width="3%"></td>
<td width="57%">


<p><b>(0x40 config)</b> configuration file processing</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="8%">


<p><b>128</b></p></td>
<td width="3%"></td>
<td width="57%">


<p><b>(0x80 ACL)</b> access control list processing</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="8%">


<p><b>256</b></p></td>
<td width="3%"></td>
<td width="57%">


<p><b>(0x100 stats)</b> stats log
connections/operations/results</p> </td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="8%">


<p><b>512</b></p></td>
<td width="3%"></td>
<td width="57%">


<p><b>(0x200 stats2)</b> stats log entries sent</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="8%">


<p><b>1024</b></p></td>
<td width="3%"></td>
<td width="57%">


<p><b>(0x400 shell)</b> print communication with shell
backends</p> </td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="8%">


<p><b>2048</b></p></td>
<td width="3%"></td>
<td width="57%">


<p><b>(0x800 parse)</b> entry parsing</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="8%">


<p><b>16384</b></p></td>
<td width="3%"></td>
<td width="57%">


<p><b>(0x4000 sync)</b> LDAPSync replication</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="8%">


<p><b>32768</b></p></td>
<td width="3%"></td>
<td width="57%">


<p><b>(0x8000 none)</b> only messages that get logged
whatever log level is set</p></td></tr>
</table>

<p style="margin-left:22%;">The desired log level can be
input as a single integer that combines the (ORed) desired
levels, both in decimal or in hexadecimal notation, as a
list of integers (that are ORed internally), or as a list of
the names that are shown between brackets, such that</p>

<p style="margin-left:22%; margin-top: 1em">olcLogLevel:
129 <br>
olcLogLevel: 0x81 <br>
olcLogLevel: 128 1 <br>
olcLogLevel: 0x80 0x1 <br>
olcLogLevel: acl trace</p>

<p style="margin-left:22%; margin-top: 1em">are equivalent.
The keyword <b>any</b> can be used as a shortcut to enable
logging at all levels (equivalent to &minus;1). The keyword
<b>none</b>, or the equivalent integer representation,
causes those messages that are logged regardless of the
configured olcLogLevel to be logged. In fact, if no
olcLogLevel (or a 0 level) is defined, no logging occurs, so
at least the <b>none</b> level is required to have high
priority messages logged.</p>

<p style="margin-left:11%;"><b>olcPasswordCryptSaltFormat:
&lt;format&gt;</b></p>

<p style="margin-left:22%;">Specify the format of the salt
passed to <b>crypt</b>(3) when generating {CRYPT} passwords
(see <b>olcPasswordHash</b>) during processing of LDAP
Password Modify Extended Operations (RFC 3062).</p>

<p style="margin-left:22%; margin-top: 1em">This string
needs to be in <b>sprintf</b>(3) format and may include one
(and only one) %s conversion. This conversion will be
substituted with a string of random characters from
[A&minus;Za&minus;z0&minus;9./]. For example,
&quot;%.2s&quot; provides a two character salt and
&quot;$1$%.8s&quot; tells some versions of crypt(3) to use
an MD5 algorithm and provides 8 random characters of salt.
The default is &quot;%s&quot;, which provides 31 characters
of salt.</p>

<p style="margin-left:11%;"><b>olcPidFile:
&lt;filename&gt;</b></p>

<p style="margin-left:22%;">The (absolute) name of a file
that will hold the <b>slapd</b> server&rsquo;s process ID
(see <b>getpid</b>(2)).</p>

<p style="margin-left:11%;"><b>olcPluginLogFile:
&lt;filename&gt;</b></p>

<p style="margin-left:22%;">The ( absolute ) name of a file
that will contain log messages from <b>SLAPI</b> plugins.
See <b>slapd.plugin</b>(5) for details.</p>

<p style="margin-left:11%;"><b>olcReferral:
&lt;url&gt;</b></p>

<p style="margin-left:22%;">Specify the referral to pass
back when <b>slapd</b>(8) cannot find a local database to
handle a request. If multiple values are specified, each url
is provided.</p>

<p style="margin-left:11%;"><b>olcReverseLookup: TRUE |
FALSE</b></p>

<p style="margin-left:22%;">Enable/disable client name
unverified reverse lookup (default is <b>FALSE</b> if
compiled with &minus;&minus;enable&minus;rlookups).</p>

<p style="margin-left:11%;"><b>olcRootDSE:
&lt;file&gt;</b></p>

<p style="margin-left:22%;">Specify the name of an LDIF(5)
file containing user defined attributes for the root DSE.
These attributes are returned in addition to the attributes
normally produced by slapd.</p>

<p style="margin-left:22%; margin-top: 1em">The root DSE is
an entry with information about the server and its
capabilities, in operational attributes. It has the empty
DN, and can be read with e.g.: <br>
ldapsearch &minus;x &minus;b &quot;&quot; &minus;s base
&quot;+&quot; <br>
See RFC 4512 section 5.1 for details.</p>

<p style="margin-left:11%;"><b>olcSaslAuxprops:
&lt;plugin&gt; [...]</b></p>

<p style="margin-left:22%;">Specify which auxprop plugins
to use for authentication lookups. The default is empty,
which just uses slapd&rsquo;s internal support. Usually no
other auxprop plugins are needed.</p>

<p style="margin-left:11%;"><b>olcSaslHost:
&lt;fqdn&gt;</b></p>

<p style="margin-left:22%;">Used to specify the fully
qualified domain name used for SASL processing.</p>

<p style="margin-left:11%;"><b>olcSaslRealm:
&lt;realm&gt;</b></p>

<p style="margin-left:22%;">Specify SASL realm. Default is
empty.</p>

<p style="margin-left:11%;"><b>olcSaslSecProps:
&lt;properties&gt;</b></p>

<p style="margin-left:22%;">Used to specify Cyrus SASL
security properties. The <b>none</b> flag (without any other
properties) causes the flag properties default,
&quot;noanonymous,noplain&quot;, to be cleared. The
<b>noplain</b> flag disables mechanisms susceptible to
simple passive attacks. The <b>noactive</b> flag disables
mechanisms susceptible to active attacks. The <b>nodict</b>
flag disables mechanisms susceptible to passive dictionary
attacks. The <b>noanonymous</b> flag disables mechanisms
which support anonymous login. The <b>forwardsec</b> flag
require forward secrecy between sessions. The
<b>passcred</b> require mechanisms which pass client
credentials (and allow mechanisms which can pass credentials
to do so). The <b>minssf=&lt;factor&gt;</b> property
specifies the minimum acceptable <i>security strength
factor</i> as an integer approximate to effective key length
used for encryption. 0 (zero) implies no protection, 1
implies integrity protection only, 56 allows DES or other
weak ciphers, 112 allows triple DES and other strong
ciphers, 128 allows RC4, Blowfish and other modern strong
ciphers. The default is 0. The <b>maxssf=&lt;factor&gt;</b>
property specifies the maximum acceptable <i>security
strength factor</i> as an integer (see minssf description).
The default is INT_MAX. The <b>maxbufsize=&lt;size&gt;</b>
property specifies the maximum security layer receive buffer
size allowed. 0 disables security layers. The default is
65536.</p>

<p style="margin-left:11%;"><b>olcServerID: &lt;integer&gt;
[&lt;URL&gt;]</b></p>

<p style="margin-left:22%;">Specify an integer ID from 0 to
4095 for this server (limited to 3 hexadecimal digits). The
ID may also be specified as a hexadecimal ID by prefixing
the value with &quot;0x&quot;. These IDs are required when
using multimaster replication and each master must have a
unique ID. Note that this requirement also applies to
separate masters contributing to a glued set of databases.
If the URL is provided, this directive may be specified
multiple times, providing a complete list of participating
servers and their IDs. The fully qualified hostname of each
server should be used in the supplied URLs. The IDs are used
in the &quot;replica id&quot; field of all CSNs generated by
the specified server. The default value is zero.
Example:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>olcServerID: 1 ldap://ldap1.example.com</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>olcServerID: 2 ldap://ldap2.example.com</p></td></tr>
</table>

<p style="margin-left:11%;"><b>olcSockbufMaxIncoming:
&lt;integer&gt;</b></p>

<p style="margin-left:22%;">Specify the maximum incoming
LDAP PDU size for anonymous sessions. The default is
262143.</p>

<p style="margin-left:11%;"><b>olcSockbufMaxIncomingAuth:
&lt;integer&gt;</b></p>

<p style="margin-left:22%;">Specify the maximum incoming
LDAP PDU size for authenticated sessions. The default is
4194303.</p>

<p style="margin-left:11%;"><b>olcTCPBuffer
[listener=&lt;URL&gt;] [{read|write}=]&lt;size&gt;</b></p>

<p style="margin-left:22%;">Specify the size of the TCP
buffer. A global value for both read and write TCP buffers
related to any listener is defined, unless the listener is
explicitly specified, or either the read or write qualifiers
are used. See <b>tcp</b>(7) for details. Note that some
OS-es implement automatic TCP buffer tuning.</p>

<p style="margin-left:11%;"><b>olcThreads:
&lt;integer&gt;</b></p>

<p style="margin-left:22%;">Specify the maximum size of the
primary thread pool. The default is 16; the minimum value is
2.</p>

<p style="margin-left:11%;"><b>olcToolThreads:
&lt;integer&gt;</b></p>

<p style="margin-left:22%;">Specify the maximum number of
threads to use in tool mode. This should not be greater than
the number of CPUs in the system. The default is 1.</p>

<p style="margin-left:11%;"><b>olcWriteTimeout:
&lt;integer&gt;</b></p>

<p style="margin-left:22%;">Specify the number of seconds
to wait before forcibly closing a connection with an
outstanding write. This allows recovery from various network
hang conditions. A setting of 0 disables this feature. The
default is 0.</p>

<h2>TLS OPTIONS
<a name="TLS OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If <b>slapd</b>
is built with support for Transport Layer Security, there
are more options you can specify. <b><br>
olcTLSCipherSuite: &lt;cipher-suite-spec&gt;</b></p>

<p style="margin-left:22%;">Permits configuring what
ciphers will be accepted and the preference order.
&lt;cipher-suite-spec&gt; should be a cipher specification
for the TLS library in use (OpenSSL, GnuTLS, or Mozilla
NSS). Example:</p>

<p style="margin-left:32%;"><i>OpenSSL:</i></p>

<p style="margin-left:43%;">olcTLSCipherSuite:
HIGH:MEDIUM:+SSLv2</p>

<p style="margin-left:32%;"><i>GnuTLS:</i></p>

<p style="margin-left:43%;">TLSCiphersuite
SECURE256:!AES-128-CBC</p>

<p style="margin-left:22%; margin-top: 1em">To check what
ciphers a given spec selects in OpenSSL, use:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>openssl ciphers &minus;v &lt;cipher-suite-spec&gt;</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">With GnuTLS the
available specs can be found in the manual page of
<b>gnutls&minus;cli</b>(1) (see the description of the
option <b>&minus;&minus;priority</b>).</p>

<p style="margin-left:22%; margin-top: 1em">In older
versions of GnuTLS, where gnutls&minus;cli does not support
the option &minus;&minus;priority, you can obtain the
&mdash; more limited &mdash; list of ciphers by calling:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>gnutls&minus;cli &minus;l</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">When using
Mozilla NSS, the OpenSSL cipher suite specifications are
used and translated into the format used internally by
Mozilla NSS. There isn&rsquo;t an easy way to list the
cipher suites from the command line. The authoritative list
is in the source code for Mozilla NSS in the file sslinfo.c
in the structure <br>
static const SSLCipherSuiteInfo suiteInfo[]</p>

<p style="margin-left:11%;"><b>olcTLSCACertificateFile:
&lt;filename&gt;</b></p>

<p style="margin-left:22%;">Specifies the file that
contains certificates for all of the Certificate Authorities
that <b>slapd</b> will recognize.</p>

<p style="margin-left:11%;"><b>olcTLSCACertificatePath:
&lt;path&gt;</b></p>

<p style="margin-left:22%;">Specifies the path of a
directory that contains Certificate Authority certificates
in separate individual files. Usually only one of this or
the olcTLSCACertificateFile is defined. If both are
specified, both locations will be used. This directive is
not supported when using GnuTLS.</p>

<p style="margin-left:22%; margin-top: 1em">When using
Mozilla NSS, &lt;path&gt; may contain a Mozilla NSS cert/key
database. If &lt;path&gt; contains a Mozilla NSS cert/key
database and CA cert files, OpenLDAP will use the cert/key
database and will ignore the CA cert files.</p>

<p style="margin-left:11%;"><b>olcTLSCertificateFile:
&lt;filename&gt;</b></p>

<p style="margin-left:22%;">Specifies the file that
contains the <b>slapd</b> server certificate.</p>

<p style="margin-left:22%; margin-top: 1em">When using
Mozilla NSS, if using a cert/key database (specified with
olcTLSCACertificatePath), olcTLSCertificateFile specifies
the name of the certificate to use:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>olcTLSCertificateFile: Server-Cert</p></td></tr>
</table>

<p style="margin-left:22%;">If using a token other than the
internal built in token, specify the token name first,
followed by a colon:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>olcTLSCertificateFile: my hardware
device:Server-Cert</p> </td></tr>
</table>

<p style="margin-left:22%;">Use certutil -L to list the
certificates by name:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>certutil -d /path/to/certdbdir -L</p></td></tr>
</table>

<p style="margin-left:11%;"><b>olcTLSCertificateKeyFile:
&lt;filename&gt;</b></p>

<p style="margin-left:22%;">Specifies the file that
contains the <b>slapd</b> server private key that matches
the certificate stored in the <b>olcTLSCertificateFile</b>
file. If the private key is protected with a password, the
password must be manually typed in when slapd starts.
Usually the private key is not protected with a password, to
allow slapd to start without manual intervention, so it is
of critical importance that the file is protected
carefully.</p>

<p style="margin-left:22%; margin-top: 1em">When using
Mozilla NSS, olcTLSCertificateKeyFile specifies the name of
a file that contains the password for the key for the
certificate specified with olcTLSCertificateFile. The
modutil command can be used to turn off password protection
for the cert/key database. For example, if
olcTLSCACertificatePath specifes /etc/openldap/certdb as the
location of the cert/key database, use modutil to change the
password to the empty string:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>modutil -dbdir /etc/openldap/certdb -changepw &rsquo;NSS
Certificate DB&rsquo;</p></td></tr>
</table>

<p style="margin-left:22%;">You must have the old password,
if any. Ignore the WARNING about the running browser. Press
&rsquo;Enter&rsquo; for the new password.</p>

<p style="margin-left:11%;"><b>olcTLSDHParamFile:
&lt;filename&gt;</b></p>

<p style="margin-left:22%;">This directive specifies the
file that contains parameters for Diffie-Hellman ephemeral
key exchange. This is required in order to use a DSA
certificate on the server. If multiple sets of parameters
are present in the file, all of them will be processed. Note
that setting this option may also enable Anonymous
Diffie-Hellman key exchanges in certain non-default cipher
suites. You should append &quot;!ADH&quot; to your cipher
suites if you have changed them from the default, otherwise
no certificate exchanges or verification will be done. When
using GnuTLS or Mozilla NSS these parameters are always
generated randomly so this directive is ignored.</p>

<p style="margin-left:11%;"><b>olcTLSProtocolMin:
&lt;major&gt;[.&lt;minor&gt;]</b></p>

<p style="margin-left:22%;">Specifies minimum SSL/TLS
protocol version that will be negotiated. If the server
doesn&rsquo;t support at least that version, the SSL
handshake will fail. To require TLS 1.x or higher, set this
option to 3.(x+1), e.g.,</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>olcTLSProtocolMin: 3.2</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">would require
TLS 1.1. Specifying a minimum that is higher than that
supported by the OpenLDAP implementation will result in it
requiring the highest level that it does support. This
directive is ignored with GnuTLS.</p>

<p style="margin-left:11%;"><b>olcTLSRandFile:
&lt;filename&gt;</b></p>

<p style="margin-left:22%;">Specifies the file to obtain
random bits from when /dev/[u]random is not available.
Generally set to the name of the EGD/PRNGD socket. The
environment variable RANDFILE can also be used to specify
the filename. This directive is ignored with GnuTLS and
Mozilla NSS.</p>

<p style="margin-left:11%;"><b>olcTLSVerifyClient:
&lt;level&gt;</b></p>

<p style="margin-left:22%;">Specifies what checks to
perform on client certificates in an incoming TLS session,
if any. The <b>&lt;level&gt;</b> can be specified as one of
the following keywords:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>never</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>This is the default. <b>slapd</b> will not ask the
client for a certificate.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>allow</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>The client certificate is requested. If no certificate
is provided, the session proceeds normally. If a bad
certificate is provided, it will be ignored and the session
proceeds normally.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>try</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>The client certificate is requested. If no certificate
is provided, the session proceeds normally. If a bad
certificate is provided, the session is immediately
terminated.</p> </td></tr>
</table>

<p style="margin-left:22%;"><b>demand | hard | true</b></p>

<p style="margin-left:32%;">These keywords are all
equivalent, for compatibility reasons. The client
certificate is requested. If no certificate is provided, or
a bad certificate is provided, the session is immediately
terminated.</p>

<p style="margin-left:32%; margin-top: 1em">Note that a
valid client certificate is required in order to use the
SASL EXTERNAL authentication mechanism with a TLS session.
As such, a non-default <b>olcTLSVerifyClient</b> setting
must be chosen to enable SASL EXTERNAL authentication.</p>

<p style="margin-left:11%;"><b>olcTLSCRLCheck:
&lt;level&gt;</b></p>

<p style="margin-left:22%;">Specifies if the Certificate
Revocation List (CRL) of the CA should be used to verify if
the client certificates have not been revoked. This requires
<b>olcTLSCACertificatePath</b> parameter to be set. This
parameter is ignored with GnuTLS and Mozilla NSS.
<b>&lt;level&gt;</b> can be specified as one of the
following keywords:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>none</b></p></td>
<td width="4%"></td>
<td width="66%">


<p>No CRL checks are performed</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>peer</b></p></td>
<td width="4%"></td>
<td width="66%">


<p>Check the CRL of the peer certificate</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>all</b></p></td>
<td width="4%"></td>
<td width="66%">


<p>Check the CRL for a whole certificate chain</p></td>
<td width="2%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>olcTLSCRLFile:
&lt;filename&gt;</b></p>

<p style="margin-left:22%;">Specifies a file containing a
Certificate Revocation List to be used for verifying that
certificates have not been revoked. This parameter is only
valid when using GnuTLS or Mozilla NSS.</p>

<h2>DYNAMIC MODULE OPTIONS
<a name="DYNAMIC MODULE OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If <b>slapd</b>
is compiled with &minus;&minus;enable&minus;modules then the
module-related entries will be available. These entries are
named <b>cn=module{x},cn=config</b> and must have the
olcModuleList objectClass. One entry should be created per
<b>olcModulePath.</b> Normally the config engine generates
the &quot;{x}&quot; index in the RDN automatically, so it
can be omitted when initially loading these entries. <b><br>
olcModuleLoad: &lt;filename&gt;</b></p>

<p style="margin-left:22%;">Specify the name of a
dynamically loadable module to load. The filename may be an
absolute path name or a simple filename. Non-absolute names
are searched for in the directories specified by the
<b>olcModulePath</b> option.</p>

<p style="margin-left:11%;"><b>olcModulePath:
&lt;pathspec&gt;</b></p>

<p style="margin-left:22%;">Specify a list of directories
to search for loadable modules. Typically the path is
colon-separated but this depends on the operating system.
The default is /usr/lib64/openldap, which is where the
standard OpenLDAP install will place its modules.</p>

<h2>SCHEMA OPTIONS
<a name="SCHEMA OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Schema
definitions are created as entries in the
<b>cn=schema,cn=config</b> subtree. These entries must have
the olcSchemaConfig objectClass. As noted above, the actual
<b>cn=schema,cn=config</b> entry is predefined and any
values specified for it are ignored.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>olcAttributetypes:
(&nbsp;&lt;oid&gt; [NAME&nbsp;&lt;name&gt;]
[DESC&nbsp;&lt;description&gt;] [OBSOLETE]
[SUP&nbsp;&lt;oid&gt;] [EQUALITY&nbsp;&lt;oid&gt;]
[ORDERING&nbsp;&lt;oid&gt;] [SUBSTR&nbsp;&lt;oid&gt;]
[SYNTAX&nbsp;&lt;oidlen&gt;] [SINGLE&minus;VALUE]
[COLLECTIVE] [NO&minus;USER&minus;MODIFICATION]
[USAGE&nbsp;&lt;attributeUsage&gt;]&nbsp;)</b></p> </td></tr>
</table>

<p style="margin-left:22%;">Specify an attribute type using
the LDAPv3 syntax defined in RFC 4512. The slapd parser
extends the RFC 4512 definition by allowing string forms as
well as numeric OIDs to be used for the attribute OID and
attribute syntax OID. (See the <b>olcObjectIdentifier</b>
description.)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>olcDitContentRules:
(&nbsp;&lt;oid&gt; [NAME&nbsp;&lt;name&gt;]
[DESC&nbsp;&lt;description&gt;] [OBSOLETE]
[AUX&nbsp;&lt;oids&gt;] [MUST&nbsp;&lt;oids&gt;]
[MAY&nbsp;&lt;oids&gt;]
[NOT&nbsp;&lt;oids&gt;]&nbsp;)</b></p> </td></tr>
</table>

<p style="margin-left:22%;">Specify an DIT Content Rule
using the LDAPv3 syntax defined in RFC 4512. The slapd
parser extends the RFC 4512 definition by allowing string
forms as well as numeric OIDs to be used for the attribute
OID and attribute syntax OID. (See the
<b>olcObjectIdentifier</b> description.)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>olcObjectClasses:
(&nbsp;&lt;oid&gt; [NAME&nbsp;&lt;name&gt;]
[DESC&nbsp;&lt;description&gt;] [OBSOLETE]
[SUP&nbsp;&lt;oids&gt;] [{ ABSTRACT | STRUCTURAL | AUXILIARY
}] [MUST&nbsp;&lt;oids&gt;] [MAY&nbsp;&lt;oids&gt;]
)</b></p> </td></tr>
</table>

<p style="margin-left:22%;">Specify an objectclass using
the LDAPv3 syntax defined in RFC 4512. The slapd parser
extends the RFC 4512 definition by allowing string forms as
well as numeric OIDs to be used for the object class OID.
(See the <b>olcObjectIdentifier</b> description.) Object
classes are &quot;STRUCTURAL&quot; by default.</p>

<p style="margin-left:11%;"><b>olcObjectIdentifier:
&lt;name&gt; { &lt;oid&gt; | &lt;name&gt;[:&lt;suffix&gt;]
}</b></p>

<p style="margin-left:22%;">Define a string name that
equates to the given OID. The string can be used in place of
the numeric OID in objectclass and attribute definitions.
The name can also be used with a suffix of the form
&quot;:xx&quot; in which case the value &quot;oid.xx&quot;
will be used.</p>

<h2>GENERAL BACKEND OPTIONS
<a name="GENERAL BACKEND OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Options in
these entries only apply to the configuration of a single
type of backend. All backends may support this class of
options, but currently none do. The entry must be named
<b>olcBackend=&lt;databasetype&gt;,cn=config</b> and must
have the olcBackendConfig objectClass. &lt;databasetype&gt;
should be one of <b>bdb</b>, <b>config</b>, <b>dnssrv</b>,
<b>hdb</b>, <b>ldap</b>, <b>ldif</b>, <b>mdb</b>,
<b>meta</b>, <b>monitor</b>, <b>ndb</b>, <b>null</b>,
<b>passwd</b>, <b>perl</b>, <b>relay</b>, <b>shell</b>, or
<b>sql</b>. At present, no backend implements any options of
this type, so this entry should not be used.</p>

<h2>DATABASE OPTIONS
<a name="DATABASE OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Database
options are set in entries named
<b>olcDatabase={x}&lt;databasetype&gt;,cn=config</b> and
must have the olcDatabaseConfig objectClass. Normally the
config engine generates the &quot;{x}&quot; index in the RDN
automatically, so it can be omitted when initially loading
these entries.</p>

<p style="margin-left:11%; margin-top: 1em">The special
frontend database is always numbered &quot;{&minus;1}&quot;
and the config database is always numbered
&quot;{0}&quot;.</p>

<h2>GLOBAL DATABASE OPTIONS
<a name="GLOBAL DATABASE OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Options in this
section may be set in the special &quot;frontend&quot;
database and inherited in all the other databases. These
options may be altered by further settings in each specific
database. The frontend entry must be named
<b>olcDatabase=frontend,cn=config</b> and must have the
olcFrontendConfig objectClass. <b><br>
olcAccess: to &lt;what&gt; [ by &lt;who&gt; &lt;access&gt;
&lt;control&gt; ]+</b></p>

<p style="margin-left:22%;">Grant access (specified by
&lt;access&gt;) to a set of entries and/or attributes
(specified by &lt;what&gt;) by one or more requestors
(specified by &lt;who&gt;). If no access controls are
present, the default policy allows anyone and everyone to
read anything but restricts updates to rootdn. (e.g.,
&quot;olcAccess: to * by * read&quot;). See
<b>slapd.access</b>(5) and the &quot;OpenLDAP
Administrator&rsquo;s Guide&quot; for details.</p>

<p style="margin-left:22%; margin-top: 1em">Access controls
set in the frontend are appended to any access controls set
on the specific databases. The rootdn of a database can
always read and write EVERYTHING in that database.</p>

<p style="margin-left:22%; margin-top: 1em">Extra special
care must be taken with the access controls on the config
database. Unlike other databases, the default policy for the
config database is to only allow access to the rootdn.
Regular users should not have read access, and write access
should be granted very carefully to privileged
administrators.</p>

<p style="margin-left:11%;"><b>olcDefaultSearchBase:
&lt;dn&gt;</b></p>

<p style="margin-left:22%;">Specify a default search base
to use when client submits a non-base search request with an
empty base DN. Base scoped search requests with an empty
base DN are not affected. This setting is only allowed in
the frontend entry.</p>

<p style="margin-left:11%;"><b>olcExtraAttrs:
&lt;attr&gt;</b></p>

<p style="margin-left:22%;">Lists what attributes need to
be added to search requests. Local storage backends return
the entire entry to the frontend. The frontend takes care of
only returning the requested attributes that are allowed by
ACLs. However, features like access checking and so may need
specific attributes that are not automatically returned by
remote storage backends, like proxy backends and so on.
<b>&lt;attr&gt;</b> is an attribute that is needed for
internal purposes and thus always needs to be collected,
even when not explicitly requested by clients. This
attribute is multi-valued.</p>

<p style="margin-left:11%;"><b>olcPasswordHash:
&lt;hash&gt; [&lt;hash&gt;...]</b></p>

<p style="margin-left:22%;">This option configures one or
more hashes to be used in generation of user passwords
stored in the userPassword attribute during processing of
LDAP Password Modify Extended Operations (RFC 3062). The
&lt;hash&gt; must be one of <b>{SSHA}</b>, <b>{SHA}</b>,
<b>{SMD5}</b>, <b>{MD5}</b>, <b>{CRYPT}</b>, and
<b>{CLEARTEXT}</b>. The default is <b>{SSHA}</b>.</p>

<p style="margin-left:22%; margin-top: 1em"><b>{SHA}</b>
and <b>{SSHA}</b> use the SHA-1 algorithm (FIPS 160-1), the
latter with a seed.</p>

<p style="margin-left:22%; margin-top: 1em"><b>{MD5}</b>
and <b>{SMD5}</b> use the MD5 algorithm (RFC 1321), the
latter with a seed.</p>

<p style="margin-left:22%; margin-top: 1em"><b>{CRYPT}</b>
uses the <b>crypt</b>(3).</p>


<p style="margin-left:22%; margin-top: 1em"><b>{CLEARTEXT}</b>
indicates that the new password should be added to
userPassword as clear text.</p>

<p style="margin-left:22%; margin-top: 1em">Note that this
option does not alter the normal user applications handling
of userPassword during LDAP Add, Modify, or other LDAP
operations. This setting is only allowed in the frontend
entry.</p>

<p style="margin-left:11%;"><b>olcReadOnly: TRUE |
FALSE</b></p>

<p style="margin-left:22%;">This option puts the database
into &quot;read-only&quot; mode. Any attempts to modify the
database will return an &quot;unwilling to perform&quot;
error. By default, olcReadOnly is FALSE. Note that when this
option is set TRUE on the frontend, it cannot be reset
without restarting the server, since further writes to the
config database will be rejected.</p>

<p style="margin-left:11%;"><b>olcRequires:
&lt;conditions&gt;</b></p>

<p style="margin-left:22%;">Specify a set of conditions to
require (default none). The directive may be specified
globally and/or per-database; databases inherit global
conditions, so per-database specifications are additive.
<b>bind</b> requires bind operation prior to directory
operations. <b>LDAPv3</b> requires session to be using LDAP
version 3. <b>authc</b> requires authentication prior to
directory operations. <b>SASL</b> requires SASL
authentication prior to directory operations. <b>strong</b>
requires strong authentication prior to directory
operations. The strong keyword allows protected
&quot;simple&quot; authentication as well as SASL
authentication. <b>none</b> may be used to require no
conditions (useful to clear out globally set conditions
within a particular database); it must occur first in the
list of conditions.</p>

<p style="margin-left:11%;"><b>olcRestrict:
&lt;oplist&gt;</b></p>

<p style="margin-left:22%;">Specify a list of operations
that are restricted. Restrictions on a specific database
override any frontend setting. Operations can be any of
<b>add</b>, <b>bind</b>, <b>compare</b>, <b>delete</b>,
<b>extended[=&lt;OID&gt;]</b>, <b>modify</b>, <b>rename</b>,
<b>search</b>, or the special pseudo-operations <b>read</b>
and <b>write</b>, which respectively summarize read and
write operations. The use of <i>restrict write</i> is
equivalent to <i>olcReadOnly: TRUE</i> (see above). The
<b>extended</b> keyword allows to indicate the OID of the
specific operation to be restricted.</p>

<p style="margin-left:11%;"><b>olcSchemaDN:
&lt;dn&gt;</b></p>

<p style="margin-left:22%;">Specify the distinguished name
for the subschema subentry that controls the entries on this
server. The default is &quot;cn=Subschema&quot;.</p>

<p style="margin-left:11%;"><b>olcSecurity:
&lt;factors&gt;</b></p>

<p style="margin-left:22%;">Specify a set of security
strength factors (separated by white space) to require (see
<b>olcSaslSecprops</b>&rsquo;s <b>minssf</b> option for a
description of security strength factors). The directive may
be specified globally and/or per-database.
<b>ssf=&lt;n&gt;</b> specifies the overall security strength
factor. <b>transport=&lt;n&gt;</b> specifies the transport
security strength factor. <b>tls=&lt;n&gt;</b> specifies the
TLS security strength factor. <b>sasl=&lt;n&gt;</b>
specifies the SASL security strength factor.
<b>update_ssf=&lt;n&gt;</b> specifies the overall security
strength factor to require for directory updates.
<b>update_transport=&lt;n&gt;</b> specifies the transport
security strength factor to require for directory updates.
<b>update_tls=&lt;n&gt;</b> specifies the TLS security
strength factor to require for directory updates.
<b>update_sasl=&lt;n&gt;</b> specifies the SASL security
strength factor to require for directory updates.
<b>simple_bind=&lt;n&gt;</b> specifies the security strength
factor required for <i>simple</i> username/password
authentication. Note that the <b>transport</b> factor is
measure of security provided by the underlying transport,
e.g. ldapi:// (and eventually IPSEC). It is not normally
used.</p>

<p style="margin-left:11%;"><b>olcSizeLimit:
{&lt;integer&gt;|unlimited} <br>
olcSizeLimit: size[.{soft|hard|unchecked}]=&lt;integer&gt;
[...]</b></p>

<p style="margin-left:22%;">Specify the maximum number of
entries to return from a search operation. The default size
limit is 500. Use <b>unlimited</b> to specify no limits. The
second format allows a fine grain setting of the size
limits. Extra args can be added in the same value or as
additional values. See <b>olcLimits</b> for an explanation
of the different flags.</p>

<p style="margin-left:11%;"><b>olcSortVals: &lt;attr&gt;
[...]</b></p>

<p style="margin-left:22%;">Specify a list of multi-valued
attributes whose values will always be maintained in sorted
order. Using this option will allow Modify, Compare, and
filter evaluations on these attributes to be performed more
efficiently. The resulting sort order depends on the
attributes&rsquo; syntax and matching rules and may not
correspond to lexical order or any other recognizable order.
This setting is only allowed in the frontend entry.</p>

<p style="margin-left:11%;"><b>olcTimeLimit:
{&lt;integer&gt;|unlimited} <br>
olcTimeLimit: time[.{soft|hard}]=&lt;integer&gt;
[...]</b></p>

<p style="margin-left:22%;">Specify the maximum number of
seconds (in real time) <b>slapd</b> will spend answering a
search request. The default time limit is 3600. Use
<b>unlimited</b> to specify no limits. The second format
allows a fine grain setting of the time limits. Extra args
can be added in the same value or as additional values. See
<b>olcLimits</b> for an explanation of the different
flags.</p>

<h2>GENERAL DATABASE OPTIONS
<a name="GENERAL DATABASE OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Options in this
section only apply to the specific database for which they
are defined. They are supported by every type of backend.
All of the Global Database Options may also be used here.
<b><br>
olcAddContentAcl: TRUE | FALSE</b></p>

<p style="margin-left:22%;">Controls whether Add operations
will perform ACL checks on the content of the entry being
added. This check is off by default. See the
<b>slapd.access</b>(5) manual page for more details on ACL
requirements for Add operations.</p>

<p style="margin-left:11%;"><b>olcHidden: TRUE |
FALSE</b></p>

<p style="margin-left:22%;">Controls whether the database
will be used to answer queries. A database that is hidden
will never be selected to answer any queries, and any suffix
configured on the database will be ignored in checks for
conflicts with other databases. By default, olcHidden is
FALSE.</p>

<p style="margin-left:11%;"><b>olcLastMod: TRUE |
FALSE</b></p>

<p style="margin-left:22%;">Controls whether <b>slapd</b>
will automatically maintain the modifiersName,
modifyTimestamp, creatorsName, and createTimestamp
attributes for entries. It also controls the entryCSN and
entryUUID attributes, which are needed by the syncrepl
provider. By default, olcLastMod is TRUE.</p>

<p style="margin-left:11%;"><b>olcLimits: &lt;selector&gt;
&lt;limit&gt; [&lt;limit&gt; [...]]</b></p>

<p style="margin-left:22%;">Specify time and size limits
based on the operation&rsquo;s initiator or base DN. The
argument <b>&lt;selector&gt;</b> can be any of</p>

<p style="margin-left:32%;">anonymous | users |
[&lt;dnspec&gt;=]&lt;pattern&gt; | <br>
group[/oc[/at]]=&lt;pattern&gt;</p>

<p style="margin-left:22%; margin-top: 1em">with</p>

<p style="margin-left:32%;">&lt;dnspec&gt; ::=
dn[.&lt;type&gt;][.&lt;style&gt;] <br>
&lt;type&gt; ::= self | this <br>
&lt;style&gt; ::= exact | base | onelevel | subtree |
children <br>
| regex | anonymous</p>

<p style="margin-left:22%; margin-top: 1em">DN type
<b>self</b> is the default and means the bound user, while
<b>this</b> means the base DN of the operation. The term
<b>anonymous</b> matches all unauthenticated clients. The
term <b>users</b> matches all authenticated clients;
otherwise an <b>exact</b> dn pattern is assumed unless
otherwise specified by qualifying the (optional) key string
<b>dn</b> with <b>exact</b> or <b>base</b> (which are
synonyms), to require an exact match; with <b>onelevel</b>,
to require exactly one level of depth match; with
<b>subtree</b>, to allow any level of depth match, including
the exact match; with <b>children</b>, to allow any level of
depth match, not including the exact match; <b>regex</b>
explicitly requires the (default) match based on POSIX
(&rsquo;&rsquo;extended&rsquo;&rsquo;) regular expression
pattern. Finally, <b>anonymous</b> matches unbound
operations; the <b>pattern</b> field is ignored. The same
behavior is obtained by using the <b>anonymous</b> form of
the <b>&lt;selector&gt;</b> clause. The term <b>group</b>,
with the optional objectClass <b>oc</b> and attributeType
<b>at</b> fields, followed by <b>pattern</b>, sets the
limits for any DN listed in the values of the <b>at</b>
attribute (default <b>member</b>) of the <b>oc</b> group
objectClass (default <b>groupOfNames</b>) whose DN exactly
matches <b>pattern</b>.</p>

<p style="margin-left:22%; margin-top: 1em">The currently
supported limits are <b>size</b> and <b>time</b>.</p>

<p style="margin-left:22%; margin-top: 1em">The syntax for
time limits is <b>time[.{soft|hard}]=&lt;integer&gt;</b>,
where <i>integer</i> is the number of seconds slapd will
spend answering a search request. If no time limit is
explicitly requested by the client, the <b>soft</b> limit is
used; if the requested time limit exceeds the <b>hard</b>
limit, the value of the limit is used instead. If the
<b>hard</b> limit is set to the keyword <i>soft</i>, the
soft limit is used in either case; if it is set to the
keyword <i>unlimited</i>, no hard limit is enforced.
Explicit requests for time limits smaller or equal to the
<b>hard</b> limit are honored. If no limit specifier is set,
the value is assigned to the <b>soft</b> limit, and the
<b>hard</b> limit is set to <i>soft</i>, to preserve the
original behavior.</p>

<p style="margin-left:22%; margin-top: 1em">The syntax for
size limits is
<b>size[.{soft|hard|unchecked}]=&lt;integer&gt;</b>, where
<i>integer</i> is the maximum number of entries slapd will
return answering a search request. If no size limit is
explicitly requested by the client, the <b>soft</b> limit is
used; if the requested size limit exceeds the <b>hard</b>
limit, the value of the limit is used instead. If the
<b>hard</b> limit is set to the keyword <i>soft</i>, the
soft limit is used in either case; if it is set to the
keyword <i>unlimited</i>, no hard limit is enforced.
Explicit requests for size limits smaller or equal to the
<b>hard</b> limit are honored. The <b>unchecked</b>
specifier sets a limit on the number of candidates a search
request is allowed to examine. The rationale behind it is
that searches for non-properly indexed attributes may result
in large sets of candidates, which must be examined by
<b>slapd</b>(8) to determine whether they match the search
filter or not. The <b>unchecked</b> limit provides a means
to drop such operations before they are even started. If the
selected candidates exceed the <b>unchecked</b> limit, the
search will abort with <i>Unwilling to perform</i>. If it is
set to the keyword <i>unlimited</i>, no limit is applied
(the default). If it is set to <i>disable</i>, the search is
not even performed; this can be used to disallow searches
for a specific set of users. If no limit specifier is set,
the value is assigned to the <b>soft</b> limit, and the
<b>hard</b> limit is set to <i>soft</i>, to preserve the
original behavior.</p>

<p style="margin-left:22%; margin-top: 1em">In case of no
match, the global limits are used. The default values are
the same as for <b>olcSizeLimit</b> and <b>olcTimeLimit</b>;
no limit is set on <b>unchecked</b>.</p>

<p style="margin-left:22%; margin-top: 1em">If
<b>pagedResults</b> control is requested, the <b>hard</b>
size limit is used by default, because the request of a
specific page size is considered an explicit request for a
limitation on the number of entries to be returned. However,
the size limit applies to the total count of entries
returned within the search, and not to a single page.
Additional size limits may be enforced; the syntax is
<b>size.pr={&lt;integer&gt;|noEstimate|unlimited}</b>, where
<i>integer</i> is the max page size if no explicit limit is
set; the keyword <i>noEstimate</i> inhibits the server from
returning an estimate of the total number of entries that
might be returned (note: the current implementation does not
return any estimate). The keyword <i>unlimited</i> indicates
that no limit is applied to the pagedResults control page
size. The syntax
<b>size.prtotal={&lt;integer&gt;|unlimited|disabled}</b>
allows to set a limit on the total number of entries that a
pagedResults control allows to return. By default it is set
to the <b>hard</b> limit. When set, <i>integer</i> is the
max number of entries that the whole search with
pagedResults control can return. Use <i>unlimited</i> to
allow unlimited number of entries to be returned, e.g. to
allow the use of the pagedResults control as a means to
circumvent size limitations on regular searches; the keyword
<i>disabled</i> disables the control, i.e. no paged results
can be returned. Note that the total number of entries
returned when the pagedResults control is requested cannot
exceed the <b>hard</b> size limit of regular searches unless
extended by the <b>prtotal</b> switch.</p>

<p style="margin-left:11%;"><b>olcMaxDerefDepth:
&lt;depth&gt;</b></p>

<p style="margin-left:22%;">Specifies the maximum number of
aliases to dereference when trying to resolve an entry, used
to avoid infinite alias loops. The default is 15.</p>

<p style="margin-left:11%;"><b>olcMirrorMode: TRUE |
FALSE</b></p>

<p style="margin-left:22%;">This option puts a replica
database into &quot;mirror&quot; mode. Update operations
will be accepted from any user, not just the updatedn. The
database must already be configured as syncrepl consumer
before this keyword may be set. This mode also requires a
<b>olcServerID</b> (see above) to be configured. By default,
this setting is FALSE.</p>

<p style="margin-left:11%;"><b>olcPlugin:
&lt;plugin_type&gt; &lt;lib_path&gt; &lt;init_function&gt;
[&lt;arguments&gt;]</b></p>

<p style="margin-left:22%;">Configure a SLAPI plugin. See
the <b>slapd.plugin</b>(5) manpage for more details.</p>

<p style="margin-left:11%;"><b>olcRootDN:
&lt;dn&gt;</b></p>

<p style="margin-left:22%;">Specify the distinguished name
that is not subject to access control or administrative
limit restrictions for operations on this database. This DN
may or may not be associated with an entry. An empty root DN
(the default) specifies no root access is to be granted. It
is recommended that the rootdn only be specified when needed
(such as when initially populating a database). If the
rootdn is within a namingContext (suffix) of the database, a
simple bind password may also be provided using the
<b>olcRootPW</b> directive. Note that the rootdn is always
needed when using syncrepl. The <b>olcRootDN</b> of the
<b>cn=config</b> database defaults to <b>cn=config</b>
itself.</p>

<p style="margin-left:11%;"><b>olcRootPW:
&lt;password&gt;</b></p>

<p style="margin-left:22%;">Specify a password (or hash of
the password) for the rootdn. The password can only be set
if the rootdn is within the namingContext (suffix) of the
database. This option accepts all RFC 2307 userPassword
formats known to the server (see <b>olcPasswordHash</b>
description) as well as cleartext. <b>slappasswd</b>(8) may
be used to generate a hash of a password. Cleartext and
<b>{CRYPT}</b> passwords are not recommended. If empty (the
default), authentication of the root DN is by other means
(e.g. SASL). Use of SASL is encouraged.</p>

<p style="margin-left:11%;"><b>olcSubordinate: [TRUE |
FALSE | advertise]</b></p>

<p style="margin-left:22%;">Specify that the current
backend database is a subordinate of another backend
database. A subordinate database may have only one suffix.
This option may be used to glue multiple databases into a
single namingContext. If the suffix of the current database
is within the namingContext of a superior database, searches
against the superior database will be propagated to the
subordinate as well. All of the databases associated with a
single namingContext should have identical rootdns. Behavior
of other LDAP operations is unaffected by this setting. In
particular, it is not possible to use moddn to move an entry
from one subordinate to another subordinate within the
namingContext.</p>

<p style="margin-left:22%; margin-top: 1em">If the optional
<b>advertise</b> flag is supplied, the naming context of
this database is advertised in the root DSE. The default is
to hide this database context, so that only the superior
context is visible.</p>

<p style="margin-left:22%; margin-top: 1em">If the slap
tools <b>slapcat</b>(8), <b>slapadd</b>(8), or
<b>slapindex</b>(8) are used on the superior database, any
glued subordinates that support these tools are opened as
well.</p>

<p style="margin-left:22%; margin-top: 1em">Databases that
are glued together should usually be configured with the
same indices (assuming they support indexing), even for
attributes that only exist in some of these databases. In
general, all of the glued databases should be configured as
similarly as possible, since the intent is to provide the
appearance of a single directory.</p>

<p style="margin-left:22%; margin-top: 1em">Note that the
subordinate functionality is implemented internally by the
<i>glue</i> overlay and as such its behavior will interact
with other overlays in use. By default, the glue overlay is
automatically configured as the last overlay on the superior
database. Its position on the database can be explicitly
configured by setting an <b>overlay glue</b> directive at
the desired position. This explicit configuration is
necessary e.g. when using the <i>syncprov</i> overlay, which
needs to follow <i>glue</i> in order to work over all of the
glued databases. E.g.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>dn: olcDatabase={1}bdb,cn=config</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>olcSuffix: dc=example,dc=com</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>...</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>dn: olcOverlay={0}glue,olcDatabase={1}bdb,cn=config</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>...</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>dn:
olcOverlay={1}syncprov,olcDatabase={1}bdb,cn=config</p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>...</p></td></tr>
</table>

<p style="margin-left:11%;">See the Overlays section below
for more details. <b><br>
olcSuffix: &lt;dn suffix&gt;</b></p>

<p style="margin-left:22%;">Specify the DN suffix of
queries that will be passed to this backend database.
Multiple suffix lines can be given and at least one is
required for each database definition.</p>

<p style="margin-left:22%; margin-top: 1em">If the suffix
of one database is &quot;inside&quot; that of another, the
database with the inner suffix must come first in the
configuration file. You may also want to glue such databases
together with the <b>olcSubordinate</b> attribute.</p>

<p style="margin-left:11%;"><b>olcSyncUseSubentry: TRUE |
FALSE</b></p>

<p style="margin-left:22%;">Store the syncrepl contextCSN
in a subentry instead of the context entry of the database.
The subentry&rsquo;s RDN will be &quot;cn=ldapsync&quot;.
The default is FALSE, meaning the contextCSN is stored in
the context entry.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="51%">


<p style="margin-top: 1em"><b>olcSyncrepl: rid=&lt;replica
ID&gt;</b></p> </td>
<td width="3%"></td>
<td width="35%">



<p style="margin-top: 1em"><b>provider=ldap[s]://&lt;hostname&gt;[:port]</b></p> </td></tr>
</table>

<p style="margin-left:11%;"><b>searchbase=&lt;base DN&gt;
[type=refreshOnly|refreshAndPersist] [interval=dd:hh:mm:ss]
[retry=[&lt;retry interval&gt; &lt;# of retries&gt;]+]
[filter=&lt;filter str&gt;] [scope=sub|one|base|subord]
[attrs=&lt;attr list&gt;] [exattrs=&lt;attr list&gt;]
[attrsonly] [sizelimit=&lt;limit&gt;]
[timelimit=&lt;limit&gt;] [schemachecking=on|off]
[network&minus;timeout=&lt;seconds&gt;]
[timeout=&lt;seconds&gt;] [bindmethod=simple|sasl]
[binddn=&lt;dn&gt;] [saslmech=&lt;mech&gt;]
[authcid=&lt;identity&gt;] [authzid=&lt;identity&gt;]
[credentials=&lt;passwd&gt;] [realm=&lt;realm&gt;]
[secprops=&lt;properties&gt;]
[keepalive=&lt;idle&gt;:&lt;probes&gt;:&lt;interval&gt;]
[starttls=yes|critical] [tls_cert=&lt;file&gt;]
[tls_key=&lt;file&gt;] [tls_cacert=&lt;file&gt;]
[tls_cacertdir=&lt;path&gt;]
[tls_reqcert=never|allow|try|demand]
[tls_ciphersuite=&lt;ciphers&gt;]
[tls_crlcheck=none|peer|all]
[tls_protocol_min=&lt;major&gt;[.&lt;minor&gt;]]
[suffixmassage=&lt;real DN&gt;] [logbase=&lt;base DN&gt;]
[logfilter=&lt;filter str&gt;]
[syncdata=default|accesslog|changelog]</b></p>

<p style="margin-left:22%;">Specify the current database as
a replica which is kept up-to-date with the master content
by establishing the current <b>slapd</b>(8) as a replication
consumer site running a <b>syncrepl</b> replication engine.
The replica content is kept synchronized to the master
content using the LDAP Content Synchronization protocol.
Refer to the &quot;OpenLDAP Administrator&rsquo;s
Guide&quot; for detailed information on setting up a
replicated <b>slapd</b> directory service using the
<b>syncrepl</b> replication engine.</p>

<p style="margin-left:22%; margin-top: 1em"><b>rid</b>
identifies the current <b>syncrepl</b> directive within the
replication consumer site. It is a non-negative integer
having no more than three decimal digits.</p>


<p style="margin-left:22%; margin-top: 1em"><b>provider</b>
specifies the replication provider site containing the
master content as an LDAP URI. If &lt;port&gt; is not given,
the standard LDAP port number (389 or 636) is used.</p>

<p style="margin-left:22%; margin-top: 1em">The content of
the <b>syncrepl</b> replica is defined using a search
specification as its result set. The consumer <b>slapd</b>
will send search requests to the provider <b>slapd</b>
according to the search specification. The search
specification includes <b>searchbase, scope, filter, attrs,
attrsonly, sizelimit,</b> and <b>timelimit</b> parameters as
in the normal search specification. The <b>exattrs</b>
option may also be used to specify attributes that should be
omitted from incoming entries. The <b>scope</b> defaults to
<b>sub</b>, the <b>filter</b> defaults to
<b>(objectclass=*)</b>, and there is no default
<b>searchbase</b>. The <b>attrs</b> list defaults to
<b>&quot;*,+&quot;</b> to return all user and operational
attributes, and <b>attrsonly</b> and <b>exattrs</b> are
unset by default. The <b>sizelimit</b> and <b>timelimit</b>
only accept &quot;unlimited&quot; and positive integers, and
both default to &quot;unlimited&quot;. Note, however, that
any provider-side limits for the replication identity will
be enforced by the provider regardless of the limits
requested by the LDAP Content Synchronization operation,
much like for any other search operation.</p>

<p style="margin-left:22%; margin-top: 1em">The LDAP
Content Synchronization protocol has two operation types. In
the <b>refreshOnly</b> operation, the next synchronization
search operation is periodically rescheduled at an interval
time (specified by <b>interval</b> parameter; 1 day by
default) after each synchronization operation finishes. In
the <b>refreshAndPersist</b> operation, a synchronization
search remains persistent in the provider slapd. Further
updates to the master replica will generate
<b>searchResultEntry</b> to the consumer slapd as the search
responses to the persistent synchronization search.</p>

<p style="margin-left:22%; margin-top: 1em">If an error
occurs during replication, the consumer will attempt to
reconnect according to the <b>retry</b> parameter which is a
list of the &lt;retry interval&gt; and &lt;# of retries&gt;
pairs. For example, retry=&quot;60 10 300 3&quot; lets the
consumer retry every 60 seconds for the first 10 times and
then retry every 300 seconds for the next 3 times before
stop retrying. The &lsquo;+&rsquo; in &lt;# of retries&gt;
means indefinite number of retries until success.</p>

<p style="margin-left:22%; margin-top: 1em">The schema
checking can be enforced at the LDAP Sync consumer site by
turning on the <b>schemachecking</b> parameter. The default
is off.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>network&minus;timeout</b> parameter sets how long the
consumer will wait to establish a network connection to the
provider. Once a connection is established, the
<b>timeout</b> parameter determines how long the consumer
will wait for the initial Bind request to complete. The
defaults for these parameters come from
<b>ldap.conf</b>(5).</p>

<p style="margin-left:22%; margin-top: 1em">A
<b>bindmethod</b> of <b>simple</b> requires the options
<b>binddn</b> and <b>credentials</b> and should only be used
when adequate security services (e.g. TLS or IPSEC) are in
place. A <b>bindmethod</b> of <b>sasl</b> requires the
option <b>saslmech.</b> Depending on the mechanism, an
authentication identity and/or credentials can be specified
using <b>authcid</b> and <b>credentials.</b> The
<b>authzid</b> parameter may be used to specify an
authorization identity. Specific security properties (as
with the <b>sasl&minus;secprops</b> keyword above) for a
SASL bind can be set with the <b>secprops</b> option. A non
default SASL realm can be set with the <b>realm</b> option.
The provider, other than allow authentication of the
syncrepl identity, should grant that identity appropriate
access privileges to the data that is being replicated
(<b>access</b> directive), and appropriate time and size
limits (<b>limits</b> directive).</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>keepalive</b> parameter sets the values of <i>idle</i>,
<i>probes</i>, and <i>interval</i> used to check whether a
socket is alive; <i>idle</i> is the number of seconds a
connection needs to remain idle before TCP starts sending
keepalive probes; <i>probes</i> is the maximum number of
keepalive probes TCP should send before dropping the
connection; <i>interval</i> is interval in seconds between
individual keepalive probes. Only some systems support the
customization of these values; the <b>keepalive</b>
parameter is ignored otherwise, and system-wide settings are
used.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>starttls</b> parameter specifies use of the StartTLS
extended operation to establish a TLS session before Binding
to the provider. If the <b>critical</b> argument is
supplied, the session will be aborted if the StartTLS
request fails. Otherwise the syncrepl session continues
without TLS. The tls_reqcert setting defaults to
&quot;demand&quot; and the other TLS settings default to the
same as the main slapd TLS settings.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>suffixmassage</b> parameter allows the consumer to pull
entries from a remote directory whose DN suffix differs from
the local directory. The portion of the remote
entries&rsquo; DNs that matches the <i>searchbase</i> will
be replaced with the suffixmassage DN.</p>

<p style="margin-left:22%; margin-top: 1em">Rather than
replicating whole entries, the consumer can query logs of
data modifications. This mode of operation is referred to as
<i>delta syncrepl</i>. In addition to the above parameters,
the <b>logbase</b> and <b>logfilter</b> parameters must be
set appropriately for the log that will be used. The
<b>syncdata</b> parameter must be set to either
&quot;accesslog&quot; if the log conforms to the
<b>slapo&minus;accesslog</b>(5) log format, or
&quot;changelog&quot; if the log conforms to the obsolete
<i>changelog</i> format. If the <b>syncdata</b> parameter is
omitted or set to &quot;default&quot; then the log
parameters are ignored.</p>

<p style="margin-left:11%;"><b>olcUpdateDN:
&lt;dn&gt;</b></p>

<p style="margin-left:22%;">This option is only applicable
in a slave database. It specifies the DN permitted to update
(subject to access controls) the replica. It is only needed
in certain push-mode replication scenarios. Generally, this
DN <i>should not</i> be the same as the <b>rootdn</b> used
at the master.</p>

<p style="margin-left:11%;"><b>olcUpdateRef:
&lt;url&gt;</b></p>

<p style="margin-left:22%;">Specify the referral to pass
back when <b>slapd</b>(8) is asked to modify a replicated
local database. If multiple values are specified, each url
is provided.</p>

<h2>DATABASE-SPECIFIC OPTIONS
<a name="DATABASE-SPECIFIC OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Each database
may allow specific configuration options; they are
documented separately in the backends&rsquo; manual pages.
See the <b>slapd.backends</b>(5) manual page for an overview
of available backends.</p>

<h2>OVERLAYS
<a name="OVERLAYS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">An overlay is a
piece of code that intercepts database operations in order
to extend or change them. Overlays are pushed onto a stack
over the database, and so they will execute in the reverse
of the order in which they were configured and the database
itself will receive control last of all.</p>

<p style="margin-left:11%; margin-top: 1em">Overlays must
be configured as child entries of a specific database. The
entry&rsquo;s RDN must be of the form
<b>olcOverlay={x}&lt;overlaytype&gt;</b> and the entry must
have the olcOverlayConfig objectClass. Normally the config
engine generates the &quot;{x}&quot; index in the RDN
automatically, so it can be omitted when initially loading
these entries.</p>

<p style="margin-left:11%; margin-top: 1em">See the
<b>slapd.overlays</b>(5) manual page for an overview of
available overlays.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Here is a short
example of a configuration in LDIF suitable for use with
<b>slapadd</b>(8) :</p>

<p style="margin-left:22%; margin-top: 1em">dn: cn=config
<br>
objectClass: olcGlobal <br>
cn: config <br>
olcPidFile: /var/run/slapd.pid <br>
olcAttributeOptions: x&minus;hidden lang&minus;</p>

<p style="margin-left:22%; margin-top: 1em">dn:
cn=schema,cn=config <br>
objectClass: olcSchemaConfig <br>
cn: schema</p>

<p style="margin-left:22%; margin-top: 1em">include:
file:///etc/openldap/schema/core.ldif</p>

<p style="margin-left:22%; margin-top: 1em">dn:
olcDatabase=frontend,cn=config <br>
objectClass: olcDatabaseConfig <br>
objectClass: olcFrontendConfig <br>
olcDatabase: frontend <br>
# Subtypes of &quot;name&quot; (e.g. &quot;cn&quot; and
&quot;ou&quot;) with the <br>
# option &quot;;x&minus;hidden&quot; can be searched
for/compared, <br>
# but are not shown. See <b>slapd.access</b>(5). <br>
olcAccess: to attrs=name;x&minus;hidden by * =cs <br>
# Protect passwords. See <b>slapd.access</b>(5). <br>
olcAccess: to attrs=userPassword by * auth <br>
# Read access to other attributes and entries. <br>
olcAccess: to * by * read</p>

<p style="margin-left:22%; margin-top: 1em"># set a rootpw
for the config database so we can bind. <br>
# deny access to everyone else. <br>
dn: olcDatabase=config,cn=config <br>
objectClass: olcDatabaseConfig <br>
olcDatabase: config <br>
olcRootPW: {SSHA}XKYnrjvGT3wZFQrDD5040US592LxsdLy <br>
olcAccess: to * by * none</p>

<p style="margin-left:22%; margin-top: 1em">dn:
olcDatabase=bdb,cn=config <br>
objectClass: olcDatabaseConfig <br>
objectClass: olcBdbConfig <br>
olcDatabase: bdb <br>
olcSuffix: &quot;dc=our&minus;domain,dc=com&quot; <br>
# The database directory MUST exist prior to <br>
# running slapd AND should only be accessible <br>
# by the slapd/tools. Mode 0700 recommended. <br>
olcDbDirectory: /var/openldap&minus;data <br>
# Indices to maintain <br>
olcDbIndex: objectClass eq <br>
olcDbIndex: cn,sn,mail pres,eq,approx,sub</p>

<p style="margin-left:22%; margin-top: 1em"># We serve
small clients that do not handle referrals, <br>
# so handle remote lookups on their behalf. <br>
dn: olcDatabase=ldap,cn=config <br>
objectClass: olcDatabaseConfig <br>
objectClass: olcLdapConfig <br>
olcDatabase: ldap <br>
olcSuffix: &quot;&quot; <br>
olcDbUri: ldap://ldap.some&minus;server.com/</p>

<p style="margin-left:11%; margin-top: 1em">Assuming the
above data was saved in a file named &quot;config.ldif&quot;
and the /etc/openldap/slapd.d directory has been created,
this command will initialize the configuration:</p>

<p style="margin-left:22%;">slapadd &minus;F
/etc/openldap/slapd.d &minus;n 0 &minus;l config.ldif</p>

<p style="margin-left:11%; margin-top: 1em">&quot;OpenLDAP
Administrator&rsquo;s Guide&quot; contains a longer
annotated example of a slapd configuration.</p>

<p style="margin-left:11%; margin-top: 1em">Alternatively,
an existing slapd.conf file can be converted to the new
format using slapd or any of the slap tools:</p>

<p style="margin-left:22%;">slaptest &minus;f
/etc/openldap/slapd.conf &minus;F /etc/openldap/slapd.d</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">/etc/openldap/slapd.conf</p>

<p style="margin-left:22%;">default slapd configuration
file</p>

<p style="margin-left:11%;">/etc/openldap/slapd.d</p>

<p style="margin-left:22%;">default slapd configuration
directory</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>ldap</b>(3),
<b>ldif</b>(5), <b>gnutls&minus;cli</b>(1),
<b>slapd.access</b>(5), <b>slapd.backends</b>(5),
<b>slapd.conf</b>(5), <b>slapd.overlays</b>(5),
<b>slapd.plugin</b>(5), <b>slapd</b>(8), <b>slapacl</b>(8),
<b>slapadd</b>(8), <b>slapauth</b>(8), <b>slapcat</b>(8),
<b>slapdn</b>(8), <b>slapindex</b>(8), <b>slappasswd</b>(8),
<b>slaptest</b>(8).</p>

<p style="margin-left:11%; margin-top: 1em">&quot;OpenLDAP
Administrator&rsquo;s Guide&quot;
(http://www.OpenLDAP.org/doc/admin/)</p>

<h2>ACKNOWLEDGEMENTS
<a name="ACKNOWLEDGEMENTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>OpenLDAP
Software</b> is developed and maintained by The OpenLDAP
Project &lt;http://www.openldap.org/&gt;. <b>OpenLDAP
Software</b> is derived from University of Michigan LDAP 3.3
Release.</p>
<hr>
</body>
</html>
