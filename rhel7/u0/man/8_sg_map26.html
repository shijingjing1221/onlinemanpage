<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 02:20:51 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SG_MAP26</title>

</head>
<body>

<h1 align="center">SG_MAP26</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#REPORTING BUGS">REPORTING BUGS</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">sg_map26
&minus; map SCSI generic (sg) device to corresponding device
names</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>sg_map26</b>
[<i>&minus;&minus;dev_dir=DIR</i>]
[<i>&minus;&minus;given_is=</i>0|1]
[<i>&minus;&minus;help</i>]
[<i>&minus;&minus;result=</i>0|1|2|3]
[<i>&minus;&minus;symlink</i>]
[<i>&minus;&minus;verbose</i>]
[<i>&minus;&minus;version</i>] <i>DEVICE</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Maps a special
file (block or char) associated with a SCSI device to the
corresponding SCSI generic (sg) device, or vice versa. Can
also be given a sysfs file, for example
&rsquo;/sys/block/sda&rsquo; or
&rsquo;/sys/block/sda/dev&rsquo;.</p>

<p style="margin-left:11%; margin-top: 1em">Rather than map
to or from a sg device, the sysfs file name matching a given
device special file (or vice versa) can be requested. This
is done with &rsquo;&minus;&minus;result=2&rsquo; and
&rsquo;&minus;&minus;result=3&rsquo;. This feature works on
ATA devices (e.g. &rsquo;dev/hdc&rsquo;) as well as SCSI
devices.</p>

<p style="margin-left:11%; margin-top: 1em">In this
utility, &quot;mapped&quot; refers to finding the
relationship between a SCSI generic (sg) node and the higher
level SCSI device name; or vice versa. For example
&rsquo;/dev/sg0&rsquo; may &quot;map&quot; to
&rsquo;/dev/sda&rsquo;. Mappings may not exist, if a
relevant module is not loaded, for example. Also there are
SCSI devices that can only be accessed via a sg node (e.g.
SAF&minus;TE and some SES devices).</p>

<p style="margin-left:11%; margin-top: 1em">In this
utility, &quot;matching&quot; refers to different
representations of the same device accessed via the same
driver. For example, &rsquo;/dev/hdc&rsquo; and
&rsquo;/sys/block/hdc&rsquo; usually refer to the same
device and thus would be considered matching. A related
example is that &rsquo;/dev/cdrom&rsquo; and
&rsquo;/dev/hdc&rsquo; are also considered matching if
&rsquo;/dev/cdrom&rsquo; is a symlink to
&rsquo;/dev/hdc&rsquo;.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Arguments to
long options are mandatory for short options as well.
<b><br>
&minus;d</b>, <b>&minus;&minus;dev_dir</b>=<i>DIR</i></p>

<p style="margin-left:22%;">where <i>DIR</i> is the
directory to search for resultant device special files in
(or symlinks to same). Only active when
&rsquo;&minus;&minus;result=0&rsquo; (the default) or
&rsquo;&minus;&minus;result=2&rsquo;. If this option is not
given and <i>DEVICE</i> is a device special file then the
directory part of <i>DEVICE</i> is assumed. If this option
is not given and <i>DEVICE</i> is a sysfs name, then if
necessary &rsquo;/dev&rsquo; is assumed as the
directory.</p>

<p style="margin-left:11%;"><b>&minus;g</b>,
<b>&minus;&minus;given_is</b>=0 | 1</p>

<p style="margin-left:22%;">specifies the <i>DEVICE</i> is
either a device special file (when the argument is 0), or a
sysfs &rsquo;dev&rsquo; file (when the argument is 1). The
parent directory of a sysfs &rsquo;dev&rsquo; file is also
accepted (e.g. either &rsquo;/sys/block/sda/dev&rsquo; or
&rsquo;/sys/block/sda&rsquo; are accepted). Usually there is
no need to give this option since this utility first checks
for special files (or symlinks to special files) and if not,
assumes it has been given a sysfs &rsquo;dev&rsquo; file (or
its parent). Generates an error if given and disagrees with
variety of <i>DEVICE</i>.</p>

<p style="margin-left:11%;"><b>&minus;h</b>,
<b>&minus;&minus;help</b></p>

<p style="margin-left:22%;">output the usage message then
exit.</p>

<p style="margin-left:11%;"><b>&minus;r</b>,
<b>&minus;&minus;result</b>=0 | 1 | 2 | 3</p>

<p style="margin-left:22%;">specifies what variety of file
(or files) that this utility tries to find. The default is a
&quot;mapped&quot; device special file, when the argument is
0. When the argument is 1, this utility tries to find the
&quot;mapped&quot; sysfs node name. When the argument is 2,
this utility tries to find the &quot;matching&quot; device
special file. When the argument is 3, this utility tries to
find the &quot;matching&quot; sysfs node name.</p>

<p style="margin-left:11%;"><b>&minus;s</b>,
<b>&minus;&minus;symlink</b></p>

<p style="margin-left:22%;">when a device special file is
being sought (i.e. when &rsquo;&minus;&minus;result=0&rsquo;
(the default) or &rsquo;&minus;&minus;result=2&rsquo;) then
also look for symlinks to that device special file in the
same directory.</p>

<p style="margin-left:11%;"><b>&minus;v</b>,
<b>&minus;&minus;verbose</b></p>

<p style="margin-left:22%;">increase the level of
verbosity, (i.e. debug output).</p>

<p style="margin-left:11%;"><b>&minus;V</b>,
<b>&minus;&minus;version</b></p>

<p style="margin-left:22%;">print the version string and
then exit.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This utility is
designed for the Linux 2.6 (and later) kernel series. It
uses special file major and minor numbers (and whether the
special is block or character) together with sysfs to do its
mapping or matching. In the absence of any other
information, device special files are assumed to be in the
&rsquo;/dev&rsquo; directory while sysfs is assumed to be
mounted at &rsquo;/sys&rsquo;. Device names in sysfs are
predictable, given the corresponding major and minor number
of the device. However, due to udev rules, the name of
device special files can be anything the user desires (e.g.
&rsquo;/dev/sda&rsquo; could be named
&rsquo;/dev/my_boot_disk&rsquo;). When trying to find a
resultant device special file, this utility uses the major
and minor numbers (and whether a block or char device is
sought) to search the device directory.</p>

<p style="margin-left:11%; margin-top: 1em">This utility
only shows one relationship at a time. To get an overview of
all SCSI devices, with special file names and optionally the
&quot;mapped&quot; sg device name, see the lsscsi
utility.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Assume sg2 maps
to sdb while dvd, cdrom and hdc are all matching.</p>

<p style="margin-left:11%; margin-top: 1em"># sg_map26
/dev/sg2 <br>
/dev/sdb</p>

<p style="margin-left:11%; margin-top: 1em"># sg_map26
/dev/sdb <br>
/dev/sg2</p>

<p style="margin-left:11%; margin-top: 1em"># sg_map26
&minus;&minus;result=0 /dev/sdb <br>
/dev/sg2</p>

<p style="margin-left:11%; margin-top: 1em"># sg_map26
&minus;&minus;result=3 /dev/sdb <br>
/sys/block/sda</p>

<p style="margin-left:11%; margin-top: 1em"># sg_map26
&minus;&minus;result=1 /dev/sdb <br>
/sys/class/scsi_generic/sg0</p>

<p style="margin-left:11%; margin-top: 1em">Now look at
&rsquo;/dev/hdc&rsquo; and friends</p>

<p style="margin-left:11%; margin-top: 1em"># sg_map26
/dev/hdc <br>
&lt;error: a hd device does not map to a sg device&gt;</p>

<p style="margin-left:11%; margin-top: 1em"># sg_map26
&minus;&minus;result=3 /dev/hdc <br>
/sys/block/hdc</p>

<p style="margin-left:11%; margin-top: 1em"># sg_map26
&minus;&minus;result=2 /dev/hdc <br>
/dev/hdc</p>

<p style="margin-left:11%; margin-top: 1em"># sg_map26
&minus;&minus;result=2 &minus;&minus;symlink /dev/hdc <br>
/dev/cdrom <br>
/dev/dvd <br>
/dev/hdc</p>

<p style="margin-left:11%; margin-top: 1em"># sg_map26
&minus;&minus;result=2 &minus;&minus;symlink /sys/block/hdc
<br>
/dev/cdrom <br>
/dev/dvd <br>
/dev/hdc</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The exit status
of sg_map26 is 0 when it is successful. Otherwise see the
sg3_utils(8) man page.</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Written by
Douglas Gilbert.</p>

<h2>REPORTING BUGS
<a name="REPORTING BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Report bugs to
&lt;dgilbert at interlog dot com&gt;.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
&copy; 2005&minus;2012 Douglas Gilbert <br>
This software is distributed under a FreeBSD license. There
is NO warranty; not even for MERCHANTABILITY or FITNESS FOR
A PARTICULAR PURPOSE.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>udev(7),
lsscsi(lsscsi)</b></p>
<hr>
</body>
</html>
