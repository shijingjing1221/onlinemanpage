<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 01:31:34 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>AVMCAPICTRL</title>

</head>
<body>

<h1 align="center">AVMCAPICTRL</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#COMMANDS">COMMANDS</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">avmcapictrl
&minus; Add, reset or remove active AVM cards and load
firmware</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">avmcapictrl add
&lt;portbase&gt; &lt;irq&gt; &lt;type&gt; <br>
avmcapictrl load &lt;bootcode&gt; [&lt;contrnr&gt;
[&lt;protocol&gt; <br>
[P2P | &lt;dn1&gt;:&lt;spid1&gt;
[&lt;dn2&gt;:&lt;spid2&gt;]]]] <br>
avmcapictrl reset [contrnr] <br>
avmcapictrl remove [contrnr] <br>
avmcapictrl trace [contrnr]
[off|short|on|full|shortnodata|nodata] <br>
avmcapictrl addcard &lt;driver&gt; &lt;portbase&gt;
&lt;irq&gt; [ &lt;membase&gt; [ &lt;cardnr&gt; ] ]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>avmcapictrl</i>
is used to register active AVM ISA cards kernelcapi system
and therewith to the isdn system. You need it also to upload
the firmware to any active AVM card. If an error occurred
please also check the kernel error messages by using the
command dmesg(8).</p>

<h2>COMMANDS
<a name="COMMANDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>add
&lt;portbase&gt; &lt;irq&gt; &lt;type&gt;</b></p>

<p style="margin-left:18%;">is used to add a ISA card to
the kernel-capi2.0 system. The <i>portbase</i> can have the
values 0x150, 0x250, 0x300 and 0x340 for the B1 ISA cards,
look at the jumper on the card. For a T1-ISA (HEMA) card you
can select an wide range of ports. <i><br>
irq</i> can be selected from the following values: <br>
3, 4, 5, 6, 7, 9, 10, 11, 12 and 15. <i><br>
type</i> can be B1 or T1.</p>

<p style="margin-left:11%;"><b>load &lt;bootcode&gt;
[&lt;contrnr&gt; [&lt;protocol&gt;</b></p>

<p style="margin-left:18%;"><b>[P2P |
&lt;dn1&gt;:&lt;spid1&gt; [&lt;dn2&gt;:&lt;spid2&gt;]]]]</b>
is used to load the firmware to a card <i>bootcode</i> is a
t4-file. The actual versions of the t4-files for the
different d-channel protocols can be found at
ftp://ftp.avm.de/cardware/b1/linux/firmware. <br>
You need different t4-files for different d channel
protocols: b1-1tr6.t4 for 1TR6, b1.t4 for DSS1 and <br>
b1-usa.t4 for 5ESS and NI1 (DSS1 is also supported). <br>
For M1/M2 PCMCIA cards you need m1-s10.t4 or m1-s4.t4
depending on the handy type used. <i><br>
contrnr</i> is the number of the controller (card) starting
from 1. <i><br>
protocol</i> can be DSS1, CT1, VN3, AUSTEL, 5ESS or NI1.
<i><br>
P2P</i> point to point <i><br>
DN1:SPID1 DN2:SPID2</i> is for the North American 5ESS and
NI1 protocols.</p>

<p style="margin-left:11%;"><b>reset [contrnr]</b></p>

<p style="margin-left:18%;">is used to reset a card if
loading has failed. This function only make sense if card is
not successfully loaded. <i><br>
contrnr</i> is the number of the controller (card) starting
from 1.</p>

<p style="margin-left:11%;"><b>remove [contrnr]</b></p>

<p style="margin-left:18%;">is used to remove a card
previous added. You can also remove automatic added cards
(for example a B1-PCI card). <i><br>
contrnr</i> is the number of the controller (card) starting
from 1.</p>

<p style="margin-left:11%;"><b>trace [contrnr]
[off|short|on|full|shortnodata|nodata]</b></p>

<p style="margin-left:18%;">is used to trace CAPI2.0
messages. The trace will be done as kernel messages, see
dmesg(8). <i><br>
contrnr</i> is the number of the controller (card) starting
from 1. <i><br>
off</i> switch tracing off <i><br>
short</i> switch one line per CAPI2.0 message tracing on
<i><br>
on | full</i> switch on full decode tracing <i><br>
shortnodata</i> switch on line per CAPI2.0 message tracing
on, but exclude DATA_B3_IND and DATA_B3_REQ messages.
<i><br>
on | full</i> switch on full decode tracing, but exclude
DATA_B3_IND and DATA_B3_REQ messages.</p>

<p style="margin-left:11%;"><b>addcard &lt;driver&gt;
&lt;portbase&gt; &lt;irq&gt; [ &lt;membase&gt; [
&lt;cardnr&gt; ] ]</b></p>

<p style="margin-left:18%;">is used to add a card, this is
more generic than <i>add. <br>
driver</i> currently b1isa or t1isa <i><br>
portbase</i> can have the values 0x150, 0x250, 0x300 and
0x340 for the b1isa driver, look at the jumper on the card.
For t1isa driver you can select an wide range of ports.
<i><br>
irq</i> can be selected from the following values: 3, 4, 5,
6, 7, 9, 10, 11, 12 and 15. <i><br>
membase</i> memory address if needed by driver <i><br>
cardnr</i> only useful with driver t1isa</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Carsten Paeth
&lt;calle@calle.in-berlin.de&gt;</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>ttyI</i>(4),
<i>isdnctrl</i>(8), <i>isdninfo</i>(4). <i>dmesg</i>(8).
<i>syslogd</i>(8).</p>
<hr>
</body>
</html>
