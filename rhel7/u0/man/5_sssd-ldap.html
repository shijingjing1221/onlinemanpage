<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 02:25:38 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SSSD&minus;LDAP</title>

</head>
<body>

<h1 align="center">SSSD&minus;LDAP</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#CONFIGURATION OPTIONS">CONFIGURATION OPTIONS</a><br>
<a href="#SUDO OPTIONS">SUDO OPTIONS</a><br>
<a href="#AUTOFS OPTIONS">AUTOFS OPTIONS</a><br>
<a href="#ADVANCED OPTIONS">ADVANCED OPTIONS</a><br>
<a href="#FAILOVER">FAILOVER</a><br>
<a href="#SERVICE DISCOVERY">SERVICE DISCOVERY</a><br>
<a href="#ID MAPPING">ID MAPPING</a><br>
<a href="#EXAMPLE">EXAMPLE</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#NOTES">NOTES</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">sssd-ldap
&minus; the configuration file for SSSD</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This manual
page describes the configuration of LDAP domains for
<b>sssd</b>(8). Refer to the &ldquo;FILE FORMAT&rdquo;
section of the <b>sssd.conf</b>(5) manual page for detailed
syntax information.</p>

<p style="margin-left:11%; margin-top: 1em">You can
configure SSSD to use more than one LDAP domain.</p>

<p style="margin-left:11%; margin-top: 1em">LDAP back end
supports id, auth, access and chpass providers. If you want
to authenticate against an LDAP server either TLS/SSL or
LDAPS is required. <b>sssd</b><i>does not</i> support
authentication over an unencrypted channel. If the LDAP
server is used only as an identity provider, an encrypted
channel is not needed. Please refer to
&ldquo;ldap_access_filter&rdquo; config option for more
information about using LDAP as an access provider.</p>

<h2>CONFIGURATION OPTIONS
<a name="CONFIGURATION OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All of the
common configuration options that apply to SSSD domains also
apply to LDAP domains. Refer to the &ldquo;DOMAIN
SECTIONS&rdquo; section of the <b>sssd.conf</b>(5) manual
page for full details.</p>

<p style="margin-left:11%; margin-top: 1em">ldap_uri,
ldap_backup_uri (string)</p>

<p style="margin-left:17%;">Specifies the
comma&minus;separated list of URIs of the LDAP servers to
which SSSD should connect in the order of preference. Refer
to the &ldquo;FAILOVER&rdquo; section for more information
on failover and server redundancy. If neither option is
specified, service discovery is enabled. For more
information, refer to the &ldquo;SERVICE DISCOVERY&rdquo;
section.</p>

<p style="margin-left:17%; margin-top: 1em">The format of
the URI must match the format defined in RFC 2732:</p>


<p style="margin-left:17%; margin-top: 1em">ldap[s]://&lt;host&gt;[:port]</p>

<p style="margin-left:17%; margin-top: 1em">For explicit
IPv6 addresses, &lt;host&gt; must be enclosed in brackets
[]</p>

<p style="margin-left:17%; margin-top: 1em">example:
ldap://[fc00::126:25]:389</p>


<p style="margin-left:11%; margin-top: 1em">ldap_chpass_uri,
ldap_chpass_backup_uri (string)</p>

<p style="margin-left:17%;">Specifies the
comma&minus;separated list of URIs of the LDAP servers to
which SSSD should connect in the order of preference to
change the password of a user. Refer to the
&ldquo;FAILOVER&rdquo; section for more information on
failover and server redundancy.</p>

<p style="margin-left:17%; margin-top: 1em">To enable
service discovery ldap_chpass_dns_service_name must be
set.</p>

<p style="margin-left:17%; margin-top: 1em">Default: empty,
i.e. ldap_uri is used.</p>


<p style="margin-left:11%; margin-top: 1em">ldap_search_base
(string)</p>

<p style="margin-left:17%;">The default base DN to use for
performing LDAP user operations.</p>

<p style="margin-left:17%; margin-top: 1em">Starting with
SSSD 1.7.0, SSSD supports multiple search bases using the
syntax:</p>


<p style="margin-left:17%; margin-top: 1em">search_base[?scope?[filter][?search_base?scope?[filter]]*]</p>

<p style="margin-left:17%; margin-top: 1em">The scope can
be one of &quot;base&quot;, &quot;onelevel&quot; or
&quot;subtree&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">The filter must
be a valid LDAP search filter as specified by
http://www.ietf.org/rfc/rfc2254.txt</p>

<p style="margin-left:17%; margin-top: 1em">Examples:</p>


<p style="margin-left:17%; margin-top: 1em">ldap_search_base
= dc=example,dc=com (which is equivalent to)
ldap_search_base = dc=example,dc=com?subtree?</p>


<p style="margin-left:17%; margin-top: 1em">ldap_search_base
=
cn=host_specific,dc=example,dc=com?subtree?(host=thishost)?dc=example.com?subtree?</p>

<p style="margin-left:17%; margin-top: 1em">Note: It is
unsupported to have multiple search bases which reference
identically&minus;named objects (for example, groups with
the same name in two different search bases). This will lead
to unpredictable behavior on client machines.</p>

<p style="margin-left:17%; margin-top: 1em">Default: If not
set, the value of the defaultNamingContext or namingContexts
attribute from the RootDSE of the LDAP server is used. If
defaultNamingContext does not exist or has an empty value
namingContexts is used. The namingContexts attribute must
have a single value with the DN of the search base of the
LDAP server to make this work. Multiple values are are not
supported.</p>

<p style="margin-left:11%; margin-top: 1em">ldap_schema
(string)</p>

<p style="margin-left:17%;">Specifies the Schema Type in
use on the target LDAP server. Depending on the selected
schema, the default attribute names retrieved from the
servers may vary. The way that some attributes are handled
may also differ.</p>

<p style="margin-left:17%; margin-top: 1em">Four schema
types are currently supported:</p>

<p style="margin-left:23%; margin-top: 1em">&bull;
rfc2307</p>

<p style="margin-left:23%; margin-top: 1em">&bull;
rfc2307bis</p>

<p style="margin-left:23%; margin-top: 1em">&bull; IPA</p>

<p style="margin-left:23%; margin-top: 1em">&bull; AD</p>

<p style="margin-left:17%; margin-top: 1em">The main
difference between these schema types is how group
memberships are recorded in the server. With rfc2307, group
members are listed by name in the <i>memberUid</i>
attribute. With rfc2307bis and IPA, group members are listed
by DN and stored in the <i>member</i> attribute. The AD
schema type sets the attributes to correspond with Active
Directory 2008r2 values.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
rfc2307</p>


<p style="margin-left:11%; margin-top: 1em">ldap_default_bind_dn
(string)</p>

<p style="margin-left:17%;">The default bind DN to use for
performing LDAP operations.</p>


<p style="margin-left:11%; margin-top: 1em">ldap_default_authtok_type
(string)</p>

<p style="margin-left:17%;">The type of the authentication
token of the default bind DN.</p>

<p style="margin-left:17%; margin-top: 1em">The two
mechanisms currently supported are:</p>

<p style="margin-left:17%; margin-top: 1em">password</p>


<p style="margin-left:17%; margin-top: 1em">obfuscated_password</p>

<p style="margin-left:17%; margin-top: 1em">Default:
password</p>


<p style="margin-left:11%; margin-top: 1em">ldap_default_authtok
(string)</p>

<p style="margin-left:17%;">The authentication token of the
default bind DN. Only clear text passwords are currently
supported.</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_object_class
(string)</p>

<p style="margin-left:17%;">The object class of a user
entry in LDAP.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
posixAccount</p>

<p style="margin-left:11%; margin-top: 1em">ldap_user_name
(string)</p>

<p style="margin-left:17%;">The LDAP attribute that
corresponds to the user's login name.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
uid</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_uid_number
(string)</p>

<p style="margin-left:17%;">The LDAP attribute that
corresponds to the user's id.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
uidNumber</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_gid_number
(string)</p>

<p style="margin-left:17%;">The LDAP attribute that
corresponds to the user's primary group id.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
gidNumber</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_gecos
(string)</p>

<p style="margin-left:17%;">The LDAP attribute that
corresponds to the user's gecos field.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
gecos</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_home_directory
(string)</p>

<p style="margin-left:17%;">The LDAP attribute that
contains the name of the user's home directory.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
homeDirectory</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_shell
(string)</p>

<p style="margin-left:17%;">The LDAP attribute that
contains the path to the user's default shell.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
loginShell</p>

<p style="margin-left:11%; margin-top: 1em">ldap_user_uuid
(string)</p>

<p style="margin-left:17%;">The LDAP attribute that
contains the UUID/GUID of an LDAP user object.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
nsUniqueId</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_objectsid
(string)</p>

<p style="margin-left:17%;">The LDAP attribute that
contains the objectSID of an LDAP user object. This is
usually only necessary for ActiveDirectory servers.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
objectSid for ActiveDirectory, not set for other
servers.</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_modify_timestamp
(string)</p>

<p style="margin-left:17%;">The LDAP attribute that
contains timestamp of the last modification of the parent
object.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
modifyTimestamp</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_shadow_last_change
(string)</p>

<p style="margin-left:17%;">When using
ldap_pwd_policy=shadow, this parameter contains the name of
an LDAP attribute corresponding to its <b>shadow</b>(5)
counterpart (date of the last password change).</p>

<p style="margin-left:17%; margin-top: 1em">Default:
shadowLastChange</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_shadow_min
(string)</p>

<p style="margin-left:17%;">When using
ldap_pwd_policy=shadow, this parameter contains the name of
an LDAP attribute corresponding to its <b>shadow</b>(5)
counterpart (minimum password age).</p>

<p style="margin-left:17%; margin-top: 1em">Default:
shadowMin</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_shadow_max
(string)</p>

<p style="margin-left:17%;">When using
ldap_pwd_policy=shadow, this parameter contains the name of
an LDAP attribute corresponding to its <b>shadow</b>(5)
counterpart (maximum password age).</p>

<p style="margin-left:17%; margin-top: 1em">Default:
shadowMax</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_shadow_warning
(string)</p>

<p style="margin-left:17%;">When using
ldap_pwd_policy=shadow, this parameter contains the name of
an LDAP attribute corresponding to its <b>shadow</b>(5)
counterpart (password warning period).</p>

<p style="margin-left:17%; margin-top: 1em">Default:
shadowWarning</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_shadow_inactive
(string)</p>

<p style="margin-left:17%;">When using
ldap_pwd_policy=shadow, this parameter contains the name of
an LDAP attribute corresponding to its <b>shadow</b>(5)
counterpart (password inactivity period).</p>

<p style="margin-left:17%; margin-top: 1em">Default:
shadowInactive</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_shadow_expire
(string)</p>

<p style="margin-left:17%;">When using
ldap_pwd_policy=shadow or ldap_account_expire_policy=shadow,
this parameter contains the name of an LDAP attribute
corresponding to its <b>shadow</b>(5) counterpart (account
expiration date).</p>

<p style="margin-left:17%; margin-top: 1em">Default:
shadowExpire</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_krb_last_pwd_change
(string)</p>

<p style="margin-left:17%;">When using
ldap_pwd_policy=mit_kerberos, this parameter contains the
name of an LDAP attribute storing the date and time of last
password change in kerberos.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
krbLastPwdChange</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_krb_password_expiration
(string)</p>

<p style="margin-left:17%;">When using
ldap_pwd_policy=mit_kerberos, this parameter contains the
name of an LDAP attribute storing the date and time when
current password expires.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
krbPasswordExpiration</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_ad_account_expires
(string)</p>

<p style="margin-left:17%;">When using
ldap_account_expire_policy=ad, this parameter contains the
name of an LDAP attribute storing the expiration time of the
account.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
accountExpires</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_ad_user_account_control
(string)</p>

<p style="margin-left:17%;">When using
ldap_account_expire_policy=ad, this parameter contains the
name of an LDAP attribute storing the user account control
bit field.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
userAccountControl</p>


<p style="margin-left:11%; margin-top: 1em">ldap_ns_account_lock
(string)</p>

<p style="margin-left:17%;">When using
ldap_account_expire_policy=rhds or equivalent, this
parameter determines if access is allowed or not.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
nsAccountLock</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_nds_login_disabled
(string)</p>

<p style="margin-left:17%;">When using
ldap_account_expire_policy=nds, this attribute determines if
access is allowed or not.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
loginDisabled</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_nds_login_expiration_time
(string)</p>

<p style="margin-left:17%;">When using
ldap_account_expire_policy=nds, this attribute determines
until which date access is granted.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
loginDisabled</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_nds_login_allowed_time_map
(string)</p>

<p style="margin-left:17%;">When using
ldap_account_expire_policy=nds, this attribute determines
the hours of a day in a week when access is granted.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
loginAllowedTimeMap</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_principal
(string)</p>

<p style="margin-left:17%;">The LDAP attribute that
contains the user's Kerberos User Principal Name (UPN).</p>

<p style="margin-left:17%; margin-top: 1em">Default:
krbPrincipalName</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_ssh_public_key
(string)</p>

<p style="margin-left:17%;">The LDAP attribute that
contains the user's SSH public keys.</p>


<p style="margin-left:11%; margin-top: 1em">ldap_force_upper_case_realm
(boolean)</p>

<p style="margin-left:17%;">Some directory servers, for
example Active Directory, might deliver the realm part of
the UPN in lower case, which might cause the authentication
to fail. Set this option to a non&minus;zero value if you
want to use an upper&minus;case realm.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
false</p>


<p style="margin-left:11%; margin-top: 1em">ldap_enumeration_refresh_timeout
(integer)</p>

<p style="margin-left:17%;">Specifies how many seconds SSSD
has to wait before refreshing its cache of enumerated
records.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
300</p>


<p style="margin-left:11%; margin-top: 1em">ldap_purge_cache_timeout
(integer)</p>

<p style="margin-left:17%;">Determine how often to check
the cache for inactive entries (such as groups with no
members and users who have never logged in) and remove them
to save space.</p>

<p style="margin-left:17%; margin-top: 1em">Setting this
option to zero will disable the cache cleanup operation.</p>

<p style="margin-left:17%; margin-top: 1em">Default: 10800
(12 hours)</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_fullname
(string)</p>

<p style="margin-left:17%;">The LDAP attribute that
corresponds to the user's full name.</p>

<p style="margin-left:17%; margin-top: 1em">Default: cn</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_member_of
(string)</p>

<p style="margin-left:17%;">The LDAP attribute that lists
the user's group memberships.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
memberOf</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_authorized_service
(string)</p>

<p style="margin-left:17%;">If access_provider=ldap and
ldap_access_order=authorized_service, SSSD will use the
presence of the authorizedService attribute in the user's
LDAP entry to determine access privilege.</p>

<p style="margin-left:17%; margin-top: 1em">An explicit
deny (!svc) is resolved first. Second, SSSD searches for
explicit allow (svc) and finally for allow_all (*).</p>

<p style="margin-left:17%; margin-top: 1em">Please note
that the ldap_access_order configuration option <i>must</i>
include &ldquo;authorized_service&rdquo; in order for the
ldap_user_authorized_service option to work.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
authorizedService</p>


<p style="margin-left:11%; margin-top: 1em">ldap_user_authorized_host
(string)</p>

<p style="margin-left:17%;">If access_provider=ldap and
ldap_access_order=host, SSSD will use the presence of the
host attribute in the user's LDAP entry to determine access
privilege.</p>

<p style="margin-left:17%; margin-top: 1em">An explicit
deny (!host) is resolved first. Second, SSSD searches for
explicit allow (host) and finally for allow_all (*).</p>

<p style="margin-left:17%; margin-top: 1em">Please note
that the ldap_access_order configuration option <i>must</i>
include &ldquo;host&rdquo; in order for the
ldap_user_authorized_host option to work.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
host</p>


<p style="margin-left:11%; margin-top: 1em">ldap_group_object_class
(string)</p>

<p style="margin-left:17%;">The object class of a group
entry in LDAP.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
posixGroup</p>


<p style="margin-left:11%; margin-top: 1em">ldap_group_name
(string)</p>

<p style="margin-left:17%;">The LDAP attribute that
corresponds to the group name.</p>

<p style="margin-left:17%; margin-top: 1em">Default: cn</p>


<p style="margin-left:11%; margin-top: 1em">ldap_group_gid_number
(string)</p>

<p style="margin-left:17%;">The LDAP attribute that
corresponds to the group's id.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
gidNumber</p>


<p style="margin-left:11%; margin-top: 1em">ldap_group_member
(string)</p>

<p style="margin-left:17%;">The LDAP attribute that
contains the names of the group's members.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
memberuid (rfc2307) / member (rfc2307bis)</p>


<p style="margin-left:11%; margin-top: 1em">ldap_group_uuid
(string)</p>

<p style="margin-left:17%;">The LDAP attribute that
contains the UUID/GUID of an LDAP group object.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
nsUniqueId</p>


<p style="margin-left:11%; margin-top: 1em">ldap_group_objectsid
(string)</p>

<p style="margin-left:17%;">The LDAP attribute that
contains the objectSID of an LDAP group object. This is
usually only necessary for ActiveDirectory servers.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
objectSid for ActiveDirectory, not set for other
servers.</p>


<p style="margin-left:11%; margin-top: 1em">ldap_group_modify_timestamp
(string)</p>

<p style="margin-left:17%;">The LDAP attribute that
contains timestamp of the last modification of the parent
object.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
modifyTimestamp</p>


<p style="margin-left:11%; margin-top: 1em">ldap_group_type
(integer)</p>

<p style="margin-left:17%;">The LDAP attribute that
contains an integer value indicating the type of the group
and maybe other flags.</p>

<p style="margin-left:17%; margin-top: 1em">This attribute
is currently only used by the AD provider to determine if a
group is a domain local groups and has to be filtered out
for trusted domains.</p>

<p style="margin-left:17%; margin-top: 1em">Default:
groupType in the AD provider, othewise not set</p>


<p style="margin-left:11%; margin-top: 1em">ldap_group_nesting_level
(integer)</p>

<p style="margin-left:17%;">If ldap_schema is set to a
schema format that supports nested groups (e.g. RFC2307bis),
then this option controls how many levels of nesting SSSD
will follow. This option has no effect on the RFC2307
schema.</p>

<p style="margin-left:17%; margin-top: 1em">Default: 2</p>


<p style="margin-left:11%; margin-top: 1em">ldap_groups_use_matching_rule_in_chain</p>

<p style="margin-left:17%;">This option tells SSSD to take
advantage of an Active Directory&minus;specific feature
which may speed up group lookup operations on deployments
with complex or deep nested groups.</p>

<p style="margin-left:17%; margin-top: 1em">In most common
cases, it is best to leave this option disabled. It
generally only provides a performance increase on very
complex nestings.</p>

<p style="margin-left:17%; margin-top: 1em">If this option
is enabled, SSSD will use it if it detects that the server
supports it during initial connection. So &quot;True&quot;
here essentially means &quot;auto&minus;detect&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">Note: This
feature is currently known to work only with Active
Directory 2008 R1 and later. See
<b><font color="#0000FF">MSDN(TM) documentation</font></b>
<small><font color="#000000">[1]</font></small>
<font color="#000000">for more details.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
False</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_initgroups_use_matching_rule_in_chain</font></p>

<p style="margin-left:17%;"><font color="#000000">This
option tells SSSD to take advantage of an Active
Directory&minus;specific feature which might speed up
initgroups operations (most notably when dealing with
complex or deep nested groups).</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">If
this option is enabled, SSSD will use it if it detects that
the server supports it during initial connection. So
&quot;True&quot; here essentially means
&quot;auto&minus;detect&quot;.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Note:
This feature is currently known to work only with Active
Directory 2008 R1 and later. See</font>
<b><font color="#0000FF">MSDN(TM) documentation</font></b>
<small><font color="#000000">[1]</font></small>
<font color="#000000">for more details.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
False</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_netgroup_object_class
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The
object class of a netgroup entry in LDAP.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">In
IPA provider, ipa_netgroup_object_class should be used
instead.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
nisNetgroup</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_netgroup_name
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The LDAP
attribute that corresponds to the netgroup name.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">In
IPA provider, ipa_netgroup_name should be used
instead.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
cn</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_netgroup_member
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The LDAP
attribute that contains the names of the netgroup's
members.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">In
IPA provider, ipa_netgroup_member should be used
instead.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
memberNisNetgroup</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_netgroup_triple
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The LDAP
attribute that contains the (host, user, domain) netgroup
triples.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">This
option is not available in IPA provider.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
nisNetgroupTriple</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_netgroup_uuid
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The LDAP
attribute that contains the UUID/GUID of an LDAP netgroup
object.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">In
IPA provider, ipa_netgroup_uuid should be used
instead.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
nsUniqueId</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_netgroup_modify_timestamp
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The LDAP
attribute that contains timestamp of the last modification
of the parent object.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">This
option is not available in IPA provider.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
modifyTimestamp</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_service_object_class
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The
object class of a service entry in LDAP.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
ipService</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_service_name
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The LDAP
attribute that contains the name of service attributes and
their aliases.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
cn</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_service_port
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The LDAP
attribute that contains the port managed by this
service.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
ipServicePort</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_service_proto
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The LDAP
attribute that contains the protocols understood by this
service.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
ipServiceProtocol</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_service_search_base
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">An
optional base DN, search scope and LDAP filter to restrict
LDAP searches for this attribute type.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">syntax:</font></p>


<p style="margin-left:23%; margin-top: 1em"><font color="#000000">search_base[?scope?[filter][?search_base?scope?[filter]]*]</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">The
scope can be one of &quot;base&quot;, &quot;onelevel&quot;
or &quot;subtree&quot;. The filter must be a valid LDAP
search filter as specified by
http://www.ietf.org/rfc/rfc2254.txt</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">For
examples of this syntax, please refer to the
&ldquo;ldap_search_base&rdquo; examples section.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
the value of <i>ldap_search_base</i></font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Please
note that specifying scope or filter is not supported for
searches against an Active Directory Server that might yield
a large number of results and trigger the Range Retrieval
extension in the response.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_search_timeout
(integer)</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
the timeout (in seconds) that ldap searches are allowed to
run before they are cancelled and cached results are
returned (and offline mode is entered)</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Note:
this option is subject to change in future versions of the
SSSD. It will likely be replaced at some point by a series
of timeouts for specific lookup types.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
6</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_enumeration_search_timeout
(integer)</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
the timeout (in seconds) that ldap searches for user and
group enumerations are allowed to run before they are
cancelled and cached results are returned (and offline mode
is entered)</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
60</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_network_timeout
(integer)</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
the timeout (in seconds) after which the
<b>poll</b>(2)/<b>select</b>(2) following a
<b>connect</b>(2) returns in case of no activity.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
6</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_opt_timeout
(integer)</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
a timeout (in seconds) after which calls to synchronous LDAP
APIs will abort if no response is received. Also controls
the timeout when communicating with the KDC in case of SASL
bind.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
6</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_connection_expire_timeout
(integer)</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
a timeout (in seconds) that a connection to an LDAP server
will be maintained. After this time, the connection will be
re&minus;established. If used in parallel with SASL/GSSAPI,
the sooner of the two values (this value vs. the TGT
lifetime) will be used.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
900 (15 minutes)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_page_size
(integer)</font></p>

<p style="margin-left:17%;"><font color="#000000">Specify
the number of records to retrieve from LDAP in a single
request. Some LDAP servers enforce a maximum limit
per&minus;request.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
1000</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_disable_paging
(boolean)</font></p>

<p style="margin-left:17%;"><font color="#000000">Disable
the LDAP paging control. This option should be used if the
LDAP server reports that it supports the LDAP paging control
in its RootDSE but it is not enabled or does not behave
properly.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Example:
OpenLDAP servers with the paging control module installed on
the server but not enabled will report it in the RootDSE but
be unable to use it.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Example:
389 DS has a bug where it can only support a one paging
control at a time on a single connection. On busy clients,
this can result in some requests being denied.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
False</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_disable_range_retrieval
(boolean)</font></p>

<p style="margin-left:17%;"><font color="#000000">Disable
Active Directory range retrieval.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Active
Directory limits the number of members to be retrieved in a
single lookup using the MaxValRange policy (which defaults
to 1500 members). If a group contains more members, the
reply would include an AD&minus;specific range extension.
This option disables parsing of the range extension,
therefore large groups will appear as having no
members.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
False</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sasl_minssf
(integer)</font></p>

<p style="margin-left:17%;"><font color="#000000">When
communicating with an LDAP server using SASL, specify the
minimum security level necessary to establish the
connection. The values of this option are defined by
OpenLDAP.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
Use the system default (usually specified by
ldap.conf)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_deref_threshold
(integer)</font></p>

<p style="margin-left:17%;"><font color="#000000">Specify
the number of group members that must be missing from the
internal cache in order to trigger a dereference lookup. If
less members are missing, they are looked up
individually.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">You
can turn off dereference lookups completely by setting the
value to 0.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">A
dereference lookup is a means of fetching all group members
in a single LDAP call. Different LDAP servers may implement
different dereference methods. The currently supported
servers are 389/RHDS, OpenLDAP and Active
Directory.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000"><i>Note:</i>
If any of the search bases specifies a search filter, then
the dereference lookup performance enhancement will be
disabled regardless of this setting.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
10</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_tls_reqcert
(string)</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
what checks to perform on server certificates in a TLS
session, if any. It can be specified as one of the following
values:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000"><i>never</i>
= The client will not request or check any server
certificate.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000"><i>allow</i>
= The server certificate is requested. If no certificate is
provided, the session proceeds normally. If a bad
certificate is provided, it will be ignored and the session
proceeds normally.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000"><i>try</i>
= The server certificate is requested. If no certificate is
provided, the session proceeds normally. If a bad
certificate is provided, the session is immediately
terminated.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000"><i>demand</i>
= The server certificate is requested. If no certificate is
provided, or a bad certificate is provided, the session is
immediately terminated.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000"><i>hard</i>
= Same as &ldquo;demand&rdquo;</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
hard</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_tls_cacert
(string)</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
the file that contains certificates for all of the
Certificate Authorities that <b>sssd</b> will
recognize.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
use OpenLDAP defaults, typically in
/etc/openldap/ldap.conf</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_tls_cacertdir
(string)</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
the path of a directory that contains Certificate Authority
certificates in separate individual files. Typically the
file names need to be the hash of the certificate followed
by '.0'. If available, <b>cacertdir_rehash</b> can be used
to create the correct names.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
use OpenLDAP defaults, typically in
/etc/openldap/ldap.conf</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_tls_cert
(string)</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
the file that contains the certificate for the client's
key.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
not set</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_tls_key
(string)</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
the file that contains the client's key.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
not set</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_tls_cipher_suite
(string)</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
acceptable cipher suites. Typically this is a colon sperated
list. See <b>ldap.conf</b>(5) for format.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
use OpenLDAP defaults, typically in
/etc/openldap/ldap.conf</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_id_use_start_tls
(boolean)</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
that the id_provider connection must also use tls to protect
the channel.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
false</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_id_mapping
(boolean)</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
that SSSD should attempt to map user and group IDs from the
ldap_user_objectsid and ldap_group_objectsid attributes
instead of relying on ldap_user_uid_number and
ldap_group_gid_number.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Currently
this feature supports only ActiveDirectory objectSID
mapping.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
false</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_min_id,
ldap_max_id (interger)</font></p>

<p style="margin-left:17%;"><font color="#000000">In
contrast to the SID based ID mapping which is used if
ldap_id_mapping is set to true the allowed ID range for
ldap_user_uid_number and ldap_group_gid_number is unbound.
In a setup with sub/trusted&minus;domains this might lead to
ID collisions. To avoid collisions ldap_min_id and
ldap_max_id can be set to restrict the allowed range for the
IDs which are read directly from the server.
Sub&minus;domains can then pick other ranges to map
IDs.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
not set (both options are set to 0)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sasl_mech
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">Specify
the SASL mechanism to use. Currently only GSSAPI is tested
and supported.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
not set</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sasl_authid
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">Specify
the SASL authorization id to use. When GSSAPI is used, this
represents the Kerberos principal used for authentication to
the directory. This option can either contain the full
principal (for example host/myhost@EXAMPLE.COM) or just the
principal name (for example host/myhost).</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
host/hostname@REALM</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sasl_realm
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">Specify
the SASL realm to use. When not specified, this option
defaults to the value of krb5_realm. If the ldap_sasl_authid
contains the realm as well, this option is
ignored.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
the value of krb5_realm.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sasl_canonicalize
(boolean)</font></p>

<p style="margin-left:17%;"><font color="#000000">If set to
true, the LDAP library would perform a reverse lookup to
canonicalize the host name during a SASL bind.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
false;</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_krb5_keytab
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">Specify
the keytab to use when using SASL/GSSAPI.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
System keytab, normally /etc/krb5.keytab</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_krb5_init_creds
(boolean)</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
that the id_provider should init Kerberos credentials (TGT).
This action is performed only if SASL is used and the
mechanism selected is GSSAPI.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
true</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_krb5_ticket_lifetime
(integer)</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
the lifetime in seconds of the TGT if GSSAPI is
used.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
86400 (24 hours)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">krb5_server,
krb5_backup_server (string)</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
the comma&minus;separated list of IP addresses or hostnames
of the Kerberos servers to which SSSD should connect in the
order of preference. For more information on failover and
server redundancy, see the &ldquo;FAILOVER&rdquo; section.
An optional port number (preceded by a colon) may be
appended to the addresses or hostnames. If empty, service
discovery is enabled &minus; for more information, refer to
the &ldquo;SERVICE DISCOVERY&rdquo; section.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">When
using service discovery for KDC or kpasswd servers, SSSD
first searches for DNS entries that specify _udp as the
protocol and falls back to _tcp if none are
found.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">This
option was named &ldquo;krb5_kdcip&rdquo; in earlier
releases of SSSD. While the legacy name is recognized for
the time being, users are advised to migrate their config
files to use &ldquo;krb5_server&rdquo; instead.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">krb5_realm
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">Specify
the Kerberos REALM (for SASL/GSSAPI auth).</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
System defaults, see /etc/krb5.conf</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">krb5_canonicalize
(boolean)</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
if the host principal should be canonicalized when
connecting to LDAP server. This feature is available with
MIT Kerberos &gt;= 1.7</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
false</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">krb5_use_kdcinfo
(boolean)</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
if the SSSD should instruct the Kerberos libraries what
realm and which KDCs to use. This option is on by default,
if you disable it, you need to configure the Kerberos
library using the <b>krb5.conf</b>(5) configuration
file.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">See
the <b>sssd_krb5_locator_plugin</b>(8) manual page for more
information on the locator plugin.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
true</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_pwd_policy
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">Select
the policy to evaluate the password expiration on the client
side. The following values are allowed:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000"><i>none</i>
&minus; No evaluation on the client side. This option cannot
disable server&minus;side password policies.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000"><i>shadow</i>
&minus; Use <b>shadow</b>(5) style attributes to evaluate if
the password has expired.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000"><i>mit_kerberos</i>
&minus; Use the attributes used by MIT Kerberos to determine
if the password has expired. Use chpass_provider=krb5 to
update these attributes when the password is
changed.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
none</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000"><i>Note</i>:
if a password policy is configured on server side, it always
takes precedence over policy set with this
option.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_referrals
(boolean)</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
whether automatic referral chasing should be
enabled.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Please
note that sssd only supports referral chasing when it is
compiled with OpenLDAP version 2.4.13 or higher.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Chasing
referrals may incur a performance penalty in environments
that use them heavily, a notable example is Microsoft Active
Directory. If your setup does not in fact require the use of
referrals, setting this option to false might bring a
noticeable performance improvement.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
true</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_dns_service_name
(string)</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
the service name to use when service discovery is
enabled.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
ldap</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_chpass_dns_service_name
(string)</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
the service name to use to find an LDAP server which allows
password changes when service discovery is
enabled.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
not set, i.e. service discovery is disabled</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_chpass_update_last_change
(bool)</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
whether to update the ldap_user_shadow_last_change attribute
with days since the Epoch after a password change
operation.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
False</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_access_filter
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">If using
access_provider = ldap and ldap_access_order = filter
(default), this option is mandatory. It specifies an LDAP
search filter criteria that must be met for the user to be
granted access on this host. If access_provider = ldap,
ldap_access_order = filter and this option is not set, it
will result in all users being denied access. Use
access_provider = permit to change this default behavior.
Please note that this filter is applied on the LDAP user
entry only.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Example:</font></p>


<p style="margin-left:23%; margin-top: 1em"><font color="#000000">access_provider
= ldap <br>
ldap_access_filter = (employeeType=admin)</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">This
example means that access to this host is restricted to
users whose employeeType attribute is set to
&quot;admin&quot;.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Offline
caching for this feature is limited to determining whether
the user's last online login was granted access permission.
If they were granted access during their last login, they
will continue to be granted access while offline and
vice&minus;versa.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
Empty</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_account_expire_policy
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">With this
option a client side evaluation of access control attributes
can be enabled.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Please
note that it is always recommended to use server side access
control, i.e. the LDAP server should deny the bind request
with a suitable error code even if the password is
correct.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">The
following values are allowed:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000"><i>shadow</i>:
use the value of ldap_user_shadow_expire to determine if the
account is expired.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000"><i>ad</i>:
use the value of the 32bit field
ldap_user_ad_user_account_control and allow access if the
second bit is not set. If the attribute is missing access is
granted. Also the expiration time of the account is
checked.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000"><i>rhds</i>,
<i>ipa</i>, <i>389ds</i>: use the value of
ldap_ns_account_lock to check if access is allowed or
not.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000"><i>nds</i>:
the values of ldap_user_nds_login_allowed_time_map,
ldap_user_nds_login_disabled and
ldap_user_nds_login_expiration_time are used to check if
access is allowed. If both attributes are missing access is
granted. <i><br>
This is an experimental feature, please use
http://fedorahosted.org/sssd to report any
issues.</i></font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Please
note that the ldap_access_order configuration option
<i>must</i> include &ldquo;expire&rdquo; in order for the
ldap_account_expire_policy option to work.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
Empty</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_access_order
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">Comma
separated list of access control options. Allowed values
are:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000"><i>filter</i>:
use ldap_access_filter</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000"><i>expire</i>:
use ldap_account_expire_policy</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000"><i>authorized_service</i>:
use the authorizedService attribute to determine
access</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000"><i>host</i>:
use the host attribute to determine access</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
filter</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Please
note that it is a configuration error if a value is used
more than once.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_deref
(string)</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
how alias dereferencing is done when performing a search.
The following options are allowed:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000"><i>never</i>:
Aliases are never dereferenced.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000"><i>searching</i>:
Aliases are dereferenced in subordinates of the base object,
but not in locating the base object of the
search.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000"><i>finding</i>:
Aliases are only dereferenced when locating the base object
of the search.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000"><i>always</i>:
Aliases are dereferenced both in searching and in locating
the base object of the search.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
Empty (this is handled as <i>never</i> by the LDAP client
libraries)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_rfc2307_fallback_to_local_users
(boolean)</font></p>

<p style="margin-left:17%;"><font color="#000000">Allows to
retain local users as members of an LDAP group for servers
that use the RFC2307 schema.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">In
some environments where the RFC2307 schema is used, local
users are made members of LDAP groups by adding their names
to the memberUid attribute. The self&minus;consistency of
the domain is compromised when this is done, so SSSD would
normally remove the &quot;missing&quot; users from the
cached group memberships as soon as nsswitch tries to fetch
information about the user via getpw*() or initgroups()
calls.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">This
option falls back to checking if local users are referenced,
and caches them so that later initgroups() calls will
augment the local users with the additional LDAP
groups.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
false</font></p>

<h2>SUDO OPTIONS
<a name="SUDO OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sudorule_object_class
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The
object class of a sudo rule entry in LDAP.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
sudoRole</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sudorule_name
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The LDAP
attribute that corresponds to the sudo rule name.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
cn</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sudorule_command
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The LDAP
attribute that corresponds to the command name.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
sudoCommand</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sudorule_host
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The LDAP
attribute that corresponds to the host name (or host IP
address, host IP network, or host netgroup)</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
sudoHost</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sudorule_user
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The LDAP
attribute that corresponds to the user name (or UID, group
name or user's netgroup)</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
sudoUser</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sudorule_option
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The LDAP
attribute that corresponds to the sudo options.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
sudoOption</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sudorule_runasuser
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The LDAP
attribute that corresponds to the user name that commands
may be run as.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
sudoRunAsUser</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sudorule_runasgroup
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The LDAP
attribute that corresponds to the group name or group GID
that commands may be run as.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
sudoRunAsGroup</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sudorule_notbefore
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The LDAP
attribute that corresponds to the start date/time for when
the sudo rule is valid.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
sudoNotBefore</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sudorule_notafter
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The LDAP
attribute that corresponds to the expiration date/time,
after which the sudo rule will no longer be
valid.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
sudoNotAfter</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sudorule_order
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The LDAP
attribute that corresponds to the ordering index of the
rule.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
sudoOrder</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sudo_full_refresh_interval
(integer)</font></p>

<p style="margin-left:17%;"><font color="#000000">How many
seconds SSSD will wait between executing a full refresh of
sudo rules (which downloads all rules that are stored on the
server).</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">The
value must be greater than
<i>ldap_sudo_smart_refresh_interval</i></font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
21600 (6 hours)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sudo_smart_refresh_interval
(integer)</font></p>

<p style="margin-left:17%;"><font color="#000000">How many
seconds SSSD has to wait before executing a smart refresh of
sudo rules (which downloads all rules that have USN higher
than the highest USN of cached rules).</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">If
USN attributes are not supported by the server, the
modifyTimestamp attribute is used instead.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
900 (15 minutes)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sudo_use_host_filter
(boolean)</font></p>

<p style="margin-left:17%;"><font color="#000000">If true,
SSSD will download only rules that are applicable to this
machine (using the IPv4 or IPv6 host/network addresses and
hostnames).</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
true</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sudo_hostnames
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">Space
separated list of hostnames or fully qualified domain names
that should be used to filter the rules.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">If
this option is empty, SSSD will try to discover the hostname
and the fully qualified domain name
automatically.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">If
<i>ldap_sudo_use_host_filter</i> is <i>false</i> then this
option has no effect.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
not specified</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sudo_ip
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">Space
separated list of IPv4 or IPv6 host/network addresses that
should be used to filter the rules.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">If
this option is empty, SSSD will try to discover the
addresses automatically.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">If
<i>ldap_sudo_use_host_filter</i> is <i>false</i> then this
option has no effect.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
not specified</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sudo_include_netgroups
(boolean)</font></p>

<p style="margin-left:17%;"><font color="#000000">If true
then SSSD will download every rule that contains a netgroup
in sudoHost attribute.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">If
<i>ldap_sudo_use_host_filter</i> is <i>false</i> then this
option has no effect.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
true</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sudo_include_regexp
(boolean)</font></p>

<p style="margin-left:17%;"><font color="#000000">If true
then SSSD will download every rule that contains a wildcard
in sudoHost attribute.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">If
<i>ldap_sudo_use_host_filter</i> is <i>false</i> then this
option has no effect.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
true</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
manual page only describes attribute name mapping. For
detailed explanation of sudo related attribute semantics,
see <b>sudoers.ldap</b>(5)</font></p>

<h2>AUTOFS OPTIONS
<a name="AUTOFS OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Please
note that the default values correspond to the default
schema which is RFC2307.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_autofs_map_object_class
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The
object class of an automount map entry in LDAP.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
automountMap</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_autofs_map_name
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The name
of an automount map entry in LDAP.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
ou</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_autofs_entry_object_class
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The
object class of an automount map entry in LDAP.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
automountMap</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_autofs_entry_key
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The key
of an automount entry in LDAP. The entry usually corresponds
to a mount point.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
cn</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_autofs_entry_value
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">The key
of an automount entry in LDAP. The entry usually corresponds
to a mount point.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
automountInformation</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Please
note that the automounter only reads the master map on
startup, so if any autofs&minus;related changes are made to
the sssd.conf, you typically also need to restart the
automounter daemon after restarting the SSSD.</font></p>

<h2>ADVANCED OPTIONS
<a name="ADVANCED OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">These
options are supported by LDAP domains, but they should be
used with caution. Please include them in your configuration
only if you know what you are doing.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_netgroup_search_base
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">An
optional base DN, search scope and LDAP filter to restrict
LDAP searches for this attribute type.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">syntax:</font></p>


<p style="margin-left:23%; margin-top: 1em"><font color="#000000">search_base[?scope?[filter][?search_base?scope?[filter]]*]</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">The
scope can be one of &quot;base&quot;, &quot;onelevel&quot;
or &quot;subtree&quot;. The filter must be a valid LDAP
search filter as specified by
http://www.ietf.org/rfc/rfc2254.txt</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">For
examples of this syntax, please refer to the
&ldquo;ldap_search_base&rdquo; examples section.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
the value of <i>ldap_search_base</i></font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Please
note that specifying scope or filter is not supported for
searches against an Active Directory Server that might yield
a large number of results and trigger the Range Retrieval
extension in the response.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_user_search_base
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">An
optional base DN, search scope and LDAP filter to restrict
LDAP searches for this attribute type.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">syntax:</font></p>


<p style="margin-left:23%; margin-top: 1em"><font color="#000000">search_base[?scope?[filter][?search_base?scope?[filter]]*]</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">The
scope can be one of &quot;base&quot;, &quot;onelevel&quot;
or &quot;subtree&quot;. The filter must be a valid LDAP
search filter as specified by
http://www.ietf.org/rfc/rfc2254.txt</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">For
examples of this syntax, please refer to the
&ldquo;ldap_search_base&rdquo; examples section.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
the value of <i>ldap_search_base</i></font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Please
note that specifying scope or filter is not supported for
searches against an Active Directory Server that might yield
a large number of results and trigger the Range Retrieval
extension in the response.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_group_search_base
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">An
optional base DN, search scope and LDAP filter to restrict
LDAP searches for this attribute type.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">syntax:</font></p>


<p style="margin-left:23%; margin-top: 1em"><font color="#000000">search_base[?scope?[filter][?search_base?scope?[filter]]*]</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">The
scope can be one of &quot;base&quot;, &quot;onelevel&quot;
or &quot;subtree&quot;. The filter must be a valid LDAP
search filter as specified by
http://www.ietf.org/rfc/rfc2254.txt</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">For
examples of this syntax, please refer to the
&ldquo;ldap_search_base&rdquo; examples section.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
the value of <i>ldap_search_base</i></font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Please
note that specifying scope or filter is not supported for
searches against an Active Directory Server that might yield
a large number of results and trigger the Range Retrieval
extension in the response.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_user_search_filter
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">This
option specifies an additional LDAP search filter criteria
that restrict user searches.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">This
option is <i>deprecated</i> in favor of the syntax used by
ldap_user_search_base.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
not set</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Example:</font></p>


<p style="margin-left:23%; margin-top: 1em"><font color="#000000">ldap_user_search_filter
= (loginShell=/bin/tcsh)</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">This
filter would restrict user searches to users that have their
shell set to /bin/tcsh.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_group_search_filter
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">This
option specifies an additional LDAP search filter criteria
that restrict group searches.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">This
option is <i>deprecated</i> in favor of the syntax used by
ldap_group_search_base.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
not set</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_sudo_search_base
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">An
optional base DN, search scope and LDAP filter to restrict
LDAP searches for this attribute type.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">syntax:</font></p>


<p style="margin-left:23%; margin-top: 1em"><font color="#000000">search_base[?scope?[filter][?search_base?scope?[filter]]*]</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">The
scope can be one of &quot;base&quot;, &quot;onelevel&quot;
or &quot;subtree&quot;. The filter must be a valid LDAP
search filter as specified by
http://www.ietf.org/rfc/rfc2254.txt</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">For
examples of this syntax, please refer to the
&ldquo;ldap_search_base&rdquo; examples section.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
the value of <i>ldap_search_base</i></font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Please
note that specifying scope or filter is not supported for
searches against an Active Directory Server that might yield
a large number of results and trigger the Range Retrieval
extension in the response.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">ldap_autofs_search_base
(string)</font></p>

<p style="margin-left:17%;"><font color="#000000">An
optional base DN, search scope and LDAP filter to restrict
LDAP searches for this attribute type.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">syntax:</font></p>


<p style="margin-left:23%; margin-top: 1em"><font color="#000000">search_base[?scope?[filter][?search_base?scope?[filter]]*]</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">The
scope can be one of &quot;base&quot;, &quot;onelevel&quot;
or &quot;subtree&quot;. The filter must be a valid LDAP
search filter as specified by
http://www.ietf.org/rfc/rfc2254.txt</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">For
examples of this syntax, please refer to the
&ldquo;ldap_search_base&rdquo; examples section.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Default:
the value of <i>ldap_search_base</i></font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Please
note that specifying scope or filter is not supported for
searches against an Active Directory Server that might yield
a large number of results and trigger the Range Retrieval
extension in the response.</font></p>

<h2>FAILOVER
<a name="FAILOVER"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
failover feature allows back ends to automatically switch to
a different server if the current server fails.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>Failover
Syntax</b> <br>
The list of servers is given as a comma&minus;separated
list; any number of spaces is allowed around the comma. The
servers are listed in order of preference. The list can
contain any number of servers.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">For
each failover&minus;enabled config option, two variants
exist: <i>primary</i> and <i>backup</i>. The idea is that
servers in the primary list are preferred and backup servers
are only searched if no primary servers can be reached. If a
backup server is selected, a timeout of 31 seconds is set.
After this timeout SSSD will periodically try to reconnect
to one of the primary servers. If it succeeds, it will
replace the current active (backup) server.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>The
Failover Mechanism</b> <br>
The failover mechanism distinguishes between a machine and a
service. The back end first tries to resolve the hostname of
a given machine; if this resolution attempt fails, the
machine is considered offline. No further attempts are made
to connect to this machine for any other service. If the
resolution attempt succeeds, the back end tries to connect
to a service on this machine. If the service connection
attempt fails, then only this particular service is
considered offline and the back end automatically switches
over to the next service. The machine is still considered
online and might still be tried for another
service.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Further
connection attempts are made to machines or services marked
as offline after a specified period of time; this is
currently hard coded to 30 seconds.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">If
there are no more machines to try, the back end as a whole
switches to offline mode, and then attempts to reconnect
every 30 seconds.</font></p>

<h2>SERVICE DISCOVERY
<a name="SERVICE DISCOVERY"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
service discovery feature allows back ends to automatically
find the appropriate servers to connect to using a special
DNS query. This feature is not supported for backup
servers.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>Configuration</b>
<br>
If no servers are specified, the back end automatically uses
service discovery to try to find a server. Optionally, the
user may choose to use both fixed server addresses and
service discovery by inserting a special keyword,
&ldquo;_srv_&rdquo;, in the list of servers. The order of
preference is maintained. This feature is useful if, for
example, the user prefers to use service discovery whenever
possible, and fall back to a specific server when no servers
can be discovered using DNS.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>The
domain name</b> <br>
Please refer to the &ldquo;dns_discovery_domain&rdquo;
parameter in the <b>sssd.conf</b>(5) manual page for more
details.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>The
protocol</b> <br>
The queries usually specify _tcp as the protocol. Exceptions
are documented in respective option description.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>See
Also</b> <br>
For more information on the service discovery mechanism,
refer to RFC 2782.</font></p>

<h2>ID MAPPING
<a name="ID MAPPING"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
ID&minus;mapping feature allows SSSD to act as a client of
Active Directory without requiring administrators to extend
user attributes to support POSIX attributes for user and
group identifiers.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">NOTE:
When ID&minus;mapping is enabled, the uidNumber and
gidNumber attributes are ignored. This is to avoid the
possibility of conflicts between
automatically&minus;assigned and manually&minus;assigned
values. If you need to use manually&minus;assigned values,
ALL values must be manually&minus;assigned.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Please
note that changing the ID mapping related configuration
options will cause user and group IDs to change. At the
moment, SSSD does not support changing IDs, so the SSSD
database must be removed. Because cached passwords are also
stored in the database, removing the database should only be
performed while the authentication servers are reachable,
otherwise users might get locked out. In order to cache the
password, an authentication must be performed. It is not
sufficient to use <b>sss_cache</b>(8) to remove the
database, rather the process consists of:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">&bull;
Making sure the remote servers are reachable</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">&bull;
Stopping the SSSD service</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">&bull;
Removing the database</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">&bull;
Starting the SSSD service</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Moreover,
as the change of IDs might necessitate the adjustment of
other system properties such as file and directory
ownership, it's advisable to plan ahead and test the ID
mapping configuration thoroughly.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>Mapping
Algorithm</b> <br>
Active Directory provides an objectSID for every user and
group object in the directory. This objectSID can be broken
up into components that represent the Active Directory
domain identity and the relative identifier (RID) of the
user or group object.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
SSSD ID&minus;mapping algorithm takes a range of available
UIDs and divides it into equally&minus;sized component
sections &minus; called &quot;slices&quot;&minus;. Each
slice represents the space available to an Active Directory
domain.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">When
a user or group entry for a particular domain is encountered
for the first time, the SSSD allocates one of the available
slices for that domain. In order to make this
slice&minus;assignment repeatable on different client
machines, we select the slice based on the following
algorithm:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
SID string is passed through the murmurhash3 algorithm to
convert it to a 32&minus;bit hashed value. We then take the
modulus of this value with the total number of available
slices to pick the slice.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">NOTE:
It is possible to encounter collisions in the hash and
subsequent modulus. In these situations, we will select the
next available slice, but it may not be possible to
reproduce the same exact set of slices on other machines
(since the order that they are encountered will determine
their slice). In this situation, it is recommended to either
switch to using explicit POSIX attributes in Active
Directory (disabling ID&minus;mapping) or configure a
default domain to guarantee that at least one is always
consistent. See &ldquo;Configuration&rdquo; for
details.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>Configuration</b>
<br>
Minimum configuration (in the
&ldquo;[domain/DOMAINNAME]&rdquo; section):</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">ldap_id_mapping
= True <br>
ldap_schema = ad</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
default configuration results in configuring 10,000 slices,
each capable of holding up to 200,000 IDs, starting from
10,001 and going up to 2,000,100,000. This should be
sufficient for most deployments.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Advanced
Configuration</big></b></font></p>


<p style="margin-left:17%;"><font color="#000000">ldap_idmap_range_min
(integer)</font></p>


<p style="margin-left:23%;"><font color="#000000">Specifies
the lower bound of the range of POSIX IDs to use for mapping
Active Directory user and group SIDs.</font></p>


<p style="margin-left:23%; margin-top: 1em"><font color="#000000">NOTE:
This option is different from &ldquo;min_id&rdquo; in that
&ldquo;min_id&rdquo; acts to filter the output of requests
to this domain, whereas this option controls the range of ID
assignment. This is a subtle distinction, but the good
general advice would be to have &ldquo;min_id&rdquo; be
less&minus;than or equal to
&ldquo;ldap_idmap_range_min&rdquo;</font></p>


<p style="margin-left:23%; margin-top: 1em"><font color="#000000">Default:
200000</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">ldap_idmap_range_max
(integer)</font></p>


<p style="margin-left:23%;"><font color="#000000">Specifies
the upper bound of the range of POSIX IDs to use for mapping
Active Directory user and group SIDs.</font></p>


<p style="margin-left:23%; margin-top: 1em"><font color="#000000">NOTE:
This option is different from &ldquo;max_id&rdquo; in that
&ldquo;max_id&rdquo; acts to filter the output of requests
to this domain, whereas this option controls the range of ID
assignment. This is a subtle distinction, but the good
general advice would be to have &ldquo;max_id&rdquo; be
greater&minus;than or equal to
&ldquo;ldap_idmap_range_max&rdquo;</font></p>


<p style="margin-left:23%; margin-top: 1em"><font color="#000000">Default:
2000200000</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">ldap_idmap_range_size
(integer)</font></p>


<p style="margin-left:23%;"><font color="#000000">Specifies
the number of IDs available for each slice. If the range
size does not divide evenly into the min and max values, it
will create as many complete slices as it can.</font></p>


<p style="margin-left:23%; margin-top: 1em"><font color="#000000">Default:
200000</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">ldap_idmap_default_domain_sid
(string)</font></p>

<p style="margin-left:23%;"><font color="#000000">Specify
the domain SID of the default domain. This will guarantee
that this domain will always be assigned to slice zero in
the ID map, bypassing the murmurhash algorithm described
above.</font></p>


<p style="margin-left:23%; margin-top: 1em"><font color="#000000">Default:
not set</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">ldap_idmap_default_domain
(string)</font></p>

<p style="margin-left:23%;"><font color="#000000">Specify
the name of the default domain.</font></p>


<p style="margin-left:23%; margin-top: 1em"><font color="#000000">Default:
not set</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">ldap_idmap_autorid_compat
(boolean)</font></p>

<p style="margin-left:23%;"><font color="#000000">Changes
the behavior of the ID&minus;mapping algorithm to behave
more similarly to winbind's &ldquo;idmap_autorid&rdquo;
algorithm.</font></p>


<p style="margin-left:23%; margin-top: 1em"><font color="#000000">When
this option is configured, domains will be allocated
starting with slice zero and increasing monatomically with
each additional domain.</font></p>


<p style="margin-left:23%; margin-top: 1em"><font color="#000000">NOTE:
This algorithm is non&minus;deterministic (it depends on the
order that users and groups are requested). If this mode is
required for compatibility with machines running winbind, it
is recommended to also use the
&ldquo;ldap_idmap_default_domain_sid&rdquo; option to
guarantee that at least one domain is consistently allocated
to slice zero.</font></p>


<p style="margin-left:23%; margin-top: 1em"><font color="#000000">Default:
False</font></p>

<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
following example assumes that SSSD is correctly configured
and LDAP is set to one of the domains in the
<i>[domains]</i> section.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">[domain/LDAP]
<br>
id_provider = ldap <br>
auth_provider = ldap <br>
ldap_uri = ldap://ldap.mydomain.org <br>
ldap_search_base = dc=mydomain,dc=org <br>
ldap_tls_reqcert = demand <br>
cache_credentials = true</font></p>

<h2>NOTES
<a name="NOTES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
descriptions of some of the configuration options in this
manual page are based on the <b>ldap.conf</b>(5) manual page
from the OpenLDAP 2.4 distribution.</font></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>sssd</b>(8),
<b>sssd.conf</b>(5), <b>sssd-ldap</b>(5),
<b>sssd-krb5</b>(5), <b>sssd-simple</b>(5),
<b>sssd-ipa</b>(5), <b>sssd-ad</b>(5),
<b>sssd-sudo</b>(5),<b>sss_cache</b>(8),
<b>sss_debuglevel</b>(8), <b>sss_groupadd</b>(8),
<b>sss_groupdel</b>(8), <b>sss_groupshow</b>(8),
<b>sss_groupmod</b>(8), <b>sss_useradd</b>(8),
<b>sss_userdel</b>(8), <b>sss_usermod</b>(8),
<b>sss_obfuscate</b>(8), <b>sss_seed</b>(8),
<b>sssd_krb5_locator_plugin</b>(8),
<b>sss_ssh_authorizedkeys</b>(8),
<b>sss_ssh_knownhostsproxy</b>(8),<b>pam_sss</b>(8).</font></p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>The
SSSD upstream &minus;
http://fedorahosted.org/sssd</b></font></p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">



<p style="margin-top: 1em"><font color="#000000">1.</font></p> </td>
<td width="2%"></td>
<td width="34%">


<p style="margin-top: 1em"><font color="#000000">MSDN(TM)
documentation</font></p> </td>
<td width="49%">
</td></tr>
</table>


<p style="margin-left:17%;"><font color="#000000">http://msdn.microsoft.com/en-us/library/windows/desktop/aa746475%28v=vs.85%29.aspx</font></p>
<hr>
</body>
</html>
