<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 01:47:47 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>FENCE_AGENT</title>

</head>
<body>

<h1 align="center">FENCE_AGENT</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#PARAMETERS">PARAMETERS</a><br>
<a href="#ACTIONS">ACTIONS</a><br>
<a href="#STDIN PARAMETERS">STDIN PARAMETERS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">fence_ipmilan -
Fence agent for IPMI over LAN</p>

<p style="margin-left:11%; margin-top: 1em">fence_ilo3 -
Fence agent for HP iLO3 (symlink)</p>

<p style="margin-left:11%; margin-top: 1em">fence_ilo4 -
Fence agent for HP iLO4 (symlink)</p>

<p style="margin-left:11%; margin-top: 1em">fence_idrac -
Fence agent for Dell iDRAC (symlink)</p>

<p style="margin-left:11%; margin-top: 1em">fence_imm -
Fence agent for IBM Integrated Management Module
(symlink)</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">fence_ipmilan
is an I/O Fencing agent which can be used with machines
controlled by IPMI. This agent calls support software using
ipmitool (http://ipmitool.sf.net/).</p>

<p style="margin-left:11%; margin-top: 1em">To use
fence_ipmilan with HP iLO 3 or HP iLO 4 you have to enable
lanplus option (lanplus / -P) and increase wait after
operation to 4 seconds (power_wait=4 / -T 4)</p>

<p style="margin-left:11%; margin-top: 1em">fence_ipmilan
accepts options on the command line as well as from stdin.
Fenced sends parameters through stdin when it execs the
agent. fence_ipmilan can be run by itself with command line
options. This is useful for testing and for turning outlets
on or off from scripts.</p>

<p style="margin-left:11%; margin-top: 1em">Vendor URL:
http://www.intel.com</p>

<h2>PARAMETERS
<a name="PARAMETERS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-A</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>IPMI Lan Auth type (md5, password, or none)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-a</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>IPMI Lan IP to talk to This parameter is always
required.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-p</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Password (if required) to control power on IPMI
device</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-S</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Script to retrieve password (if required)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-P</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Use Lanplus to improve security of connection</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-l</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Username/Login (if required) to control power on IPMI
device</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-o</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Operation to perform. Valid operations: on, off, reboot,
status, list, diag, monitor or metadata (Default Value:
reboot)</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-t</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Timeout (sec) for IPMI operation</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-C</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Ciphersuite to use (same as ipmitool -C parameter)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-M</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Method to fence (onoff or cycle) (Default Value:
onoff)</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-T</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Wait X seconds after on/off operation (Default Value:
2)</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-f</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Wait X seconds before fencing is started</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-L</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Privilege level on IPMI device</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-v</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Verbose mode</p></td></tr>
</table>

<h2>ACTIONS
<a name="ACTIONS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>on</b></p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">Power on machine.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>off</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Power off machine.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>reboot</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Reboot machine.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>status</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>This returns the status of the plug/virtual machine.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>diag</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>The operational behavior of this is not known.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>list</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>List available plugs with aliases/virtual machines if
there is support for more then one device. Returns N/A
otherwise.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>monitor</b></p>

<p style="margin-left:22%;">Check the health of fence
device</p>

<p style="margin-left:11%;"><b>metadata</b></p>

<p style="margin-left:22%;">Display the XML metadata
describing this resource.</p>

<h2>STDIN PARAMETERS
<a name="STDIN PARAMETERS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>auth</b></p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">IPMI Lan Auth type (md5,
password, or none)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>ipaddr</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>IPMI Lan IP to talk to This parameter is always
required.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>passwd</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Password (if required) to control power on IPMI
device</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>passwd_script</b></p>

<p style="margin-left:22%;">Script to retrieve password (if
required)</p>

<p style="margin-left:11%;"><b>lanplus</b></p>

<p style="margin-left:22%;">Use Lanplus to improve security
of connection</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>login</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Username/Login (if required) to control power on IPMI
device</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>action</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Operation to perform. Valid operations: on, off, reboot,
status, list, diag, monitor or metadata (Default Value:
reboot)</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>timeout</b></p>

<p style="margin-left:22%;">Timeout (sec) for IPMI
operation</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>cipher</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Ciphersuite to use (same as ipmitool -C parameter)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>method</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Method to fence (onoff or cycle) (Default Value:
onoff)</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>power_wait</b></p>

<p style="margin-left:22%;">Wait X seconds after on/off
operation (Default Value: 2)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>delay</b></p></td>
<td width="4%"></td>
<td width="61%">


<p>Wait X seconds before fencing is started</p></td>
<td width="17%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>privlvl</b></p>

<p style="margin-left:22%;">Privilege level on IPMI
device</p>

<p style="margin-left:11%;"><b>verbose</b></p>

<p style="margin-left:22%;">Verbose mode</p>
<hr>
</body>
</html>
