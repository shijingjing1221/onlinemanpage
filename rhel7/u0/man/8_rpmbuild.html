<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 02:17:45 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>RPMBUILD</title>

</head>
<body>

<h1 align="center">RPMBUILD</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#FILES">FILES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHORS">AUTHORS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">rpmbuild
&minus; Build RPM Package(s)</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>BUILDING
PACKAGES: <br>
rpmbuild</b> {<b>-ba|-bb|-bp|-bc|-bi|-bl|-bs</b>}
[<b>rpmbuild-options</b>] <i>SPECFILE ...</i></p>


<p style="margin-left:11%; margin-top: 1em"><b>rpmbuild</b>
{<b>-ta|-tb|-tp|-tc|-ti|-tl|-ts</b>}
[<b>rpmbuild-options</b>] <i>TARBALL ...</i></p>


<p style="margin-left:11%; margin-top: 1em"><b>rpmbuild</b>
{<b>--rebuild|--recompile</b>} <i>SOURCEPKG ...</i></p>


<p style="margin-left:11%; margin-top: 1em"><b>MISCELLANEOUS:
<br>
rpmbuild --showrc</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>rpmbuild-options</b>
<br>
[<b>--buildroot</b> <i>DIRECTORY</i>] [<b>--clean</b>]
[<b>--nobuild</b>] <br>
[<b>--rmsource</b>] [<b>--rmspec</b>]
[<b>--short-circuit</b>] <br>
[<b>--noclean</b>] [<b>--nocheck</b>] <br>
[<b>--target</b> <i>PLATFORM</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>rpmbuild</b>
is used to build both binary and source software packages. A
<b>package</b> consists of an archive of files and meta-data
used to install and erase the archive files. The meta-data
includes helper scripts, file attributes, and descriptive
information about the package. <b>Packages</b> come in two
varieties: binary packages, used to encapsulate software to
be installed, and source packages, containing the source
code and recipe necessary to produce binary packages.</p>

<p style="margin-left:11%; margin-top: 1em">One of the
following basic modes must be selected: <b>Build
Package</b>, <b>Build Package from Tarball</b>, <b>Recompile
Package</b>, <b>Show Configuration</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>GENERAL
OPTIONS</b> <br>
These options can be used in all the different modes.
<b><br>
-?, --help</b></p>

<p style="margin-left:22%;">Print a longer usage message
then normal.</p>

<p style="margin-left:11%;"><b>--version</b></p>

<p style="margin-left:22%;">Print a single line containing
the version number of <b>rpm</b> being used.</p>

<p style="margin-left:11%;"><b>--quiet</b></p>

<p style="margin-left:22%;">Print as little as possible -
normally only error messages will be displayed.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-v</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Print verbose information - normally routine progress
messages will be displayed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-vv</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Print lots of ugly debugging information.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>--rcfile</b>
<i>FILELIST</i></p>

<p style="margin-left:22%;">Each of the files in the colon
separated <i>FILELIST</i> is read sequentially by <b>rpm</b>
for configuration information. Only the first file in the
list must exist, and tildes will be expanded to the value of
<b>$HOME</b>. The default <i>FILELIST</i> is
<i>/usr/lib/rpm/rpmrc</i>:<i>/usr/lib/rpm/redhat/rpmrc</i>:<i>/etc/rpmrc</i>:<i>~/.rpmrc</i>.</p>

<p style="margin-left:11%;"><b>--pipe</b> <i>CMD</i></p>

<p style="margin-left:22%;">Pipes the output of <b>rpm</b>
to the command <i>CMD</i>.</p>

<p style="margin-left:11%;"><b>--dbpath</b>
<i>DIRECTORY</i></p>

<p style="margin-left:22%;">Use the database in
<i>DIRECTORY</i> rather than the default path
<i>/var/lib/rpm</i></p>

<p style="margin-left:11%;"><b>--root</b>
<i>DIRECTORY</i></p>

<p style="margin-left:22%;">Use the file system tree rooted
at <i>DIRECTORY</i> for all operations. Note that this means
the database within <i>DIRECTORY</i> will be used for
dependency checks and any scriptlet(s) (e.g. <b>%post</b> if
installing, or <b>%prep</b> if building, a package) will be
run after a chroot(2) to <i>DIRECTORY</i>.</p>

<p style="margin-left:11%;"><b>-D,
--define=&rsquo;</b><i>MACRO EXPR</i><b>&rsquo;</b></p>

<p style="margin-left:22%;">Defines <i>MACRO</i> with value
<i>EXPR</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>BUILD
OPTIONS</b> <br>
The general form of an rpm build command is</p>

<p style="margin-left:11%; margin-top: 1em"><b>rpmbuild
-b</b><i>STAGE</i><b>|-t</b><i>STAGE</i> [
<b>rpmbuild-options</b> <br>
] <i>FILE ...</i></p>

<p style="margin-left:11%; margin-top: 1em">The argument
used is <b>-b</b> if a spec file is being used to build the
package and <b>-t</b> if <b>rpmbuild</b> should look inside
of a (possibly compressed) tar file for the spec file to
use. After the first argument, the next character
(<i>STAGE</i>) specifies the stages of building and
packaging to be done and is one of:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-ba</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Build binary and source packages (after doing the %prep,
%build, and %install stages).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-bb</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Build a binary package (after doing the %prep, %build,
and %install stages).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-bp</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Executes the &quot;%prep&quot; stage from the spec file.
Normally this involves unpacking the sources and applying
any patches.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-bc</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Do the &quot;%build&quot; stage from the spec file
(after doing the %prep stage). This generally involves the
equivalent of a &quot;make&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-bi</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Do the &quot;%install&quot; stage from the spec file
(after doing the %prep and %build stages). This generally
involves the equivalent of a &quot;make install&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-bl</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Do a &quot;list check&quot;. The &quot;%files&quot;
section from the spec file is macro expanded, and checks are
made to verify that each file exists.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-bs</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Build just the source package.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The following
options may also be used: <b><br>
--buildroot</b> <i>DIRECTORY</i></p>

<p style="margin-left:22%;">When building a package,
override the BuildRoot tag with directory
<i>DIRECTORY</i>.</p>

<p style="margin-left:11%;"><b>--clean</b></p>

<p style="margin-left:22%;">Remove the build tree after the
packages are made.</p>

<p style="margin-left:11%;"><b>--nobuild</b></p>

<p style="margin-left:22%;">Do not execute any build
stages. Useful for testing out spec files.</p>

<p style="margin-left:11%;"><b>--noclean</b></p>

<p style="margin-left:22%;">Do not execute %clean build
stage even if present in spec.</p>

<p style="margin-left:11%;"><b>--nocheck</b></p>

<p style="margin-left:22%;">Do not execute %check build
stage even if present in spec.</p>

<p style="margin-left:11%;"><b>--nodeps</b></p>

<p style="margin-left:22%;">Do not verify build
dependencies.</p>

<p style="margin-left:11%;"><b>--rmsource</b></p>

<p style="margin-left:22%;">Remove the sources after the
build (may also be used standalone, e.g. &quot;<b>rpmbuild
--rmsource foo.spec</b>&quot;).</p>

<p style="margin-left:11%;"><b>--rmspec</b></p>

<p style="margin-left:22%;">Remove the spec file after the
build (may also be used standalone, eg. &quot;<b>rpmbuild
--rmspec foo.spec</b>&quot;).</p>

<p style="margin-left:11%;"><b>--short-circuit</b></p>

<p style="margin-left:22%;">Skip straight to specified
stage (i.e., skip all stages leading up to the specified
stage). Only valid with <b>-bc</b>, <b>-bi</b>, and
<b>-bb</b>. Useful for local testing only. Packages built
this way will be marked with an unsatisfiable dependency to
prevent their accidental use.</p>

<p style="margin-left:11%;"><b>--target</b>
<i>PLATFORM</i></p>

<p style="margin-left:22%;">When building the package,
interpret <i>PLATFORM</i> as <b>arch-vendor-os</b> and set
the macros <b>%_target</b>, <b>%_target_cpu</b>, and
<b>%_target_os</b> accordingly.</p>

<p style="margin-left:11%; margin-top: 1em"><b>REBUILD AND
RECOMPILE OPTIONS</b> <br>
There are two other ways to invoke building with rpm:</p>

<p style="margin-left:11%; margin-top: 1em"><b>rpmbuild
--rebuild|--recompile</b> <i>SOURCEPKG ...</i></p>

<p style="margin-left:11%; margin-top: 1em">When invoked
this way, <b>rpmbuild</b> installs the named source package,
and does a prep, compile and install. In addition,
<b>--rebuild</b> builds a new binary package. When the build
has completed, the build directory is removed (as in
<b>--clean</b>) and the the sources and spec file for the
package are removed.</p>

<p style="margin-left:11%; margin-top: 1em"><b>SHOWRC</b>
<br>
The command</p>

<p style="margin-left:11%; margin-top: 1em"><b>rpmbuild
--showrc</b></p>

<p style="margin-left:11%; margin-top: 1em">shows the
values <b>rpmbuild</b> will use for all of the options are
currently set in <i>rpmrc</i> and <i>macros</i>
configuration file(s).</p>

<h2>FILES
<a name="FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>rpmrc
Configuration</b> <i><br>
/usr/lib/rpm/rpmrc <br>
/usr/lib/rpm/redhat/rpmrc <br>
/etc/rpmrc <br>
~/.rpmrc</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>Macro
Configuration</b> <i><br>
/usr/lib/rpm/macros <br>
/usr/lib/rpm/redhat/macros <br>
/etc/rpm/macros <br>
~/.rpmmacros</i></p>


<p style="margin-left:11%; margin-top: 1em"><b>Temporary</b>
<i><br>
/var/tmp/rpm*</i></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i><b>gendiff</b></i>(1),
<b><br>
popt</b>(3), <b><br>
rpm</b>(8), <b><br>
rpm2cpio</b>(8), <b><br>
rpmkeys</b>(8) <b><br>
rpmspec</b>(8), <b><br>
rpmsign</b>(8),</p>

<p style="margin-left:11%; margin-top: 1em"><b>rpmbuild
--help</b> - as rpm supports customizing the options via
popt aliases it&rsquo;s impossible to guarantee that
what&rsquo;s described in the manual matches what&rsquo;s
available.</p>


<p style="margin-left:11%; margin-top: 1em"><b>http://www.rpm.org/
&lt;URL:http://www.rpm.org/&gt;</b></p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Marc Ewing
&lt;marc@redhat.com&gt; <br>
Jeff Johnson &lt;jbj@redhat.com&gt; <br>
Erik Troan &lt;ewt@redhat.com&gt;</p>
<hr>
</body>
</html>
