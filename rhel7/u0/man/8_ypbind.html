<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 02:46:46 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>YPBIND</title>

</head>
<body>

<h1 align="center">YPBIND</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#FILES">FILES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">ypbind &minus;
NIS binding process</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>ypbind</b>
[&minus;broadcast&nbsp;|&nbsp;&minus;ypset&nbsp;|&nbsp;&minus;ypsetme]
[&minus;c] [&minus;f&nbsp;<i>configfile</i>]
[&minus;no&minus;ping] [&minus;broken&minus;server]
[&minus;local&minus;only]
[&minus;i&nbsp;|&nbsp;&minus;ping&minus;interval&nbsp;<i>ping&minus;interval</i>]
[&minus;r&nbsp;|&nbsp;&minus;rebind&minus;interval&nbsp;<i>rebind&minus;interval</i>]
[&minus;d&nbsp;|&nbsp;&minus;debug]
[&minus;v&nbsp;|&nbsp;&minus;verbose]
[&minus;n&nbsp;|&nbsp;&minus;foreground]
[&minus;p&nbsp;<i>port</i>]
[&minus;log&nbsp;<i>log&minus;options</i>]
[&minus;no&minus;dbus]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>ypbind</b>
&minus;&minus;version</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>ypbind</b>
&minus;&minus;help</p> </td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>ypbind</b>
finds the server for NIS domains and maintains the NIS
binding information. The client (normally the NIS routines
in the standard C library) could get the information over
RPC from <b>ypbind</b> or read the binding files. The
binding files resides in the directory /var/yp/binding and
are conventionally named <b>[domainname].[version]</b>. The
supported versions are 1 and 2. There could be several such
files since it is possible for an NIS client to be bound to
more than one domain.</p>

<p style="margin-left:11%; margin-top: 1em">After a binding
has been established, <b>ypbind</b> will send YPPROC_DOMAIN
requests to the current NIS server at 20 seconds intervals.
If it doesn't get an response or the NIS server reports that
he doesn't have this domain any longer, <b>ypbind</b> will
search for a new NIS server. All 15 minutes <b>ypbind</b>
will check to see if the current NIS server is the fastest.
If it find a server which answers faster, it will switch to
this server. You could tell <b>ypbind</b> to use network
broadcasts to find a new server, what is insecure, or you
could give it a list of known secure servers. In this case
<b>ypbind</b> will send a ping to all servers and binds to
first one which answers.</p>

<p style="margin-left:11%; margin-top: 1em">Unless the
option <b>&minus;debug</b> is used, ypbind detaches itself
from the controlling terminal and puts itself into
background. <b>ypbind</b> uses <b>syslog</b>(3) for logging
errors and warnings. At startup or when receiving signal
SIGHUP, <b>ypbind</b> parses the file /etc/yp.conf and tries
to use the entries for its initial binding.</p>

<p style="margin-left:11%; margin-top: 1em">A broadcast
entry in the configuration file will overwrite a
ypserver/server entry and a ypserver/server entry broadcast.
If all given server are down, <b>ypbind</b> will <b>not</b>
switch to use broadcast. <b>ypbind</b> will try at first
/etc/hosts and then <b>DNS</b> for resolving the hosts names
from /etc/yp.conf. If <b>ypbind</b> couldn't reconfigure the
search order, it will use only <b>DNS</b>. If <b>DNS</b>
isn't available, you could only use IP&minus;addresses in
/etc/hosts. <b>ypbind</b> could only reconfigure the search
order with glibc 2.x. If the <b>&minus;broadcast</b> option
is specified, <b>ypbind</b> will ignore the configuration
file. If the file does not exist or if there are no valid
entries, <b>ypbind</b> exit.</p>

<p style="margin-left:11%; margin-top: 1em">This
<b>ypbind</b> version listens for DBUS messages from
NetworkManager. If no NetworkManager is running at startup,
<b>ypbind</b> will behave as usual and assumes there is a
working network connection. If NetworkManager is running on
the system, ypbind will only search and provide NIS
informations, if NetworkManager tells that a network
connection is available. If NetworkManager establishes a
connection, <b>ypbind</b> will reread all configuration
files, registers at the local portmapper and try to search
NIS servers. If NetworkManager drops a connection,
<b>ypbind</b> will unregister from portmapper.</p>

<p style="margin-left:11%; margin-top: 1em">In Fedora we
use <b>systemd</b> for starting services. We need to finish
starting process of <b>ypbind</b> service not before service
is fully started, which means <b>ypbind</b> daemon is
prepared to answer. There is a test script
/usr/libexec/ypbind-post-waitbind used in
<b>ypbind.service</b>, that waits for <b>ypbind</b> daemon
to be fully connected to NIS server and waits by default up
to 45s. Sometimes this is not enough, because network set up
can take longer than 45s during boot, so starting
<b>ypbind.service</b> fails. User can increase the
<b>timeout</b> by setting an environment variable
<b>NISTIMEOUT</b> in /etc/sysconfig/ypbind. For example
NISTIMEOUT=180 means ypbind will wait up to 180 seconds for
binding to a NIS server. Another option is to enable
NetworkManager-wait-online.service and add an ordering rule
into <b>ypbind.service</b>, ideally by creating
/etc/systemd/system/ypbind.service with the following
content:</p>

<p style="margin-left:11%; margin-top: 1em">.include
/lib/systemd/system/ypbind.service <br>
[Service] <br>
After=NetworkManager-wait-online.service</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;broadcast</b></p>

<p style="margin-left:17%;">Send a broadcast to request the
information needed to bind to a specific NIS server. With
this option, /etc/yp.conf will be ignored.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;ypset</b></p>

<p style="margin-left:17%;">Allow <b>root</b> from any
remote machine to change the binding for a domain via the
<b>ypset</b>(8) command. By default, no one can change the
binding. This option is really insecure. If you change a
binding for a domain, all the current known servers for this
domain will be forgotten. If the new server goes down,
<b>ypbind</b> will use the old searchlist.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;ypsetme</b></p>

<p style="margin-left:17%;">The same as
<b>&minus;ypset</b>, but only <b>root</b> on the local
machine is allowed to change the binding. Such requests are
only allowed from <b>loopback</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;c</b></p>

<p style="margin-left:17%;"><b>ypbind</b> only checks if
the config file has syntax errors and exits.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;d,
&minus;debug</b></p>

<p style="margin-left:17%;">starts <b>ypbind</b> in debug
mode. <b>ypbind</b> will not put itself into background, and
error messages and debug output are written to standard
error.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;n,
&minus;foreground</b></p>

<p style="margin-left:17%;"><b>ypbind</b> will not put
itself into backgroun.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;v,
&minus;verbose</b></p>

<p style="margin-left:17%;">Causes <b>ypbind</b> to
syslog(2) any and all changes in the server its bound
to.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;broken&minus;server</b></p>

<p style="margin-left:17%;">Lets <b>ypbind</b> accept
answers from servers running on an illegal port number. This
should usually be avoided, but is required by some
<b>ypserv</b>(8) versions.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;no&minus;ping</b></p>

<p style="margin-left:17%;"><b>ypbind</b> will not check if
the binding is alive. This option is for use with dialup
connections to prevent <b>ypbind</b> from keeping the
connection unnecessarily open or causing
auto&minus;dials.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;f</b>
configfile</p>

<p style="margin-left:17%;"><b>ypbind</b> will use
<b>configfile</b> and not /etc/yp.conf</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;local&minus;only</b></p>

<p style="margin-left:17%;"><b>ypbind</b> will only bind to
the loopback device and is not reachable from a remote
network.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;p
port</b></p>

<p style="margin-left:17%;">Lets <b>ypbind</b> listen on a
specified <b>port</b> number, rather than asking portmapper
to assing a port for it.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;i,
&minus;ping&minus;interval</b> ping&minus;interval</p>

<p style="margin-left:17%;">The default value for
<b>ypbind</b> to check, if a NIS server is still reachable,
is 20 seconds. With this options another frequency in
seconds can be specified.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;r,
&minus;rebind&minus;interval</b> rebind&minus;interval</p>

<p style="margin-left:17%;">The default value for
<b>ypbind</b> to search for the fastest NIS server is 900
seconds (15 minutes). With this options another frequency in
seconds can be specified.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;log</b>
log&minus;options</p>

<p style="margin-left:17%;">Allows to log special events.
<b>log&minus;options</b> is a logical sum of values for
particular events &minus; 1 for logging rpc calls, 2 for
logging broken server calls, 4 for logging server
changes.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;no&minus;dbus</b></p>

<p style="margin-left:17%;">Disables DBUS support if
compiled in.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;version</b></p>

<p style="margin-left:17%;">Prints the version number</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">/etc/yp.conf</p>

<p style="margin-left:17%;">configuration file.</p>


<p style="margin-left:11%; margin-top: 1em">/var/yp/binding/[domainname].[version]</p>

<p style="margin-left:17%;">binding file containing
information about each NIS domain.</p>


<p style="margin-left:11%; margin-top: 1em">/var/run/ypbind.pid</p>

<p style="margin-left:17%;">contains the process id of the
currently running <b>ypbind</b> master process.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>syslog</b>(3),
<b>domainname</b>(1), <b>yp.conf</b>(5),
<b>ypdomainname</b>(8), <b>ypwhich</b>(1), <b>ypserv</b>(8),
<b>ypset</b>(8)</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>ypbind&minus;mt</b>
was written by Thorsten Kukuk &lt;kukuk@thkukuk.de&gt;.</p>
<hr>
</body>
</html>
