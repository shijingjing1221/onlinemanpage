<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 02:15:30 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PROCMAIL</title>

</head>
<body>

<h1 align="center">PROCMAIL</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#ARGUMENTS">ARGUMENTS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#FILES">FILES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#DIAGNOSTICS">DIAGNOSTICS</a><br>
<a href="#EXTENDED DIAGNOSTICS">EXTENDED DIAGNOSTICS</a><br>
<a href="#WARNINGS">WARNINGS</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#MISCELLANEOUS">MISCELLANEOUS</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#SOURCE">SOURCE</a><br>
<a href="#MAILINGLIST">MAILINGLIST</a><br>
<a href="#AUTHORS">AUTHORS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">procmail
&minus; autonomous mail processor</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>procmail</b>
[<b>&minus;ptoY</b>] [<b>&minus;f</b> <i>fromwhom</i>] <br>
[<i>parameter</i><b>=</b><i>value</i> | <i>rcfile</i>] ...
<b><br>
procmail</b> [<b>&minus;toY</b>] [<b>&minus;f</b>
<i>fromwhom</i>] [<b>&minus;a</b> <i>argument</i>] ...
<b><br>
&minus;d</b> <i>recipient</i> ... <b><br>
procmail</b> [<b>&minus;ptY</b>] <b>&minus;m</b>
[<i>parameter</i><b>=</b><i>value</i>] ... <i>rcfile</i>
<br>
[<i>argument</i>] ... <b><br>
procmail</b> [<b>&minus;toY</b>] [<b>&minus;a</b>
<i>argument</i>] <b>&minus;z <br>
procmail &minus;v</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">For a quick
start, see <b>NOTES</b> at the end.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Procmail</b>
should be invoked automatically over the <b>.forward</b>
file mechanism as soon as mail arrives. Alternatively, when
installed by a system administrator (and in the standard Red
Hat Linux configuration), it can be invoked from within the
mailer immediately. When invoked, it first sets some
environment variables to default values, reads the mail
message from stdin until an EOF, separates the body from the
header, and then, if no command line arguments are present,
it starts to look for a file named <b>$HOME/.procmailrc</b>.
According to the processing recipes in this file, the mail
message that just arrived gets distributed into the right
folder (and more). If no rcfile is found, or processing of
the rcfile falls off the end, procmail will store the mail
in the default system mailbox.</p>

<p style="margin-left:11%; margin-top: 1em">If no rcfiles
and no <b>&minus;p</b> have been specified on the command
line, procmail will, prior to reading $HOME/.procmailrc,
interpret commands from <b>/etc/procmailrc</b> (if present).
Care must be taken when creating /etc/procmailrc, because,
if circumstances permit, it will be executed with root
privileges (contrary to the $HOME/.procmailrc file of
course).</p>

<p style="margin-left:11%; margin-top: 1em">If running suid
root or with root privileges, procmail will be able to
perform as a functionally enhanced, backwards compatible
mail delivery agent.</p>

<p style="margin-left:11%; margin-top: 1em">Procmail can
also be used as a general purpose mail filter, i.e.,
provisions have been made to enable procmail to be invoked
in a special sendmail rule.</p>

<p style="margin-left:11%; margin-top: 1em">The rcfile
format is described in detail in the <b>procmailrc</b>(5)
man page.</p>

<p style="margin-left:11%; margin-top: 1em">The weighted
scoring technique is described in detail in the
<b>procmailsc</b>(5) man page.</p>

<p style="margin-left:11%; margin-top: 1em">Examples for
rcfile recipes can be looked up in the <b>procmailex</b>(5)
man page.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Signals</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>TERMINATE</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>Terminate prematurely and requeue the mail.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>HANGUP</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>Terminate prematurely and bounce the mail.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>INTERRUPT</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>Terminate prematurely and bounce the mail.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>QUIT</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>Terminate prematurely and silently lose the mail.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>ALARM</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>Force a timeout (see <b>TIMEOUT).</b></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>USR1</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>Equivalent to a <b>VERBOSE</b>=off.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>USR2</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>Equivalent to a <b>VERBOSE</b>=on.</p></td></tr>
</table>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>&minus;v</b></p></td>
<td width="4%"></td>
<td width="82%">


<p style="margin-top: 1em">Procmail will print its version
number, display its compile time configuration and exit.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;p</b></p></td>
<td width="4%"></td>
<td width="82%">


<p>Preserve any old environment. Normally procmail clears
the environment upon startup, except for the value of TZ.
However, in any case: any default values will override any
preexisting environment variables, i.e., procmail will not
pay any attention to any predefined environment variables,
it will happily overwrite them with its own defaults. For
the list of environment variables that procmail will preset
see the <b>procmailrc</b>(5) man page. If both &minus;p and
&minus;m are specified, the list of preset environment
variables shrinks to just: LOGNAME, HOME, SHELL, ORGMAIL and
MAILDIR.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;t</b></p></td>
<td width="4%"></td>
<td width="82%">


<p>Make procmail fail softly, i.e., if procmail cannot
deliver the mail to any of the destinations you gave, the
mail will not bounce, but will return to the mailqueue.
Another delivery-attempt will be made at some time in the
future.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;f</b>
<i>fromwhom</i></p>

<p style="margin-left:18%;">Causes procmail to regenerate
the leading &lsquo;From &rsquo; line with <i>fromwhom</i> as
the sender (instead of &minus;f one could use the alternate
and obsolete &minus;r). If <i>fromwhom</i> consists merely
of a single &lsquo;-&rsquo;, then procmail will only update
the timestamp on the &lsquo;From &rsquo; line (if present,
if not, it will generate a new one).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;o</b></p></td>
<td width="4%"></td>
<td width="82%">


<p>Instead of allowing anyone to generate &lsquo;From
&rsquo; lines, simply override the fakes.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;Y</b></p></td>
<td width="4%"></td>
<td width="82%">


<p>Assume traditional Berkeley mailbox format, ignore any
<b>Content-Length:</b> fields.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;a</b>
<i>argument</i></p>

<p style="margin-left:18%;">This will set $1 to be equal to
<i>argument</i>. Each succeeding <b>&minus;a</b>
<i>argument</i> will set the next number variable ($2, $3,
etc). It can be used to pass meta information along to
procmail. This is typically done by passing along the $@x
information from the sendmail mailer rule.</p>

<p style="margin-left:11%;"><b>&minus;d</b> <i>recipient
...</i></p>

<p style="margin-left:18%;">This turns on explicit delivery
mode, delivery will be to the local user <i>recipient</i>.
This, of course, only is possible if procmail has root
privileges (or if procmail is already running with the
recipient&rsquo;s euid and egid). Procmail will setuid to
the intended recipients and delivers the mail as if it were
invoked by the recipient with no arguments (i.e., if no
rcfile is found, delivery is like ordinary mail). This
option is incompatible with <b>&minus;p</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;m</b></p></td>
<td width="4%"></td>
<td width="82%">


<p>Turns procmail into a general purpose mail filter. In
this mode one rcfile must be specified on the command line.
After the rcfile, procmail will accept an unlimited number
of arguments. If the rcfile is an absolute path starting
with <b>/etc/procmailrcs/</b> without backward references
(i.e. the parent directory cannot be mentioned) procmail
will, only if no security violations are found, take on the
identity of the owner of the rcfile (or symbolic link). For
some advanced usage of this option you should look in the
<b>EXAMPLES</b> section below.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;z</b></p></td>
<td width="4%"></td>
<td width="82%">


<p>This turns on LMTP mode, wherein procmail acts as an
RFC2033 LMTP server. Delivery takes place in the same manner
and under the same restrictions as the delivery mode enabled
with <b>&minus;d</b>. This option is incompatible with
<b>&minus;p</b> and <b>&minus;f</b>.</p></td></tr>
</table>

<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Any arguments
containing an &rsquo;=&rsquo; are considered to be
environment variable assignments, they will <i>all</i> be
evaluated after the default values have been assigned and
before the first rcfile is opened.</p>

<p style="margin-left:11%; margin-top: 1em">Any other
arguments are presumed to be rcfile paths (either absolute,
or if they start with &lsquo;./&rsquo; relative to the
current directory; <b>any other relative</b> path is
relative to $HOME, unless the <b>&minus;m</b> option has
been given, in which case all relative paths are relative to
the current directory); procmail will start with the first
one it finds on the command line. The following ones will
only be parsed if the preceding ones have a not matching
HOST-directive entry, or in case they should not exist.</p>

<p style="margin-left:11%; margin-top: 1em">If no rcfiles
are specified, it looks for <b>$HOME/.procmailrc</b>. If not
even that can be found, processing will continue according
to the default settings of the environment variables and the
ones specified on the command line.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Examples for
rcfile recipes can be looked up in the <b>procmailex</b>(5)
man page. A small sample rcfile can be found in the
<b>NOTES</b> section below.</p>

<p style="margin-left:11%; margin-top: 1em">Skip the rest
of this EXAMPLES section unless you are a system
administrator who is vaguely familiar with sendmail.cf
syntax.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>&minus;m</b> option is typically used when procmail is
called from within a rule in the sendmail.cf file. In order
to be able to do this it is convenient to create an extra
&lsquo;procmail&rsquo; mailer in your sendmail.cf file (in
addition to the perhaps already present &lsquo;local&rsquo;
mailer that starts up procmail). To create such a
&lsquo;procmail&rsquo; mailer I&rsquo;d suggest something
like:</p>

<p style="margin-left:22%; margin-top: 1em">Mprocmail,
P=/usr/bin/procmail, F=mSDFMhun, S=11, R=21, <br>
A=procmail &minus;m $h $g $u</p>

<p style="margin-left:11%; margin-top: 1em">This enables
you to use rules like the following (most likely in ruleset
0) to filter mail through the procmail mailer (please note
the leading tab to continue the rule, and the tab to
separate the comments):</p>


<p style="margin-left:22%; margin-top: 1em">R$*&lt;@some.where&gt;$*
<br>
$#procmail $@/etc/procmailrcs/some.rc
$:$1@some.where.procmail$2 <br>
R$*&lt;@$*.procmail&gt;$* <br>
$1&lt;@$2&gt;$3 Already filtered, map back</p>

<p style="margin-left:11%; margin-top: 1em">And
/etc/procmailrcs/some.rc could be as simple as:</p>

<p style="margin-left:22%; margin-top: 1em">SENDER =
&quot;&lt;$1&gt;&quot; # fix for empty sender addresses <br>
SHIFT = 1 # remove it from $@</p>

<p style="margin-left:22%; margin-top: 1em">:0 # sink all
junk mail <br>
* ^Subject:.*junk <br>
/dev/null</p>

<p style="margin-left:22%; margin-top: 1em">:0 w # pass
along all other mail <br>
! &minus;oi &minus;f &quot;$SENDER&quot; &quot;$@&quot;</p>

<p style="margin-left:11%; margin-top: 1em">Do watch out
when sending mail from within the /etc/procmailrcs/some.rc
file, if you send mail to addresses which match the first
rule again, you could be creating an endless mail loop.</p>

<h2>FILES
<a name="FILES"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="17%">


<p style="margin-top: 1em"><b>/etc/passwd</b></p></td>
<td width="18%"></td>
<td width="54%">


<p style="margin-top: 1em">to set the recipient&rsquo;s
LOGNAME, HOME and SHELL variable defaults</p></td></tr>
</table>


<p style="margin-left:11%;"><b>/var/spool/mail/$LOGNAME</b></p>

<p style="margin-left:46%;">system mailbox; both the system
mailbox and the immediate directory it is in will be created
every time procmail starts and either one is not present</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="26%">


<p><b>/etc/procmailrc</b></p></td>
<td width="9%"></td>
<td width="54%">


<p>initial global rcfile</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="26%">


<p><b>/etc/procmailrcs/</b></p></td>
<td width="9%"></td>
<td width="54%">


<p>special privileges path for rcfiles</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="26%">


<p><b>$HOME/.procmailrc</b></p></td>
<td width="9%"></td>
<td width="54%">


<p>default rcfile</p></td></tr>
</table>


<p style="margin-left:11%;"><b>/var/spool/mail/$LOGNAME.lock</b></p>

<p style="margin-left:46%;">lockfile for the system mailbox
(not automatically used by procmail, unless $DEFAULT equals
/var/spool/mail/$LOGNAME and procmail is delivering to
$DEFAULT)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="27%">


<p><b>/usr/sbin/sendmail</b></p></td>
<td width="8%"></td>
<td width="54%">


<p>default mail forwarder</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="27%">


<p><b>_????&lsquo;hostname&lsquo;</b></p></td>
<td width="8%"></td>
<td width="54%">


<p>temporary &lsquo;unique&rsquo; zero-length files created
by procmail</p></td></tr>
</table>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>procmailrc</b>(5),
<b>procmailsc</b>(5), <b>procmailex</b>(5), <b>sh</b>(1),
<b>csh</b>(1), <b>mail</b>(1), <b>mailx</b>(1),
<b>binmail</b>(1), <b>uucp</b>(1), <b>aliases</b>(5),
<b>sendmail</b>(8), <b>egrep</b>(1), <b>grep</b>(1),
<b>biff</b>(1), <b>comsat</b>(8), <b>lockfile</b>(1),
<b>formail</b>(1), <b>cron</b>(1)</p>

<h2>DIAGNOSTICS
<a name="DIAGNOSTICS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Autoforwarding
mailbox found</p>

<p style="margin-left:46%;">The system mailbox had its suid
or sgid bit set, procmail terminates with EX_NOUSER assuming
that this mailbox must not be delivered to.</p>

<p style="margin-left:11%;">Bad substitution of
&quot;x&quot;</p>

<p style="margin-left:46%;">Not a valid environment
variable name specified.</p>

<p style="margin-left:11%;">Closing brace unexpected</p>

<p style="margin-left:46%;">There was no corresponding
opening brace (nesting block).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="29%">


<p>Conflicting options</p></td>
<td width="6%"></td>
<td width="54%">


<p>Not all option combinations are useful</p></td></tr>
</table>

<p style="margin-left:11%;">Conflicting x suppressed</p>

<p style="margin-left:46%;">Flag x is not compatible with
some other flag on this recipe.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="29%">


<p>Couldn&rsquo;t create &quot;x&quot;</p></td>
<td width="6%"></td>
<td width="54%">


<p>The system mailbox was missing and could not/will not be
created.</p> </td></tr>
</table>

<p style="margin-left:11%;">Couldn&rsquo;t create maildir
part &quot;x&quot;</p>

<p style="margin-left:46%;">The maildir folder
&quot;x&quot; is missing one or more required subdirectories
and procmail could not create them.</p>

<p style="margin-left:11%;">Couldn&rsquo;t create or rename
temp file &quot;x&quot;</p>

<p style="margin-left:46%;">An error occurred in the
mechanics of delivering to the directory folder
&quot;x&quot;.</p>

<p style="margin-left:11%;">Couldn&rsquo;t determine
implicit lockfile from &quot;x&quot;</p>

<p style="margin-left:46%;">There were no
&lsquo;&gt;&gt;&rsquo; redirectors to be found, using simply
&lsquo;$LOCKEXT&rsquo; as locallockfile.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="29%">


<p>Couldn&rsquo;t read &quot;x&quot;</p></td>
<td width="6%"></td>
<td width="54%">


<p>Procmail was unable to open an rcfile or it was not a
regular file, or procmail couldn&rsquo;t open an MH
directory to find the highest numbered file.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="29%">


<p>Couldn&rsquo;t unlock &quot;x&quot;</p></td>
<td width="6%"></td>
<td width="54%">


<p>Lockfile was already gone, or write permission to the
directory where the lockfile is has been denied.</p></td></tr>
</table>

<p style="margin-left:11%;">Deadlock attempted on
&quot;x&quot;</p>

<p style="margin-left:46%;">The locallockfile specified on
this recipe is equal to a still active $LOCKFILE.</p>

<p style="margin-left:11%;">Denying special privileges for
&quot;x&quot;</p>

<p style="margin-left:46%;">Procmail will not take on the
identity that comes with the rcfile because a security
violation was found (e.g. <b>&minus;p</b> or variable
assignments on the command line) or procmail had
insufficient privileges to do so.</p>

<p style="margin-left:11%;">Descriptor &quot;x&quot; was
not open</p>

<p style="margin-left:46%;">As procmail was started, stdin,
stdout or stderr was not connected (possibly an attempt to
subvert security)</p>

<p style="margin-left:11%;">Enforcing stricter permissions
on &quot;x&quot;</p>

<p style="margin-left:46%;">The system mailbox of the
recipient was found to be unsecured, procmail secured
it.</p>

<p style="margin-left:11%;">Error while writing to
&quot;x&quot;</p>

<p style="margin-left:46%;">Nonexistent subdirectory, no
write permission, pipe died or disk full.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="24%">


<p>Exceeded LINEBUF</p></td>
<td width="11%"></td>
<td width="54%">


<p>Buffer overflow detected, LINEBUF was too small,
PROCMAIL_OVERFLOW has been set.</p></td></tr>
</table>

<p style="margin-left:11%;">MAILDIR is not an absolute
path</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>MAILDIR path too long</p></td>
<td width="57%">
</td></tr>
</table>

<p style="margin-left:11%;">ORGMAIL is not an absolute
path</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>ORGMAIL path too long</p></td>
<td width="57%">
</td></tr>
</table>

<p style="margin-left:11%;">default rcfile is not an
absolute path <br>
default rcfile path too long</p>

<p style="margin-left:46%;">The specified item&rsquo;s full
path, when expanded, was longer than LINEBUF or didn&rsquo;t
start with a file separator.</p>

<p style="margin-left:11%;">Excessive output quenched from
&quot;x&quot;</p>

<p style="margin-left:46%;">The program or filter
&quot;x&quot; tried to produce too much output for the
current LINEBUF, the rest was discarded and
PROCMAIL_OVERFLOW has been set.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>Extraneous x ignored</p></td>
<td width="3%"></td>
<td width="54%">


<p>The action line or other flags on this recipe makes flag
x meaningless.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>Failed forking &quot;x&quot;</p></td>
<td width="3%"></td>
<td width="54%">


<p>Process table is full (and NORESRETRY has been
exhausted).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>Failed to execute &quot;x&quot;</p></td>
<td width="3%"></td>
<td width="54%">


<p>Program not in path, or not executable.</p></td></tr>
</table>

<p style="margin-left:11%;">Forced unlock denied on
&quot;x&quot;</p>

<p style="margin-left:46%;">No write permission in the
directory where <b>lockfile</b> &quot;x&quot; resides, or
more than one procmail trying to force a lock at exactly the
same time.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="29%">


<p>Forcing lock on &quot;x&quot;</p></td>
<td width="6%"></td>
<td width="54%">


<p><b>Lockfile</b> &quot;x&quot; is going to be removed by
force because of a timeout (see also:
<b>LOCKTIMEOUT</b>).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="29%">


<p>Incomplete recipe</p></td>
<td width="6%"></td>
<td width="54%">


<p>The start of a recipe was found, but it stranded in an
EOF.</p> </td></tr>
</table>

<p style="margin-left:11%;">Insufficient privileges</p>

<p style="margin-left:46%;">Procmail either needs root
privileges, or must have the right (e)uid <b>and</b> (e)gid
to run in delivery mode. The mail will bounce.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>Invalid regexp &quot;x&quot;</p></td>
<td width="3%"></td>
<td width="54%">


<p>The regular expression &quot;x&quot; contains errors
(most likely some missing or extraneous parens).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>Kernel-lock failed</p></td>
<td width="3%"></td>
<td width="54%">


<p>While trying to use the kernel-supported locking calls,
one of them failed (usually indicates an OS error), procmail
ignores this error and proceeds.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>Kernel-unlock failed</p></td>
<td width="3%"></td>
<td width="54%">


<p>See above.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>Lock failure on &quot;x&quot;</p></td>
<td width="3%"></td>
<td width="54%">


<p>Can only occur if you specify some real weird (and
illegal) lockfilenames or if the <b>lockfile</b> could not
be created because of insufficient permissions or
nonexistent subdirectories.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>Lost &quot;x&quot;</p></td>
<td width="3%"></td>
<td width="54%">


<p>Procmail tried to clone itself but could not find back
rcfile &quot;x&quot; (it either got removed or it was a
relative path and you changed directory since procmail
opened it last time).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>Missing action</p></td>
<td width="3%"></td>
<td width="54%">


<p>The current recipe was found to be incomplete.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>Missing closing brace</p></td>
<td width="3%"></td>
<td width="54%">


<p>A nesting block was started, but never finished.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>Missing name</p></td>
<td width="3%"></td>
<td width="54%">


<p>The &minus;f option needs an extra argument.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>Missing argument</p></td>
<td width="3%"></td>
<td width="54%">


<p>You specified the &minus;a option but forgot the
argument.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>Missing rcfile</p></td>
<td width="3%"></td>
<td width="54%">


<p>You specified the &minus;m option, procmail expects the
name of an rcfile as argument.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>Missing recipient</p></td>
<td width="3%"></td>
<td width="54%">


<p>You specified the &minus;d option or called procmail
under a different name, it expects one or more recipients as
arguments.</p> </td></tr>
</table>

<p style="margin-left:11%;">No space left to finish writing
&quot;x&quot;</p>

<p style="margin-left:46%;">The filesystem containing
&quot;x&quot; does not have enough free space to permit
delivery of the message to the file.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="31%">


<p>Out of memory</p></td>
<td width="4%"></td>
<td width="54%">


<p>The system is out of swap space (and NORESRETRY has been
exhausted).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="31%">


<p>Processing continued</p></td>
<td width="4%"></td>
<td width="54%">


<p>The unrecognised options on the command line are
ignored, proceeding as usual.</p></td></tr>
</table>

<p style="margin-left:11%;">Program failure (nnn) of
&quot;x&quot;</p>

<p style="margin-left:46%;">Program that was started by
procmail returned nnn instead of EXIT_SUCCESS (=0); if nnn
is negative, then this is the signal the program died
on.</p>

<p style="margin-left:11%;">Quota exceeded while writing
&quot;x&quot;</p>

<p style="margin-left:46%;">The filesize quota for the
recipient on the filesystem containing &quot;x&quot; does
not permit delivering the message to the file.</p>

<p style="margin-left:11%;">Renaming bogus &quot;x&quot;
into &quot;x&quot;</p>

<p style="margin-left:46%;">The system mailbox of the
recipient was found to be bogus, procmail performed evasive
actions.</p>

<p style="margin-left:11%;">Rescue of unfiltered data
succeeded/failed</p>

<p style="margin-left:46%;">A filter returned
unsuccessfully, procmail tried to get back the original
text.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>Skipped: &quot;x&quot;</p></td>
<td width="3%"></td>
<td width="54%">


<p>Couldn&rsquo;t do anything with &quot;x&quot; in the
rcfile (syntax error), ignoring it.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>Suspicious rcfile &quot;x&quot;</p></td>
<td width="3%"></td>
<td width="54%">


<p>The owner of the rcfile was not the recipient or root,
the file was world writable, or the directory that contained
it was world writable, or this was the default rcfile
($HOME/.procmailrc) and either it was group writable or the
directory that contained it was group writable (the rcfile
was not used).</p></td></tr>
</table>

<p style="margin-left:11%;">Terminating prematurely whilst
waiting for ...</p>

<p style="margin-left:46%;">Procmail received a signal
while it was waiting for ...</p>

<p style="margin-left:11%;">Timeout, terminating
&quot;x&quot;</p>

<p style="margin-left:46%;">Timeout has occurred on program
or filter &quot;x&quot;.</p>

<p style="margin-left:11%;">Timeout, was waiting for
&quot;x&quot;</p>

<p style="margin-left:46%;">Timeout has occurred on
program, filter or file &quot;x&quot;. If it was a program
or filter, then it didn&rsquo;t seem to be running
anymore.</p>

<p style="margin-left:11%;">Truncated file to former
size</p>

<p style="margin-left:46%;">The file could not be delivered
to successfully, so the file was truncated to its former
size.</p>

<p style="margin-left:11%;">Truncating &quot;x&quot; and
retrying lock</p>

<p style="margin-left:46%;">&quot;x&quot; does not seem to
be a valid filename or the file is not empty.</p>

<p style="margin-left:11%;">Unable to treat as directory
&quot;x&quot;</p>

<p style="margin-left:46%;">Either the suffix on
&quot;x&quot; would indicate that it should be an MH or
maildir folder, or it was listed as an second folder into
which to link, but it already exists and is not a
directory.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="24%">


<p>Unexpected EOL</p></td>
<td width="11%"></td>
<td width="54%">


<p>Missing closing quote, or trying to escape EOF.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="24%">


<p>Unknown user &quot;x&quot;</p></td>
<td width="11%"></td>
<td width="54%">


<p>The specified recipient does not have a corresponding
uid.</p> </td></tr>
</table>

<h2>EXTENDED DIAGNOSTICS
<a name="EXTENDED DIAGNOSTICS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Extended
diagnostics can be turned on and off through setting the
VERBOSE variable.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p style="margin-top: 1em">[pid] time &amp; date</p></td>
<td width="3%"></td>
<td width="54%">


<p style="margin-top: 1em">Procmail&rsquo;s pid and a
timestamp. Generated whenever procmail logs a diagnostic and
at least a second has elapsed since the last timestamp.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>Acquiring kernel-lock</p></td>
<td width="3%"></td>
<td width="54%">


<p>Procmail now tries to kernel-lock the most recently
opened file (descriptor).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>Assigning &quot;x&quot;</p></td>
<td width="3%"></td>
<td width="54%">


<p>Environment variable assignment.</p></td></tr>
</table>

<p style="margin-left:11%;">Assuming identity of the
recipient, VERBOSE=off</p>

<p style="margin-left:46%;">Dropping all privileges (if
any), implicitly turns off extended diagnostics.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="31%">


<p>Bypassed locking &quot;x&quot;</p></td>
<td width="4%"></td>
<td width="54%">


<p>The mail spool directory was not accessible to procmail,
it relied solely on kernel locks.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="31%">


<p>Executing &quot;x&quot;</p></td>
<td width="4%"></td>
<td width="54%">


<p>Starting program &quot;x&quot;. If it is started by
procmail directly (without an intermediate shell), procmail
will show where it separated the arguments by inserting
commas.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="31%">


<p>HOST mismatched &quot;x&quot;</p></td>
<td width="4%"></td>
<td width="54%">


<p>This host was called &quot;x&quot;, HOST contained
something else.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="31%">


<p>Locking &quot;x&quot;</p></td>
<td width="4%"></td>
<td width="54%">


<p>Creating lockfile &quot;x&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="31%">


<p>Linking to &quot;x&quot;</p></td>
<td width="4%"></td>
<td width="54%">


<p>Creating a hardlink between directory folders.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="31%">


<p>Match on &quot;x&quot;</p></td>
<td width="4%"></td>
<td width="54%">


<p>Condition matched.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="31%">


<p>Matched &quot;x&quot;</p></td>
<td width="4%"></td>
<td width="54%">


<p>Assigned &quot;x&quot; to <b>MATCH</b>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="31%">


<p>No match on &quot;x&quot;</p></td>
<td width="4%"></td>
<td width="54%">


<p>Condition didn&rsquo;t match, recipe skipped.</p></td></tr>
</table>

<p style="margin-left:11%;">Non-zero exitcode (nnn) by
&quot;x&quot;</p>

<p style="margin-left:46%;">Program that was started by
procmail as a condition or as the action of a recipe with
the &lsquo;W&rsquo; flag returned nnn instead of
EXIT_SUCCESS (=0); the usage indicates that this is not an
entirely unexpected condition.</p>

<p style="margin-left:11%;">Notified comsat:
&quot;$LOGNAME@offset:file&quot;</p>

<p style="margin-left:46%;">Sent comsat/biff a notice that
mail arrived for user $LOGNAME at &lsquo;offset&rsquo; in
&lsquo;file&rsquo;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="17%">


<p>Opening &quot;x&quot;</p></td>
<td width="18%"></td>
<td width="48%">


<p>Opening file &quot;x&quot; for appending.</p></td>
<td width="6%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="17%">


<p>Rcfile: &quot;x&quot;</p></td>
<td width="18%"></td>
<td width="48%">


<p>Rcfile changed to &quot;x&quot;.</p></td>
<td width="6%">
</td></tr>
</table>

<p style="margin-left:11%;">Reiterating kernel-lock</p>

<p style="margin-left:46%;">While attempting several
locking methods, one of these failed. Procmail will
reiterate until they all succeed in rapid succession.</p>

<p style="margin-left:11%;">Score: added newtotal
&quot;x&quot;</p>

<p style="margin-left:46%;">This condition scored
&lsquo;added&rsquo; points, which resulted in a
&lsquo;newtotal&rsquo; score.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p>Unlocking &quot;x&quot;</p></td>
<td width="15%"></td>
<td width="43%">


<p>Removing lockfile &quot;x&quot; again.</p></td>
<td width="11%">
</td></tr>
</table>

<h2>WARNINGS
<a name="WARNINGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">You should
create a shell script that uses <b>lockfile</b>(1) before
invoking your mail shell on any mailbox file other than the
system mailbox (unless of course, your mail shell uses the
same lockfiles (local or global) you specified in your
rcfile).</p>

<p style="margin-left:11%; margin-top: 1em">In the unlikely
event that you absolutely need to kill procmail before it
has finished, first try and use the regular kill command
(i.e., <i>not</i> kill &minus;9, see the subsection
<i>Signals</i> for suggestions), otherwise some
<i>lockfiles</i> might not get removed.</p>

<p style="margin-left:11%; margin-top: 1em">Beware when
using the <b>&minus;t</b> option, if procmail repeatedly is
unable to deliver the mail (e.g., due to an incorrect
rcfile), the system mailqueue could fill up. This could
aggravate both the local postmaster and other users.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>/etc/procmailrc</b> file might be executed with root
privileges, so be very careful of what you put in it.
<b>SHELL</b> will be equal to that of the current recipient,
so if procmail has to invoke the shell, you&rsquo;d better
set it to some safe value first. See also:
<b>DROPPRIVS</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Keep in mind
that if <b>chown</b>(1) is permitted on files in
<b>/etc/procmailrcs/</b>, that they can be chowned to root
(or anyone else) by their current owners. For maximum
security, make sure this directory is <i>executable</i> to
root only.</p>

<p style="margin-left:11%; margin-top: 1em">Procmail is not
the proper tool for sharing one mailbox among many users,
such as when you have one POP account for all mail to your
domain. It can be done if you manage to configure your MTA
to add some headers with the envelope recipient data in
order to tell Procmail who a message is for, but this is
usually not the right thing to do. Perhaps you want to
investigate if your MTA offers &lsquo;virtual user
tables&rsquo;, or check out the &lsquo;multidrop&rsquo;
facility of Fetchmail.</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">After removing
a lockfile by force, procmail waits $SUSPEND seconds before
creating a new lockfile so that another process that decides
to remove the stale lockfile will not remove the newly
created lock by mistake.</p>

<p style="margin-left:11%; margin-top: 1em">Procmail uses
the regular TERMINATE signal to terminate any runaway
filter, but it does not check if the filter responds to that
signal and it only sends it to the filter itself, not to any
of the filter&rsquo;s children.</p>

<p style="margin-left:11%; margin-top: 1em">A continued
<b>Content-Length:</b> field is not handled correctly.</p>

<p style="margin-left:11%; margin-top: 1em">The embedded
newlines in a continued header should be skipped when
matching instead of being treated as a single space as they
are now.</p>

<h2>MISCELLANEOUS
<a name="MISCELLANEOUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If there is an
existing <b>Content-Length:</b> field in the header of the
mail and the <b>&minus;Y</b> option is not specified,
procmail will trim the field to report the correct size.
Procmail does not change the fieldwidth.</p>

<p style="margin-left:11%; margin-top: 1em">If there is no
<b>Content-Length:</b> field or the <b>&minus;Y</b> option
has been specified and procmail appends to regular
mailfolders, any lines in the body of the message that look
like postmarks are prepended with &lsquo;&gt;&rsquo;
(disarms bogus mailheaders). The regular expression that is
used to search for these postmarks is:</p>

<p style="margin-left:22%;">&lsquo;\nFrom &rsquo;</p>

<p style="margin-left:11%; margin-top: 1em">If the
destination name used in explicit delivery mode is not in
/etc/passwd, procmail will proceed as if explicit delivery
mode was not in effect. If not in explicit delivery mode and
should the uid procmail is running under, have no
corresponding /etc/passwd entry, then HOME will default to
/, LOGNAME will default to #uid, SHELL will default to
/bin/sh, and ORGMAIL will default to /tmp/dead.letter.</p>

<p style="margin-left:11%; margin-top: 1em">When in
explicit delivery mode, procmail will generate a leading
&lsquo;From &rsquo; line if none is present. If one is
already present procmail will leave it intact. If procmail
is not invoked with one of the following user or group ids:
root, daemon, uucp, mail, x400, network, list, slist, lists
or news, but still has to generate or accept a new
&lsquo;From &rsquo; line, it will generate an additional
&lsquo;&gt;From &rsquo; line to help distinguish fake
mails.</p>

<p style="margin-left:11%; margin-top: 1em">For security
reasons procmail will only use an absolute or $HOME-relative
rcfile if it is owned by the recipient or root, not world
writable, and the directory it is contained in is not world
writable. The $HOME/.procmailrc file has the additional
constraint of not being group-writable or in a
group-writable directory.</p>

<p style="margin-left:11%; margin-top: 1em">If
/var/spool/mail/$LOGNAME is a bogus mailbox (i.e., does not
belong to the recipient, is unwritable, is a symbolic link
or is a hard link), procmail will upon startup try to rename
it into a file starting with &lsquo;BOGUS.$LOGNAME.&rsquo;
and ending in an inode-sequence-code. If this turns out to
be impossible, <b>ORGMAIL</b> will have <i>no</i> initial
value, and hence will inhibit delivery without a proper
rcfile.</p>

<p style="margin-left:11%; margin-top: 1em">If
/var/spool/mail/$LOGNAME already is a valid mailbox, but has
got too loose permissions on it, procmail will correct this.
To prevent procmail from doing this make sure the u+x bit is
set.</p>

<p style="margin-left:11%; margin-top: 1em">When delivering
to directories, MH folders, or maildir folders, you
<b>don&rsquo;t</b> need to use lockfiles to prevent several
concurrently running procmail programs from messing up.</p>

<p style="margin-left:11%; margin-top: 1em">Delivering to
MH folders is slightly more time consuming than delivering
to normal directories or mailboxes, because procmail has to
search for the next available number (instead of having the
filename immediately available).</p>

<p style="margin-left:11%; margin-top: 1em">On general
failure procmail will return EX_CANTCREAT, unless option
<b>&minus;t</b> is specified, in which case it will return
EX_TEMPFAIL.</p>

<p style="margin-left:11%; margin-top: 1em">To make
&lsquo;egrepping&rsquo; of headers more consistent, procmail
concatenates all continued header fields; but only
internally. When delivering the mail, line breaks will
appear as before.</p>

<p style="margin-left:11%; margin-top: 1em">If procmail is
called under a name not starting with &lsquo;procmail&rsquo;
(e.g., if it is linked to another name and invoked as such),
it comes up in explicit delivery mode, and expects the
recipients&rsquo; names as command line arguments (as if
&minus;d had been specified).</p>

<p style="margin-left:11%; margin-top: 1em">Comsat/biff
notifications are done using udp. They are sent off once
when procmail generates the regular logfile entry. The
notification messages have the following extended format (or
as close as you can get when final delivery was not to a
file):</p>


<p style="margin-left:22%;">$LOGNAME@offset_of_message_in_mailbox:absolute_path_to_mailbox</p>

<p style="margin-left:11%; margin-top: 1em">Whenever
procmail itself opens a file to deliver to, it consistently
uses the following kernel locking strategies:
<b>fcntl</b>(2).</p>

<p style="margin-left:11%; margin-top: 1em">Procmail is
NFS-resistant and eight-bit clean.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Calling up
procmail with the &minus;h or &minus;? options will cause it
to display a command-line help and recipe flag
quick-reference page.</p>

<p style="margin-left:11%; margin-top: 1em">There exists an
excellent newbie FAQ about mailfilters (and procmail in
particular); it is maintained by Nancy McGough
&lt;nancym@ii.com&gt; and can be obtained by sending a mail
to mail-server@rtfm.mit.edu with the following in the
body:</p>

<p style="margin-left:22%;">send
usenet/news.answers/mail/filtering-faq</p>

<p style="margin-left:11%; margin-top: 1em">If procmail is
<i>not</i> installed globally as the default mail delivery
agent (ask your system administrator), you have to make sure
it is invoked when your mail arrives. In this case your
$HOME/.forward (beware, it <b>has</b> to be world readable)
file should contain the line below. Be sure to include the
single and double quotes, and unless you know your site to
be running smrsh (the SendMail Restricted SHell), it must be
an <i>absolute</i> path.</p>

<p style="margin-left:11%; margin-top: 1em">&quot;|exec
/usr/bin/procmail&quot;</p>

<p style="margin-left:11%; margin-top: 1em">Some mailers
(notably exim) do not currently accept the above syntax. In
such case use this instead:</p>


<p style="margin-left:11%; margin-top: 1em">|/usr/bin/procmail</p>

<p style="margin-left:11%; margin-top: 1em">Procmail can
also be invoked to postprocess an already filled system
mailbox. This can be useful if you don&rsquo;t want to or
can&rsquo;t use a $HOME/.forward file (in which case the
following script could periodically be called from within
<b>cron</b>(1), or whenever you start reading mail):</p>

<p style="margin-left:22%; margin-top: 1em">#!/bin/sh</p>


<p style="margin-left:22%; margin-top: 1em">ORGMAIL=/var/spool/mail/$LOGNAME</p>

<p style="margin-left:22%; margin-top: 1em">if cd $HOME
&amp;&amp; <br>
test &minus;s $ORGMAIL &amp;&amp; <br>
lockfile &minus;r0 &minus;l1024 .newmail.lock 2&gt;/dev/null
<br>
then <br>
trap &quot;rm &minus;f .newmail.lock&quot; 1 2 3 13 15 <br>
umask 077 <br>
lockfile &minus;l1024 &minus;ml <br>
cat $ORGMAIL &gt;&gt;.newmail &amp;&amp; <br>
cat /dev/null &gt;$ORGMAIL <br>
lockfile &minus;mu <br>
formail &minus;s procmail &lt;.newmail &amp;&amp; <br>
rm &minus;f .newmail <br>
rm &minus;f .newmail.lock <br>
fi <br>
exit 0</p>

<p style="margin-left:11%; margin-top: 1em"><b>A sample
small $HOME/.procmailrc:</b> <br>
PATH=/usr/local/bin:/usr/bin:/bin <br>
MAILDIR=$HOME/Mail #you&rsquo;d better make sure it exists
<br>
DEFAULT=$MAILDIR/mbox #completely optional <br>
LOGFILE=$MAILDIR/from #recommended</p>

<p style="margin-left:11%; margin-top: 1em">:0: <br>
* ^From.*berg <br>
from_me</p>

<p style="margin-left:11%; margin-top: 1em">:0 <br>
* ^Subject:.*Flame <br>
/dev/null</p>

<p style="margin-left:11%; margin-top: 1em">Other examples
for rcfile recipes can be looked up in the
<b>procmailex</b>(5) man page.</p>

<h2>SOURCE
<a name="SOURCE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This program is
part of the <i>procmail mail-processing-package</i> (v3.22)
available at http://www.procmail.org/ or ftp.procmail.org in
<b>pub/procmail/</b>.</p>

<h2>MAILINGLIST
<a name="MAILINGLIST"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">There exists a
mailinglist for questions relating to any program in the
procmail package:</p>


<p style="margin-left:22%;">&lt;procmail-users@procmail.org&gt;</p>

<p style="margin-left:32%;">for submitting
questions/answers.</p>


<p style="margin-left:22%;">&lt;procmail-users-request@procmail.org&gt;</p>

<p style="margin-left:32%;">for subscription requests.</p>

<p style="margin-left:11%; margin-top: 1em">If you would
like to stay informed about new versions and official
patches send a subscription request to</p>


<p style="margin-left:22%;">procmail-announce-request@procmail.org</p>

<p style="margin-left:11%;">(this is a readonly list).</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Stephen R. van
den Berg</p>

<p style="margin-left:22%;">&lt;srb@cuci.nl&gt;</p>

<p style="margin-left:11%;">Philip A. Guenther</p>


<p style="margin-left:22%;">&lt;guenther@sendmail.com&gt;</p>
<hr>
</body>
</html>
