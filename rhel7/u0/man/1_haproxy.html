<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 01:27:32 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>HAPROXY</title>

</head>
<body>

<h1 align="center">HAPROXY</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#LOGGING">LOGGING</a><br>
<a href="#SIGNALS">SIGNALS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">HAProxy &minus;
fast and reliable http reverse proxy and load balancer</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">haproxy
&minus;f &lt;configuration&nbsp;file&gt;
[&minus;L&nbsp;&lt;name&gt;] [&minus;n&nbsp;maxconn]
[&minus;N&nbsp;maxconn] [&minus;C&nbsp;&lt;dir&gt;]
[&minus;v|&minus;vv] [&minus;d] [&minus;D] [&minus;q]
[&minus;V] [&minus;c] [&minus;p&nbsp;&lt;pidfile&gt;]
[&minus;dk] [&minus;ds] [&minus;de] [&minus;dp] [&minus;db]
[&minus;dM[&lt;byte&gt;]] [&minus;m&nbsp;&lt;megs&gt;]
[{&minus;sf|&minus;st}&nbsp;pidlist...]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">HAProxy is a
TCP/HTTP reverse proxy which is particularly suited for high
availability environments. Indeed, it can: <br>
&minus; route HTTP requests depending on statically assigned
cookies ; <br>
&minus; spread the load among several servers while assuring
server <br>
persistence through the use of HTTP cookies ; <br>
&minus; switch to backup servers in the event a main one
fails ; <br>
&minus; accept connections to special ports dedicated to
service <br>
monitoring ; <br>
&minus; stop accepting connections without breaking existing
ones ; <br>
&minus; add/modify/delete HTTP headers both ways ; <br>
&minus; block requests matching a particular pattern ; <br>
&minus; hold clients to the right application server
depending on <br>
application cookies <br>
&minus; report detailed status as HTML pages to
authenticated users from an <br>
URI intercepted from the application.</p>

<p style="margin-left:11%; margin-top: 1em">It needs very
little resource. Its event-driven architecture allows it to
easily handle thousands of simultaneous connections on
hundreds of instances without risking the system&rsquo;s
stability.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;f
&lt;configuration file&gt;</b></p>

<p style="margin-left:22%;">Specify configuration file
path.</p>

<p style="margin-left:11%;"><b>&minus;L
&lt;name&gt;</b></p>

<p style="margin-left:22%;">Set the local instance&rsquo;s
peer name. Peers are defined in the <b>peers</b>
configuration section and used for syncing stick tables
between different instances. If this option is not
specified, the local hostname is used as peer name.</p>

<p style="margin-left:11%;"><b>&minus;n
&lt;maxconn&gt;</b></p>

<p style="margin-left:22%;">Set the high limit for the
total number of simultaneous connections.</p>

<p style="margin-left:11%;"><b>&minus;N
&lt;maxconn&gt;</b></p>

<p style="margin-left:22%;">Set the high limit for the
per-listener number of simultaneous connections.</p>

<p style="margin-left:11%;"><b>&minus;C &lt;dir&gt;</b></p>

<p style="margin-left:22%;">Change directory to
&lt;<i>dir</i>&gt; before loading any files.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>&minus;v</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Display HAProxy&rsquo;s version.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>&minus;vv</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Display HAProxy&rsquo;s version and all build
options.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>&minus;d</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Start in foregreound with debugging mode enabled. When
the proxy runs in this mode, it dumps every connections,
disconnections, timestamps, and HTTP headers to stdout. This
should NEVER be used in an init script since it will prevent
the system from starting up.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>&minus;D</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Start in daemon mode.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>&minus;Ds</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Start in systemd daemon mode, keeping a process in
foreground.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>&minus;q</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Disable messages on output.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>&minus;V</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Displays messages on output even when &minus;q or
&rsquo;quiet&rsquo; are specified. Some information about
pollers and config file are displayed during startup.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>&minus;c</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Only checks config file and exits with code 0 if no
error was found, or exits with code 1 if a syntax error was
found.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;p
&lt;pidfile&gt;</b></p>

<p style="margin-left:22%;">Ask the process to write down
each of its children&rsquo;s pids to this file in daemon
mode.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>&minus;dk</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Disable use of <b>kqueue</b>(2). <b>kqueue</b>(2) is
available only on BSD systems.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>&minus;ds</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Disable use of speculative <b>epoll</b>(7).
<b>epoll</b>(7) is available only on Linux 2.6 and some
custom Linux 2.4 systems.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>&minus;de</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Disable use of <b>epoll</b>(7). <b>epoll</b>(7) is
available only on Linux 2.6 and some custom Linux 2.4
systems.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>&minus;dp</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Disables use of <b>poll</b>(2). <b>select</b>(2) might
be used instead.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>&minus;dS</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Disables use of <b>splice</b>(2), which is broken on
older kernels.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>&minus;db</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Disables background mode (stays in foreground, useful
for debugging). For debugging, the &rsquo;&minus;db&rsquo;
option is very useful as it temporarily disables daemon mode
and multi-process mode. The service can then be stopped by
simply pressing Ctrl-C, without having to edit the config
nor run full debug.</p></td></tr>
</table>


<p style="margin-left:11%;"><b>&minus;dM[&lt;byte&gt;]</b></p>

<p style="margin-left:22%;">Initializes all allocated
memory areas with the given &lt;<i>byte</i>&gt;. This makes
it easier to detect bugs resulting from uninitialized memory
accesses, at the expense of touching all allocated memory
once. If &lt;<i>byte</i>&gt; is not specified, it defaults
to 0x50 (ASCII &rsquo;P&rsquo;).</p>

<p style="margin-left:11%;"><b>&minus;m
&lt;megs&gt;</b></p>

<p style="margin-left:22%;">Enforce a memory usage limit to
a maximum of &lt;megs&gt; megabytes.</p>

<p style="margin-left:11%;"><b>&minus;sf
&lt;pidlist&gt;</b></p>

<p style="margin-left:22%;">Send FINISH signal to the pids
in pidlist after startup. The processes which receive this
signal will wait for all sessions to finish before exiting.
This option must be specified last, followed by any number
of PIDs. Technically speaking, <b>SIGTTOU</b> and
<b>SIGUSR1</b> are sent.</p>

<p style="margin-left:11%;"><b>&minus;st
&lt;pidlist&gt;</b></p>

<p style="margin-left:22%;">Send TERMINATE signal to the
pids in pidlist after startup. The processes which receive
this signal will wait immediately terminate, closing all
active sessions. This option must be specified last,
followed by any number of PIDs. Technically speaking,
<b>SIGTTOU</b> and <b>SIGTERM</b> are sent.</p>

<h2>LOGGING
<a name="LOGGING"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Since HAProxy
can run inside a chroot, it cannot reliably access /dev/log.
For this reason, it uses the UDP protocol to send its logs
to the server, even if it is the local server. People who
experience trouble receiving logs should ensure that their
syslog daemon listens to the UDP socket. Several Linux
distributions which ship with syslogd from the sysklogd
package have UDP disabled by default. The <b>&minus;r</b>
option must be passed to the daemon in order to enable
UDP.</p>

<h2>SIGNALS
<a name="SIGNALS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Some signals
have a special meaning for the haproxy daemon. Generally,
they are used between daemons and need not be used by the
administrator. <br>
&minus; <b>SIGUSR1</b></p>

<p style="margin-left:22%;">Tells the daemon to stop all
proxies and exit once all sessions are closed. It is often
referred to as the &quot;soft-stop&quot; signal.</p>

<p style="margin-left:11%;">&minus; <b>SIGTTOU</b></p>

<p style="margin-left:22%;">Tells the daemon to stop
listening to all sockets. Used internally by
<b>&minus;sf</b> and <b>&minus;st</b>.</p>

<p style="margin-left:11%;">&minus; <b>SIGTTIN</b></p>

<p style="margin-left:22%;">Tells the daemon to restart
listening to all sockets after a <b>SIGTTOU</b>. Used
internally when there was a problem during hot
reconfiguration.</p>

<p style="margin-left:11%;">&minus; <b>SIGINT</b> and
<b>SIGTERM</b></p>

<p style="margin-left:22%;">Both signals can be used to
quickly stop the daemon.</p>

<p style="margin-left:11%;">&minus; <b>SIGHUP</b></p>

<p style="margin-left:22%;">Dumps the status of all proxies
and servers into the logs. Mostly used for trouble-shooting
purposes.</p>

<p style="margin-left:11%;">&minus; <b>SIGQUIT</b></p>

<p style="margin-left:22%;">Dumps information about memory
pools on stderr. Mostly used for debugging purposes.</p>

<p style="margin-left:11%;">&minus; <b>SIGPIPE</b></p>

<p style="margin-left:22%;">This signal is intercepted and
ignored on systems without <b>MSG_NOSIGNAL</b>.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">A much better
documentation can be found in configuration.txt. On Debian
systems, you can find this file in
/usr/share/doc/haproxy/configuration.txt.gz.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">HAProxy was
written by Willy Tarreau. This man page was written by
Arnaud Cornet and Willy Tarreau.</p>
<hr>
</body>
</html>
