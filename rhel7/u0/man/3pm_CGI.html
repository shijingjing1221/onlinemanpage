<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov 12 01:34:23 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>CGI</title>

</head>
<body>

<h1 align="center">CGI</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#GENERATING DYNAMIC DOCUMENTS">GENERATING DYNAMIC DOCUMENTS</a><br>
<a href="#CREATING STANDARD HTML ELEMENTS:">CREATING STANDARD HTML ELEMENTS:</a><br>
<a href="#CREATING FILL-OUT FORMS:">CREATING FILL-OUT FORMS:</a><br>
<a href="#HTTP COOKIES">HTTP COOKIES</a><br>
<a href="#WORKING WITH FRAMES">WORKING WITH FRAMES</a><br>
<a href="#SUPPORT FOR JAVASCRIPT">SUPPORT FOR JAVASCRIPT</a><br>
<a href="#LIMITED SUPPORT FOR CASCADING STYLE SHEETS">LIMITED SUPPORT FOR CASCADING STYLE SHEETS</a><br>
<a href="#DEBUGGING">DEBUGGING</a><br>
<a href="#FETCHING ENVIRONMENT VARIABLES">FETCHING ENVIRONMENT VARIABLES</a><br>
<a href="#USING NPH SCRIPTS">USING NPH SCRIPTS</a><br>
<a href="#Server Push">Server Push</a><br>
<a href="#Avoiding Denial of Service Attacks">Avoiding Denial of Service Attacks</a><br>
<a href="#COMPATIBILITY WITH CGI&minus;LIB.PL">COMPATIBILITY WITH CGI&minus;LIB.PL</a><br>
<a href="#AUTHOR INFORMATION">AUTHOR INFORMATION</a><br>
<a href="#CREDITS">CREDITS</a><br>
<a href="#A COMPLETE EXAMPLE OF A SIMPLE FORM-BASED SCRIPT">A COMPLETE EXAMPLE OF A SIMPLE FORM-BASED SCRIPT</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#POD ERRORS">POD ERRORS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">CGI &minus;
Handle Common Gateway Interface requests and responses</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<pre style="margin-left:11%; margin-top: 1em">    use CGI;
    my $q = CGI&minus;&gt;new;
    # Process an HTTP request
     @values  = $q&minus;&gt;param('form_field');
     $fh      = $q&minus;&gt;upload('file_field');
     $riddle  = $query&minus;&gt;cookie('riddle_name');
     %answers = $query&minus;&gt;cookie('answers');
    # Prepare various HTTP responses
    print $q&minus;&gt;header();
    print $q&minus;&gt;header('application/json');
        $cookie1 = $q&minus;&gt;cookie(&minus;name=&gt;'riddle_name', &minus;value=&gt;&quot;The Sphynx's Question&quot;);
        $cookie2 = $q&minus;&gt;cookie(&minus;name=&gt;'answers', &minus;value=&gt;\%answers);
    print $q&minus;&gt;header(
        &minus;type    =&gt; 'image/gif',
        &minus;expires =&gt; '+3d',
        &minus;cookie  =&gt; [$cookie1,$cookie2]
        );
   print  $q&minus;&gt;redirect('http://somewhere.else/in/movie/land');</pre>


<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><small>CGI</small>
.pm is a stable, complete and mature solution for processing
and preparing <small>HTTP</small> requests and responses.
Major features including processing form submissions, file
uploads, reading and writing cookies, query string
generation and manipulation, and processing and preparing
<small>HTTP</small> headers. Some <small>HTML</small>
generation utilities are included as well.</p>


<p style="margin-left:11%; margin-top: 1em"><small>CGI</small>
.pm performs very well in in a vanilla <small>CGI</small>
.pm environment and also comes with built-in support for
mod_perl and mod_perl2 as well as FastCGI.</p>

<p style="margin-left:11%; margin-top: 1em">It has the
benefit of having developed and refined over 10 years with
input from dozens of contributors and being deployed on
thousands of websites. <small>CGI</small> .pm has been
included in the Perl distribution since Perl 5.4, and has
become a de-facto standard.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>PROGRAMMING
STYLE</small></b> <br>
There are two styles of programming with <small>CGI</small>
.pm, an object-oriented style and a function-oriented style.
In the object-oriented style you create one or more
<small>CGI</small> objects and then use object methods to
create the various elements of the page. Each
<small>CGI</small> object starts out with the list of named
parameters that were passed to your <small>CGI</small>
script by the server. You can modify the objects, save them
to a file or database and recreate them. Because each object
corresponds to the &quot;state&quot; of the
<small>CGI</small> script, and because each object&rsquo;s
parameter list is independent of the others, this allows you
to save the state of the script and restore it later.</p>

<p style="margin-left:11%; margin-top: 1em">For example,
using the object oriented style, here is how you create a
simple &quot;Hello World&quot; <small>HTML</small> page:</p>

<pre style="margin-left:11%; margin-top: 1em">   #!/usr/local/bin/perl &minus;w
   use CGI;                             # load CGI routines
   $q = CGI&minus;&gt;new;                        # create new CGI object
   print $q&minus;&gt;header,                    # create the HTTP header
         $q&minus;&gt;start_html('hello world'), # start the HTML
         $q&minus;&gt;h1('hello world'),         # level 1 header
         $q&minus;&gt;end_html;                  # end the HTML</pre>


<p style="margin-left:11%; margin-top: 1em">In the
function-oriented style, there is one default
<small>CGI</small> object that you rarely deal with
directly. Instead you just call functions to retrieve
<small>CGI</small> parameters, create <small>HTML</small>
tags, manage cookies, and so on. This provides you with a
cleaner programming interface, but limits you to using one
<small>CGI</small> object at a time. The following example
prints the same page, but uses the function-oriented
interface. The main differences are that we now need to
import a set of functions into our name space (usually the
&quot;standard&quot; functions), and we don&rsquo;t need to
create the <small>CGI</small> object.</p>

<pre style="margin-left:11%; margin-top: 1em">   #!/usr/local/bin/perl
   use CGI qw/:standard/;           # load standard CGI routines
   print header,                    # create the HTTP header
         start_html('hello world'), # start the HTML
         h1('hello world'),         # level 1 header
         end_html;                  # end the HTML</pre>


<p style="margin-left:11%; margin-top: 1em">The examples in
this document mainly use the object-oriented style. See
<small>HOW TO IMPORT FUNCTIONS</small> for important
information on function-oriented programming in
<small>CGI</small> .pm</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>CALLING
CGI.PM ROUTINES</small></b> <br>
Most <small>CGI</small> .pm routines accept several
arguments, sometimes as many as 20 optional ones! To
simplify this interface, all routines use a named argument
calling style that looks like this:</p>

<pre style="margin-left:11%; margin-top: 1em">   print $q&minus;&gt;header(&minus;type=&gt;'image/gif',&minus;expires=&gt;'+3d');</pre>


<p style="margin-left:11%; margin-top: 1em">Each argument
name is preceded by a dash. Neither case nor order matters
in the argument list. &minus;type, &minus;Type, and
&minus;TYPE are all acceptable. In fact, only the first
argument needs to begin with a dash. If a dash is present in
the first argument, <small>CGI</small> .pm assumes dashes
for the subsequent ones.</p>

<p style="margin-left:11%; margin-top: 1em">Several
routines are commonly called with just one argument. In the
case of these routines you can provide the single argument
without an argument name. <i>header()</i> happens to be one
of these routines. In this case, the single argument is the
document type.</p>

<pre style="margin-left:11%; margin-top: 1em">   print $q&minus;&gt;header('text/html');</pre>


<p style="margin-left:11%; margin-top: 1em">Other such
routines are documented below.</p>

<p style="margin-left:11%; margin-top: 1em">Sometimes named
arguments expect a scalar, sometimes a reference to an
array, and sometimes a reference to a hash. Often, you can
pass any type of argument and the routine will do whatever
is most appropriate. For example, the <i>param()</i> routine
is used to set a <small>CGI</small> parameter to a single or
a multi-valued value. The two cases are shown below:</p>

<pre style="margin-left:11%; margin-top: 1em">   $q&minus;&gt;param(&minus;name=&gt;'veggie',&minus;value=&gt;'tomato');
   $q&minus;&gt;param(&minus;name=&gt;'veggie',&minus;value=&gt;['tomato','tomahto','potato','potahto']);</pre>


<p style="margin-left:11%; margin-top: 1em">A large number
of routines in <small>CGI</small> .pm actually aren&rsquo;t
specifically defined in the module, but are generated
automatically as needed. These are the &quot;
<small>HTML</small> shortcuts,&quot; routines that generate
<small>HTML</small> tags for use in dynamically-generated
pages. <small>HTML</small> tags have both attributes (the
attribute=&quot;value&quot; pairs within the tag itself) and
contents (the part between the opening and closing pairs.)
To distinguish between attributes and contents,
<small>CGI</small> .pm uses the convention of passing
<small>HTML</small> attributes as a hash reference as the
first argument, and the contents, if any, as any subsequent
arguments. It works out like this:</p>

<pre style="margin-left:11%; margin-top: 1em">   Code                           Generated HTML
   &minus;&minus;&minus;&minus;                           &minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;
   h1()                           &lt;h1&gt;
   h1('some','contents');         &lt;h1&gt;some contents&lt;/h1&gt;
   h1({&minus;align=&gt;left});            &lt;h1 align=&quot;LEFT&quot;&gt;
   h1({&minus;align=&gt;left},'contents'); &lt;h1 align=&quot;LEFT&quot;&gt;contents&lt;/h1&gt;</pre>



<p style="margin-left:11%; margin-top: 1em"><small>HTML</small>
tags are described in more detail later.</p>

<p style="margin-left:11%; margin-top: 1em">Many newcomers
to <small>CGI</small> .pm are puzzled by the difference
between the calling conventions for the <small>HTML</small>
shortcuts, which require curly braces around the
<small>HTML</small> tag attributes, and the calling
conventions for other routines, which manage to generate
attributes without the curly brackets. Don&rsquo;t be
confused. As a convenience the curly braces are optional in
all but the <small>HTML</small> shortcuts. If you like, you
can use curly braces when calling any routine that takes
named arguments. For example:</p>

<pre style="margin-left:11%; margin-top: 1em">   print $q&minus;&gt;header( {&minus;type=&gt;'image/gif',&minus;expires=&gt;'+3d'} );</pre>


<p style="margin-left:11%; margin-top: 1em">If you use the
<b>&minus;w</b> switch, you will be warned that some
<small>CGI</small> .pm argument names conflict with built-in
Perl functions. The most frequent of these is the
&minus;values argument, used to create multi-valued menus,
radio button clusters and the like. To get around this
warning, you have several choices:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>1.</p></td>
<td width="3%"></td>
<td width="83%">


<p>Use another name for the argument, if one is available.
For example, &minus;value is an alias for &minus;values.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>2.</p></td>
<td width="3%"></td>
<td width="83%">


<p>Change the capitalization, e.g. &minus;Values</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>3.</p></td>
<td width="3%"></td>
<td width="83%">


<p>Put quotes around the argument name, e.g.
&rsquo;&minus;values&rsquo;</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Many routines
will do something useful with a named argument that it
doesn&rsquo;t recognize. For example, you can produce
non-standard <small>HTTP</small> header fields by providing
them as named arguments:</p>

<pre style="margin-left:11%; margin-top: 1em">  print $q&minus;&gt;header(&minus;type  =&gt;  'text/html',
                   &minus;cost  =&gt;  'Three smackers',
                   &minus;annoyance_level =&gt; 'high',
                   &minus;complaints_to   =&gt; 'bit bucket');</pre>


<p style="margin-left:11%; margin-top: 1em">This will
produce the following nonstandard <small>HTTP</small>
header:</p>

<pre style="margin-left:11%; margin-top: 1em">   HTTP/1.0 200 OK
   Cost: Three smackers
   Annoyance&minus;level: high
   Complaints&minus;to: bit bucket
   Content&minus;type: text/html</pre>


<p style="margin-left:11%; margin-top: 1em">Notice the way
that underscores are translated automatically into hyphens.
HTML-generating routines perform a different type of
translation.</p>

<p style="margin-left:11%; margin-top: 1em">This feature
allows you to keep up with the rapidly changing
<small>HTTP</small> and <small>HTML</small>
&quot;standards&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>CREATING
A NEW QUERY OBJECT</small> (OBJECT-ORIENTED
<small>STYLE</small> ):</b></p>

<pre style="margin-left:11%;">     $query = CGI&minus;&gt;new;</pre>


<p style="margin-left:11%; margin-top: 1em">This will parse
the input (from <small>POST, GET</small> and
<small>DELETE</small> methods) and store it into a perl5
object called <tt>$query</tt>.</p>

<p style="margin-left:11%; margin-top: 1em">Any filehandles
from file uploads will have their position reset to the
beginning of the file.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>CREATING
A NEW QUERY OBJECT FROM AN INPUT FILE</small></b></p>

<pre style="margin-left:11%;">     $query = CGI&minus;&gt;new(INPUTFILE);</pre>


<p style="margin-left:11%; margin-top: 1em">If you provide
a file handle to the <i>new()</i> method, it will read
parameters from the file (or <small>STDIN,</small> or
whatever). The file can be in any of the forms describing
below under debugging (i.e. a series of newline delimited
TAG=VALUE pairs will work). Conveniently, this type of file
is created by the <i>save()</i> method (see below). Multiple
records can be saved and restored.</p>

<p style="margin-left:11%; margin-top: 1em">Perl purists
will be pleased to know that this syntax accepts references
to file handles, or even references to filehandle globs,
which is the &quot;official&quot; way to pass a
filehandle:</p>

<pre style="margin-left:11%; margin-top: 1em">    $query = CGI&minus;&gt;new(\*STDIN);</pre>


<p style="margin-left:11%; margin-top: 1em">You can also
initialize the <small>CGI</small> object with a FileHandle
or IO::File object.</p>

<p style="margin-left:11%; margin-top: 1em">If you are
using the function-oriented interface and want to initialize
<small>CGI</small> state from a file handle, the way to do
this is with <b><i>restore_parameters()</i></b>. This will
(re)initialize the default <small>CGI</small> object from
the indicated file handle.</p>

<pre style="margin-left:11%; margin-top: 1em">    open (IN,&quot;test.in&quot;) || die;
    restore_parameters(IN);
    close IN;</pre>


<p style="margin-left:11%; margin-top: 1em">You can also
initialize the query object from a hash reference:</p>

<pre style="margin-left:11%; margin-top: 1em">    $query = CGI&minus;&gt;new( {'dinosaur'=&gt;'barney',
                       'song'=&gt;'I love you',
                       'friends'=&gt;[qw/Jessica George Nancy/]}
                    );</pre>


<p style="margin-left:11%; margin-top: 1em">or from a
properly formatted, URL-escaped query string:</p>

<pre style="margin-left:11%; margin-top: 1em">    $query = CGI&minus;&gt;new('dinosaur=barney&amp;color=purple');</pre>


<p style="margin-left:11%; margin-top: 1em">or from a
previously existing <small>CGI</small> object (currently
this clones the parameter list, but none of the other
object-specific fields, such as autoescaping):</p>

<pre style="margin-left:11%; margin-top: 1em">    $old_query = CGI&minus;&gt;new;
    $new_query = CGI&minus;&gt;new($old_query);</pre>


<p style="margin-left:11%; margin-top: 1em">To create an
empty query, initialize it from an empty string or hash:</p>

<pre style="margin-left:11%; margin-top: 1em">   $empty_query = CGI&minus;&gt;new(&quot;&quot;);
       &minus;or&minus;
   $empty_query = CGI&minus;&gt;new({});</pre>



<p style="margin-left:11%; margin-top: 1em"><b><small>FETCHING
A LIST OF KEYWORDS FROM THE QUERY:</small></b></p>

<pre style="margin-left:11%;">     @keywords = $query&minus;&gt;keywords</pre>


<p style="margin-left:11%; margin-top: 1em">If the script
was invoked as the result of an &lt; <small>ISINDEX</small>
&gt; search, the parsed keywords can be obtained as an array
using the <i>keywords()</i> method.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>FETCHING
THE NAMES OF ALL THE PARAMETERS PASSED TO YOUR
SCRIPT:</small></b></p>

<pre style="margin-left:11%;">     @names = $query&minus;&gt;param</pre>


<p style="margin-left:11%; margin-top: 1em">If the script
was invoked with a parameter list (e.g.
&quot;name1=value1&amp;name2=value2&amp;name3=value3&quot;),
the <i>param()</i> method will return the parameter names as
a list. If the script was invoked as an &lt;
<small>ISINDEX</small> &gt; script and contains a string
without ampersands (e.g. &quot;value1+value2+value3&quot;) ,
there will be a single parameter named &quot;keywords&quot;
containing the &quot;+&quot;&minus;delimited keywords.</p>


<p style="margin-left:11%; margin-top: 1em"><small>NOTE:</small>
As of version 1.5, the array of parameter names returned
will be in the same order as they were submitted by the
browser. Usually this order is the same as the order in
which the parameters are defined in the form (however, this
isn&rsquo;t part of the spec, and so isn&rsquo;t
guaranteed).</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>FETCHING
THE VALUE OR VALUES OF A SINGLE NAMED
PARAMETER:</small></b></p>

<pre style="margin-left:11%;">    @values = $query&minus;&gt;param('foo');
              &minus;or&minus;
    $value = $query&minus;&gt;param('foo');</pre>


<p style="margin-left:11%; margin-top: 1em">Pass the
<i>param()</i> method a single argument to fetch the value
of the named parameter. If the parameter is multivalued
(e.g. from multiple selections in a scrolling list), you can
ask to receive an array. Otherwise the method will return a
single value.</p>

<p style="margin-left:11%; margin-top: 1em">If a value is
not given in the query string, as in the queries
&quot;name1=&amp;name2=&quot;, it will be returned as an
empty string.</p>

<p style="margin-left:11%; margin-top: 1em">If the
parameter does not exist at all, then <i>param()</i> will
return undef in a scalar context, and the empty list in a
list context.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>SETTING
THE VALUE</small> (S) <small>OF A NAMED
PARAMETER:</small></b></p>

<pre style="margin-left:11%;">    $query&minus;&gt;param('foo','an','array','of','values');</pre>


<p style="margin-left:11%; margin-top: 1em">This sets the
value for the named parameter &rsquo;foo&rsquo; to an array
of values. This is one way to change the value of a field
<small>AFTER</small> the script has been invoked once
before. (Another way is with the &minus;override parameter
accepted by all methods that generate form elements.)</p>

<p style="margin-left:11%; margin-top: 1em"><i>param()</i>
also recognizes a named parameter style of calling described
in more detail later:</p>

<pre style="margin-left:11%; margin-top: 1em">    $query&minus;&gt;param(&minus;name=&gt;'foo',&minus;values=&gt;['an','array','of','values']);
                              &minus;or&minus;
    $query&minus;&gt;param(&minus;name=&gt;'foo',&minus;value=&gt;'the value');</pre>



<p style="margin-left:11%; margin-top: 1em"><b><small>APPENDING
ADDITIONAL VALUES TO A NAMED PARAMETER:</small></b></p>

<pre style="margin-left:11%;">   $query&minus;&gt;append(&minus;name=&gt;'foo',&minus;values=&gt;['yet','more','values']);</pre>


<p style="margin-left:11%; margin-top: 1em">This adds a
value or list of values to the named parameter. The values
are appended to the end of the parameter if it already
exists. Otherwise the parameter is created. Note that this
method only recognizes the named argument calling
syntax.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>IMPORTING
ALL PARAMETERS INTO A NAMESPACE:</small></b></p>

<pre style="margin-left:11%;">   $query&minus;&gt;import_names('R');</pre>


<p style="margin-left:11%; margin-top: 1em">This creates a
series of variables in the &rsquo;R&rsquo; namespace. For
example, <tt>$R::foo</tt>, <tt>@R:foo</tt>. For keyword
lists, a variable <tt>@R::keywords</tt> will appear. If no
namespace is given, this method will assume &rsquo;Q&rsquo;.
<small>WARNING:</small> don&rsquo;t import anything into
&rsquo;main&rsquo;; this is a major security risk!!!!</p>

<p style="margin-left:11%; margin-top: 1em"><small>NOTE
1:</small> Variable names are transformed as necessary into
legal Perl variable names. All non-legal characters are
transformed into underscores. If you need to keep the
original names, you should use the <i>param()</i> method
instead to access <small>CGI</small> variables by name.</p>

<p style="margin-left:11%; margin-top: 1em"><small>NOTE
2:</small> In older versions, this method was called
<b><i>import()</i></b>. As of version 2.20, this name has
been removed completely to avoid conflict with the built-in
Perl module <b>import</b> operator.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>DELETING
A PARAMETER COMPLETELY:</small></b></p>

<pre style="margin-left:11%;">    $query&minus;&gt;delete('foo','bar','baz');</pre>


<p style="margin-left:11%; margin-top: 1em">This completely
clears a list of parameters. It sometimes useful for
resetting parameters that you don&rsquo;t want passed down
between script invocations.</p>

<p style="margin-left:11%; margin-top: 1em">If you are
using the function call interface, use
&quot;<i>Delete()</i>&quot; instead to avoid conflicts with
Perl&rsquo;s built-in delete operator.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>DELETING
ALL PARAMETERS:</small></b></p>

<pre style="margin-left:11%;">   $query&minus;&gt;delete_all();</pre>


<p style="margin-left:11%; margin-top: 1em">This clears the
<small>CGI</small> object completely. It might be useful to
ensure that all the defaults are taken when you create a
fill-out form.</p>

<p style="margin-left:11%; margin-top: 1em">Use
<i>Delete_all()</i> instead if you are using the function
call interface.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>HANDLING</small>
NON-URLENCODED <small>ARGUMENTS</small></b> <br>
If POSTed data is not of type
application/x&minus;www&minus;form&minus;urlencoded or
multipart/form&minus;data, then the POSTed data will not be
processed, but instead be returned as-is in a parameter
named <small>POSTDATA.</small> To retrieve it, use code like
this:</p>

<pre style="margin-left:11%; margin-top: 1em">   my $data = $query&minus;&gt;param('POSTDATA');</pre>


<p style="margin-left:11%; margin-top: 1em">Likewise if
PUTed data can be retrieved with code like this:</p>

<pre style="margin-left:11%; margin-top: 1em">   my $data = $query&minus;&gt;param('PUTDATA');</pre>


<p style="margin-left:11%; margin-top: 1em">(If you
don&rsquo;t know what the preceding means, don&rsquo;t worry
about it. It only affects people trying to use
<small>CGI</small> for <small>XML</small> processing and
other specialized tasks.)</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>DIRECT
ACCESS TO THE PARAMETER LIST:</small></b></p>

<pre style="margin-left:11%;">   $q&minus;&gt;param_fetch('address')&minus;&gt;[1] = '1313 Mockingbird Lane';
   unshift @{$q&minus;&gt;param_fetch(&minus;name=&gt;'address')},'George Munster';</pre>


<p style="margin-left:11%; margin-top: 1em">If you need
access to the parameter list in a way that isn&rsquo;t
covered by the methods given in the previous sections, you
can obtain a direct reference to it by calling the
<b><i>param_fetch()</i></b> method with the name of the
parameter. This will return an array reference to the named
parameter, which you then can manipulate in any way you
like.</p>

<p style="margin-left:11%; margin-top: 1em">You can also
use a named argument style using the <b>&minus;name</b>
argument.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>FETCHING
THE PARAMETER LIST AS A HASH:</small></b></p>

<pre style="margin-left:11%;">    $params = $q&minus;&gt;Vars;
    print $params&minus;&gt;{'address'};
    @foo = split(&quot;\0&quot;,$params&minus;&gt;{'foo'});
    %params = $q&minus;&gt;Vars;
    use CGI ':cgi&minus;lib';
    $params = Vars;</pre>


<p style="margin-left:11%; margin-top: 1em">Many people
want to fetch the entire parameter list as a hash in which
the keys are the names of the <small>CGI</small> parameters,
and the values are the parameters&rsquo; values. The
<i>Vars()</i> method does this. Called in a scalar context,
it returns the parameter list as a tied hash reference.
Changing a key changes the value of the parameter in the
underlying <small>CGI</small> parameter list. Called in a
list context, it returns the parameter list as an ordinary
hash. This allows you to read the contents of the parameter
list, but not to change it.</p>

<p style="margin-left:11%; margin-top: 1em">When using
this, the thing you must watch out for are multivalued
<small>CGI</small> parameters. Because a hash cannot
distinguish between scalar and list context, multivalued
parameters will be returned as a packed string, separated by
the &quot;\0&quot; (null) character. You must split this
packed string in order to get at the individual values. This
is the convention introduced long ago by Steve Brenner in
his cgi&minus;lib.pl module for Perl version 4.</p>

<p style="margin-left:11%; margin-top: 1em">If you wish to
use <i>Vars()</i> as a function, import the
<i>:cgi&minus;lib</i> set of function calls (also see the
section on CGI-LIB compatibility).</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>SAVING
THE STATE OF THE SCRIPT TO A FILE:</small></b></p>

<pre style="margin-left:11%;">    $query&minus;&gt;save(\*FILEHANDLE)</pre>


<p style="margin-left:11%; margin-top: 1em">This will write
the current state of the form to the provided filehandle.
You can read it back in by providing a filehandle to the
<i>new()</i> method. Note that the filehandle can be a file,
a pipe, or whatever!</p>

<p style="margin-left:11%; margin-top: 1em">The format of
the saved file is:</p>

<pre style="margin-left:11%; margin-top: 1em">        NAME1=VALUE1
        NAME1=VALUE1'
        NAME2=VALUE2
        NAME3=VALUE3
        =</pre>


<p style="margin-left:11%; margin-top: 1em">Both name and
value are <small>URL</small> escaped. Multi-valued
<small>CGI</small> parameters are represented as repeated
names. A session record is delimited by a single = symbol.
You can write out multiple records and read them back in
with several calls to <b>new</b>. You can do this across
several sessions by opening the file in append mode,
allowing you to create primitive guest books, or to keep a
history of users&rsquo; queries. Here&rsquo;s a short
example of creating multiple session records:</p>

<pre style="margin-left:11%; margin-top: 1em">   use CGI;
   open (OUT,'&gt;&gt;','test.out') || die;
   $records = 5;
   for (0..$records) {
       my $q = CGI&minus;&gt;new;
       $q&minus;&gt;param(&minus;name=&gt;'counter',&minus;value=&gt;$_);
       $q&minus;&gt;save(\*OUT);
   }
   close OUT;
   # reopen for reading
   open (IN,'&lt;','test.out') || die;
   while (!eof(IN)) {
       my $q = CGI&minus;&gt;new(\*IN);
       print $q&minus;&gt;param('counter'),&quot;\n&quot;;
   }</pre>


<p style="margin-left:11%; margin-top: 1em">The file format
used for save/restore is identical to that used by the
Whitehead Genome Center&rsquo;s data exchange format
&quot;Boulderio&quot;, and can be manipulated and even
databased using Boulderio utilities. See</p>

<pre style="margin-left:11%; margin-top: 1em">  http://stein.cshl.org/boulder/</pre>


<p style="margin-left:11%; margin-top: 1em">for further
details.</p>

<p style="margin-left:11%; margin-top: 1em">If you wish to
use this method from the function-oriented (non-OO)
interface, the exported name for this method is
<b><i>save_parameters()</i></b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>RETRIEVING
CGI ERRORS</small></b> <br>
Errors can occur while processing user input, particularly
when processing uploaded files. When these errors occur,
<small>CGI</small> will stop processing and return an empty
parameter list. You can test for the existence and nature of
errors using the <i>cgi_error()</i> function. The error
messages are formatted as <small>HTTP</small> status codes.
You can either incorporate the error text into an
<small>HTML</small> page, or use it as the value of the
<small>HTTP</small> status:</p>

<pre style="margin-left:11%; margin-top: 1em">    my $error = $q&minus;&gt;cgi_error;
    if ($error) {
        print $q&minus;&gt;header(&minus;status=&gt;$error),
              $q&minus;&gt;start_html('Problems'),
              $q&minus;&gt;h2('Request not processed'),
              $q&minus;&gt;strong($error);
        exit 0;
    }</pre>


<p style="margin-left:11%; margin-top: 1em">When using the
function-oriented interface (see the next section), errors
may only occur the first time you call <i>param()</i>. Be
ready for this!</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>USING
THE</small> FUNCTION-ORIENTED <small>INTERFACE</small></b>
<br>
To use the function-oriented interface, you must specify
which <small>CGI</small> .pm routines or sets of routines to
import into your script&rsquo;s namespace. There is a small
overhead associated with this importation, but it
isn&rsquo;t much.</p>

<pre style="margin-left:11%; margin-top: 1em">   use CGI &lt;list of methods&gt;;</pre>


<p style="margin-left:11%; margin-top: 1em">The listed
methods will be imported into the current package; you can
call them directly without creating a <small>CGI</small>
object first. This example shows how to import the
<b><i>param()</i></b> and <b><i>header()</i></b> methods,
and then use them directly:</p>

<pre style="margin-left:11%; margin-top: 1em">   use CGI 'param','header';
   print header('text/plain');
   $zipcode = param('zipcode');</pre>


<p style="margin-left:11%; margin-top: 1em">More
frequently, you&rsquo;ll import common sets of functions by
referring to the groups by name. All function sets are
preceded with a &quot;:&quot; character as in
&quot;:html3&quot; (for tags defined in the <small>HTML
3</small> standard).</p>

<p style="margin-left:11%; margin-top: 1em">Here is a list
of the function sets you can import: <b><br>
:cgi</b></p>

<p style="margin-left:17%;">Import all CGI-handling
methods, such as <b><i>param()</i></b>,
<b><i>path_info()</i></b> and the like.</p>

<p style="margin-left:11%;"><b>:form</b></p>

<p style="margin-left:17%;">Import all fill-out form
generating methods, such as <b><i>textfield()</i></b>.</p>

<p style="margin-left:11%;"><b>:html2</b></p>

<p style="margin-left:17%;">Import all methods that
generate <small>HTML 2.0</small> standard elements.</p>

<p style="margin-left:11%;"><b>:html3</b></p>

<p style="margin-left:17%;">Import all methods that
generate <small>HTML 3.0</small> elements (such as
&lt;table&gt;, &lt;super&gt; and &lt;sub&gt;).</p>

<p style="margin-left:11%;"><b>:html4</b></p>

<p style="margin-left:17%;">Import all methods that
generate <small>HTML 4</small> elements (such as
&lt;abbrev&gt;, &lt;acronym&gt; and &lt;thead&gt;).</p>

<p style="margin-left:11%;"><b>:netscape</b></p>

<p style="margin-left:17%;">Import the &lt;blink&gt;,
&lt;fontsize&gt; and &lt;center&gt; tags.</p>

<p style="margin-left:11%;"><b>:html</b></p>

<p style="margin-left:17%;">Import all HTML-generating
shortcuts (i.e. &rsquo;html2&rsquo;, &rsquo;html3&rsquo;,
&rsquo;html4&rsquo; and &rsquo;netscape&rsquo;)</p>

<p style="margin-left:11%;"><b>:standard</b></p>

<p style="margin-left:17%;">Import &quot;standard&quot;
features, &rsquo;html2&rsquo;, &rsquo;html3&rsquo;,
&rsquo;html4&rsquo;, &rsquo;form&rsquo; and
&rsquo;cgi&rsquo;.</p>

<p style="margin-left:11%;"><b>:all</b></p>

<p style="margin-left:17%;">Import all the available
methods. For the full list, see the <small>CGI</small> .pm
code, where the variable <tt>%EXPORT_TAGS</tt> is
defined.</p>

<p style="margin-left:11%; margin-top: 1em">If you import a
function name that is not part of <small>CGI</small> .pm,
the module will treat it as a new <small>HTML</small> tag
and generate the appropriate subroutine. You can then use it
like any other <small>HTML</small> tag. This is to provide
for the rapidly-evolving <small>HTML</small>
&quot;standard.&quot; For example, say Microsoft comes out
with a new tag called &lt;gradient&gt; (which causes the
user&rsquo;s desktop to be flooded with a rotating gradient
fill until his machine reboots). You don&rsquo;t need to
wait for a new version of <small>CGI</small> .pm to start
using it immediately:</p>

<pre style="margin-left:11%; margin-top: 1em">   use CGI qw/:standard :html3 gradient/;
   print gradient({&minus;start=&gt;'red',&minus;end=&gt;'blue'});</pre>


<p style="margin-left:11%; margin-top: 1em">Note that in
the interests of execution speed <small>CGI</small> .pm does
<b>not</b> use the standard Exporter syntax for specifying
load symbols. This may change in the future.</p>

<p style="margin-left:11%; margin-top: 1em">If you import
any of the state-maintaining <small>CGI</small> or
form-generating methods, a default <small>CGI</small> object
will be created and initialized automatically the first time
you use any of the methods that require one to be present.
This includes <b><i>param()</i></b>,
<b><i>textfield()</i></b>, <b><i>submit()</i></b> and the
like. (If you need direct access to the <small>CGI</small>
object, you can find it in the global variable
<b>$CGI::Q</b>). By importing <small>CGI</small> .pm
methods, you can create visually elegant scripts:</p>

<pre style="margin-left:11%; margin-top: 1em">   use CGI qw/:standard/;
   print
       header,
       start_html('Simple Script'),
       h1('Simple Script'),
       start_form,
       &quot;What's your name? &quot;,textfield('name'),p,
       &quot;What's the combination?&quot;,
       checkbox_group(&minus;name=&gt;'words',
                      &minus;values=&gt;['eenie','meenie','minie','moe'],
                      &minus;defaults=&gt;['eenie','moe']),p,
       &quot;What's your favorite color?&quot;,
       popup_menu(&minus;name=&gt;'color',
                  &minus;values=&gt;['red','green','blue','chartreuse']),p,
       submit,
       end_form,
       hr,&quot;\n&quot;;
    if (param) {
       print
           &quot;Your name is &quot;,em(param('name')),p,
           &quot;The keywords are: &quot;,em(join(&quot;, &quot;,param('words'))),p,
           &quot;Your favorite color is &quot;,em(param('color')),&quot;.\n&quot;;
    }
    print end_html;</pre>



<p style="margin-left:11%; margin-top: 1em"><b><small>PRAGMAS</small></b>
<br>
In addition to the function sets, there are a number of
pragmas that you can import. Pragmas, which are always
preceded by a hyphen, change the way that <small>CGI</small>
.pm functions in various ways. Pragmas, function sets, and
individual functions can all be imported in the same
<i>use()</i> line. For example, the following use statement
imports the standard set of functions and enables debugging
mode (pragma &minus;debug):</p>

<pre style="margin-left:11%; margin-top: 1em">   use CGI qw/:standard &minus;debug/;</pre>


<p style="margin-left:11%; margin-top: 1em">The current
list of pragmas is as follows: <br>
&minus;any</p>

<p style="margin-left:17%;">When you <i>use
<small>CGI</small> &minus;any</i>, then any method that the
query object doesn&rsquo;t recognize will be interpreted as
a new <small>HTML</small> tag. This allows you to support
the next <i>ad hoc</i> <small>HTML</small> extension. This
lets you go wild with new and unsupported tags:</p>

<pre style="margin-left:17%; margin-top: 1em">   use CGI qw(&minus;any);
   $q=CGI&minus;&gt;new;
   print $q&minus;&gt;gradient({speed=&gt;'fast',start=&gt;'red',end=&gt;'blue'});</pre>


<p style="margin-left:17%; margin-top: 1em">Since using
&lt;cite&gt;any&lt;/cite&gt; causes any mistyped method name
to be interpreted as an <small>HTML</small> tag, use it with
care or not at all.</p>

<p style="margin-left:11%;">&minus;compile</p>

<p style="margin-left:17%;">This causes the indicated
autoloaded methods to be compiled up front, rather than
deferred to later. This is useful for scripts that run for
an extended period of time under FastCGI or mod_perl, and
for those destined to be crunched by Malcolm Beattie&rsquo;s
Perl compiler. Use it in conjunction with the methods or
method families you plan to use.</p>

<pre style="margin-left:17%; margin-top: 1em">   use CGI qw(&minus;compile :standard :html3);</pre>


<p style="margin-left:17%; margin-top: 1em">or even</p>

<pre style="margin-left:17%; margin-top: 1em">   use CGI qw(&minus;compile :all);</pre>


<p style="margin-left:17%; margin-top: 1em">Note that using
the &minus;compile pragma in this way will always have the
effect of importing the compiled functions into the current
namespace. If you want to compile without importing use the
<i>compile()</i> method instead:</p>

<pre style="margin-left:17%; margin-top: 1em">   use CGI();
   CGI&minus;&gt;compile();</pre>


<p style="margin-left:17%; margin-top: 1em">This is
particularly useful in a mod_perl environment, in which you
might want to precompile all <small>CGI</small> routines in
a startup script, and then import the functions individually
in each mod_perl script.</p>

<p style="margin-left:11%;">&minus;nosticky</p>

<p style="margin-left:17%;">By default the
<small>CGI</small> module implements a state-preserving
behavior called &quot;sticky&quot; fields. The way this
works is that if you are regenerating a form, the methods
that generate the form field values will interrogate
<i>param()</i> to see if similarly-named parameters are
present in the query string. If they find a like-named
parameter, they will use it to set their default values.</p>

<p style="margin-left:17%; margin-top: 1em">Sometimes this
isn&rsquo;t what you want. The <b>&minus;nosticky</b> pragma
prevents this behavior. You can also selectively change the
sticky behavior in each element that you generate.</p>

<p style="margin-left:11%;">&minus;tabindex</p>

<p style="margin-left:17%;">Automatically add tab index
attributes to each form field. With this option turned off,
you can still add tab indexes manually by passing a
&minus;tabindex option to each field-generating method.</p>

<p style="margin-left:11%;">&minus;no_undef_params</p>

<p style="margin-left:17%;">This keeps <small>CGI</small>
.pm from including undef params in the parameter list.</p>

<p style="margin-left:11%;">&minus;no_xhtml</p>

<p style="margin-left:17%;">By default, <small>CGI</small>
.pm versions 2.69 and higher emit <small>XHTML</small>
(http://www.w3.org/TR/xhtml1/). The &minus;no_xhtml pragma
disables this feature. Thanks to Michalis Kabrianis
&lt;kabrianis@hellug.gr&gt; for this feature.</p>

<p style="margin-left:17%; margin-top: 1em">If
<i>start_html()</i>&rsquo;s &minus;dtd parameter specifies
an <small>HTML 2.0, 3.2, 4.0</small> or 4.01 <small>DTD,
XHTML</small> will automatically be disabled without needing
to use this pragma.</p>

<p style="margin-left:11%;">&minus;utf8</p>

<p style="margin-left:17%;">This makes <small>CGI</small>
.pm treat all parameters as <small>UTF&minus;8</small>
strings. Use this with care, as it will interfere with the
processing of binary uploads. It is better to manually
select which fields are expected to return utf&minus;8
strings and convert them using code like this:</p>

<pre style="margin-left:17%; margin-top: 1em"> use Encode;
 my $arg = decode utf8=&gt;param('foo');</pre>


<p style="margin-left:11%;">&minus;nph</p>

<p style="margin-left:17%;">This makes <small>CGI</small>
.pm produce a header appropriate for an <small>NPH</small>
(no parsed header) script. You may need to do other things
as well to tell the server that the script is
<small>NPH.</small> See the discussion of <small>NPH</small>
scripts below.</p>

<p style="margin-left:11%;">&minus;newstyle_urls</p>

<p style="margin-left:17%;">Separate the name=value pairs
in <small>CGI</small> parameter query strings with
semicolons rather than ampersands. For example:</p>

<pre style="margin-left:17%; margin-top: 1em">   ?name=fred;age=24;favorite_color=3</pre>



<p style="margin-left:17%; margin-top: 1em">Semicolon-delimited
query strings are always accepted, and will be emitted by
<i>self_url()</i> and <i>query_string()</i>. newstyle_urls
became the default in version 2.64.</p>

<p style="margin-left:11%;">&minus;oldstyle_urls</p>

<p style="margin-left:17%;">Separate the name=value pairs
in <small>CGI</small> parameter query strings with
ampersands rather than semicolons. This is no longer the
default.</p>

<p style="margin-left:11%;">&minus;autoload</p>

<p style="margin-left:17%;">This overrides the autoloader
so that any function in your program that is not recognized
is referred to <small>CGI</small> .pm for possible
evaluation. This allows you to use all the
<small>CGI</small> .pm functions without adding them to your
symbol table, which is of concern for mod_perl users who are
worried about memory consumption. <i>Warning:</i> when
<i>&minus;autoload</i> is in effect, you cannot use
&quot;poetry mode&quot; (functions without the parenthesis).
Use <i>hr()</i> rather than <i>hr</i>, or add something like
<i>use subs qw/hr p header/</i> to the top of your
script.</p>

<p style="margin-left:11%;">&minus;no_debug</p>

<p style="margin-left:17%;">This turns off the command-line
processing features. If you want to run a <small>CGI</small>
.pm script from the command line to produce
<small>HTML,</small> and you don&rsquo;t want it to read
<small>CGI</small> parameters from the command line or
<small>STDIN,</small> then use this pragma:</p>

<pre style="margin-left:17%; margin-top: 1em">   use CGI qw(&minus;no_debug :standard);</pre>


<p style="margin-left:11%;">&minus;debug</p>

<p style="margin-left:17%;">This turns on full debugging.
In addition to reading <small>CGI</small> arguments from the
command-line processing, <small>CGI</small> .pm will pause
and try to read arguments from <small>STDIN,</small>
producing the message &quot;(offline mode: enter name=value
pairs on standard input)&quot; features.</p>

<p style="margin-left:17%; margin-top: 1em">See the section
on debugging for more details.</p>

<p style="margin-left:11%;">&minus;private_tempfiles</p>

<p style="margin-left:17%;"><small>CGI</small> .pm can
process uploaded file. Ordinarily it spools the uploaded
file to a temporary directory, then deletes the file when
done. However, this opens the risk of eavesdropping as
described in the file upload section. Another
<small>CGI</small> script author could peek at this data
during the upload, even if it is confidential information.
On Unix systems, the &minus;private_tempfiles pragma will
cause the temporary file to be unlinked as soon as it is
opened and before any data is written into it, reducing, but
not eliminating the risk of eavesdropping (there is still a
potential race condition). To make life harder for the
attacker, the program chooses tempfile names by calculating
a 32 bit checksum of the incoming <small>HTTP</small>
headers.</p>

<p style="margin-left:17%; margin-top: 1em">To ensure that
the temporary file cannot be read by other
<small>CGI</small> scripts, use suEXEC or a
<small>CGI</small> wrapper program to run your script. The
temporary file is created with mode 0600 (neither world nor
group readable).</p>

<p style="margin-left:17%; margin-top: 1em">The temporary
directory is selected using the following algorithm:</p>

<pre style="margin-left:17%; margin-top: 1em">    1. if $CGITempFile::TMPDIRECTORY is already set, use that
    2. if the environment variable TMPDIR exists, use the location
    indicated.
    3. Otherwise try the locations /usr/tmp, /var/tmp, C:\temp,
    /tmp, /temp, ::Temporary Items, and \WWW_ROOT.</pre>


<p style="margin-left:17%; margin-top: 1em">Each of these
locations is checked that it is a directory and is writable.
If not, the algorithm tries the next choice.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>SPECIAL
FORMS FOR IMPORTING</small> HTML-TAG
<small>FUNCTIONS</small></b> <br>
Many of the methods generate <small>HTML</small> tags. As
described below, tag functions automatically generate both
the opening and closing tags. For example:</p>

<pre style="margin-left:11%; margin-top: 1em">  print h1('Level 1 Header');</pre>


<p style="margin-left:11%; margin-top: 1em">produces</p>

<pre style="margin-left:11%; margin-top: 1em">  &lt;h1&gt;Level 1 Header&lt;/h1&gt;</pre>


<p style="margin-left:11%; margin-top: 1em">There will be
some times when you want to produce the start and end tags
yourself. In this case, you can use the form
start_<i>tag_name</i> and end_<i>tag_name</i>, as in:</p>

<pre style="margin-left:11%; margin-top: 1em">  print start_h1,'Level 1 Header',end_h1;</pre>


<p style="margin-left:11%; margin-top: 1em">With a few
exceptions (described below), start_<i>tag_name</i> and
end_<i>tag_name</i> functions are not generated
automatically when you <i>use <small>CGI</small></i> .
However, you can specify the tags you want to generate
<i>start/end</i> functions for by putting an asterisk in
front of their name, or, alternatively, requesting either
&quot;start_<i>tag_name</i>&quot; or
&quot;end_<i>tag_name</i>&quot; in the import list.</p>

<p style="margin-left:11%; margin-top: 1em">Example:</p>

<pre style="margin-left:11%; margin-top: 1em">  use CGI qw/:standard *table start_ul/;</pre>


<p style="margin-left:11%; margin-top: 1em">In this
example, the following functions are generated in addition
to the standard ones: <br>
1. <i>start_table()</i> (generates a &lt;table&gt; tag) <br>
2. <i>end_table()</i> (generates a &lt;/table&gt; tag) <br>
3. <i>start_ul()</i> (generates a &lt;ul&gt; tag) <br>
4. <i>end_ul()</i> (generates a &lt;/ul&gt; tag)</p>

<h2>GENERATING DYNAMIC DOCUMENTS
<a name="GENERATING DYNAMIC DOCUMENTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Most of
<small>CGI</small> .pm&rsquo;s functions deal with creating
documents on the fly. Generally you will produce the
<small>HTTP</small> header first, followed by the document
itself. <small>CGI</small> .pm provides functions for
generating <small>HTTP</small> headers of various types as
well as for generating <small>HTML.</small> For creating
<small>GIF</small> images, see the <small>GD</small> .pm
module.</p>

<p style="margin-left:11%; margin-top: 1em">Each of these
functions produces a fragment of <small>HTML</small> or
<small>HTTP</small> which you can print out directly so that
it displays in the browser window, append to a string, or
save to a file for later use.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>CREATING
A STANDARD HTTP HEADER:</small></b> <br>
Normally the first thing you will do in any
<small>CGI</small> script is print out an
<small>HTTP</small> header. This tells the browser what type
of document to expect, and gives other optional information,
such as the language, expiration date, and whether to cache
the document. The header can also be manipulated for special
purposes, such as server push and pay per view pages.</p>

<pre style="margin-left:11%; margin-top: 1em">        print header;
             &minus;or&minus;
        print header('image/gif');
             &minus;or&minus;
        print header('text/html','204 No response');
             &minus;or&minus;
        print header(&minus;type=&gt;'image/gif',
                             &minus;nph=&gt;1,
                             &minus;status=&gt;'402 Payment required',
                             &minus;expires=&gt;'+3d',
                             &minus;cookie=&gt;$cookie,
                             &minus;charset=&gt;'utf&minus;7',
                             &minus;attachment=&gt;'foo.gif',
                             &minus;Cost=&gt;'$2.00');</pre>



<p style="margin-left:11%; margin-top: 1em"><i>header()</i>
returns the Content-type: header. You can provide your own
<small>MIME</small> type if you choose, otherwise it
defaults to text/html. An optional second parameter
specifies the status code and a human-readable message. For
example, you can specify 204, &quot;No response&quot; to
create a script that tells the browser to do nothing at all.
Note that <small>RFC 2616</small> expects the human-readable
phase to be there as well as the numeric status code.</p>

<p style="margin-left:11%; margin-top: 1em">The last
example shows the named argument style for passing arguments
to the <small>CGI</small> methods using named parameters.
Recognized parameters are <b>&minus;type</b>,
<b>&minus;status</b>, <b>&minus;expires</b>, and
<b>&minus;cookie</b>. Any other named parameters will be
stripped of their initial hyphens and turned into header
fields, allowing you to specify any <small>HTTP</small>
header you desire. Internal underscores will be turned into
hyphens:</p>

<pre style="margin-left:11%; margin-top: 1em">    print header(&minus;Content_length=&gt;3002);</pre>


<p style="margin-left:11%; margin-top: 1em">Most browsers
will not cache the output from <small>CGI</small> scripts.
Every time the browser reloads the page, the script is
invoked anew. You can change this behavior with the
<b>&minus;expires</b> parameter. When you specify an
absolute or relative expiration interval with this
parameter, some browsers and proxy servers will cache the
script&rsquo;s output until the indicated expiration date.
The following forms are all valid for the &minus;expires
field:</p>

<pre style="margin-left:11%; margin-top: 1em">        +30s                              30 seconds from now
        +10m                              ten minutes from now
        +1h                               one hour from now
        &minus;1d                               yesterday (i.e. &quot;ASAP!&quot;)
        now                               immediately
        +3M                               in three months
        +10y                              in ten years time
        Thursday, 25&minus;Apr&minus;1999 00:40:33 GMT  at the indicated time &amp; date</pre>


<p style="margin-left:11%; margin-top: 1em">The
<b>&minus;cookie</b> parameter generates a header that tells
the browser to provide a &quot;magic cookie&quot; during all
subsequent transactions with your script. Some cookies have
a special format that includes interesting attributes such
as expiration time. Use the <i>cookie()</i> method to create
and retrieve session cookies.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>&minus;nph</b> parameter, if set to a true value, will
issue the correct headers to work with a <small>NPH</small>
(no-parse-header) script. This is important to use with
certain servers that expect all their scripts to be
<small>NPH.</small></p>

<p style="margin-left:11%; margin-top: 1em">The
<b>&minus;charset</b> parameter can be used to control the
character set sent to the browser. If not provided, defaults
to <small>ISO&minus;8859&minus;1.</small> As a side effect,
this sets the <i>charset()</i> method as well.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>&minus;attachment</b> parameter can be used to turn the
page into an attachment. Instead of displaying the page,
some browsers will prompt the user to save it to disk. The
value of the argument is the suggested name for the saved
file. In order for this to work, you may have to set the
<b>&minus;type</b> to
&quot;application/octet&minus;stream&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>&minus;p3p</b> parameter will add a P3P tag to the
outgoing header. The parameter can be an arrayref or a
space-delimited string of P3P tags. For example:</p>

<pre style="margin-left:11%; margin-top: 1em">   print header(&minus;p3p=&gt;[qw(CAO DSP LAW CURa)]);
   print header(&minus;p3p=&gt;'CAO DSP LAW CURa');</pre>


<p style="margin-left:11%; margin-top: 1em">In either case,
the outgoing header will be formatted as:</p>

<pre style="margin-left:11%; margin-top: 1em">  P3P: policyref=&quot;/w3c/p3p.xml&quot; cp=&quot;CAO DSP LAW CURa&quot;</pre>



<p style="margin-left:11%; margin-top: 1em"><small>CGI</small>
.pm will accept valid multi-line headers when each line is
separated with a <small>CRLF</small> value (&quot;\r\n&quot;
on most platforms) followed by at least one space. For
example:</p>

<pre style="margin-left:11%; margin-top: 1em">    print header( &minus;ingredients =&gt; &quot;ham\r\n\seggs\r\n\sbacon&quot; );</pre>


<p style="margin-left:11%; margin-top: 1em">Invalid
multi-line header input will trigger in an exception. When
multi-line headers are received, <small>CGI</small> .pm will
always output them back as a single line, according to the
folding rules of <small>RFC 2616:</small> the newlines will
be removed, while the white space remains.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>GENERATING
A REDIRECTION HEADER</small></b></p>

<pre style="margin-left:11%;">   print $q&minus;&gt;redirect('http://somewhere.else/in/movie/land');</pre>


<p style="margin-left:11%; margin-top: 1em">Sometimes you
don&rsquo;t want to produce a document yourself, but simply
redirect the browser elsewhere, perhaps choosing a
<small>URL</small> based on the time of day or the identity
of the user.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>redirect()</i> method redirects the browser to a
different <small>URL.</small> If you use redirection like
this, you should <b>not</b> print out a header as well.</p>

<p style="margin-left:11%; margin-top: 1em">You should
always use full URLs (including the http: or ftp: part) in
redirection requests. Relative URLs will not work
correctly.</p>

<p style="margin-left:11%; margin-top: 1em">You can also
use named arguments:</p>

<pre style="margin-left:11%; margin-top: 1em">    print $q&minus;&gt;redirect(
        &minus;uri=&gt;'http://somewhere.else/in/movie/land',
            &minus;nph=&gt;1,
         &minus;status=&gt;'301 Moved Permanently');</pre>


<p style="margin-left:11%; margin-top: 1em">All names
arguments recognized by <i>header()</i> are also recognized
by <i>redirect()</i>. However, most <small>HTTP</small>
headers, including those generated by &minus;cookie and
&minus;target, are ignored by the browser.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>&minus;nph</b> parameter, if set to a true value, will
issue the correct headers to work with a <small>NPH</small>
(no-parse-header) script. This is important to use with
certain servers, such as Microsoft <small>IIS,</small> which
expect all their scripts to be <small>NPH.</small></p>

<p style="margin-left:11%; margin-top: 1em">The
<b>&minus;status</b> parameter will set the status of the
redirect. <small>HTTP</small> defines three different
possible redirection status codes:</p>

<pre style="margin-left:11%; margin-top: 1em">     301 Moved Permanently
     302 Found
     303 See Other</pre>


<p style="margin-left:11%; margin-top: 1em">The default if
not specified is 302, which means &quot;moved
temporarily.&quot; You may change the status to another
status code if you wish. Be advised that changing the status
to anything other than 301, 302 or 303 will probably break
redirection.</p>

<p style="margin-left:11%; margin-top: 1em">Note that the
human-readable phrase is also expected to be present to
conform with <small>RFC 2616,</small> section 6.1.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>CREATING
THE HTML DOCUMENT HEADER</small></b></p>

<pre style="margin-left:11%;">   print start_html(&minus;title=&gt;'Secrets of the Pyramids',
                            &minus;author=&gt;'fred@capricorn.org',
                            &minus;base=&gt;'true',
                            &minus;target=&gt;'_blank',
                            &minus;meta=&gt;{'keywords'=&gt;'pharaoh secret mummy',
                                    'copyright'=&gt;'copyright 1996 King Tut'},
                            &minus;style=&gt;{'src'=&gt;'/styles/style1.css'},
                            &minus;BGCOLOR=&gt;'blue');</pre>


<p style="margin-left:11%; margin-top: 1em">The
<i>start_html()</i> routine creates the top of the page,
along with a lot of optional information that controls the
page&rsquo;s appearance and behavior.</p>

<p style="margin-left:11%; margin-top: 1em">This method
returns a canned <small>HTML</small> header and the opening
&lt;body&gt; tag. All parameters are optional. In the named
parameter form, recognized parameters are &minus;title,
&minus;author, &minus;base, &minus;xbase, &minus;dtd,
&minus;lang and &minus;target (see below for the
explanation). Any additional parameters you provide, such as
the unofficial <small>BGCOLOR</small> attribute, are added
to the &lt;body&gt; tag. Additional parameters must be
proceeded by a hyphen.</p>

<p style="margin-left:11%; margin-top: 1em">The argument
<b>&minus;xbase</b> allows you to provide an
<small>HREF</small> for the &lt;base&gt; tag different from
the current location, as in</p>

<pre style="margin-left:11%; margin-top: 1em">    &minus;xbase=&gt;&quot;http://home.mcom.com/&quot;</pre>


<p style="margin-left:11%; margin-top: 1em">All relative
links will be interpreted relative to this tag.</p>

<p style="margin-left:11%; margin-top: 1em">The argument
<b>&minus;target</b> allows you to provide a default target
frame for all the links and fill-out forms on the page.
<b>This is a non-standard <small>HTTP</small> feature which
only works with some browsers!</b></p>

<pre style="margin-left:11%; margin-top: 1em">    &minus;target=&gt;&quot;answer_window&quot;</pre>


<p style="margin-left:11%; margin-top: 1em">All relative
links will be interpreted relative to this tag. You add
arbitrary meta information to the header with the
<b>&minus;meta</b> argument. This argument expects a
reference to a hash containing name/value pairs of meta
information. These will be turned into a series of header
&lt;meta&gt; tags that look something like this:</p>

<pre style="margin-left:11%; margin-top: 1em">    &lt;meta name=&quot;keywords&quot; content=&quot;pharaoh secret mummy&quot;&gt;
    &lt;meta name=&quot;description&quot; content=&quot;copyright 1996 King Tut&quot;&gt;</pre>


<p style="margin-left:11%; margin-top: 1em">To create an
HTTP-EQUIV type of &lt;meta&gt; tag, use <b>&minus;head</b>,
described below.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>&minus;style</b> argument is used to incorporate
cascading stylesheets into your code. See the section on
<small>CASCADING STYLESHEETS</small> for more
information.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>&minus;lang</b> argument is used to incorporate a
language attribute into the &lt;html&gt; tag. For
example:</p>

<pre style="margin-left:11%; margin-top: 1em">    print $q&minus;&gt;start_html(&minus;lang=&gt;'fr&minus;CA');</pre>


<p style="margin-left:11%; margin-top: 1em">The default if
not specified is &quot;en-US&quot; for <small>US</small>
English, unless the &minus;dtd parameter specifies an
<small>HTML 2.0</small> or 3.2 <small>DTD,</small> in which
case the lang attribute is left off. You can force the lang
attribute to left off in other cases by passing an empty
string (&minus;lang=&gt;&rsquo;&rsquo;).</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>&minus;encoding</b> argument can be used to specify the
character set for <small>XHTML.</small> It defaults to
iso&minus;8859&minus;1 if not specified.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>&minus;dtd</b> argument can be used to specify a public
<small>DTD</small> identifier string. For example:</p>

<pre style="margin-left:11%; margin-top: 1em">    &minus;dtd =&gt; '&minus;//W3C//DTD HTML 4.01 Transitional//EN')</pre>


<p style="margin-left:11%; margin-top: 1em">Alternatively,
it can take public and system <small>DTD</small> identifiers
as an array:</p>

<pre style="margin-left:11%; margin-top: 1em">    dtd =&gt; [ '&minus;//W3C//DTD HTML 4.01 Transitional//EN', 'http://www.w3.org/TR/html4/loose.dtd' ]</pre>


<p style="margin-left:11%; margin-top: 1em">For the public
<small>DTD</small> identifier to be considered, it must be
valid. Otherwise it will be replaced by the default
<small>DTD.</small> If the public <small>DTD</small>
contains &rsquo; <small>XHTML</small> &rsquo;,
<small>CGI</small> .pm will emit <small>XML.</small></p>

<p style="margin-left:11%; margin-top: 1em">The
<b>&minus;declare_xml</b> argument, when used in conjunction
with <small>XHTML,</small> will put a &lt;?xml&gt;
declaration at the top of the <small>HTML</small> header.
The sole purpose of this declaration is to declare the
character set encoding. In the absence of
&minus;declare_xml, the output <small>HTML</small> will
contain a &lt;meta&gt; tag that specifies the encoding,
allowing the <small>HTML</small> to pass most validators.
The default for &minus;declare_xml is false.</p>

<p style="margin-left:11%; margin-top: 1em">You can place
other arbitrary <small>HTML</small> elements to the
&lt;head&gt; section with the <b>&minus;head</b> tag. For
example, to place a &lt;link&gt; element in the head
section, use this:</p>

<pre style="margin-left:11%; margin-top: 1em">    print start_html(&minus;head=&gt;Link({&minus;rel=&gt;'shortcut icon',
                                  &minus;href=&gt;'favicon.ico'}));</pre>


<p style="margin-left:11%; margin-top: 1em">To incorporate
multiple <small>HTML</small> elements into the &lt;head&gt;
section, just pass an array reference:</p>

<pre style="margin-left:11%; margin-top: 1em">    print start_html(&minus;head=&gt;[
                             Link({&minus;rel=&gt;'next',
                                   &minus;href=&gt;'http://www.capricorn.com/s2.html'}),
                             Link({&minus;rel=&gt;'previous',
                                   &minus;href=&gt;'http://www.capricorn.com/s1.html'})
                             ]
                     );</pre>


<p style="margin-left:11%; margin-top: 1em">And
here&rsquo;s how to create an HTTP-EQUIV &lt;meta&gt;
tag:</p>

<pre style="margin-left:11%; margin-top: 1em">      print start_html(&minus;head=&gt;meta({&minus;http_equiv =&gt; 'Content&minus;Type',
                                    &minus;content    =&gt; 'text/html'}))</pre>



<p style="margin-left:11%; margin-top: 1em"><small>JAVASCRIPTING:</small>
The <b>&minus;script</b>, <b>&minus;noScript</b>,
<b>&minus;onLoad</b>, <b>&minus;onMouseOver</b>,
<b>&minus;onMouseOut</b> and <b>&minus;onUnload</b>
parameters are used to add JavaScript calls to your pages.
<b>&minus;script</b> should point to a block of text
containing JavaScript function definitions. This block will
be placed within a &lt;script&gt; block inside the
<small>HTML</small> (not <small>HTTP</small> ) header. The
block is placed in the header in order to give your page a
fighting chance of having all its JavaScript functions in
place even if the user presses the stop button before the
page has loaded completely. <small>CGI</small> .pm attempts
to format the script in such a way that JavaScript-naive
browsers will not choke on the code: unfortunately there are
some browsers, such as Chimera for Unix, that get confused
by it nevertheless.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>&minus;onLoad</b> and <b>&minus;onUnload</b> parameters
point to fragments of JavaScript code to execute when the
page is respectively opened and closed by the browser.
Usually these parameters are calls to functions defined in
the <b>&minus;script</b> field:</p>

<pre style="margin-left:11%; margin-top: 1em">      $query = CGI&minus;&gt;new;
      print header;
      $JSCRIPT=&lt;&lt;END;
      // Ask a silly question
      function riddle_me_this() {
         var r = prompt(&quot;What walks on four legs in the morning, &quot; +
                       &quot;two legs in the afternoon, &quot; +
                       &quot;and three legs in the evening?&quot;);
         response(r);
      }
      // Get a silly answer
      function response(answer) {
         if (answer == &quot;man&quot;)
            alert(&quot;Right you are!&quot;);
         else
            alert(&quot;Wrong!  Guess again.&quot;);
      }
      END
      print start_html(&minus;title=&gt;'The Riddle of the Sphinx',
                               &minus;script=&gt;$JSCRIPT);</pre>


<p style="margin-left:11%; margin-top: 1em">Use the
<b>&minus;noScript</b> parameter to pass some
<small>HTML</small> text that will be displayed on browsers
that do not have JavaScript (or browsers where JavaScript is
turned off).</p>

<p style="margin-left:11%; margin-top: 1em">The
&lt;script&gt; tag, has several attributes including
&quot;type&quot;, &quot;charset&quot; and &quot;src&quot;.
&quot;src&quot; allows you to keep JavaScript code in an
external file. To use these attributes pass a
<small>HASH</small> reference in the <b>&minus;script</b>
parameter containing one or more of &minus;type, &minus;src,
or &minus;code:</p>

<pre style="margin-left:11%; margin-top: 1em">    print $q&minus;&gt;start_html(&minus;title=&gt;'The Riddle of the Sphinx',
                         &minus;script=&gt;{&minus;type=&gt;'JAVASCRIPT',
                                   &minus;src=&gt;'/javascript/sphinx.js'}
                         );
    print $q&minus;&gt;(&minus;title=&gt;'The Riddle of the Sphinx',
               &minus;script=&gt;{&minus;type=&gt;'PERLSCRIPT',
                         &minus;code=&gt;'print &quot;hello world!\n;&quot;'}
               );</pre>


<p style="margin-left:11%; margin-top: 1em">A final feature
allows you to incorporate multiple &lt;script&gt; sections
into the header. Just pass the list of script sections as an
array reference. this allows you to specify different source
files for different dialects of JavaScript. Example:</p>

<pre style="margin-left:11%; margin-top: 1em">     print $q&minus;&gt;start_html(&minus;title=&gt;'The Riddle of the Sphinx',
                          &minus;script=&gt;[
                                    { &minus;type =&gt; 'text/javascript',
                                      &minus;src      =&gt; '/javascript/utilities10.js'
                                    },
                                    { &minus;type =&gt; 'text/javascript',
                                      &minus;src      =&gt; '/javascript/utilities11.js'
                                    },
                                    { &minus;type =&gt; 'text/jscript',
                                      &minus;src      =&gt; '/javascript/utilities12.js'
                                    },
                                    { &minus;type =&gt; 'text/ecmascript',
                                      &minus;src      =&gt; '/javascript/utilities219.js'
                                    }
                                 ]
                             );</pre>


<p style="margin-left:11%; margin-top: 1em">The option
&quot;&minus;language&quot; is a synonym for &minus;type,
and is supported for backwards compatibility.</p>

<p style="margin-left:11%; margin-top: 1em">The old-style
positional parameters are as follows: <b><br>
Parameters:</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>1.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The title</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>2.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The author&rsquo;s e&minus;mail address (will create a
&lt;link rev=&quot; <small>MADE&quot;</small> &gt; tag if
present</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>3.</p></td>
<td width="3%"></td>
<td width="83%">


<p>A &rsquo;true&rsquo; flag if you want to include a
&lt;base&gt; tag in the header. This helps resolve relative
addresses to absolute ones when the document is moved, but
makes the document hierarchy non-portable. Use with
care!</p> </td></tr>
</table>

<p style="margin-left:11%;">4, 5, 6...</p>

<p style="margin-left:17%;">Any other parameters you want
to include in the &lt;body&gt; tag. This is a good place to
put <small>HTML</small> extensions, such as colors and
wallpaper patterns.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>ENDING
THE HTML DOCUMENT:</small></b></p>

<pre style="margin-left:11%;">        print $q&minus;&gt;end_html;</pre>


<p style="margin-left:11%; margin-top: 1em">This ends an
<small>HTML</small> document by printing the
&lt;/body&gt;&lt;/html&gt; tags.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>CREATING
A</small> SELF-REFERENCING <small>URL THAT PRESERVES STATE
INFORMATION:</small></b></p>

<pre style="margin-left:11%;">    $myself = $q&minus;&gt;self_url;
    print q(&lt;a href=&quot;$myself&quot;&gt;I'm talking to myself.&lt;/a&gt;);</pre>



<p style="margin-left:11%; margin-top: 1em"><i>self_url()</i>
will return a <small>URL,</small> that, when selected, will
reinvoke this script with all its state information intact.
This is most useful when you want to jump around within the
document using internal anchors but you don&rsquo;t want to
disrupt the current contents of the form(s). Something like
this will do the trick.</p>

<pre style="margin-left:11%; margin-top: 1em">     $myself = $q&minus;&gt;self_url;
     print &quot;&lt;a href=\&quot;$myself#table1\&quot;&gt;See table 1&lt;/a&gt;&quot;;
     print &quot;&lt;a href=\&quot;$myself#table2\&quot;&gt;See table 2&lt;/a&gt;&quot;;
     print &quot;&lt;a href=\&quot;$myself#yourself\&quot;&gt;See for yourself&lt;/a&gt;&quot;;</pre>


<p style="margin-left:11%; margin-top: 1em">If you want
more control over what&rsquo;s returned, using the
<b><i>url()</i></b> method instead.</p>

<p style="margin-left:11%; margin-top: 1em">You can also
retrieve the unprocessed query string with
<i>query_string()</i>:</p>

<pre style="margin-left:11%; margin-top: 1em">    $the_string = $q&minus;&gt;query_string();</pre>


<p style="margin-left:11%; margin-top: 1em">The behavior of
calling query_string is currently undefined when the
<small>HTTP</small> method is something other than
<small>GET.</small></p>


<p style="margin-left:11%; margin-top: 1em"><small><b>OBTAINING
THE SCRIPT</b></small> <b>&rsquo;S
<small>URL</small></b></p>

<pre style="margin-left:11%;">    $full_url      = url();
    $full_url      = url(&minus;full=&gt;1);  #alternative syntax
    $relative_url  = url(&minus;relative=&gt;1);
    $absolute_url  = url(&minus;absolute=&gt;1);
    $url_with_path = url(&minus;path_info=&gt;1);
    $url_with_path_and_query = url(&minus;path_info=&gt;1,&minus;query=&gt;1);
    $netloc        = url(&minus;base =&gt; 1);</pre>



<p style="margin-left:11%; margin-top: 1em"><b><i>url()</i></b>
returns the script&rsquo;s <small>URL</small> in a variety
of formats. Called without any arguments, it returns the
full form of the <small>URL,</small> including host name and
port number</p>

<pre style="margin-left:11%; margin-top: 1em">    http://your.host.com/path/to/script.cgi</pre>


<p style="margin-left:11%; margin-top: 1em">You can modify
this format with the following named arguments: <b><br>
&minus;absolute</b></p>

<p style="margin-left:17%;">If true, produce an absolute
<small>URL,</small> e.g.</p>

<pre style="margin-left:17%; margin-top: 1em">    /path/to/script.cgi</pre>


<p style="margin-left:11%;"><b>&minus;relative</b></p>

<p style="margin-left:17%;">Produce a relative
<small>URL.</small> This is useful if you want to reinvoke
your script with different parameters. For example:</p>

<pre style="margin-left:17%; margin-top: 1em">    script.cgi</pre>


<p style="margin-left:11%;"><b>&minus;full</b></p>

<p style="margin-left:17%;">Produce the full
<small>URL,</small> exactly as if called without any
arguments. This overrides the &minus;relative and
&minus;absolute arguments.</p>

<p style="margin-left:11%;"><b>&minus;path</b>
(<b>&minus;path_info</b>)</p>

<p style="margin-left:17%;">Append the additional path
information to the <small>URL.</small> This can be combined
with <b>&minus;full</b>, <b>&minus;absolute</b> or
<b>&minus;relative</b>. <b>&minus;path_info</b> is provided
as a synonym.</p>

<p style="margin-left:11%;"><b>&minus;query</b>
(<b>&minus;query_string</b>)</p>

<p style="margin-left:17%;">Append the query string to the
<small>URL.</small> This can be combined with
<b>&minus;full</b>, <b>&minus;absolute</b> or
<b>&minus;relative</b>. <b>&minus;query_string</b> is
provided as a synonym.</p>

<p style="margin-left:11%;"><b>&minus;base</b></p>

<p style="margin-left:17%;">Generate just the protocol and
net location, as in http://www.foo.com:8000</p>

<p style="margin-left:11%;"><b>&minus;rewrite</b></p>

<p style="margin-left:17%;">If Apache&rsquo;s mod_rewrite
is turned on, then the script name and path info probably
won&rsquo;t match the request that the user sent. Set
&minus;rewrite=&gt;1 (default) to return URLs that match
what the user sent (the original request <small>URI</small>
). Set &minus;rewrite=&gt;0 to return URLs that match the
<small>URL</small> after mod_rewrite&rsquo;s rules have
run.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>MIXING
POST AND URL PARAMETERS</small></b></p>

<pre style="margin-left:11%;">   $color = url_param('color');</pre>


<p style="margin-left:11%; margin-top: 1em">It is possible
for a script to receive <small>CGI</small> parameters in the
<small>URL</small> as well as in the fill-out form by
creating a form that POSTs to a <small>URL</small>
containing a query string (a &quot;?&quot; mark followed by
arguments). The <b><i>param()</i></b> method will always
return the contents of the POSTed fill-out form, ignoring
the <small>URL</small> &rsquo;s query string. To retrieve
<small>URL</small> parameters, call the
<b><i>url_param()</i></b> method. Use it in the same way as
<b><i>param()</i></b>. The main difference is that it allows
you to read the parameters, but not set them.</p>

<p style="margin-left:11%; margin-top: 1em">Under no
circumstances will the contents of the <small>URL</small>
query string interfere with similarly-named
<small>CGI</small> parameters in POSTed forms. If you try to
mix a <small>URL</small> query string with a form submitted
with the <small>GET</small> method, the results will not be
what you expect.</p>

<h2>CREATING STANDARD HTML ELEMENTS:
<a name="CREATING STANDARD HTML ELEMENTS:"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><small>CGI</small>
.pm defines general <small>HTML</small> shortcut methods for
many <small>HTML</small> tags. <small>HTML</small> shortcuts
are named after a single <small>HTML</small> element and
return a fragment of <small>HTML</small> text. Example:</p>

<pre style="margin-left:11%; margin-top: 1em">   print $q&minus;&gt;blockquote(
                     &quot;Many years ago on the island of&quot;,
                     $q&minus;&gt;a({href=&gt;&quot;http://crete.org/&quot;},&quot;Crete&quot;),
                     &quot;there lived a Minotaur named&quot;,
                     $q&minus;&gt;strong(&quot;Fred.&quot;),
                    ),
       $q&minus;&gt;hr;</pre>


<p style="margin-left:11%; margin-top: 1em">This results in
the following <small>HTML</small> code (extra newlines have
been added for readability):</p>

<pre style="margin-left:11%; margin-top: 1em">   &lt;blockquote&gt;
   Many years ago on the island of
   &lt;a href=&quot;http://crete.org/&quot;&gt;Crete&lt;/a&gt; there lived
   a minotaur named &lt;strong&gt;Fred.&lt;/strong&gt;
   &lt;/blockquote&gt;
   &lt;hr&gt;</pre>


<p style="margin-left:11%; margin-top: 1em">If you find the
syntax for calling the <small>HTML</small> shortcuts
awkward, you can import them into your namespace and
dispense with the object syntax completely (see the next
section for more details):</p>

<pre style="margin-left:11%; margin-top: 1em">   use CGI ':standard';
   print blockquote(
      &quot;Many years ago on the island of&quot;,
      a({href=&gt;&quot;http://crete.org/&quot;},&quot;Crete&quot;),
      &quot;there lived a minotaur named&quot;,
      strong(&quot;Fred.&quot;),
      ),
      hr;</pre>



<p style="margin-left:11%; margin-top: 1em"><b><small>PROVIDING
ARGUMENTS TO HTML SHORTCUTS</small></b> <br>
The <small>HTML</small> methods will accept zero, one or
multiple arguments. If you provide no arguments, you get a
single tag:</p>

<pre style="margin-left:11%; margin-top: 1em">   print hr;    #  &lt;hr&gt;</pre>


<p style="margin-left:11%; margin-top: 1em">If you provide
one or more string arguments, they are concatenated together
with spaces and placed between opening and closing tags:</p>

<pre style="margin-left:11%; margin-top: 1em">   print h1(&quot;Chapter&quot;,&quot;1&quot;); # &lt;h1&gt;Chapter 1&lt;/h1&gt;&quot;</pre>


<p style="margin-left:11%; margin-top: 1em">If the first
argument is a hash reference, then the keys and values of
the hash become the <small>HTML</small> tag&rsquo;s
attributes:</p>

<pre style="margin-left:11%; margin-top: 1em">   print a({&minus;href=&gt;'fred.html',&minus;target=&gt;'_new'},
      &quot;Open a new frame&quot;);
            &lt;a href=&quot;fred.html&quot;,target=&quot;_new&quot;&gt;Open a new frame&lt;/a&gt;</pre>


<p style="margin-left:11%; margin-top: 1em">You may
dispense with the dashes in front of the attribute names if
you prefer:</p>

<pre style="margin-left:11%; margin-top: 1em">   print img {src=&gt;'fred.gif',align=&gt;'LEFT'};
           &lt;img align=&quot;LEFT&quot; src=&quot;fred.gif&quot;&gt;</pre>


<p style="margin-left:11%; margin-top: 1em">Sometimes an
<small>HTML</small> tag attribute has no argument. For
example, ordered lists can be marked as
<small>COMPACT.</small> The syntax for this is an argument
that that points to an undef string:</p>

<pre style="margin-left:11%; margin-top: 1em">   print ol({compact=&gt;undef},li('one'),li('two'),li('three'));</pre>


<p style="margin-left:11%; margin-top: 1em">Prior to
<small>CGI</small> .pm version 2.41, providing an empty
(&rsquo;&rsquo;) string as an attribute argument was the
same as providing undef. However, this has changed in order
to accommodate those who want to create tags of the form
&lt;img alt=&quot;&quot;&gt;. The difference is shown in
these two pieces of code:</p>

<pre style="margin-left:11%; margin-top: 1em">   CODE                   RESULT
   img({alt=&gt;undef})      &lt;img alt&gt;
   img({alt=&gt;''})         &lt;img alt=&quot;&quot;&gt;</pre>


<p style="margin-left:11%; margin-top: 1em"><b><small>THE
DISTRIBUTIVE PROPERTY OF HTML SHORTCUTS</small></b> <br>
One of the cool features of the <small>HTML</small>
shortcuts is that they are distributive. If you give them an
argument consisting of a <b>reference</b> to a list, the tag
will be distributed across each element of the list. For
example, here&rsquo;s one way to make an ordered list:</p>

<pre style="margin-left:11%; margin-top: 1em">   print ul(
             li({&minus;type=&gt;'disc'},['Sneezy','Doc','Sleepy','Happy'])
           );</pre>


<p style="margin-left:11%; margin-top: 1em">This example
will result in <small>HTML</small> output that looks like
this:</p>

<pre style="margin-left:11%; margin-top: 1em">   &lt;ul&gt;
     &lt;li type=&quot;disc&quot;&gt;Sneezy&lt;/li&gt;
     &lt;li type=&quot;disc&quot;&gt;Doc&lt;/li&gt;
     &lt;li type=&quot;disc&quot;&gt;Sleepy&lt;/li&gt;
     &lt;li type=&quot;disc&quot;&gt;Happy&lt;/li&gt;
   &lt;/ul&gt;</pre>


<p style="margin-left:11%; margin-top: 1em">This is
extremely useful for creating tables. For example:</p>

<pre style="margin-left:11%; margin-top: 1em">   print table({&minus;border=&gt;undef},
           caption('When Should You Eat Your Vegetables?'),
           Tr({&minus;align=&gt;'CENTER',&minus;valign=&gt;'TOP'},
           [
              th(['Vegetable', 'Breakfast','Lunch','Dinner']),
              td(['Tomatoes' , 'no', 'yes', 'yes']),
              td(['Broccoli' , 'no', 'no',  'yes']),
              td(['Onions'   , 'yes','yes', 'yes'])
           ]
           )
        );</pre>


<p style="margin-left:11%; margin-top: 1em"><b><small>HTML
SHORTCUTS AND LIST INTERPOLATION</small></b> <br>
Consider this bit of code:</p>

<pre style="margin-left:11%; margin-top: 1em">   print blockquote(em('Hi'),'mom!'));</pre>


<p style="margin-left:11%; margin-top: 1em">It will
ordinarily return the string that you probably expect,
namely:</p>

<pre style="margin-left:11%; margin-top: 1em">   &lt;blockquote&gt;&lt;em&gt;Hi&lt;/em&gt; mom!&lt;/blockquote&gt;</pre>


<p style="margin-left:11%; margin-top: 1em">Note the space
between the element &quot;Hi&quot; and the element
&quot;mom!&quot;. <small>CGI</small> .pm puts the extra
space there using array interpolation, which is controlled
by the magic $&quot; variable. Sometimes this extra space is
not what you want, for example, when you are trying to align
a series of images. In this case, you can simply change the
value of $&quot; to an empty string.</p>

<pre style="margin-left:11%; margin-top: 1em">   {
      local($&quot;) = '';
      print blockquote(em('Hi'),'mom!'));
    }</pre>


<p style="margin-left:11%; margin-top: 1em">I suggest you
put the code in a block as shown here. Otherwise the change
to $&quot; will affect all subsequent code until you
explicitly reset it.</p>


<p style="margin-left:11%; margin-top: 1em"><b>NON-STANDARD
<small>HTML SHORTCUTS</small></b> <br>
A few <small>HTML</small> tags don&rsquo;t follow the
standard pattern for various reasons.</p>


<p style="margin-left:11%; margin-top: 1em"><b><i>comment()</i></b>
generates an <small>HTML</small> comment
(&lt;!&minus;&minus; comment &minus;&minus;&gt;). Call it
like</p>

<pre style="margin-left:11%; margin-top: 1em">    print comment('here is my comment');</pre>


<p style="margin-left:11%; margin-top: 1em">Because of
conflicts with built-in Perl functions, the following
functions begin with initial caps:</p>

<pre style="margin-left:11%; margin-top: 1em">    Select
    Tr
    Link
    Delete
    Accept
    Sub</pre>


<p style="margin-left:11%; margin-top: 1em">In addition,
<i>start_html()</i>, <i>end_html()</i>, <i>start_form()</i>,
<i>end_form()</i>, <i>start_multipart_form()</i> and all the
fill-out form tags are special. See their respective
sections.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>AUTOESCAPING
HTML</small></b> <br>
By default, all <small>HTML</small> that is emitted by the
form-generating functions is passed through a function
called <i>escapeHTML()</i>: <br>
$escaped_string = escapeHTML(&quot;unescaped
string&quot;);</p>

<p style="margin-left:17%;">Escape <small>HTML</small>
formatting characters in a string.</p>

<p style="margin-left:11%; margin-top: 1em">Provided that
you have specified a character set of
<small>ISO&minus;8859&minus;1</small> (the default), the
standard <small>HTML</small> escaping rules will be used.
The &quot;&lt;&quot; character becomes &quot;&amp;lt;&quot;,
&quot;&gt;&quot; becomes &quot;&amp;gt;&quot;,
&quot;&amp;&quot; becomes &quot;&amp;amp;&quot;, and the
quote character becomes &quot;&amp;quot;&quot;. In addition,
the hexadecimal 0x8b and 0x9b characters, which some
browsers incorrectly interpret as the left and right
angle-bracket characters, are replaced by their numeric
character entities (&quot;&amp;#8249&quot; and
&quot;&amp;#8250;&quot;). If you manually change the
charset, either by calling the <i>charset()</i> method
explicitly or by passing a &minus;charset argument to
<i>header()</i>, then <b>all</b> characters will be replaced
by their numeric entities, since <small>CGI</small> .pm has
no lookup table for all the possible encodings.</p>


<p style="margin-left:11%; margin-top: 1em"><tt>&quot;escapeHTML()&quot;</tt>
expects the supplied string to be a character string. This
means you should Encode::decode data received from
&quot;outside&quot; and Encode::encode your strings before
sending them back outside. If your source code
<small>UTF&minus;8</small> encoded and you want to upgrade
string literals in your source to character strings, you can
use &quot;use utf8&quot;. See perlunitut, perlunifaq and
perlunicode for more information on how Perl handles the
difference between bytes and characters.</p>

<p style="margin-left:11%; margin-top: 1em">The automatic
escaping does not apply to other shortcuts, such as
<i>h1()</i>. You should call <i>escapeHTML()</i> yourself on
untrusted data in order to protect your pages against nasty
tricks that people may enter into guestbooks, etc.. To
change the character set, use <i>charset()</i>. To turn
autoescaping off completely, use <i>autoEscape</i>(0): <br>
$charset = charset([$charset]);</p>

<p style="margin-left:17%;">Get or set the current
character set.</p>

<p style="margin-left:11%;">$flag =
autoEscape([$flag]);</p>

<p style="margin-left:17%;">Get or set the value of the
autoescape flag.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PRETTY-PRINTING
<small>HTML</small></b> <br>
By default, all the <small>HTML</small> produced by these
functions comes out as one long line without carriage
returns or indentation. This is yuck, but it does reduce the
size of the documents by 10&minus;20%. To get pretty-printed
output, please use CGI::Pretty, a subclass contributed by
Brian Paulsen.</p>

<h2>CREATING FILL-OUT FORMS:
<a name="CREATING FILL-OUT FORMS:"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>General
note</i> The various form-creating methods all return
strings to the caller, containing the tag or tags that will
create the requested form element. You are responsible for
actually printing out these strings. It&rsquo;s set up this
way so that you can place formatting tags around the form
elements.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Another
note</i> The default values that you specify for the forms
are only used the <b>first</b> time the script is invoked
(when there is no query string). On subsequent invocations
of the script (when there is a query string), the former
values are used even if they are blank.</p>

<p style="margin-left:11%; margin-top: 1em">If you want to
change the value of a field from its previous value, you
have two choices:</p>

<p style="margin-left:11%; margin-top: 1em">(1) call the
<i>param()</i> method to set it.</p>

<p style="margin-left:11%; margin-top: 1em">(2) use the
&minus;override (alias &minus;force) parameter (a new
feature in version 2.15). This forces the default value to
be used, regardless of the previous value:</p>

<pre style="margin-left:11%; margin-top: 1em">   print textfield(&minus;name=&gt;'field_name',
                           &minus;default=&gt;'starting value',
                           &minus;override=&gt;1,
                           &minus;size=&gt;50,
                           &minus;maxlength=&gt;80);</pre>


<p style="margin-left:11%; margin-top: 1em"><i>Yet another
note</i> By default, the text and labels of form elements
are escaped according to <small>HTML</small> rules. This
means that you can safely use &quot;&lt; <small>CLICK
ME</small> &gt;&quot; as the label for a button. However, it
also interferes with your ability to incorporate special
<small>HTML</small> character sequences, such as
&amp;Aacute;, into your fields. If you wish to turn off
automatic escaping, call the <i>autoEscape()</i> method with
a false value immediately after creating the
<small>CGI</small> object:</p>

<pre style="margin-left:11%; margin-top: 1em">   $query = CGI&minus;&gt;new;
   $query&minus;&gt;autoEscape(0);</pre>


<p style="margin-left:11%; margin-top: 1em">Note that
<i>autoEscape()</i> is exclusively used to effect the
behavior of how some <small>CGI</small> .pm
<small>HTML</small> generation functions handle escaping.
Calling <i>escapeHTML()</i> explicitly will always escape
the <small>HTML.</small></p>

<p style="margin-left:11%; margin-top: 1em"><i>A Lurking
Trap!</i> Some of the form-element generating methods return
multiple tags. In a scalar context, the tags will be
concatenated together with spaces, or whatever is the
current value of the $&quot; global. In a list context, the
methods will return a list of elements, allowing you to
modify them if you wish. Usually you will not notice this
behavior, but beware of this:</p>

<pre style="margin-left:11%; margin-top: 1em">    printf(&quot;%s\n&quot;,end_form())</pre>



<p style="margin-left:11%; margin-top: 1em"><i>end_form()</i>
produces several tags, and only the first of them will be
printed because the format only expects one value.</p>

<p style="margin-left:11%; margin-top: 1em">&lt;p&gt;</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>CREATING
AN ISINDEX TAG</small></b></p>

<pre style="margin-left:11%;">   print isindex(&minus;action=&gt;$action);
         &minus;or&minus;
   print isindex($action);</pre>


<p style="margin-left:11%; margin-top: 1em">Prints out an
&lt;isindex&gt; tag. Not very exciting. The parameter
&minus;action specifies the <small>URL</small> of the script
to process the query. The default is to process the query
with the current script.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>STARTING
AND ENDING A FORM</small></b></p>

<pre style="margin-left:11%;">    print start_form(&minus;method=&gt;$method,
                    &minus;action=&gt;$action,
                    &minus;enctype=&gt;$encoding);
      &lt;... various form stuff ...&gt;
    print end_form;
        &minus;or&minus;
    print start_form($method,$action,$encoding);
      &lt;... various form stuff ...&gt;
    print end_form;</pre>



<p style="margin-left:11%; margin-top: 1em"><i>start_form()</i>
will return a &lt;form&gt; tag with the optional method,
action and form encoding that you specify. The defaults
are:</p>

<pre style="margin-left:11%; margin-top: 1em">    method: POST
    action: this script
    enctype: application/x&minus;www&minus;form&minus;urlencoded for non&minus;XHTML
             multipart/form&minus;data for XHTML, see multipart/form&minus;data below.</pre>



<p style="margin-left:11%; margin-top: 1em"><i>end_form()</i>
returns the closing &lt;/form&gt; tag.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Start_form()</i>&rsquo;s
enctype argument tells the browser how to package the
various fields of the form before sending the form to the
server. Two values are possible:</p>

<p style="margin-left:11%; margin-top: 1em"><b>Note:</b>
These methods were previously named <i>startform()</i> and
<i>endform()</i>. These methods are now
<small>DEPRECATED.</small> Please use <i>start_form()</i>
and <i>end_form()</i> instead. <b><br>
application/x&minus;www&minus;form&minus;urlencoded</b></p>

<p style="margin-left:17%;">This is the older type of
encoding. It is compatible with many <small>CGI</small>
scripts and is suitable for short fields containing text
data. For your convenience, <small>CGI</small> .pm stores
the name of this encoding type in
<b>&amp;CGI::URL_ENCODED</b>.</p>


<p style="margin-left:11%;"><b>multipart/form&minus;data</b></p>

<p style="margin-left:17%;">This is the newer type of
encoding. It is suitable for forms that contain very large
fields or that are intended for transferring binary data.
Most importantly, it enables the &quot;file upload&quot;
feature. For your convenience, <small>CGI</small> .pm stores
the name of this encoding type in
<b>&amp;CGI::MULTIPART</b></p>

<p style="margin-left:17%; margin-top: 1em">Forms that use
this type of encoding are not easily interpreted by
<small>CGI</small> scripts unless they use
<small>CGI</small> .pm or another library designed to handle
them.</p>

<p style="margin-left:17%; margin-top: 1em">If
<small>XHTML</small> is activated (the default), then forms
will be automatically created using this type of
encoding.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>start_form()</i> method uses the older form of encoding
by default unless <small>XHTML</small> is requested. If you
want to use the newer form of encoding by default, you can
call <b><i>start_multipart_form()</i></b> instead of
<b><i>start_form()</i></b>. The method
<b><i>end_multipart_form()</i></b> is an alias to
<b><i>end_form()</i></b>.</p>


<p style="margin-left:11%; margin-top: 1em"><small>JAVASCRIPTING:</small>
The <b>&minus;name</b> and <b>&minus;onSubmit</b> parameters
are provided for use with JavaScript. The &minus;name
parameter gives the form a name so that it can be identified
and manipulated by JavaScript functions. &minus;onSubmit
should point to a JavaScript function that will be executed
just before the form is submitted to your server. You can
use this opportunity to check the contents of the form for
consistency and completeness. If you find something wrong,
you can put up an alert box or maybe fix things up yourself.
You can abort the submission by returning false from this
function.</p>

<p style="margin-left:11%; margin-top: 1em">Usually the
bulk of JavaScript functions are defined in a &lt;script&gt;
block in the <small>HTML</small> header and &minus;onSubmit
points to one of these function call. See
<i>start_html()</i> for details.</p>

<p style="margin-left:11%; margin-top: 1em"><b><small>FORM
ELEMENTS</small></b> <br>
After starting a form, you will typically create one or more
textfields, popup menus, radio groups and other form
elements. Each of these elements takes a standard set of
named arguments. Some elements also have optional arguments.
The standard arguments are as follows: <b><br>
&minus;name</b></p>

<p style="margin-left:17%;">The name of the field. After
submission this name can be used to retrieve the
field&rsquo;s value using the <i>param()</i> method.</p>

<p style="margin-left:11%;"><b>&minus;value</b>,
<b>&minus;values</b></p>

<p style="margin-left:17%;">The initial value of the field
which will be returned to the script after form submission.
Some form elements, such as text fields, take a single
scalar &minus;value argument. Others, such as popup menus,
take a reference to an array of values. The two arguments
are synonyms.</p>

<p style="margin-left:11%;"><b>&minus;tabindex</b></p>

<p style="margin-left:17%;">A numeric value that sets the
order in which the form element receives focus when the user
presses the tab key. Elements with lower values receive
focus first.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>&minus;id</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>A string identifier that can be used to identify this
element to JavaScript and <small>DHTML.</small></p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;override</b></p>

<p style="margin-left:17%;">A boolean, which, if true,
forces the element to take on the value specified by
<b>&minus;value</b>, overriding the sticky behavior
described earlier for the <b>&minus;nosticky</b> pragma.</p>

<p style="margin-left:11%;"><b>&minus;onChange</b>,
<b>&minus;onFocus</b>, <b>&minus;onBlur</b>,
<b>&minus;onMouseOver</b>, <b>&minus;onMouseOut</b>,
<b>&minus;onSelect</b></p>

<p style="margin-left:17%;">These are used to assign
JavaScript event handlers. See the JavaScripting section for
more details.</p>

<p style="margin-left:11%; margin-top: 1em">Other common
arguments are described in the next section. In addition to
these, all attributes described in the <small>HTML</small>
specifications are supported.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>CREATING
A TEXT FIELD</small></b></p>

<pre style="margin-left:11%;">    print textfield(&minus;name=&gt;'field_name',
                    &minus;value=&gt;'starting value',
                    &minus;size=&gt;50,
                    &minus;maxlength=&gt;80);
        &minus;or&minus;
    print textfield('field_name','starting value',50,80);</pre>



<p style="margin-left:11%; margin-top: 1em"><i>textfield()</i>
will return a text input field. <b><br>
Parameters</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>1.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The first parameter is the required name for the field
(&minus;name).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>2.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The optional second parameter is the default starting
value for the field contents (&minus;value, formerly known
as &minus;default).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>3.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The optional third parameter is the size of the field
in</p> </td></tr>
</table>

<p style="margin-left:17%;">characters (&minus;size).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em">4.</p></td>
<td width="3%"></td>
<td width="83%">


<p style="margin-top: 1em">The optional fourth parameter is
the maximum number of characters the</p></td></tr>
</table>

<p style="margin-left:17%;">field will accept
(&minus;maxlength).</p>

<p style="margin-left:11%; margin-top: 1em">As with all
these methods, the field will be initialized with its
previous contents from earlier invocations of the script.
When the form is processed, the value of the text field can
be retrieved with:</p>

<pre style="margin-left:11%; margin-top: 1em">       $value = param('foo');</pre>


<p style="margin-left:11%; margin-top: 1em">If you want to
reset it from its initial value after the script has been
called once, you can do so like this:</p>

<pre style="margin-left:11%; margin-top: 1em">       param('foo',&quot;I'm taking over this value!&quot;);</pre>



<p style="margin-left:11%; margin-top: 1em"><b><small>CREATING
A BIG TEXT FIELD</small></b></p>

<pre style="margin-left:11%;">   print textarea(&minus;name=&gt;'foo',
                          &minus;default=&gt;'starting value',
                          &minus;rows=&gt;10,
                          &minus;columns=&gt;50);
        &minus;or
   print textarea('foo','starting value',10,50);</pre>



<p style="margin-left:11%; margin-top: 1em"><i>textarea()</i>
is just like textfield, but it allows you to specify rows
and columns for a multiline text entry box. You can provide
a starting value for the field, which can be long and
contain multiple lines.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>CREATING
A PASSWORD FIELD</small></b></p>

<pre style="margin-left:11%;">   print password_field(&minus;name=&gt;'secret',
                                &minus;value=&gt;'starting value',
                                &minus;size=&gt;50,
                                &minus;maxlength=&gt;80);
        &minus;or&minus;
   print password_field('secret','starting value',50,80);</pre>



<p style="margin-left:11%; margin-top: 1em"><i>password_field()</i>
is identical to <i>textfield()</i>, except that its contents
will be starred out on the web page.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>CREATING
A FILE UPLOAD FIELD</small></b></p>

<pre style="margin-left:11%;">    print filefield(&minus;name=&gt;'uploaded_file',
                            &minus;default=&gt;'starting value',
                            &minus;size=&gt;50,
                            &minus;maxlength=&gt;80);
        &minus;or&minus;
    print filefield('uploaded_file','starting value',50,80);</pre>



<p style="margin-left:11%; margin-top: 1em"><i>filefield()</i>
will return a file upload field. In order to take full
advantage of this <i>you must use the new multipart encoding
scheme</i> for the form. You can do this either by calling
<b><i>start_form()</i></b> with an encoding type of
<b>&amp;CGI::MULTIPART</b>, or by calling the new method
<b><i>start_multipart_form()</i></b> instead of vanilla
<b><i>start_form()</i></b>. <b><br>
Parameters</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>1.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The first parameter is the required name for the field
(&minus;name).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>2.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The optional second parameter is the starting value for
the field contents to be used as the default file name
(&minus;default).</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">For security
reasons, browsers don&rsquo;t pay any attention to this
field, and so the starting value will always be blank.
Worse, the field loses its &quot;sticky&quot; behavior and
forgets its previous contents. The starting value field is
called for in the <small>HTML</small> specification,
however, and possibly some browser will eventually provide
support for it.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em">3.</p></td>
<td width="3%"></td>
<td width="83%">


<p style="margin-top: 1em">The optional third parameter is
the size of the field in characters (&minus;size).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>4.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The optional fourth parameter is the maximum number of
characters the field will accept (&minus;maxlength).</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><small>JAVASCRIPTING:</small>
The <b>&minus;onChange</b>, <b>&minus;onFocus</b>,
<b>&minus;onBlur</b>, <b>&minus;onMouseOver</b>,
<b>&minus;onMouseOut</b> and <b>&minus;onSelect</b>
parameters are recognized. See <i>textfield()</i> for
details.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>PROCESSING
A FILE UPLOAD FIELD</small></b> <i><br>
Basics</i></p>

<p style="margin-left:11%; margin-top: 1em">When the form
is processed, you can retrieve an IO::Handle compatible
handle for a file upload field like this:</p>

<pre style="margin-left:11%; margin-top: 1em">  $lightweight_fh  = $q&minus;&gt;upload('field_name');
  # undef may be returned if it's not a valid file handle
  if (defined $lightweight_fh) {
    # Upgrade the handle to one compatible with IO::Handle:
    my $io_handle = $lightweight_fh&minus;&gt;handle;
    open (OUTFILE,'&gt;&gt;','/usr/local/web/users/feedback');
    while ($bytesread = $io_handle&minus;&gt;read($buffer,1024)) {
      print OUTFILE $buffer;
    }
  }</pre>


<p style="margin-left:11%; margin-top: 1em">In a list
context, <i>upload()</i> will return an array of
filehandles. This makes it possible to process forms that
use the same name for multiple upload fields.</p>

<p style="margin-left:11%; margin-top: 1em">If you want the
entered file name for the file, you can just call
<i>param()</i>:</p>

<pre style="margin-left:11%; margin-top: 1em">  $filename = $q&minus;&gt;param('field_name');</pre>


<p style="margin-left:11%; margin-top: 1em">Different
browsers will return slightly different things for the name.
Some browsers return the filename only. Others return the
full path to the file, using the path conventions of the
user&rsquo;s machine. Regardless, the name returned is
always the name of the file on the <i>user&rsquo;s</i>
machine, and is unrelated to the name of the temporary file
that <small>CGI</small> .pm creates during upload spooling
(see below).</p>

<p style="margin-left:11%; margin-top: 1em">When a file is
uploaded the browser usually sends along some information
along with it in the format of headers. The information
usually includes the <small>MIME</small> content type. To
retrieve this information, call <i>uploadInfo()</i>. It
returns a reference to a hash containing all the document
headers.</p>

<pre style="margin-left:11%; margin-top: 1em">       $filename = $q&minus;&gt;param('uploaded_file');
       $type = $q&minus;&gt;uploadInfo($filename)&minus;&gt;{'Content&minus;Type'};
       unless ($type eq 'text/html') {
        die &quot;HTML FILES ONLY!&quot;;
       }</pre>


<p style="margin-left:11%; margin-top: 1em">If you are
using a machine that recognizes &quot;text&quot; and
&quot;binary&quot; data modes, be sure to understand when
and how to use them (see the Camel book). Otherwise you may
find that binary files are corrupted during file
uploads.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Accessing
the temp files directly</i></p>

<p style="margin-left:11%; margin-top: 1em">When processing
an uploaded file, <small>CGI</small> .pm creates a temporary
file on your hard disk and passes you a file handle to that
file. After you are finished with the file handle,
<small>CGI</small> .pm unlinks (deletes) the temporary file.
If you need to you can access the temporary file directly.
You can access the temp file for a file upload by passing
the file name to the <i>tmpFileName()</i> method:</p>

<pre style="margin-left:11%; margin-top: 1em">       $filename = $query&minus;&gt;param('uploaded_file');
       $tmpfilename = $query&minus;&gt;tmpFileName($filename);</pre>


<p style="margin-left:11%; margin-top: 1em">The temporary
file will be deleted automatically when your program exits
unless you manually rename it. On some operating systems
(such as Windows <small>NT</small> ), you will need to close
the temporary file&rsquo;s filehandle before your program
exits. Otherwise the attempt to delete the temporary file
will fail.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Handling
interrupted file uploads</i></p>

<p style="margin-left:11%; margin-top: 1em">There are
occasionally problems involving parsing the uploaded file.
This usually happens when the user presses &quot;Stop&quot;
before the upload is finished. In this case,
<small>CGI</small> .pm will return undef for the name of the
uploaded file and set <i>cgi_error()</i> to the string
&quot;400 Bad request (malformed multipart
<small>POST</small> )&quot;. This error message is designed
so that you can incorporate it into a status code to be sent
to the browser. Example:</p>

<pre style="margin-left:11%; margin-top: 1em">   $file = $q&minus;&gt;upload('uploaded_file');
   if (!$file &amp;&amp; $q&minus;&gt;cgi_error) {
      print $q&minus;&gt;header(&minus;status=&gt;$q&minus;&gt;cgi_error);
      exit 0;
   }</pre>


<p style="margin-left:11%; margin-top: 1em">You are free to
create a custom <small>HTML</small> page to complain about
the error, if you wish.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Progress
bars for file uploads and avoiding temp files</i></p>


<p style="margin-left:11%; margin-top: 1em"><small>CGI</small>
.pm gives you low-level access to file upload management
through a file upload hook. You can use this feature to
completely turn off the temp file storage of file uploads,
or potentially write your own file upload progress
meter.</p>

<p style="margin-left:11%; margin-top: 1em">This is much
like the <small>UPLOAD_HOOK</small> facility available in
Apache::Request, with the exception that the first argument
to the callback is an Apache::Upload object, here it&rsquo;s
the remote filename.</p>

<pre style="margin-left:11%; margin-top: 1em"> $q = CGI&minus;&gt;new(\&amp;hook [,$data [,$use_tempfile]]);
 sub hook {
        my ($filename, $buffer, $bytes_read, $data) = @_;
        print  &quot;Read $bytes_read bytes of $filename\n&quot;;
 }</pre>


<p style="margin-left:11%; margin-top: 1em">The
<tt>$data</tt> field is optional; it lets you pass
configuration information (e.g. a database handle) to your
hook callback.</p>

<p style="margin-left:11%; margin-top: 1em">The
<tt>$use_tempfile</tt> field is a flag that lets you turn on
and off <small>CGI</small> .pm&rsquo;s use of a temporary
disk-based file during file upload. If you set this to a
<small>FALSE</small> value (default true) then
<tt>$q</tt>&minus;&gt;param(&rsquo;uploaded_file&rsquo;)
will no longer work, and the only way to get at the uploaded
data is via the hook you provide.</p>

<p style="margin-left:11%; margin-top: 1em">If using the
function-oriented interface, call the
<i>CGI::upload_hook()</i> method before calling
<i>param()</i> or any other <small>CGI</small>
functions:</p>

<pre style="margin-left:11%; margin-top: 1em">  CGI::upload_hook(\&amp;hook [,$data [,$use_tempfile]]);</pre>


<p style="margin-left:11%; margin-top: 1em">This method is
not exported by default. You will have to import it
explicitly if you wish to use it without the
<small>CGI::</small> prefix.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Troubleshooting
file uploads on Windows</i></p>

<p style="margin-left:11%; margin-top: 1em">If you are
using <small>CGI</small> .pm on a Windows platform and find
that binary files get slightly larger when uploaded but that
text files remain the same, then you have forgotten to
activate binary mode on the output filehandle. Be sure to
call <i>binmode()</i> on any handle that you create to write
the uploaded file to disk.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Older ways
to process file uploads</i></p>

<p style="margin-left:11%; margin-top: 1em">( This section
is here for completeness. if you are building a new
application with <small>CGI</small> .pm, you can skip it.
)</p>

<p style="margin-left:11%; margin-top: 1em">The original
way to process file uploads with <small>CGI</small> .pm was
to use <i>param()</i>. The value it returns has a dual
nature as both a file name and a lightweight filehandle.
This dual nature is problematic if you following the
recommended practice of having <tt>&quot;use
strict&quot;</tt> in your code. Perl will complain when you
try to use a string as a filehandle. More seriously, it is
possible for the remote user to type garbage into the upload
field, in which case what you get from <i>param()</i> is not
a filehandle at all, but a string.</p>

<p style="margin-left:11%; margin-top: 1em">To solve this
problem the <i>upload()</i> method was added, which always
returns a lightweight filehandle. This generally works well,
but will have trouble interoperating with some other modules
because the file handle is not derived from IO::Handle. So
that brings us to current recommendation given above, which
is to call the <i>handle()</i> method on the file handle
returned by <i>upload()</i>. That upgrades the handle to an
IO::Handle. It&rsquo;s a big win for compatibility for a
small penalty of loading IO::Handle the first time you call
it.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>CREATING
A POPUP MENU</small></b></p>

<pre style="margin-left:11%;">   print popup_menu('menu_name',
                            ['eenie','meenie','minie'],
                            'meenie');
      &minus;or&minus;
   %labels = ('eenie'=&gt;'your first choice',
              'meenie'=&gt;'your second choice',
              'minie'=&gt;'your third choice');
   %attributes = ('eenie'=&gt;{'class'=&gt;'class of first choice'});
   print popup_menu('menu_name',
                            ['eenie','meenie','minie'],
          'meenie',\%labels,\%attributes);
        &minus;or (named parameter style)&minus;
   print popup_menu(&minus;name=&gt;'menu_name',
                            &minus;values=&gt;['eenie','meenie','minie'],
                            &minus;default=&gt;['meenie','minie'],
          &minus;labels=&gt;\%labels,
          &minus;attributes=&gt;\%attributes);</pre>



<p style="margin-left:11%; margin-top: 1em"><i>popup_menu()</i>
creates a menu.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em">1.</p></td>
<td width="3%"></td>
<td width="83%">


<p style="margin-top: 1em">The required first argument is
the menu&rsquo;s name (&minus;name).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>2.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The required second argument (&minus;values) is an array
<b>reference</b> containing the list of menu items in the
menu. You can pass the method an anonymous array, as shown
in the example, or a reference to a named array, such as
&quot;\@foo&quot;.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>3.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The optional third parameter (&minus;default) is the
name of the default menu choice. If not specified, the first
item will be the default. The values of the previous choice
will be maintained across queries. Pass an array reference
to select multiple defaults.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>4.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The optional fourth parameter (&minus;labels) is
provided for people who want to use different values for the
user-visible label inside the popup menu and the value
returned to your script. It&rsquo;s a pointer to an hash
relating menu values to user-visible labels. If you leave
this parameter blank, the menu values will be displayed by
default. (You can also leave a label undefined if you want
to).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>5.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The optional fifth parameter (&minus;attributes) is
provided to assign any of the common <small>HTML</small>
attributes to an individual menu item. It&rsquo;s a pointer
to a hash relating menu values to another hash with the
attribute&rsquo;s name as the key and the attribute&rsquo;s
value as the value.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">When the form
is processed, the selected value of the popup menu can be
retrieved using:</p>

<pre style="margin-left:11%; margin-top: 1em">      $popup_menu_value = param('menu_name');</pre>



<p style="margin-left:11%; margin-top: 1em"><b><small>CREATING
AN OPTION GROUP</small></b> <br>
Named parameter style</p>

<pre style="margin-left:11%; margin-top: 1em">  print popup_menu(&minus;name=&gt;'menu_name',
                  &minus;values=&gt;[qw/eenie meenie minie/,
                            optgroup(&minus;name=&gt;'optgroup_name',
                                             &minus;values =&gt; ['moe','catch'],
                                             &minus;attributes=&gt;{'catch'=&gt;{'class'=&gt;'red'}})],
                  &minus;labels=&gt;{'eenie'=&gt;'one',
                            'meenie'=&gt;'two',
                            'minie'=&gt;'three'},
                  &minus;default=&gt;'meenie');
  Old style
  print popup_menu('menu_name',
                  ['eenie','meenie','minie',
                   optgroup('optgroup_name', ['moe', 'catch'],
                                   {'catch'=&gt;{'class'=&gt;'red'}})],'meenie',
                  {'eenie'=&gt;'one','meenie'=&gt;'two','minie'=&gt;'three'});</pre>



<p style="margin-left:11%; margin-top: 1em"><i>optgroup()</i>
creates an option group within a popup menu.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em">1.</p></td>
<td width="3%"></td>
<td width="83%">


<p style="margin-top: 1em">The required first argument
(<b>&minus;name</b>) is the label attribute of the optgroup
and is <b>not</b> inserted in the parameter list of the
query.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>2.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The required second argument (<b>&minus;values</b>) is
an array reference containing the list of menu items in the
menu. You can pass the method an anonymous array, as shown
in the example, or a reference to a named array, such as
\@foo. If you pass a <small>HASH</small> reference, the keys
will be used for the menu values, and the values will be
used for the menu labels (see &minus;labels below).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>3.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The optional third parameter (<b>&minus;labels</b>)
allows you to pass a reference to a hash containing
user-visible labels for one or more of the menu items. You
can use this when you want the user to see one menu string,
but have the browser return your program a different one. If
you don&rsquo;t specify this, the value string will be used
instead (&quot;eenie&quot;, &quot;meenie&quot; and
&quot;minie&quot; in this example). This is equivalent to
using a hash reference for the &minus;values parameter.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>4.</p></td>
<td width="3%"></td>
<td width="83%">


<p>An optional fourth parameter (<b>&minus;labeled</b>) can
be set to a true value and indicates that the values should
be used as the label attribute for each option element
within the optgroup.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>5.</p></td>
<td width="3%"></td>
<td width="83%">


<p>An optional fifth parameter (&minus;novals) can be set
to a true value and indicates to suppress the val attribute
in each option element within the optgroup.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">See the
discussion on optgroup at W3C
(http://www.w3.org/TR/REC&minus;html40/interact/forms.html#edef&minus;OPTGROUP)
for details.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em">6.</p></td>
<td width="3%"></td>
<td width="83%">


<p style="margin-top: 1em">An optional sixth parameter
(&minus;attributes) is provided to assign any of the common
<small>HTML</small> attributes to an individual menu item.
It&rsquo;s a pointer to a hash relating menu values to
another hash with the attribute&rsquo;s name as the key and
the attribute&rsquo;s value as the value.</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><b><small>CREATING
A SCROLLING LIST</small></b></p>

<pre style="margin-left:11%;">   print scrolling_list('list_name',
                                ['eenie','meenie','minie','moe'],
        ['eenie','moe'],5,'true',{'moe'=&gt;{'class'=&gt;'red'}});
      &minus;or&minus;
   print scrolling_list('list_name',
                                ['eenie','meenie','minie','moe'],
                                ['eenie','moe'],5,'true',
        \%labels,%attributes);
        &minus;or&minus;
   print scrolling_list(&minus;name=&gt;'list_name',
                                &minus;values=&gt;['eenie','meenie','minie','moe'],
                                &minus;default=&gt;['eenie','moe'],
                                &minus;size=&gt;5,
                                &minus;multiple=&gt;'true',
        &minus;labels=&gt;\%labels,
        &minus;attributes=&gt;\%attributes);</pre>



<p style="margin-left:11%; margin-top: 1em"><i>scrolling_list()</i>
creates a scrolling list. <b><br>
Parameters:</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>1.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The first and second arguments are the list name
(&minus;name) and values (&minus;values). As in the popup
menu, the second argument should be an array reference.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>2.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The optional third argument (&minus;default) can be
either a reference to a list containing the values to be
selected by default, or can be a single value to select. If
this argument is missing or undefined, then nothing is
selected when the list first appears. In the named parameter
version, you can use the synonym &quot;&minus;defaults&quot;
for this parameter.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>3.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The optional fourth argument is the size of the list
(&minus;size).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>4.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The optional fifth argument can be set to true to allow
multiple simultaneous selections (&minus;multiple).
Otherwise only one selection will be allowed at a time.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>5.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The optional sixth argument is a pointer to a hash
containing long user-visible labels for the list items
(&minus;labels). If not provided, the values will be
displayed.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>6.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The optional sixth parameter (&minus;attributes) is
provided to assign any of the common <small>HTML</small>
attributes to an individual menu item. It&rsquo;s a pointer
to a hash relating menu values to another hash with the
attribute&rsquo;s name as the key and the attribute&rsquo;s
value as the value.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">When this form
is processed, all selected list items will be returned as a
list under the parameter name &rsquo;list_name&rsquo;. The
values of the selected items can be retrieved with:</p>

<pre style="margin-left:17%; margin-top: 1em">      @selected = param('list_name');</pre>



<p style="margin-left:11%; margin-top: 1em"><b><small>CREATING
A GROUP OF RELATED CHECKBOXES</small></b></p>

<pre style="margin-left:11%;">   print checkbox_group(&minus;name=&gt;'group_name',
                                &minus;values=&gt;['eenie','meenie','minie','moe'],
                                &minus;default=&gt;['eenie','moe'],
                                &minus;linebreak=&gt;'true',
                                &minus;disabled =&gt; ['moe'],
        &minus;labels=&gt;\%labels,
        &minus;attributes=&gt;\%attributes);
   print checkbox_group('group_name',
                                ['eenie','meenie','minie','moe'],
        ['eenie','moe'],'true',\%labels,
        {'moe'=&gt;{'class'=&gt;'red'}});
   HTML3&minus;COMPATIBLE BROWSERS ONLY:
   print checkbox_group(&minus;name=&gt;'group_name',
                                &minus;values=&gt;['eenie','meenie','minie','moe'],
                                &minus;rows=2,&minus;columns=&gt;2);</pre>



<p style="margin-left:11%; margin-top: 1em"><i>checkbox_group()</i>
creates a list of checkboxes that are related by the same
name. <b><br>
Parameters:</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>1.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The first and second arguments are the checkbox name and
values, respectively (&minus;name and &minus;values). As in
the popup menu, the second argument should be an array
reference. These values are used for the user-readable
labels printed next to the checkboxes as well as for the
values passed to your script in the query string.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>2.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The optional third argument (&minus;default) can be
either a reference to a list containing the values to be
checked by default, or can be a single value to checked. If
this argument is missing or undefined, then nothing is
selected when the list first appears.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>3.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The optional fourth argument (&minus;linebreak) can be
set to true to place line breaks between the checkboxes so
that they appear as a vertical list. Otherwise, they will be
strung together on a horizontal line.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The optional
<b>&minus;labels</b> argument is a pointer to a hash
relating the checkbox values to the user-visible labels that
will be printed next to them. If not provided, the values
will be used as the default.</p>

<p style="margin-left:11%; margin-top: 1em">The optional
parameters <b>&minus;rows</b>, and <b>&minus;columns</b>
cause <i>checkbox_group()</i> to return an
<small>HTML3</small> compatible table containing the
checkbox group formatted with the specified number of rows
and columns. You can provide just the &minus;columns
parameter if you wish; checkbox_group will calculate the
correct number of rows for you.</p>

<p style="margin-left:11%; margin-top: 1em">The option
<b>&minus;disabled</b> takes an array of checkbox values and
disables them by greying them out (this may not be supported
by all browsers).</p>

<p style="margin-left:11%; margin-top: 1em">The optional
<b>&minus;attributes</b> argument is provided to assign any
of the common <small>HTML</small> attributes to an
individual menu item. It&rsquo;s a pointer to a hash
relating menu values to another hash with the
attribute&rsquo;s name as the key and the attribute&rsquo;s
value as the value.</p>

<p style="margin-left:11%; margin-top: 1em">The optional
<b>&minus;tabindex</b> argument can be used to control the
order in which radio buttons receive focus when the user
presses the tab button. If passed a scalar numeric value,
the first element in the group will receive this tab index
and subsequent elements will be incremented by one. If given
a reference to an array of radio button values, then the
indexes will be jiggered so that the order specified in the
array will correspond to the tab order. You can also pass a
reference to a hash in which the hash keys are the radio
button values and the values are the tab indexes of each
button. Examples:</p>

<pre style="margin-left:11%; margin-top: 1em">  &minus;tabindex =&gt; 100    #  this group starts at index 100 and counts up
  &minus;tabindex =&gt; ['moe','minie','eenie','meenie']  # tab in this order
  &minus;tabindex =&gt; {meenie=&gt;100,moe=&gt;101,minie=&gt;102,eenie=&gt;200} # tab in this order</pre>


<p style="margin-left:11%; margin-top: 1em">The optional
<b>&minus;labelattributes</b> argument will contain
attributes attached to the &lt;label&gt; element that
surrounds each button.</p>

<p style="margin-left:11%; margin-top: 1em">When the form
is processed, all checked boxes will be returned as a list
under the parameter name &rsquo;group_name&rsquo;. The
values of the &quot;on&quot; checkboxes can be retrieved
with:</p>

<pre style="margin-left:11%; margin-top: 1em">      @turned_on = param('group_name');</pre>


<p style="margin-left:11%; margin-top: 1em">The value
returned by <i>checkbox_group()</i> is actually an array of
button elements. You can capture them and use them within
tables, lists, or in other creative ways:</p>

<pre style="margin-left:11%; margin-top: 1em">    @h = checkbox_group(&minus;name=&gt;'group_name',&minus;values=&gt;\@values);
    &amp;use_in_creative_way(@h);</pre>



<p style="margin-left:11%; margin-top: 1em"><b><small>CREATING
A STANDALONE CHECKBOX</small></b></p>

<pre style="margin-left:11%;">    print checkbox(&minus;name=&gt;'checkbox_name',
                           &minus;checked=&gt;1,
                           &minus;value=&gt;'ON',
                           &minus;label=&gt;'CLICK ME');
        &minus;or&minus;
    print checkbox('checkbox_name','checked','ON','CLICK ME');</pre>



<p style="margin-left:11%; margin-top: 1em"><i>checkbox()</i>
is used to create an isolated checkbox that isn&rsquo;t
logically related to any others. <b><br>
Parameters:</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>1.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The first parameter is the required name for the
checkbox (&minus;name). It will also be used for the
user-readable label printed next to the checkbox.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>2.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The optional second parameter (&minus;checked) specifies
that the checkbox is turned on by default. Synonyms are
&minus;selected and &minus;on.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>3.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The optional third parameter (&minus;value) specifies
the value of the checkbox when it is checked. If not
provided, the word &quot;on&quot; is assumed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>4.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The optional fourth parameter (&minus;label) is the
user-readable label to be attached to the checkbox. If not
provided, the checkbox name is used.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The value of
the checkbox can be retrieved using:</p>

<pre style="margin-left:11%; margin-top: 1em">    $turned_on = param('checkbox_name');</pre>



<p style="margin-left:11%; margin-top: 1em"><b><small>CREATING
A RADIO BUTTON GROUP</small></b></p>

<pre style="margin-left:11%;">   print radio_group(&minus;name=&gt;'group_name',
                             &minus;values=&gt;['eenie','meenie','minie'],
                             &minus;default=&gt;'meenie',
                             &minus;linebreak=&gt;'true',
           &minus;labels=&gt;\%labels,
           &minus;attributes=&gt;\%attributes);
        &minus;or&minus;
   print radio_group('group_name',['eenie','meenie','minie'],
            'meenie','true',\%labels,\%attributes);
   HTML3&minus;COMPATIBLE BROWSERS ONLY:
   print radio_group(&minus;name=&gt;'group_name',
                             &minus;values=&gt;['eenie','meenie','minie','moe'],
                             &minus;rows=2,&minus;columns=&gt;2);</pre>



<p style="margin-left:11%; margin-top: 1em"><i>radio_group()</i>
creates a set of logically-related radio buttons (turning
one member of the group on turns the others off) <b><br>
Parameters:</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>1.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The first argument is the name of the group and is
required (&minus;name).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>2.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The second argument (&minus;values) is the list of
values for the radio buttons. The values and the labels that
appear on the page are identical. Pass an array
<i>reference</i> in the second argument, either using an
anonymous array, as shown, or by referencing a named array
as in &quot;\@foo&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>3.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The optional third parameter (&minus;default) is the
name of the default button to turn on. If not specified, the
first item will be the default. You can provide a
nonexistent button name, such as &quot;&minus;&quot; to
start up with no buttons selected.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>4.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The optional fourth parameter (&minus;linebreak) can be
set to &rsquo;true&rsquo; to put line breaks between the
buttons, creating a vertical list.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>5.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The optional fifth parameter (&minus;labels) is a
pointer to an associative array relating the radio button
values to user-visible labels to be used in the display. If
not provided, the values themselves are displayed.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">All modern
browsers can take advantage of the optional parameters
<b>&minus;rows</b>, and <b>&minus;columns</b>. These
parameters cause <i>radio_group()</i> to return an
<small>HTML3</small> compatible table containing the radio
group formatted with the specified number of rows and
columns. You can provide just the &minus;columns parameter
if you wish; radio_group will calculate the correct number
of rows for you.</p>

<p style="margin-left:11%; margin-top: 1em">To include row
and column headings in the returned table, you can use the
<b>&minus;rowheaders</b> and <b>&minus;colheaders</b>
parameters. Both of these accept a pointer to an array of
headings to use. The headings are just decorative. They
don&rsquo;t reorganize the interpretation of the radio
buttons -- they&rsquo;re still a single named unit.</p>

<p style="margin-left:11%; margin-top: 1em">The optional
<b>&minus;tabindex</b> argument can be used to control the
order in which radio buttons receive focus when the user
presses the tab button. If passed a scalar numeric value,
the first element in the group will receive this tab index
and subsequent elements will be incremented by one. If given
a reference to an array of radio button values, then the
indexes will be jiggered so that the order specified in the
array will correspond to the tab order. You can also pass a
reference to a hash in which the hash keys are the radio
button values and the values are the tab indexes of each
button. Examples:</p>

<pre style="margin-left:11%; margin-top: 1em">  &minus;tabindex =&gt; 100    #  this group starts at index 100 and counts up
  &minus;tabindex =&gt; ['moe','minie','eenie','meenie']  # tab in this order
  &minus;tabindex =&gt; {meenie=&gt;100,moe=&gt;101,minie=&gt;102,eenie=&gt;200} # tab in this order</pre>


<p style="margin-left:11%; margin-top: 1em">The optional
<b>&minus;attributes</b> argument is provided to assign any
of the common <small>HTML</small> attributes to an
individual menu item. It&rsquo;s a pointer to a hash
relating menu values to another hash with the
attribute&rsquo;s name as the key and the attribute&rsquo;s
value as the value.</p>

<p style="margin-left:11%; margin-top: 1em">The optional
<b>&minus;labelattributes</b> argument will contain
attributes attached to the &lt;label&gt; element that
surrounds each button.</p>

<p style="margin-left:11%; margin-top: 1em">When the form
is processed, the selected radio button can be retrieved
using:</p>

<pre style="margin-left:11%; margin-top: 1em">      $which_radio_button = param('group_name');</pre>


<p style="margin-left:11%; margin-top: 1em">The value
returned by <i>radio_group()</i> is actually an array of
button elements. You can capture them and use them within
tables, lists, or in other creative ways:</p>

<pre style="margin-left:11%; margin-top: 1em">    @h = radio_group(&minus;name=&gt;'group_name',&minus;values=&gt;\@values);
    &amp;use_in_creative_way(@h);</pre>



<p style="margin-left:11%; margin-top: 1em"><b><small>CREATING
A SUBMIT BUTTON</small></b></p>

<pre style="margin-left:11%;">   print submit(&minus;name=&gt;'button_name',
                        &minus;value=&gt;'value');
        &minus;or&minus;
   print submit('button_name','value');</pre>



<p style="margin-left:11%; margin-top: 1em"><i>submit()</i>
will create the query submission button. Every form should
have one of these. <b><br>
Parameters:</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>1.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The first argument (&minus;name) is optional. You can
give the button a name if you have several submission
buttons in your form and you want to distinguish between
them.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>2.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The second argument (&minus;value) is also optional.
This gives the button a value that will be passed to your
script in the query string. The name will also be used as
the user-visible label.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>3.</p></td>
<td width="3%"></td>
<td width="83%">


<p>You can use &minus;label as an alias for &minus;value. I
always get confused about which of &minus;name and
&minus;value changes the user-visible label on the
button.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">You can figure
out which button was pressed by using different values for
each one:</p>

<pre style="margin-left:11%; margin-top: 1em">     $which_one = param('button_name');</pre>



<p style="margin-left:11%; margin-top: 1em"><b><small>CREATING
A RESET BUTTON</small></b></p>
<pre style="margin-left:11%;">   print reset</pre>

<p style="margin-left:11%; margin-top: 1em"><i>reset()</i>
creates the &quot;reset&quot; button. Note that it restores
the form to its value from the last time the script was
called, <small>NOT</small> necessarily to the defaults.</p>

<p style="margin-left:11%; margin-top: 1em">Note that this
conflicts with the Perl <i>reset()</i> built-in. Use
<i>CORE::reset()</i> to get the original reset function.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>CREATING
A DEFAULT BUTTON</small></b></p>

<pre style="margin-left:11%;">   print defaults('button_label')</pre>



<p style="margin-left:11%; margin-top: 1em"><i>defaults()</i>
creates a button that, when invoked, will cause the form to
be completely reset to its defaults, wiping out all the
changes the user ever made.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>CREATING
A HIDDEN FIELD</small></b></p>

<pre style="margin-left:11%;">        print hidden(&minus;name=&gt;'hidden_name',
                             &minus;default=&gt;['value1','value2'...]);
                &minus;or&minus;
        print hidden('hidden_name','value1','value2'...);</pre>



<p style="margin-left:11%; margin-top: 1em"><i>hidden()</i>
produces a text field that can&rsquo;t be seen by the user.
It is useful for passing state variable information from one
invocation of the script to the next. <b><br>
Parameters:</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>1.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The first argument is required and specifies the name of
this field (&minus;name).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>2.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The second argument is also required and specifies its
value (&minus;default). In the named parameter style of
calling, you can provide a single value here or a reference
to a whole list</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Fetch the value
of a hidden field this way:</p>

<pre style="margin-left:11%; margin-top: 1em">     $hidden_value = param('hidden_name');</pre>


<p style="margin-left:11%; margin-top: 1em">Note, that just
like all the other form elements, the value of a hidden
field is &quot;sticky&quot;. If you want to replace a hidden
field with some other values after the script has been
called once you&rsquo;ll have to do it manually:</p>

<pre style="margin-left:11%; margin-top: 1em">     param('hidden_name','new','values','here');</pre>



<p style="margin-left:11%; margin-top: 1em"><b><small>CREATING
A CLICKABLE IMAGE BUTTON</small></b></p>

<pre style="margin-left:11%;">     print image_button(&minus;name=&gt;'button_name',
                                &minus;src=&gt;'/source/URL',
                                &minus;align=&gt;'MIDDLE');
        &minus;or&minus;
     print image_button('button_name','/source/URL','MIDDLE');</pre>



<p style="margin-left:11%; margin-top: 1em"><i>image_button()</i>
produces a clickable image. When it&rsquo;s clicked on the
position of the click is returned to your script as
&quot;button_name.x&quot; and &quot;button_name.y&quot;,
where &quot;button_name&quot; is the name you&rsquo;ve
assigned to it. <b><br>
Parameters:</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>1.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The first argument (&minus;name) is required and
specifies the name of this field.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>2.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The second argument (&minus;src) is also required and
specifies the <small>URL</small></p></td></tr>
</table>

<p style="margin-left:11%;">3. The third option
(&minus;align, optional) is an alignment type, and may be
<small><br>
TOP, BOTTOM</small> or <small>MIDDLE</small></p>

<p style="margin-left:11%; margin-top: 1em">Fetch the value
of the button this way: <tt><br>
$x</tt> = param(&rsquo;button_name.x&rsquo;); <tt><br>
$y</tt> = param(&rsquo;button_name.y&rsquo;);</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>CREATING
A JAVASCRIPT ACTION BUTTON</small></b></p>

<pre style="margin-left:11%;">     print button(&minus;name=&gt;'button_name',
                          &minus;value=&gt;'user visible label',
                          &minus;onClick=&gt;&quot;do_something()&quot;);
        &minus;or&minus;
     print button('button_name',&quot;user visible value&quot;,&quot;do_something()&quot;);</pre>



<p style="margin-left:11%; margin-top: 1em"><i>button()</i>
produces an <tt>&quot;&lt;input&gt;&quot;</tt> tag with
<tt>&quot;type=&quot;button&quot;&quot;</tt>. When
it&rsquo;s pressed the fragment of JavaScript code pointed
to by the <b>&minus;onClick</b> parameter will be
executed.</p>

<h2>HTTP COOKIES
<a name="HTTP COOKIES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Browsers
support a so-called &quot;cookie&quot; designed to help
maintain state within a browser session. <small>CGI</small>
.pm has several methods that support cookies.</p>

<p style="margin-left:11%; margin-top: 1em">A cookie is a
name=value pair much like the named parameters in a
<small>CGI</small> query string. <small>CGI</small> scripts
create one or more cookies and send them to the browser in
the <small>HTTP</small> header. The browser maintains a list
of cookies that belong to a particular Web server, and
returns them to the <small>CGI</small> script during
subsequent interactions.</p>

<p style="margin-left:11%; margin-top: 1em">In addition to
the required name=value pair, each cookie has several
optional attributes: <br>
1. an expiration time</p>

<p style="margin-left:17%;">This is a time/date string (in
a special <small>GMT</small> format) that indicates when a
cookie expires. The cookie will be saved and returned to
your script until this expiration date is reached if the
user exits the browser and restarts it. If an expiration
date isn&rsquo;t specified, the cookie will remain active
until the user quits the browser.</p>

<p style="margin-left:11%;">2. a domain</p>

<p style="margin-left:17%;">This is a partial or complete
domain name for which the cookie is valid. The browser will
return the cookie to any host that matches the partial
domain name. For example, if you specify a domain name of
&quot;.capricorn.com&quot;, then the browser will return the
cookie to Web servers running on any of the machines
&quot;www.capricorn.com&quot;,
&quot;www2.capricorn.com&quot;,
&quot;feckless.capricorn.com&quot;, etc. Domain names must
contain at least two periods to prevent attempts to match on
top level domains like &quot;.edu&quot;. If no domain is
specified, then the browser will only return the cookie to
servers on the host the cookie originated from.</p>

<p style="margin-left:11%;">3. a path</p>

<p style="margin-left:17%;">If you provide a cookie path
attribute, the browser will check it against your
script&rsquo;s <small>URL</small> before returning the
cookie. For example, if you specify the path
&quot;/cgi&minus;bin&quot;, then the cookie will be returned
to each of the scripts &quot;/cgi&minus;bin/tally.pl&quot;,
&quot;/cgi&minus;bin/order.pl&quot;, and
&quot;/cgi&minus;bin/customer_service/complain.pl&quot;, but
not to the script
&quot;/cgi&minus;private/site_admin.pl&quot;. By default,
path is set to &quot;/&quot;, which causes the cookie to be
sent to any <small>CGI</small> script on your site.</p>

<p style="margin-left:11%;">4. a &quot;secure&quot;
flag</p>

<p style="margin-left:17%;">If the &quot;secure&quot;
attribute is set, the cookie will only be sent to your
script if the <small>CGI</small> request is occurring on a
secure channel, such as <small>SSL.</small></p>

<p style="margin-left:11%; margin-top: 1em">The interface
to <small>HTTP</small> cookies is the <b><i>cookie()</i></b>
method:</p>

<pre style="margin-left:11%; margin-top: 1em">    $cookie = cookie(&minus;name=&gt;'sessionID',
                             &minus;value=&gt;'xyzzy',
                             &minus;expires=&gt;'+1h',
                             &minus;path=&gt;'/cgi&minus;bin/database',
                             &minus;domain=&gt;'.capricorn.org',
                             &minus;secure=&gt;1);
    print header(&minus;cookie=&gt;$cookie);</pre>



<p style="margin-left:11%; margin-top: 1em"><b><i>cookie()</i></b>
creates a new cookie. Its parameters include: <b><br>
&minus;name</b></p>

<p style="margin-left:17%;">The name of the cookie
(required). This can be any string at all. Although browsers
limit their cookie names to non-whitespace alphanumeric
characters, <small>CGI</small> .pm removes this restriction
by escaping and unescaping cookies behind the scenes.</p>

<p style="margin-left:11%;"><b>&minus;value</b></p>

<p style="margin-left:17%;">The value of the cookie. This
can be any scalar value, array reference, or even hash
reference. For example, you can store an entire hash into a
cookie this way:</p>

<pre style="margin-left:17%; margin-top: 1em">        $cookie=cookie(&minus;name=&gt;'family information',
                               &minus;value=&gt;\%childrens_ages);</pre>


<p style="margin-left:11%;"><b>&minus;path</b></p>

<p style="margin-left:17%;">The optional partial path for
which this cookie will be valid, as described above.</p>

<p style="margin-left:11%;"><b>&minus;domain</b></p>

<p style="margin-left:17%;">The optional partial domain for
which this cookie will be valid, as described above.</p>

<p style="margin-left:11%;"><b>&minus;expires</b></p>

<p style="margin-left:17%;">The optional expiration date
for this cookie. The format is as described in the section
on the <b><i>header()</i></b> method:</p>

<pre style="margin-left:17%; margin-top: 1em">        &quot;+1h&quot;  one hour from now</pre>


<p style="margin-left:11%;"><b>&minus;secure</b></p>

<p style="margin-left:17%;">If set to true, this cookie
will only be used within a secure <small>SSL</small>
session.</p>

<p style="margin-left:11%; margin-top: 1em">The cookie
created by <i>cookie()</i> must be incorporated into the
<small>HTTP</small> header within the string returned by the
<i>header()</i> method:</p>

<pre style="margin-left:11%; margin-top: 1em">        use CGI ':standard';
        print header(&minus;cookie=&gt;$my_cookie);</pre>


<p style="margin-left:11%; margin-top: 1em">To create
multiple cookies, give <i>header()</i> an array
reference:</p>

<pre style="margin-left:11%; margin-top: 1em">        $cookie1 = cookie(&minus;name=&gt;'riddle_name',
                                  &minus;value=&gt;&quot;The Sphynx's Question&quot;);
        $cookie2 = cookie(&minus;name=&gt;'answers',
                                  &minus;value=&gt;\%answers);
        print header(&minus;cookie=&gt;[$cookie1,$cookie2]);</pre>


<p style="margin-left:11%; margin-top: 1em">To retrieve a
cookie, request it by name by calling <i>cookie()</i> method
without the <b>&minus;value</b> parameter. This example uses
the object-oriented form:</p>

<pre style="margin-left:11%; margin-top: 1em">        use CGI;
        $query = CGI&minus;&gt;new;
        $riddle = $query&minus;&gt;cookie('riddle_name');
        %answers = $query&minus;&gt;cookie('answers');</pre>


<p style="margin-left:11%; margin-top: 1em">Cookies created
with a single scalar value, such as the
&quot;riddle_name&quot; cookie, will be returned in that
form. Cookies with array and hash values can also be
retrieved.</p>

<p style="margin-left:11%; margin-top: 1em">The cookie and
<small>CGI</small> namespaces are separate. If you have a
parameter named &rsquo;answers&rsquo; and a cookie named
&rsquo;answers&rsquo;, the values retrieved by
<i>param()</i> and <i>cookie()</i> are independent of each
other. However, it&rsquo;s simple to turn a
<small>CGI</small> parameter into a cookie, and
vice-versa:</p>

<pre style="margin-left:11%; margin-top: 1em">   # turn a CGI parameter into a cookie
   $c=cookie(&minus;name=&gt;'answers',&minus;value=&gt;[param('answers')]);
   # vice&minus;versa
   param(&minus;name=&gt;'answers',&minus;value=&gt;[cookie('answers')]);</pre>


<p style="margin-left:11%; margin-top: 1em">If you call
<i>cookie()</i> without any parameters, it will return a
list of the names of all cookies passed to your script:</p>

<pre style="margin-left:11%; margin-top: 1em">  @cookies = cookie();</pre>


<p style="margin-left:11%; margin-top: 1em">See the
<b>cookie.cgi</b> example script for some ideas on how to
use cookies effectively.</p>

<h2>WORKING WITH FRAMES
<a name="WORKING WITH FRAMES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">It&rsquo;s
possible for <small>CGI</small> .pm scripts to write into
several browser panels and windows using the <small>HTML
4</small> frame mechanism. There are three techniques for
defining new frames programmatically: <br>
1. Create a &lt;Frameset&gt; document</p>

<p style="margin-left:17%;">After writing out the
<small>HTTP</small> header, instead of creating a standard
<small>HTML</small> document using the <i>start_html()</i>
call, create a &lt;frameset&gt; document that defines the
frames on the page. Specify your script(s) (with appropriate
parameters) as the <small>SRC</small> for each of the
frames.</p>

<p style="margin-left:17%; margin-top: 1em">There is no
specific support for creating &lt;frameset&gt; sections in
<small>CGI</small> .pm, but the <small>HTML</small> is very
simple to write.</p>

<p style="margin-left:11%;">2. Specify the destination for
the document in the <small>HTTP</small> header</p>

<p style="margin-left:17%;">You may provide a
<b>&minus;target</b> parameter to the <i>header()</i>
method:</p>

<pre style="margin-left:17%; margin-top: 1em">    print header(&minus;target=&gt;'ResultsWindow');</pre>


<p style="margin-left:17%; margin-top: 1em">This will tell
the browser to load the output of your script into the frame
named &quot;ResultsWindow&quot;. If a frame of that name
doesn&rsquo;t already exist, the browser will pop up a new
window and load your script&rsquo;s document into that.
There are a number of magic names that you can use for
targets. See the <small>HTML</small>
<tt>&quot;&lt;frame&gt;&quot;</tt> documentation for
details.</p>

<p style="margin-left:11%;">3. Specify the destination for
the document in the &lt;form&gt; tag</p>

<p style="margin-left:17%;">You can specify the frame to
load in the <small>FORM</small> tag itself. With
<small>CGI</small> .pm it looks like this:</p>

<pre style="margin-left:17%; margin-top: 1em">    print start_form(&minus;target=&gt;'ResultsWindow');</pre>


<p style="margin-left:17%; margin-top: 1em">When your
script is reinvoked by the form, its output will be loaded
into the frame named &quot;ResultsWindow&quot;. If one
doesn&rsquo;t already exist a new window will be
created.</p>

<p style="margin-left:11%; margin-top: 1em">The script
&quot;frameset.cgi&quot; in the examples directory shows one
way to create pages in which the fill-out form and the
response live in side-by-side frames.</p>

<h2>SUPPORT FOR JAVASCRIPT
<a name="SUPPORT FOR JAVASCRIPT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The usual way
to use JavaScript is to define a set of functions in a &lt;
<small>SCRIPT</small> &gt; block inside the
<small>HTML</small> header and then to register event
handlers in the various elements of the page. Events include
such things as the mouse passing over a form element, a
button being clicked, the contents of a text field changing,
or a form being submitted. When an event occurs that
involves an element that has registered an event handler,
its associated JavaScript code gets called.</p>

<p style="margin-left:11%; margin-top: 1em">The elements
that can register event handlers include the &lt;
<small>BODY</small> &gt; of an <small>HTML</small> document,
hypertext links, all the various elements of a fill-out
form, and the form itself. There are a large number of
events, and each applies only to the elements for which it
is relevant. Here is a partial list: <b><br>
onLoad</b></p>

<p style="margin-left:17%;">The browser is loading the
current document. Valid in:</p>

<pre style="margin-left:17%; margin-top: 1em">     + The HTML &lt;BODY&gt; section only.</pre>


<p style="margin-left:11%;"><b>onUnload</b></p>

<p style="margin-left:17%;">The browser is closing the
current page or frame. Valid for:</p>

<pre style="margin-left:17%; margin-top: 1em">     + The HTML &lt;BODY&gt; section only.</pre>


<p style="margin-left:11%;"><b>onSubmit</b></p>

<p style="margin-left:17%;">The user has pressed the submit
button of a form. This event happens just before the form is
submitted, and your function can return a value of false in
order to abort the submission. Valid for:</p>

<pre style="margin-left:17%; margin-top: 1em">     + Forms only.</pre>


<p style="margin-left:11%;"><b>onClick</b></p>

<p style="margin-left:17%;">The mouse has clicked on an
item in a fill-out form. Valid for:</p>

<pre style="margin-left:17%; margin-top: 1em">     + Buttons (including submit, reset, and image buttons)
     + Checkboxes
     + Radio buttons</pre>


<p style="margin-left:11%;"><b>onChange</b></p>

<p style="margin-left:17%;">The user has changed the
contents of a field. Valid for:</p>

<pre style="margin-left:17%; margin-top: 1em">     + Text fields
     + Text areas
     + Password fields
     + File fields
     + Popup Menus
     + Scrolling lists</pre>


<p style="margin-left:11%;"><b>onFocus</b></p>

<p style="margin-left:17%;">The user has selected a field
to work with. Valid for:</p>

<pre style="margin-left:17%; margin-top: 1em">     + Text fields
     + Text areas
     + Password fields
     + File fields
     + Popup Menus
     + Scrolling lists</pre>


<p style="margin-left:11%;"><b>onBlur</b></p>

<p style="margin-left:17%;">The user has deselected a field
(gone to work somewhere else). Valid for:</p>

<pre style="margin-left:17%; margin-top: 1em">     + Text fields
     + Text areas
     + Password fields
     + File fields
     + Popup Menus
     + Scrolling lists</pre>


<p style="margin-left:11%;"><b>onSelect</b></p>

<p style="margin-left:17%;">The user has changed the part
of a text field that is selected. Valid for:</p>

<pre style="margin-left:17%; margin-top: 1em">     + Text fields
     + Text areas
     + Password fields
     + File fields</pre>


<p style="margin-left:11%;"><b>onMouseOver</b></p>

<p style="margin-left:17%;">The mouse has moved over an
element.</p>

<pre style="margin-left:17%; margin-top: 1em">     + Text fields
     + Text areas
     + Password fields
     + File fields
     + Popup Menus
     + Scrolling lists</pre>


<p style="margin-left:11%;"><b>onMouseOut</b></p>

<p style="margin-left:17%;">The mouse has moved off an
element.</p>

<pre style="margin-left:17%; margin-top: 1em">     + Text fields
     + Text areas
     + Password fields
     + File fields
     + Popup Menus
     + Scrolling lists</pre>


<p style="margin-left:11%; margin-top: 1em">In order to
register a JavaScript event handler with an
<small>HTML</small> element, just use the event name as a
parameter when you call the corresponding <small>CGI</small>
method. For example, to have your <i>validateAge()</i>
JavaScript code executed every time the textfield named
&quot;age&quot; changes, generate the field like this:</p>

<pre style="margin-left:11%; margin-top: 1em"> print textfield(&minus;name=&gt;'age',&minus;onChange=&gt;&quot;validateAge(this)&quot;);</pre>


<p style="margin-left:11%; margin-top: 1em">This example
assumes that you&rsquo;ve already declared the
<i>validateAge()</i> function by incorporating it into a
&lt; <small>SCRIPT</small> &gt; block. The
<small>CGI</small> .pm <i>start_html()</i> method provides a
convenient way to create this section.</p>

<p style="margin-left:11%; margin-top: 1em">Similarly, you
can create a form that checks itself over for consistency
and alerts the user if some essential value is missing by
creating it this way: <br>
print
start_form(&minus;onSubmit=&gt;&quot;validateMe(this)&quot;);</p>

<p style="margin-left:11%; margin-top: 1em">See the
javascript.cgi script for a demonstration of how this all
works.</p>

<h2>LIMITED SUPPORT FOR CASCADING STYLE SHEETS
<a name="LIMITED SUPPORT FOR CASCADING STYLE SHEETS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><small>CGI</small>
.pm has limited support for <small>HTML3</small> &rsquo;s
cascading style sheets (css). To incorporate a stylesheet
into your document, pass the <i>start_html()</i> method a
<b>&minus;style</b> parameter. The value of this parameter
may be a scalar, in which case it is treated as the source
<small>URL</small> for the stylesheet, or it may be a hash
reference. In the latter case you should provide the hash
with one or more of <b>&minus;src</b> or <b>&minus;code</b>.
<b>&minus;src</b> points to a <small>URL</small> where an
externally-defined stylesheet can be found.
<b>&minus;code</b> points to a scalar value to be
incorporated into a &lt;style&gt; section. Style definitions
in <b>&minus;code</b> override similarly-named ones in
<b>&minus;src</b>, hence the name &quot;cascading.&quot;</p>

<p style="margin-left:11%; margin-top: 1em">You may also
specify the type of the stylesheet by adding the optional
<b>&minus;type</b> parameter to the hash pointed to by
<b>&minus;style</b>. If not specified, the style defaults to
&rsquo;text/css&rsquo;.</p>

<p style="margin-left:11%; margin-top: 1em">To refer to a
style within the body of your document, add the
<b>&minus;class</b> parameter to any <small>HTML</small>
element:</p>

<pre style="margin-left:11%; margin-top: 1em">    print h1({&minus;class=&gt;'Fancy'},'Welcome to the Party');</pre>


<p style="margin-left:11%; margin-top: 1em">Or define
styles on the fly with the <b>&minus;style</b>
parameter:</p>

<pre style="margin-left:11%; margin-top: 1em">    print h1({&minus;style=&gt;'Color: red;'},'Welcome to Hell');</pre>


<p style="margin-left:11%; margin-top: 1em">You may also
use the new <b><i>span()</i></b> element to apply a style to
a section of text:</p>

<pre style="margin-left:11%; margin-top: 1em">    print span({&minus;style=&gt;'Color: red;'},
               h1('Welcome to Hell'),
               &quot;Where did that handbasket get to?&quot;
               );</pre>


<p style="margin-left:11%; margin-top: 1em">Note that you
must import the &quot;:html3&quot; definitions to have the
<b><i>span()</i></b> method available. Here&rsquo;s a quick
and dirty example of using <small>CSS</small> &rsquo;s. See
the <small>CSS</small> specification at
http://www.w3.org/Style/CSS/ for more information.</p>

<pre style="margin-left:11%; margin-top: 1em">    use CGI qw/:standard :html3/;
    #here's a stylesheet incorporated directly into the page
    $newStyle=&lt;&lt;END;
    &lt;!&minus;&minus;
    P.Tip {
        margin&minus;right: 50pt;
        margin&minus;left: 50pt;
        color: red;
    }
    P.Alert {
        font&minus;size: 30pt;
        font&minus;family: sans&minus;serif;
      color: red;
    }
    &minus;&minus;&gt;
    END
    print header();
    print start_html( &minus;title=&gt;'CGI with Style',
                      &minus;style=&gt;{&minus;src=&gt;'http://www.capricorn.com/style/st1.css',
                               &minus;code=&gt;$newStyle}
                     );
    print h1('CGI with Style'),
          p({&minus;class=&gt;'Tip'},
            &quot;Better read the cascading style sheet spec before playing with this!&quot;),
          span({&minus;style=&gt;'color: magenta'},
               &quot;Look Mom, no hands!&quot;,
               p(),
               &quot;Whooo wee!&quot;
               );
    print end_html;</pre>


<p style="margin-left:11%; margin-top: 1em">Pass an array
reference to <b>&minus;code</b> or <b>&minus;src</b> in
order to incorporate multiple stylesheets into your
document.</p>

<p style="margin-left:11%; margin-top: 1em">Should you wish
to incorporate a verbatim stylesheet that includes arbitrary
formatting in the header, you may pass a &minus;verbatim tag
to the &minus;style hash, as follows:</p>

<p style="margin-left:11%; margin-top: 1em">print
start_html (&minus;style =&gt; {&minus;verbatim =&gt;
&rsquo;@import
url(&quot;/server&minus;common/css/&rsquo;.$cssFile.&rsquo;&quot;);&rsquo;,
<br>
&minus;src =&gt;
&rsquo;/server&minus;common/css/core.css&rsquo;});</p>

<p style="margin-left:11%; margin-top: 1em">This will
generate an <small>HTML</small> header that contains
this:</p>

<pre style="margin-left:11%; margin-top: 1em"> &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot;  href=&quot;/server&minus;common/css/core.css&quot;&gt;
   &lt;style type=&quot;text/css&quot;&gt;
   @import url(&quot;/server&minus;common/css/main.css&quot;);
   &lt;/style&gt;</pre>


<p style="margin-left:11%; margin-top: 1em">Any additional
arguments passed in the &minus;style value will be
incorporated into the &lt;link&gt; tag. For example:</p>

<pre style="margin-left:11%; margin-top: 1em"> start_html(&minus;style=&gt;{&minus;src=&gt;['/styles/print.css','/styles/layout.css'],
                          &minus;media =&gt; 'all'});</pre>


<p style="margin-left:11%; margin-top: 1em">This will
give:</p>

<pre style="margin-left:11%; margin-top: 1em"> &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/styles/print.css&quot; media=&quot;all&quot;/&gt;
 &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/styles/layout.css&quot; media=&quot;all&quot;/&gt;</pre>


<p style="margin-left:11%; margin-top: 1em">&lt;p&gt;</p>

<p style="margin-left:11%; margin-top: 1em">To make more
complicated &lt;link&gt; tags, use the <i>Link()</i>
function and pass it to <i>start_html()</i> in the
&minus;head argument, as in:</p>

<pre style="margin-left:11%; margin-top: 1em">  @h = (Link({&minus;rel=&gt;'stylesheet',&minus;type=&gt;'text/css',&minus;src=&gt;'/ss/ss.css',&minus;media=&gt;'all'}),
        Link({&minus;rel=&gt;'stylesheet',&minus;type=&gt;'text/css',&minus;src=&gt;'/ss/fred.css',&minus;media=&gt;'paper'}));
  print start_html({&minus;head=&gt;\@h})</pre>


<p style="margin-left:11%; margin-top: 1em">To create
primary and &quot;alternate&quot; stylesheet, use the
<b>&minus;alternate</b> option:</p>

<pre style="margin-left:11%; margin-top: 1em"> start_html(&minus;style=&gt;{&minus;src=&gt;[
                           {&minus;src=&gt;'/styles/print.css'},
                           {&minus;src=&gt;'/styles/alt.css',&minus;alternate=&gt;1}
                           ]
                    });</pre>


<h2>DEBUGGING
<a name="DEBUGGING"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If you are
running the script from the command line or in the perl
debugger, you can pass the script a list of keywords or
parameter=value pairs on the command line or from standard
input (you don&rsquo;t have to worry about tricking your
script into reading from environment variables). You can
pass keywords like this:</p>

<pre style="margin-left:11%; margin-top: 1em">    your_script.pl keyword1 keyword2 keyword3</pre>


<p style="margin-left:11%; margin-top: 1em">or this:</p>

<pre style="margin-left:11%; margin-top: 1em">   your_script.pl keyword1+keyword2+keyword3</pre>


<p style="margin-left:11%; margin-top: 1em">or this:</p>

<pre style="margin-left:11%; margin-top: 1em">    your_script.pl name1=value1 name2=value2</pre>


<p style="margin-left:11%; margin-top: 1em">or this:</p>

<pre style="margin-left:11%; margin-top: 1em">    your_script.pl name1=value1&amp;name2=value2</pre>


<p style="margin-left:11%; margin-top: 1em">To turn off
this feature, use the &minus;no_debug pragma.</p>

<p style="margin-left:11%; margin-top: 1em">To test the
<small>POST</small> method, you may enable full debugging
with the &minus;debug pragma. This will allow you to feed
newline-delimited name=value pairs to the script on standard
input.</p>

<p style="margin-left:11%; margin-top: 1em">When debugging,
you can use quotes and backslashes to escape characters in
the familiar shell manner, letting you place spaces and
other funny characters in your parameter=value pairs:</p>

<pre style="margin-left:11%; margin-top: 1em">   your_script.pl &quot;name1='I am a long value'&quot; &quot;name2=two\ words&quot;</pre>


<p style="margin-left:11%; margin-top: 1em">Finally, you
can set the path info for the script by prefixing the first
name/value parameter with the path followed by a question
mark (?):</p>

<pre style="margin-left:11%; margin-top: 1em">    your_script.pl /your/path/here?name1=value1&amp;name2=value2</pre>



<p style="margin-left:11%; margin-top: 1em"><b><small>DUMPING
OUT ALL THE NAME/VALUE PAIRS</small></b> <br>
The <i>Dump()</i> method produces a string consisting of all
the query&rsquo;s name/value pairs formatted nicely as a
nested list. This is useful for debugging purposes:</p>

<pre style="margin-left:11%; margin-top: 1em">    print Dump</pre>


<p style="margin-left:11%; margin-top: 1em">Produces
something that looks like:</p>

<pre style="margin-left:11%; margin-top: 1em">    &lt;ul&gt;
    &lt;li&gt;name1
        &lt;ul&gt;
        &lt;li&gt;value1
        &lt;li&gt;value2
        &lt;/ul&gt;
    &lt;li&gt;name2
        &lt;ul&gt;
        &lt;li&gt;value1
        &lt;/ul&gt;
    &lt;/ul&gt;</pre>


<p style="margin-left:11%; margin-top: 1em">As a shortcut,
you can interpolate the entire <small>CGI</small> object
into a string and it will be replaced with the a nice
<small>HTML</small> dump shown above:</p>

<pre style="margin-left:11%; margin-top: 1em">    $query=CGI&minus;&gt;new;
    print &quot;&lt;h2&gt;Current Values&lt;/h2&gt; $query\n&quot;;</pre>


<h2>FETCHING ENVIRONMENT VARIABLES
<a name="FETCHING ENVIRONMENT VARIABLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Some of the
more useful environment variables can be fetched through
this interface. The methods are as follows: <b><i><br>
Accept()</i></b></p>

<p style="margin-left:17%;">Return a list of
<small>MIME</small> types that the remote browser accepts.
If you give this method a single argument corresponding to a
<small>MIME</small> type, as in
Accept(&rsquo;text/html&rsquo;), it will return a floating
point value corresponding to the browser&rsquo;s preference
for this type from 0.0 (don&rsquo;t want) to 1.0. Glob types
(e.g. text/*) in the browser&rsquo;s accept list are handled
correctly.</p>

<p style="margin-left:17%; margin-top: 1em">Note that the
capitalization changed between version 2.43 and 2.44 in
order to avoid conflict with Perl&rsquo;s <i>accept()</i>
function.</p>

<p style="margin-left:11%;"><b><i>raw_cookie()</i></b></p>

<p style="margin-left:17%;">Returns the
<small>HTTP_COOKIE</small> variable. Cookies have a special
format, and this method call just returns the raw form
(?cookie dough). See <i>cookie()</i> for ways of setting and
retrieving cooked cookies.</p>

<p style="margin-left:17%; margin-top: 1em">Called with no
parameters, <i>raw_cookie()</i> returns the packed cookie
structure. You can separate it into individual cookies by
splitting on the character sequence &quot;; &quot;. Called
with the name of a cookie, retrieves the <b>unescaped</b>
form of the cookie. You can use the regular <i>cookie()</i>
method to get the names, or use the <i>raw_fetch()</i>
method from the CGI::Cookie module.</p>

<p style="margin-left:11%;"><b><i>user_agent()</i></b></p>

<p style="margin-left:17%;">Returns the
<small>HTTP_USER_AGENT</small> variable. If you give this
method a single argument, it will attempt to pattern match
on it, allowing you to do something like
user_agent(Mozilla);</p>

<p style="margin-left:11%;"><b><i>path_info()</i></b></p>

<p style="margin-left:17%;">Returns additional path
information from the script <small>URL. E.G.</small>
fetching /cgi&minus;bin/your_script/additional/stuff will
result in <i>path_info()</i> returning
&quot;/additional/stuff&quot;.</p>


<p style="margin-left:17%; margin-top: 1em"><small>NOTE:</small>
The Microsoft Internet Information Server is broken with
respect to additional path information. If you use the Perl
<small>DLL</small> library, the <small>IIS</small> server
will attempt to execute the additional path information as a
Perl script. If you use the ordinary file associations
mapping, the path information will be present in the
environment, but incorrect. The best thing to do is to avoid
using additional path information in <small>CGI</small>
scripts destined for use with <small>IIS.</small></p>


<p style="margin-left:11%;"><b><i>path_translated()</i></b></p>

<p style="margin-left:17%;">As per <i>path_info()</i> but
returns the additional path information translated into a
physical path, e.g.
&quot;/usr/local/etc/httpd/htdocs/additional/stuff&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">The Microsoft
<small>IIS</small> is broken with respect to the translated
path as well.</p>


<p style="margin-left:11%;"><b><i>remote_host()</i></b></p>

<p style="margin-left:17%;">Returns either the remote host
name or <small>IP</small> address. if the former is
unavailable.</p>


<p style="margin-left:11%;"><b><i>remote_addr()</i></b></p>

<p style="margin-left:17%;">Returns the remote host
<small>IP</small> address, or 127.0.0.1 if the address is
unavailable.</p>

<p style="margin-left:11%;"><b><i>script_name()</i></b>
Return the script name as a partial <small>URL,</small> for
<br>
self-referring scripts. <b><i><br>
referer()</i></b></p>

<p style="margin-left:17%;">Return the <small>URL</small>
of the page the browser was viewing prior to fetching your
script. Not available for all browsers.</p>

<p style="margin-left:11%;"><b>auth_type ()</b></p>

<p style="margin-left:17%;">Return the
authorization/verification method in use for this script, if
any.</p>

<p style="margin-left:11%;"><b>server_name ()</b></p>

<p style="margin-left:17%;">Returns the name of the server,
usually the machine&rsquo;s host name.</p>

<p style="margin-left:11%;"><b>virtual_host ()</b></p>

<p style="margin-left:17%;">When using virtual hosts,
returns the name of the host that the browser attempted to
contact</p>

<p style="margin-left:11%;"><b>server_port ()</b></p>

<p style="margin-left:17%;">Return the port that the server
is listening on.</p>

<p style="margin-left:11%;"><b>virtual_port ()</b></p>

<p style="margin-left:17%;">Like <i>server_port()</i>
except that it takes virtual hosts into account. Use this
when running with virtual hosts.</p>

<p style="margin-left:11%;"><b>server_software ()</b></p>

<p style="margin-left:17%;">Returns the server software and
version number.</p>

<p style="margin-left:11%;"><b>remote_user ()</b></p>

<p style="margin-left:17%;">Return the
authorization/verification name used for user verification,
if this script is protected.</p>

<p style="margin-left:11%;"><b>user_name ()</b></p>

<p style="margin-left:17%;">Attempt to obtain the remote
user&rsquo;s name, using a variety of different techniques.
This only works with older browsers such as Mosaic. Newer
browsers do not report the user name for privacy
reasons!</p>


<p style="margin-left:11%;"><b><i>request_method()</i></b></p>

<p style="margin-left:17%;">Returns the method used to
access your script, usually one of &rsquo;
<small>POST</small> &rsquo;, &rsquo; <small>GET</small>
&rsquo; or &rsquo; <small>HEAD</small> &rsquo;.</p>


<p style="margin-left:11%;"><b><i>content_type()</i></b></p>

<p style="margin-left:17%;">Returns the content_type of
data submitted in a <small>POST,</small> generally
multipart/form&minus;data or
application/x&minus;www&minus;form&minus;urlencoded</p>

<p style="margin-left:11%;"><b><i>http()</i></b></p>

<p style="margin-left:17%;">Called with no arguments
returns the list of <small>HTTP</small> environment
variables, including such things as <small>HTTP_USER_AGENT,
HTTP_ACCEPT_LANGUAGE,</small> and
<small>HTTP_ACCEPT_CHARSET,</small> corresponding to the
like-named <small>HTTP</small> header fields in the request.
Called with the name of an <small>HTTP</small> header field,
returns its value. Capitalization and the use of hyphens
versus underscores are not significant.</p>

<p style="margin-left:17%; margin-top: 1em">For example,
all three of these examples are equivalent:</p>

<pre style="margin-left:17%; margin-top: 1em">   $requested_language = http('Accept&minus;language');
   $requested_language = http('Accept_language');
   $requested_language = http('HTTP_ACCEPT_LANGUAGE');</pre>


<p style="margin-left:11%;"><b><i>https()</i></b></p>

<p style="margin-left:17%;">The same as <i>http()</i>, but
operates on the <small>HTTPS</small> environment variables
present when the <small>SSL</small> protocol is in effect.
Can be used to determine whether <small>SSL</small> is
turned on.</p>

<h2>USING NPH SCRIPTS
<a name="USING NPH SCRIPTS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><small>NPH,</small>
or &quot;no-parsed-header&quot;, scripts bypass the server
completely by sending the complete <small>HTTP</small>
header directly to the browser. This has slight performance
benefits, but is of most use for taking advantage of
<small>HTTP</small> extensions that are not directly
supported by your server, such as server push and
<small>PICS</small> headers.</p>

<p style="margin-left:11%; margin-top: 1em">Servers use a
variety of conventions for designating <small>CGI</small>
scripts as <small>NPH.</small> Many Unix servers look at the
beginning of the script&rsquo;s name for the prefix
&quot;nph&minus;&quot;. The Macintosh WebSTAR server and
Microsoft&rsquo;s Internet Information Server, in contrast,
try to decide whether a program is an <small>NPH</small>
script by examining the first line of script output.</p>


<p style="margin-left:11%; margin-top: 1em"><small>CGI</small>
.pm supports <small>NPH</small> scripts with a special
<small>NPH</small> mode. When in this mode,
<small>CGI</small> .pm will output the necessary extra
header information when the <i>header()</i> and
<i>redirect()</i> methods are called.</p>

<p style="margin-left:11%; margin-top: 1em">The Microsoft
Internet Information Server requires <small>NPH</small>
mode. As of version 2.30, <small>CGI</small> .pm will
automatically detect when the script is running under
<small>IIS</small> and put itself into this mode. You do not
need to do this manually, although it won&rsquo;t hurt
anything if you do. However, note that if you have applied
Service Pack 6, much of the functionality of
<small>NPH</small> scripts, including the ability to
redirect while setting a cookie, <b>do not work at all</b>
on <small>IIS</small> without a special patch from
Microsoft. See
http://web.archive.org/web/20010812012030/http://support.microsoft.com/support/kb/articles/Q280/3/41.ASP
Non-Parsed Headers Stripped From <small>CGI</small>
Applications That Have nph&minus; Prefix in Name. <br>
In the <b>use</b> statement</p>

<p style="margin-left:17%;">Simply add the
&quot;&minus;nph&quot; pragma to the list of symbols to be
imported into your script:</p>

<pre style="margin-left:17%; margin-top: 1em">      use CGI qw(:standard &minus;nph)</pre>


<p style="margin-left:11%;">By calling the
<b><i>nph()</i></b> method:</p>

<p style="margin-left:17%;">Call <b><i>nph()</i></b> with a
non-zero parameter at any point after using
<small>CGI</small> .pm in your program.</p>

<pre style="margin-left:17%; margin-top: 1em">      CGI&minus;&gt;nph(1)</pre>


<p style="margin-left:11%;">By using <b>&minus;nph</b>
parameters</p>

<p style="margin-left:17%;">in the <b><i>header()</i></b>
and <b><i>redirect()</i></b> statements:</p>

<pre style="margin-left:17%; margin-top: 1em">      print header(&minus;nph=&gt;1);</pre>


<h2>Server Push
<a name="Server Push"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><small>CGI</small>
.pm provides four simple functions for producing multipart
documents of the type needed to implement server push. These
functions were graciously provided by Ed Jordan
&lt;ed@fidalgo.net&gt;. To import these into your namespace,
you must import the &quot;:push&quot; set. You are also
advised to put the script into <small>NPH</small> mode and
to set $| to 1 to avoid buffering problems.</p>

<p style="margin-left:11%; margin-top: 1em">Here is a
simple script that demonstrates server push:</p>

<pre style="margin-left:11%; margin-top: 1em">  #!/usr/local/bin/perl
  use CGI qw/:push &minus;nph/;
  $| = 1;
  print multipart_init(&minus;boundary=&gt;'&minus;&minus;&minus;&minus;here we go!');
  for (0 .. 4) {
      print multipart_start(&minus;type=&gt;'text/plain'),
            &quot;The current time is &quot;,scalar(localtime),&quot;\n&quot;;
      if ($_ &lt; 4) {
              print multipart_end;
      } else {
              print multipart_final;
      }
      sleep 1;
  }</pre>


<p style="margin-left:11%; margin-top: 1em">This script
initializes server push by calling
<b><i>multipart_init()</i></b>. It then enters a loop in
which it begins a new multipart section by calling
<b><i>multipart_start()</i></b>, prints the current local
time, and ends a multipart section with
<b><i>multipart_end()</i></b>. It then sleeps a second, and
begins again. On the final iteration, it ends the multipart
section with <b><i>multipart_final()</i></b> rather than
with <b><i>multipart_end()</i></b>. <i><br>
multipart_init()</i></p>

<pre style="margin-left:17%;">  multipart_init(&minus;boundary=&gt;$boundary);</pre>


<p style="margin-left:17%; margin-top: 1em">Initialize the
multipart system. The &minus;boundary argument specifies
what <small>MIME</small> boundary string to use to separate
parts of the document. If not provided, <small>CGI</small>
.pm chooses a reasonable boundary for you.</p>

<p style="margin-left:11%;"><i>multipart_start()</i></p>

<pre style="margin-left:17%;">  multipart_start(&minus;type=&gt;$type)</pre>


<p style="margin-left:17%; margin-top: 1em">Start a new
part of the multipart document using the specified
<small>MIME</small> type. If not specified, text/html is
assumed.</p>

<p style="margin-left:11%;"><i>multipart_end()</i></p>
<pre style="margin-left:17%;">  multipart_end()</pre>

<p style="margin-left:17%; margin-top: 1em">End a part. You
must remember to call <i>multipart_end()</i> once for each
<i>multipart_start()</i>, except at the end of the last part
of the multipart document when <i>multipart_final()</i>
should be called instead of <i>multipart_end()</i>.</p>

<p style="margin-left:11%;"><i>multipart_final()</i></p>
<pre style="margin-left:17%;">  multipart_final()</pre>

<p style="margin-left:17%; margin-top: 1em">End all parts.
You should call <i>multipart_final()</i> rather than
<i>multipart_end()</i> at the end of the last part of the
multipart document.</p>

<p style="margin-left:11%; margin-top: 1em">Users
interested in server push applications should also have a
look at the CGI::Push module.</p>

<h2>Avoiding Denial of Service Attacks
<a name="Avoiding Denial of Service Attacks"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">A potential
problem with <small>CGI</small> .pm is that, by default, it
attempts to process form POSTings no matter how large they
are. A wily hacker could attack your site by sending a
<small>CGI</small> script a huge <small>POST</small> of many
megabytes. <small>CGI</small> .pm will attempt to read the
entire <small>POST</small> into a variable, growing hugely
in size until it runs out of memory. While the script
attempts to allocate the memory the system may slow down
dramatically. This is a form of denial of service
attack.</p>

<p style="margin-left:11%; margin-top: 1em">Another
possible attack is for the remote user to force
<small>CGI</small> .pm to accept a huge file upload.
<small>CGI</small> .pm will accept the upload and store it
in a temporary directory even if your script doesn&rsquo;t
expect to receive an uploaded file. <small>CGI</small> .pm
will delete the file automatically when it terminates, but
in the meantime the remote user may have filled up the
server&rsquo;s disk space, causing problems for other
programs.</p>

<p style="margin-left:11%; margin-top: 1em">The best way to
avoid denial of service attacks is to limit the amount of
memory, <small>CPU</small> time and disk space that
<small>CGI</small> scripts can use. Some Web servers come
with built-in facilities to accomplish this. In other cases,
you can use the shell <i>limit</i> or <i>ulimit</i> commands
to put ceilings on <small>CGI</small> resource usage.</p>


<p style="margin-left:11%; margin-top: 1em"><small>CGI</small>
.pm also has some simple built-in protections against denial
of service attacks, but you must activate them before you
can use them. These take the form of two global variables in
the <small>CGI</small> name space: <b><br>
$CGI::POST_MAX</b></p>

<p style="margin-left:17%;">If set to a non-negative
integer, this variable puts a ceiling on the size of
POSTings, in bytes. If <small>CGI</small> .pm detects a
<small>POST</small> that is greater than the ceiling, it
will immediately exit with an error message. This value will
affect both ordinary POSTs and multipart POSTs, meaning that
it limits the maximum size of file uploads as well. You
should set this to a reasonably high value, such as 1
megabyte.</p>


<p style="margin-left:11%;"><b>$CGI::DISABLE_UPLOADS</b></p>

<p style="margin-left:17%;">If set to a non-zero value,
this will disable file uploads completely. Other fill-out
form values will work as usual.</p>

<p style="margin-left:11%; margin-top: 1em">You can use
these variables in either of two ways. <b><br>
1. On a script-by-script basis</b></p>

<p style="margin-left:17%;">Set the variable at the top of
the script, right after the &quot;use&quot; statement:</p>

<pre style="margin-left:17%; margin-top: 1em">    use CGI qw/:standard/;
    use CGI::Carp 'fatalsToBrowser';
    $CGI::POST_MAX=1024 * 100;  # max 100K posts
    $CGI::DISABLE_UPLOADS = 1;  # no uploads</pre>


<p style="margin-left:11%;"><b>2. Globally for all
scripts</b></p>

<p style="margin-left:17%;">Open up <small>CGI</small> .pm,
find the definitions for <tt>$POST_MAX</tt> and
<tt>$DISABLE_UPLOADS</tt>, and set them to the desired
values. You&rsquo;ll find them towards the top of the file
in a subroutine named <i>initialize_globals()</i>.</p>

<p style="margin-left:11%; margin-top: 1em">An attempt to
send a <small>POST</small> larger than <tt>$POST_MAX</tt>
bytes will cause <i>param()</i> to return an empty
<small>CGI</small> parameter list. You can test for this
event by checking <i>cgi_error()</i>, either after you
create the <small>CGI</small> object or, if you are using
the function-oriented interface, call &lt;<i>param()</i>&gt;
for the first time. If the <small>POST</small> was
intercepted, then <i>cgi_error()</i> will return the message
&quot;413 <small>POST</small> too large&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">This error
message is actually defined by the <small>HTTP</small>
protocol, and is designed to be returned to the browser as
the <small>CGI</small> script&rsquo;s status <br>
code. For example:</p>

<pre style="margin-left:11%; margin-top: 1em">   $uploaded_file = param('upload');
   if (!$uploaded_file &amp;&amp; cgi_error()) {
      print header(&minus;status=&gt;cgi_error());
      exit 0;
   }</pre>


<p style="margin-left:11%; margin-top: 1em">However it
isn&rsquo;t clear that any browser currently knows what to
do with this status code. It might be better just to create
an <small>HTML</small> page that warns the user of the
problem.</p>

<h2>COMPATIBILITY WITH CGI&minus;LIB.PL
<a name="COMPATIBILITY WITH CGI&minus;LIB.PL"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">To make it
easier to port existing programs that use cgi&minus;lib.pl
the compatibility routine &quot;ReadParse&quot; is provided.
Porting is simple:</p>

<p style="margin-left:11%; margin-top: 1em"><small>OLD
VERSION</small></p>

<pre style="margin-left:11%; margin-top: 1em">    require &quot;cgi&minus;lib.pl&quot;;
    &amp;ReadParse;
    print &quot;The value of the antique is $in{antique}.\n&quot;;</pre>


<p style="margin-left:11%; margin-top: 1em"><small>NEW
VERSION</small></p>

<pre style="margin-left:11%; margin-top: 1em">    use CGI;
    CGI::ReadParse();
    print &quot;The value of the antique is $in{antique}.\n&quot;;</pre>



<p style="margin-left:11%; margin-top: 1em"><small>CGI</small>
.pm&rsquo;s <i>ReadParse()</i> routine creates a tied
variable named <tt>%in</tt>, which can be accessed to obtain
the query variables. Like ReadParse, you can also provide
your own variable. Infrequently used features of ReadParse,
such as the creation of <tt>@in</tt> and <tt>$in</tt>
variables, are not supported.</p>

<p style="margin-left:11%; margin-top: 1em">Once you use
ReadParse, you can retrieve the query object itself this
way:</p>

<pre style="margin-left:11%; margin-top: 1em">    $q = $in{CGI};
    print $q&minus;&gt;textfield(&minus;name=&gt;'wow',
            &minus;value=&gt;'does this really work?');</pre>


<p style="margin-left:11%; margin-top: 1em">This allows you
to start using the more interesting features of
<small>CGI</small> .pm without rewriting your old scripts
from scratch.</p>

<p style="margin-left:11%; margin-top: 1em">An even simpler
way to mix cgi-lib calls with <small>CGI</small> .pm calls
is to import both the <tt>&quot;:cgi&minus;lib&quot;</tt>
and <tt>&quot;:standard&quot;</tt> method:</p>

<pre style="margin-left:11%; margin-top: 1em"> use CGI qw(:cgi&minus;lib :standard);
 &amp;ReadParse;
 print &quot;The price of your purchase is $in{price}.\n&quot;;
 print textfield(&minus;name=&gt;'price', &minus;default=&gt;'$1.99');</pre>


<p style="margin-left:11%; margin-top: 1em"><b>Cgi-lib
functions that are available in <small>CGI</small> .pm</b>
<br>
In compatibility mode, the following cgi&minus;lib.pl
functions are available for your use:</p>

<pre style="margin-left:11%; margin-top: 1em"> ReadParse()
 PrintHeader()
 HtmlTop()
 HtmlBot()
 SplitParam()
 MethGet()
 MethPost()</pre>


<p style="margin-left:11%; margin-top: 1em"><b>Cgi-lib
functions that are not available in <small>CGI</small>
.pm</b></p>

<pre style="margin-left:11%;">  * Extended form of ReadParse()
    The extended form of ReadParse() that provides for file upload
    spooling, is not available.
  * MyBaseURL()
    This function is not available.  Use CGI.pm's url() method instead.
  * MyFullURL()
    This function is not available.  Use CGI.pm's self_url() method
    instead.
  * CgiError(), CgiDie()
    These functions are not supported.  Look at CGI::Carp for the way I
    prefer to handle error messages.
  * PrintVariables()
    This function is not available.  To achieve the same effect,
       just print out the CGI object:
       use CGI qw(:standard);
       $q = CGI&minus;&gt;new;
       print h1(&quot;The Variables Are&quot;),$q;
  * PrintEnv()
    This function is not available. You'll have to roll your own if you really need it.</pre>


<h2>AUTHOR INFORMATION
<a name="AUTHOR INFORMATION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<small>CGI</small> .pm distribution is copyright
1995&minus;2007, Lincoln D. Stein. It is distributed under
<small>GPL</small> and the Artistic License 2.0. It is
currently maintained by Mark Stosberg with help from many
contributors.</p>

<p style="margin-left:11%; margin-top: 1em">Address bug
reports and comments to:
https://rt.cpan.org/Public/Dist/Display.html?Queue=CGI.pm
When sending bug reports, please provide the version of
<small>CGI</small> .pm, the version of Perl, the name and
version of your Web server, and the name and version of the
operating system you are using. If the problem is even
remotely browser dependent, please provide information about
the affected browsers as well.</p>

<h2>CREDITS
<a name="CREDITS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Thanks very
much to: <br>
Matt Heffron (heffron@falstaff.css.beckman.com) <br>
James Taylor (james.taylor@srs.gov) <br>
Scott Anguish &lt;sanguish@digifix.com&gt; <br>
Mike Jewell (mlj3u@virginia.edu) <br>
Timothy Shimmin (tes@kbs.citri.edu.au) <br>
Joergen Haegg (jh@axis.se) <br>
Laurent Delfosse (delfosse@delfosse.com) <br>
Richard Resnick (applepi1@aol.com) <br>
Craig Bishop (csb@barwonwater.vic.gov.au) <br>
Tony Curtis (tc@vcpc.univie.ac.at) <br>
Tim Bunce (Tim.Bunce@ig.co.uk) <br>
Tom Christiansen (tchrist@convex.com) <br>
Andreas Koenig (k@franz.ww.TU&minus;Berlin.DE) <br>
Tim MacKenzie (Tim.MacKenzie@fulcrum.com.au) <br>
Kevin B. Hendricks (kbhend@dogwood.tyler.wm.edu) <br>
Stephen Dahmen (joyfire@inxpress.net) <br>
Ed Jordan (ed@fidalgo.net) <br>
David Alan Pisoni (david@cnation.com) <br>
Doug MacEachern (dougm@opengroup.org) <br>
Robin Houston (robin@oneworld.org) <br>
...and many many more...</p>

<p style="margin-left:17%;">for suggestions and bug
fixes.</p>

<h2>A COMPLETE EXAMPLE OF A SIMPLE FORM-BASED SCRIPT
<a name="A COMPLETE EXAMPLE OF A SIMPLE FORM-BASED SCRIPT"></a>
</h2>


<pre style="margin-left:11%; margin-top: 1em">        #!/usr/local/bin/perl
        use CGI ':standard';
        print header;
        print start_html(&quot;Example CGI.pm Form&quot;);
        print &quot;&lt;h1&gt; Example CGI.pm Form&lt;/h1&gt;\n&quot;;
        print_prompt();
        do_work();
        print_tail();
        print end_html;
        sub print_prompt {
           print start_form;
           print &quot;&lt;em&gt;What's your name?&lt;/em&gt;&lt;br&gt;&quot;;
           print textfield('name');
           print checkbox('Not my real name');
           print &quot;&lt;p&gt;&lt;em&gt;Where can you find English Sparrows?&lt;/em&gt;&lt;br&gt;&quot;;
           print checkbox_group(
                                 &minus;name=&gt;'Sparrow locations',
                                 &minus;values=&gt;[England,France,Spain,Asia,Hoboken],
                                 &minus;linebreak=&gt;'yes',
                                 &minus;defaults=&gt;[England,Asia]);
           print &quot;&lt;p&gt;&lt;em&gt;How far can they fly?&lt;/em&gt;&lt;br&gt;&quot;,
                radio_group(
                        &minus;name=&gt;'how far',
                        &minus;values=&gt;['10 ft','1 mile','10 miles','real far'],
                        &minus;default=&gt;'1 mile');
           print &quot;&lt;p&gt;&lt;em&gt;What's your favorite color?&lt;/em&gt;  &quot;;
           print popup_menu(&minus;name=&gt;'Color',
                                    &minus;values=&gt;['black','brown','red','yellow'],
                                    &minus;default=&gt;'red');
           print hidden('Reference','Monty Python and the Holy Grail');
           print &quot;&lt;p&gt;&lt;em&gt;What have you got there?&lt;/em&gt;&lt;br&gt;&quot;;
           print scrolling_list(
                         &minus;name=&gt;'possessions',
                         &minus;values=&gt;['A Coconut','A Grail','An Icon',
                                   'A Sword','A Ticket'],
                         &minus;size=&gt;5,
                         &minus;multiple=&gt;'true');
           print &quot;&lt;p&gt;&lt;em&gt;Any parting comments?&lt;/em&gt;&lt;br&gt;&quot;;
           print textarea(&minus;name=&gt;'Comments',
                                  &minus;rows=&gt;10,
                                  &minus;columns=&gt;50);
           print &quot;&lt;p&gt;&quot;,reset;
           print submit('Action','Shout');
           print submit('Action','Scream');
           print end_form;
           print &quot;&lt;hr&gt;\n&quot;;
        }
        sub do_work {
           print &quot;&lt;h2&gt;Here are the current settings in this form&lt;/h2&gt;&quot;;
           for my $key (param) {
              print &quot;&lt;strong&gt;$key&lt;/strong&gt; &minus;&gt; &quot;;
              my @values = param($key);
              print join(&quot;, &quot;,@values),&quot;&lt;br&gt;\n&quot;;
          }
        }
        sub print_tail {
           print &lt;&lt;END;
        &lt;hr&gt;
        &lt;address&gt;Lincoln D. Stein&lt;/address&gt;&lt;br&gt;
        &lt;a href=&quot;/&quot;&gt;Home Page&lt;/a&gt;
        END
        }</pre>


<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Please report
them.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">CGI::Carp
&minus; provides a Carp implementation tailored to the
<small>CGI</small> environment.</p>

<p style="margin-left:11%; margin-top: 1em">CGI::Fast
&minus; supports running <small>CGI</small> applications
under FastCGI</p>

<p style="margin-left:11%; margin-top: 1em">CGI::Pretty
&minus; pretty prints <small>HTML</small> generated by
<small>CGI</small> .pm (with a performance penalty)</p>

<h2>POD ERRORS
<a name="POD ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Hey! <b>The
above document had some coding errors, which are explained
below:</b> <br>
Around line 5513:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 5517:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 5521:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6083:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6087:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6092:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6097:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6166:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6170:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6181:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6186:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6521:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6527:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6536:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6540:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6546:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6552:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6597:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6605:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6612:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6690:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6696:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6701:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6707:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6747:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6751:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6759:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6766:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6771:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6847:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6853:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6859:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6908:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6913:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6951:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>

<p style="margin-left:11%;">Around line 6956:</p>

<p style="margin-left:17%;">Expected text after =item, not
a number</p>
<hr>
</body>
</html>
