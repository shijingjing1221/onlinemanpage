<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 02:09:03 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PMQUERY</title>

</head>
<body>

<h1 align="center">PMQUERY</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#ENVIRONMENT">ENVIRONMENT</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pmconfirm</b>,
<b>pmmessage</b>, <b>pmquery</b> &minus; general purpose
dialog box</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pmconfirm</b>
[<b>&minus;c</b>] [<b>&minus;b</b> <i>button-name</i>]
[<b>&minus;B</b> <i>default-button-name</i>]
[<b>&minus;t</b> <i>string</i>] [<b>&minus;file</b>
<i>filename</i>] [<b>&minus;icon</b> <i>icontype</i>]
[<b>&minus;font</b> <i>font</i>] [<b>&minus;header</b>
<i>titlebar-string</i>] [<b>&minus;useslider</b>]
[<b>&minus;noslider</b>] [<b>&minus;noframe</b>]
[<b>&minus;exclusive</b>]</p>


<p style="margin-left:11%; margin-top: 1em"><b>pmmessage</b>
[<b>&minus;buttons</b>
<i>label1</i>[:<i>value1</i>][,<i>label2</i>[:<i>value2</i>][,...]]]
[<b>&minus;center</b>] [<b>&minus;nearmouse</b>]
[<b>&minus;default</b> <i>button</i>] [<b>&minus;file</b>
<i>filename</i>] [<b>&minus;print</b>]
[<b>&minus;timeout</b> <i>sec</i>] <i>message...</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>pmquery
[&minus;input</b>] [<b>all above options...</b>]
[<i>message...</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>pmquery</b>
provides a command-line-option compatible implementation of
the <b>xconfirm</b> and <b>xmessage</b> tools, using a
look-and-feel that is consistent with <b>pmchart</b>.
Several extensions to the functionality of the original
tools have been made, in order to improve their specific
utility for <b>pmchart</b>, but wherever possible the
original semantics remain.</p>


<p style="margin-left:11%; margin-top: 1em"><b>pmconfirm</b>
displays a line of text for each <i>&minus;t</i> argument
specified (or a file when the <i>&minus;file</i> argument is
used), and a button for each <i>&minus;b</i> argument
specified. When one of the buttons is pressed, the label of
that button is written to <b>pmquery&rsquo;s</b> standard
output. This provides a means of communication/feedback from
within shell scripts and a means to display useful
information to a user from an application.</p>


<p style="margin-left:11%; margin-top: 1em"><b>pmmessage</b>
displays a window containing a message from the command
line, a file, or standard input. It additionally allows
buttons to be associated with an exit status, and only
optionally will write the label of the button to standard
output.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pmquery</b>
extends the above tools to additionally support limited user
input, as free form text. In this <b>&minus;input</b> mode,
any text entered will be output when the default button is
pressed. A default text can be entered using the same
mechanisms as the other tools.</p>

<p style="margin-left:11%; margin-top: 1em">Command line
options are available to specify font style, frame style,
modality and one of several different icons to be presented
for tailored visual feedback to the user. <b><br>
&minus;c</b> or <b>&minus;center</b></p>

<p style="margin-left:18%;">Center the window on the
display.</p>

<p style="margin-left:11%;"><b>&minus;nearmouse</b></p>

<p style="margin-left:18%;">Pop up the window near the
mouse cursor.</p>

<p style="margin-left:11%;"><b>&minus;b</b>
<i>button-name</i></p>

<p style="margin-left:18%;">Displays a button with the
label <i>button-name</i>. If <i>button-name</i> is the empty
string, the button in that position is not displayed. If no
<b>&minus;b</b> arguments are present, the default is a
button with the label Continue. The exit status associated
with <i>button-name</i> is zero.</p>

<p style="margin-left:11%;"><b>&minus;B</b>
<i>button-name</i></p>

<p style="margin-left:18%;">Displays a button with the
label <i>button-name</i> and specifies it as the button to
be activated when enter is pressed. The exit status
associated with <i>button-name</i> is zero.</p>

<p style="margin-left:11%;"><b>&minus;buttons</b>
<i>button,button,...</i></p>

<p style="margin-left:18%;">This option will create one
button for each comma-separated <i>button</i> argument. Each
<i>button</i> consists of a label optionally followed by a
colon and an exit value. The exit value will be returned if
that button is selected. The default exit value is 100 plus
the button number. Buttons are numbered from the left
starting with one.</p>

<p style="margin-left:11%;"><b>&minus;default</b>
<i>label</i></p>

<p style="margin-left:18%;">Defines the button with a
matching <i>label</i> to be the default. If not specified
there is no default. The corresponding resource is
<b>defaultButton</b>. Pressing Return anywhere in the
<i>xmessage</i> window will activate the default button. The
default button has a wider border than the others.</p>

<p style="margin-left:11%;"><b>&minus;t</b>
<i>message</i></p>

<p style="margin-left:18%;">Displays message. Any number of
strings can be listed on the command line (each must be
preceded with the <b>&minus;t</b> option).</p>

<p style="margin-left:11%;"><b>&minus;file</b>
<i>filename</i></p>

<p style="margin-left:18%;">Displays the file
<i>filename.</i> All <b>&minus;t</b> options will be
ignored. A <i>filename</i> of &lsquo;<i>&minus;</i>&rsquo;
reads from standard input.</p>

<p style="margin-left:11%;"><b>&minus;icon</b>
<i>icontype</i></p>

<p style="margin-left:18%;">Displays the icon
<i>icontype</i> where icontype is one of: <i>info</i>,
<i>error</i>, <i>question</i>, <i>warning</i>,
<i>critical</i>. <i>action</i> is also accepted as a synonym
for <i>error</i> for backward compatibility. <b>pmquery</b>
introduces the additional <i>archive</i> and <i>host</i>
icon types as well as the original <b>xconfirm</b> types
listed earlier.</p>

<p style="margin-left:11%;"><b>&minus;font</b>
<i>fontname</i></p>

<p style="margin-left:18%;">Use fontname as the font. This
option is only available when using the X Window System.</p>

<p style="margin-left:11%;"><b>&minus;header</b>
<i>string</i></p>

<p style="margin-left:18%;">Use string as the window
title.</p>

<p style="margin-left:11%;"><b>&minus;print</b></p>

<p style="margin-left:18%;">This causes the program to
write the label of the button pressed to standard output. It
is the default behaviour for <b>pmconfirm</b> and
<b>pmquery</b>.</p>

<p style="margin-left:11%;"><b>&minus;noprint</b></p>

<p style="margin-left:18%;">This causes the program to not
write the label of the button pressed to standard output. It
is the default behaviour for <b>pmmessage</b>.</p>

<p style="margin-left:11%;"><b>&minus;geometry</b>
<i>geometry-string</i></p>

<p style="margin-left:18%;">This provides xconfirm with an
X-compatible geometry string specification. This option is
only available when using the X Window System.</p>

<p style="margin-left:11%;"><b>&minus;useslider</b></p>

<p style="margin-left:18%;">When displaying a file, always
use a slider instead of determining automatically whether a
slider is necessary.</p>

<p style="margin-left:11%;"><b>&minus;noslider</b></p>

<p style="margin-left:18%;">Do not create a slider, and
clip text to the window size, instead of determining
automatically whether a slider is necessary..</p>

<p style="margin-left:11%;"><b>&minus;noframe</b></p>

<p style="margin-left:18%;">Do not display a frame around
the contents.</p>

<p style="margin-left:11%;"><b>&minus;exclusive</b></p>

<p style="margin-left:18%;">Grab the keyboard/pointer and
do not allow further input until a button is pressed.</p>

<p style="margin-left:11%;"><b>&minus;timeout</b>
<i>secs</i></p>

<p style="margin-left:18%;">Exit with status 0 after
<i>secs</i> seconds if the user has not clicked on a button
yet. The corresponding resource is <b>timeout</b>.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
shell script will display a window with an information icon,
asking the user a yes or no question with &quot;Yes&quot; as
the default.</p>

<p style="margin-left:11%; margin-top: 1em">#! /bin/sh <br>
case &lsquo;pmquery &minus;t &quot;Really power down?&quot;
&minus;b No &minus;B Yes &minus;icon question <br>
in <br>
Yes) shutdown;; <br>
No) ;; <br>
esac</p>

<p style="margin-left:11%; margin-top: 1em">A second
example, which prompts for a hostname then starts a terminal
with an ssh session connected to the requested host.</p>

<p style="margin-left:11%; margin-top: 1em">#! /bin/sh <br>
host=&lsquo;pmquery &minus;input &minus;icon host &minus;b
Cancel &minus;B OK \ <br>
&minus;header &quot;Remote Terminal &minus; Secure
Shell&quot; <br>
[ &quot;$host&quot; = &quot;Cancel&quot; &minus;o &minus;z
&quot;$host&quot; ] &amp;&amp; exit <br>
gnome-terminal &minus;e &quot;ssh $host&quot;</p>

<h2>ENVIRONMENT
<a name="ENVIRONMENT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>pmquery</b>
is an excellent choice of utility for the
&quot;PCP_XCONFIRM_PROG&quot; Performance Co-Pilot
configuration parameter (refer to <b>pcp.conf</b>(5) for
details).</p>

<p style="margin-left:11%; margin-top: 1em">Note that
PCP_XCONFIRM_PROG will be automatically set to
<b>pmquery</b> inside tools like <b>pmchart</b>, unless
PCP_XCONFIRM_PROG is already set in the environment.</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If it detects
an error, <b>pmquery</b> always returns 1, so this value
should not be associated with a button. Unless
<i>&minus;button</i> option has not been used, the return
code will be zero on success.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pmchart</b>(1),
<b>xconfirm</b>(1), <b>xmessage</b>(1),
<b>pcp.conf</b>(5).</p>
<hr>
</body>
</html>
