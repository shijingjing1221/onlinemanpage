<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 01:22:13 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>CREATE DOMAIN</title>

</head>
<body>

<h1 align="center">CREATE DOMAIN</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#PARAMETERS">PARAMETERS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#COMPATIBILITY">COMPATIBILITY</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">CREATE_DOMAIN
&minus; define a new domain</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">CREATE DOMAIN
<i>name</i> [ AS ] <i>data_type</i> <br>
[ COLLATE <i>collation</i> ] <br>
[ DEFAULT <i>expression</i> ] <br>
[ <i>constraint</i> [ ... ] ]</p>

<p style="margin-left:11%; margin-top: 1em">where
<i>constraint</i> is:</p>

<p style="margin-left:11%; margin-top: 1em">[ CONSTRAINT
<i>constraint_name</i> ] <br>
{ NOT NULL | NULL | CHECK (<i>expression</i>) }</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>CREATE
DOMAIN</b> creates a new domain. A domain is essentially a
data type with optional constraints (restrictions on the
allowed set of values). The user who defines a domain
becomes its owner.</p>

<p style="margin-left:11%; margin-top: 1em">If a schema
name is given (for example, CREATE DOMAIN myschema.mydomain
...) then the domain is created in the specified schema.
Otherwise it is created in the current schema. The domain
name must be unique among the types and domains existing in
its schema.</p>

<p style="margin-left:11%; margin-top: 1em">Domains are
useful for abstracting common constraints on fields into a
single location for maintenance. For example, several tables
might contain email address columns, all requiring the same
CHECK constraint to verify the address syntax. Define a
domain rather than setting up each table's constraint
individually.</p>

<p style="margin-left:11%; margin-top: 1em">To be able to
create a domain, you must have USAGE privilege on the
underlying type.</p>

<h2>PARAMETERS
<a name="PARAMETERS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>name</i></p>

<p style="margin-left:17%;">The name (optionally
schema&minus;qualified) of a domain to be created.</p>


<p style="margin-left:11%; margin-top: 1em"><i>data_type</i></p>

<p style="margin-left:17%;">The underlying data type of the
domain. This can include array specifiers.</p>


<p style="margin-left:11%; margin-top: 1em"><i>collation</i></p>

<p style="margin-left:17%;">An optional collation for the
domain. If no collation is specified, the underlying data
type's default collation is used. The underlying type must
be collatable if COLLATE is specified.</p>

<p style="margin-left:11%; margin-top: 1em">DEFAULT
<i>expression</i></p>

<p style="margin-left:17%;">The DEFAULT clause specifies a
default value for columns of the domain data type. The value
is any variable&minus;free expression (but subqueries are
not allowed). The data type of the default expression must
match the data type of the domain. If no default value is
specified, then the default value is the null value.</p>

<p style="margin-left:17%; margin-top: 1em">The default
expression will be used in any insert operation that does
not specify a value for the column. If a default value is
defined for a particular column, it overrides any default
associated with the domain. In turn, the domain default
overrides any default value associated with the underlying
data type.</p>

<p style="margin-left:11%; margin-top: 1em">CONSTRAINT
<i>constraint_name</i></p>

<p style="margin-left:17%;">An optional name for a
constraint. If not specified, the system generates a
name.</p>

<p style="margin-left:11%; margin-top: 1em">NOT NULL</p>

<p style="margin-left:17%;">Values of this domain are
normally prevented from being null. However, it is still
possible for a domain with this constraint to take a null
value if it is assigned a matching domain type that has
become null, e.g. via a LEFT OUTER JOIN, or <b>INSERT INTO
tab (domcol) VALUES ((SELECT domcol FROM tab WHERE
false))</b>.</p>

<p style="margin-left:11%; margin-top: 1em">NULL</p>

<p style="margin-left:17%;">Values of this domain are
allowed to be null. This is the default.</p>

<p style="margin-left:17%; margin-top: 1em">This clause is
only intended for compatibility with nonstandard SQL
databases. Its use is discouraged in new applications.</p>

<p style="margin-left:11%; margin-top: 1em">CHECK
(<i>expression</i>)</p>

<p style="margin-left:17%;">CHECK clauses specify integrity
constraints or tests which values of the domain must
satisfy. Each constraint must be an expression producing a
Boolean result. It should use the key word VALUE to refer to
the value being tested.</p>

<p style="margin-left:17%; margin-top: 1em">Currently,
CHECK expressions cannot contain subqueries nor refer to
variables other than VALUE.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This example
creates the us_postal_code data type and then uses the type
in a table definition. A regular expression test is used to
verify that the value looks like a valid US postal code:</p>

<p style="margin-left:17%; margin-top: 1em">CREATE DOMAIN
us_postal_code AS TEXT <br>
CHECK( <br>
VALUE ~ '^\d{5}$' <br>
OR VALUE ~ '^\d{5}&minus;\d{4}$' <br>
);</p>

<p style="margin-left:17%; margin-top: 1em">CREATE TABLE
us_snail_addy ( <br>
address_id SERIAL PRIMARY KEY, <br>
street1 TEXT NOT NULL, <br>
street2 TEXT, <br>
street3 TEXT, <br>
city TEXT NOT NULL, <br>
postal us_postal_code NOT NULL <br>
);</p>

<h2>COMPATIBILITY
<a name="COMPATIBILITY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The command
<b>CREATE DOMAIN</b> conforms to the SQL standard.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">ALTER DOMAIN
(<b>ALTER_DOMAIN</b>(7)), DROP DOMAIN
(<b>DROP_DOMAIN</b>(7))</p>
<hr>
</body>
</html>
