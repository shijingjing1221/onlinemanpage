<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 01:50:21 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>ipmievd</title>

</head>
<body>

<h1 align="center">ipmievd</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#COMMANDS">COMMANDS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">ipmievd &minus;
IPMI event daemon for sending events to syslog</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">ipmievd
[<b>&minus;c</b>|<b>&minus;h</b>|<b>&minus;d</b>
<i>N</i>|<b>&minus;v</b>|<b>&minus;V</b>] <b>&minus;I</b>
<i>open</i> &lt;<i>open</i> | <i>sel</i>&gt;
[&lt;<i>option</i>&gt;]</p>

<p style="margin-left:11%; margin-top: 1em">ipmievd
[<b>&minus;c</b>|<b>&minus;h</b>|<b>&minus;v</b>|<b>&minus;V</b>]
<b>&minus;I</b> <i>lan</i> <b>&minus;H</b>
&lt;<i>hostname</i>&gt; <br>
[<b>&minus;p</b> &lt;<i>port</i>&gt;] <br>
[<b>&minus;U</b> &lt;<i>username</i>&gt;] <br>
[<b>&minus;A</b> &lt;<i>authtype</i>&gt;] <br>
[<b>&minus;L</b> &lt;<i>privlvl</i>&gt;] <br>

[<b>&minus;a</b>|<b>&minus;E</b>|<b>&minus;P</b>|<b>&minus;f</b>
&lt;<i>password</i>&gt;] <br>
[<b>&minus;o</b> &lt;<i>oemtype</i>&gt;] <br>
[<b>&minus;O</b> &lt;<i>sel oem</i>&gt;] <i><br>
sel</i> [&lt;<i>option</i>&gt;]</p>

<p style="margin-left:11%; margin-top: 1em">ipmievd
[<b>&minus;c</b>|<b>&minus;h</b>|<b>&minus;v</b>|<b>&minus;V</b>]
<b>&minus;I</b> <i>lanplus</i> <b>&minus;H</b>
&lt;<i>hostname</i>&gt; <br>
[<b>&minus;p</b> &lt;<i>port</i>&gt;] <br>
[<b>&minus;U</b> &lt;<i>username</i>&gt;] <br>
[<b>&minus;L</b> &lt;<i>privlvl</i>&gt;] <br>

[<b>&minus;a</b>|<b>&minus;E</b>|<b>&minus;P</b>|<b>&minus;f</b>
&lt;<i>password</i>&gt;] <br>
[<b>&minus;o</b> &lt;<i>oemtype</i>&gt;] <br>
[<b>&minus;O</b> &lt;<i>sel oem</i>&gt;] <br>
[<b>&minus;C</b> &lt;<i>ciphersuite</i>&gt;] <i><br>
sel</i> [&lt;<i>option</i>&gt;]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>ipmievd</b>
is a daemon which will listen for events from the BMC that
are being sent to the SEL and also log those messages to
syslog. It is able to run in one of two modes: either using
the Event Message Buffer and asynchronous event notification
from the OpenIPMI kernel driver or actively polling the
contents of the SEL for new events. Upon receipt of an event
via either mechanism it will be logged to syslog with the
<i>LOG_LOCAL4</i> facility.</p>

<p style="margin-left:11%; margin-top: 1em">It is based on
the <b>ipmitool</b> utility and shares the same IPMI
interface support and session setup options. Please see the
<b>ipmitool</b> manpage for more information on supported
IPMI interfaces.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>&minus;a</b></p></td>
<td width="8%"></td>
<td width="58%">


<p style="margin-top: 1em">Prompt for the remote server
password.</p> </td>
<td width="20%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;A</b>
&lt;<i>authtype</i>&gt;</p>

<p style="margin-left:22%;">Specify an authentication type
to use during IPMIv1.5 <i>lan</i> session activation.
Supported types are NONE, PASSWORD, MD2, MD5, or OEM.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;c</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Present output in CSV (comma separated variable) format.
This is not available with all commands.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;C</b>
&lt;<i>ciphersuite</i>&gt;</p>

<p style="margin-left:22%;">The remote server
authentication, integrity, and encryption algorithms to use
for IPMIv2 <i>lanplus</i> connections. See table 22&minus;19
in the IPMIv2 specification. The default is 3 which
specifies RAKP&minus;HMAC&minus;SHA1 authentication,
HMAC&minus;SHA1&minus;96 integrity, and
AES&minus;CBC&minus;128 encryption algorightms.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;E</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>The remote server password is specified by the
environment variable <i>IPMI_PASSWORD</i>.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;f</b>
&lt;<i>password_file</i>&gt;</p>

<p style="margin-left:22%;">Specifies a file containing the
remote server password. If this option is absent, or if
password_file is empty, the password will default to
NULL.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;h</b></p></td>
<td width="8%"></td>
<td width="66%">


<p>Get basic usage help from the command line.</p></td>
<td width="12%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;H</b>
&lt;<i>address</i>&gt;</p>

<p style="margin-left:22%;">Remote server address, can be
IP address or hostname. This option is required for
<i>lan</i> and <i>lanplus</i> interfaces.</p>

<p style="margin-left:11%;"><b>&minus;I</b>
&lt;<i>interface</i>&gt;</p>

<p style="margin-left:22%;">Selects IPMI interface to use.
Supported interfaces that are compiled in are visible in the
usage help output.</p>

<p style="margin-left:11%;"><b>&minus;L</b>
&lt;<i>privlvl</i>&gt;</p>

<p style="margin-left:22%;">Force session privilege level.
Can be CALLBACK, USER, OPERATOR, ADMIN. Default is
ADMIN.</p>

<p style="margin-left:11%;"><b>&minus;m</b>
&lt;<i>local_address</i>&gt;</p>

<p style="margin-left:22%;">Set the local IPMB address. The
default is 0x20 and there should be no need to change it for
normal operation.</p>

<p style="margin-left:11%;"><b>&minus;o</b>
&lt;<i>oemtype</i>&gt;</p>

<p style="margin-left:22%;">Select OEM type to support.
This usually involves minor hacks in place in the code to
work around quirks in various BMCs from various
manufacturers. Use <i>&minus;o list</i> to see a list of
current supported OEM types.</p>

<p style="margin-left:11%;"><b>&minus;O</b> &lt;<i>sel
oem</i>&gt;</p>

<p style="margin-left:22%;">Open selected file and read OEM
SEL event descriptions to be used during SEL listings. See
examples in contrib dir for file format.</p>

<p style="margin-left:11%;"><b>&minus;p</b>
&lt;<i>port</i>&gt;</p>

<p style="margin-left:22%;">Remote server UDP port to
connect to. Default is 623.</p>

<p style="margin-left:11%;"><b>&minus;P</b>
&lt;<i>password</i>&gt;</p>

<p style="margin-left:22%;">Remote server password is
specified on the command line. If supported it will be
obscured in the process list. <b>Note!</b> Specifying the
password as a command line option is not recommended.</p>

<p style="margin-left:11%;"><b>&minus;S</b>
&lt;<i>sdr_cache_file</i>&gt;</p>

<p style="margin-left:22%;">Use local file for remote SDR
cache. Using a local SDR cache can drastically increase
performance for commands that require knowledge of the
entire SDR to perform their function.</p>

<p style="margin-left:11%;"><b>&minus;t</b>
&lt;<i>target_address</i>&gt;</p>

<p style="margin-left:22%;">Bridge IPMI requests to the
remote target address.</p>

<p style="margin-left:11%;"><b>&minus;U</b>
&lt;<i>username</i>&gt;</p>

<p style="margin-left:22%;">Remote server username, default
is NULL user.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>&minus;d</b> <i>N</i></p></td>
<td width="5%"></td>
<td width="78%">


<p>Use device number N to specify the /dev/ipmiN (or
/dev/ipmi/N or /dev/ipmidev/N) device to use for in-band BMC
communication. Used to target a specific BMC on a
multi-node, multi-BMC system through the ipmi device driver
interface. Default is 0.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>&minus;v</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Increase verbose output level. This option may be
specified multiple times to increase the level of debug
output. If given three times you will get hexdumps of all
incoming and outgoing packets.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>&minus;V</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Display version information.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">If no password
method is specified then ipmievd will prompt the user for a
password. If no password is entered at the prompt, the
remote server password will default to NULL.</p>

<h2>COMMANDS
<a name="COMMANDS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p style="margin-top: 1em"><i>help</i></p></td>
<td width="5%"></td>
<td width="78%">


<p style="margin-top: 1em">This can be used to get
command&minus;line help. It may also be placed at the end of
commands to get option usage help.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">&gt; ipmievd
help <br>
Commands: <br>
open Use OpenIPMI for asyncronous notification of events
<br>
sel Poll SEL for notification of events</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p style="margin-top: 1em"><i>open</i></p></td>
<td width="5%"></td>
<td width="78%">


<p style="margin-top: 1em">This command starts ipmievd with
the OpenIPMI event watching mechanism which relies on the
Event Message Buffer feature of IPMI. This requires a
properly installed and configured OpenIPMI driver on Linux
and is only valid to be run through the <i>open</i>
interface. See the <b>ipmitool</b> manpage and associated
documentation for more information on setting up the
OpenIPMI driver.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em"><b>Note</b>:
Some BMC do not support the Event Message Buffer required
for this command. Other BMCs claim to support it but do not
actually deliver events to it. If this is the case please
use the <i>sel</i> method.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p style="margin-top: 1em"><i>daemon</i></p></td>
<td width="1%"></td>
<td width="68%">


<p style="margin-top: 1em">Launch process as a daemon and
reparent to init process. All messages will be sent to
syslog. This is the default action.</p></td></tr>
</table>

<p style="margin-left:22%;"><i>nodaemon</i></p>

<p style="margin-left:32%;">Do NOT become a daemon, instead
log all messages to stderr.</p>


<p style="margin-left:22%;"><i>pidfile</i>=&lt;<b>filename</b>&gt;</p>

<p style="margin-left:32%;">Save process ID to this file
when in daemon mode. Defaults to
/var/run/ipmievd.pid<i>N</i> (where <i>N</i> is the ipmi
device number -- defaults to 0).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><i>sel</i></p></td>
<td width="7%"></td>
<td width="78%">


<p>This command starts ipmievd with the SEL Polling event
watching mechanism. This will poll the SEL periodically to
determine if new events have been logged. This command
should work with all BMCs and is capable of using the LAN
interface as well to monitor a remote system and log its
events to a local syslog.</p></td></tr>
</table>

<p style="margin-left:22%;"><i>daemon</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="68%">


<p style="margin-top: 1em">Launch process as a daemon and
reparent to init process. All messages will be sent to
syslog. This is the default action.</p></td></tr>
</table>

<p style="margin-left:22%;"><i>nodaemon</i></p>

<p style="margin-left:32%;">Do NOT become a daemon, instead
log all messages to stderr.</p>


<p style="margin-left:22%;"><i>pidfile</i>=&lt;<b>filename</b>&gt;</p>

<p style="margin-left:32%;">Save process ID to this file
when in daemon mode. Defaults to
/var/run/ipmievd.pid<i>N</i> (where <i>N</i> is the ipmi
device number -- defaults to 0).</p>


<p style="margin-left:22%;"><i>timeout</i>=&lt;<b>seconds</b>&gt;</p>

<p style="margin-left:32%;">Time between checks for SEL
polling method. Default is 10 seconds.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>Example
1</i>: Daemon process watching OpenIPMI for events</p>

<p style="margin-left:22%; margin-top: 1em">&gt; ipmievd
&minus;I open open daemon</p>

<p style="margin-left:11%;"><i>Example 2</i>: Local
non&minus;daemon process checking remote SEL every 30 <br>
seconds</p>

<p style="margin-left:22%; margin-top: 1em">&gt; ipmievd
&minus;I lan &minus;H 1.2.3.4 &minus;f passfile sel nodaemon
timeout=30 <br>
Reading Sensors... <br>
Waiting for Events...</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Duncan Laurie
&lt;duncan@iceblink.org&gt;</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">IPMItool
Homepage</p>


<p style="margin-left:22%;">http://ipmitool.sourceforge.net</p>

<p style="margin-left:11%;">Intelligent Platform Management
Interface Specification</p>


<p style="margin-left:22%;">http://www.intel.com/design/servers/ipmi</p>

<p style="margin-left:11%;">OpenIPMI Homepage</p>


<p style="margin-left:22%;">http://openipmi.sourceforge.net</p>
<hr>
</body>
</html>
