<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 02:13:20 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>RDMA_CREATE_QP</title>

</head>
<body>

<h1 align="center">RDMA_CREATE_QP</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#ARGUMENTS">ARGUMENTS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#RETURN VALUE">RETURN VALUE</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">rdma_create_qp
&minus; Allocate a QP.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;rdma/rdma_cma.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
rdma_create_qp (struct rdma_cm_id *</b><i>id</i><b>, struct
ibv_pd *</b><i>pd</i><b>, struct ibv_qp_init_attr
*</b><i>qp_init_attr</i><b>);</b></p>

<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em">id</p></td>
<td width="15%"></td>
<td width="59%">


<p style="margin-top: 1em">RDMA identifier.</p></td>
<td width="12%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>pd</p></td>
<td width="15%"></td>
<td width="59%">


<p>Optional protection domain for the QP.</p></td>
<td width="12%">
</td></tr>
</table>

<p style="margin-left:11%;">qp_init_attr</p>

<p style="margin-left:29%;">Initial QP attributes.</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Allocate a QP
associated with the specified rdma_cm_id and transition it
for sending and receiving.</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Returns 0 on
success, or -1 on error. If an error occurs, errno will be
set to indicate the failure reason.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The rdma_cm_id
must be bound to a local RDMA device before calling this
function, and the protection domain must be for that same
device. QPs allocated to an rdma_cm_id are automatically
transitioned by the librdmacm through their states. After
being allocated, the QP will be ready to handle posting of
receives. If the QP is unconnected, it will be ready to post
sends.</p>

<p style="margin-left:11%; margin-top: 1em">If a protection
domain is not given - pd parameter is NULL - then the
rdma_cm_id will be created using a default protection
domain. One default protection domain is allocated per RDMA
device.</p>

<p style="margin-left:11%; margin-top: 1em">The initial QP
attributes are specified by the qp_init_attr parameter. The
send_cq and recv_cq fields in the ibv_qp_init_attr are
optional. If a send or receive completion queue is not
specified, then a CQ will be allocated by the rdma_cm for
the QP, along with corresponding completion channels.
Completion channels and CQ data created by the rdma_cm are
exposed to the user through the rdma_cm_id structure.</p>

<p style="margin-left:11%; margin-top: 1em">The actual
capabilities and properties of the created QP will be
returned to the user through the qp_init_attr parameter. An
rdma_cm_id may only be associated with a single QP.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">rdma_bind_addr(3),
rdma_resolve_addr(3), rdma_destroy_qp(3), ibv_create_qp(3),
ibv_modify_qp(3)</p>
<hr>
</body>
</html>
