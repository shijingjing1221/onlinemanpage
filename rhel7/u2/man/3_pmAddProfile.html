<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 02:08:10 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PMADDPROFILE</title>

</head>
<body>

<h1 align="center">PMADDPROFILE</h1>

<a href="#NAME">NAME</a><br>
<a href="#C SYNOPSIS">C SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#DIAGNOSTICS">DIAGNOSTICS</a><br>
<a href="#CAVEAT">CAVEAT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pmAddProfile</b>
&minus; add instance(s) to the current PMAPI instance
profile</p>

<h2>C SYNOPSIS
<a name="C SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;pcp/pmapi.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
pmAddProfile(pmInDom</b> <i>indom</i><b>, int</b>
<i>numinst</i><b>, int *</b><i>instlist</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>cc ...
&minus;lpcp</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The set of
instances for performance metrics returned from a
<b>pmFetch</b>(3) call may be filtered or restricted using
an instance profile. There is one instance profile for each
context the application creates at the Performance Metrics
Application Programming Interface (<b>PMAPI</b>(3)), and
each instance profile may include instances from one or more
instance domains (see <b>pmLookupDesc</b>(3)).</p>


<p style="margin-left:11%; margin-top: 1em"><b>pmAddProfile</b>
may be used to add new instance specifications to the
instance profile of the current PMAPI context.</p>

<p style="margin-left:11%; margin-top: 1em">In the simplest
variant, the list of instances identified by the
<i>instlist</i> argument for the <i>indom</i> instance
domain are added to the instance profile. The list of
instance identifiers contains <i>numinst</i> values.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>indom</i> value would normally be extracted from a call
to <b>pmLookupDesc</b>(3) for a particular performance
metric, and the instances in <i>instlist</i> would typically
be determined by calls to <b>pmGetInDom</b>(3) or
<b>pmLookupInDom</b>(3).</p>

<p style="margin-left:11%; margin-top: 1em">To select all
instances in all instance domains, use</p>

<pre style="margin-left:15%; margin-top: 1em">pmAddProfile(PM_INDOM_NULL, 0, (int *)0)</pre>


<p style="margin-left:11%; margin-top: 1em">This is the
only case where <i>indom</i> may be equal to
<b>PM_INDOM_NULL</b>. If <i>numinst</i> is zero, or
<i>instlist</i> is NULL, then all instances in <i>indom</i>
are selected.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>PMAPI</b>(3),
<b>pmDelProfile</b>(3), <b>pmFetch</b>(3),
<b>pmGetInDom</b>(3), <b>pmLookupDesc</b>(3),
<b>pmLookupInDom</b>(3), <b>pmNewContext</b>(3),
<b>pmUseContext</b>(3) and <b>pmWhichContext</b>(3).</p>

<h2>DIAGNOSTICS
<a name="DIAGNOSTICS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>PM_ERR_PROFILESPEC</b></p>

<p style="margin-left:22%;"><i>indom</i> was
<b>PM_INDOM_NULL</b> and <i>instlist</i> was not empty</p>

<h2>CAVEAT
<a name="CAVEAT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">It is possible
to add non-existent instance domains and non-existent
instances to an instance profile. None of the routines that
use the instance profile will ever issue an error if you do
this. The cost of checking, when checking is possible,
outweighs any benefits.</p>
<hr>
</body>
</html>
