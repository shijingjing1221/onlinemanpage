<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 01:09:37 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>mgettydefs</title>

</head>
<body>

<h1 align="center">mgettydefs</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#FILES">FILES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">mgettydefs
&minus; speed and terminal settings used by mgetty</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>/etc/gettydefs</b> file contains information used by
<i>mgetty</i>(1) to set up the speed and terminal settings
for a line. It also supplies information on what the
<i>login</i> prompt should look like.</p>

<p style="margin-left:11%; margin-top: 1em">Many versions
of UNIX have a version of <i>getty</i>(1) that also reads
<b>/etc/gettydefs</b>. Both <i>mgetty</i> and <i>getty</i>
expect similar formats in <b>/etc/gettydefs</b> except that,
when used by <i>mgetty</i>, extended functionality is
available. Even so, the additional functions are simply
ignored by standard <i>getty</i>, so they can co-exist using
the same file. Note, however, that <i>mgetty</i> can be
compiled to use a file different from <b>/etc/gettydefs</b>
if your <i>getty</i> gets upset about the extensions. This
manual page documents <b>/etc/gettydefs</b> and describes
the extended functionality available when used by
<i>mgetty</i>(1). This document will refer to
<i>getty</i>(1) except where <i>mgetty</i>&rsquo;s behaviour
is different.</p>

<p style="margin-left:11%; margin-top: 1em">Each entry in
<b>/etc/gettydefs</b> has the following format:</p>

<p style="margin-left:22%; margin-top: 1em">label#
initial-flags # final-flags # login-prompt #next-label</p>

<p style="margin-left:11%; margin-top: 1em">Each entry is
followed by a blank line. The login prompt field can contain
quoted characters which will be converted to other values.
The sequences and their substitutions are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>\n</b></p></td>
<td width="9%"></td>
<td width="66%">


<p>newline</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>\r</b></p></td>
<td width="9%"></td>
<td width="66%">


<p>carriage return</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>\g</b></p></td>
<td width="9%"></td>
<td width="66%">


<p>beep</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>\b</b></p></td>
<td width="9%"></td>
<td width="66%">


<p>backspace</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>\v</b></p></td>
<td width="9%"></td>
<td width="66%">


<p>vertical tab (VT)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>\f</b></p></td>
<td width="9%"></td>
<td width="66%">


<p>formfeed</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>\t</b></p></td>
<td width="9%"></td>
<td width="66%">


<p>tab</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>\L</b></p></td>
<td width="9%"></td>
<td width="66%">


<p>portname</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>\C</b></p></td>
<td width="9%"></td>
<td width="66%">


<p>time in <i>ctime</i>(3) format.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>\N</b></p></td>
<td width="9%"></td>
<td width="66%">


<p>number of users currently logged in</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>\U</b></p></td>
<td width="9%"></td>
<td width="66%">


<p>number of users currently logged in</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>\D</b></p></td>
<td width="9%"></td>
<td width="66%">


<p>date in DD/MM format</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>\T</b></p></td>
<td width="9%"></td>
<td width="66%">


<p>time in hh:mm:ss format</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>\I</b></p></td>
<td width="9%"></td>
<td width="66%">


<p>modem CONNECT attributes</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>\sequence</b></p></td>
<td width="9%"></td>
<td width="66%">


<p>where &quot;sequence&quot; is a valid strtol format,
such as: \0nnn (octal), \0xnnn (hex), or \nnn (decimal).</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Note that
standard <i>getty</i> usually only supports \b, \r and
\n.</p>

<p style="margin-left:11%; margin-top: 1em">The various
fields are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p style="margin-top: 1em"><i>label</i></p></td>
<td width="3%"></td>
<td width="66%">


<p style="margin-top: 1em">This is the string against which
<i>getty</i> tries to match its second argument. It is often
the speed, such as <b>1200</b>, at which the terminal is
supposed to run, but it need not be (see below).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p><i>initial-flags</i></p></td>
<td width="3%"></td>
<td width="66%">


<p>These flags are the initial <i>ioctl</i>(2) settings to
which the terminal is to be set if a terminal type is not
specified to <i>getty</i>. The flags that <i>getty</i>
understands are the ones listed in <i>termio</i>(7)).
<i>mgetty</i> is usually compiled for <i>termios</i>(7) and
often has a more complete set than <i>getty</i>.</p></td></tr>
</table>

<p style="margin-left:11%;">Normally only the speed flag is
required in the</p>

<p style="margin-left:34%;"><i>initial-flags</i>.
<i>getty</i> automatically sets the terminal to raw input
mode and takes care of the other flags. If the
&quot;&minus;s&quot; option is used with <i>mgetty</i>(1)
the speed setting is ignored. The <i>initial-flag</i>
settings remain in effect until <i>getty</i> executes
<i>login</i>(1).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="18%">


<p><i>final-flags</i></p></td>
<td width="5%"></td>
<td width="66%">


<p>These flags take the same values as the
<i>initial-flags</i> and are set just before <i>getty</i>
executes <i>login</i>. The speed flag is again required,
except with <i>mgetty</i> if the &minus;s flag was supplied.
Two other commonly specified <i>final-flags</i> are
<b><small>TAB3</small></b><small>,</small> so that tabs are
sent to the terminal as spaces, and
<b><small>HUPCL</small></b><small>,</small> so that the line
is hung up on the final close.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="18%">


<p><i>login-prompt</i></p></td>
<td width="5%"></td>
<td width="66%">


<p>This entire field is printed as the <i>login-prompt</i>.
Unlike the above fields where white space (a space, tab or
new-line) is ignored, they are included in the
<i>login-prompt</i> field. This field is ignored if the
&quot;&minus;p&quot; option has been specified to
<i>mgetty</i>(1).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="18%">


<p><i>next-label</i></p></td>
<td width="5%"></td>
<td width="66%">


<p>specifies the label to use if the user user types a
<i>&lt;break&gt;</i> character, or <i>getty</i> detects a
reception error. <i>Getty</i> searches for the entry with
<i>next-label</i> as its <i>label</i> field and set up the
terminal for those settings. Usually, a series of speeds are
linked together in this fashion, into a closed set; for
instance, <b>2400</b> linked to <b>1200</b>, which in turn
is linked to <b>300</b>, which finally is linked to
<b>2400</b>. <i>next-label</i> is ignored with
<i>mgetty</i>(1).</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Several
additional composite settings are available for
<i>initial-flags</i> and <i>final-flags</i>. The following
composite flags are supported by <i>mgetty</i> and are
usually supported by <i>getty</i>:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="18%">


<p style="margin-top: 1em"><b>SANE</b></p></td>
<td width="13%"></td>
<td width="58%">


<p style="margin-top: 1em">equivalent to &lsquo;&lsquo;stty
sane&rsquo;&rsquo;. (BRKINT, IGNPAR, ISTRIP, ICRNL, IXON,
OPOST, CS8, CREAD, ISIG, ICANON, ECHO, ECHOK)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="18%">


<p><b>ODDP</b></p></td>
<td width="13%"></td>
<td width="58%">


<p>Odd parity (CS7, PARENB, PARODD)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="18%">


<p><b>PARITY</b>,<b>EVENP</b></p></td>
<td width="13%"></td>
<td width="58%">


<p>even parity (CS7, PARENB)</p></td></tr>
</table>


<p style="margin-left:11%;"><b>-ODDP</b>,<b>-PARITY</b>,<b>-EVENP</b></p>

<p style="margin-left:42%;">no parity (resets PARENB,
PARODD, and sets CS8)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="17%">


<p><b>RAW</b></p></td>
<td width="14%"></td>
<td width="58%">


<p>raw I/O (no canonical processing) (turns off OPOST,
ICANON)</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="17%">


<p><b>-RAW</b>,<b>COOKED</b></p></td>
<td width="14%"></td>
<td width="58%">


<p>enable canonical processing (turns on OPOST, ICANON)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="17%">


<p><b>NL</b></p></td>
<td width="14%"></td>
<td width="58%">


<p>Ignore newlines. (ICRNL, ONLCR)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="17%">


<p><b>-NL</b></p></td>
<td width="14%"></td>
<td width="58%">


<p>Respect newlines (turns INLCR, IGNCR, ICRNL, ONLCR,
OCRNL, ONLRET off)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="17%">


<p><b>LCASE</b></p></td>
<td width="14%"></td>
<td width="58%">


<p>Ignore case - treat all as lowercase. (IUCLC, OLCUC,
XCASE) Is set if mgetty believes login is entirely
uppercase.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="17%">


<p><b>-LCASE</b></p></td>
<td width="14%"></td>
<td width="58%">


<p>Respect case (turns off IUCLC, OLCUC and XCASE)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="17%">


<p><b>TABS</b></p></td>
<td width="14%"></td>
<td width="58%">


<p>output tabs as tabs</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="17%">


<p><b>-TABS</b>,<b>TAB3</b></p></td>
<td width="14%"></td>
<td width="58%">


<p>output tabs as spaces</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="17%">


<p><b>EK</b></p></td>
<td width="14%"></td>
<td width="58%">


<p>Sets VERASE to &quot;#&quot; and VKILL to CKILL
respectively. (note that while many gettys default VERASE to
&quot;#&quot;. <i>mgetty</i> defaults VERASE to
backspace.)</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Additionally,
<i>mgetty</i> (but not <i>getty</i>) can set any of the
control characters listed in the <b>c_cc</b> termio(termios)
structure by the use of two tokens:</p>

<p style="margin-left:11%; margin-top: 1em">&lt;character
name&gt; &lt;value&gt;</p>

<p style="margin-left:11%; margin-top: 1em">Eg:</p>

<p style="margin-left:11%; margin-top: 1em">VERASE ^h</p>

<p style="margin-left:11%; margin-top: 1em">The value can
be set as &lsquo;&lsquo;^&lt;character&gt;&rsquo;&rsquo;,
&lsquo;&lsquo;\nnn&rsquo;&rsquo; or
&lsquo;&lsquo;\&lt;character&gt;&rsquo;&rsquo; (normal UNIX
\ escapes).</p>

<p style="margin-left:11%; margin-top: 1em">See the
<i>termio</i>(7) or <i>termios</i>(7) manual pages to a list
of which &lsquo;&lsquo;V&rsquo;&rsquo; variables can be
changed. Note that many of these can be changed in the c_cc
array, but won&rsquo;t have any effect.</p>

<p style="margin-left:11%; margin-top: 1em">If <i>getty</i>
is called without a second argument, the first entry of
<b>/etc/gettydefs</b> is used by <i>getty</i>, thus making
the first entry of <b>/etc/gettydefs</b> the default entry.
It is also used if <i>getty</i> cannot find the specified
<i>label</i>. <i>Mgetty</i> use a default label of
&lsquo;&lsquo;n&rsquo;&rsquo;, but this can be changed in
the configuration. If <b>/etc/gettydefs</b> itself is
missing, there is one entry built into the command which
brings up a terminal at <b>300</b> (configuration parameter
in <i>mgetty</i>) baud.</p>

<p style="margin-left:11%; margin-top: 1em">It is strongly
recommended that after making or modifying
<b>/etc/gettydefs</b>, it be run through <i>getty</i> with
the check option to be sure there are no errors.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
two lines show an example of 300/1200 baud toggle, which is
useful for dial-up ports:</p>

<p style="margin-left:22%; margin-top: 1em">1200# B1200
HUPCL # B1200 SANE IXANY TAB3 #login: #300 <br>
300# B300 HUPCL # B300 SANE IXANY TAB3 #login: #1200</p>

<p style="margin-left:11%; margin-top: 1em">The following
line shows a typical 9600 baud entry for a hard-wired
connection (not currently supported for <i>mgetty</i>):</p>

<p style="margin-left:22%; margin-top: 1em">9600# B9600 #
B9600 SANE IXANY IXANY ECHOE TAB3 #login: #9600</p>

<p style="margin-left:11%; margin-top: 1em">The following
line is a typical smart-modem setup, suitable for
<i>mgetty</i>:</p>

<p style="margin-left:22%; margin-top: 1em">19200mg# <br>
B19200 # <br>
B19200 SANE VERASE \b VINTR \003 HUPCL # <br>
\n\D \T \N Users @!login: #19200mg</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">/etc/gettydefs</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">mgetty(8),
getty(8), login(1), ioctl(2), termio(7), termios(7).</p>
<hr>
</body>
</html>
