<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 02:37:14 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>VIRT-CLONE</title>

</head>
<body>

<h1 align="center">VIRT-CLONE</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#GENERAL OPTIONS">GENERAL OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">virt&minus;clone
&minus; clone existing virtual machine images</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>virt-clone</b>
[ <small>OPTION</small> ]...</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>virt-clone</b>
is a command line tool for cloning existing virtual machine
images using the <tt>&quot;libvirt&quot;</tt> hypervisor
management library. It will copy the disk images of any
existing virtual machine, and define a new guest with an
identical virtual hardware configuration. Elements which
require uniqueness will be updated to avoid a clash between
old and new guests.</p>

<p style="margin-left:11%; margin-top: 1em">By default,
virt-clone will show an error if the necessary information
to clone the guest is not provided. The
&minus;&minus;auto&minus;clone option will generate all
needed input, aside from the source guest to clone.</p>

<p style="margin-left:11%; margin-top: 1em">Please note,
virt-clone does not change anything _inside_ the guest
<small>OS,</small> it only duplicates disks and does host
side changes. So things like changing passwords, changing
static <small>IP</small> address, etc are outside the scope
of this tool. For these types of changes, please see
<b>virt-sysprep</b>.</p>

<h2>GENERAL OPTIONS
<a name="GENERAL OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Most options
are not required. Minimum requirements are
&minus;&minus;original or &minus;&minus;original&minus;xml
(to specify the guest to clone), &minus;&minus;name, and
appropriate storage options via &minus;file. <b><br>
&minus;&minus;connect</b> <small>URI</small></p>

<p style="margin-left:17%;">Connect to a non-default
hypervisor. See <i>virt&minus;install</i>(1) for details</p>

<p style="margin-left:11%;"><b>&minus;o</b>
<small>ORIGINAL_GUEST</small> <b><br>
&minus;&minus;original</b> <small>ORIGINAL_GUEST</small></p>

<p style="margin-left:17%;">Name of the original guest to
be cloned. This guest must be shut off or paused since it is
not possible to safely clone active guests at this time.</p>


<p style="margin-left:11%;"><b>&minus;&minus;original&minus;xml</b>
<small>ORIGINAL_XML</small></p>

<p style="margin-left:17%;">Libvirt guest xml file to use
as the original guest. The guest does not need to be defined
on the libvirt connection. This takes the place of the
<tt>&quot;&minus;&minus;original&quot;</tt> parameter.</p>


<p style="margin-left:11%;"><b>&minus;&minus;auto&minus;clone</b></p>

<p style="margin-left:17%;">Generate a new guest name, and
paths for new storage.</p>

<p style="margin-left:17%; margin-top: 1em">An example or
possible generated output:</p>

<pre style="margin-left:17%; margin-top: 1em">  Original name        : MyVM
  Generated clone name : MyVM&minus;clone
  Original disk path   : /home/user/foobar.img
  Generated disk path  : /home/user/foobar&minus;clone.img</pre>


<p style="margin-left:17%; margin-top: 1em">If generated
names collide with existing VMs or storage, a number is
appended, such as foobar&minus;clone&minus;1.img, or
MyVM&minus;clone&minus;3.</p>

<p style="margin-left:11%;"><b>&minus;n</b>
<small>NAME</small> <b><br>
&minus;&minus;name</b> <small>NAME</small></p>

<p style="margin-left:17%;">Name of the new guest virtual
machine instance. This must be unique amongst all guests
known to the hypervisor connection, including those not
currently active.</p>

<p style="margin-left:11%;"><b>&minus;u</b>
<small>UUID</small> <b><br>
&minus;&minus;uuid</b> <small>UUID</small></p>

<p style="margin-left:17%;"><small>UUID</small> for the
guest; if none is given a random <small>UUID</small> will be
generated. If you specify <small>UUID,</small> you should
use a 32&minus;digit hexadecimal number. <small>UUID</small>
are intended to be unique across the entire data center, and
indeed world. Bear this in mind if manually specifying a
<small>UUID</small></p>

<p style="margin-left:11%;"><b>&minus;f</b>
<small>DISKFILE</small> <b><br>
&minus;&minus;file</b> <small>DISKFILE</small></p>

<p style="margin-left:17%;">Path to the file, disk
partition, or logical volume to use as the backing store for
the new guest&rsquo;s virtual disk. If the original guest
has multiple disks, this parameter must be repeated multiple
times, once per disk in the original virtual machine.</p>


<p style="margin-left:11%;"><b>&minus;&minus;force&minus;copy</b>
<small>TARGET</small></p>

<p style="margin-left:17%;">Force cloning the passed disk
target (&rsquo;hdc&rsquo;, &rsquo;sda&rsquo;, etc.). By
default, <tt>&quot;virt&minus;clone&quot;</tt> will skip
certain disks, such as those marked &rsquo;readonly&rsquo;
or &rsquo;shareable&rsquo;.</p>


<p style="margin-left:11%;"><b>&minus;&minus;nonsparse</b></p>

<p style="margin-left:17%;">Fully allocate the new storage
if the path being cloned is a sparse file. See
<i>virt&minus;install</i>(1) for more details on sparse vs.
nonsparse.</p>


<p style="margin-left:11%;"><b>&minus;&minus;preserve&minus;data</b></p>

<p style="margin-left:17%;">No storage is cloned: disk
images specific by &minus;&minus;file are preserved as is,
and referenced in the new clone <small>XML.</small> This is
useful if you want to clone a <small>VM XML</small>
template, but not the storage contents.</p>


<p style="margin-left:11%;"><b>&minus;&minus;reflink</b></p>

<p style="margin-left:17%;">When &minus;&minus;reflink is
specified, perform a lightweight copy. This is much faster
if source images and destination images are all on the same
btrfs filesystem. If <small>COW</small> copy is not
possible, then virt-clone fails.</p>

<p style="margin-left:11%;"><b>&minus;m</b>
<small>MAC</small> <b><br>
&minus;&minus;mac</b> <small>MAC</small></p>

<p style="margin-left:17%;">Fixed <small>MAC</small>
address for the guest; If this parameter is omitted, or the
value <tt>&quot;RANDOM&quot;</tt> is specified a suitable
address will be randomly generated. Addresses are applied
sequentially to the networks as they are listed in the
original guest <small>XML.</small></p>


<p style="margin-left:11%;"><b>&minus;&minus;print&minus;xml</b></p>

<p style="margin-left:17%;">Print the generated clone
<small>XML</small> and exit without cloning.</p>


<p style="margin-left:11%;"><b>&minus;&minus;replace</b></p>

<p style="margin-left:17%;">Shutdown and remove any
existing guest with the passed
<tt>&quot;&minus;&minus;name&quot;</tt> before cloning the
original guest.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;h</b></p></td>
<td width="86%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;&minus;help</b></p>

<p style="margin-left:17%;">Show the help message and
exit</p>


<p style="margin-left:11%;"><b>&minus;&minus;version</b></p>

<p style="margin-left:17%;">Show program&rsquo;s version
number and exit</p>

<p style="margin-left:11%;"><b>&minus;&minus;check</b></p>

<p style="margin-left:17%;">Enable or disable some
validation checks. See <i>virt&minus;install</i>(1) for more
details.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;q</b></p></td>
<td width="86%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;&minus;quiet</b></p>

<p style="margin-left:17%;">Suppress non-error output.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;d</b></p></td>
<td width="86%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;&minus;debug</b></p>

<p style="margin-left:17%;">Print debugging information to
the terminal when running the install process. The debugging
information is also stored in
<tt>&quot;~/.cache/virt&minus;manager/virt&minus;clone.log&quot;</tt>
even if this parameter is omitted.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Clone the guest
called <tt>&quot;demo&quot;</tt> on the default connection,
auto generating a new name and disk clone path.</p>

<pre style="margin-left:11%; margin-top: 1em">  # virt&minus;clone \
       &minus;&minus;original demo \
       &minus;&minus;auto&minus;clone</pre>


<p style="margin-left:11%; margin-top: 1em">Clone the guest
called <tt>&quot;demo&quot;</tt> which has a single disk to
copy</p>

<pre style="margin-left:11%; margin-top: 1em">  # virt&minus;clone \
       &minus;&minus;original demo \
       &minus;&minus;name newdemo \
       &minus;&minus;file /var/lib/xen/images/newdemo.img</pre>


<p style="margin-left:11%; margin-top: 1em">Clone a
<small>QEMU</small> guest with multiple disks</p>

<pre style="margin-left:11%; margin-top: 1em">  # virt&minus;clone \
       &minus;&minus;connect qemu:///system \
       &minus;&minus;original demo \
       &minus;&minus;name newdemo \
       &minus;&minus;file /var/lib/xen/images/newdemo.img \
       &minus;&minus;file /var/lib/xen/images/newdata.img</pre>


<p style="margin-left:11%; margin-top: 1em">Clone a guest
to a physical device which is at least as big as the
original guests disks. If the destination device is bigger,
the new guest can do a filesystem resize when it boots.</p>

<pre style="margin-left:11%; margin-top: 1em">  # virt&minus;clone \
       &minus;&minus;connect qemu:///system \
       &minus;&minus;original demo \
       &minus;&minus;name newdemo \
       &minus;&minus;file /dev/HostVG/DemoVM \
       &minus;&minus;mac 52:54:00:34:11:54</pre>


<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Please see
http://virt&minus;manager.org/page/BugReporting</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright (C)
Fujitsu Limited, Copyright (C) Red Hat, Inc, and various
contributors. This is free software. You may redistribute
copies of it under the terms of the <small>GNU</small>
General Public License
<tt>&quot;http://www.gnu.org/licenses/gpl.html&quot;</tt>.
There is <small>NO WARRANTY,</small> to the extent permitted
by law.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><tt>&quot;virt&minus;sysprep(1)&quot;</tt>,
<tt>virsh(1)</tt>,
<tt>&quot;virt&minus;install(1)&quot;</tt>,
<tt>&quot;virt&minus;manager(1)&quot;</tt>, the project
website
<tt>&quot;http://virt&minus;manager.org&quot;</tt></p>
<hr>
</body>
</html>
