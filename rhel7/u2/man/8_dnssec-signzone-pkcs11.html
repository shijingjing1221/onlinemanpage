<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 01:29:03 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>DNSSEC&minus;SIGNZONE</title>

</head>
<body>

<h1 align="center">DNSSEC&minus;SIGNZONE</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLE">EXAMPLE</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">dnssec&minus;signzone
&minus; DNSSEC zone signing tool</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>dnssec&minus;signzone</b>
[<b>&minus;a</b>] [<b>&minus;c&nbsp;</b><i>class</i>]
[<b>&minus;d&nbsp;</b><i>directory</i>] [<b>&minus;D</b>]
[<b>&minus;E&nbsp;</b><i>engine</i>]
[<b>&minus;e&nbsp;</b><i>end&minus;time</i>]
[<b>&minus;f&nbsp;</b><i>output&minus;file</i>]
[<b>&minus;g</b>] [<b>&minus;h</b>]
[<b>&minus;K&nbsp;</b><i>directory</i>]
[<b>&minus;k&nbsp;</b><i>key</i>]
[<b>&minus;L&nbsp;</b><i>serial</i>]
[<b>&minus;l&nbsp;</b><i>domain</i>]
[<b>&minus;i&nbsp;</b><i>interval</i>]
[<b>&minus;I&nbsp;</b><i>input&minus;format</i>]
[<b>&minus;j&nbsp;</b><i>jitter</i>]
[<b>&minus;N&nbsp;</b><i>soa&minus;serial&minus;format</i>]
[<b>&minus;o&nbsp;</b><i>origin</i>]
[<b>&minus;O&nbsp;</b><i>output&minus;format</i>]
[<b>&minus;P</b>] [<b>&minus;p</b>] [<b>&minus;R</b>]
[<b>&minus;r&nbsp;</b><i>randomdev</i>] [<b>&minus;S</b>]
[<b>&minus;s&nbsp;</b><i>start&minus;time</i>]
[<b>&minus;T&nbsp;</b><i>ttl</i>] [<b>&minus;t</b>]
[<b>&minus;u</b>] [<b>&minus;v&nbsp;</b><i>level</i>]
[<b>&minus;X&nbsp;</b><i>extended&nbsp;end&minus;time</i>]
[<b>&minus;x</b>] [<b>&minus;z</b>]
[<b>&minus;3&nbsp;</b><i>salt</i>]
[<b>&minus;H&nbsp;</b><i>iterations</i>] [<b>&minus;A</b>]
{zonefile} [key...]</p></td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>dnssec&minus;signzone</b>
signs a zone. It generates NSEC and RRSIG records and
produces a signed version of the zone. The security status
of delegations from the signed zone (that is, whether the
child zones are secure or not) is determined by the presence
or absence of a <i>keyset</i> file for each child zone.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">&minus;a</p>

<p style="margin-left:17%;">Verify all generated
signatures.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;c
<i>class</i></p>

<p style="margin-left:17%;">Specifies the DNS class of the
zone.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;C</p>

<p style="margin-left:17%;">Compatibility mode: Generate a
<i>keyset&minus;zonename</i> file in addition to
<i>dsset&minus;zonename</i> when signing a zone, for use by
older versions of <b>dnssec&minus;signzone</b>.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;d
<i>directory</i></p>

<p style="margin-left:17%;">Look for <i>dsset&minus;</i> or
<i>keyset&minus;</i> files in <b>directory</b>.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;D</p>

<p style="margin-left:17%;">Output only those record types
automatically managed by <b>dnssec&minus;signzone</b>, i.e.
RRSIG, NSEC, NSEC3 and NSEC3PARAM records. If smart signing
(<b>&minus;S</b>) is used, DNSKEY records are also included.
The resulting file can be included in the original zone file
with <b>$INCLUDE</b>. This option cannot be combined with
<b>&minus;O raw</b> or serial number updating.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;E
<i>engine</i></p>

<p style="margin-left:17%;">Uses a crypto hardware (OpenSSL
engine) for the crypto operations it supports, for instance
signing with private keys from a secure key store. When
compiled with PKCS#11 support it defaults to pkcs11; the
empty name resets it to no engine.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;g</p>

<p style="margin-left:17%;">Generate DS records for child
zones from <i>dsset&minus;</i> or <i>keyset&minus;</i> file.
Existing DS records will be removed.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;K
<i>directory</i></p>

<p style="margin-left:17%;">Key repository: Specify a
directory to search for DNSSEC keys. If not specified,
defaults to the current directory.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;k
<i>key</i></p>

<p style="margin-left:17%;">Treat specified key as a key
signing key ignoring any key flags. This option may be
specified multiple times.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;l
<i>domain</i></p>

<p style="margin-left:17%;">Generate a DLV set in addition
to the key (DNSKEY) and DS sets. The domain is appended to
the name of the records.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;s
<i>start&minus;time</i></p>

<p style="margin-left:17%;">Specify the date and time when
the generated RRSIG records become valid. This can be either
an absolute or relative time. An absolute start time is
indicated by a number in YYYYMMDDHHMMSS notation;
20000530144500 denotes 14:45:00 UTC on May 30th, 2000. A
relative start time is indicated by +N, which is N seconds
from the current time. If no <b>start&minus;time</b> is
specified, the current time minus 1 hour (to allow for clock
skew) is used.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;e
<i>end&minus;time</i></p>

<p style="margin-left:17%;">Specify the date and time when
the generated RRSIG records expire. As with
<b>start&minus;time</b>, an absolute time is indicated in
YYYYMMDDHHMMSS notation. A time relative to the start time
is indicated with +N, which is N seconds from the start
time. A time relative to the current time is indicated with
now+N. If no <b>end&minus;time</b> is specified, 30 days
from the start time is used as a default.
<b>end&minus;time</b> must be later than
<b>start&minus;time</b>.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;X
<i>extended end&minus;time</i></p>

<p style="margin-left:17%;">Specify the date and time when
the generated RRSIG records for the DNSKEY RRset will
expire. This is to be used in cases when the DNSKEY
signatures need to persist longer than signatures on other
records; e.g., when the private component of the KSK is kept
offline and the KSK signature is to be refreshed
manually.</p>

<p style="margin-left:17%; margin-top: 1em">As with
<b>start&minus;time</b>, an absolute time is indicated in
YYYYMMDDHHMMSS notation. A time relative to the start time
is indicated with +N, which is N seconds from the start
time. A time relative to the current time is indicated with
now+N. If no <b>extended end&minus;time</b> is specified,
the value of <b>end&minus;time</b> is used as the default.
(<b>end&minus;time</b>, in turn, defaults to 30 days from
the start time.) <b>extended end&minus;time</b> must be
later than <b>start&minus;time</b>.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;f
<i>output&minus;file</i></p>

<p style="margin-left:17%;">The name of the output file
containing the signed zone. The default is to append
<i>.signed</i> to the input filename. If
<b>output&minus;file</b> is set to &quot;&minus;&quot;, then
the signed zone is written to the standard output, with a
default output format of &quot;full&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;h</p>

<p style="margin-left:17%;">Prints a short summary of the
options and arguments to <b>dnssec&minus;signzone</b>.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;i
<i>interval</i></p>

<p style="margin-left:17%;">When a previously&minus;signed
zone is passed as input, records may be resigned. The
<b>interval</b> option specifies the cycle interval as an
offset from the current time (in seconds). If a RRSIG record
expires after the cycle interval, it is retained. Otherwise,
it is considered to be expiring soon, and it will be
replaced.</p>

<p style="margin-left:17%; margin-top: 1em">The default
cycle interval is one quarter of the difference between the
signature end and start times. So if neither
<b>end&minus;time</b> or <b>start&minus;time</b> are
specified, <b>dnssec&minus;signzone</b> generates signatures
that are valid for 30 days, with a cycle interval of 7.5
days. Therefore, if any existing RRSIG records are due to
expire in less than 7.5 days, they would be replaced.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;I
<i>input&minus;format</i></p>

<p style="margin-left:17%;">The format of the input zone
file. Possible formats are <b>&quot;text&quot;</b> (default)
and <b>&quot;raw&quot;</b>. This option is primarily
intended to be used for dynamic signed zones so that the
dumped zone file in a non&minus;text format containing
updates can be signed directly. The use of this option does
not make much sense for non&minus;dynamic zones.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;j
<i>jitter</i></p>

<p style="margin-left:17%;">When signing a zone with a
fixed signature lifetime, all RRSIG records issued at the
time of signing expires simultaneously. If the zone is
incrementally signed, i.e. a previously&minus;signed zone is
passed as input to the signer, all expired signatures have
to be regenerated at about the same time. The <b>jitter</b>
option specifies a jitter window that will be used to
randomize the signature expire time, thus spreading
incremental signature regeneration over time.</p>

<p style="margin-left:17%; margin-top: 1em">Signature
lifetime jitter also to some extent benefits validators and
servers by spreading out cache expiration, i.e. if large
numbers of RRSIGs don&rsquo;t expire at the same time from
all caches there will be less congestion than if all
validators need to refetch at mostly the same time.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;L
<i>serial</i></p>

<p style="margin-left:17%;">When writing a signed zone to
&rsquo;raw&rsquo; format, set the &quot;source serial&quot;
value in the header to the specified serial number. (This is
expected to be used primarily for testing purposes.)</p>

<p style="margin-left:11%; margin-top: 1em">&minus;n
<i>ncpus</i></p>

<p style="margin-left:17%;">Specifies the number of threads
to use. By default, one thread is started for each detected
CPU.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;N
<i>soa&minus;serial&minus;format</i></p>

<p style="margin-left:17%;">The SOA serial number format of
the signed zone. Possible formats are
<b>&quot;keep&quot;</b> (default),
<b>&quot;increment&quot;</b> and
<b>&quot;unixtime&quot;</b>.</p>


<p style="margin-left:23%; margin-top: 1em"><b>&quot;keep&quot;</b></p>

<p style="margin-left:29%;">Do not modify the SOA serial
number.</p>


<p style="margin-left:23%; margin-top: 1em"><b>&quot;increment&quot;</b></p>

<p style="margin-left:29%;">Increment the SOA serial number
using RFC 1982 arithmetics.</p>


<p style="margin-left:23%; margin-top: 1em"><b>&quot;unixtime&quot;</b></p>

<p style="margin-left:29%;">Set the SOA serial number to
the number of seconds since epoch.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;o
<i>origin</i></p>

<p style="margin-left:17%;">The zone origin. If not
specified, the name of the zone file is assumed to be the
origin.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;O
<i>output&minus;format</i></p>

<p style="margin-left:17%;">The format of the output file
containing the signed zone. Possible formats are
<b>&quot;text&quot;</b> (default) <b>&quot;full&quot;</b>,
which is text output in a format suitable for processing by
external scripts, and <b>&quot;raw&quot;</b> or
<b>&quot;raw=N&quot;</b>, which store the zone in a binary
format for rapid loading by <b>named</b>.
<b>&quot;raw=N&quot;</b> specifies the format version of the
raw zone file: if N is 0, the raw file can be read by any
version of <b>named</b>; if N is 1, the file can be read by
release 9.9.0 or higher. The default is 1.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;p</p>

<p style="margin-left:17%;">Use pseudo&minus;random data
when signing the zone. This is faster, but less secure, than
using real random data. This option may be useful when
signing large zones or when the entropy source is
limited.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;P</p>

<p style="margin-left:17%;">Disable post sign verification
tests.</p>

<p style="margin-left:17%; margin-top: 1em">The post sign
verification test ensures that for each algorithm in use
there is at least one non revoked self signed KSK key, that
all revoked KSK keys are self signed, and that all records
in the zone are signed by the algorithm. This option skips
these tests.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;R</p>

<p style="margin-left:17%;">Remove signatures from keys
that no longer exist.</p>

<p style="margin-left:17%; margin-top: 1em">Normally, when
a previously&minus;signed zone is passed as input to the
signer, and a DNSKEY record has been removed and replaced
with a new one, signatures from the old key that are still
within their validity period are retained. This allows the
zone to continue to validate with cached copies of the old
DNSKEY RRset. The <b>&minus;R</b> forces
<b>dnssec&minus;signzone</b> to remove all orphaned
signatures.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;r
<i>randomdev</i></p>

<p style="margin-left:17%;">Specifies the source of
randomness. If the operating system does not provide a
<i>/dev/random</i> or equivalent device, the default source
of randomness is keyboard input. <i>randomdev</i> specifies
the name of a character device or file containing random
data to be used instead of the default. The special value
<i>keyboard</i> indicates that keyboard input should be
used.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;S</p>

<p style="margin-left:17%;">Smart signing: Instructs
<b>dnssec&minus;signzone</b> to search the key repository
for keys that match the zone being signed, and to include
them in the zone if appropriate.</p>

<p style="margin-left:17%; margin-top: 1em">When a key is
found, its timing metadata is examined to determine how it
should be used, according to the following rules. Each
successive rule takes priority over the prior ones:</p>

<p style="margin-left:29%; margin-top: 1em">If no timing
metadata has been set for the key, the key is published in
the zone and used to sign the zone.</p>

<p style="margin-left:29%; margin-top: 1em">If the
key&rsquo;s publication date is set and is in the past, the
key is published in the zone.</p>

<p style="margin-left:29%; margin-top: 1em">If the
key&rsquo;s activation date is set and in the past, the key
is published (regardless of publication date) and used to
sign the zone.</p>

<p style="margin-left:29%; margin-top: 1em">If the
key&rsquo;s revocation date is set and in the past, and the
key is published, then the key is revoked, and the revoked
key is used to sign the zone.</p>

<p style="margin-left:29%; margin-top: 1em">If either of
the key&rsquo;s unpublication or deletion dates are set and
in the past, the key is NOT published or used to sign the
zone, regardless of any other metadata.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;T
<i>ttl</i></p>

<p style="margin-left:17%;">Specifies a TTL to be used for
new DNSKEY records imported into the zone from the key
repository. If not specified, the default is the TTL value
from the zone&rsquo;s SOA record. This option is ignored
when signing without <b>&minus;S</b>, since DNSKEY records
are not imported from the key repository in that case. It is
also ignored if there are any pre&minus;existing DNSKEY
records at the zone apex, in which case new records&rsquo;
TTL values will be set to match them, or if any of the
imported DNSKEY records had a default TTL value. In the
event of a a conflict between TTL values in imported keys,
the shortest one is used.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;t</p>

<p style="margin-left:17%;">Print statistics at
completion.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;u</p>

<p style="margin-left:17%;">Update NSEC/NSEC3 chain when
re&minus;signing a previously signed zone. With this option,
a zone signed with NSEC can be switched to NSEC3, or a zone
signed with NSEC3 can be switch to NSEC or to NSEC3 with
different parameters. Without this option,
<b>dnssec&minus;signzone</b> will retain the existing chain
when re&minus;signing.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;v
<i>level</i></p>

<p style="margin-left:17%;">Sets the debugging level.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;x</p>

<p style="margin-left:17%;">Only sign the DNSKEY RRset with
key&minus;signing keys, and omit signatures from
zone&minus;signing keys. (This is similar to the
<b>dnssec&minus;dnskey&minus;kskonly yes;</b> zone option in
<b>named</b>.)</p>

<p style="margin-left:11%; margin-top: 1em">&minus;z</p>

<p style="margin-left:17%;">Ignore KSK flag on key when
determining what to sign. This causes KSK&minus;flagged keys
to sign all records, not just the DNSKEY RRset. (This is
similar to the <b>update&minus;check&minus;ksk no;</b> zone
option in <b>named</b>.)</p>

<p style="margin-left:11%; margin-top: 1em">&minus;3
<i>salt</i></p>

<p style="margin-left:17%;">Generate an NSEC3 chain with
the given hex encoded salt. A dash (<i>salt</i>) can be used
to indicate that no salt is to be used when generating the
NSEC3 chain.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;H
<i>iterations</i></p>

<p style="margin-left:17%;">When generating an NSEC3 chain,
use this many interations. The default is 10.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;A</p>

<p style="margin-left:17%;">When generating an NSEC3 chain
set the OPTOUT flag on all NSEC3 records and do not generate
NSEC3 records for insecure delegations.</p>

<p style="margin-left:17%; margin-top: 1em">Using this
option twice (i.e., <b>&minus;AA</b>) turns the OPTOUT flag
off for all records. This is useful when using the
<b>&minus;u</b> option to modify an NSEC3 chain which
previously had OPTOUT set.</p>

<p style="margin-left:11%; margin-top: 1em">zonefile</p>

<p style="margin-left:17%;">The file containing the zone to
be signed.</p>

<p style="margin-left:11%; margin-top: 1em">key</p>

<p style="margin-left:17%;">Specify which keys should be
used to sign the zone. If no keys are specified, then the
zone will be examined for DNSKEY records at the zone apex.
If these are found and there are matching private keys, in
the current directory, then these will be used for
signing.</p>

<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
command signs the <b>example.com</b> zone with the DSA key
generated by <b>dnssec&minus;keygen</b>
(Kexample.com.+003+17247). Because the <b>&minus;S</b>
option is not being used, the zone&rsquo;s keys must be in
the master file (<i>db.example.com</i>). This invocation
looks for <i>dsset</i> files, in the current directory, so
that DS records can be imported from them
(<b>&minus;g</b>).</p>

<p style="margin-left:17%; margin-top: 1em">%
dnssec&minus;signzone &minus;g &minus;o example.com
db.example.com \ <br>
Kexample.com.+003+17247 <br>
db.example.com.signed <br>
%</p>

<p style="margin-left:11%; margin-top: 1em">In the above
example, <b>dnssec&minus;signzone</b> creates the file
<i>db.example.com.signed</i>. This file should be referenced
in a zone statement in a <i>named.conf</i> file.</p>

<p style="margin-left:11%; margin-top: 1em">This example
re&minus;signs a previously signed zone with default
parameters. The private keys are assumed to be in the
current directory.</p>

<p style="margin-left:17%; margin-top: 1em">% cp
db.example.com.signed db.example.com <br>
% dnssec&minus;signzone &minus;o example.com db.example.com
<br>
db.example.com.signed <br>
%</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>dnssec&minus;keygen</b>(8),
BIND 9 Administrator Reference Manual, RFC 4033.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Internet
Systems Consortium</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
&copy; 2004&minus;2009, 2011 Internet Systems Consortium,
Inc. (&quot;ISC&quot;) <br>
Copyright &copy; 2000&minus;2003 Internet Software
Consortium.</p>
<hr>
</body>
</html>
