<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 02:16:30 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SZ</title>

</head>
<body>

<h1 align="center">SZ</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#SECURITY">SECURITY</a><br>
<a href="#ENVIRONMENT">ENVIRONMENT</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#ERROR MESSAGES">ERROR MESSAGES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#VMS VERSION">VMS VERSION</a><br>
<a href="#FILES">FILES</a><br>
<a href="#TESTING FEATURE">TESTING FEATURE</a><br>
<a href="#BUGS">BUGS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">sx, sb, sz
&minus; XMODEM, YMODEM, ZMODEM file send</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">sz
[&minus;<b>+8abdefkLlNnopqTtuvyY</b>] <i>file ...</i> <br>
sb [&minus;<b>adfkqtuv</b>] <i>file ...</i> <br>
sx [&minus;<b>akqtuv</b>] <i>file</i> <br>
sz [&minus;<b>oqtv</b>] <b>-c COMMAND</b> <br>
sz [&minus;<b>oqtv</b>] <b>-i COMMAND</b> <br>
sz -TT</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Sz</b> uses
the ZMODEM, YMODEM or XMODEM error correcting protocol to
send one or more files over a dial-in serial port to a
variety of programs running under PC-DOS, CP/M, Unix, VMS,
and other operating systems.</p>

<p style="margin-left:11%; margin-top: 1em">While <i>rz</i>
is smart enough to be called from <i>cu(1),</i> very few
versions of <i>cu(1)</i> are smart enough to allow <i>sz</i>
to work properly. Unix flavors of Professional-YAM are
available for such dial-out application.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Sz</b> sends
one or more files with ZMODEM protocol.</p>

<p style="margin-left:11%; margin-top: 1em">ZMODEM greatly
simplifies file transfers compared to XMODEM. In addition to
a friendly user interface, ZMODEM provides Personal Computer
and other users an efficient, accurate, and robust file
transfer method.</p>

<p style="margin-left:11%; margin-top: 1em">ZMODEM provides
complete <b>END-TO-END</b> data integrity between
application programs. ZMODEM&rsquo;s 32 bit CRC catches
errors that sneak into even the most advanced networks.</p>

<p style="margin-left:11%; margin-top: 1em">Advanced file
management features include AutoDownload (Automatic file
Download initiated without user intervention), Display of
individual and total file lengths and transmission time
estimates, Crash Recovery, selective file transfers, and
preservation of exact file date and length.</p>

<p style="margin-left:11%; margin-top: 1em">Output from
another program may be piped to <b>sz</b> for transmission
by denoting standard input with &quot;-&quot;:</p>

<p align="center">ls -l | sz - The program output is
transmitted with the filename sPID.sz where PID is the
process ID of the <b>sz</b> program. If the environment
variable <b>ONAME</b> is set, that is used instead. In this
case, the Unix command: <br>
ls -l | ONAME=con sz -ay - will send a &quot;file&quot; to
the PC-DOS console display. The <b>-y</b> option instructs
the receiver to open the file for writing unconditionally.
The <b>-a</b> option causes the receiver to convert Unix
newlines to PC-DOS carriage returns and linefeeds.</p>

<p style="margin-top: 1em"><b>Sb</b> batch sends one or
more files with YMODEM or ZMODEM protocol. The initial
ZMODEM initialization is not sent. When requested by the
receiver, <b>sb</b> supports <b>YMODEM-g</b> with
&quot;cbreak&quot; tty mode, XON/XOFF flow control, and
interrupt character set to CAN (^X). <b>YMODEM-g</b>
(Professional-YAM <b>g</b> option) increases throughput over
error free channels (direct connection, X.PC, etc.) by not
acknowledging each transmitted sector.</p>

<p style="margin-top: 1em">On <small>Unix</small> systems,
additional information about the file is transmitted. If the
receiving program uses this information, the transmitted
file length controls the exact number of bytes written to
the output dataset, and the modify time and file mode are
set accordingly.</p>

<p style="margin-top: 1em"><b>Sx</b> sends a single
<i>file</i> with <b>XMODEM</b> or <b>XMODEM-1k</b> protocol
(sometimes incorrectly called &quot;ymodem&quot;). The user
must supply the file name to both sending and receiving
programs.</p>

<p style="margin-top: 1em">If <b>sz</b> is invoked with
$SHELL set and if that variable contains the string
<i>rsh</i> , <i>rbash</i> or <i>rksh</i> (restricted shell),
<b>sz</b> operates in restricted mode. Restricted mode
restricts pathnames to the current directory and PUBDIR
(usually /usr/spool/uucppublic) and/or subdirectories
thereof.</p>

<p style="margin-top: 1em">The fourth form sends a single
COMMAND to a ZMODEM receiver for execution. <b>Sz</b> exits
with the COMMAND return value. If COMMAND includes spaces or
characters special to the shell, it must be quoted.</p>

<p style="margin-top: 1em">The fifth form sends a single
COMMAND to a ZMODEM receiver for execution. <b>Sz</b> exits
as soon as the receiver has correctly received the command,
before it is executed.</p>

<p style="margin-top: 1em">The sixth form (sz -TT) attempts
to output all 256 code combinations to the terminal. In you
are having difficulty sending files, this command lets you
see which character codes are being eaten by the operating
system.</p>

<p style="margin-top: 1em">If <b>sz</b> is invoked with
stdout and stderr to different datasets, Verbose is set to
2, causing frame by frame progress reports to stderr. This
may be disabled with the <b>q</b> option.</p>

<p style="margin-top: 1em">The meanings of the available
options are: <b><br>
-+, --append</b></p>

<p style="margin-left:22%;">Instruct the receiver to append
transmitted data to an existing file (ZMODEM only).</p>

<p style="margin-left:11%;"><b>-2, --twostop</b></p>

<p style="margin-left:22%;">use two stop bits (if
possible). Do not use this unless you know what you are
doing.</p>

<p style="margin-left:11%;"><b>-8, --try-8k</b></p>

<p style="margin-left:22%;">Try to go up to 8KB blocksize.
This is incompatible with standard zmodem, but a common
extension in the bbs world. (ZMODEM only).</p>

<p style="margin-left:11%;"><b>--start-8k</b></p>

<p style="margin-left:22%;">Start with 8KB blocksize. Like
--try-8k.</p>

<p style="margin-left:11%;"><b>-a, --ascii</b></p>

<p style="margin-left:22%;">Convert NL characters in the
transmitted file to CR/LF. This is done by the sender for
XMODEM and YMODEM, by the receiver for ZMODEM.</p>

<p style="margin-left:11%;"><b>-b, --binary</b></p>

<p style="margin-left:22%;">(ZMODEM) Binary override:
transfer file without any translation.</p>

<p style="margin-left:11%;"><b>-B NUMBER, --bufsize
NUMBER</b></p>

<p style="margin-left:22%;">Use a readbuffer of
<b>NUMBER</b> bytes. Default is 16384, which should be
enough for most situations. If you have a slow machine or a
bad disk interface or suffer from other hardware problems
you might want to increase the buffersize. <b>-1</b> or
<b>auto</b> use a buffer large enough to buffer the whole
file. Be careful with this option - things normally get
worse, not better, if the machine starts to swap.</p>

<p style="margin-left:22%; margin-top: 1em">Using this
option turns of memory mapping of the input file. This
increases memory and CPU usage.</p>

<p style="margin-left:11%;"><b>-c COMMAND, --command
COMMAND</b></p>

<p style="margin-left:22%;">Send COMMAND to the receiver
for execution, return with COMMAND&acute;s exit status.</p>

<p style="margin-left:11%;"><b>-C N, --command-tries
N</b></p>

<p style="margin-left:22%;">Retry to send command N times
(default: 11).</p>

<p style="margin-left:11%;"><b>-d, --dot-to-slash</b></p>

<p style="margin-left:22%;">Change all instances of
&quot;.&quot; to &quot;/&quot; in the transmitted pathname.
Thus, C.omenB0000 (which is unacceptable to MSDOS or CP/M)
is transmitted as C/omenB0000. If the resultant filename has
more than 8 characters in the stem, a &quot;.&quot; is
inserted to allow a total of eleven.</p>

<p style="margin-left:22%; margin-top: 1em">This option
enables the <b>--full-path</b> option.</p>

<p style="margin-left:11%;"><b>--delay-startup N</b></p>

<p style="margin-left:22%;">Wait <b>N</b> seconds before
doing anything.</p>

<p style="margin-left:11%;"><b>-e, --escape</b></p>

<p style="margin-left:22%;">Escape all control characters;
normally XON, XOFF, DLE, CR-@-CR, and Ctrl-X are
escaped.</p>

<p style="margin-left:11%;">Force the sender to rename the
new file if a file with the same</p>

<p style="margin-left:22%;">name already exists.</p>

<p style="margin-left:11%;"><b>-f, --full-path</b></p>

<p style="margin-left:22%;">Send Full pathname. Normally
directory prefixes are stripped from the transmitted
filename.</p>

<p style="margin-left:22%; margin-top: 1em">This is also
turned on with to <b>--dot-to-slash</b> option.</p>

<p style="margin-left:11%;"><b>-h, --help</b></p>

<p style="margin-left:22%;">give help.</p>

<p style="margin-left:11%;"><b>-i COMMAND,
--immediate-command COMMAND</b></p>

<p style="margin-left:22%;">Send COMMAND to the receiver
for execution, return immediately upon the receiving
program&rsquo;s successful reception of the command.</p>

<p style="margin-left:11%;"><b>-k, --1k</b></p>

<p style="margin-left:22%;">(XMODEM/YMODEM) Send files
using 1024 byte blocks rather than the default 128 byte
blocks. 1024 byte packets speed file transfers at high bit
rates. (ZMODEM streams the data for the best possible
throughput.)</p>

<p style="margin-left:11%;"><b>-L N, --packetlen N</b></p>

<p style="margin-left:22%;">Use ZMODEM sub-packets of
length N. A larger N (32 &lt;= N &lt;= 1024) gives slightly
higher throughput, a smaller N speeds error recovery. The
default is 128 below 300 baud, 256 above 300 baud, or 1024
above 2400 baud.</p>

<p style="margin-left:11%;"><b>-m N, --min-bps N</b></p>

<p style="margin-left:22%;">Stop transmission if BPS-Rate
(Bytes Per Second) falls below N for a certain time (see
--min-bps-time option).</p>

<p style="margin-left:11%;"><b>-M N, --min-bps-time</b></p>

<p style="margin-left:22%;">Used together with --min-bps.
Default is 120 (seconds).</p>

<p style="margin-left:11%;"><b>-l N, --framelen N</b></p>

<p style="margin-left:22%;">Wait for the receiver to
acknowledge correct data every <b>N</b> (32 &lt;= N &lt;=
1024) characters. This may be used to avoid network overrun
when XOFF flow control is lacking.</p>

<p style="margin-left:11%;"><b>-n, --newer</b></p>

<p style="margin-left:22%;">(ZMODEM) Send each file if
destination file does not exist. Overwrite destination file
if source file is newer than the destination file.</p>

<p style="margin-left:11%;"><b>-N,
--newer-or-longer</b></p>

<p style="margin-left:22%;">(ZMODEM) Send each file if
destination file does not exist. Overwrite destination file
if source file is newer or longer than the destination
file.</p>

<p style="margin-left:11%;"><b>-o, --16-bit-crc</b></p>

<p style="margin-left:22%;">(ZMODEM) Disable automatic
selection of 32 bit CRC.</p>

<p style="margin-left:11%;"><b>-O,
--disable-timeouts</b></p>

<p style="margin-left:22%;">Disable read timeout handling.
This makes lsz hang if the other side doesn&rsquo;t send
anything, but increases performance (not much) and decreases
system load (reduces number of system calls by about 50
percent).</p>

<p style="margin-left:22%; margin-top: 1em">Use this option
with care.</p>

<p style="margin-left:11%;"><b>-p, --protect</b></p>

<p style="margin-left:22%;">(ZMODEM) Protect existing
destination files by skipping transfer if the destination
file exists.</p>

<p style="margin-left:11%;"><b>-q, --quiet</b></p>

<p style="margin-left:22%;">Quiet suppresses verbosity.</p>

<p style="margin-left:11%;"><b>-R, --restricted</b></p>

<p style="margin-left:22%;">Restricted mode: restricts
pathnames to the current directory and PUBDIR (usually
/usr/spool/uucppublic) and/or subdirectories thereof.</p>

<p style="margin-left:11%;"><b>-r, --resume</b></p>

<p style="margin-left:22%;">(ZMODEM) Resume interrupted
file transfer. If the source file is longer than the
destination file, the transfer commences at the offset in
the source file that equals the length of the destination
file.</p>

<p style="margin-left:11%;"><b>-s HH:MM, --stop-at
HH:MM</b></p>

<p style="margin-left:22%;">Stop transmission at <b>HH</b>
hours, <b>MM</b> minutes. Another variant, using <b>+N</b>
instead of <b>HH:MM,</b> stops transmission in <b>N</b>
seconds.</p>

<p style="margin-left:11%;"><b>-S, --timesync</b></p>

<p style="margin-left:22%;">enable timesync protocol
support. See timesync.doc for further information.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
incompatible with standard zmodem. Use it with care.</p>

<p style="margin-left:11%;"><b>--syslog[=off]</b></p>

<p style="margin-left:22%;">turn syslogging on or off. the
default is set at configure time. This option is ignored if
no syslog support is compiled in.</p>

<p style="margin-left:11%;"><b>-t TIM, --timeout
TIM</b></p>

<p style="margin-left:22%;">Change timeout to <i>TIM</i>
tenths of seconds.</p>

<p style="margin-left:11%;"><b>-T, --turbo</b></p>

<p style="margin-left:22%;">Do not escape certain
characters (^P, ^P|0x80, telenet escape sequence [CR + @]).
This improves performance by about 1 percent and
shouldn&rsquo;t hurt in the normal case (but be careful - ^P
might be useful if connected through a terminal server).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>--tcp</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>Try to initiate a TCP/IP connection. lsz will ask the
receiving zmodem to open a TCP/IP connection. All
handshaking (which address / port to use) will be done by
the zmodem programs.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">You will
normally not want to use this option as lrzsz is the only
zmodem which understands what to do (private extension). You
might want to use this option if the two programs are
connected (stdin/out) over a slow or bad (not 8bit clean)
network connection.</p>

<p style="margin-left:22%; margin-top: 1em">Use of this
option imposes a security risk, somebody else could connect
to the port in between. See <b>SECURITY</b> for details.</p>

<p style="margin-left:11%;"><b>--tcp-client
ADDRESS:PORT</b></p>

<p style="margin-left:22%;">Act as a tcp/ip client: Connect
to the given port.</p>

<p style="margin-left:22%; margin-top: 1em">See
<b>--tcp-server</b> for more information.</p>

<p style="margin-left:11%;"><b>--tcp-server</b></p>

<p style="margin-left:22%;">Act as a server: Open a socket,
print out what to do, wait for connection.</p>

<p style="margin-left:22%; margin-top: 1em">You will
normally not want to use this option as lrzsz is the only
zmodem which understands what to do (private extension). You
might want to use this if you have to use zmodem (for which
reason whatever), and cannot use the <b>--tcp</b> option of
<i>lsz</i> (perhaps because your telnet doesn&rsquo;t allow
to spawn a local program with stdin/stdout connected to the
remote side).</p>

<p style="margin-left:22%; margin-top: 1em">If you use this
option you have to start <i>lsz</i> with the <b>--tcp-client
ADDRESS:PORT</b> option. <i>lrz will print the address and
port on startup.</i></p>

<p style="margin-left:22%; margin-top: 1em">Use of this
option imposes a security risk, somebody else could connect
to the port in between. See <b>SECURITY</b> for details.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-u</b></p></td>
<td width="8%"></td>
<td width="70%">


<p>Unlink the file after successful transmission.</p></td>
<td width="8%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>-U, --unrestrict</b></p>

<p style="margin-left:22%;">Turn off restricted mode (this
is not possible if running under a restricted shell).</p>

<p style="margin-left:11%;"><b>-w N, --windowsize N</b></p>

<p style="margin-left:22%;">Limit the transmit window size
to N bytes (ZMODEM).</p>

<p style="margin-left:11%;"><b>-v, --verbose</b></p>

<p style="margin-left:22%;">Verbose output to stderr. More
v&rsquo;s generate more output.</p>

<p style="margin-left:11%;"><b>-X, --xmodem</b></p>

<p style="margin-left:22%;">use XMODEM protocol.</p>

<p style="margin-left:11%;"><b>-y, --overwrite</b></p>

<p style="margin-left:22%;">Instruct a ZMODEM receiving
program to overwrite any existing file with the same
name.</p>

<p style="margin-left:11%;"><b>-Y,
--overwrite-or-skip</b></p>

<p style="margin-left:22%;">Instruct a ZMODEM receiving
program to overwrite any existing file with the same name,
and to skip any source files that do have a file with the
same pathname on the destination system.</p>

<p style="margin-left:11%;"><b>--ymodem</b></p>

<p style="margin-left:22%;">use ZMODEM protocol.</p>

<p style="margin-left:11%;"><b>-Z, --zmodem</b></p>

<p style="margin-left:22%;">use ZMODEM protocol.</p>

<h2>SECURITY
<a name="SECURITY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Restricted mode
restricts pathnames to the current directory and PUBDIR
(usually /var/spool/uucppublic) and/or subdirectories
thereof, and disables remote command execution.</p>

<p style="margin-left:11%; margin-top: 1em">Restricted mode
is entered if the <b>R</b> option is given or if lsz detects
that it runs under a restricted shell or if the environment
variable ZMODEM_RESTRICTED is found.</p>

<p style="margin-left:11%; margin-top: 1em">Restricted mode
can be turned of with the <b>U</b> option if not running
under a restricted shell. <br>
Use of the</p>

<p style="margin-left:22%;"><b>--tcp-client</b> or
<b>--tcp-server</b> options imposes a security risk, as
somebody else could connect to the port before you do it,
and grab your data. If there&rsquo;s strong demand for a
more secure mode i might introduce some sort of password
challenge.</p>

<h2>ENVIRONMENT
<a name="ENVIRONMENT"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>ZNULLS</b></p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">may be used to specify the
number of nulls to send before a ZDATA frame.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>SHELL</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>lsz recognizes a restricted shell if this variable
includes <i>rsh</i> or <i>rksh</i></p></td></tr>
</table>

<p style="margin-left:11%;"><b>ZMODEM_RESTRICTED</b></p>

<p style="margin-left:22%;">lrz enters restricted mode if
the variable is set.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>TMPDIR</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>If this environment variable is set its content is used
as the directory to place in the answer file to a
<b>timesync</b> request. <b>TMP</b> Used instead of TMPDIR
if TMPDIR is not set. If neither TMPDIR nor TMP is set /tmp
will be used.</p></td></tr>
</table>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>ZMODEM File
Transfer</b> (Unix to DSZ/ZCOMM/Professional-YAM) <b><br>
% sz &minus;a *.c</b> <br>
This single command transfers all .c files in the current
Unix directory with conversion (<b>&minus;a</b>) to end of
line conventions appropriate to the receiving environment.
With ZMODEM AutoDownload enabled, Professional-YAM and ZCOMM
will automatically receive the files after performing a
security check.</p>

<p style="margin-left:11%; margin-top: 1em"><b>% sz
&minus;Yan *.c *.h</b> <br>
Send only the .c and .h files that exist on both systems,
and are newer on the sending system than the corresponding
version on the receiving system, converting Unix to DOS text
format. <b><br>
$ sz -\Yan file1.c file2.c file3.c foo.h baz.h</b> &reg;(for
VMS)</p>

<p style="margin-left:11%; margin-top: 1em"><b>ZMODEM
Command Download</b> (Unix to Professional-YAM) <br>
cpszall:all <br>
sz &minus;c &quot;c:;cd /yam/dist&quot; <br>
sz &minus;ya $(YD)/*.me <br>
sz &minus;yqb y*.exe <br>
sz &minus;c &quot;cd /yam&quot; <br>
sz &minus;i &quot;!insms&quot; <br>
This Makefile fragment uses <b>sz</b> to issue commands to
Professional-YAM to change current disk and directory. Next,
<b>sz</b> transfers the <i>.me</i> files from the $YD
directory, commanding the receiver to overwrite the old
files and to convert from Unix end of line conventions to
PC-DOS conventions. The third line transfers some
<i>.exe</i> files. The fourth and fifth lines command
Pro-YAM to change directory and execute a PC-DOS batch file
<i>insms .</i> Since the batch file takes considerable time,
the <b>&minus;i</b> form is used to allow <b>sz</b> to exit
immediately.</p>

<p style="margin-left:11%; margin-top: 1em"><b>XMODEM File
Transfer</b> (Unix to Crosstalk) <br>
% <b>sx &minus;a foo.c <br>
ESC <br>
rx foo.c</b> <br>
The above three commands transfer a single file from Unix to
a PC and Crosstalk with <i>sz</i> translating Unix newlines
to DOS CR/LF. This combination is much slower and far less
reliable than ZMODEM.</p>

<h2>ERROR MESSAGES
<a name="ERROR MESSAGES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">&quot;Caught
signal 99&quot; indicates the program was not properly
compiled, refer to &quot;bibi(99)&quot; in rbsb.c for
details.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">rz(omen),
ZMODEM.DOC, YMODEM.DOC, Professional-YAM, crc(omen),
sq(omen), todos(omen), tocpm(omen), tomac(omen),
yam(omen)</p>

<p style="margin-left:11%; margin-top: 1em">Compile time
options required for various operating systems are described
in the source file.</p>

<h2>VMS VERSION
<a name="VMS VERSION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The VMS version
does not support wild cards. Because of VMS DCL, upper case
option letters muse be represented by \ proceeding the
letter.</p>

<p style="margin-left:11%; margin-top: 1em">The current VMS
version does not support XMODEM, XMODEM-1k, or YMODEM.</p>

<p style="margin-left:11%; margin-top: 1em">VMS C Standard
I/O and RMS may interact to modify the file contents.</p>

<h2>FILES
<a name="FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">32 bit CRC code
courtesy Gary S. Brown.</p>

<p style="margin-left:11%; margin-top: 1em">sz.c, crctab.c,
rbsb.c, zm.c, zmodem.h Unix source files</p>

<p style="margin-left:11%; margin-top: 1em">sz.c, crctab.c,
vrzsz.c, zm.c, zmodem.h, vmodem.h, vvmodem.c, VMS source
files.</p>

<p style="margin-left:11%; margin-top: 1em">/tmp/szlog
stores debugging output (sz -vv) (szlog on VMS).</p>

<h2>TESTING FEATURE
<a name="TESTING FEATURE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The command
&quot;sz -T file&quot; exercises the <b>Attn</b> sequence
error recovery by commanding errors with unterminated
packets. The receiving program should complain five times
about binary data packets being too long. Each time
<b>sz</b> is interrupted, it should send a ZDATA header
followed by another defective packet. If the receiver does
not detect five long data packets, the <b>Attn</b> sequence
is not interrupting the sender, and the <b>Myattn</b> string
in <b>sz.c</b> must be modified.</p>

<p style="margin-left:11%; margin-top: 1em">After 5
packets, <b>sz</b> stops the &quot;transfer&quot; and prints
the total number of characters &quot;sent&quot; (Tcount).
The difference between Tcount and 5120 represents the number
of characters stored in various buffers when the Attn
sequence is generated.</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Calling
<i>sz</i> from most versions of cu(1) doesn&rsquo;t work
because cu&rsquo;s receive process fights <i>sz</i> for
characters from the modem.</p>

<p style="margin-left:11%; margin-top: 1em">On at least one
BSD system, sz would hang or exit when it got within a few
kilobytes of the end of file. Using the &quot;-w 8192&quot;
flag fixed the problem. The real cause is unknown, perhaps a
bug in the kernel TTY output routines.</p>

<p style="margin-left:11%; margin-top: 1em">Programs that
do not properly implement the specified file transfer
protocol may cause <i>sz</i> to &quot;hang&quot; the port
for a minute or two. This problem is corrected by using
ZCOMM, Pro-YAM, or other program with a correct
implementation of the specified protocol.</p>

<p style="margin-left:11%; margin-top: 1em">Many programs
claiming to support YMODEM only support XMODEM with 1k
blocks, and they often don&rsquo;t get that quite right.</p>

<p style="margin-left:11%; margin-top: 1em">XMODEM
transfers add up to 127 garbage bytes per file. XMODEM-1k
and YMODEM-1k transfers use 128 byte blocks to avoid extra
padding.</p>

<p style="margin-left:11%; margin-top: 1em">YMODEM programs
use the file length transmitted at the beginning of the
transfer to prune the file to the correct length; this may
cause problems with source files that grow during the course
of the transfer. This problem does not pertain to ZMODEM
transfers, which preserve the exact file length
unconditionally.</p>

<p style="margin-left:11%; margin-top: 1em">Most ZMODEM
options are merely passed to the receiving program; some do
not implement all these options.</p>

<p style="margin-left:11%; margin-top: 1em">Circular
buffering and a ZMODEM sliding window should be used when
input is from pipes instead of acknowledging frames each
1024 bytes. If no files can be opened, <b>sz</b> sends a
ZMODEM command to echo a suitable complaint; perhaps it
should check for the presence of at least one accessible
file before getting hot and bothered. The test mode leaves a
zero length file on the receiving system.</p>

<p style="margin-left:11%; margin-top: 1em">A few high
speed modems have a firmware bug that drops characters when
the direction of high speed transmission is reversed. The
environment variable ZNULLS may be used to specify the
number of nulls to send before a ZDATA frame. Values of 101
for a 4.77 MHz PC and 124 for an AT are typical.</p>
<hr>
</body>
</html>
