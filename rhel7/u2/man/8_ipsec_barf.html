<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 01:50:31 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>IPSEC_BARF</title>

</head>
<body>

<h1 align="center">IPSEC_BARF</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#FILES">FILES</a><br>
<a href="#HISTORY">HISTORY</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">ipsec_barf
&minus; spew out collected IPsec debugging information</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="57%">


<p style="margin-top: 1em"><b>ipsec</b> <i>barf</i>
[&minus;&minus;short&nbsp;&minus;&minus;maxlines&nbsp;<i>&lt;100&gt;</i>]</p> </td>
<td width="32%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>Barf</i>
outputs (on standard output) a collection of debugging
information (contents of files, selections from logs, etc.)
related to the IPsec encryption/authentication system. It is
primarily a convenience for remote debugging, a single
command which packages up (and labels) all information that
might be relevant to diagnosing a problem in IPsec.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>&minus;&minus;short</b> option limits the length of the
log portion of <i>barf</i>'s output, which can otherwise be
extremely voluminous if debug logging is turned on.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;maxlines
&lt;100&gt;</b> option sets the length of some bits of
information, currently netstat &minus;rn. Useful on boxes
where the routing table is thousands of lines long. Default
is 100.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Barf</i>
censors its output, replacing keys and secrets with brief
checksums to avoid revealing sensitive information.</p>

<p style="margin-left:11%; margin-top: 1em">Beware that the
output of both commands is aimed at humans, not programs,
and the output format is subject to change without
warning.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Barf</i> has
to figure out which files in /var/log contain the IPsec log
messages. It looks for KLIPS and general log messages first
in <i>messages</i> and <i>syslog</i>, and for Pluto messages
first in <i>secure</i>, <i>auth.log</i>, and <i>debug</i>.
In both cases, if it does not find what it is looking for in
one of those &ldquo;likely&rdquo; places, it will resort to
a brute&minus;force search of most (non&minus;compressed)
files in /var/log.</p>

<h2>FILES
<a name="FILES"></a>
</h2>


<p style="margin-left:17%; margin-top: 1em">/proc/net/*
<br>
/var/log/* <br>
/etc/ipsec.conf <br>
/etc/ipsec.secrets</p>

<h2>HISTORY
<a name="HISTORY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Written for the
Linux FreeS/WAN project
&lt;<b><font color="#0000FF">http://www.freeswan.org</font></b><font color="#000000">&gt;
by Henry Spencer.</font></p>

<h2>BUGS
<a name="BUGS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><i>Barf</i>
uses heuristics to try to pick relevant material out of the
logs, and relevant messages which are not labelled with any
of the tags that <i>barf</i> looks for will be lost. We
think we've eliminated the last such case, but one never
knows...</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Finding
<i>updown</i> scripts (so they can be included in output)
is, in general, difficult. <i>Barf</i> uses a very simple
heuristic that is easily fooled.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
brute&minus;force search for the right log files can get
expensive on systems with a lot of clutter in
/var/log.</font></p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>Paul
Wouters</b></font></p>


<p style="margin-left:17%;"><font color="#000000">placeholder
to suppress warning</font></p>
<hr>
</body>
</html>
