<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov  5 22:14:19 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SSHPASS</title>

</head>
<body>

<h1 align="center">SSHPASS</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#Options">Options</a><br>
<a href="#SECURITY CONSIDERATIONS">SECURITY CONSIDERATIONS</a><br>
<a href="#RETURN VALUES">RETURN VALUES</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#BUGS">BUGS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">sshpass &minus;
noninteractive ssh password provider</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>sshpass</b>
[<b>-f</b><i>filename</i>|<b>-d</b><i>num</i>|<b>-p</b><i>password</i>|<b>-e</b>]
[<i>options</i>] <i>command arguments</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This manual
page documents the <b>sshpass</b> command.</p>

<p style="margin-left:11%; margin-top: 1em"><b>sshpass</b>
is a utility designed for running <b>ssh</b> using the mode
referred to as &quot;keyboard-interactive&quot; password
authentication, but in non-interactive mode.</p>

<p style="margin-left:11%; margin-top: 1em">ssh uses direct
TTY access to make sure that the password is indeed issued
by an interactive keyboard user. Sshpass runs ssh in a
dedicated tty, fooling it into thinking it is getting the
password from an interactive user.</p>

<p style="margin-left:11%; margin-top: 1em">The command to
run is specified after sshpass&rsquo; own options. Typically
it will be &quot;ssh&quot; with arguments, but it can just
as well be any other command. The password prompt used by
ssh is, however, currently hardcoded into sshpass.</p>

<h2>Options
<a name="Options"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If no option is
given, sshpass reads the password from the standard input.
The user may give at most one alternative source for the
password: <b><br>
&minus;p</b><i>password</i></p>

<p style="margin-left:22%;">The password is given on the
command line. Please note the section titled
&quot;<b>SECURITY CONSIDERATIONS</b>&quot;.</p>


<p style="margin-left:11%;"><b>&minus;f</b><i>filename</i></p>

<p style="margin-left:22%;">The password is the first line
of the file <i>filename</i>.</p>


<p style="margin-left:11%;"><b>&minus;d</b><i>number</i></p>

<p style="margin-left:22%;"><i>number</i> is a file
descriptor inherited by sshpass from the runner. The
password is read from the open file descriptor.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;e</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>The password is taken from the environment variable
&quot;SSHPASS&quot;.</p> </td></tr>
</table>

<h2>SECURITY CONSIDERATIONS
<a name="SECURITY CONSIDERATIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">First and
foremost, users of sshpass should realize that ssh&rsquo;s
insistance on only getting the password interactively is not
without reason. It is close to impossible to securely store
the password, and users of sshpass should consider whether
ssh&rsquo;s public key authentication provides the same
end-user experience, while involving less hassle and being
more secure.</p>

<p style="margin-left:11%; margin-top: 1em">The &minus;p
option should be considered the least secure of all of
sshpass&rsquo;s options. All system users can see the
password in the command line with a simple &quot;ps&quot;
command. Sshpass makes a minimal attempt to hide the
password, but such attempts are doomed to create race
conditions without actually solving the problem. Users of
sshpass are encouraged to use one of the other password
passing techniques, which are all more secure.</p>

<p style="margin-left:11%; margin-top: 1em">In particular,
people writing programs that are meant to communicate the
password programatically are encouraged to use an anonymous
pipe and pass the pipe&rsquo;s reading end to sshpass using
the &minus;d option.</p>

<h2>RETURN VALUES
<a name="RETURN VALUES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">As with any
other program, sshpass returns 0 on success. In case of
failure, the following return codes are used:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">1</p></td>
<td width="10%"></td>
<td width="78%">


<p style="margin-top: 1em">Invalid command line
argument</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>2</p></td>
<td width="10%"></td>
<td width="78%">


<p>Conflicting arguments given</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>3</p></td>
<td width="10%"></td>
<td width="78%">


<p>General runtime error</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>4</p></td>
<td width="10%"></td>
<td width="78%">


<p>Unrecognized response from ssh (parse error)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>5</p></td>
<td width="10%"></td>
<td width="78%">


<p>Invalid/incorrect password</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>6</p></td>
<td width="10%"></td>
<td width="78%">


<p>Host public key is unknown. sshpass exits without
confirming the new key.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">In addition,
ssh might be complaining about a man in the middle attack.
This complaint does not go to the tty. In other words, even
with sshpass, the error message from ssh is printed to
standard error. In such a case ssh&rsquo;s return code is
reported back. This is typically an unimaginative (and
non-informative) &quot;255&quot; for all error cases.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Run rsync over
SSH using password authentication, passing the password on
the command line:</p>

<p style="margin-left:11%; margin-top: 1em">rsync
&minus;&minus;rsh=&rsquo;sshpass &minus;p 12345 ssh &minus;l
test&rsquo; host.example.com:path .</p>

<p style="margin-left:11%; margin-top: 1em">To do the same
from a bourne shell script in a marginally less exposed
way:</p>

<p style="margin-left:11%; margin-top: 1em">SSHPASS=12345
rsync &minus;&minus;rsh=&rsquo;sshpass &minus;e ssh &minus;l
test&rsquo; host.example.com:path .</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Sshpass is in
its infancy at the moment. As such, bugs are highly
possible. In particular, if the password is read from stdin
(no password option at all), it is possible that some of the
input aimed to be passed to ssh will be read by sshpass and
lost.</p>

<p style="margin-left:11%; margin-top: 1em">Sshpass
utilizes the <b>pty</b>(7) interface to control the TTY for
ssh. This interface, at least on Linux, has a misfeature
where if no slave file descriptors are open, the master pty
returns <b>EIO</b>. This is the normal behavior, except a
slave pty may be born at any point by a program opening
<b>/dev/tty</b>. This makes it impossible to reliably wait
for events without consuming 100% of the CPU.</p>

<p style="margin-left:11%; margin-top: 1em">Over the
various versions different approaches were attempted at
solving this problem. Any given version of sshpass is
released with the belief that it is working, but experience
has shown that these things do, occasionally, break. This
happened with OpenSSH version 5.6. As of this writing, it is
believed that sshpass is, again, working properly.</p>
<hr>
</body>
</html>
