<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 02:36:30 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>USN-TOMBSTONE-CLEANUP.PL</title>

</head>
<body>

<h1 align="center">USN-TOMBSTONE-CLEANUP.PL</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLE">EXAMPLE</a><br>
<a href="#DIAGNOSTICS">DIAGNOSTICS</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#REPORTING BUGS">REPORTING BUGS</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">usn-tombstone-cleanup.pl
- Directory Server perl script for cleaning up tombstone
entries.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">usn-tombstone-cleanup.pl
[&minus;Z serverID] [&minus;D rootdn] { &minus;w password |
&minus;w &minus; | &minus;j filename } &minus;s suffix
&minus;n backend [&minus;m maxusn_to_delete] [&minus;P
protocol] [&minus;v] [&minus;h]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Deletes the
tombstone entries maintained by the instance if the USN
Plug-in is enabled.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">A summary of
options is included below: <b><br>
&minus;Z</b> <i>Server Identifier</i></p>

<p style="margin-left:22%;">The server ID of the Directory
Server instance. If there is only one instance on the
system, this option can be skipped.</p>

<p style="margin-left:11%;"><b>&minus;D</b> <i>Root
DN</i></p>

<p style="margin-left:22%;">The Directory Manager DN, or
root DN. If not specified, the script will search the server
instance configuration for the value.</p>

<p style="margin-left:11%;"><b>&minus;w</b>
<i>password</i></p>

<p style="margin-left:22%;">The rootdn password.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>&minus;w -</b></p></td>
<td width="5%"></td>
<td width="47%">


<p>Prompt for the rootdn password.</p></td>
<td width="31%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;j</b> <i>password
filename</i></p>

<p style="margin-left:22%;">The name of the file that
contains the root DN password.</p>

<p style="margin-left:11%;"><b>&minus;s</b>
<i>suffix</i></p>

<p style="margin-left:22%;">Gives the name of the suffix
containing the entries to clean/delete.</p>

<p style="margin-left:11%;"><b>&minus;n</b>
<i>backend</i></p>

<p style="margin-left:22%;">Gives the name of the database
containing the entries to clean/delete. Example,
userRoot.</p>

<p style="margin-left:11%;"><b>&minus;m</b>
<i>maxusn_to_delete</i></p>

<p style="margin-left:22%;">Sets the upper bound for
entries to delete. All tombstone entries with an entryUSN
value up to the specified maximum (inclusive) are deleted,
but not past that USN value. If no maximum USN value is set,
then all backend tombstone entries are deleted.</p>

<p style="margin-left:11%;"><b>&minus;P</b>
<i>protocol</i></p>

<p style="margin-left:22%;">The connection protocol to
connect to the Directory Server. Protocols are STARTTLS,
LDAPS, LDAPI, and LDAP. If this option is skipped, the most
secure protocol that is available is used. For LDAPI,
AUTOBIND is also available for the root user.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;v</b></p></td>
<td width="8%"></td>
<td width="33%">


<p>Display verbose output</p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;h</b></p></td>
<td width="8%"></td>
<td width="33%">


<p>Display usage</p></td>
<td width="45%">
</td></tr>
</table>

<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">usn-tombstone-cleanup.pl
&minus;Z instance2 &minus;D &rsquo;cn=directory
manager&rsquo; &minus;w <br>
password &minus;n userRoot &minus;s
&rsquo;ou=people,dc=example,dc=com&rsquo; &minus;P
STARTTLS</p>

<p style="margin-left:22%; margin-top: 1em">Note: security
must be enabled to use protocol STARTTLS. If STARTTLS is not
available it will default to next strongest/available
protocol automatically.</p>

<h2>DIAGNOSTICS
<a name="DIAGNOSTICS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Exit status is
zero if no errors occur. Errors result in a non-zero exit
status and a diagnostic message being written to standard
error.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">usn-tombstone-cleanup.pl
was written by the 389 Project.</p>

<h2>REPORTING BUGS
<a name="REPORTING BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Report bugs to
https://fedorahosted.org/389/newticket.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
&copy; 2013 Red Hat, Inc.</p>
<hr>
</body>
</html>
