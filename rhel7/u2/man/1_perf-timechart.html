<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 02:06:17 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PERF&minus;TIMECHART</title>

</head>
<body>

<h1 align="center">PERF&minus;TIMECHART</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#TIMECHART OPTIONS">TIMECHART OPTIONS</a><br>
<a href="#RECORD OPTIONS">RECORD OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">perf-timechart
&minus; Tool to visualize total system behavior during a
workload</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">There are two
variants of perf timechart:</p>

<p style="margin-left:17%; margin-top: 1em">'perf timechart
record &lt;command&gt;' to record the system level events
<br>
of an arbitrary workload. By default timechart records only
scheduler <br>
and CPU events (task switches, running times, CPU power
states, etc), <br>
but it's possible to record IO (disk, network) activity
using &minus;I argument.</p>

<p style="margin-left:17%; margin-top: 1em">'perf
timechart' to turn a trace into a Scalable Vector Graphics
file, <br>
that can be viewed with popular SVG viewers such as
'Inkscape'. Depending <br>
on the events in the perf.data file, timechart will contain
scheduler/cpu <br>
events or IO events.</p>

<p style="margin-left:17%; margin-top: 1em">In IO mode,
every bar has two charts: upper and lower. <br>
Upper bar shows incoming events (disk reads, ingress network
packets). <br>
Lower bar shows outgoing events (disk writes, egress network
packets). <br>
There are also poll bars which show how much time
application spent <br>
in poll/epoll/select syscalls.</p>

<h2>TIMECHART OPTIONS
<a name="TIMECHART OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">&minus;o,
&minus;&minus;output=</p>

<p style="margin-left:17%;">Select the output file
(default: output.svg)</p>

<p style="margin-left:11%; margin-top: 1em">&minus;i,
&minus;&minus;input=</p>

<p style="margin-left:17%;">Select the input file (default:
perf.data unless stdin is a fifo)</p>

<p style="margin-left:11%; margin-top: 1em">&minus;w,
&minus;&minus;width=</p>

<p style="margin-left:17%;">Select the width of the SVG
file (default: 1000)</p>

<p style="margin-left:11%; margin-top: 1em">&minus;P,
&minus;&minus;power&minus;only</p>

<p style="margin-left:17%;">Only output the CPU power
section of the diagram</p>

<p style="margin-left:11%; margin-top: 1em">&minus;T,
&minus;&minus;tasks&minus;only</p>

<p style="margin-left:17%;">Don&rsquo;t output processor
state transitions</p>

<p style="margin-left:11%; margin-top: 1em">&minus;p,
&minus;&minus;process</p>

<p style="margin-left:17%;">Select the processes to
display, by name or PID</p>


<p style="margin-left:11%; margin-top: 1em">&minus;&minus;symfs=&lt;directory&gt;</p>

<p style="margin-left:17%;">Look for files with symbols
relative to this directory.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;n,
&minus;&minus;proc&minus;num</p>

<p style="margin-left:17%;">Print task info for at least
given number of tasks.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;t,
&minus;&minus;topology</p>

<p style="margin-left:17%;">Sort CPUs according to
topology.</p>


<p style="margin-left:11%; margin-top: 1em">&minus;&minus;highlight=&lt;duration_nsecs|task_name&gt;</p>

<p style="margin-left:17%;">Highlight tasks (using
different color) that run more than given duration or tasks
with given name. If number is given it&rsquo;s interpreted
as number of nanoseconds. If non&minus;numeric string is
given it&rsquo;s interpreted as task name.</p>


<p style="margin-left:11%; margin-top: 1em">&minus;&minus;io&minus;skip&minus;eagain</p>

<p style="margin-left:17%;">Don&rsquo;t draw EAGAIN IO
events.</p>


<p style="margin-left:11%; margin-top: 1em">&minus;&minus;io&minus;min&minus;time=&lt;nsecs&gt;</p>

<p style="margin-left:17%;">Draw small events as if they
lasted min&minus;time. Useful when you need to see very
small and fast IO. It&rsquo;s possible to specify ms or us
suffix to specify time in milliseconds or microseconds.
Default value is 1ms.</p>


<p style="margin-left:11%; margin-top: 1em">&minus;&minus;io&minus;merge&minus;dist=&lt;nsecs&gt;</p>

<p style="margin-left:17%;">Merge events that are
merge&minus;dist nanoseconds apart. Reduces number of
figures on the SVG and makes it more render&minus;friendly.
It&rsquo;s possible to specify ms or us suffix to specify
time in milliseconds or microseconds. Default value is
1us.</p>

<h2>RECORD OPTIONS
<a name="RECORD OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">&minus;P,
&minus;&minus;power&minus;only</p>

<p style="margin-left:17%;">Record only power&minus;related
events</p>

<p style="margin-left:11%; margin-top: 1em">&minus;T,
&minus;&minus;tasks&minus;only</p>

<p style="margin-left:17%;">Record only tasks&minus;related
events</p>

<p style="margin-left:11%; margin-top: 1em">&minus;I,
&minus;&minus;io&minus;only</p>

<p style="margin-left:17%;">Record only io&minus;related
events</p>

<p style="margin-left:11%; margin-top: 1em">&minus;g,
&minus;&minus;callchain</p>

<p style="margin-left:17%;">Do call&minus;graph (stack
chain/backtrace) recording</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">$ perf
timechart record git pull</p>

<p style="margin-left:17%; margin-top: 1em">[ perf record:
Woken up 13 times to write data ] <br>
[ perf record: Captured and wrote 4.253 MB perf.data
(~185801 samples) ]</p>

<p style="margin-left:11%; margin-top: 1em">$ perf
timechart</p>

<p style="margin-left:17%; margin-top: 1em">Written 10.2
seconds of trace to output.svg.</p>

<p style="margin-left:11%; margin-top: 1em">Record
system&minus;wide timechart:</p>

<p style="margin-left:17%; margin-top: 1em">$ perf
timechart record</p>

<p style="margin-left:17%; margin-top: 1em">then generate
timechart and highlight 'gcc' tasks:</p>

<p style="margin-left:17%; margin-top: 1em">$ perf
timechart &minus;&minus;highlight gcc</p>

<p style="margin-left:11%; margin-top: 1em">Record
system&minus;wide IO events:</p>

<p style="margin-left:17%; margin-top: 1em">$ perf
timechart record &minus;I</p>

<p style="margin-left:17%; margin-top: 1em">then generate
timechart:</p>

<p style="margin-left:17%; margin-top: 1em">$ perf
timechart</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>perf-record</b>(1)</p>
<hr>
</body>
</html>
