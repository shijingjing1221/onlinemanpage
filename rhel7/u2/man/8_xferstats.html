<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 02:46:01 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>XFERSTATS</title>

</head>
<body>

<h1 align="center">XFERSTATS</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#CONFIGURATION FILE">CONFIGURATION FILE</a><br>
<a href="#FILES">FILES</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#ACKNOWLEDGEMENTS">ACKNOWLEDGEMENTS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#LOCATION">LOCATION</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">xferstats
&minus; compiles information about file transfers from
logfiles</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>xferstats</b>
[- | + ] [-c &lt;config file&gt;] [-T &lt;number&gt;]
[[-+]C] [[-+]H] [[-+]n] [[-+]s] [[-+]r] [[-+]a] [[-+]g]
[[-+]i] [[-+]u] [[-+]h] [[-+]m] [[-+]w] [[-+]M] [[-+]f
[number]] [[-+]d [number]] [[-+]t [number]] [[-+]O [number]]
[[-+]o [number]] [+L &lt;number&gt;] [+A] [-D
&lt;number&gt;] [+D &lt;number&gt;] [+P &lt;prefix&gt;] [+B
&lt;timestamp&gt;] [+E &lt;timestamp&gt;] [-v] [--version]
[--help] [--] [filename(s)]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>xferstats</b>
is a utility that parses wu-ftpd, ncftpd, and (special)
apache <b>xferlogs</b> (although it&rsquo;s not difficult to
add support for other log types) and gives various
information and totals about the data transferred.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>+</b></p></td>
<td width="10%"></td>
<td width="78%">


<p style="margin-top: 1em">The single plus tells
<b>xferstats</b> to get the <b>xferlog</b> from stdin. For
example:</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">cat xferlog |
xferstats +</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>&minus;</b></p></td>
<td width="10%"></td>
<td width="78%">


<p style="margin-top: 1em">The single hyphen tells
<b>xferstats</b> to get the <b>xferlog</b> from a file.
While this is the default behaviour, the configuration file
may change the default, and this option allows you to
override it. For example:</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">xferstats
&minus; /var/log/xferlog</p>

<p style="margin-left:11%;"><b>&minus;c</b>
<i>configuration file</i></p>

<p style="margin-left:22%;">Specify an alternate path and
filename for the configuration file. The packaged default is
<i>/etc/xferstats.cfg</i> but your administrator may have
changed this. A new default can be set by changing the
appropriate variable in xferstats.h and recompiling.</p>

<p style="margin-left:11%;"><b>&minus;T</b> <i>log
type</i></p>

<p style="margin-left:22%;">Specify the type of log file to
be parsed. Currently, only three types are defined,
<b>wu-ftpd</b> for wu-ftpd-style logs, <b>ncftpd</b> for
ncftpd-style logs, and <b>apache</b> for special Apache
logs. Note: you can also use &quot;wu-ftp&quot;,
&quot;wuftp&quot;, &quot;wuftpd&quot;, or &quot;ncftp&quot;.
In order for xferstats to parse Apache logfiles, you must
use a special LogFile line: LogFormat &quot;%{%a %b %d %X
%Y}t %T %h %b %f %u&quot;. <b>xferstats</b> may or may not
support regular Apache logfiles in the future. If this is
something you want, please let me know.</p>

<p style="margin-left:11%;"><b>&minus;v,
&minus;&minus;version</b></p>

<p style="margin-left:22%;">Display what version of
<b>xferstats</b> you&rsquo;re running.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;&minus;help</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Display a quick summary of the command line options.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;&minus;</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Use a -- (double hyphen) to indicate that you are
finished giving parameters and will follow with a filename.
This is particularly useful when you want to specify a
filename that begins with a + or -</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>TOGGLE
OPTIONS</b> <br>
The options in this section can be either forced on with
+[option] or forced off with -[option]. Options in this
section, like all other options, will always override any
settings in the xferstats configuration file. Any arguments
to toggle options should only be used when enabling an
option. Supplying an argument when disabling an option will
generate an error.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>C</b></p></td>
<td width="10%"></td>
<td width="78%">


<p style="margin-top: 1em">When enabled, xferstats will try
to weed out corrupt log lines by strictly checking to make
sure that the data is valid. If you --enable-debug_flow at
compile time, xferstats will notify you when corrupt lines
are detected.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>H</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>When enabled, xferstats will generate HTML tables and
graphs instead of text tables. In order to actually generate
tables instead of broken graphic icons, you must put the
graph JPGs in the directory pointed to by the GRAPH_PATH
configuration command. For more information, see the
CONFIGURATION FILE section.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>n</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>When enabled, xferstats will refrain from adding
&lt;HTML&gt;, &lt;BODY&gt;, and &lt;TITLE&gt; tags, so that
the output can be inserted into pages containing custom
headers.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>s</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>When enabled, xferstats will output HTML as a single
page (filename &quot;xferstats.html&quot;) instead of a page
for each section. This option also disables &lt;HTML&gt; and
&lt;BODY&gt; tags, although it does produce a &lt;TITLE&gt;
tag unless the NO_HTML_HEADERS option is also specified.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>r</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>When enabled, xferstats will generate statistics about
real user connections (but not necessarily <b>only</b> real
user connections)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>a</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>When enabled, xferstats will generate statistics about
anonymous connections (but not necessarily <b>only</b>
anonymous connections)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>g</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>When enabled, xferstats will generate statistics about
guest connections (but not necessarily <b>only</b> guest
connections)</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>i</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>When enabled, xferstats will generate statistics about
inbound (the product of a PUT) files (but not necessarily
<b>only</b> inbound files)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>u</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>When enabled, xferstats will generate statistics about
outbound (the product of a GET) files (but not necessarily
<b>only</b> outbound files)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>h</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>When enabled, xferstats will generate a report listing
traffic by hour</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>m</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>When enabled, xferstats will generate a report listing
traffic by month (January, February, etc.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>S</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>When enabled, xferstats will generate a report listing
traffic by file size</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>w</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>When enabled, xferstats will generate a report listing
traffic by day of the week (Monday, Tuesday, etc.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>M</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>When enabled, xferstats will generate a report listing
traffic by day of the month (1st, 2nd, 3rd, etc.)</p></td></tr>
</table>

<p style="margin-left:11%;"><b>f&nbsp;[number]</b></p>

<p style="margin-left:22%;">When enabled, xferstats will
generate a report listing traffic by file. You can supply an
optional argument that will determine how many file records
xferstats displays (0 (zero) disables the limit)</p>

<p style="margin-left:11%;"><b>d&nbsp;[number]</b></p>

<p style="margin-left:22%;">When enabled, xferstats will
generate a report listing traffic by directory. You can
supply an optional argument that will determine how many
directory records xferstats displays (0 (zero) disables the
limit). See the -D and +D options, as well as the DIR_DEPTH
and DIR_FILTER configuration commands for more
information.</p>

<p style="margin-left:11%;"><b>t&nbsp;[number]</b></p>

<p style="margin-left:22%;">When enabled, xferstats will
generate a report listing traffic by top-level domain. You
can supply an optional argument that will determine how many
TLD records xferstats displays (0 (zero) disables the
limit)</p>

<p style="margin-left:11%;"><b>O&nbsp;[number]</b></p>

<p style="margin-left:22%;">When enabled, xferstats will
generate a report listing traffic by domain. You can supply
an optional argument that will determine how many domain
records xferstats displays (0 (zero) disables the limit)</p>

<p style="margin-left:11%;"><b>o&nbsp;[number]</b></p>

<p style="margin-left:22%;">When enabled, xferstats will
generate a report listing traffic by host. You can supply an
optional argument that will determine how many host records
xferstats displays (0 (zero) disables the limit)</p>

<p style="margin-left:11%; margin-top: 1em"><b>OTHER
OPTIONS</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>+A</b></p></td>
<td width="8%"></td>
<td width="60%">


<p>Include all users, generate all reports</p></td>
<td width="18%">
</td></tr>
</table>


<p style="margin-left:11%;"><b>+L&nbsp;&lt;number&gt;</b></p>

<p style="margin-left:22%;">Limit the daily report to the
last &lt;number&gt; days</p>


<p style="margin-left:11%;"><b>&minus;D&nbsp;&lt;number&gt;</b></p>

<p style="margin-left:22%;">Depth of path detail for
directories (default 3)</p>


<p style="margin-left:11%;"><b>+D&nbsp;&lt;directory&gt;</b></p>

<p style="margin-left:22%;">Generate reports on files
located only in <i>&lt;directory&gt;</i>. For example:</p>


<p style="margin-left:22%; margin-top: 1em"><b>+D&nbsp;/pub</b>
will report only on paths under <b>/pub</b>. Specifying
multiple +D options will instruct <b>xferstats</b> to
include data from all specified directories.</p>


<p style="margin-left:11%;"><b>+P&nbsp;&lt;path</b><i>prefix&gt;</i></p>

<p style="margin-left:22%;">Strip the <i>&lt;prefix&gt;</i>
from any pathnames that begin with it. This is the same as
specifying a <i>STRIP_PREFIX</i> configuration file command.
Keep in mind that the <i>DIR_FILTER</i> (or <i>+D</i>) is
checked before the <i>STRIP_PREFIX</i> (or <i>+P</i>) when
using these.</p>


<p style="margin-left:11%;"><b>+B&nbsp;&lt;timestamp&gt;</b></p>

<p style="margin-left:22%;">Providing a +B argument
instructs xferstats to only generate data on transfers
occuring after that time. The time stamp format is &quot;Jan
DD HH:MM:ss YYYY&quot;. One may combine +B and +E to
generate a report about a specific window in time.</p>


<p style="margin-left:11%;"><b>+E&nbsp;&lt;timestamp&gt;</b></p>

<p style="margin-left:22%;">Providing a +E argument
instructs xferstats to only generate data on transfers
occuring before that time. The time stamp format is
&quot;Jan DD HH:MM:ss YYYY&quot;. One may combine +B and +E
to generate a report about a specific window in time.</p>

<p style="margin-left:11%; margin-top: 1em">The default
compile-time setting for the <b>xferlog</b> location is
<b>/var/log/xferlog</b> but your administrator may have
changed this. If <b>xferstats</b> reports an error, try
specifying the filename as the last command line
parameter.</p>

<h2>CONFIGURATION FILE
<a name="CONFIGURATION FILE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The default
configuration file path is <i>/etc/xferstats.cfg</i>
although your administrator may have changed this.</p>

<p style="margin-left:11%; margin-top: 1em">Any text after
a &rsquo;#&rsquo; is ignored, as long as the &rsquo;#&rsquo;
begins a line or is prepended by whitespace.</p>

<p style="margin-left:11%; margin-top: 1em">Commands
(LOGFILE, ANON_TRAFFIC, etc) are not case sensitive,
although some arguments may be. <b><br>
LOGFILE &lt;filename&gt;</b></p>

<p style="margin-left:22%;">sets the default log file to
process. It can be overridden by adding
&quot;&lt;filename&gt;&quot; at the end of the command line
options. You may specify as many LOGFILE lines as you like;
they will be processed in the order specified (although the
order processed should not change the output). Example:</p>

<p style="margin-left:22%; margin-top: 1em">LOGFILE
/var/log/xferlog LOGFILE /var/log/xferlog.1 LOGFILE
/var/log/xferlog.2</p>

<p style="margin-left:11%;"><b>STRICT_CHECK</b></p>

<p style="margin-left:22%;">takes no arguments. When
enabled, xferstats will try to weed out corrupt log lines by
strictly checking to make sure that the data is valid. If
you --enable-debug_flow at compile time, xferstats will
notify you when corrupt lines are detected. It can be
enabled with &quot;+C&quot; or disabled with &quot;-C&quot;
on the command line.</p>

<p style="margin-left:11%;"><b>ANON_TRAFFIC</b></p>

<p style="margin-left:22%;">takes no arguments. When
enabled, xferstats will generate statistics about anonymous
connections (but not necessarily <b>only</b> anonymous
connections). It can be enabled with &quot;+a&quot; or
disabled with &quot;-a&quot; on the command line.</p>

<p style="margin-left:11%;"><b>GUEST_TRAFFIC</b></p>

<p style="margin-left:22%;">takes no arguments. When
enabled, xferstats will generate statistics about guest
connections (but not necessarily <b>only</b> guest
connections). This option has no effect when parsing
non-wuftpd logfiles. It can be enabled with &quot;+g&quot;
or disabled with &quot;-g&quot; on the command line.</p>

<p style="margin-left:11%;"><b>REAL_TRAFFIC</b></p>

<p style="margin-left:22%;">takes no arguments. When
enabled, xferstats will generate statistics about real user
connections (but not necessarily <b>only</b> real user
connections). It can be enabled with &quot;+r&quot; or
disabled with &quot;-r&quot; on the command line.</p>

<p style="margin-left:11%;"><b>INBOUND</b></p>

<p style="margin-left:22%;">takes no arguments. When
enabled, xferstats will generate statistics about inbound
(the product of a PUT) files (but not necessarily
<b>only</b> inbound files). It can be enabled with
&quot;+i&quot; or disabled with &quot;-i&quot; on the
command line.</p>

<p style="margin-left:11%;"><b>OUTBOUND</b></p>

<p style="margin-left:22%;">takes no arguments. When
enabled, xferstats will generate statistics about outbound
(the product of a GET) files (but not necessarily
<b>only</b> outbound files). It can be enabled with
&quot;+u&quot; or disabled with &quot;-u&quot; on the
command line.</p>

<p style="margin-left:11%;"><b>HOURLY_REPORT</b></p>

<p style="margin-left:22%;">takes no arguments. When
enabled, xferstats will generate a report listing traffic
per hour. It can be enabled with &quot;+h&quot; or disabled
with &quot;-h&quot; on the command line.</p>

<p style="margin-left:11%;"><b>DOW_REPORT</b></p>

<p style="margin-left:22%;">takes no arguments. When
enabled, xferstats will generate a report listing traffic by
day of the week (Monday, Tuesday, etc). It can be enabled
with &quot;+w&quot; or disabled with &quot;-w&quot; on the
command line.</p>

<p style="margin-left:11%;"><b>DOM_REPORT</b></p>

<p style="margin-left:22%;">takes no arguments. When
enabled, xferstats will generate a report listing traffic by
day of the month (1st, 2nd, etc). It can be enabled with
&quot;+M&quot; or disabled with &quot;-M&quot; on the
command line.</p>

<p style="margin-left:11%;"><b>TLD_REPORT</b></p>

<p style="margin-left:22%;">takes no arguments. When
enabled, xferstats will generate a report listing traffic by
top-level domain (com, edu, net, us, uk, etc). It can be
enabled with &quot;+t &lt;number&gt;&quot; or disabled with
&quot;-t&quot; on the command line.</p>

<p style="margin-left:11%;"><b>DOMAIN_REPORT</b></p>

<p style="margin-left:22%;">takes no arguments. When
enabled, xferstats will generate a report listing traffic by
domain (foo.com, blah.edu, etc). It can be enabled with
&quot;+O &lt;number&gt;&quot; or disabled with
&quot;-O&quot; on the command line.</p>

<p style="margin-left:11%;"><b>HOST_REPORT</b></p>

<p style="margin-left:22%;">takes no arguments. When
enabled, xferstats will generate a report listing traffic by
host. It can be enabled with &quot;+o&quot; or disabled with
&quot;-o&quot; on the command line.</p>

<p style="margin-left:11%;"><b>DIR_REPORT</b></p>

<p style="margin-left:22%;">takes no arguments. When
enabled, xferstats will generate a report listing traffic by
directory. The directory depth that xferstats will keep
track of can be controlled by the DIR_DEPTH configuration
command or with the &quot;-l &lt;depth&gt;&quot; command
line option. It can be enabled with &quot;+d&quot; or
disabled with &quot;-d&quot; on the command line.</p>

<p style="margin-left:11%;"><b>FILE_REPORT</b></p>

<p style="margin-left:22%;">takes no arguments. When
enabled, xferstats will generate a report listing traffic by
file. It can be enabled with &quot;+f&quot; or disabled with
&quot;-f&quot; on the command line.</p>

<p style="margin-left:11%;"><b>MONTHLY_REPORT</b></p>

<p style="margin-left:22%;">takes no arguments. When
enabled, xferstats will generate a report listing traffic
per month (January, February, etc). It can be enabled with
&quot;+m&quot; or disabled with &quot;-m&quot; on the
command line.</p>

<p style="margin-left:11%;"><b>HTML_OUTPUT</b></p>

<p style="margin-left:22%;">takes no arguments. When
enabled, xferstats will output all reports into individual
HTML files. Future versions will contain a configuration
option to set the directory in which to place the HTML
files. For now they are placed in the present working#
directory. It can be enabled with &quot;+H&quot; or disabled
with &quot;-H&quot; on the command line.</p>

<p style="margin-left:11%;"><b>USE_STDIN</b></p>

<p style="margin-left:22%;">takes no arguments. When
enabled, xferstats will, by default, read the logfile from
the standard input instead of from a file on disk. It can be
enabled with &quot;+&quot; or disabled with &quot;-&quot; on
the command line.</p>

<p style="margin-left:11%;"><b>LOG_TYPE</b></p>

<p style="margin-left:22%;">takes one argument, the type of
log that will be processed by default. The argument can be
either a number or a case insensitive string and are as
follows:</p>

<p style="margin-left:22%; margin-top: 1em">wu-ftpd log:
&quot;1&quot; or &quot;wu-ftp&quot; or &quot;wu-ftpd&quot;
or &quot;wuftp&quot; or &quot;wuftpd&quot;</p>

<p style="margin-left:22%; margin-top: 1em">ncftpd log :
&quot;2&quot; or &quot;ncftp&quot; or &quot;ncftpd&quot;</p>

<p style="margin-left:22%; margin-top: 1em">Apache log :
&quot;3&quot; or &quot;apache&quot;</p>

<p style="margin-left:22%; margin-top: 1em">Therefore:</p>

<p style="margin-left:22%; margin-top: 1em">LOG_TYPE 1</p>

<p style="margin-left:22%; margin-top: 1em">LOG_TYPE
wu-ftp</p>

<p style="margin-left:22%; margin-top: 1em">LOG_TYPE
wu-ftpd</p>

<p style="margin-left:22%; margin-top: 1em">LOG_TYPE
wuftp</p>

<p style="margin-left:22%; margin-top: 1em">LOG_TYPE
wuftpd</p>

<p style="margin-left:22%; margin-top: 1em">are all
equivalent.</p>

<p style="margin-left:22%; margin-top: 1em">Future versions
will contain support for additional logfile types. It can be
set on the command line with &quot;-T
&lt;number&gt;&quot;</p>

<p style="margin-left:11%;"><b>DIR_DEPTH</b></p>

<p style="margin-left:22%;">takes one argument, the number
of subdirectories deep that xferstats should go when
generating statistics by directory. This configuration
command has no effect when DIR_REPORT has not been enabled.
DIR_DEPTH has no upper bound. A DIR_DEPTH of &rsquo;0&rsquo;
(zero) tells xferstats to process all subdirectories. The
default value is 3. It can be set on the command line with
&quot;-D &lt;number&gt;&quot;. Example:</p>

<p style="margin-left:22%; margin-top: 1em">DIR_DEPTH 3</p>

<p style="margin-left:11%;"><b>DIR_FILTER</b></p>

<p style="margin-left:22%;">takes one argument, the
directory that xferstats should report on. xferstats will
discard any data that does not have a path that begins with
the value set by DIR_FILTER. This value <b>is</b>
case-sensitive, as it is part of a path name. Specifying
multiple statements will instruct <b>xferstats</b> to
include data from all specified directories. It can be set
on the command line with &quot;+D &lt;path&gt;&quot;.
Example:</p>

<p style="margin-left:22%; margin-top: 1em">DIR_FILTER
/pub/foobar</p>

<p style="margin-left:11%;"><b>NUMBER_FILE_STATS</b></p>

<p style="margin-left:22%;">takes one argument, the number
of files to report on in the file statistics section. It
must be a number greater than or equal to zero, with zero
denoting no limit. It can be set on the command line with
&quot;+f &lt;number&gt;&quot;. The default is 50.</p>


<p style="margin-left:22%; margin-top: 1em">NUMBER_FILE_STATS
50</p>

<p style="margin-left:11%;"><b>NUMBER_DIR_STATS</b></p>

<p style="margin-left:22%;">takes one argument, the number
of directories to report on in the directory statistics
section. It must be a number greater than or equal to zero,
with zero denoting no limit. It can be set on the command
line with &quot;+d &lt;number&gt;&quot;. The default is
50.</p>

<p style="margin-left:11%;"><b>NUMBER_DAILY_STATS</b></p>

<p style="margin-left:22%;">takes one argument, the number
of days to report on in the daily statistics section. It
must be a number greater than or equal to zero, with zero
denoting no limit. It can be set on the command line with
&quot;+L &lt;number&gt;&quot;. The default is 50.</p>

<p style="margin-left:22%; margin-top: 1em">Note: the daily
statistics section will always be displayed.</p>

<p style="margin-left:11%;"><b>NUMBER_TLD_STATS</b></p>

<p style="margin-left:22%;">takes one argument, the number
of top-level domains to report on in the TLD statistics
section. It must be a number greater than or equal to zero,
with zero denoting no limit. It can be set on the command
line with &quot;+t &lt;number&gt;&quot;. The default is
50.</p>

<p style="margin-left:11%;"><b>NUMBER_DOMAIN_STATS</b></p>

<p style="margin-left:22%;">takes one argument, the number
of top-level domains to report on in the domain statistics
section. It must be a number greater than or equal to zero,
with zero denoting no limit. It can be set on the command
line with &quot;+O &lt;number&gt;&quot;. The default is
50.</p>

<p style="margin-left:11%;"><b>NUMBER_HOST_STATS</b></p>

<p style="margin-left:22%;">takes one argument, the number
of hosts to report on in the host statistics section. It
must be a number greater than or equal to zero, with zero
denoting no limit. It can be set on the command line with
&quot;+o &lt;number&gt;&quot;. The default is 50.</p>

<p style="margin-left:11%;"><b>MAX_REPORT_SIZE</b></p>

<p style="margin-left:22%;">takes one argument, the maximum
size of any one output table. This is particularly useful to
keep xferstats from generating gigantic tables that make
graphical browsers choke. It will split tables to be no
larger than# this value. It must be greater than or equal to
ten, or zero, zero denoting no limit. It can be set on the
command line with &quot;+R &lt;number&gt;&quot;. The default
is 30.</p>

<p style="margin-left:11%;"><b>GRAPH_PATH</b></p>

<p style="margin-left:22%;">takes one argument, the
location of the JPGs used to draw graphs in the HTML output.
It can be an absolute path (ie, http://foo.bar.com/graphs/)
or a relative path (ie, ../graphs/). You must include a
trailing &rsquo;/&rsquo; or it <b>will not work</b>. This
option cannot be set on the command line. The default is
nothing (which will make the browser look for the graphs in
the directory with the HTML). Example:</p>

<p style="margin-left:22%; margin-top: 1em">GRAPH_PATH
../graphs/</p>

<p style="margin-left:11%;"><b>NO_HTML_HEADERS</b></p>

<p style="margin-left:22%;">takes no arguments. When
enabled, xferstats will refrain from adding &lt;HTML&gt;,
&lt;BODY&gt;, and &lt;TITLE&gt; tags, so that the output can
be inserted into pages containing custom headers. It can be
enabled with &quot;+n&quot; or disabled with &quot;-n&quot;
on the command line.</p>

<p style="margin-left:11%;"><b>REFRESH</b></p>

<p style="margin-left:22%;">takes one argument, the number
of seconds after being displayed that the browser should
refresh it. Unspecified or zero indicates no refresh.</p>

<p style="margin-left:11%;"><b>SINGLE_PAGE</b></p>

<p style="margin-left:22%;">takes no arguments. When
enabled, xferstats will output HTML as a single page
(entitled &quot;xferstats.html&quot;) instead of a page for
each section. This option also disables &lt;HTML&gt; and
&lt;BODY&gt; tags, although it does produce a &lt;TITLE&gt;
tag unless the NO_HTML_HEADERS option is also specified. It
can be enabled with &quot;+s&quot; or disabled with
&quot;-s&quot; on the command line.</p>

<p style="margin-left:11%;"><b>STRIP_PREFIX</b></p>

<p style="margin-left:22%;">takes one argument. When
specified, xferstats will strip the given string from the
beginning of any paths. Keep in mind when using this option
with <b>DIR_FILTER</b> that the <b>DIR_FILTER</b> is applied
-before- stripping, so that you must take this into account
when specifying the <b>DIR_FILTER</b> string. This option
cannot be set on the command line. Example:</p>

<p style="margin-left:22%; margin-top: 1em">STRIP_PREFIX
/home/ftp</p>

<p style="margin-left:11%; margin-top: 1em">The next 11
entries are all basically the same--they define how the
reports are to be sorted.</p>

<p style="margin-left:22%; margin-top: 1em"><b>0</b> --
Sort by the number of bytes downloaded</p>

<p style="margin-left:22%; margin-top: 1em"><b>1</b> --
Sort by the number of files downloaded</p>

<p style="margin-left:22%; margin-top: 1em"><b>2</b> --
Sort by the &quot;name&quot;. This varies by report; for the
file, directory, TLD, etc reports, it sorts them
alphabetically; for the file size report it lists the file
sizes in alphabetical order; for the daily report, it lists
the days in order. You get the idea. <b>3</b> -- Sort by
average throughput, in K/s</p>


<p style="margin-left:22%; margin-top: 1em"><b>FILE_SORT_PREF</b>,
<b>DIR_SORT_PREF</b>, <b>DOMAIN_SORT_PREF</b>,
<b>TLD_SORT_PREF</b>, <b>HOST_SORT_PREF</b>,
<b>DOM_SORT_PREF</b>, <b>DOW_SORT_PREF</b>,
<b>HOURLY_SORT_PREF</b>, <b>DAILY_SORT_PREF</b>,
<b>SIZE_SORT_PREF</b>, <b>MONTHLY_SORT_PREF</b></p>

<p style="margin-left:11%;"><b>CHUNK_INPUT</b></p>

<p style="margin-left:22%;">takes one argument. When
specified, xferstats will parse the logfiles in chunks of
the given size (in number of lines), process them, and
continue. This will keep it from trying to parse the entire
log at once, using up a lot of memory for large logs.
Specifying too small a value will cause xferstats to waste a
lot of time switching tasks, while too large a value may
slow it down as your system swaps. Toy with this value a bit
and see what works best for you. If left unspecified,
xferstats will continue to parse the logs in one pass.</p>

<h2>FILES
<a name="FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>xferlog</b>
(generated by wu-ftpd or ncftpd)</p>


<p style="margin-left:11%; margin-top: 1em"><b>/etc/xferstats.cfg</b>
contains all of the default settings and many settings which
cannot be set from the command line.</p>

<p style="margin-left:11%; margin-top: 1em">If you
installed the RPM version of xferstats, you&rsquo;ll find
the JPGs for the graphs in /usr/share/xferstats/graphs.</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The JPG graph
pieces included are not ideal; sometimes artifacts show up.
I will eventually get around to making new GIFs or
something.</p>

<p style="margin-left:11%; margin-top: 1em">Please send bug
reports to phil@off.net If the xferlog that you&rsquo;re
using is smaller than 1 megabyte, please send a gzipped
copy, along with the exact parameters you&rsquo;re
using.</p>

<h2>ACKNOWLEDGEMENTS
<a name="ACKNOWLEDGEMENTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">I greatly
appreciate the suggestions and assistance of Nat Friedman
&lt;ndf@mit.edu&gt;.</p>

<p style="margin-left:11%; margin-top: 1em">Thanks to Mike
Shaver &lt;shaver@mozilla.org&gt; and Jamie Zawinski
&lt;jwz@netscape.com&gt; for coughing up gigantic
mozilla.org logs to aid my testing.</p>

<p style="margin-left:11%; margin-top: 1em">Thanks to Phil
Copeland &lt;bryce@zen.ics.uwe.ac.uk&gt; for getting on my
back constantly to add new stuff, fix nagging bugs, and
speed it up. Oh, and for using it, at least someone does
:).</p>

<p style="margin-left:11%; margin-top: 1em">Extreme
gratitude to Mark Hagler &lt;hagler@hagler.org&gt;, someone
whom I&rsquo;ve left off of this list for too long. Mark was
kind enough to Amazon me a copy of O&rsquo;Reillys _Pthreads
Programming_ which was the catalyst for the threaded version
and really helped get me interested in the project again.
While the threaded version doesn&rsquo;t exist anymore, the
book is still terribly useful for other projects.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>ftpd</b>(8),
<b>ncftpd</b>(8), <b>xferlog</b>(5)</p>

<h2>LOCATION
<a name="LOCATION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>xferstats</b>
is available from the following locations. The old addresses
are valid, but are deprecated! Please use the new addresses
whenever possible.</p>


<p style="margin-left:22%; margin-top: 1em">http://xferstats.off.net/</p>


<p style="margin-left:22%; margin-top: 1em">ftp://xferstats.off.net/pub/xferstats/</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>xferstats</i>
is Copyright (c) 1997-2000 Phil Schwan &lt;phil@off.net&gt;
and is released under the terms and provisions of the GNU
Public License.</p>
<hr>
</body>
</html>
