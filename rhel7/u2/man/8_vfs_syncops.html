<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 02:37:01 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>VFS_SYNCOPS</title>

</head>
<body>

<h1 align="center">VFS_SYNCOPS</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#CONFIGURATION">CONFIGURATION</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#VERSION">VERSION</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">vfs_syncops
&minus; Ensure meta data operations are performed
synchronously.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p style="margin-top: 1em">vfs objects = syncops</p></td>
<td width="57%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This VFS module
is part of the <b>samba</b>(7) suite.</p>

<p style="margin-left:11%; margin-top: 1em">Some
filesystems (even some journaled filesystems) require that a
fsync() be performed on many meta data operations to ensure
that the operation is guaranteed to remain in the filesystem
after a power failure. This is particularly important for
some cluster filesystems which are participating in a node
failover system with clustered Samba. On those filesystems
the vfs_syncops VFS module provides a way to perform those
operations safely.</p>

<p style="margin-left:11%; margin-top: 1em">This module is
stackable.</p>

<h2>CONFIGURATION
<a name="CONFIGURATION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Most of the
performance loss with the vfs_syncops VFS module is in fsync
on close(). You can disable that with syncops:onclose = no
that can be set either globally or per share.</p>

<p style="margin-left:11%; margin-top: 1em">On certain
filesystems that only require the last data written to be
fsync()'ed, you can disable the metadata synchronization of
this module with syncops:onmeta = no. This option can be set
either globally or per share.</p>

<p style="margin-left:11%; margin-top: 1em">The vfs_syncops
VFS module can also be disabled completely for a share with
syncops:disable = true.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Add syncops
functionality for [share]:</p>


<p style="margin-left:17%; margin-top: 1em"><i>[share]</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p><b><font color="#0000FF">path =
/data/share</font></b></p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p><b><font color="#0000FF">vfs objects =
syncops</font></b></p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p><b><font color="#0000FF">syncops:onclose =
no</font></b></p> </td></tr>
</table>

<h2>VERSION
<a name="VERSION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
man page is correct for version 4.1.0 of the Samba
suite.</font></p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
original Samba software and related utilities were created
by Andrew Tridgell. Samba is now developed by the Samba Team
as an Open Source project similar to the way the Linux
kernel is developed.</font></p>
<hr>
</body>
</html>
