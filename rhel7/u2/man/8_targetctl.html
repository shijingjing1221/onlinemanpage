<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 02:30:26 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>targetctl</title>

</head>
<body>

<h1 align="center">targetctl</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#USAGE">USAGE</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#FILES">FILES</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#REPORTING BUGS">REPORTING BUGS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>targetctl</b>
&minus; Save and restore configuration of kernel target</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>targetctl</b>
is a low-level script to save and restore the configuration
of the LIO kernel target, to and from a file in json format.
It is not normally meant to be used by end-users directly,
but by system init frameworks, or advanced end-users who are
generating the configuration file themselves and need a way
to load the configuration without relying on the
<b>targetcli</b> configuration shell.</p>

<h2>USAGE
<a name="USAGE"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>targetctl</b>
must be invoked as root. Exit status will be 0 if
successful, or nonzero if an error was encountered.</p>

<p style="margin-left:11%; margin-top: 1em"><b>targetctl
save [config-file]</b></p>

<p style="margin-left:11%; margin-top: 1em">Saves the
current configuration of the kernel target to a file in json
format. Since the file may contain cleartext passwords, the
file&rsquo;s permissions will be set to only allow root
access. If <b>config-file</b> is not supplied,
<b>targetctl</b> will use the default file location,
<b>/etc/target/saveconfig.json.</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>targetctl
restore [config-file]</b></p>

<p style="margin-left:11%; margin-top: 1em">Removes any
existing configuration and replaces it with the
configuration described in the file. See
<b>saveconfig.json</b>(5) for more details. If parts of the
configuration could not be restored, those parts will be
noted in the error output, and the rest of the configuration
will still be applied.</p>

<p style="margin-left:11%; margin-top: 1em"><b>targetctl
clear</b></p>

<p style="margin-left:11%; margin-top: 1em">Removes any
existing configuration from the running kernel target.</p>

<p style="margin-left:11%; margin-top: 1em"><b>targetctl
--help</b></p>

<p style="margin-left:11%; margin-top: 1em">Displays usage
information.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>targetcli</b>(8),
<b>targetd</b>(8), <b>saveconfig.json</b>(5)</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>/etc/target/saveconfig.json</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>/sys/kernel/config/target</b></p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Written by Andy
Grover &lt;agrover@redhat.com&gt;. <br>
Man page written by Andy Grover
&lt;agrover@redhat.com&gt;.</p>

<h2>REPORTING BUGS
<a name="REPORTING BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Report bugs via
&lt;targetcli-fb-devel@lists.fedorahosted.org&gt; <br>
or &lt;https://github.com/agrover/rtslib-fb/issues&gt;</p>
<hr>
</body>
</html>
