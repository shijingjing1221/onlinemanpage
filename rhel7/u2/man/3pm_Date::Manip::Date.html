<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 01:23:57 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>Date::Manip::Date</title>

</head>
<body>

<h1 align="center">Date::Manip::Date</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#METHODS">METHODS</a><br>
<a href="#ISSUES WITH PARSING DATES">ISSUES WITH PARSING DATES</a><br>
<a href="#VALID TIME ZONE FORMATS">VALID TIME ZONE FORMATS</a><br>
<a href="#VALID DATE FORMATS">VALID DATE FORMATS</a><br>
<a href="#VALID TIME FORMATS">VALID TIME FORMATS</a><br>
<a href="#VALID COMBINED DATE AND TIME FORMATS">VALID COMBINED DATE AND TIME FORMATS</a><br>
<a href="#PRINTF DIRECTIVES">PRINTF DIRECTIVES</a><br>
<a href="#KNOWN BUGS">KNOWN BUGS</a><br>
<a href="#BUGS AND QUESTIONS">BUGS AND QUESTIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#LICENSE">LICENSE</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">Date::Manip::Date
&minus; Methods for working with dates</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<pre style="margin-left:11%; margin-top: 1em">   use Date::Manip::Date;
   $date = new Date::Manip::Date;</pre>


<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This module
works specifically with date objects.</p>

<p style="margin-left:11%; margin-top: 1em">Although the
word date is used extensively here, it is actually somewhat
misleading. Date::Manip works with the full calendar date
(year, month, day, and week when appropriate), time of day
(hour, minute, second), and time zone. It doesn&rsquo;t work
with fractional seconds.</p>

<h2>METHODS
<a name="METHODS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>base <br>
config</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>err</b></p></td>
<td width="85%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>is_date <br>
is_delta <br>
is_recur</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>new</b></p></td>
<td width="85%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>new_config <br>
new_date <br>
new_delta <br>
new_recur</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>tz</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Please refer to the Date::Manip::Obj documentation for
these methods.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>calc</b></p>

<pre style="margin-left:17%;">   $date2 = $date&minus;&gt;calc($delta [,$subtract]);
   $delta = $date&minus;&gt;calc($date2 [,$subtract] [,$mode]);</pre>


<p style="margin-left:17%; margin-top: 1em">Please refer to
the Date::Manip::Calc documentation for details.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>cmp</b></p></td>
<td width="7%"></td>
<td width="41%">

<pre>   $val = $date1&minus;&gt;cmp($date2);</td>
<td width="37%">
</td></tr>
</table></pre>

<p style="margin-left:17%; margin-top: 1em">This compares
two different dates (both of which must be valid date
objects). It returns &minus;1, 0, or 1 similar to the cmp or
&lt;=&gt; operators in perl. The comparison will
automatically handle time zone differences between the two
dates (i.e. they will be sorted in order as they appear in
the <small>GMT</small> zone).</p>

<p style="margin-left:17%; margin-top: 1em">A warning is
printed if either of the date objects does not include a
valid date.</p>

<p style="margin-left:11%;"><b>complete</b></p>

<pre style="margin-left:17%;">   $flag = $date&minus;&gt;complete([$field]);</pre>


<p style="margin-left:17%; margin-top: 1em">This tests the
date stored in the object to see if it is complete or
truncated (see below for a discussion of this).</p>

<p style="margin-left:17%; margin-top: 1em">If no
<tt>$field</tt> is passed in, it returns 1 if the date is
complete, or 0 if it was truncated and default values have
been supplied.</p>

<p style="margin-left:17%; margin-top: 1em">If
<tt>$field</tt> is passed in, it may be one of: m, d, h, mn,
s . It will return 1 if the value for that field was
specified, or 0 if a default was used.</p>

<p style="margin-left:11%;"><b>convert</b></p>

<pre style="margin-left:17%;">   $err = $date&minus;&gt;convert([$zone]);</pre>


<p style="margin-left:17%; margin-top: 1em">This converts
the date stored in the object to a different time zone.
<tt>$zone</tt> can be the name of a time zone. If it is not
passed in, the date is converted to the local time zone.</p>

<p style="margin-left:11%;"><b>holiday</b></p>

<pre style="margin-left:17%;">   $name = $date&minus;&gt;holiday();
   @name = $date&minus;&gt;holiday();
   $name = $date&minus;&gt;event();</pre>


<p style="margin-left:17%; margin-top: 1em">This returns
the name of the holiday if <tt>$date</tt> is a holiday. If
<tt>$date</tt> is not a holiday, undef is returned. If
<tt>$date</tt> is an unnamed holiday, an empty string is
returned.</p>

<p style="margin-left:17%; margin-top: 1em">In scalar
context, holiday returns the name of one holiday that occurs
on that date (the one first defined in the config file). In
list context, it returns all holidays on that date.</p>

<p style="margin-left:11%;"><b>input</b></p>

<pre style="margin-left:17%;">   $str = $date&minus;&gt;input();</pre>


<p style="margin-left:17%; margin-top: 1em">This returns
the string that was parsed to form the date.</p>

<p style="margin-left:11%;"><b>is_business_day</b></p>

<pre style="margin-left:17%;">   $flag = $date&minus;&gt;is_business_day($checktime);</pre>


<p style="margin-left:17%; margin-top: 1em">This returns 1
if <tt>$date</tt> is a business day.</p>


<p style="margin-left:17%; margin-top: 1em"><tt>$checktime</tt>
may be passed in. If it is non-zero, the time is checked to
see if the date is a business day and falls within work
hours.</p>

<p style="margin-left:11%;"><b>list_holidays</b></p>

<pre style="margin-left:17%;">  @date = $date&minus;&gt;list_holidays([$y]);</pre>


<p style="margin-left:17%; margin-top: 1em">This returns a
list of Date::Manip::Date objects containing all dates
during a year which are holidays. The times will all be
00:00:00.</p>

<p style="margin-left:17%; margin-top: 1em">If <tt>$y</tt>
is not passed in, it will list the holidays in the same year
as the date stored in <tt>$date</tt>.</p>

<p style="margin-left:11%;"><b>list_events</b></p>

<pre style="margin-left:17%;">   @list = $date&minus;&gt;list_events(       [$format] );
   @list = $date&minus;&gt;list_events(0      [,$format]);
   @list = $date&minus;&gt;list_events($date1 [,$format]);</pre>


<p style="margin-left:17%; margin-top: 1em">This returns a
list of events. Events are defined in the Events section of
the config file (discussed in the Date::Manip::Holidays
manual).</p>

<p style="margin-left:17%; margin-top: 1em">In the first
form, a list of all events active at the precise time stored
in <tt>$date</tt> will be returned.</p>

<p style="margin-left:17%; margin-top: 1em">If the first
argument evaluates to 0, a list of all events active at any
time during that day (Y,M,D) are returned.</p>

<p style="margin-left:17%; margin-top: 1em">If the first
argument is another date object, all events that are active
at any time between the two dates (inclusive) are
returned.</p>

<p style="margin-left:17%; margin-top: 1em">By default, the
list returned is of the form:</p>

<pre style="margin-left:17%; margin-top: 1em">   ( [START, END, NAME],
     [START, END, NAME],
     ...
   )</pre>


<p style="margin-left:17%; margin-top: 1em">where
<small>START</small> is a date object when an event starts,
<small>END</small> is a date object when it ends, and
<small>NAME</small> is the name of the event. Note that
<small>START</small> and <small>END</small> are the actual
start and end date of the event and may be outside the range
of dates being examined (though the event will obviously
overlap the range or it wouldn&rsquo;t be included in the
list).</p>

<p style="margin-left:17%; margin-top: 1em">If
<tt>$format</tt> is included, it can specify an alternate
format for the output. Currently, the only supported format
is named &quot;dates&quot; and it returns a list in the
form:</p>

<pre style="margin-left:17%; margin-top: 1em">   ( [DATE1, NAME1a, NAME1b, ...],
     [DATE2, NAME2a, NAME2b, ...],
     ...
   )</pre>


<p style="margin-left:17%; margin-top: 1em">This includes a
list of all dates during the range when there is a change in
what events are active. <small>DATE1</small> will always be
the start of the range being considered, and (NAME1a,
NAME1b, ...) are the list of all events that will be active
at that time. At <small>DATE2,</small> the list of active
events changes with (NAME2a, NAME2b, ...) being active.</p>

<p style="margin-left:17%; margin-top: 1em">It is quite
possible that a date be included which has no active events,
and in that case, the list of names will be empty.</p>


<p style="margin-left:11%;"><b>nearest_business_day</b></p>


<pre style="margin-left:17%;">   $date&minus;&gt;nearest_business_day([$tomorrowfirst]);</pre>


<p style="margin-left:17%; margin-top: 1em">This looks for
the work day nearest to <tt>$date</tt>. If <tt>$date</tt> is
a work day, it is left unmodified. Otherwise, it will look
forward or backwards in time 1 day at a time until a work
day is found. If <tt>$tomorrowfirst</tt> is non-zero (or if
it is omitted and the config variable TomorrowFirst is
non-zero), we look to the future first. Otherwise, we look
in the past first. In other words, in a normal week, if
<tt>$date</tt> is Wednesday, <tt>$date</tt> is returned. If
<tt>$date</tt> is Saturday, Friday is returned. If
<tt>$date</tt> is Sunday, Monday is returned. If Wednesday
is a holiday, Thursday is returned if
<tt>$tomorrowfirst</tt> is non-nil or Tuesday otherwise.</p>

<p style="margin-left:11%;"><b>next_business_day <br>
prev_business_day</b></p>

<pre style="margin-left:17%;">   $date&minus;&gt;next_business_day($off [,$checktime]);
   $date&minus;&gt;prev_business_day($off [,$checktime]);</pre>


<p style="margin-left:17%; margin-top: 1em">The
next_business_day method sets the given date to
<tt>$off</tt> (which can be a positive integer or zero)
business days in the future. The prev_business_day method
sets the date to <tt>$off</tt> business days in the
past.</p>

<p style="margin-left:17%; margin-top: 1em">First,
<tt>$date</tt> is tested. If <tt>$checktime</tt> is nonzero,
the date must fall on a business date, and during business
hours. If <tt>$checktime</tt> is zero, the time check is not
done, and the date must simply fall on a business date.</p>

<p style="margin-left:17%; margin-top: 1em">If the check
fails, the date is moved to the start of the next business
day (if <tt>$checktime</tt> is nonzero) or the next business
day at the current time (if <tt>$checktime</tt> is zero).
Otherwise, it is left unmodified.</p>

<p style="margin-left:17%; margin-top: 1em">Next, if
<tt>$off</tt> is greater than 0, the day <tt>$off</tt> work
days from now is determined.</p>

<p style="margin-left:17%; margin-top: 1em">One thing to
note for the prev_business_day method is that if
<tt>$date</tt> check fails, the date is set to the next
business date, exactly like next_business_day. In other
words, if <tt>$date</tt> is not a business day, the
call:</p>

<pre style="margin-left:17%; margin-top: 1em">   $date&minus;&gt;prev_business_day(0 [,$checktime]);</pre>


<p style="margin-left:17%; margin-top: 1em">moves
<tt>$date</tt> forward in time instead of backward which is
nonintuitive, but you just have to think of day 0 as being
the next business day if <tt>$date</tt> is not a business
day.</p>

<p style="margin-left:17%; margin-top: 1em">As a result,
the following two calls <small>ALWAYS</small> give the same
result:</p>

<pre style="margin-left:17%; margin-top: 1em">   $date&minus;&gt;next_business_day(0 [,$checktime]);
   $date&minus;&gt;prev_business_day(0 [,$checktime]);</pre>


<p style="margin-left:17%; margin-top: 1em">no matter what
date is stored in <tt>$date</tt>.</p>

<p style="margin-left:11%;"><b>parse</b></p>

<pre style="margin-left:17%;">   $err = $date&minus;&gt;parse($string [,@opts]);</pre>


<p style="margin-left:17%; margin-top: 1em">This parses a
string which should include a valid date and stores it in
the object. If the string does not include a valid date, an
error is returned. Use the err method to see the full error
message.</p>

<p style="margin-left:17%; margin-top: 1em">A full date may
include a calendar date (year, month, day), a time of day
(hour, minute, second), and time zone information. All of
this can be entered in many different formats.</p>

<p style="margin-left:17%; margin-top: 1em">For information
on valid date formats, refer to the section <small>VALID
DATE FORMATS.</small> For information on valid time zone
information, refer to the section <small>VALID TIME ZONE
FORMATS.</small></p>

<p style="margin-left:17%; margin-top: 1em">If no time zone
information is included in the date, it is treated as being
in the local time zone.</p>

<p style="margin-left:17%; margin-top: 1em">If time zone
information is included, the date will be kept in that time
zone, and all operations will be done in that time zone. The
convert method can be used to change the time zone to the
local time zone, or to another time zone.</p>

<p style="margin-left:17%; margin-top: 1em">Some things to
note:</p>

<p style="margin-left:17%; margin-top: 1em">All strings are
case insensitive. &quot;December&quot; and
&quot;DEceMBer&quot; are equivalent.</p>

<p style="margin-left:17%; margin-top: 1em">When a part of
the date is not given, defaults are used. This is described
below in the section &quot;Complete vs. truncated dates and
times&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">The year may be
entered as 2 or 4 digits. If entered as 2 digits, it will be
converted to a 4 digit year. There are several ways to do
this based on the value of the YYtoYYYY config variable.
Refer to the Date::Manip::Config documentation for more
details.</p>

<p style="margin-left:17%; margin-top: 1em">Dates are
always checked to make sure they are valid.</p>

<p style="margin-left:17%; margin-top: 1em">If any other
arguments are passed in, they act as options which may
improve the speed of parsing. These include:</p>

<pre style="margin-left:17%; margin-top: 1em">   noiso8601  Do not try to parse the
              date as an ISO 8601 date
              or time.
   nodow      Do not try to parse a
              day&minus;of&minus;week (Monday) in
              the string.
   nocommon   Do not try to parse the
              date using the formats
              in the &quot;Common date
              formats&quot; section.
   noother    Do not try to parse the
              date using the &quot;Less common
              date formats&quot; or a time
              using the &quot;Other time
              formats&quot;.
   nospecial  Do not try to parse the
              date using the &quot;Special
              date strings&quot; formats
              or a time using the
              &quot;Special time strings&quot;
              formats, or as a
              combined date/time using
              the &quot;Additional combined
              date and time&quot; formats.
   nodelta    Do not treat deltas as
              a date relative to now.
   noholidays Do not parse holiday
              names as dates.</pre>


<p style="margin-left:11%;"><b>parse_date</b></p>

<pre style="margin-left:17%;">   $err = $date&minus;&gt;parse_date($string [,@opts]);</pre>


<p style="margin-left:17%; margin-top: 1em">This parses a
string which contains a valid date and sets the date part of
the object.</p>

<p style="margin-left:17%; margin-top: 1em">If the object
contained a valid date, the time is kept unchanged. If the
object did <small>NOT</small> contain a valid date, a time
of 00:00:00 is used.</p>

<p style="margin-left:17%; margin-top: 1em"><tt>@opts</tt>
can be any of the strings described in the parse method
above.</p>

<p style="margin-left:11%;"><b>parse_time</b></p>

<pre style="margin-left:17%;">   $err = $date&minus;&gt;parse_time($string);</pre>


<p style="margin-left:17%; margin-top: 1em">This parses a
string and sets the time portion of <tt>$date</tt> to
contain it.</p>

<p style="margin-left:17%; margin-top: 1em">If the object
contained a valid date, the Y/M/D portion is left unchanged.
Otherwise, the current date is used.</p>

<p style="margin-left:11%;"><b>parse_format</b></p>

<pre style="margin-left:17%;">   $err = $date&minus;&gt;parse_format($format,$string);</pre>


<p style="margin-left:17%; margin-top: 1em">This will parse
a date contained in <tt>$string</tt> based on explicit
format information contained in <tt>$format</tt>.</p>

<p style="margin-left:17%; margin-top: 1em">If the format
is invalid, <tt>$err</tt> will contain an error message. If
the format is valid, but string doesn&rsquo;t match, an
error code of 1 is returned.</p>


<p style="margin-left:17%; margin-top: 1em"><tt>$format</tt>
is a string containing a regular expression with some
special directives (based on the printf directives). These
directives are turned into regular expression components,
and then the entire string is turned into a regular
expression which, if <tt>$string</tt> matches it, will
return the date.</p>

<p style="margin-left:17%; margin-top: 1em">The directives
available are identical to the printf directives. So, if
your <tt>$format</tt> string contains the directive
&rsquo;%Y&rsquo;, it will match a 4&minus;digit year.</p>

<p style="margin-left:17%; margin-top: 1em">All of the
printf directives are available, but with a few
simplifications:</p>

<pre style="margin-left:17%; margin-top: 1em">   %l        This directive is NOT available.
   %b,%h,%B  will all match a month name or
             abbreviation
   %v,%a,%A  will all match a day abbreviation
             or name
   %z,%Z,%N  will match any time zone string
   %n        currently not allowed (multi&minus;line
             matching not currently supported)</pre>


<p style="margin-left:17%; margin-top: 1em">The format
string may not over-specify the date. In other words, you
may not include both a <tt>%y</tt> and <tt>%Y</tt> directive
or both a <tt>%j</tt> and <tt>%m</tt> directive.</p>

<p style="margin-left:17%; margin-top: 1em">A valid format
string will specify any of the following sets of data:</p>

<pre style="margin-left:17%; margin-top: 1em">   Required          Optional
   M D H Mn S        Y Zone Day&minus;of&minus;week
   M D H Mn          Y Zone Day&minus;of&minus;week
   M D               Y Zone Day&minus;of&minus;week
   H Mn S            Zone
   H Mn              Zone</pre>


<p style="margin-left:17%; margin-top: 1em">For example, if
you had a date stored as:</p>

<pre style="margin-left:17%; margin-top: 1em">   YYYY.MM&minus;DD</pre>


<p style="margin-left:17%; margin-top: 1em">you could match
it using the following:</p>

<pre style="margin-left:17%; margin-top: 1em">   $date&minus;&gt;parse_format('%Y\\.%m\\&minus;%d',$string);</pre>


<p style="margin-left:17%; margin-top: 1em">If you wanted
to extract the date from an apache log line:</p>

<pre style="margin-left:17%; margin-top: 1em">   10.11.12.13 &minus; &minus; [17/Aug/2009:12:33:30 &minus;0400] &quot;GET /favicon.ico ...</pre>


<p style="margin-left:17%; margin-top: 1em">you could
use:</p>

<pre style="margin-left:17%; margin-top: 1em">   $date&minus;&gt;parse_format('.*?\\[%d/%b/%Y:%T %z\\].*',$line);</pre>


<p style="margin-left:17%; margin-top: 1em">When matching
months, days, and hours, there are two directives that could
be used (for numerical versions). For the month, you may use
<tt>%m</tt> or <tt>%f</tt>. If your date is known to have a
two-digit month, you should use <tt>%m</tt>. If it contains
a one&minus; or two-digit month, you must use <tt>%f</tt>
(and it is safe to use <tt>%f</tt> for two-digit months).
Similarly, for days, you can use <tt>%d</tt> or <tt>%e</tt>
and for hours you can use <tt>%H</tt> or <tt>%k</tt>. In
both cases, the first can only be used if you are guaranteed
a 2&minus;digit value.</p>

<p style="margin-left:17%; margin-top: 1em">In your format
string, you may use capture buffers that can be back
referenced elsewhere in the regular expression. If you use
numbered back references, just be aware that all of the
directives create a single capture buffer (except for the
directives like %% which match a special character instead
of a portion of a date). If you use named buffers, do
<small>NOT</small> use any of the following as they will
conflict with the capture buffers created with the standard
directives:</p>

<pre style="margin-left:17%; margin-top: 1em">   y
   m
   d
   h
   mn
   s
   mon_name
   mon_abb
   dow_name
   dow_abb
   dow_char
   dow_num
   doy
   nth
   ampm
   epochs
   epocho
   tzstring
   off
   abb
   zone
   g
   w
   l
   u</pre>


<p style="margin-left:17%; margin-top: 1em">To be safe, it
is suggested that named capture buffers start with a capital
letter.</p>

<p style="margin-left:17%; margin-top: 1em">There is one
other caveat if the <tt>%x</tt> directive is used. The
format is converted to a regular expression and then cached
(so that a format can be reused without the penalty of doing
the conversion to a regular expression, so if you need to
set the DateFormat config variable (which determines the
meaning of the <tt>%x</tt> directive), it must be done
before a format string containing <tt>%x</tt> is used. If
the DateFormat config variable is set afterwards, the format
string will reflect the old, <small>NOT THE NEW,</small>
value of DateFormat.</p>

<p style="margin-left:11%;"><b>prev <br>
next</b></p>

<p style="margin-left:17%;">The prev method changes the
date to the previous (or current) occurrence of either a day
of the week, a certain time of day, or both. The next method
changes the date to the next (or current) occurrence. The
examples below illustrate the prev method, but the next one
is identical in operation.</p>

<p style="margin-left:17%; margin-top: 1em">There are two
different ways to use this method. The first is to pass in a
day of week and possibly a time:</p>

<pre style="margin-left:17%; margin-top: 1em">   $err = $date&minus;&gt;prev($dow, $curr [,$time]);</pre>


<p style="margin-left:17%; margin-top: 1em">If
<tt>$curr</tt> = 0, this means to look for the previous
occurence of the day of week, and set the time to the value
passed in (or current time if no time was passed in). The
day is <small>ALWAY</small> less than the current day. If
the current day is the same day of week as <tt>$dow</tt>,
then the date returned will be one week earlier.</p>

<p style="margin-left:17%; margin-top: 1em">If
<tt>$curr</tt> = 1, it means to look for the current or
previous occurence of the day of week, and set the time to
the value passed in (or 00:00:00 if none was passed in). If
the current day of week is the same as <tt>$dow</tt>, the
date will remain unchanged. Since the time is then set, the
new date may actually occur after the original date
depending on the value of <tt>$time</tt>.</p>

<p style="margin-left:17%; margin-top: 1em">If
<tt>$curr</tt> = 2, it means to look for the last time (not
counting now) that the day of week at the given time
occurred. The date may be the same as the original date.</p>

<p style="margin-left:17%; margin-top: 1em"><tt>$time</tt>
may be a list reference of [H,MN,S], [H,MN], or [H].</p>

<p style="margin-left:17%; margin-top: 1em">The following
examples should illustrate the use of this function.</p>

<pre style="margin-left:17%; margin-top: 1em">    Original Date = Fri Nov 22 18:15:00
    dow      curr   time       new date
    4 (Thu)  0/1/2  undef      Thu Nov 21 00:00:00
    4        0/1/2  [12,30,0]  Thu Nov 21 12:30:00
    5 (Fri)  0/2    undef      Fri Nov 15 18:15:00
    5        1      undef      Fri Nov 22 18:15:00
    5        0      [12,30,0]  Fri Nov 15 12:30:00
    5        1/2    [12,30,0]  Fri Nov 22 12:30:00
    5        0/2    [19,30,0]  Fri Nov 15 19:30:00
    5        1      [19,30,0]  Fri Nov 22 19:30:00</pre>


<p style="margin-left:17%; margin-top: 1em">The second way
to use this method is by passing in undef for the day of
week.</p>

<pre style="margin-left:17%; margin-top: 1em">   $err = $date&minus;&gt;prev(undef,$curr,$time);</pre>


<p style="margin-left:17%; margin-top: 1em">In this case, a
time is required and it must be a list reference of 3
elements: [H, <small>MN, S</small> ]. Any or all of the
elements may be undef.</p>

<p style="margin-left:17%; margin-top: 1em">The new date is
the previous occurrence of the time.</p>

<p style="margin-left:17%; margin-top: 1em">If you define
hours, then minutes and seconds may be defined, or default
to 0 and you are looking for a previous time that the
specified time ( <small>HH:00:00</small> ) occurred (which
might be as much as 24 hours in the past).</p>

<p style="margin-left:17%; margin-top: 1em">If hours are
undefined and minutes are defined, then seconds may be
defined, or default to 0, and you are looking for the last
time the minutes/seconds ( <small>MN:SS</small> ) appeared
on the digital clock, which will be sometime in the past
hour.</p>

<p style="margin-left:17%; margin-top: 1em">Finally, if
hours and minutes are undefined, seconds must be defined (or
default to zero) and the last time that that second occurred
will be returned (which will be sometime in the past
minute).</p>

<p style="margin-left:17%; margin-top: 1em">If
<tt>$curr</tt> is non-zero, the current time is returned if
it matches the criteria passed in, so the returned value
will be now or in the past. If <tt>$curr</tt> is zero, the
time returned will definitely be in the past.</p>

<pre style="margin-left:17%; margin-top: 1em">    DATE = Fri Nov 22 18:15:00
    curr  hr     min    sec      returns
    0/1   18     undef  undef    Nov 22 18:00:00
    0/1   18     30     0        Nov 21 18:30:00
    0     18     15     undef    Nov 21 18:15:00
    1     18     15     undef    Nov 22 18:15:00
    0     undef  15     undef    Nov 22 17:15:00
    1     undef  15     undef    Nov 22 18:15:00</pre>


<p style="margin-left:11%;"><b>printf</b></p>

<pre style="margin-left:17%;">   $out = $date&minus;&gt;printf($in);
   @out = $date&minus;&gt;printf(@in);</pre>


<p style="margin-left:17%; margin-top: 1em">This takes a
string or list of strings which may contain any number of
special formatting directives. These directives are replaced
with information contained in the date. Everything else in
the string is returned unmodified.</p>

<p style="margin-left:17%; margin-top: 1em">A directive
always begins with &rsquo;%&rsquo;. They are described in
the section below in the section <small>PRINTF
DIRECTIVES.</small></p>

<p style="margin-left:11%;"><b>secs_since_1970_GMT</b></p>

<pre style="margin-left:17%;">   $secs = $date&minus;&gt;secs_since_1970_GMT();</pre>


<p style="margin-left:17%; margin-top: 1em">This returns
the number of seconds that have elapsed since Jan 1, 1970
00:00:00 <small>GMT</small> (negative if the date is
earlier).</p>

<p style="margin-left:17%; margin-top: 1em">The reverse is
also allowed:</p>

<pre style="margin-left:17%; margin-top: 1em">   $err = $date&minus;&gt;secs_sincs_1970_GMT($secs);</pre>


<p style="margin-left:17%; margin-top: 1em">which sets the
date to <tt>$secs</tt> seconds from Jan 1, 1970 00:00:00
<small>GMT</small> in the local time zone.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>set</b></p></td>
<td width="7%"></td>
<td width="64%">

<pre>   $err = $date&minus;&gt;set($field,@vals [,$isdst]);</td>
<td width="14%">
</td></tr>
</table></pre>

<p style="margin-left:17%; margin-top: 1em">This explicitly
sets one or more fields in a date.</p>


<p style="margin-left:17%; margin-top: 1em"><tt>$field</tt>
can be any of the following:</p>

<pre style="margin-left:17%; margin-top: 1em">   $field   @vals
   zone     [ZONE]         ZONE can be any zone or alias
   zdate    [ZONE,]DATE    sets the zone and entire date
   date     DATE           sets the entire date
   time     TIME           sets the entire time
   y        YEAR           sets one field
   m        MONTH
   d        DAY
   h        HOUR
   mn       MINUTE
   s        SECOND</pre>


<p style="margin-left:17%; margin-top: 1em">Here,
<small>DATE</small> is a list reference containing
[Y,M,D,H,MN,S] and <small>TIME</small> is a list reference
containing [H,MN,S].</p>


<p style="margin-left:17%; margin-top: 1em"><small>ZONE</small>
is optional (it defaults to the local zone as defined either
by the system clock, or the SetDate or ForceDate config
variables). If it is passed in, it can be any zone name,
abbreviation, or offset. An offset can be expressed either
as a valid offset string, or as a list reference. Refer to
the join/split functions of Date::Manip::Base for
information on valid offset strings.</p>

<p style="margin-left:17%; margin-top: 1em">An optional
last argument is <tt>$isdst</tt> (which must be 0 or 1) is
included when setting a date which could be in either
standard time or daylight saving time. It is ignored in all
other situations. If it is not included, and the resulting
date could be in either, it will default to standard
time.</p>

<p style="margin-left:17%; margin-top: 1em">The
<tt>$date</tt> object must contain a valid date (unless the
entire date is being set with <tt>$field</tt> set to either
&quot;zdate&quot; or &quot;date&quot;).</p>

<p style="margin-left:17%; margin-top: 1em">If
<tt>$field</tt> is &quot;zone&quot;, the time zone of the
date will be set. If <small>ZONE</small> is not passed in,
it will be set to the local time zone. When setting the time
zone, no conversion is done! Whatever date and time is
stored in the <tt>$date</tt> object prior to this remains
unchanged... except it will be that date and time in the new
time zone.</p>

<p style="margin-left:17%; margin-top: 1em">If
<tt>$field</tt> is &quot;zdate&quot;, the entire date and
time zone is set. If <small>ZONE</small> is not passed in,
it is set to the local time zone.</p>

<p style="margin-left:17%; margin-top: 1em">If
<tt>$field</tt> is &quot;date&quot;, the entire date will be
set, but the time zone of the date will not be changed.</p>

<p style="margin-left:17%; margin-top: 1em">If
<tt>$field</tt> is &quot;time&quot;, or one of the
individual fields, only those fields will be modified.</p>

<p style="margin-left:17%; margin-top: 1em">An error is
returned if an invalid argument list is passed in, or if the
resulting date is checked and found to be invalid.</p>

<p style="margin-left:11%;"><b>value</b></p>

<pre style="margin-left:17%;">   $val = $date&minus;&gt;value([$type]);
   @val = $date&minus;&gt;value([$type]);</pre>


<p style="margin-left:17%; margin-top: 1em">These return
the value of the date stored in the object.</p>

<p style="margin-left:17%; margin-top: 1em">In scalar
context, a printable string in the form
<small>YYYYMMDDHH:MN:SS</small> is returned. In list
context, a list is returned of (Y,M,D,H,MN,S).</p>

<p style="margin-left:17%; margin-top: 1em">If
<tt>$type</tt> is omitted, the date is returned in the time
zone it was parsed in.</p>

<p style="margin-left:17%; margin-top: 1em">If
<tt>$type</tt> is &quot;local&quot;, it is returned in the
local time zone (which is either the system time zone, or
the zone specified with the SetDate or ForceDate config
variables).</p>

<p style="margin-left:17%; margin-top: 1em">If
<tt>$type</tt> is &quot;gmt&quot;, the date is returned in
the <small>GMT</small> time zone.</p>

<p style="margin-left:17%; margin-top: 1em">An empty string
or list is returned i the case of an error (and an error
code is set).</p>

<p style="margin-left:11%;"><b>week_of_year</b></p>

<pre style="margin-left:17%;">   $wkno = $date&minus;&gt;week_of_year([$first]);</pre>


<p style="margin-left:17%; margin-top: 1em">This figures
out the week number. If <tt>$first</tt> is passed in, it
must be between 1 and 7 and refers to the first day of the
week. If <tt>$first</tt> is not passed in, the FirstDay
config variable is used.</p>


<p style="margin-left:17%; margin-top: 1em"><small>NOTE:</small>
This routine should only be called in rare cases. Use printf
with the <tt>%W</tt>, <tt>%U</tt>, <tt>%J</tt>, <tt>%L</tt>
formats instead. This routine returns a week between 0 and
53 which must then be &quot;fixed&quot; to get into the
<small>ISO 8601</small> weeks from 1 to 53. A date which
returns a week of 0 actually belongs to the last week of the
previous year. A date which returns a week of 53 may belong
to the first week of the next year.</p>

<h2>ISSUES WITH PARSING DATES
<a name="ISSUES WITH PARSING DATES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
issues may occur when parsing dates that should be
understood to make full use of this module. <b><br>
Complete vs. truncated dates and times</b></p>

<p style="margin-left:17%;">Date formats are either
complete or truncated. A complete date fully specifies the
year, month, and day and a complete time fully specifies the
hour, minute, and second.</p>

<p style="margin-left:17%; margin-top: 1em">It should be
understood that in many instances, the information may be
implied rather than explicitly stated, but it is still
treated as complete.</p>

<p style="margin-left:17%; margin-top: 1em">For example,
the date &quot;January 3&quot; is complete because it
implies the current year.</p>

<p style="margin-left:17%; margin-top: 1em">A truncated
calendar date or time does not include information about
some of the fields. Date::Manip will never work with a
partial date or time, so defaults will be supplied.</p>

<p style="margin-left:17%; margin-top: 1em">For example,
the date &quot;2009&minus;01&quot; is missing a day field,
so a default will be used. In this case, the day will be the
1st, so this is equivalent to &quot;Jan 1st 2009&quot;. If
only the year is given, it will default to Jan 1.</p>

<p style="margin-left:17%; margin-top: 1em">If the time, or
any of it&rsquo;s components is missing, they default to 00.
So the time &quot;12:30&quot; and &quot;12:30:00&quot; are
equivalent.</p>

<p style="margin-left:17%; margin-top: 1em">The
&quot;complete&quot; method can be used to check what type
of date was parsed, and which values were specified (either
explicitly or implied) and which were provided as a default.
It should be noted that there is no way to differentiate
between an explicit and implied value.</p>

<p style="margin-left:17%; margin-top: 1em">A string with a
date and/or time may consist of any of the following:</p>

<pre style="margin-left:17%; margin-top: 1em">   a complete date and a time (complete or truncated)
   a truncated date with no time
   a time (complete or truncated) with no date</pre>


<p style="margin-left:17%; margin-top: 1em">In other words,
the date &quot;Jan 2009 12:30&quot; is not valid since it
consists of a time with a truncated date.</p>

<h2>VALID TIME ZONE FORMATS
<a name="VALID TIME ZONE FORMATS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When specifying
a time zone, it can be done in three different ways. One way
is to specify the actual time zone. The second is to supply
a valid time zone abbreviation. The third is to specify an
offset (with an optional abbreviation). The following dates
illustrate the these formats.</p>

<p style="margin-left:11%; margin-top: 1em">The timezone
information always follows the time immediately, and may
only be included if a time is included. The following
examples use an <small>ISO 8601</small> format for the
date/time, but any of the other date and time formats may be
used.</p>

<p style="margin-left:11%; margin-top: 1em">The first way
to specify the time zone is to specify it by complete name
(or using one of the standard aliases):</p>

<pre style="margin-left:11%; margin-top: 1em">   2001&minus;07&minus;01&minus;00:00:00 America/New_York</pre>


<p style="margin-left:11%; margin-top: 1em">Although this
is unambiguous when it comes to determining the time zone,
the time is ambiguous in most zones for one hour of the
year. When a time change occurs during which the clock is
moved back, the same wallclock time occurs twice.</p>

<p style="margin-left:11%; margin-top: 1em">For example, in
America/New_York, on Sunday, Nov 2, 2008, at 02:00 in the
morning, the clock was set back to 01:00. As a result, the
date Nov 2, 2008 at 01:30 is ambiguous. It is impossible to
determine if this refers to the 01:30 that occurred half an
hour before the time change, or the one 30 minute after the
change.</p>

<p style="margin-left:11%; margin-top: 1em">In practice, if
this form is used, the date will be assigned to standard
time, meaning that there will be some times (typically 1
hour per year) which cannot be expressed this way. As such,
this method is discouraged.</p>

<p style="margin-left:11%; margin-top: 1em">The second way
to specify the time zone, which is the most common, is to
use a time zone abbreviation:</p>

<pre style="margin-left:11%; margin-top: 1em">   2001&minus;07&minus;01&minus;00:00:00 EDT</pre>


<p style="margin-left:11%; margin-top: 1em">Unfortunately,
the abbreviation does not uniquely determine the time zone
except in a few cases. In order to assign a time zone,
Date::Manip will refer to a list of all time zones which use
the abbreviation. They will be tested, in the order given in
the Date::Manip::Zones documentation, and the first match
(i.e. the one in which the given date/time and abbreviation
are valid) determines the time zone which will be used. A
great deal of effort has been made to ensure that the most
likely time zone will be obtained (i.e. the most common time
zones are tested before less common ones), so in most cases,
the desired results will be obtained.</p>

<p style="margin-left:11%; margin-top: 1em">If the default
order does not yield the desired time zone, the order of
testing can be modified using the abbrev method described in
the Date::Manip::TZ documentation.</p>

<p style="margin-left:11%; margin-top: 1em">Although the
time zone is ambiguous, the date is not, since only time
zones for which the date are valid will be used.</p>

<p style="margin-left:11%; margin-top: 1em">The third way
to specify the time zone is by specifying an offset and an
optional abbreviation:</p>

<pre style="margin-left:11%; margin-top: 1em">   2001&minus;07&minus;01&minus;00:00:00 &minus;04
   2001&minus;07&minus;01&minus;00:00:00 &minus;0400
   2001&minus;07&minus;01&minus;00:00:00 &minus;040000
   2001&minus;07&minus;01&minus;00:00:00 &minus;04:00
   2001&minus;07&minus;01&minus;00:00:00 &minus;04:00:00
   2001&minus;07&minus;01&minus;00:00:00 &minus;04 (EDT)
   2001&minus;07&minus;01&minus;00:00:00 &minus;0400 (EDT)
   2001&minus;07&minus;01&minus;00:00:00 &minus;040000 (EDT)
   2001&minus;07&minus;01&minus;00:00:00 &minus;04:00 (EDT)
   2001&minus;07&minus;01&minus;00:00:00 &minus;04:00:00 (EDT)
   2001&minus;07&minus;01&minus;00:00:00 &minus;04 EDT
   2001&minus;07&minus;01&minus;00:00:00 &minus;0400 EDT
   2001&minus;07&minus;01&minus;00:00:00 &minus;040000 EDT
   2001&minus;07&minus;01&minus;00:00:00 &minus;04:00 EDT
   2001&minus;07&minus;01&minus;00:00:00 &minus;04:00:00 EDT</pre>


<p style="margin-left:11%; margin-top: 1em">The offset
almost never sufficient to uniquely determine the time zone
(and it is not even guaranteed that both the offset and
abbreviation will, though in practice, it is probably
sufficient). In this instance, the time zone will be
determined by testing all time zones which have the given
offset (and abbreviation if it is included) until one is
found which matches both pieces of information. For more
information about how this testing is done, refer to the
def_zone method of the Date::Manip::TZ documentation.</p>

<h2>VALID DATE FORMATS
<a name="VALID DATE FORMATS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">There are
several categories of date formats supported by Date::Manip.
These are strings which specify only the year/month/day
fields.</p>

<p style="margin-left:11%; margin-top: 1em">These formats
explicitly set the date, but not the time. These formats may
be combined with a time string (as specified below) to set
both the date and time. If this is not done, the default
time is determined by the DefaultTime config variable.
<b><small><br>
ISO 8601</small> dates</b></p>

<p style="margin-left:17%;">The preferred date formats are
those specified by <small>ISO 8601.</small> The
specification includes valid calendar date and valid time
formats. Date::Manip will handle all of these formats, but
does not require that the dates rigidly adhere to the
specification since the ultimate goal of Date::Manip is to
handle dates as they are represented in real life and some
common variations exist which are similar to, but not
identical to, those from the specification.</p>

<p style="margin-left:17%; margin-top: 1em">A calendar date
includes the following fields:</p>

<pre style="margin-left:17%; margin-top: 1em">   CC    2&minus;digit representation of the century
   YY    2&minus;digit representation of the year in
         a century
   MM    2&minus;digit representation of a month
   DD    2&minus;ditit representation of a day of month
   DoY   3&minus;digit representation of a day of year
         (001&minus;366)
   Www   the character &quot;W&quot; followed by a 2&minus;digit
         week of the year (01&minus;53)
   D     the day of the week (1&minus;7)</pre>


<p style="margin-left:17%; margin-top: 1em">The following
date formats are considered complete by Date::Manip. In the
following, the date Thu Mar 5 2009 is used as an example.
This is the 64th day of the year. Thu is the 4th day of the
week. The week starting Mon, Mar 2 is the 10th week of the
year (according the the <small>ISO 8601</small> definition).
Obviously, some of the formats are only valid when used at
some times. For example, the format &minus;&minus;MMDD
refers to a month and day in the current year, so the date
Mar 5, 2009 can only be specified using this format during
2009.</p>

<pre style="margin-left:17%; margin-top: 1em">   Format      Notes   Examples
   CCYYMMDD            20090305
   CCYY&minus;MM&minus;DD          2009&minus;03&minus;05
   YYMMDD      1,2,4   090305
   YY&minus;MM&minus;DD            09&minus;03&minus;05
   &minus;YYMMDD     3,4     &minus;090305
   &minus;YY&minus;MM&minus;DD           &minus;09&minus;03&minus;05
   &minus;&minus;MMDD      1       &minus;&minus;0305
   &minus;&minus;MM&minus;DD             &minus;&minus;03&minus;05
   &minus;&minus;&minus;DD       1       &minus;&minus;&minus;05
   CCYYDoY             2009064
   CCYY&minus;DoY            2009&minus;064
   YYDoY       1,4     09064
   YY&minus;DoY              09&minus;064
   &minus;YYDoY      3,4     &minus;09064
   &minus;YY&minus;DoY             &minus;09&minus;064
   &minus;DoY        1       &minus;064
   CCYYWwwD            2009W104
   CCYY&minus;Www&minus;D          2009&minus;W10&minus;4
   YYWwwD      1,4     09W104
   YY&minus;Www&minus;D            09&minus;W10&minus;4
   &minus;YYWwwD     3,4     &minus;09W104
   &minus;YY&minus;Www&minus;D           &minus;09&minus;W10&minus;4
   &minus;YWwwD      1       &minus;9W104
   &minus;Y&minus;Www&minus;D            &minus;9&minus;W10&minus;4
                       Y is the year (0&minus;9) in
                       current decade
   &minus;WwwD       1       &minus;W104
   &minus;Www&minus;D              &minus;W10&minus;4
   &minus;W&minus;D        1       &minus;W&minus;4
                       D is day (1&minus;7) in
                       current week
   &minus;&minus;&minus;D        1       &minus;&minus;&minus;4
                       same as &minus;W&minus;D</pre>


<p style="margin-left:17%; margin-top: 1em">The following
date formats are truncated:</p>

<pre style="margin-left:17%; margin-top: 1em">   CCYY&minus;MM     2       2009&minus;03
   CCYY                2009
   CC          2       20
   &minus;YYMM       4       &minus;0903
   &minus;YY&minus;MM              &minus;09&minus;03
   &minus;YY         4       &minus;09
   &minus;&minus;MM                &minus;&minus;03
   CCYYWww             2009W10
   CCYY&minus;Www            2009&minus;W10
   YYWww       4       09W10
   YY&minus;Www              09&minus;W10
   &minus;YYWww      3,4     &minus;09W10
   &minus;YY&minus;Www             &minus;09&minus;W10
   &minus;Www                &minus;W10</pre>


<p style="margin-left:17%; margin-top: 1em">Notes:</p>

<p style="margin-left:17%; margin-top: 1em">1 These formats
are considered truncated in the standard, but since <br>
they do include (or imply, using the current date for
defaults) all of <br>
the fields, and since they do not introduce any parsing
complexities, <br>
the standard is relaxed, and they are treated as
complete.</p>

<p style="margin-left:17%; margin-top: 1em">2 These formats
are treated differently than in Date::Manip 5.xx as <br>
described below.</p>

<p style="margin-left:17%; margin-top: 1em">3 These formats
are not defined in the <small>ISO 8601</small> spec, but
<br>
are added for the sake of completeness since they do not
<br>
add any parsing incompatibilities.</p>

<p style="margin-left:17%; margin-top: 1em">4 Formats where
the century is not given are described as a year in <br>
the current century in the specification. Date::Manip treats
this <br>
more generically using the YYtoYYYY config variable. This
will be <br>
used to determine how to determine the full year.</p>

<p style="margin-left:17%; margin-top: 1em">Date::Manip
5.xx handled <small>ISO 8601</small> dates in a less rigid
fashion, and deviated from the specification in several
formats. As of 6.00, the specification is followed much more
closely so that all of the date formats included in it
should produce valid dates. This changes, in a backwards
incompatible way, the way a few strings will be interpreted
as dates.</p>

<p style="margin-left:17%; margin-top: 1em">As of 6.00, a
two-digit date will be treated as <small>CC.</small>
Previously, it was treated as <small>YY.</small></p>

<p style="margin-left:17%; margin-top: 1em">A six-digit
date will be treated as <small>YYMMDD.</small> Previously,
it was treated as <small>YYYYMM.</small></p>

<p style="margin-left:17%; margin-top: 1em">Previously,
dashes were treated as optional in many cases. According to
the specification, dates may be written in expanded form
(with all dashes present) or abbreviate form (with no
dashes). As of 6.00, this is the behavior, so the formats:
<small>YYMMDD</small> and YY-MM-DD are allowed, as per the
specification, but the format YY-MMDD is <small>NOT</small>
allowed (though it was previously).</p>

<p style="margin-left:17%; margin-top: 1em">The Www-D
formats require a bit of explanation. According to the
specification, the date:</p>

<pre style="margin-left:17%; margin-top: 1em">   1996&minus;w02&minus;3</pre>


<p style="margin-left:17%; margin-top: 1em">refers to the
day with an ordinal number of 3 within the calendar week in
the 2nd week of 1996.</p>

<p style="margin-left:17%; margin-top: 1em">In the
specification, the days of the week are numbered from 1 to 7
(Monday to Sunday), and the week always begins on Monday, so
day 1 (Monday) is always the first day of the week, day 2
(Tuesday) is always the second day of the week, etc.</p>

<p style="margin-left:17%; margin-top: 1em">In Date::Manip,
the constraint that the week must start with Monday is
relaxed, allowing the week to begin with Sunday (a far more
common start of the week in calendars, at least in some
parts of the world).</p>

<p style="margin-left:17%; margin-top: 1em">This presents a
problem though in that the above date could be interpreted
as Wednesday (day 3) of the 2nd week of 1996, or as the 3rd
day of the 2nd week of 1996 (which would normally be
Wednesday, but would be Tuesday if the week begins on
Sunday).</p>

<p style="margin-left:17%; margin-top: 1em">As of
Date::Manip 6.00, the above date will be interpreted as the
3rd day of the 2nd week. This is a reversal from Date::Manip
5.xx, but I believe is what the specification would require.
For more information, refer to the Date::Manip::Changes
document.</p>

<p style="margin-left:11%;"><b>Common date formats</b></p>

<p style="margin-left:17%;">Date::Manip supports a number
of common date formats. The following fields may be included
in a date:</p>

<pre style="margin-left:17%; margin-top: 1em">  YY    2&minus;digit representation of the year
  YYYY  4&minus;digit representation of the year
  M     1&minus; or 2&minus; digit representation of the month
  MM    2&minus;digit representation of the month
  D     1&minus; or 2&minus; digit representation of the day
  DD    2&minus;digit representation of the day
  mmm   The abbreviated or full month name (i.e. Jan)</pre>


<p style="margin-left:17%; margin-top: 1em">The following
date formats are supported:</p>

<pre style="margin-left:17%; margin-top: 1em">   Format      Notes   Examples
   M/D         1,2     3/5
   M/D/YY      1       3/5/09
   M/D/YYYY    1       3/5/2009
   YYYY/M/D            2009/3/5
   mmm/D               Mar/5
   mmm/D/YY            Mar/5/09
   mmm/D/YYYY          Mar/5/2009
   D/mmm               5/Mar
   D/mmm/YY            5/Mar/09
   D/mmm/YYYY          5/Mar/2009
   YYYY/mmm/D          2009/Mar/5
   mmmD                Mar5
   mmmDDYY             Mar0509
   mmmDDYYYY           Mar052009
   Dmmm                5Mar
   DmmmYY              5Mar09
   DmmmYYYY            5Mar2009
   YYYYmmmD            2009Mar5
   mmmD YY             Mar5 09
   mmmD YYYY           Mar5 2009
   Dmmm YY             5Mar 09
   Dmmm YYYY           5Mar 2009
   mmm/D YY            Mar/5 09
   mmm/D YYYY          Mar/5 2009
   D/mmm YY            5/Mar 09
   D/mmm YYYY          5/Mar 2009
   YY   mmmD           09   Mar5
   YYYY mmmD           2009 Mar5
   YY   Dmmm           09   5Mar
   YYYY Dmmm           2009 5Mar
   YY   mmm/D          09   Mar/5
   YYYY mmm/D          2009 Mar/5
   YY   D/mmm          09   5/Mar
   YYYY D/mmm          2009 5/Mar
   YYYY:MM:DD          2010:01:15 (EXIF format)</pre>


<p style="margin-left:17%; margin-top: 1em">In the formats
above, the slash (/) can be replace by any of the valid
separators: whitespace, slash (/), period (.), or dash
(&minus;). The dash, though allowed, is discouraged since it
may conflict with an <small>ISO 8601</small> format. For
example, the format <small>MM/DD/YY</small> is just fine,
but MM-DD-YY does not work since it conflicts with YY-MM-DD.
To be safe, if &quot;&minus;&quot; is used as a separator in
a non-ISO format, they should be turned into &quot;/&quot;
before calling the Date::Manip routines.</p>

<p style="margin-left:17%; margin-top: 1em">No matter what
separator is used, the same separator must be used
throughout the date. For example, <small>MM/DD/YY</small> is
valid and <small>MM.DD.YY</small> is also valid, but
<small>MM/DD.YY</small> is <small>NOT</small> valid.</p>

<p style="margin-left:17%; margin-top: 1em">Notes:</p>

<p style="margin-left:17%; margin-top: 1em">1 With these
formats, Americans tend to write month first, but many <br>
other countries tend to write day first. The latter behavior
can be <br>
obtained by setting the config variable DateFormat to
something other <br>
than &quot; <small>US&quot;.</small></p>

<p style="margin-left:17%; margin-top: 1em">2 The dot (.)
separator may not be used in the M/D format since it <br>
will be interpreted as the H12,H+ format described
below.</p>

<p style="margin-left:17%; margin-top: 1em">These formats
explicitly set the date, but not the time. The default time
is determined by the DefaultTime config variable.</p>

<p style="margin-left:11%;"><b>Less common date
formats</b></p>

<p style="margin-left:17%;">The following formats are also
supported by Date::Manip:</p>

<pre style="margin-left:17%; margin-top: 1em">   DoW
        The day of week of the current week
           Friday
           Friday at 12:40
   MMM Nth [YYYY]
   Nth MMM [YYYY]
   YYYY MMM Nth
   YYYY Nth MMM
        Dec 1st 1970
        1st Dec 1970
        1970 Dec 1st
        1970 1st Dec
   next/prev DoW
        The next or last occurence of DoW
           next Friday
           last Friday at 12:40
   next/last week/month/year
        The day one week/month/year from now
        or in the past
           next week
           last month at 15:00
   last day in MMM [YYYY]
        The last day of the month
           last day in October
           last day in October 1996
   last DoW in MMM [YYYY]
        The last DoW in the month
           last Tuesday in October
           last Tuesday in October 1996
   last DoW in YYYY
        The last DoW in the year
           last Tuesday in 1997
           NOTE: &quot;last DoW&quot; doesn't work in
           English since the word &quot;last&quot;
           is used for both this expression
           and for &quot;prev DoW&quot;, which gets
           parsed first. &quot;last DoW&quot; MAY
           work in other languages.
   Nth DoW in MMM [YYYY]
        The Nth DoW in the month
           3rd Tuesday in October
           3rd Tuesday in October 1996
   Nth DoW [YYYY]
        The Nth DoW in the year
           22nd Sunday
           22nd Sunday in 1996
   Nth day in MMM [YYYY]
        The Nth day of the month
           1st day of February
           1st day of February 2012
   DoW week
        British: same as &quot;in 1 week on DoW&quot;
           Monday week
   DoW week N [YYYY]
   Dow Nth week [YYYY]
        Sunday week 22
        Sunday 22nd week
           These refer to the day of week
           of the Nth week of the year.
   Nth
        12th
           This refers to the Nth day of the
           current month.</pre>


<p style="margin-left:17%; margin-top: 1em">Note that the
formats &quot;Sunday week 22&quot; and &quot;22nd
Sunday&quot; give different behaviors. &quot;Sunday week
22&quot; returns the Sunday of the 22nd week of the year
based on how week 1 is defined. <small>ISO 8601</small>
defines week one to contain Jan 4, so &quot;Sunday week
1&quot; might be the first or second Sunday of the current
year, or the last Sunday of the previous year. &quot;22nd
Sunday&quot; gives the actual 22nd time Sunday occurs in a
given year, regardless of the definition of a week.</p>

<p style="margin-left:11%;"><b>Special date strings</b></p>

<p style="margin-left:17%;">Most languages have strings
which can be used to specify the date (relative to today).
In English, these include the strings:</p>

<pre style="margin-left:17%; margin-top: 1em">   today
   tomorrow
   yesterday</pre>


<p style="margin-left:17%; margin-top: 1em">There is also
support for the British formats:</p>

<pre style="margin-left:17%; margin-top: 1em">   today week
   tomorrow week
   yesterday week</pre>


<p style="margin-left:17%; margin-top: 1em">which refer to
one week after today/tomorrow/yesterday respectively.</p>

<p style="margin-left:17%; margin-top: 1em">Other languages
have similar strings.</p>

<p style="margin-left:11%;"><b>Holidays</b></p>

<p style="margin-left:17%;">You can parse holiday names as
dates. For example:</p>

<pre style="margin-left:17%; margin-top: 1em">   Christmas
   Christmas 2010
   Christmas 2010 at noon
   Saturday Christmas 2010 at noon</pre>


<p style="margin-left:11%; margin-top: 1em">In all of the
formats (except for <small>ISO 8601</small> formats), the
day of week (&quot;Friday&quot;) can be entered anywhere in
the date and it will be checked for accuracy. In other
words,</p>

<pre style="margin-left:11%; margin-top: 1em">  &quot;Tue Jul 16 1996 13:17:00&quot;</pre>


<p style="margin-left:11%; margin-top: 1em">will work
but</p>

<pre style="margin-left:11%; margin-top: 1em">  &quot;Jul 16 1996 Wednesday 13:17:00&quot;</pre>


<p style="margin-left:11%; margin-top: 1em">will not
(because Jul 16, 1996 is Tuesday, not Wednesday).</p>

<h2>VALID TIME FORMATS
<a name="VALID TIME FORMATS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">There are
several categories of time formats supported by Date::Manip.
These are strings which specify only the hour/minute/second
fields. <b><small><br>
ISO 8601</small> times</b></p>

<p style="margin-left:17%;">A time may be also be complete
or truncated. Again, Date::Manip treats some formats as
complete even though the specification calls them
truncated.</p>

<p style="margin-left:17%; margin-top: 1em">A time may
include the following fields:</p>

<pre style="margin-left:17%; margin-top: 1em">   HH    2&minus;digit representation of the hour
   MN    2&minus;digit representation of the minutes
   SS    2&minus;digit representation of the seconds
   H+    1+ digit representation of fractional hours
   M+    1+ digit representation of fractional minutes
   S+    1+ digit representation of fractional seconds</pre>


<p style="margin-left:17%; margin-top: 1em">The following
time formats are considered complete by Date::Manip. The
time 12:30:15 will be expressed in the examples.</p>

<pre style="margin-left:17%; margin-top: 1em">   Format      Notes   Examples
   HHMNSS      2       123015
   HH:MN:SS            12:30:15
   HHMNSS,S+           123015,5
   HH:MN:SS,S+         12:30:15,5
                       Fractional seconds are ignored
   HHMN,M+             1230,25
   HH:MN,M+            12:30,25
                       This is 12:30:00 + 0.25 minutes
   HH,H+               12,5
                       This is 12:00:00 + 0.5 hours, so
                       this is equivalent to 12:30:00
   &minus;MNSS       1       &minus;3015
   &minus;MN:SS              &minus;30:15
   &minus;&minus;SS        1       &minus;&minus;15
   &minus;MNSS,S+    1       &minus;3015,5
   &minus;MN:SS,S+           &minus;30:15,5
   &minus;MN,M+      1       &minus;30,25
   &minus;&minus;SS,S+     1       &minus;&minus;15,5
   HHMN        3       1230
   HH:MN               12:30</pre>


<p style="margin-left:17%; margin-top: 1em">The following
time formats are truncated:</p>

<pre style="margin-left:17%; margin-top: 1em">   HH                  12
   &minus;MN                 &minus;30</pre>


<p style="margin-left:17%; margin-top: 1em">Notes:</p>

<p style="margin-left:17%; margin-top: 1em">1 These formats
are considered truncated in the standard, but since <br>
they do include (or imply, using the current time for
defaults) all of <br>
the fields, and since they do not introduce any parsing
complexities, <br>
the standard is relaxed, and they are treated as
complete.</p>

<p style="margin-left:17%; margin-top: 1em">2 The
<small>HHMNSS</small> format will not be correctly parsed
since it is impossible <br>
to distinguish between it and <small>YYMMDD.</small> In
order to parse an all-digit <br>
time, add the string &quot;,0&quot; to the end to force it
to be interpreted <br>
as a time or include time zone information (either a zone
name or <br>
abbreviation... an offset will not work in this case).</p>

<p style="margin-left:17%; margin-top: 1em">3 The
<small>HH:MN</small> format will be treated as complete,
even though it is <br>
incomplete due to missing the seconds. In real life,
expressing <br>
a time in the <small>HH:MN</small> format is very common,
and is regarded as complete, <br>
and might include time zone information.</p>

<p style="margin-left:17%; margin-top: 1em"><small>ISO
8601</small> times may be followed by a time zone.
Date::Manip relaxes the constraints placed on the time zone
format and allows any of the methods used to specify the
time zone including time zone name, abbreviation, or offset.
The time zone may be separated from the time by a space, but
it is not required.</p>

<p style="margin-left:17%; margin-top: 1em">Another
constraint that is relaxed is that the fractional part may
be specified using a period. In other words, the following
are equivalent:</p>

<pre style="margin-left:17%; margin-top: 1em">   12:30,25
   12:30.25</pre>


<p style="margin-left:17%; margin-top: 1em">It should be
noted (as it is in the specification) that using a negative
time zone offset may cause confusion. In addition to
visually confusing, it may not be parsed correctly. For
example, the time:</p>

<pre style="margin-left:17%; margin-top: 1em">   123005&minus;0300</pre>


<p style="margin-left:17%; margin-top: 1em">may not be
parsed correctly. When using an offset time zone, you should
always use the colon separators in the time:</p>

<pre style="margin-left:17%; margin-top: 1em">   12:30:05&minus;0300</pre>


<p style="margin-left:11%;"><b>Other time formats</b></p>

<p style="margin-left:17%;">A time may include any of the
following fields:</p>

<pre style="margin-left:17%; margin-top: 1em">   H24   1&minus; or 2&minus;digit representation of the hour (0&minus;23)
   H12   1&minus; or 2&minus;digit representation of the hour (1&minus;12)
   MN    2&minus;digit representation of the minutes
   SS    2&minus;digit representation of the seconds
   H+    1+ digit representation of fractional hours
   M+    1+ digit representation of fractional minutes
   S+    1+ digit representation of fractional seconds
   AM    A language specific AM/PM string</pre>


<p style="margin-left:17%; margin-top: 1em">The following
time formats are accepted:</p>

<pre style="margin-left:17%; margin-top: 1em">   Format              Examples
   H24:MN:SS           17:30:15
   H12:MN:SS AM        5:30:15 PM
   H12:MN:SS
   H24:MN:SS,S+        17:30:15,5
   H12:MN:SS,S+ AM     5:30:15,5 PM
   H12:MN:SS,S+        Fractional seconds are ignored
   H24:MN,M+           17:30,25
   H12:MN,M+ AM        5:30,25 PM
   H12:MN,M+           This is 17:30:00 + 0.25 minutes
   H24,H+              17,5
   H12,H+ AM           5,5 PM
   H12,H+              This is 17:00:00 + 0.5 hours, so
                       this is equivalent to 17:30:00
   H24:MN              17:30
   H12:MN AM           5:30 PM
   H12:MN
   H12 AM              5 PM</pre>


<p style="margin-left:17%; margin-top: 1em">The fractional
part may be specified using a comma, a period, or a colon. A
language specific fractional separator may also be available
for some languages. A colon will only work if the hour,
minute, and second are all explicitly included, but will not
work otherwise.</p>

<p style="margin-left:17%; margin-top: 1em">In other words,
the following are equivalent:</p>

<pre style="margin-left:17%; margin-top: 1em">   12:30:20,25
   12:30:20.25
   12:30:20:25</pre>


<p style="margin-left:17%; margin-top: 1em">Some languages
have alternate H:MN and <small>MN:S</small> separators. For
example, one H:MN separator in French is &rsquo;h&rsquo;
(the <small>MN:S</small> separator is still a colon), so the
following are equivalent:</p>

<pre style="margin-left:17%; margin-top: 1em">   12:30:00
   12h30:00</pre>


<p style="margin-left:17%; margin-top: 1em">Time zone
information can be included immediately following the time.
It can be separated by whitespace from the time, or it can
be immediately adjacent.</p>

<p style="margin-left:11%;"><b>Special time strings</b></p>

<p style="margin-left:17%;">Different languages may have
some words which can be used to specify a certain time of
day. In English, for example, the following words are
equivalent to the time listed:</p>

<pre style="margin-left:17%; margin-top: 1em">   noon        12:00:00
   midnight    00:00:00</pre>


<p style="margin-left:17%; margin-top: 1em">So, the
following are equivalent:</p>

<pre style="margin-left:17%; margin-top: 1em">   Jan 2 2009 at noon
   Jan 2 2009 12:00:00</pre>


<p style="margin-left:17%; margin-top: 1em">There were two
possible ways to interpret midnight. One was at the start of
the day (00:00:00) and the other was at the end of the day
(24:00:00 which would actually mean at 00:00:00 of the
following day). The first has been used to maintain
backwards compatibility with Date::Manip 5.xx .</p>

<p style="margin-left:17%; margin-top: 1em">Other languages
have similar strings.</p>

<p style="margin-left:11%; margin-top: 1em">In most
languages, a word similar to &quot;at&quot; may precede the
time (this does <small>NOT</small> apply to <small>ISO
8601</small> time formats). This word (which must be
separate from all other parts of the date with whitespace)
is optional, and the following are equivalent:</p>

<pre style="margin-left:11%; margin-top: 1em">   12:30
   at 12:30</pre>


<p style="margin-left:11%; margin-top: 1em">The times
&quot;12:00 am&quot;, &quot;12:00 pm&quot;, and
&quot;midnight&quot; are not well defined. Date::Manip uses
the following convention:</p>

<pre style="margin-left:11%; margin-top: 1em">  midnight = 12:00am = 00:00:00
  noon     = 12:00pm = 12:00:00</pre>


<p style="margin-left:11%; margin-top: 1em">and the day
goes from 00:00:00 to 23:59:59. In other words, midnight is
the beginning of a day rather than the end of one. The time
24:00:00 is also allowed (though it is automatically
transformed to 00:00:00 of the following day). This gives
the unusual result of parsing:</p>

<pre style="margin-left:11%; margin-top: 1em">  Wed Feb 8 2006 24:00:00</pre>


<p style="margin-left:11%; margin-top: 1em">which gives the
date of:</p>

<pre style="margin-left:11%; margin-top: 1em">  Thu Feb 9 2006 00:00:00</pre>


<h2>VALID COMBINED DATE AND TIME FORMATS
<a name="VALID COMBINED DATE AND TIME FORMATS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">There are
several categories of strings which specify both the date
and time. These include the following: <b><small><br>
ISO 8601</small> combined date and time</b></p>

<p style="margin-left:17%;">A combined <small>ISO
8601</small> date and time is a string containing a complete
<small>ISO 8601</small> date and a complete or truncated
<small>ISO 8601</small> time.</p>

<p style="margin-left:17%; margin-top: 1em">Date::Manip
relaxes the restrictions on how the two are combined. The
time may be separated from the date by space, dash, or the
letter T, or the two may be joined with nothing separating
them.</p>

<p style="margin-left:17%; margin-top: 1em">When the time
immediately follows the date, or when the two are separated
by a dash, the resulting string <small>MUST</small> be
unambiguous. Provided the date includes all of the dashes in
it (i.e. YY-MM-DD instead of <small>YYMMDD</small> ), it is
rare that there is any ambiguity. If the date does not
include dashes, the strings may be ambiguous, and in this
case, separating the date and time with a space or the
letter T is useful (and perhaps necessary) to correctly
interpret the string.</p>

<p style="margin-left:17%; margin-top: 1em">The DoY formats
should always be separated from the time by something. They
are visually confusing if they are not separated from the
time.</p>

<p style="margin-left:17%; margin-top: 1em">Time zone
information can be included immediately following a complete
time. It may not be included if no time is given, or if a
truncated time is included. The time zone may be separated
from the time with whitespace, or it can be immediately
adjacent to it (since the <small>ISO 8601</small>
specification allows it in some cases).</p>

<p style="margin-left:11%;"><b>Non-ISO 8601 combined date
and time</b></p>

<p style="margin-left:17%;">A date from any of the formats
above (except for the <small>ISO 8601</small> formats) may
be combined with any of the time formats above (except for
the <small>ISO 8601</small> time formats) in any combination
to form a valid combined date and time.</p>

<p style="margin-left:11%;"><b>Deltas</b></p>

<p style="margin-left:17%;">Dates are often specified in
terms of a delta from &quot;now&quot;. For example, &quot;in
2 days&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">Any valid delta
can be used to specify a date, and the date is defined as
that delta added to &quot;now&quot;. Refer to the
Date::Manip::Delta documentation for a list of valid delta
formats.</p>

<p style="margin-left:17%; margin-top: 1em">If the delta
itself does not include a time part, the time may be
specified explicitly. For example:</p>

<pre style="margin-left:17%; margin-top: 1em">   in 3 days at 12:00:00</pre>


<p style="margin-left:17%; margin-top: 1em">will take the
delta part &quot;in 3 days&quot; and add it to the current
time, then set the time to 12:00:00.</p>

<p style="margin-left:17%; margin-top: 1em">It is
<small>NOT</small> allowed to include an explicit time if
any time segment was included in the delta. For example, the
following is invalid:</p>

<pre style="margin-left:17%; margin-top: 1em">   in 3 days 2 hours at 12:00:00</pre>


<p style="margin-left:17%; margin-top: 1em">One additional
format that is supported is to include only week (or higher)
components in the delta and to set the day of week. For
example:</p>

<pre style="margin-left:17%; margin-top: 1em">  Friday in 2 weeks
  in 2 weeks on Friday
  Friday 2 weeks ago
  2 weeks ago on Friday at 13:45</pre>


<p style="margin-left:17%; margin-top: 1em">These first
apply the delta (of weeks, months, and years) to the current
time, and then set the day to the given day-of-week in that
week.</p>

<p style="margin-left:11%;"><b>Special date and time
strings</b></p>

<p style="margin-left:17%;">Most language have strings
which can be used to specify the full date and time
(relative to the current date and time). In English, these
include the string:</p>
<pre style="margin-left:17%; margin-top: 1em">   now</pre>

<p style="margin-left:11%;"><b>Addition combined date and
time formats</b></p>

<p style="margin-left:17%;">The following formats are also
supported:</p>

<pre style="margin-left:17%; margin-top: 1em">   epoch SECS
      The number of seconds since the epoch
      (Jan 1, 1970 00:00:00 GMT). SECS may
      be negative to give time before the
      epoch.</pre>


<p style="margin-left:11%; margin-top: 1em">A couple of
notes:</p>

<p style="margin-left:11%; margin-top: 1em">Commas may be
included in all date formats arbitrarily (except for
<small>ISO 8601</small> formats where they may only be
included when allowed by the specification).</p>

<p style="margin-left:11%; margin-top: 1em">The time/time
zone is removed from the date before the date is parsed, so
the time may appear before or after the date, or between any
two parts of the date.</p>

<p style="margin-left:11%; margin-top: 1em">The time and
the zone do not need to be adjacent, so the string:</p>

<pre style="margin-left:11%; margin-top: 1em">   Jan 21 17:13:27 2010 &minus;0400</pre>


<p style="margin-left:11%; margin-top: 1em">will work. If
the timezone is separate from the date, it
<small>MUST</small> be separated from any other portion of
the date by whitespace.</p>

<p style="margin-left:11%; margin-top: 1em">Certain words
such as &quot;on&quot;, &quot;in&quot;, &quot;at&quot;,
&quot;of&quot;, etc. which commonly appear in a date or time
are ignored (except in <small>ISO 8601</small> formats).</p>

<h2>PRINTF DIRECTIVES
<a name="PRINTF DIRECTIVES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
printf directives are replaced with information from the
date.</p>

<pre style="margin-left:11%; margin-top: 1em">   Year
       %y     year                     &minus; 00 to 99
       %Y     year                     &minus; 0001 to 9999
   Month, Week
       %m     month of year            &minus; 01 to 12
       %f     month of year            &minus; &quot; 1&quot; to &quot;12&quot;
       %b,%h  month abbreviation       &minus; Jan to Dec
       %B     month name               &minus; January to December
   Day
       %j     day of the year          &minus; 001 to 366
       %d     day of month             &minus; 01 to 31
       %e     day of month             &minus; &quot; 1&quot; to &quot;31&quot;
       %v     weekday abbreviation     &minus; &quot; S&quot;,&quot; M&quot;,&quot; T&quot;, ...
       %a     weekday abbreviation     &minus; Sun to Sat
       %A     weekday name             &minus; Sunday to Saturday
       %w     day of week              &minus; 1 to 7 (1=Monday)
       %E     day of month with
              suffix                   &minus; 1st, 2nd, 3rd...
   Hour
       %H     hour                     &minus; 00 to 23
       %k     hour                     &minus; &quot; 0&quot; to &quot;23&quot;
       %i     hour                     &minus; &quot; 1&quot; to &quot;12&quot;
       %I     hour                     &minus; 01 to 12
       %p     AM or PM
   Minute, Second, Time zone
       %M     minute                   &minus; 00 to 59
       %S     second                   &minus; 00 to 59
       %Z     time zone abbreviation   &minus; EDT
       %z     time zone as GMT offset  &minus; +0100 (see Note 4)
       %N     time zone as GMT offset  &minus; +01:00:00
   Epoch (see NOTE 3 below)
       %s     seconds from
              1/1/1970 GMT             &minus; negative if before
       %o     seconds from 1/1/1970
              in the current time
              zone
   Date, Time
       %c     %a %b %e %H:%M:%S %Y     &minus; Fri Apr 28 17:23:15 1995
       %C,%u  %a %b %e %H:%M:%S %Z %Y  &minus; Fri Apr 28 17:25:57 EDT 1995
       %g     %a, %d %b %Y %H:%M:%S %Z &minus; Fri, 28 Apr 1995 17:23:15 EDT
       %D     %m/%d/%y                 &minus; 04/28/95
       %x     %m/%d/%y or %d/%m/%y     &minus; 04/28/95 or 28/04/28
                                         (Depends on DateFormat variable)
       %l     date in ls(1) format (see NOTE 1 below)
                %b %e %H:%M            &minus; Apr 28 17:23 (*)
                %b %e  %Y              &minus; Apr 28  1993 (*)
       %r     %I:%M:%S %p              &minus; 05:39:55 PM
       %R     %H:%M                    &minus; 17:40
       %T,%X  %H:%M:%S                 &minus; 17:40:58
       %V     %m%d%H%M%y               &minus; 0428174095
       %Q     %Y%m%d                   &minus; 19961025
       %q     %Y%m%d%H%M%S             &minus; 19961025174058
       %P     %Y%m%d%H:%M:%S           &minus; 1996102517:40:58
       %O     %Y&minus;%m&minus;%dT%H:%M:%S        &minus; 1996&minus;10&minus;25T17:40:58
       %F     %A, %B %e, %Y            &minus; Sunday, January  1, 1996
       %K     %Y&minus;%j                    &minus; 1997&minus;045
   Special Year/Week formats (see NOTE 2 below)
       %G     year, Monday as first
              day of week              &minus; 0001 to 9999
       %W     week of year, Monday
              as first day of week     &minus; 01 to 53
       %L     year, Sunday as first
              day of week              &minus; 0001 to 9999
       %U     week of year, Sunday
              as first day of week     &minus; 01 to 53
       %J     %G&minus;W%W&minus;%w                &minus; 1997&minus;W02&minus;2
   Other formats
       %n     insert a newline character
       %t     insert a tab character
       %%     insert a `%' character
       %+     insert a `+' character
   All other characters are currently unused, but may be used in the
   future.  They currently insert the character following the %.
   The following multi&minus;character formats also exist:
   Extended formats
       %&lt;A=NUM&gt;   These returns the NUMth value of the %A, %a, and %v formats
       %&lt;a=NUM&gt;   resepectively.  In English, that would yield:
       %&lt;v=NUM&gt;      %&lt;A=2&gt;   =&gt; Tuesday
                     %&lt;a=2&gt;   =&gt; Tue
                     %&lt;v=2&gt;   =&gt; T
                  NUM must be in the range 1&minus;7.
       %&lt;B=NUM&gt;   These return the NUMth value of the %B and %b formats
       %&lt;b=NUM&gt;   respectively.  In English, that would yield:
                     %&lt;B=2&gt;   =&gt; February
                     %&lt;b=2&gt;   =&gt; Feb
                  NUM must be in the range 1&minus;12 (or 01&minus;12).
       %&lt;p=NUM&gt;   These return the NUMth value of the %p format.  In
                  English, that would yield:
                     %&lt;p=1&gt;   =&gt; AM
                     %&lt;p=2&gt;   =&gt; PM
                  NUM must be in the range 1&minus;2.
       %&lt;E=NUM&gt;   These return the NUMth value of the %E format.  In
                  English, that would yield:
                     %&lt;E=1&gt;   =&gt; 1st
                     %&lt;E=53&gt;  =&gt; 53rd
                  NUM must be in the range 1&minus;53.</pre>


<p style="margin-left:11%; margin-top: 1em">If a lone
percent is the final character in a format, it is
ignored.</p>

<p style="margin-left:11%; margin-top: 1em">The formats
used in this routine were originally based on date.pl
(version 3.2) by Terry McGonigal, as well as a couple taken
from different versions of the Solaris <i>date</i>(1)
command. Also, several have been added which are unique to
Date::Manip.</p>

<p style="margin-left:11%; margin-top: 1em"><small>NOTE
1:</small></p>

<p style="margin-left:11%; margin-top: 1em">The ls format
(%l) applies to date within the past <small>OR</small>
future 6 months! Any date that is before the date <small>NOW
&minus; 6</small> months, or that is on or after the date
<small>NOW + 6</small> months will have the year printed
out.</p>

<p style="margin-left:11%; margin-top: 1em">The later time
must be on or after so that there is no ambiguity. If it is
now 2000&minus;06&minus;06&minus;12:00:00, then the date
1999&minus;12&minus;06&minus;12:00:00 will be written as
&quot;Dec 6 12:00&quot; but the date
2000&minus;12&minus;06&minus;12:00:00 will be written as
&quot;Dec 6 2000&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><small>NOTE
2:</small></p>

<p style="margin-left:11%; margin-top: 1em">The
<tt>%U</tt>, <tt>%W</tt>, <tt>%L</tt>, <tt>%G</tt>, and
<tt>%J</tt> formats are used to support the
<small>ISO&minus;8601</small> format: YYYY-wWW-D. In this
format, a date is written as a year, the week of the year,
and the day of the week. Technically, the week may be
considered to start on any day of the week, but Sunday and
Monday are the both common choices, so both are
supported.</p>

<p style="margin-left:11%; margin-top: 1em">The <tt>%W</tt>
and <tt>%G</tt> formats return the week-of-year and the year
treating weeks as starting on Monday.</p>

<p style="margin-left:11%; margin-top: 1em">The <tt>%U</tt>
and <tt>%L</tt> formats return the week-of-year and the year
treating weeks as starting on Sunday.</p>

<p style="margin-left:11%; margin-top: 1em">Most of the
time, the <tt>%L</tt> and <tt>%G</tt> formats returns the
same value as the <tt>%Y</tt> format, but there is a problem
with days occurring in the first or last week of the
year.</p>

<p style="margin-left:11%; margin-top: 1em">The
<small>ISO&minus;8601</small> representation of Jan 1, 1993
written in the YYYY-wWW-D format is actually
1992&minus;W53&minus;5. In other words, Jan 1 is treated as
being in the last week of the preceding year. Depending on
the year, days in the first week of a year may belong to the
previous year, and days in the final week of a year may
belong to the next year. The week is assigned to the year
which has most of the days. For example, if the week starts
on Sunday, then the last week of 2003 is
2003&minus;12&minus;28 to 2004&minus;01&minus;03. This week
is assigned to 2003 since 4 of the days in it are in 2003
and only 3 of them are in 2004. The first week of 2004
starts on 2004&minus;01&minus;04.</p>

<p style="margin-left:11%; margin-top: 1em">The <tt>%U</tt>
and <tt>%W</tt> formats return a week-of-year number from 01
to 53. <tt>%L</tt> and <tt>%G</tt> return the corresponding
year, and to get this type of information, you should always
use the (%W,%G) combination or (%U,%L) combination.
<tt>%Y</tt> should not be used as it will yield incorrect
results.</p>

<p style="margin-left:11%; margin-top: 1em"><tt>%J</tt>
returns the full <small>ISO&minus;8601</small> format
(%G&minus;W%W&minus;%w).</p>

<p style="margin-left:11%; margin-top: 1em"><small>NOTE
3:</small></p>

<p style="margin-left:11%; margin-top: 1em">The <tt>%s</tt>
and <tt>%o</tt> formats return negative values if the date
is before the start of the epoch. Other Unix utilities would
return an error, or a zero, so if you are going to use
Date::Manip in conjunction with these, be sure to check for
a negative value.</p>

<p style="margin-left:11%; margin-top: 1em"><small>NOTE
4:</small></p>

<p style="margin-left:11%; margin-top: 1em">The <tt>%z</tt>
format returns the offset in the <small>RFC 822</small>
specified format +0500 . Most offsets are full hour amounts,
so this is not a problem, but some offsets are irregular
(+05:17:30). In this case, the string returned is +051730
which isn&rsquo;t <small>RFC 822</small> compliant, but
since <small>RFC 822</small> ignores this situation, I had
to decide between returning an incorrect value, or breaking
strict compliance, and I chose the second option.</p>

<h2>KNOWN BUGS
<a name="KNOWN BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None known.</p>

<h2>BUGS AND QUESTIONS
<a name="BUGS AND QUESTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Please refer to
the Date::Manip::Problems documentation for information on
submitting bug reports or questions to the author.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Date::Manip
&minus; main module documentation</p>

<h2>LICENSE
<a name="LICENSE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This script is
free software; you can redistribute it and/or modify it
under the same terms as Perl itself.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Sullivan Beck
(sbeck@cpan.org)</p>
<hr>
</body>
</html>
