<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 01:50:04 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>ipa-kra-install</title>

</head>
<body>

<h1 align="center">ipa-kra-install</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">ipa&minus;kra&minus;install
&minus; Install a KRA on a server</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">ipa&minus;kra&minus;install
[<i>OPTION</i>]... [replica_file]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Adds a KRA as
an IPA&minus;managed service. This requires that the IPA
server is already installed and configured, including a
CA.</p>

<p style="margin-left:11%; margin-top: 1em">The KRA (Key
Recovery Authority) is a component used to securely store
secrets such as passwords, symmetric keys and private
asymmetric keys. It is used as the back-end repository for
the IPA Password Vault.</p>


<p style="margin-left:11%; margin-top: 1em">ipa&minus;kra&minus;install
can be run without replica_file to add KRA to the existing
CA. ipa&minus;kra&minus;install will contact the CA to
determine if a KRA has already been installed on another
replica, and if so, will exit indicating that a replica_file
is required.</p>

<p style="margin-left:11%; margin-top: 1em">The
replica_file is created using the
ipa&minus;replica&minus;prepare utility. A new replica_file
should be generated on the master IPA server after the KRA
has been installed and configured, so that the replica_file
will contain the master KRA configuration and system
certificates.</p>

<p style="margin-left:11%; margin-top: 1em">The uninstall
option can be used to remove the KRA from the local IPA
server. KRA instances on other replicas are not affected.
The KRA will also be removed if the entire server is removed
using ipa&minus;server&minus;install
&minus;&minus;uninstall.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;p</b>
<i>DM_PASSWORD</i>,
<b>&minus;&minus;password</b>=<i>DM_PASSWORD</i> Directory
Manager (existing master) password <b><br>
&minus;U</b>, <b>&minus;&minus;unattended</b></p>

<p style="margin-left:22%;">An unattended installation that
will never prompt for user input</p>


<p style="margin-left:11%;"><b>&minus;&minus;uninstall</b></p>

<p style="margin-left:22%;">Uninstall the KRA from the
local IPA server.</p>

<p style="margin-left:11%;"><b>&minus;v</b>,
<b>&minus;&minus;verbose</b></p>

<p style="margin-left:22%;">Enable debug output when more
verbose output is needed</p>

<p style="margin-left:11%;"><b>&minus;q</b>,
<b>&minus;&minus;quiet</b></p>

<p style="margin-left:22%;">Output only errors</p>

<p style="margin-left:11%;"><b>&minus;v</b>,
<b>&minus;&minus;log-file</b>=ILE</p>

<p style="margin-left:22%;">Log to the given file</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">0 if the
command was successful</p>

<p style="margin-left:11%; margin-top: 1em">1 if an error
occurred</p>
<hr>
</body>
</html>
