<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 01:22:15 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>CREATE ROLE</title>

</head>
<body>

<h1 align="center">CREATE ROLE</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#PARAMETERS">PARAMETERS</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#COMPATIBILITY">COMPATIBILITY</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">CREATE_ROLE
&minus; define a new database role</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">CREATE ROLE
<i>name</i> [ [ WITH ] <i>option</i> [ ... ] ]</p>

<p style="margin-left:11%; margin-top: 1em">where
<i>option</i> can be:</p>

<p style="margin-left:11%; margin-top: 1em">SUPERUSER |
NOSUPERUSER <br>
| CREATEDB | NOCREATEDB <br>
| CREATEROLE | NOCREATEROLE <br>
| CREATEUSER | NOCREATEUSER <br>
| INHERIT | NOINHERIT <br>
| LOGIN | NOLOGIN <br>
| REPLICATION | NOREPLICATION <br>
| CONNECTION LIMIT <i>connlimit</i> <br>
| [ ENCRYPTED | UNENCRYPTED ] PASSWORD '<i>password</i>'
<br>
| VALID UNTIL '<i>timestamp</i>' <br>
| IN ROLE <i>role_name</i> [, ...] <br>
| IN GROUP <i>role_name</i> [, ...] <br>
| ROLE <i>role_name</i> [, ...] <br>
| ADMIN <i>role_name</i> [, ...] <br>
| USER <i>role_name</i> [, ...] <br>
| SYSID <i>uid</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i><b>CREATE
ROLE</b></i> adds a new role to a PostgreSQL database
cluster. A role is an entity that can own database objects
and have database privileges; a role can be considered a
&ldquo;user&rdquo;, a &ldquo;group&rdquo;, or both depending
on how it is used. Refer to Chapter 20, Database Roles, in
the documentation and Chapter 19, Client Authentication, in
the documentation for information about managing users and
authentication. You must have CREATEROLE privilege or be a
database superuser to use this command.</p>

<p style="margin-left:11%; margin-top: 1em">Note that roles
are defined at the database cluster level, and so are valid
in all databases in the cluster.</p>

<h2>PARAMETERS
<a name="PARAMETERS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>name</i></p>

<p style="margin-left:17%;">The name of the new role.</p>

<p style="margin-left:11%; margin-top: 1em">SUPERUSER,
NOSUPERUSER</p>

<p style="margin-left:17%;">These clauses determine whether
the new role is a &ldquo;superuser&rdquo;, who can override
all access restrictions within the database. Superuser
status is dangerous and should be used only when really
needed. You must yourself be a superuser to create a new
superuser. If not specified, NOSUPERUSER is the default.</p>

<p style="margin-left:11%; margin-top: 1em">CREATEDB,
NOCREATEDB</p>

<p style="margin-left:17%;">These clauses define a role's
ability to create databases. If CREATEDB is specified, the
role being defined will be allowed to create new databases.
Specifying NOCREATEDB will deny a role the ability to create
databases. If not specified, NOCREATEDB is the default.</p>

<p style="margin-left:11%; margin-top: 1em">CREATEROLE,
NOCREATEROLE</p>

<p style="margin-left:17%;">These clauses determine whether
a role will be permitted to create new roles (that is,
execute <b>CREATE ROLE</b>). A role with CREATEROLE
privilege can also alter and drop other roles. If not
specified, NOCREATEROLE is the default.</p>

<p style="margin-left:11%; margin-top: 1em">CREATEUSER,
NOCREATEUSER</p>

<p style="margin-left:17%;">These clauses are an obsolete,
but still accepted, spelling of SUPERUSER and NOSUPERUSER.
Note that they are <i>not</i> equivalent to CREATEROLE as
one might naively expect!</p>

<p style="margin-left:11%; margin-top: 1em">INHERIT,
NOINHERIT</p>

<p style="margin-left:17%;">These clauses determine whether
a role &ldquo;inherits&rdquo; the privileges of roles it is
a member of. A role with the INHERIT attribute can
automatically use whatever database privileges have been
granted to all roles it is directly or indirectly a member
of. Without INHERIT, membership in another role only grants
the ability to <b>SET ROLE</b> to that other role; the
privileges of the other role are only available after having
done so. If not specified, INHERIT is the default.</p>

<p style="margin-left:11%; margin-top: 1em">LOGIN,
NOLOGIN</p>

<p style="margin-left:17%;">These clauses determine whether
a role is allowed to log in; that is, whether the role can
be given as the initial session authorization name during
client connection. A role having the LOGIN attribute can be
thought of as a user. Roles without this attribute are
useful for managing database privileges, but are not users
in the usual sense of the word. If not specified, NOLOGIN is
the default, except when <b>CREATE ROLE</b> is invoked
through its alternative spelling CREATE USER
(<b>CREATE_USER</b>(7)).</p>

<p style="margin-left:11%; margin-top: 1em">REPLICATION,
NOREPLICATION</p>

<p style="margin-left:17%;">These clauses determine whether
a role is allowed to initiate streaming replication or put
the system in and out of backup mode. A role having the
REPLICATION attribute is a very highly privileged role, and
should only be used on roles actually used for replication.
If not specified, NOREPLICATION is the default.</p>

<p style="margin-left:11%; margin-top: 1em">CONNECTION
LIMIT <i>connlimit</i></p>

<p style="margin-left:17%;">If role can log in, this
specifies how many concurrent connections the role can make.
&minus;1 (the default) means no limit.</p>

<p style="margin-left:11%; margin-top: 1em">PASSWORD
<i>password</i></p>

<p style="margin-left:17%;">Sets the role's password. (A
password is only of use for roles having the LOGIN
attribute, but you can nonetheless define one for roles
without it.) If you do not plan to use password
authentication you can omit this option. If no password is
specified, the password will be set to null and password
authentication will always fail for that user. A null
password can optionally be written explicitly as PASSWORD
NULL.</p>

<p style="margin-left:11%; margin-top: 1em">ENCRYPTED,
UNENCRYPTED</p>

<p style="margin-left:17%;">These key words control whether
the password is stored encrypted in the system catalogs. (If
neither is specified, the default behavior is determined by
the configuration parameter password_encryption.) If the
presented password string is already in MD5&minus;encrypted
format, then it is stored encrypted as&minus;is, regardless
of whether ENCRYPTED or UNENCRYPTED is specified (since the
system cannot decrypt the specified encrypted password
string). This allows reloading of encrypted passwords during
dump/restore.</p>

<p style="margin-left:17%; margin-top: 1em">Note that older
clients might lack support for the MD5 authentication
mechanism that is needed to work with passwords that are
stored encrypted.</p>

<p style="margin-left:11%; margin-top: 1em">VALID UNTIL
'<i>timestamp</i>'</p>

<p style="margin-left:17%;">The VALID UNTIL clause sets a
date and time after which the role's password is no longer
valid. If this clause is omitted the password will be valid
for all time.</p>

<p style="margin-left:11%; margin-top: 1em">IN ROLE
<i>role_name</i></p>

<p style="margin-left:17%;">The IN ROLE clause lists one or
more existing roles to which the new role will be
immediately added as a new member. (Note that there is no
option to add the new role as an administrator; use a
separate <b>GRANT</b> command to do that.)</p>

<p style="margin-left:11%; margin-top: 1em">IN GROUP
<i>role_name</i></p>

<p style="margin-left:17%;">IN GROUP is an obsolete
spelling of IN ROLE.</p>

<p style="margin-left:11%; margin-top: 1em">ROLE
<i>role_name</i></p>

<p style="margin-left:17%;">The ROLE clause lists one or
more existing roles which are automatically added as members
of the new role. (This in effect makes the new role a
&ldquo;group&rdquo;.)</p>

<p style="margin-left:11%; margin-top: 1em">ADMIN
<i>role_name</i></p>

<p style="margin-left:17%;">The ADMIN clause is like ROLE,
but the named roles are added to the new role WITH ADMIN
OPTION, giving them the right to grant membership in this
role to others.</p>

<p style="margin-left:11%; margin-top: 1em">USER
<i>role_name</i></p>

<p style="margin-left:17%;">The USER clause is an obsolete
spelling of the ROLE clause.</p>

<p style="margin-left:11%; margin-top: 1em">SYSID
<i>uid</i></p>

<p style="margin-left:17%;">The SYSID clause is ignored,
but is accepted for backwards compatibility.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Use ALTER ROLE
(<b>ALTER_ROLE</b>(7)) to change the attributes of a role,
and DROP ROLE (<b>DROP_ROLE</b>(7)) to remove a role. All
the attributes specified by <b>CREATE ROLE</b> can be
modified by later <b>ALTER ROLE</b> commands.</p>

<p style="margin-left:11%; margin-top: 1em">The preferred
way to add and remove members of roles that are being used
as groups is to use <b>GRANT</b>(7) and
<b>REVOKE</b>(7).</p>

<p style="margin-left:11%; margin-top: 1em">The VALID UNTIL
clause defines an expiration time for a password only, not
for the role per se. In particular, the expiration time is
not enforced when logging in using a
non&minus;password&minus;based authentication method.</p>

<p style="margin-left:11%; margin-top: 1em">The INHERIT
attribute governs inheritance of grantable privileges (that
is, access privileges for database objects and role
memberships). It does not apply to the special role
attributes set by <b>CREATE ROLE</b> and <b>ALTER ROLE</b>.
For example, being a member of a role with CREATEDB
privilege does not immediately grant the ability to create
databases, even if INHERIT is set; it would be necessary to
become that role via SET ROLE (<b>SET_ROLE</b>(7)) before
creating a database.</p>

<p style="margin-left:11%; margin-top: 1em">The INHERIT
attribute is the default for reasons of backwards
compatibility: in prior releases of PostgreSQL, users always
had access to all privileges of groups they were members of.
However, NOINHERIT provides a closer match to the semantics
specified in the SQL standard.</p>

<p style="margin-left:11%; margin-top: 1em">Be careful with
the CREATEROLE privilege. There is no concept of inheritance
for the privileges of a CREATEROLE&minus;role. That means
that even if a role does not have a certain privilege but is
allowed to create other roles, it can easily create another
role with different privileges than its own (except for
creating roles with superuser privileges). For example, if
the role &ldquo;user&rdquo; has the CREATEROLE privilege but
not the CREATEDB privilege, nonetheless it can create a new
role with the CREATEDB privilege. Therefore, regard roles
that have the CREATEROLE privilege as
almost&minus;superuser&minus;roles.</p>

<p style="margin-left:11%; margin-top: 1em">PostgreSQL
includes a program <b>createuser</b>(1) that has the same
functionality as <b>CREATE ROLE</b> (in fact, it calls this
command) but can be run from the command shell.</p>

<p style="margin-left:11%; margin-top: 1em">The CONNECTION
LIMIT option is only enforced approximately; if two new
sessions start at about the same time when just one
connection &ldquo;slot&rdquo; remains for the role, it is
possible that both will fail. Also, the limit is never
enforced for superusers.</p>

<p style="margin-left:11%; margin-top: 1em">Caution must be
exercised when specifying an unencrypted password with this
command. The password will be transmitted to the server in
cleartext, and it might also be logged in the client's
command history or the server log. The command
<b>createuser</b>(1), however, transmits the password
encrypted. Also, <b>psql</b>(1) contains a command
<b>\password</b> that can be used to safely change the
password later.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Create a role
that can log in, but don't give it a password:</p>

<p style="margin-left:17%; margin-top: 1em">CREATE ROLE
jonathan LOGIN;</p>

<p style="margin-left:11%; margin-top: 1em">Create a role
with a password:</p>

<p style="margin-left:17%; margin-top: 1em">CREATE USER
davide WITH PASSWORD 'jw8s0F4';</p>

<p style="margin-left:11%; margin-top: 1em">(<b>CREATE
USER</b> is the same as <b>CREATE ROLE</b> except that it
implies LOGIN.)</p>

<p style="margin-left:11%; margin-top: 1em">Create a role
with a password that is valid until the end of 2004. After
one second has ticked in 2005, the password is no longer
valid.</p>

<p style="margin-left:17%; margin-top: 1em">CREATE ROLE
miriam WITH LOGIN PASSWORD 'jw8s0F4' VALID UNTIL
'2005&minus;01&minus;01';</p>

<p style="margin-left:11%; margin-top: 1em">Create a role
that can create databases and manage roles:</p>

<p style="margin-left:17%; margin-top: 1em">CREATE ROLE
admin WITH CREATEDB CREATEROLE;</p>

<h2>COMPATIBILITY
<a name="COMPATIBILITY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <b>CREATE
ROLE</b> statement is in the SQL standard, but the standard
only requires the syntax</p>

<p style="margin-left:17%; margin-top: 1em">CREATE ROLE
<i>name</i> [ WITH ADMIN <i>role_name</i> ]</p>

<p style="margin-left:11%; margin-top: 1em">Multiple
initial administrators, and all the other options of
<b>CREATE ROLE</b>, are PostgreSQL extensions.</p>

<p style="margin-left:11%; margin-top: 1em">The SQL
standard defines the concepts of users and roles, but it
regards them as distinct concepts and leaves all commands
defining users to be specified by each database
implementation. In PostgreSQL we have chosen to unify users
and roles into a single kind of entity. Roles therefore have
many more optional attributes than they do in the
standard.</p>

<p style="margin-left:11%; margin-top: 1em">The behavior
specified by the SQL standard is most closely approximated
by giving users the NOINHERIT attribute, while roles are
given the INHERIT attribute.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">SET ROLE
(<b>SET_ROLE</b>(7)), ALTER ROLE (<b>ALTER_ROLE</b>(7)),
DROP ROLE (<b>DROP_ROLE</b>(7)), <b>GRANT</b>(7),
<b>REVOKE</b>(7), <b>createuser</b>(1)</p>
<hr>
</body>
</html>
