<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 02:08:27 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PMDAGFS2</title>

</head>
<body>

<h1 align="center">PMDAGFS2</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#INSTALLATION">INSTALLATION</a><br>
<a href="#FILES">FILES</a><br>
<a href="#PCP ENVIRONMENT">PCP ENVIRONMENT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pmdagfs2</b>
&minus; Global Filesystem v2 (GFS2) PMDA</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pmdagfs2</b>
is a Performance Metrics Domain Agent (PMDA) which exports
metric values about mounted GFS2 filesystems from the
debugfs filesystem. This PMDA requires debugfs along with at
least one mounted GFS2 filesystem to be mounted in order to
be able to provide metric data.</p>

<p style="margin-left:11%; margin-top: 1em">This PMDA can
be used with GFS2 filesystems which are both mounted as
local filesystems and filesystems which are mounted as
shared storage within a clustered environment. However there
are some metrics which specifically require GFS2 to be setup
in a clustered environment to be able to provide metric
data. This is due to them expecting locking messages to be
passed via the distributed lock manager (DLM) between nodes
of a cluster in order to generate their output.</p>

<p style="margin-left:11%; margin-top: 1em">These
cluster-environment-only metrics can be distinguished by the
inclusion of their corresponding control metrics so that
they can be optionally enabled or disabled on systems where
they are not desired to be monitored or not supported.</p>


<p style="margin-left:11%; margin-top: 1em"><b>pmstore</b>(3)
can be used to assign values to these control metrics in
order to enable (1) or disable (0) them. This mechanism is
also useful on distributions that do not currently have full
support for the GFS2 trace-points or provide older versions
of the GFS2 driver.</p>

<p style="margin-left:11%; margin-top: 1em">Further details
on clustering and GFS2 can be found at http://redhat.com</p>

<h2>INSTALLATION
<a name="INSTALLATION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Install the
GFS2 PMDA by using the Install script as root:</p>

<p style="margin-left:11%; margin-top: 1em"># cd
$PCP_PMDAS_DIR/gfs2 <br>
# ./Install</p>

<p style="margin-left:11%; margin-top: 1em">To uninstall,
do the following as root:</p>

<p style="margin-left:11%; margin-top: 1em"># cd
$PCP_PMDAS_DIR/gfs2 <br>
# ./Remove</p>


<p style="margin-left:11%; margin-top: 1em"><b>pmdagfs2</b>
is launched by <b>pmcd</b>(1) and should never be executed
directly. The Install and Remove scripts notify <b>pmcd</b>
when the agent is installed or removed.</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>$PCP_PMDAS_DIR/gfs2/help</b></p>

<p style="margin-left:17%;">default help text file for the
GFS2 metrics</p>


<p style="margin-left:11%;"><b>$PCP_PMDAS_DIR/gfs2/Install</b></p>

<p style="margin-left:17%;">installation script for the
<b>pmdagfs2</b> agent</p>


<p style="margin-left:11%;"><b>$PCP_PMDAS_DIR/gfs2/Remove</b></p>

<p style="margin-left:17%;">undo installation script for
the <b>pmdagfs2</b> agent</p>


<p style="margin-left:11%;"><b>$PCP_LOG_DIR/pmcd/gfs2.log</b></p>

<p style="margin-left:17%;">default log file for error
messages from <b>pmdagfs2</b></p>

<h2>PCP ENVIRONMENT
<a name="PCP ENVIRONMENT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Environment
variables with the prefix <b>PCP_</b> are used to
parameterize the file and directory names used by
<b>PCP</b>. On each installation, the file
<b>/etc/pcp.conf</b> contains the local values for these
variables. The <b>$PCP_CONF</b> variable may be used to
specify an alternative configuration file, as described in
<i>pcp.conf</i>(5).</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pmcd</b>(1),
<b>pmstore</b>(1), and <b>gfs2</b>(5).</p>
<hr>
</body>
</html>
