<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 01:26:17 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>DBWRAP_TOOL</title>

</head>
<body>

<h1 align="center">DBWRAP_TOOL</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#COMMANDS">COMMANDS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#VERSION">VERSION</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">dbwrap_tool
&minus; low level TDB/CTDB manipulation tool using the
dbwrap interface</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em">dbwrap_tool
[&minus;&minus;persistent]
[&minus;&minus;non&minus;persistent]
[&minus;d&nbsp;&lt;debug&nbsp;level&gt;]
[&minus;s&nbsp;&lt;config&nbsp;file&gt;]
[&minus;l&nbsp;&lt;log&nbsp;file&nbsp;base&gt;] [&minus;V]
[&minus;&minus;option=&lt;name&gt;=&lt;value&gt;]
{&lt;database&gt;} {&lt;operation&gt;}
[&lt;key&gt;&nbsp;[&lt;type&gt;&nbsp;[&lt;value&gt;]]]</p> </td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This tool is
part of the <b>samba</b>(7) suite.</p>

<p style="margin-left:11%; margin-top: 1em">The dbwrap_tool
program is used to read and manipulate TDB/CTDB databases
using the dbwrap interface.</p>

<p style="margin-left:11%; margin-top: 1em">The following
database operations are available:</p>

<p style="margin-left:17%; margin-top: 1em">&bull; fetch:
fetch a record</p>

<p style="margin-left:17%; margin-top: 1em">&bull; store:
create or modify a record</p>

<p style="margin-left:17%; margin-top: 1em">&bull; delete:
remove a record</p>

<p style="margin-left:17%; margin-top: 1em">&bull; exists:
test for existence of a record</p>

<p style="margin-left:17%; margin-top: 1em">&bull; erase:
remove all records</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
listkeys: list all available records</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
listwatchers: list processes, which are waiting for changes
in a record</p>

<p style="margin-left:11%; margin-top: 1em">The following
types are available:</p>

<p style="margin-left:17%; margin-top: 1em">&bull; int32:
signed 32bit integer</p>

<p style="margin-left:17%; margin-top: 1em">&bull; uint32:
unsigned 32bit integer</p>

<p style="margin-left:17%; margin-top: 1em">&bull; string:
&quot;hello world&quot;</p>

<p style="margin-left:17%; margin-top: 1em">&bull; hex: hex
strings like &quot;68656C6C6F20776F726C6400&quot;
(&quot;hello world&quot;)</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">&minus;&minus;persistent</p>

<p style="margin-left:17%;">Open the database as a
persistent database.</p>

<p style="margin-left:17%; margin-top: 1em">Exactly one of
&minus;&minus;persistent and
&minus;&minus;non&minus;persistent must be specified.</p>


<p style="margin-left:11%; margin-top: 1em">&minus;&minus;non&minus;persistent</p>

<p style="margin-left:17%;">Open the database as a
non&minus;persistent database.</p>

<p style="margin-left:17%; margin-top: 1em">Caveat: opening
a database as non&minus;persistent when there is currently
no other opener will wipe the database.</p>

<p style="margin-left:17%; margin-top: 1em">Exactly one of
&minus;&minus;persistent and
&minus;&minus;non&minus;persistent must be specified.</p>


<p style="margin-left:11%; margin-top: 1em">&minus;d|&minus;&minus;debuglevel=level</p>

<p style="margin-left:17%;"><i>level</i> is an integer from
0 to 10. The default value if this parameter is not
specified is 1.</p>

<p style="margin-left:17%; margin-top: 1em">The higher this
value, the more detail will be logged to the log files about
the activities of the server. At level 0, only critical
errors and serious warnings will be logged. Level 1 is a
reasonable level for day&minus;to&minus;day running &minus;
it generates a small amount of information about operations
carried out.</p>

<p style="margin-left:17%; margin-top: 1em">Levels above 1
will generate considerable amounts of log data, and should
only be used when investigating a problem. Levels above 3
are designed for use only by developers and generate HUGE
amounts of log data, most of which is extremely cryptic.</p>

<p style="margin-left:17%; margin-top: 1em">Note that
specifying this parameter here will override the
<b><font color="#0000FF">log level</font></b>
<font color="#000000">parameter in the smb.conf
file.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;V|&minus;&minus;version</font></p>

<p style="margin-left:17%;"><font color="#000000">Prints
the program version number.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;s|&minus;&minus;configfile=&lt;configuration
file&gt;</font></p>

<p style="margin-left:17%;"><font color="#000000">The file
specified contains the configuration details required by the
server. The information in this file includes
server&minus;specific information such as what printcap file
to use, as well as descriptions of all the services that the
server is to provide. See smb.conf for more information. The
default configuration file name is determined at compile
time.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;l|&minus;&minus;log&minus;basename=logdirectory</font></p>

<p style="margin-left:17%;"><font color="#000000">Base
directory name for log/debug files. The extension
<b>&quot;.progname&quot;</b> will be appended (e.g.
log.smbclient, log.smbd, etc...). The log file is never
removed by the client.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;&minus;option=&lt;name&gt;=&lt;value&gt;</font></p>

<p style="margin-left:17%;"><font color="#000000">Set the
<b>smb.conf</b>(5) option &quot;&lt;name&gt;&quot; to value
&quot;&lt;value&gt;&quot; from the command line. This
overrides compiled&minus;in defaults and options read from
the configuration file.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;?|&minus;&minus;help</font></p>

<p style="margin-left:17%;"><font color="#000000">Print a
summary of command line options.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;&minus;usage</font></p>

<p style="margin-left:17%;"><font color="#000000">Display
brief usage message.</font></p>

<h2>COMMANDS
<a name="COMMANDS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>fetch</b></font></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="63%">
</td>
<td width="26%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="63%">


<p><font color="#000000">dbwrap_tool &lt;database&gt; fetch
&lt;key&gt; &lt;type&gt;</font></p></td>
<td width="26%">
</td></tr>
</table>

<p><font color="#000000"><b>store</b></font></p></table>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="75%">
</td>
<td width="14%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="75%">


<p><font color="#000000">dbwrap_tool &lt;database&gt; store
&lt;key&gt; &lt;type&gt; &lt;value&gt;</font></p></td>
<td width="14%">
</td></tr>
</table>

<p><font color="#000000"><b>delete</b></font></p></table>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="54%">
</td>
<td width="35%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="54%">


<p><font color="#000000">dbwrap_tool &lt;database&gt;
delete &lt;key&gt;</font></p></td>
<td width="35%">
</td></tr>
</table>

<p><font color="#000000"><b>exists</b></font></p></table>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="54%">
</td>
<td width="35%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="54%">


<p><font color="#000000">dbwrap_tool &lt;database&gt;
exists &lt;key&gt;</font></p></td>
<td width="35%">
</td></tr>
</table>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">


<p><font color="#000000"><b>erase</b></font></p><td width="11%"></td>
<td width="43%"></td>
<td width="46%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="43%">


<p><font color="#000000">dbwrap_tool &lt;database&gt;
erase</font></p> </td>
<td width="46%">
</td></tr>
</table>

<p><font color="#000000"><b>listkeys</b></font></p></table>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="47%">
</td>
<td width="42%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="47%">


<p><font color="#000000">dbwrap_tool &lt;database&gt;
listkeys</font></p> </td>
<td width="42%">
</td></tr>
</table>

<p><font color="#000000"><b>listwatchers</b></font></p></table>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="54%">
</td>
<td width="35%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="54%">


<p><font color="#000000">dbwrap_tool &lt;database&gt;
listwatchers</font></p> </td>
<td width="35%">
</td></tr>
</table>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">List
all keys from winbindd_idmap.tdb</font></p>


<p style="margin-left:17%;"><font color="#000000">dbwrap_tool
&minus;&minus;persistent winbindd_idmap.tdb
listkeys</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Fetch
record with key &quot;USER HWM&quot; as uint32</font></p>


<p style="margin-left:17%;"><font color="#000000">dbwrap_tool
&minus;&minus;persistent winbindd_idmap.tdb fetch &quot;USER
HWM&quot; uint32</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Remove
record with key &quot;USER HWM&quot;</font></p>


<p style="margin-left:17%;"><font color="#000000">dbwrap_tool
&minus;&minus;persistent winbindd_idmap.tdb remove
&quot;USER HWM&quot;</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Store
and overwrite record &quot;USER HWM&quot; with value
214</font></p>

<p style="margin-left:17%;"><font color="#000000">uint32:
dbwrap_tool &minus;&minus;persistent winbindd_idmap.tdb
store &quot;USER HWM&quot; uint32 214 hex: dbwrap_tool
&minus;&minus;persistent winbindd_idmap.tdb store &quot;USER
HWM&quot; hex D6000000</font></p>

<h2>NOTES
<a name="NOTES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Use
with caution!</font></p>

<h2>VERSION
<a name="VERSION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
man page is correct for version 3 of the Samba
suite.</font></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>smbd</b>(8),
<b>samba</b>(7)</font></p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
original Samba software and related utilities were created
by Andrew Tridgell. Samba is now developed by the Samba Team
as an Open Source project similar to the way the Linux
kernel is developed.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
dbwrap_tool manpage was written by Bjoern
Baumbach.</font></p>
<hr>
</body>
</html>
