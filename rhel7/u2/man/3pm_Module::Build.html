<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 01:59:38 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>Module::Build</title>

</head>
<body>

<h1 align="center">Module::Build</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#GUIDE TO DOCUMENTATION">GUIDE TO DOCUMENTATION</a><br>
<a href="#ACTIONS">ACTIONS</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#INSTALL PATHS">INSTALL PATHS</a><br>
<a href="#MOTIVATIONS">MOTIVATIONS</a><br>
<a href="#TO DO">TO DO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Module::Build
&minus; Build and install Perl modules</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Standard
process for building &amp; installing modules:</p>

<pre style="margin-left:11%; margin-top: 1em">  perl Build.PL
  ./Build
  ./Build test
  ./Build install</pre>


<p style="margin-left:11%; margin-top: 1em">Or, if
you&rsquo;re on a platform (like <small>DOS</small> or
Windows) that doesn&rsquo;t require the &quot;./&quot;
notation, you can do this:</p>

<pre style="margin-left:11%; margin-top: 1em">  perl Build.PL
  Build
  Build test
  Build install</pre>


<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><tt>&quot;Module::Build&quot;</tt>
is a system for building, testing, and installing Perl
modules. It is meant to be an alternative to
<tt>&quot;ExtUtils::MakeMaker&quot;</tt>. Developers may
alter the behavior of the module through subclassing in a
much more straightforward way than with
<tt>&quot;MakeMaker&quot;</tt>. It also does not require a
<tt>&quot;make&quot;</tt> on your system &minus; most of the
<tt>&quot;Module::Build&quot;</tt> code is pure-perl and
written in a very cross-platform way. In fact, you
don&rsquo;t even need a shell, so even platforms like MacOS
(traditional) can use it fairly easily. Its only
prerequisites are modules that are included with perl 5.6.0,
and it works fine on perl 5.005 if you can install a few
additional modules.</p>

<p style="margin-left:11%; margin-top: 1em">See &quot;
<small>MOTIVATIONS&quot;</small> for more comparisons
between <tt>&quot;ExtUtils::MakeMaker&quot;</tt> and
<tt>&quot;Module::Build&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em">To install
<tt>&quot;Module::Build&quot;</tt>, and any other module
that uses <tt>&quot;Module::Build&quot;</tt> for its
installation process, do the following:</p>

<pre style="margin-left:11%; margin-top: 1em">  perl Build.PL       # 'Build.PL' script creates the 'Build' script
  ./Build             # Need ./ to ensure we're using this &quot;Build&quot; script
  ./Build test        # and not another one that happens to be in the PATH
  ./Build install</pre>


<p style="margin-left:11%; margin-top: 1em">This
illustrates initial configuration and the running of three
&rsquo;actions&rsquo;. In this case the actions run are
&rsquo;build&rsquo; (the default action),
&rsquo;test&rsquo;, and &rsquo;install&rsquo;. Other actions
defined so far include:</p>

<pre style="margin-left:11%; margin-top: 1em">  build                          manifest
  clean                          manifest_skip
  code                           manpages
  config_data                    pardist
  diff                           ppd
  dist                           ppmdist
  distcheck                      prereq_data
  distclean                      prereq_report
  distdir                        pure_install
  distinstall                    realclean
  distmeta                       retest
  distsign                       skipcheck
  disttest                       test
  docs                           testall
  fakeinstall                    testcover
  help                           testdb
  html                           testpod
  install                        testpodcoverage
  installdeps                    versioninstall</pre>


<p style="margin-left:11%; margin-top: 1em">You can run the
&rsquo;help&rsquo; action for a complete list of
actions.</p>

<h2>GUIDE TO DOCUMENTATION
<a name="GUIDE TO DOCUMENTATION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
documentation for <tt>&quot;Module::Build&quot;</tt> is
broken up into sections: <br>
General Usage (Module::Build)</p>

<p style="margin-left:17%;">This is the document you are
currently reading. It describes basic usage and background
information. Its main purpose is to assist the user who
wants to learn how to invoke and control
<tt>&quot;Module::Build&quot;</tt> scripts at the command
line.</p>

<p style="margin-left:11%;">Authoring Reference
(Module::Build::Authoring)</p>

<p style="margin-left:17%;">This document describes the
structure and organization of
<tt>&quot;Module::Build&quot;</tt>, and the relevant
concepts needed by authors who are writing <i>Build.PL</i>
scripts for a distribution or controlling
<tt>&quot;Module::Build&quot;</tt> processes
programmatically.</p>

<p style="margin-left:11%;"><small>API</small> Reference
(Module::Build::API)</p>

<p style="margin-left:17%;">This is a reference to the
<tt>&quot;Module::Build&quot;</tt> <small>API.</small></p>

<p style="margin-left:11%;">Cookbook
(Module::Build::Cookbook)</p>

<p style="margin-left:17%;">This document demonstrates how
to accomplish many common tasks. It covers general command
line usage and authoring of <i>Build.PL</i> scripts.
Includes working examples.</p>

<h2>ACTIONS
<a name="ACTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">There are some
general principles at work here. First, each task when
building a module is called an &quot;action&quot;. These
actions are listed above; they correspond to the building,
testing, installing, packaging, etc., tasks.</p>

<p style="margin-left:11%; margin-top: 1em">Second,
arguments are processed in a very systematic way. Arguments
are always key=value pairs. They may be specified at
<tt>&quot;perl Build.PL&quot;</tt> time (i.e. <tt>&quot;perl
Build.PL destdir=/my/secret/place&quot;</tt>), in which case
their values last for the lifetime of the
<tt>&quot;Build&quot;</tt> script. They may also be
specified when executing a particular action (i.e.
<tt>&quot;Build test verbose=1&quot;</tt>), in which case
their values last only for the lifetime of that command.
Per-action command line parameters take precedence over
parameters specified at <tt>&quot;perl Build.PL&quot;</tt>
time.</p>

<p style="margin-left:11%; margin-top: 1em">The build
process also relies heavily on the
<tt>&quot;Config.pm&quot;</tt> module. If the user wishes to
override any of the values in
<tt>&quot;Config.pm&quot;</tt>, she may specify them like
so:</p>

<pre style="margin-left:11%; margin-top: 1em">  perl Build.PL &minus;&minus;config cc=gcc &minus;&minus;config ld=gcc</pre>


<p style="margin-left:11%; margin-top: 1em">The following
build actions are provided by default. <br>
build</p>

<p style="margin-left:17%;">[version 0.01]</p>

<p style="margin-left:17%; margin-top: 1em">If you run the
<tt>&quot;Build&quot;</tt> script without any arguments, it
runs the <tt>&quot;build&quot;</tt> action, which in turn
runs the <tt>&quot;code&quot;</tt> and
<tt>&quot;docs&quot;</tt> actions.</p>

<p style="margin-left:17%; margin-top: 1em">This is
analogous to the <tt>&quot;MakeMaker&quot;</tt> <i>make
all</i> target.</p>

<p style="margin-left:11%;">clean</p>

<p style="margin-left:17%;">[version 0.01]</p>

<p style="margin-left:17%; margin-top: 1em">This action
will clean up any files that the build process may have
created, including the <tt>&quot;blib/&quot;</tt> directory
(but not including the <tt>&quot;_build/&quot;</tt>
directory and the <tt>&quot;Build&quot;</tt> script
itself).</p>

<p style="margin-left:11%;">code</p>

<p style="margin-left:17%;">[version 0.20]</p>

<p style="margin-left:17%; margin-top: 1em">This action
builds your code base.</p>

<p style="margin-left:17%; margin-top: 1em">By default it
just creates a <tt>&quot;blib/&quot;</tt> directory and
copies any <tt>&quot;.pm&quot;</tt> and
<tt>&quot;.pod&quot;</tt> files from your
<tt>&quot;lib/&quot;</tt> directory into the
<tt>&quot;blib/&quot;</tt> directory. It also compiles any
<tt>&quot;.xs&quot;</tt> files from
<tt>&quot;lib/&quot;</tt> and places them in
<tt>&quot;blib/&quot;</tt>. Of course, you need a working C
compiler (probably the same one that built perl itself) for
the compilation to work properly.</p>

<p style="margin-left:17%; margin-top: 1em">The
<tt>&quot;code&quot;</tt> action also runs any
<tt>&quot;.PL&quot;</tt> files in your <i>lib/</i>
directory. Typically these create other files, named the
same but without the <tt>&quot;.PL&quot;</tt> ending. For
example, a file <i>lib/Foo/Bar.pm.PL</i> could create the
file <i>lib/Foo/Bar.pm</i>. The <tt>&quot;.PL&quot;</tt>
files are processed first, so any <tt>&quot;.pm&quot;</tt>
files (or other kinds that we deal with) will get copied
correctly.</p>

<p style="margin-left:11%;">config_data</p>

<p style="margin-left:17%;">[version 0.26]</p>

<p style="margin-left:17%; margin-top: 1em">...</p>

<p style="margin-left:11%;">diff</p>

<p style="margin-left:17%;">[version 0.14]</p>

<p style="margin-left:17%; margin-top: 1em">This action
will compare the files about to be installed with their
installed counterparts. For .pm and .pod files, a diff will
be shown (this currently requires a &rsquo;diff&rsquo;
program to be in your <small>PATH</small> ). For other files
like compiled binary files, we simply report whether they
differ.</p>

<p style="margin-left:17%; margin-top: 1em">A
<tt>&quot;flags&quot;</tt> parameter may be passed to the
action, which will be passed to the &rsquo;diff&rsquo;
program. Consult your &rsquo;diff&rsquo; documentation for
the parameters it will accept &minus; a good one is
<tt>&quot;&minus;u&quot;</tt>:</p>

<pre style="margin-left:17%; margin-top: 1em">  ./Build diff flags=&minus;u</pre>


<p style="margin-left:11%;">dist</p>

<p style="margin-left:17%;">[version 0.02]</p>

<p style="margin-left:17%; margin-top: 1em">This action is
helpful for module authors who want to package up their
module for source distribution through a medium like
<small>CPAN.</small> It will create a tarball of the files
listed in <i><small>MANIFEST</small></i> and compress the
tarball using <small>GZIP</small> compression.</p>

<p style="margin-left:17%; margin-top: 1em">By default,
this action will use the <tt>&quot;Archive::Tar&quot;</tt>
module. However, you can force it to use binary
&quot;tar&quot; and &quot;gzip&quot; executables by
supplying an explicit <tt>&quot;tar&quot;</tt> (and optional
<tt>&quot;gzip&quot;</tt>) parameter:</p>

<pre style="margin-left:17%; margin-top: 1em">  ./Build dist &minus;&minus;tar C:\path\to\tar.exe &minus;&minus;gzip C:\path\to\zip.exe</pre>


<p style="margin-left:11%;">distcheck</p>

<p style="margin-left:17%;">[version 0.05]</p>

<p style="margin-left:17%; margin-top: 1em">Reports which
files are in the build directory but not in the
<i><small>MANIFEST</small></i> file, and vice versa. (See
manifest for details.)</p>

<p style="margin-left:11%;">distclean</p>

<p style="margin-left:17%;">[version 0.05]</p>

<p style="margin-left:17%; margin-top: 1em">Performs the
&rsquo;realclean&rsquo; action and then the
&rsquo;distcheck&rsquo; action.</p>

<p style="margin-left:11%;">distdir</p>

<p style="margin-left:17%;">[version 0.05]</p>

<p style="margin-left:17%; margin-top: 1em">Creates a
&quot;distribution directory&quot; named
<tt>&quot;$dist_name&minus;$dist_version&quot;</tt> (if that
directory already exists, it will be removed first), then
copies all the files listed in the
<i><small>MANIFEST</small></i> file to that directory. This
directory is what the distribution tarball is created
from.</p>

<p style="margin-left:11%;">distinstall</p>

<p style="margin-left:17%;">[version 0.37]</p>

<p style="margin-left:17%; margin-top: 1em">Performs the
&rsquo;distdir&rsquo; action, then switches into that
directory and runs a <tt>&quot;perl Build.PL&quot;</tt>,
followed by the &rsquo;build&rsquo; and
&rsquo;install&rsquo; actions in that directory. Use
<small>PERL_MB_OPT</small> or <i>.modulebuildrc</i> to set
options that should be applied during subprocesses</p>

<p style="margin-left:11%;">distmeta</p>

<p style="margin-left:17%;">[version 0.21]</p>

<p style="margin-left:17%; margin-top: 1em">Creates the
<i><small>META</small> .yml</i> file that describes the
distribution.</p>


<p style="margin-left:17%; margin-top: 1em"><i><small>META</small>
.yml</i> is a file containing various bits of
<i>metadata</i> about the distribution. The metadata
includes the distribution name, version, abstract,
prerequisites, license, and various other data about the
distribution. This file is created as <i><small>META</small>
.yml</i> in a simplified <small>YAML</small> format.</p>


<p style="margin-left:17%; margin-top: 1em"><i><small>META</small>
.yml</i> file must also be listed in
<i><small>MANIFEST</small></i> &minus; if it&rsquo;s not, a
warning will be issued.</p>

<p style="margin-left:17%; margin-top: 1em">The current
version of the <i><small>META</small> .yml</i> specification
can be found on <small>CPAN</small> as CPAN::Meta::Spec.</p>

<p style="margin-left:11%;">distsign</p>

<p style="margin-left:17%;">[version 0.16]</p>

<p style="margin-left:17%; margin-top: 1em">Uses
<tt>&quot;Module::Signature&quot;</tt> to create a
<small>SIGNATURE</small> file for your distribution, and
adds the <small>SIGNATURE</small> file to the
distribution&rsquo;s <small>MANIFEST.</small></p>

<p style="margin-left:11%;">disttest</p>

<p style="margin-left:17%;">[version 0.05]</p>

<p style="margin-left:17%; margin-top: 1em">Performs the
&rsquo;distdir&rsquo; action, then switches into that
directory and runs a <tt>&quot;perl Build.PL&quot;</tt>,
followed by the &rsquo;build&rsquo; and &rsquo;test&rsquo;
actions in that directory. Use <small>PERL_MB_OPT</small> or
<i>.modulebuildrc</i> to set options that should be applied
during subprocesses</p>

<p style="margin-left:11%;">docs</p>

<p style="margin-left:17%;">[version 0.20]</p>

<p style="margin-left:17%; margin-top: 1em">This will
generate documentation (e.g. Unix man pages and
<small>HTML</small> documents) for any installable items
under <b>blib/</b> that contain <small>POD.</small> If there
are no <tt>&quot;bindoc&quot;</tt> or
<tt>&quot;libdoc&quot;</tt> installation targets defined (as
will be the case on systems that don&rsquo;t support Unix
manpages) no action is taken for manpages. If there are no
<tt>&quot;binhtml&quot;</tt> or <tt>&quot;libhtml&quot;</tt>
installation targets defined no action is taken for
<small>HTML</small> documents.</p>

<p style="margin-left:11%;">fakeinstall</p>

<p style="margin-left:17%;">[version 0.02]</p>

<p style="margin-left:17%; margin-top: 1em">This is just
like the <tt>&quot;install&quot;</tt> action, but it
won&rsquo;t actually do anything, it will just report what
it <i>would</i> have done if you had actually run the
<tt>&quot;install&quot;</tt> action.</p>

<p style="margin-left:11%;">help</p>

<p style="margin-left:17%;">[version 0.03]</p>

<p style="margin-left:17%; margin-top: 1em">This action
will simply print out a message that is meant to help you
use the build process. It will show you a list of available
build actions too.</p>

<p style="margin-left:17%; margin-top: 1em">With an
optional argument specifying an action name (e.g.
<tt>&quot;Build help test&quot;</tt>), the
&rsquo;help&rsquo; action will show you any
<small>POD</small> documentation it can find for that
action.</p>

<p style="margin-left:11%;">html</p>

<p style="margin-left:17%;">[version 0.26]</p>

<p style="margin-left:17%; margin-top: 1em">This will
generate <small>HTML</small> documentation for any binary or
library files under <b>blib/</b> that contain
<small>POD.</small> The <small>HTML</small> documentation
will only be installed if the install paths can be
determined from values in <tt>&quot;Config.pm&quot;</tt>.
You can also supply or override install paths on the command
line by specifying <tt>&quot;install_path&quot;</tt> values
for the <tt>&quot;binhtml&quot;</tt> and/or
<tt>&quot;libhtml&quot;</tt> installation targets.</p>

<p style="margin-left:11%;">install</p>

<p style="margin-left:17%;">[version 0.01]</p>

<p style="margin-left:17%; margin-top: 1em">This action
will use <tt>&quot;ExtUtils::Install&quot;</tt> to install
the files from <tt>&quot;blib/&quot;</tt> into the system.
See &quot; <small>INSTALL PATHS&quot;</small> for details
about how Module::Build determines where to install things,
and how to influence this process.</p>

<p style="margin-left:17%; margin-top: 1em">If you want the
installation process to look around in <tt>@INC</tt> for
other versions of the stuff you&rsquo;re installing and try
to delete it, you can use the <tt>&quot;uninst&quot;</tt>
parameter, which tells
<tt>&quot;ExtUtils::Install&quot;</tt> to do so:</p>

<pre style="margin-left:17%; margin-top: 1em">  ./Build install uninst=1</pre>


<p style="margin-left:17%; margin-top: 1em">This can be a
good idea, as it helps prevent multiple versions of a module
from being present on your system, which can be a confusing
situation indeed.</p>

<p style="margin-left:11%;">installdeps</p>

<p style="margin-left:17%;">[version 0.36]</p>

<p style="margin-left:17%; margin-top: 1em">This action
will use the <tt>&quot;cpan_client&quot;</tt> parameter as a
command to install missing prerequisites. You will be
prompted whether to install optional dependencies.</p>

<p style="margin-left:17%; margin-top: 1em">The
<tt>&quot;cpan_client&quot;</tt> option defaults to
&rsquo;cpan&rsquo; but can be set as an option or in
<i>.modulebuildrc</i>. It must be a shell command that takes
a list of modules to install as arguments (e.g. &rsquo;cpanp
&minus;i&rsquo; for <small>CPANPLUS</small> ). If the
program part is a relative path (e.g. &rsquo;cpan&rsquo; or
&rsquo;cpanp&rsquo;), it will be located relative to the
perl program that executed Build.PL.</p>

<pre style="margin-left:17%; margin-top: 1em">  /opt/perl/5.8.9/bin/perl Build.PL
  ./Build installdeps &minus;&minus;cpan_client 'cpanp &minus;i'
  # installs to 5.8.9</pre>


<p style="margin-left:11%;">manifest</p>

<p style="margin-left:17%;">[version 0.05]</p>

<p style="margin-left:17%; margin-top: 1em">This is an
action intended for use by module authors, not people
installing modules. It will bring the
<i><small>MANIFEST</small></i> up to date with the files
currently present in the distribution. You may use a
<i><small>MANIFEST.SKIP</small></i> file to exclude certain
files or directories from inclusion in the
<i><small>MANIFEST</small></i> .
<i><small>MANIFEST.SKIP</small></i> should contain a bunch
of regular expressions, one per line. If a file in the
distribution directory matches any of the regular
expressions, it won&rsquo;t be included in the
<i><small>MANIFEST</small></i> .</p>

<p style="margin-left:17%; margin-top: 1em">The following
is a reasonable <i><small>MANIFEST.SKIP</small></i> starting
point, you can add your own stuff to it:</p>

<pre style="margin-left:17%; margin-top: 1em">  ^_build
  ^Build$
  ^blib
  ~$
  \.bak$
  ^MANIFEST\.SKIP$
  CVS</pre>


<p style="margin-left:17%; margin-top: 1em">See the
distcheck and skipcheck actions if you want to find out what
the <tt>&quot;manifest&quot;</tt> action would do, without
actually doing anything.</p>

<p style="margin-left:11%;">manifest_skip</p>

<p style="margin-left:17%;">[version 0.3608]</p>

<p style="margin-left:17%; margin-top: 1em">This is an
action intended for use by module authors, not people
installing modules. It will generate a boilerplate
<small>MANIFEST.SKIP</small> file if one does not already
exist.</p>

<p style="margin-left:11%;">manpages</p>

<p style="margin-left:17%;">[version 0.28]</p>

<p style="margin-left:17%; margin-top: 1em">This will
generate man pages for any binary or library files under
<b>blib/</b> that contain <small>POD.</small> The man pages
will only be installed if the install paths can be
determined from values in <tt>&quot;Config.pm&quot;</tt>.
You can also supply or override install paths by specifying
there values on the command line with the
<tt>&quot;bindoc&quot;</tt> and <tt>&quot;libdoc&quot;</tt>
installation targets.</p>

<p style="margin-left:11%;">pardist</p>

<p style="margin-left:17%;">[version 0.2806]</p>

<p style="margin-left:17%; margin-top: 1em">Generates a
<small>PAR</small> binary distribution for use with
<small>PAR</small> or PAR::Dist.</p>

<p style="margin-left:17%; margin-top: 1em">It requires
that the PAR::Dist module (version 0.17 and up) is installed
on your system.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>ppd</p></td>
<td width="2%"></td>
<td width="21%">


<p>[version 0.20]</p></td>
<td width="62%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Build a
<small>PPD</small> file for your distribution.</p>

<p style="margin-left:17%; margin-top: 1em">This action
takes an optional argument <tt>&quot;codebase&quot;</tt>
which is used in the generated <small>PPD</small> file to
specify the (usually relative) <small>URL</small> of the
distribution. By default, this value is the distribution
name without any path information.</p>

<p style="margin-left:17%; margin-top: 1em">Example:</p>

<pre style="margin-left:17%; margin-top: 1em">  ./Build ppd &minus;&minus;codebase &quot;MSWin32&minus;x86&minus;multi&minus;thread/Module&minus;Build&minus;0.21.tar.gz&quot;</pre>


<p style="margin-left:11%;">ppmdist</p>

<p style="margin-left:17%;">[version 0.23]</p>

<p style="margin-left:17%; margin-top: 1em">Generates a
<small>PPM</small> binary distribution and a
<small>PPD</small> description file. This action also
invokes the <tt>&quot;ppd&quot;</tt> action, so it can
accept the same <tt>&quot;codebase&quot;</tt> argument
described under that action.</p>

<p style="margin-left:17%; margin-top: 1em">This uses the
same mechanism as the <tt>&quot;dist&quot;</tt> action to
tar &amp; zip its output, so you can supply
<tt>&quot;tar&quot;</tt> and/or <tt>&quot;gzip&quot;</tt>
parameters to affect the result.</p>

<p style="margin-left:11%;">prereq_data</p>

<p style="margin-left:17%;">[version 0.32]</p>

<p style="margin-left:17%; margin-top: 1em">This action
prints out a Perl data structure of all prerequisites and
the versions required. The output can be loaded again using
<tt>&quot;eval()&quot;</tt>. This can be useful for external
tools that wish to query a Build script for
prerequisites.</p>

<p style="margin-left:11%;">prereq_report</p>

<p style="margin-left:17%;">[version 0.28]</p>

<p style="margin-left:17%; margin-top: 1em">This action
prints out a list of all prerequisites, the versions
required, and the versions actually installed. This can be
useful for reviewing the configuration of your system prior
to a build, or when compiling data to send for a bug
report.</p>

<p style="margin-left:11%;">pure_install</p>

<p style="margin-left:17%;">[version 0.28]</p>

<p style="margin-left:17%; margin-top: 1em">This action is
identical to the <tt>&quot;install&quot;</tt> action. In the
future, though, when <tt>&quot;install&quot;</tt> starts
writing to the file <i>$( <small>INSTALLARCHLIB</small>
)/perllocal.pod</i>, <tt>&quot;pure_install&quot;</tt>
won&rsquo;t, and that will be the only difference between
them.</p>

<p style="margin-left:11%;">realclean</p>

<p style="margin-left:17%;">[version 0.01]</p>

<p style="margin-left:17%; margin-top: 1em">This action is
just like the <tt>&quot;clean&quot;</tt> action, but also
removes the <tt>&quot;_build&quot;</tt> directory and the
<tt>&quot;Build&quot;</tt> script. If you run the
<tt>&quot;realclean&quot;</tt> action, you are essentially
starting over, so you will have to re-create the
<tt>&quot;Build&quot;</tt> script again.</p>

<p style="margin-left:11%;">retest</p>

<p style="margin-left:17%;">[version 0.2806]</p>

<p style="margin-left:17%; margin-top: 1em">This is just
like the <tt>&quot;test&quot;</tt> action, but doesn&rsquo;t
actually build the distribution first, and doesn&rsquo;t add
<i>blib/</i> to the load path, and therefore will test
against a <i>previously</i> installed version of the
distribution. This can be used to verify that a certain
installed distribution still works, or to see whether newer
versions of a distribution still pass the old regression
tests, and so on.</p>

<p style="margin-left:11%;">skipcheck</p>

<p style="margin-left:17%;">[version 0.05]</p>

<p style="margin-left:17%; margin-top: 1em">Reports which
files are skipped due to the entries in the
<i><small>MANIFEST.SKIP</small></i> file (See manifest for
details)</p>

<p style="margin-left:11%;">test</p>

<p style="margin-left:17%;">[version 0.01]</p>

<p style="margin-left:17%; margin-top: 1em">This will use
<tt>&quot;Test::Harness&quot;</tt> or
<tt>&quot;TAP::Harness&quot;</tt> to run any regression
tests and report their results. Tests can be defined in the
standard places: a file called <tt>&quot;test.pl&quot;</tt>
in the top-level directory, or several files ending with
<tt>&quot;.t&quot;</tt> in a <tt>&quot;t/&quot;</tt>
directory.</p>

<p style="margin-left:17%; margin-top: 1em">If you want
tests to be &rsquo;verbose&rsquo;, i.e. show details of test
execution rather than just summary information, pass the
argument <tt>&quot;verbose=1&quot;</tt>.</p>

<p style="margin-left:17%; margin-top: 1em">If you want to
run tests under the perl debugger, pass the argument
<tt>&quot;debugger=1&quot;</tt>.</p>

<p style="margin-left:17%; margin-top: 1em">If you want to
have Module::Build find test files with different file name
extensions, pass the <tt>&quot;test_file_exts&quot;</tt>
argument with an array of extensions, such as <tt>&quot;[qw(
.t .s .z )]&quot;</tt>.</p>

<p style="margin-left:17%; margin-top: 1em">If you want
test to be run by <tt>&quot;TAP::Harness&quot;</tt>, rather
than <tt>&quot;Test::Harness&quot;</tt>, pass the argument
<tt>&quot;tap_harness_args&quot;</tt> as an array reference
of arguments to pass to the TAP::Harness constructor.</p>

<p style="margin-left:17%; margin-top: 1em">In addition, if
a file called <tt>&quot;visual.pl&quot;</tt> exists in the
top-level directory, this file will be executed as a Perl
script and its output will be shown to the user. This is a
good place to put speed tests or other tests that
don&rsquo;t use the <tt>&quot;Test::Harness&quot;</tt>
format for output.</p>

<p style="margin-left:17%; margin-top: 1em">To override the
choice of tests to run, you may pass a
<tt>&quot;test_files&quot;</tt> argument whose value is a
whitespace-separated list of test scripts to run. This is
especially useful in development, when you only want to run
a single test to see whether you&rsquo;ve squashed a certain
bug yet:</p>

<pre style="margin-left:17%; margin-top: 1em">  ./Build test &minus;&minus;test_files t/something_failing.t</pre>


<p style="margin-left:17%; margin-top: 1em">You may also
pass several <tt>&quot;test_files&quot;</tt> arguments
separately:</p>

<pre style="margin-left:17%; margin-top: 1em">  ./Build test &minus;&minus;test_files t/one.t &minus;&minus;test_files t/two.t</pre>


<p style="margin-left:17%; margin-top: 1em">or use a
<tt>&quot;glob()&quot;</tt>&minus;style pattern:</p>

<pre style="margin-left:17%; margin-top: 1em">  ./Build test &minus;&minus;test_files 't/01&minus;*.t'</pre>


<p style="margin-left:11%;">testall</p>

<p style="margin-left:17%;">[version 0.2807]</p>

<p style="margin-left:17%; margin-top: 1em">[Note: the
&rsquo;testall&rsquo; action and the code snippets below are
currently in alpha stage, see
&quot;/www.nntp.perl.org/group/perl.module.build/2007/03/msg584.html&quot;&quot;
in &quot;http: ]</p>

<p style="margin-left:17%; margin-top: 1em">Runs the
<tt>&quot;test&quot;</tt> action plus each of the
<tt>&quot;test$type&quot;</tt> actions defined by the keys
of the <tt>&quot;test_types&quot;</tt> parameter.</p>

<p style="margin-left:17%; margin-top: 1em">Currently, you
need to define the ACTION_test$type method yourself and
enumerate them in the test_types parameter.</p>

<pre style="margin-left:17%; margin-top: 1em">  my $mb = Module::Build&minus;&gt;subclass(
    code =&gt; q(
      sub ACTION_testspecial { shift&minus;&gt;generic_test(type =&gt; 'special'); }
      sub ACTION_testauthor  { shift&minus;&gt;generic_test(type =&gt; 'author'); }
    )
  )&minus;&gt;new(
    ...
    test_types  =&gt; {
      special =&gt; '.st',
      author  =&gt; ['.at', '.pt' ],
    },
    ...</pre>


<p style="margin-left:11%;">testcover</p>

<p style="margin-left:17%;">[version 0.26]</p>

<p style="margin-left:17%; margin-top: 1em">Runs the
<tt>&quot;test&quot;</tt> action using
<tt>&quot;Devel::Cover&quot;</tt>, generating a
code-coverage report showing which parts of the code were
actually exercised during the tests.</p>

<p style="margin-left:17%; margin-top: 1em">To pass options
to <tt>&quot;Devel::Cover&quot;</tt>, set the
<tt>$DEVEL_COVER_OPTIONS</tt> environment variable:</p>

<pre style="margin-left:17%; margin-top: 1em">  DEVEL_COVER_OPTIONS=&minus;ignore,Build ./Build testcover</pre>


<p style="margin-left:11%;">testdb</p>

<p style="margin-left:17%;">[version 0.05]</p>

<p style="margin-left:17%; margin-top: 1em">This is a
synonym for the &rsquo;test&rsquo; action with the
<tt>&quot;debugger=1&quot;</tt> argument.</p>

<p style="margin-left:11%;">testpod</p>

<p style="margin-left:17%;">[version 0.25]</p>

<p style="margin-left:17%; margin-top: 1em">This checks all
the files described in the <tt>&quot;docs&quot;</tt> action
and produces <tt>&quot;Test::Harness&quot;</tt>&minus;style
output. If you are a module author, this is useful to run
before creating a new release.</p>

<p style="margin-left:11%;">testpodcoverage</p>

<p style="margin-left:17%;">[version 0.28]</p>

<p style="margin-left:17%; margin-top: 1em">This checks the
pod coverage of the distribution and produces
<tt>&quot;Test::Harness&quot;</tt>&minus;style output. If
you are a module author, this is useful to run before
creating a new release.</p>

<p style="margin-left:11%;">versioninstall</p>

<p style="margin-left:17%;">[version 0.16]</p>

<p style="margin-left:17%; margin-top: 1em">** Note: since
<tt>&quot;only.pm&quot;</tt> is so new, and since we just
recently added support for it here too, this feature is to
be considered experimental. **</p>

<p style="margin-left:17%; margin-top: 1em">If you have the
<tt>&quot;only.pm&quot;</tt> module installed on your
system, you can use this action to install a module into the
version-specific library trees. This means that you can have
several versions of the same module installed and
<tt>&quot;use&quot;</tt> a specific one like this:</p>

<pre style="margin-left:17%; margin-top: 1em">  use only MyModule =&gt; 0.55;</pre>


<p style="margin-left:17%; margin-top: 1em">To override the
default installation libraries in
<tt>&quot;only::config&quot;</tt>, specify the
<tt>&quot;versionlib&quot;</tt> parameter when you run the
<tt>&quot;Build.PL&quot;</tt> script:</p>

<pre style="margin-left:17%; margin-top: 1em">  perl Build.PL &minus;&minus;versionlib /my/version/place/</pre>


<p style="margin-left:17%; margin-top: 1em">To override
which version the module is installed as, specify the
<tt>&quot;version&quot;</tt> parameter when you run the
<tt>&quot;Build.PL&quot;</tt> script:</p>

<pre style="margin-left:17%; margin-top: 1em">  perl Build.PL &minus;&minus;version 0.50</pre>


<p style="margin-left:17%; margin-top: 1em">See the
<tt>&quot;only.pm&quot;</tt> documentation for more
information on version-specific installs.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Command Line
Options</b> <br>
The following options can be used during any invocation of
<tt>&quot;Build.PL&quot;</tt> or the Build script, during
any action. For information on other options specific to an
action, see the documentation for the respective action.</p>


<p style="margin-left:11%; margin-top: 1em"><small>NOTE:</small>
There is some preliminary support for options to use the
more familiar long option style. Most options can be
preceded with the <tt>&quot;&minus;&minus;&quot;</tt> long
option prefix, and the underscores changed to dashes (e.g.
<tt>&quot;&minus;&minus;use&minus;rcfile&quot;</tt>).
Additionally, the argument to boolean options is optional,
and boolean options can be negated by prefixing them with
<tt>&quot;no&quot;</tt> or <tt>&quot;no&minus;&quot;</tt>
(e.g. <tt>&quot;&minus;&minus;noverbose&quot;</tt> or
<tt>&quot;&minus;&minus;no&minus;verbose&quot;</tt>). <br>
quiet</p>

<p style="margin-left:17%;">Suppress informative messages
on output.</p>

<p style="margin-left:11%;">verbose</p>

<p style="margin-left:17%;">Display extra information about
the Build on output. <tt>&quot;verbose&quot;</tt> will turn
off <tt>&quot;quiet&quot;</tt></p>

<p style="margin-left:11%;">cpan_client</p>

<p style="margin-left:17%;">Sets the
<tt>&quot;cpan_client&quot;</tt> command for use with the
<tt>&quot;installdeps&quot;</tt> action. See
<tt>&quot;installdeps&quot;</tt> for more details.</p>

<p style="margin-left:11%;">use_rcfile</p>

<p style="margin-left:17%;">Load the
<i>~/.modulebuildrc</i> option file. This option can be set
to false to prevent the custom resource file from being
loaded.</p>

<p style="margin-left:11%;">allow_mb_mismatch</p>

<p style="margin-left:17%;">Suppresses the check upon
startup that the version of Module::Build we&rsquo;re now
running under is the same version that was initially invoked
when building the distribution (i.e. when the
<tt>&quot;Build.PL&quot;</tt> script was first run). As of
0.3601, a mismatch results in a warning instead of a fatal
error, so this option effectively just suppresses the
warning.</p>

<p style="margin-left:11%;">debug</p>

<p style="margin-left:17%;">Prints Module::Build debugging
information to <small>STDOUT,</small> such as a trace of
executed build actions.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Default
Options File (</b><i>.modulebuildrc</i><b>)</b> <br>
[version 0.28]</p>

<p style="margin-left:11%; margin-top: 1em">When
Module::Build starts up, it will look first for a file,
<i>$ENV{ <small>HOME</small> }/.modulebuildrc</i>. If
it&rsquo;s not found there, it will look in the the
<i>.modulebuildrc</i> file in the directories referred to by
the environment variables <tt>&quot;HOMEDRIVE&quot;</tt> +
<tt>&quot;HOMEDIR&quot;</tt>,
<tt>&quot;USERPROFILE&quot;</tt>,
<tt>&quot;APPDATA&quot;</tt>, <tt>&quot;WINDIR&quot;</tt>,
<tt>&quot;SYS$LOGIN&quot;</tt>. If the file exists, the
options specified there will be used as defaults, as if they
were typed on the command line. The defaults can be
overridden by specifying new values on the command line.</p>

<p style="margin-left:11%; margin-top: 1em">The action name
must come at the beginning of the line, followed by any
amount of whitespace and then the options. Options are given
the same as they would be on the command line. They can be
separated by any amount of whitespace, including newlines,
as long there is whitespace at the beginning of each
continued line. Anything following a hash mark
(<tt>&quot;#&quot;</tt>) is considered a comment, and is
stripped before parsing. If more than one line begins with
the same action name, those lines are merged into one set of
options.</p>

<p style="margin-left:11%; margin-top: 1em">Besides the
regular actions, there are two special pseudo-actions: the
key <tt>&quot;*&quot;</tt> (asterisk) denotes any global
options that should be applied to all actions, and the key
&rsquo;Build_PL&rsquo; specifies options to be applied when
you invoke <tt>&quot;perl Build.PL&quot;</tt>.</p>

<pre style="margin-left:11%; margin-top: 1em">  *           verbose=1   # global options
  diff        flags=&minus;u
  install     &minus;&minus;install_base /home/ken
              &minus;&minus;install_path html=/home/ken/docs/html
  installdeps &minus;&minus;cpan_client 'cpanp &minus;i'</pre>


<p style="margin-left:11%; margin-top: 1em">If you wish to
locate your resource file in a different location, you can
set the environment variable
<tt>&quot;MODULEBUILDRC&quot;</tt> to the complete absolute
path of the file containing your options.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Environment
variables</b> <small><br>
MODULEBUILDRC</small></p>

<p style="margin-left:17%;">[version 0.28]</p>

<p style="margin-left:17%; margin-top: 1em">Specifies an
alternate location for a default options file as described
above.</p>

<p style="margin-left:11%;"><small>PERL_MB_OPT</small></p>

<p style="margin-left:17%;">[version 0.36]</p>

<p style="margin-left:17%; margin-top: 1em">Command line
options that are applied to Build.PL or any Build action.
The string is split as the shell would (e.g. whitespace) and
the result is prepended to any actual command-line
arguments.</p>

<h2>INSTALL PATHS
<a name="INSTALL PATHS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">[version
0.19]</p>

<p style="margin-left:11%; margin-top: 1em">When you invoke
Module::Build&rsquo;s <tt>&quot;build&quot;</tt> action, it
needs to figure out where to install things. The nutshell
version of how this works is that default installation
locations are determined from <i>Config.pm</i>, and they may
be overridden by using the <tt>&quot;install_path&quot;</tt>
parameter. An <tt>&quot;install_base&quot;</tt> parameter
lets you specify an alternative installation root like
<i>/home/foo</i>, and a <tt>&quot;destdir&quot;</tt> lets
you specify a temporary installation directory like
<i>/tmp/install</i> in case you want to create bundled-up
installable packages.</p>

<p style="margin-left:11%; margin-top: 1em">Natively,
Module::Build provides default installation locations for
the following types of installable items:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>lib</p></td>
<td width="2%"></td>
<td width="69%">


<p>Usually pure-Perl module files ending in <i>.pm</i>.</p></td>
<td width="14%">
</td></tr>
</table>

<p style="margin-left:11%;">arch</p>


<p style="margin-left:17%;">&quot;Architecture-dependent&quot;
module files, usually produced by compiling
<small>XS,</small> Inline, or similar code.</p>

<p style="margin-left:11%;">script</p>

<p style="margin-left:17%;">Programs written in pure Perl.
In order to improve reuse, try to make these as small as
possible &minus; put the code into modules whenever
possible.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>bin</p></td>
<td width="2%"></td>
<td width="83%">


<p>&quot;Architecture-dependent&quot; executable programs,
i.e. compiled C code or something. Pretty rare to see this
in a perl distribution, but it happens.</p></td></tr>
</table>

<p style="margin-left:11%;">bindoc</p>

<p style="margin-left:17%;">Documentation for the stuff in
<tt>&quot;script&quot;</tt> and <tt>&quot;bin&quot;</tt>.
Usually generated from the <small>POD</small> in those
files. Under Unix, these are manual pages belonging to the
&rsquo;man1&rsquo; category.</p>

<p style="margin-left:11%;">libdoc</p>

<p style="margin-left:17%;">Documentation for the stuff in
<tt>&quot;lib&quot;</tt> and <tt>&quot;arch&quot;</tt>. This
is usually generated from the <small>POD</small> in
<i>.pm</i> files. Under Unix, these are manual pages
belonging to the &rsquo;man3&rsquo; category.</p>

<p style="margin-left:11%;">binhtml</p>

<p style="margin-left:17%;">This is the same as
<tt>&quot;bindoc&quot;</tt> above, but applies to
<small>HTML</small> documents.</p>

<p style="margin-left:11%;">libhtml</p>

<p style="margin-left:17%;">This is the same as
<tt>&quot;libdoc&quot;</tt> above, but applies to
<small>HTML</small> documents.</p>

<p style="margin-left:11%; margin-top: 1em">Four other
parameters let you control various aspects of how
installation paths are determined: <br>
installdirs</p>

<p style="margin-left:17%;">The default destinations for
these installable things come from entries in your
system&rsquo;s <tt>&quot;Config.pm&quot;</tt>. You can
select from three different sets of default locations by
setting the <tt>&quot;installdirs&quot;</tt> parameter as
follows:</p>

<pre style="margin-left:17%; margin-top: 1em">                          'installdirs' set to:
                   core          site                vendor
              uses the following defaults from Config.pm:
  lib     =&gt; installprivlib  installsitelib      installvendorlib
  arch    =&gt; installarchlib  installsitearch     installvendorarch
  script  =&gt; installscript   installsitescript   installvendorscript
  bin     =&gt; installbin      installsitebin      installvendorbin
  bindoc  =&gt; installman1dir  installsiteman1dir  installvendorman1dir
  libdoc  =&gt; installman3dir  installsiteman3dir  installvendorman3dir
  binhtml =&gt; installhtml1dir installsitehtml1dir installvendorhtml1dir [*]
  libhtml =&gt; installhtml3dir installsitehtml3dir installvendorhtml3dir [*]
  * Under some OS (eg. MSWin32) the destination for HTML documents is
    determined by the C&lt;Config.pm&gt; entry C&lt;installhtmldir&gt;.</pre>


<p style="margin-left:17%; margin-top: 1em">The default
value of <tt>&quot;installdirs&quot;</tt> is
&quot;site&quot;. If you&rsquo;re creating vendor
distributions of module packages, you may want to do
something like this:</p>

<pre style="margin-left:17%; margin-top: 1em">  perl Build.PL &minus;&minus;installdirs vendor</pre>


<p style="margin-left:17%; margin-top: 1em">or</p>

<pre style="margin-left:17%; margin-top: 1em">  ./Build install &minus;&minus;installdirs vendor</pre>


<p style="margin-left:17%; margin-top: 1em">If you&rsquo;re
installing an updated version of a module that was included
with perl itself (i.e. a &quot;core module&quot;), then you
may set <tt>&quot;installdirs&quot;</tt> to &quot;core&quot;
to overwrite the module in its present location.</p>

<p style="margin-left:17%; margin-top: 1em">(Note that the
&rsquo;script&rsquo; line is different from
<tt>&quot;MakeMaker&quot;</tt> &minus; unfortunately
there&rsquo;s no such thing as &quot;installsitescript&quot;
or &quot;installvendorscript&quot; entry in
<tt>&quot;Config.pm&quot;</tt>, so we use the
&quot;installsitebin&quot; and &quot;installvendorbin&quot;
entries to at least get the general location right. In the
future, if <tt>&quot;Config.pm&quot;</tt> adds some more
appropriate entries, we&rsquo;ll start using those.)</p>

<p style="margin-left:11%;">install_path</p>

<p style="margin-left:17%;">Once the defaults have been
set, you can override them.</p>

<p style="margin-left:17%; margin-top: 1em">On the command
line, that would look like this:</p>

<pre style="margin-left:17%; margin-top: 1em">  perl Build.PL &minus;&minus;install_path lib=/foo/lib &minus;&minus;install_path arch=/foo/lib/arch</pre>


<p style="margin-left:17%; margin-top: 1em">or this:</p>

<pre style="margin-left:17%; margin-top: 1em">  ./Build install &minus;&minus;install_path lib=/foo/lib &minus;&minus;install_path arch=/foo/lib/arch</pre>


<p style="margin-left:11%;">install_base</p>

<p style="margin-left:17%;">You can also set the whole
bunch of installation paths by supplying the
<tt>&quot;install_base&quot;</tt> parameter to point to a
directory on your system. For instance, if you set
<tt>&quot;install_base&quot;</tt> to &quot;/home/ken&quot;
on a Linux system, you&rsquo;ll install as follows:</p>

<pre style="margin-left:17%; margin-top: 1em">  lib     =&gt; /home/ken/lib/perl5
  arch    =&gt; /home/ken/lib/perl5/i386&minus;linux
  script  =&gt; /home/ken/bin
  bin     =&gt; /home/ken/bin
  bindoc  =&gt; /home/ken/man/man1
  libdoc  =&gt; /home/ken/man/man3
  binhtml =&gt; /home/ken/html
  libhtml =&gt; /home/ken/html</pre>


<p style="margin-left:17%; margin-top: 1em">Note that this
is <i>different</i> from how
<tt>&quot;MakeMaker&quot;</tt>&rsquo;s
<tt>&quot;PREFIX&quot;</tt> parameter works.
<tt>&quot;install_base&quot;</tt> just gives you a default
layout under the directory you specify, which may have
little to do with the <tt>&quot;installdirs=site&quot;</tt>
layout.</p>

<p style="margin-left:17%; margin-top: 1em">The exact
layout under the directory you specify may vary by system
&minus; we try to do the &quot;sensible&quot; thing on each
platform.</p>

<p style="margin-left:11%;">destdir</p>

<p style="margin-left:17%;">If you want to install
everything into a temporary directory first (for instance,
if you want to create a directory tree that a package
manager like <tt>&quot;rpm&quot;</tt> or
<tt>&quot;dpkg&quot;</tt> could create a package from), you
can use the <tt>&quot;destdir&quot;</tt> parameter:</p>

<pre style="margin-left:17%; margin-top: 1em">  perl Build.PL &minus;&minus;destdir /tmp/foo</pre>


<p style="margin-left:17%; margin-top: 1em">or</p>

<pre style="margin-left:17%; margin-top: 1em">  ./Build install &minus;&minus;destdir /tmp/foo</pre>


<p style="margin-left:17%; margin-top: 1em">This will
effectively install to &quot;/tmp/foo/$sitelib&quot;,
&quot;/tmp/foo/$sitearch&quot;, and the like, except that it
will use <tt>&quot;File::Spec&quot;</tt> to make the
pathnames work correctly on whatever platform you&rsquo;re
installing on.</p>

<p style="margin-left:11%;">prefix</p>

<p style="margin-left:17%;">Provided for compatibility with
<tt>&quot;ExtUtils::MakeMaker&quot;</tt>&rsquo;s
<small>PREFIX</small> argument. <tt>&quot;prefix&quot;</tt>
should be used when you want Module::Build to install your
modules, documentation, and scripts in the same place as
<tt>&quot;ExtUtils::MakeMaker&quot;</tt>&rsquo;s
<small>PREFIX</small> mechanism.</p>

<p style="margin-left:17%; margin-top: 1em">The following
are equivalent.</p>

<pre style="margin-left:17%; margin-top: 1em">    perl Build.PL &minus;&minus;prefix /tmp/foo
    perl Makefile.PL PREFIX=/tmp/foo</pre>


<p style="margin-left:17%; margin-top: 1em">Because of the
complex nature of the prefixification logic, the behavior of
<small>PREFIX</small> in <tt>&quot;MakeMaker&quot;</tt> has
changed subtly over time. Module::Build&rsquo;s
&minus;&minus;prefix logic is equivalent to the
<small>PREFIX</small> logic found in
<tt>&quot;ExtUtils::MakeMaker&quot;</tt> 6.30.</p>

<p style="margin-left:17%; margin-top: 1em">The maintainers
of <tt>&quot;MakeMaker&quot;</tt> do understand the troubles
with the <small>PREFIX</small> mechanism, and added
<small>INSTALL_BASE</small> support in version 6.31 of
<tt>&quot;MakeMaker&quot;</tt>, which was released in
2006.</p>

<p style="margin-left:17%; margin-top: 1em">If you
don&rsquo;t need to retain compatibility with old versions
(pre&minus;6.31) of <tt>&quot;ExtUtils::MakeMaker&quot;</tt>
or are starting a fresh Perl installation we recommend you
use <tt>&quot;install_base&quot;</tt> instead (and
<tt>&quot;INSTALL_BASE&quot;</tt> in
<tt>&quot;ExtUtils::MakeMaker&quot;</tt>). See
&quot;Installing in the same location as
ExtUtils::MakeMaker&quot; in Module::Build::Cookbook for
further information.</p>

<h2>MOTIVATIONS
<a name="MOTIVATIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">There are
several reasons I wanted to start over, and not just fix
what I didn&rsquo;t like about
<tt>&quot;MakeMaker&quot;</tt>:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>I don&rsquo;t like the core idea of
<tt>&quot;MakeMaker&quot;</tt>, namely that
<tt>&quot;make&quot;</tt> should be involved in the build
process. Here are my reasons:</p></td></tr>
</table>

<p style="margin-left:17%;">+</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%"></td>
<td width="5%"></td>
<td width="77%">


<p style="margin-top: 1em">When a person is installing a
Perl module, what can you assume about their environment?
Can you assume they have <tt>&quot;make&quot;</tt>? No, but
you can assume they have some version of Perl.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>+</p></td>
<td width="5%"></td>
<td width="77%">


<p>When a person is writing a Perl module for intended
distribution, can you assume that they know how to build a
Makefile, so they can customize their build process? No, but
you can assume they know Perl, and could customize that
way.</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">For years,
these things have been a barrier to people getting the
build/install process to do what they want.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">There are several architectural
decisions in <tt>&quot;MakeMaker&quot;</tt> that make it
very difficult to customize its behavior. For instance, when
using <tt>&quot;MakeMaker&quot;</tt> you do <tt>&quot;use
ExtUtils::MakeMaker&quot;</tt>, but the object created in
<tt>&quot;WriteMakefile()&quot;</tt> is actually blessed
into a package name that&rsquo;s created on the fly, so you
can&rsquo;t simply subclass
<tt>&quot;ExtUtils::MakeMaker&quot;</tt>. There is a
workaround <tt>&quot;MY&quot;</tt> package that lets you
override certain <tt>&quot;MakeMaker&quot;</tt> methods, but
only certain explicitly preselected (by
<tt>&quot;MakeMaker&quot;</tt>) methods can be overridden.
Also, the method of customization is very crude: you have to
modify a string containing the Makefile text for the
particular target. Since these strings aren&rsquo;t
documented, and <i>can&rsquo;t</i> be documented (they take
on different values depending on the platform, version of
perl, version of <tt>&quot;MakeMaker&quot;</tt>, etc.), you
have no guarantee that your modifications will work on
someone else&rsquo;s machine or after an upgrade of
<tt>&quot;MakeMaker&quot;</tt> or perl.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>It is risky to make major changes to
<tt>&quot;MakeMaker&quot;</tt>, since it does so many
things, is so important, and generally works.
<tt>&quot;Module::Build&quot;</tt> is an entirely separate
package so that I can work on it all I want, without
worrying about backward compatibility with
<tt>&quot;MakeMaker&quot;</tt>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Finally, Perl is said to be a language for system
administration. Could it really be the case that Perl
isn&rsquo;t up to the task of building and installing
software? Even if that software is a bunch of
<tt>&quot;.pm&quot;</tt> files that just need to be copied
from one place to another? My sense was that we could design
a system to accomplish this in a flexible, extensible, and
friendly manner. Or die trying.</p></td></tr>
</table>

<h2>TO DO
<a name="TO DO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The current
method of relying on time stamps to determine whether a
derived file is out of date isn&rsquo;t likely to scale
well, since it requires tracing all dependencies backward,
it runs into problems on <small>NFS,</small> and it&rsquo;s
just generally flimsy. It would be better to use an
<small>MD5</small> signature or the like, if available. See
<tt>&quot;cons&quot;</tt> for an example.</p>

<pre style="margin-left:11%; margin-top: 1em"> &minus; append to perllocal.pod
 &minus; add a 'plugin' functionality</pre>


<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Ken Williams
&lt;kwilliams@cpan.org&gt;</p>

<p style="margin-left:11%; margin-top: 1em">Development
questions, bug reports, and patches should be sent to the
Module-Build mailing list at
&lt;module&minus;build@perl.org&gt;.</p>

<p style="margin-left:11%; margin-top: 1em">Bug reports are
also welcome at
&lt;http://rt.cpan.org/NoAuth/Bugs.html?Dist=Module&minus;Build&gt;.</p>

<p style="margin-left:11%; margin-top: 1em">The latest
development version is available from the Git repository at
&lt;https://github.com/Perl&minus;Toolchain&minus;Gang/Module&minus;Build&gt;</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright (c)
2001&minus;2006 Ken Williams. All rights reserved.</p>

<p style="margin-left:11%; margin-top: 1em">This library is
free software; you can redistribute it and/or modify it
under the same terms as Perl itself.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>perl</i>(1),
Module::Build::Cookbook, Module::Build::Authoring,
Module::Build::API, ExtUtils::MakeMaker</p>


<p style="margin-left:11%; margin-top: 1em"><i><small>META</small>
.yml</i> Specification: CPAN::Meta::Spec</p>


<p style="margin-left:11%; margin-top: 1em">&lt;http://www.dsmit.com/cons/&gt;</p>


<p style="margin-left:11%; margin-top: 1em">&lt;http://search.cpan.org/dist/PerlBuildSystem/&gt;</p>
<hr>
</body>
</html>
