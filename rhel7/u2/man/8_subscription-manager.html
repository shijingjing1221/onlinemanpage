<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 02:28:38 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>subscription-manager</title>

</head>
<body>

<h1 align="center">subscription-manager</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#COMMANDS AND OPTIONS">COMMANDS AND OPTIONS</a><br>
<a href="#USAGE">USAGE</a><br>
<a href="#NETWORK INFORMATION">NETWORK INFORMATION</a><br>
<a href="#FILES">FILES</a><br>
<a href="#AUTHORS">AUTHORS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">subscription-manager
&minus; Registers systems to a subscription management
service and then attaches and manages subscriptions for
software products.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">subscription-manager
<i>command [options]</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i><b>subscription-manager</b></i>
is a client program that registers a system with a
subscription management service such as the Customer Portal
Subscription Management service or on-premise Subscription
Asset Manager.</p>

<p style="margin-left:11%; margin-top: 1em">Red Hat
provides content updates and support by issuing
<i>subscriptions</i> for its products. These subscriptions
are applied to systems; once a subscription for a product is
attached to a system, that system is allowed to install,
update, and receive support for that software product. IT
administrators need to track these subscriptions and how
they are attached. This subscription management is a feature
available for Red Hat platforms version 5.7 (and later) and
version 6.1 (and later).</p>

<p style="margin-left:11%; margin-top: 1em">For RHEL
systems, content is delivered through the Red Hat Customer
Portal. Subscriptions and systems are managed globally
through the Red Hat subscription management service, which
is integrated with the Customer Portal. Subscriptions are
managed for the local system by using the Red Hat
Subscription Manager tool. Subscription Manager is a local
client which connects a system with the subscription
management service.</p>


<p style="margin-left:11%; margin-top: 1em"><b>subscription-manager</b>
is the command-line based client for the Red Hat
Subscription Manager tool.</p>

<p style="margin-left:11%; margin-top: 1em">Subscription
Manager performs several key operations:</p>

<p style="margin-left:22%; margin-top: 1em">* It registers
systems to the Red Hat subscription management service and
adds the system to the inventory. Once a system is
registered, it can receive updates based on its
subscriptions to any kind of software products.</p>

<p style="margin-left:22%; margin-top: 1em">* It lists both
available and used subscriptions.</p>

<p style="margin-left:22%; margin-top: 1em">* It allows
administrators to both attach specific subscriptions to a
system and remove those subscriptions.</p>

<p style="margin-left:11%; margin-top: 1em">Subscription
Manager can be used to auto-attach subscriptions to a
system, as well. The <b>subscription-manager</b> command can
even be invoked as part of a kickstart process.</p>

<p style="margin-left:11%; margin-top: 1em">Available
subscriptions are based on the specific information about
the system&rsquo;s architecture. A subscription is only
considered <i>available</i> if the platform and hardware can
support that specific product.</p>

<p style="margin-left:11%; margin-top: 1em">Subscription
Manager also collects and summarizes system facts related to
its hardware, operating system, and other characteristics.
These facts can be edited in the Subscription Manager
configuration and displayed through Subscription
Manager.</p>

<p style="margin-left:11%; margin-top: 1em">There is also a
Subscription Manager GUI, which can be invoked simply by
running <b>subscription-manager-gui</b> from the command
line.</p>

<p style="margin-left:11%; margin-top: 1em">Subscription
management is only available for RHEL 5.7/6.1 and later
systems. Older systems should register to Red Hat Network
Classic using the <b>rhn_register</b> command.</p>

<h2>COMMANDS AND OPTIONS
<a name="COMMANDS AND OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>subscription-manager</b>
has specific options available for each command, depending
on what operation is being performed. Subscription Manager
commands are related to the different subscription
operations:</p>

<p style="margin-left:22%; margin-top: 1em">1. register</p>

<p style="margin-left:22%; margin-top: 1em">2.
unregister</p>

<p style="margin-left:22%; margin-top: 1em">3. attach</p>

<p style="margin-left:22%; margin-top: 1em">4.
auto-attach</p>

<p style="margin-left:22%; margin-top: 1em">5. remove</p>

<p style="margin-left:22%; margin-top: 1em">6. release</p>

<p style="margin-left:22%; margin-top: 1em">7.
service-level</p>

<p style="margin-left:22%; margin-top: 1em">8. import</p>

<p style="margin-left:22%; margin-top: 1em">9. redeem</p>

<p style="margin-left:22%; margin-top: 1em">10. list</p>

<p style="margin-left:22%; margin-top: 1em">11. refresh</p>

<p style="margin-left:22%; margin-top: 1em">12.
environments</p>

<p style="margin-left:22%; margin-top: 1em">13. repos</p>

<p style="margin-left:22%; margin-top: 1em">14. orgs</p>

<p style="margin-left:22%; margin-top: 1em">15. plugins</p>

<p style="margin-left:22%; margin-top: 1em">16.
identity</p>

<p style="margin-left:22%; margin-top: 1em">17. facts</p>

<p style="margin-left:22%; margin-top: 1em">18. clean</p>

<p style="margin-left:22%; margin-top: 1em">19. config</p>

<p style="margin-left:22%; margin-top: 1em">20. version</p>

<p style="margin-left:22%; margin-top: 1em">21. status</p>

<p style="margin-left:22%; margin-top: 1em">22. deprecated
commands: subscribe, unsubscribe, and activate</p>

<p style="margin-left:22%; margin-top: 1em">23.
repo-override</p>

<p style="margin-left:11%; margin-top: 1em"><b>COMMON
OPTIONS <br>
-h, --help</b></p>

<p style="margin-left:22%;">Prints the specific help
information for the given command.</p>

<p style="margin-left:11%;"><b>--proxy=PROXY</b></p>

<p style="margin-left:22%;">Uses an HTTP proxy. The
<i>PROXY</i> name has the format <i>hostname:port.</i></p>


<p style="margin-left:11%;"><b>--proxyuser=PROXYUSERNAME</b></p>

<p style="margin-left:22%;">Gives the username to use to
authenticate to the HTTP proxy.</p>


<p style="margin-left:11%;"><b>--proxypass=PROXYPASSWORD</b></p>

<p style="margin-left:22%;">Gives the password to use to
authenticate to the HTTP proxy.</p>

<p style="margin-left:11%; margin-top: 1em"><b>REGISTER
OPTIONS</b> <br>
The <b>register</b> command registers a new system to the
subscription management service. <b><br>
--username=USERNAME</b></p>

<p style="margin-left:22%;">Gives the username for the
account which is registering the system; this user account
is usually tied to the user account for the content delivery
system which supplies the content. Optional, for user-based
authentication.</p>

<p style="margin-left:11%;"><b>--password=PASSWORD</b></p>

<p style="margin-left:22%;">Gives the user account
password.</p>


<p style="margin-left:11%;"><b>--serverurl=SERVER_HOSTNAME</b></p>

<p style="margin-left:22%;">Passes the name of the
subscription service with which to register the system. The
default value, if this is not given, is the Customer Portal
Subscription Management service,
<b>subscription.rhn.redhat.com.</b> If there is an
on-premise subscription service such as Subscription Asset
Manager, this parameter can be used to submit the hostname
of the subscription service. For Subscription Asset Manager,
if the Subscription Manager tool is configured with the
Subscription Asset Manager RPM, then the default value for
the <b>--serverurl</b> parameter is for the on-premise
Subscription Asset Manager server.</p>


<p style="margin-left:11%;"><b>--baseurl=https://CONTENT_SERVICE:PORT/PREFIX</b></p>

<p style="margin-left:22%;">Passes the name of the content
delivery service to configure the yum service to use to pull
down packages. If there is an on-premise subscription
service such as Subscription Asset Manager or CloudForms
System Engine, this parameter can be used to submit the URL
of the content repository, in the form
<i>https://server_name:port/prefix.</i> For example,
<b>https://sam.example.com:8088/sam.</b></p>

<p style="margin-left:11%;"><b>--name=SYSTEM_NAME</b></p>

<p style="margin-left:22%;">Sets the name of the system to
register. This defaults to the hostname.</p>


<p style="margin-left:11%;"><b>--consumerid=CONSUMERID</b></p>

<p style="margin-left:22%;">References an existing system
inventory ID to resume using a previous registration for
this system. The ID is used as an inventory number for the
system in the subscription management service database. If
the system&rsquo;s identity is lost or corrupted, this
option allows it to resume using its previous identity and
subscriptions.</p>


<p style="margin-left:11%;"><b>--activationkey=KEYS</b></p>

<p style="margin-left:22%;">Gives a comma-separated list of
product keys to use to redeem or apply specific
subscriptions to the system. This is used for preconfigured
systems which may already have products installed.
Activation keys are issued by an on-premise subscription
management service, such as Subscription Asset Manager.</p>

<p style="margin-left:22%; margin-top: 1em">When the
<b>--activationkey</b> option is used, it is not necessary
to use the <b>--username</b> and <b>--password</b> options,
because the authentication information is implicit in the
activation key.</p>

<p style="margin-left:22%; margin-top: 1em">For example:
<br>
subscription-manager register --org=&quot;IT Dept&quot;
--activationkey=1234abcd</p>

<p style="margin-left:11%;"><b>--auto-attach</b></p>

<p style="margin-left:22%;">Automatically attaches
compatible subscriptions to this system.</p>


<p style="margin-left:11%;"><b>--servicelevel=LEVEL</b></p>

<p style="margin-left:22%;">Sets the preferred service
level to use with subscriptions added to the system. Service
levels are commonly premium, standard, and none, though
other levels may be available depending on the product and
the contract.</p>

<p style="margin-left:11%;"><b>--force</b></p>

<p style="margin-left:22%;">Registers the system even if it
is already registered. Normally, any register operations
will fail if the system is already registered. With
<b>--force,</b> the existing system entry is unregistered
first, all of its subscriptions are returned to the pool,
and then the system is registered as a new entry.</p>

<p style="margin-left:11%;"><b>--org=ORG</b></p>

<p style="margin-left:22%;">Assigns the system to an
organization. Infrastructures which are managed on-site may
be <i>multi-tenant,</i> meaning that there are multiple
organizations within one customer unit. A system may be
assigned manually to one of these organizations. When a
system is registered with the Customer Portal, this is not
required. When a system is registered with an on-premise
application such as Subscription Asset Manager, this
argument <i>is</i> required, unless there is only a single
organization configured.</p>

<p style="margin-left:11%;"><b>--environment=ENV</b></p>

<p style="margin-left:22%;">Registers the system to an
environment within an organization.</p>

<p style="margin-left:11%;"><b>--release=VERSION</b></p>

<p style="margin-left:22%;">Shortcut for &quot;release
--set=VERSION&quot;</p>

<p style="margin-left:11%;"><b>--type=CONSUMERTYPE</b></p>

<p style="margin-left:22%;">Sets the type of unit to
register. Most units in the inventory will use the default
value of <b>system.</b> For development or test units, this
can be <b>person</b> , which indicates a personal (rather
than organizational) unit. Another type of unit can be
<b>candlepin</b> for a local content service or
<b>domain</b> for an IP domain.</p>

<p style="margin-left:11%; margin-top: 1em"><b>UNREGISTER
OPTIONS</b> <br>
The <b>unregister</b> command removes a system&rsquo;s
subscriptions and removes it from the subscription
management service.</p>

<p style="margin-left:11%; margin-top: 1em">This command
has no options.</p>

<p style="margin-left:11%; margin-top: 1em"><b>ATTACH
OPTIONS</b> <br>
The <b>attach</b> command applies a specific subscription to
the system.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>--auto</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Automatically attaches the best-matched compatible
subscription or subscriptions to the system. This is the
default unless <b>--pool</b> or <b>--file</b> are used.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>--pool=POOLID</b></p>

<p style="margin-left:22%;">Gives the ID for the
subscriptions pool (collection of products) to attach to the
system. This overrides the default of --auto.</p>

<p style="margin-left:11%;"><b>--file=FILE</b></p>

<p style="margin-left:22%;">Specifies a file from which to
read whitespace-delimited pool IDs. If FILE is
&quot;-&quot;, the pool IDs will be read from stdin. This
overrides the default of <b>--auto.</b></p>

<p style="margin-left:11%;"><b>--quantity=NUMBER</b></p>

<p style="margin-left:22%;">Attaches a specified number of
subscriptions to the system. Subscriptions may have certain
limits on them, like the number of sockets on the system or
the number of allowed virtual guests. It is possible to
attach multiple subscriptions (or <i>stacking</i>
subscriptions) to cover the number of sockets, guests, or
other characteristics.</p>


<p style="margin-left:11%;"><b>--servicelevel=LEVEL</b></p>

<p style="margin-left:22%;">Sets the preferred service
level to use with subscriptions automatically attached to
the system. Service levels are commonly premium, standard,
and none, though other levels may be available depending on
the product and the contract. This option cannot be used
when attaching specific pools via <b>--pool</b> or
<b>--file.</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>AUTO-ATTACH
OPTIONS</b> <br>
The <b>auto-attach</b> command sets whether the ability to
check, attach, and update subscriptions occurs automatically
on the system. Auto-attaching subscriptions checks the
currently-installed products, attached subscriptions, and
any changes in available subscriptions every four hours
using the <b>rhsmcertd</b> daemon. <b><br>
--enable</b></p>

<p style="margin-left:22%;">Enables the auto-attach option
for the system. If there is any change in the subscriptions
for the system, any subscriptions expire, or any new
products are installed, then <b>subscription-manager</b>
detects the changes and automatically attaches the
appropriate subscriptions so that the system remains
covered.</p>

<p style="margin-left:11%;"><b>--disable</b></p>

<p style="margin-left:22%;">Disables the auto-attach option
for the system. If auto-attach is disabled, then any changes
in installed products or subscriptions for the system
(including expired subscriptions) must be addressed manually
by the administrator.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>--show</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Shows whether auto-attach is enabled on the systems.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>REMOVE
OPTIONS</b> <br>
The <b>remove</b> command removes a subscription from the
system. (This does not uninstall the associated products.)
<b><br>
--serial=SERIALNUMBER</b></p>

<p style="margin-left:22%;">Gives the serial number of the
subscription certificate for the specific product to remove
from the system. Subscription certificates attached to a
system are in a certificate, in
<b>/etc/pki/entitlement/&lt;serial_number&gt;.pem.</b> To
remove multiple subscriptions, use the <b>--serial</b>
option multiple times.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>--all</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>Removes <i>all</i> of the subscriptions attached to a
system.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>RELEASE
OPTIONS</b> <br>
The <b>release</b> command sets a sticky OS version to use
when installing or updating packages. This sets a preference
for the minor version of the OS, such as 6.2 or 6.3. This
can prevent unplanned or unsupported operating system
version upgrades when an IT environment must maintain a
certified configuration.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>--list</b></p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">Lists the available OS versions.
If a release preference is not set, then there is a message
saying it is not set.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>--set=RELEASE</b></p>

<p style="margin-left:22%;">Sets the minor (Y-stream)
release version to use, such as 6.3.</p>

<p style="margin-left:11%;"><b>--unset</b></p>

<p style="margin-left:22%;">Removes any previously set
release version preference.</p>


<p style="margin-left:11%; margin-top: 1em"><b>service-level
OPTIONS</b> <br>
The <b>service-level</b> command displays the current
configured service level <i>preference</i> for products
installed on the system. For example, if the service-level
preference is standard, then a subscription with a standard
service level is selected when auto-attaching subscriptions
to the system.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>service-level</b> command does not set the service level
for the system; it only shows its current setting or
available settings. The service-level preference must be set
in the Subscription Manager GUI.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>--list</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Lists the available service levels.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>--show</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Shows the system&rsquo;s current service-level
preference. If a service level is not set, then there is a
message saying it is not set.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>--unset</b></p>

<p style="margin-left:22%;">Removes any previously set
service-level preference.</p>

<p style="margin-left:11%; margin-top: 1em"><b>IMPORT
OPTIONS</b> <br>
The <b>import</b> command imports and applies a subscription
certificate for the system which was generated externally,
such as in the Customer Portal, and then copied over to the
system. Importing can be necessary if a system is
preconfigured in the subscription management service or if
it is offline or unable to access the subscription
management service but it has the proper, relevant
subscriptions attached to the system. <b><br>
--certificate=CERTIFICATE_FILE</b></p>

<p style="margin-left:22%;">Points to a certificate PEM
file which contains the subscription certificate. This can
be used multiple times to import multiple subscription
certificates.</p>

<p style="margin-left:11%; margin-top: 1em"><b>REDEEM
OPTIONS</b> <br>
The <b>redeem</b> command is used for systems that are
purchased from third-party vendors that include a
subscription. The redemption process essentially
auto-attaches the preselected subscription that the vendor
supplied to the system. <b><br>
--email=EMAIL</b></p>

<p style="margin-left:22%;">Gives the email account to send
the redemption notification message to.</p>

<p style="margin-left:11%;"><b>--locale=LOCALE</b></p>

<p style="margin-left:22%;">Sets the locale to use for the
message. If none is given, then it defaults to the local
system&rsquo;s locale.</p>

<p style="margin-left:11%;"><b>--org=ORG</b></p>

<p style="margin-left:22%;">Identifies the organization
which issued the subscription being redeemed.</p>

<p style="margin-left:11%; margin-top: 1em"><b>LIST
OPTIONS</b> <br>
The <b>list</b> command lists all of the subscriptions that
are compatible with a system. The options allow the list to
be filtered by subscriptions that are used by the system or
unused subscriptions that are available to the system.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>--all</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>Lists all possible subscriptions that have been
purchased, even if they don&rsquo;t match the architecture
of the system. This is used with the <b>--available</b>
option.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>--available</b></p>

<p style="margin-left:22%;">Lists available subscriptions
which are not yet attached to the system.</p>

<p style="margin-left:11%;"><b>--consumed</b></p>

<p style="margin-left:22%;">Lists all of the subscriptions
currently attached to the system.</p>

<p style="margin-left:11%;"><b>--installed</b></p>

<p style="margin-left:22%;">Lists products which are
currently installed on the system which may (or may not)
have subscriptions associated with them, as well as products
with attached subscriptions which may (or may not) be
installed.</p>

<p style="margin-left:11%;"><b>--ondate=YYYY-MM-DD</b></p>

<p style="margin-left:22%;">Sets the date to use to search
for active and available subscriptions. The default (if not
explicitly passed) is today&rsquo;s date; using a later date
looks for subscriptions which will be active then. This is
only used with the <b>--available</b> option.</p>

<p style="margin-left:11%;"><b>--no-overlap</b></p>

<p style="margin-left:22%;">Shows pools which provide
products that are not already covered; only used with
<b>--available</b> option.</p>

<p style="margin-left:11%;"><b>--match-installed</b></p>

<p style="margin-left:22%;">Shows only subscriptions
matching products that are currently installed; only used
with <b>--available</b> option.</p>

<p style="margin-left:11%;"><b>--matches=SEARCH</b></p>

<p style="margin-left:22%;">Limits the output of
--installed, --available and --consumed to only
subscriptions or products which contain SEARCH in the
subscription or product information, varying with the list
requested and the server version. <br>
SEARCH may contain the wildcards ? or * to match a single
character or zero or more characters, respectively. The
wildcard characters may be escaped with a backslash to
represent a literal question mark or asterisk. Likewise, to
represent a backslash, it must be escaped with another
backslash.</p>

<p style="margin-left:11%;"><b>--pool-only</b></p>

<p style="margin-left:22%;">Limits the output of
--available and --consumed such that only the pool IDs are
displayed. No labels or errors will be printed if this
option is specified.</p>

<p style="margin-left:11%; margin-top: 1em"><b>REFRESH
OPTIONS</b> <br>
The <b>refresh</b> command pulls the latest subscription
data from the server. Normally, the system polls the
subscription management service at a set interval (4 hours
by default) to check for any changes in the available
subscriptions. The <b>refresh</b> command checks with the
subscription management service right then, outside the
normal interval.</p>

<p style="margin-left:11%; margin-top: 1em">This command
has no options.</p>


<p style="margin-left:11%; margin-top: 1em"><b>ENVIRONMENTS
OPTIONS</b> <br>
The <b>environments</b> command lists all of the
environments that have been configured for an organization.
This command is only used for organizations which have a
locally-hosted subscription or content service of some kind,
like Subscription Asset Manager. The concept of environments
-- and therefore this command -- have no meaning for
environments which use the Customer Portal Subscription
Management services. <b><br>
--username=USERNAME</b></p>

<p style="margin-left:22%;">Gives the username for the
account to use to connect to the organization account.</p>

<p style="margin-left:11%;"><b>--password=PASSWORD</b></p>

<p style="margin-left:22%;">Gives the user account
password.</p>

<p style="margin-left:11%;"><b>--org=ORG</b></p>

<p style="margin-left:22%;">Identifies the organization for
which to list the configured environments.</p>

<p style="margin-left:11%; margin-top: 1em"><b>REPOS
OPTIONS</b> <br>
The <b>repos</b> command lists all of the repositories that
are available to a system. This command is only used for
organizations which have a locally-hosted content service of
some kind, like Subscription Asset Manager. With Red
Hat&rsquo;s hosted content service, there is only one
central repository.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>--list</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Lists all of the repositories that are provided by the
content service used by the system.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>--list-enabled</b></p>

<p style="margin-left:22%;">Lists all of the enabled
repositories that are provided by the content service used
by the system.</p>

<p style="margin-left:11%;"><b>--list-disabled</b></p>

<p style="margin-left:22%;">Lists all of the disabled
repositories that are provided by the content service used
by the system.</p>

<p style="margin-left:11%;"><b>--enable=REPO_ID</b></p>

<p style="margin-left:22%;">Enables the specified
repository, which is made available by the content sources
identified in the system subscriptions. To enable multiple
repositories, use this argument multiple times.</p>

<p style="margin-left:11%;"><b>--disable=REPO_ID</b></p>

<p style="margin-left:22%;">Disables the specified
repository, which is made available by the content sources
identified in the system subscriptions. To disable multiple
repositories, use this argument multiple times.</p>

<p style="margin-left:11%; margin-top: 1em"><b>ORGS
OPTIONS</b> <br>
The <b>orgs</b> command lists all of the organizations which
are available to the specified user account. A multi-tenant
infrastructure may have multiple organizations within a
single customer, and users may be restricted to access only
a subset of the total number of organizations. <b><br>
--username=USERNAME</b></p>

<p style="margin-left:22%;">Gives the username for the
account to use to connect to the organization account.</p>

<p style="margin-left:11%;"><b>--password=PASSWORD</b></p>

<p style="margin-left:22%;">Gives the user account
password.</p>


<p style="margin-left:11%;"><b>--serverurl=SERVER_HOSTNAME</b></p>

<p style="margin-left:22%;">Passes the name of the
subscription service to use to list all available
organizations. The <b>orgs</b> command will list all
organizations for the specified service for which the user
account is granted access. The default value, if this is not
given, is the Customer Portal Subscription Management
service, <b>https://subscription.rhn.redhat.com:443.</b> If
there is an on-premise subscription service such as
Subscription Asset Manager, this parameter can be used to
submit the hostname of the subscription service, in the form
<i>[protocol://]servername[:port][/prefix]</i>. For
Subscription Asset Manager, if the Subscription Manager tool
is configured with the Subscription Asset Manager RPM, then
the default value for the <b>--serverurl</b> parameter is
for the on-premise Subscription Asset Manager server.</p>

<p style="margin-left:11%; margin-top: 1em"><b>PLUGIN
OPTIONS</b> <br>
The <b>plugins</b> command lists the available
subscription-manager plugins.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>--list</b></p></td>
<td width="2%"></td>
<td width="73%">


<p>List the available subscription-manager plugins.</p></td>
<td width="5%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>--listslots</b></p>

<p style="margin-left:22%;">List the available plugin
slots</p>

<p style="margin-left:11%;"><b>--listhooks</b></p>

<p style="margin-left:22%;">List the available plugin slots
and the hooks that handle them.</p>

<p style="margin-left:11%;"><b>--verbose</b></p>

<p style="margin-left:22%;">Show additional info about the
plugins, such as the plugin configuration values.</p>


<p style="margin-left:11%; margin-top: 1em"><b>REPO-OVERRIDE
OPTIONS</b> <br>
The <b>repo-override</b> command allows the user to manage
custom content repository settings</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>--repo</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>The repository to modify (can be specified more than
once)</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>--add=NAME:VALUE</b></p>

<p style="margin-left:22%;">Adds a named override with the
provided value to repositories specified with the
<b>--repo</b> option</p>

<p style="margin-left:11%;"><b>--remove=NAME</b></p>

<p style="margin-left:22%;">Removes a named override from
the repositories specified with the <b>--repo</b> option</p>

<p style="margin-left:11%;"><b>--remove-all</b></p>

<p style="margin-left:22%;">Removes all overrides from
repositories specified with the <b>--repo</b> option</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>--list</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Lists all overrides from repositories specified with the
<b>--repo</b> option</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>IDENTITY
OPTIONS</b> <br>
The <b>identity</b> command handles the UUID of a system,
which identifies the system to the subscription management
service after registration. This command can simply return
the UUID or it can be used to restore the registration of a
previously-registered system to the subscription management
service. <b><br>
--regenerate</b></p>

<p style="margin-left:22%;">Requests that the subscription
management service issue a new identity certificate for the
system, using an existing UUID in the original identity
certificate. If this is used alone, then the <b>identity</b>
command also uses the original identity certificate to bind
to the subscription management service, using
certificate-based authentication.</p>

<p style="margin-left:11%;"><b>--username=USERNAME</b></p>

<p style="margin-left:22%;">Gives the username for the
account which is registering the system; this user account
is usually tied to the user account for the content delivery
system which supplies the content. Optional, for user-based
authentication.</p>

<p style="margin-left:11%;"><b>--password=PASSWORD</b></p>

<p style="margin-left:22%;">Gives the user account
password. Optional, for user-based authentication.</p>

<p style="margin-left:11%;"><b>--force</b></p>

<p style="margin-left:22%;">Regenerates the identity
certificate for the system using username/password
authentication. This is used with the <b>--regenerate</b>
option. <b>--regenerate</b> alone will use an existing
identity certificate to authenticate to the subscription
management service. If the certificate is missing or
corrupted or in other circumstances, then it may be better
to use user authentication rather than certificate-based
authentication. In that case, the <b>--force</b> option
requires the username or password to be given either as an
argument or in response to a prompt.</p>

<p style="margin-left:11%; margin-top: 1em"><b>FACTS
OPTIONS</b> <br>
The <b>facts</b> command lists the system information, like
the release version, number of CPUs, and other architecture
information.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>--list</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Lists the system information. These are simple
<i>attribute: value</i> pairs that reflect much of the
information in the <b>/etc/sysconfig</b> directory</p></td></tr>
</table>

<p style="margin-left:22%;">cpu.architecture: x86_64 <br>
cpu.core(s)_per_socket: 1 <br>
cpu.cpu(s): 2 <br>
cpu.cpu_family: 6 <br>
cpu.cpu_mhz: 1861.776 <br>
cpu.cpu_op-mode(s): 64-bit <br>
cpu.cpu_socket(s): 2 <br>
cpu.hypervisor_vendor: KVM <br>
cpu.model: 2 <br>
cpu.numa_node(s): 1 <br>
cpu.numa_node0_cpu(s): 0,1 <br>
cpu.stepping: 3 <br>
cpu.thread(s)_per_core: 1 <br>
cpu.vendor_id: GenuineIntel <br>
cpu.virtualization_type: full <br>
distribution.id: Santiago <br>
distribution.name: Red Hat Enterprise Linux Workstation <br>
distribution.version: 6.1 <br>
----</p>

<p style="margin-left:11%;"><b>--update</b></p>

<p style="margin-left:22%;">Updates the system information.
This is particularly important whenever there is a hardware
change (such as adding a CPU) or a system upgrade because
these changes can affect the subscriptions that are
compatible with the system.</p>

<p style="margin-left:11%; margin-top: 1em"><b>CLEAN
OPTIONS</b> <br>
The <b>clean</b> command removes all of the subscription and
identity data from the local system <i>without affecting the
system information in the subscription management
service.</i> This means that any of the subscriptions
applied to the system are not available for other systems to
use. The <b>clean</b> command is useful in cases where the
local subscription information is corrupted or lost somehow,
and the system will be re-registered using the <b>register
--consumerid=EXISTING_ID</b> command.</p>

<p style="margin-left:11%; margin-top: 1em">This command
has no options.</p>

<p style="margin-left:11%; margin-top: 1em"><b>CONFIG
OPTIONS</b> <br>
The <b>config</b> command changes the <b>rhsm.conf</b>
configuration file used by Subscription Manager. Almost all
of the connection information used by Subscription Manager
to access the subscription management service, content
server, and any proxies is set in the configuration file, as
well as general configuration parameters like the frequency
Subscription Manager checks for subscriptions updates. There
are major divisions in the <b>rhsm.conf</b> file, such as
<b>[server]</b> which is used to configure the subscription
management service. When changing the Subscription Manager
configuration, the settings are identified with the format
<i>section.name</i> and then the new value. For example:</p>


<p style="margin-left:22%; margin-top: 1em">server.hostname=newsubscription.example.com</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>--list</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Prints the current configuration for Subscription
Manager.</p> </td></tr>
</table>


<p style="margin-left:11%;"><b>--remove=section.name</b></p>

<p style="margin-left:22%;">Deletes the current value for
the parameter without supplying a new parameter. A blank
value tells Subscription Manager to use service default
values for that parameter. If there are no defaults, then
the feature is ignored.</p>


<p style="margin-left:11%;"><b>--section.name=VALUE</b></p>

<p style="margin-left:22%;">Sets a parameter to a new,
specified value. This is commonly used for connection
settings:</p>

<p style="margin-left:22%; margin-top: 1em">*
server.hostname (subscription management service)</p>

<p style="margin-left:22%; margin-top: 1em">*
server.proxy</p>

<p style="margin-left:22%; margin-top: 1em">*
server.proxy_port</p>

<p style="margin-left:22%; margin-top: 1em">*
server.proxy_user</p>

<p style="margin-left:22%; margin-top: 1em">*
server.proxy_password</p>

<p style="margin-left:22%; margin-top: 1em">* rhsm.baseurl
(content server)</p>

<p style="margin-left:22%; margin-top: 1em">*
rhsm.certFrequency</p>

<p style="margin-left:11%; margin-top: 1em"><b>VERSION
OPTIONS</b> <br>
The <b>version</b> command displays information about the
current Subscription Manager package, the subscription
service the system is registered to (if it is currently
registered), and the subscription management server that the
system is configured to use. For example:</p>

<p style="margin-left:22%; margin-top: 1em">[root@server
~]# subscription-manager version <br>
server type: Red Hat Subscription Management <br>
subscription management server: 0.9.18-1 <br>
subscription management rules: 5.9 <br>
subscription-manager: 1.12.1-1.git.28.5cd97a5.fc20 <br>
python-rhsm: 1.11.4-1.git.1.2f38ded.fc20</p>

<p style="margin-left:11%; margin-top: 1em">This command
has no options.</p>

<p style="margin-left:11%; margin-top: 1em"><b>STATUS
OPTIONS</b> <br>
The <b>status</b> command shows the current status of the
products and attached subscriptions for the system. If some
products are not fully covered or subscriptions have
expired, then the <b>status</b> command shows why
subscriptions are not current and returns an error code.</p>

<p style="margin-left:22%; margin-top: 1em">[root@server
~]# subscription-manager status <br>
+-------------------------------------------+ <br>
System Status Details <br>
+-------------------------------------------+ <br>
Overall Status: Current</p>

<p style="margin-left:11%;"><b>--ondate=DATE</b></p>

<p style="margin-left:22%;">Shows the system status for a
specific date <i>in the future</i>. The format of the date
is <i>YYYY-MM-DD</i>.</p>

<p style="margin-left:22%; margin-top: 1em">[root@server
~]# subscription-manager status --ondate=2014-01-01 <br>
+-------------------------------------------+ <br>
System Status Details <br>
+-------------------------------------------+ <br>
Overall Status: Insufficient</p>

<p style="margin-left:11%; margin-top: 1em"><b>DEPRECATED
COMMANDS</b> <br>
As the structures of subscription configuration have
changed, some of the original management commands have
become obsolete. These commands have been replaced with
updated commands. <b><br>
subscribe</b></p>

<p style="margin-left:22%;">This has been replaced with
attach. A similar registration option, <b>--subscribe</b>,
has also be replaced with <b>--auto-attach</b>.</p>

<p style="margin-left:11%;"><b>unsubscribe</b></p>

<p style="margin-left:22%;">This has been replaced with
<b>remove</b>.</p>

<p style="margin-left:11%;"><b>activate</b></p>

<p style="margin-left:22%;">This has been replaced with
<b>redeem</b>.</p>

<h2>USAGE
<a name="USAGE"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>subscription-manager</b>
has two major tasks:</p>

<p style="margin-left:22%; margin-top: 1em">1. Handling the
registration for a given system to a subscription management
service</p>

<p style="margin-left:22%; margin-top: 1em">2. Handling the
product subscriptions for installed products on a system</p>


<p style="margin-left:11%; margin-top: 1em"><b>subscription-manager</b>
makes it easier for network administrators to maintain
parity between software subscriptions and updates and their
installed products by tracking and managing what
subscriptions are attached to a system and when those
subscriptions expire or are exceeded.</p>

<p style="margin-left:11%; margin-top: 1em"><b>REGISTERING
AND UNREGISTERING MACHINES</b> <br>
A system is either <i>registered</i> to a subscription
management service -- which makes all of the subscriptions
available to the system -- or it is not registered.
Unregistered systems necessarily lack valid software
subscriptions because there is no way to record that the
subscriptions have been used nor any way to renew them.</p>

<p style="margin-left:11%; margin-top: 1em">The default
subscription management service in the Subscription Manager
configuration is the Customer Portal Subscription Management
service. The configuration file can be edited before the
system is registered to point to an on-premise subscription
management service like Subscription Asset Manager.</p>

<p style="margin-left:11%; margin-top: 1em">Systems are
usually registered to a subscription management service as
part of their initial configuration, such as the firstboot
or kickstart process. However, systems can be registered
manually after they are configured, can be removed from a
content service, or reregistered.</p>

<p style="margin-left:11%; margin-top: 1em">If a system has
never been registered (not even during firstboot), then the
<b>register</b> command will register the system with
whatever subscription management service is configured in
the <b>/etc/rhsm/rhsm.conf</b> file. This command requires,
at a minimum, the username and password for an account to
connect to the subscription management service. If the
credentials aren&rsquo;t passed with the command, then
<b>subscription-manager</b> prompts for the username and
password interactively.</p>

<p style="margin-left:11%; margin-top: 1em">When there is a
single organization or when using the Customer Portal
Subscription Management service, all that is required is the
username/password set. For example:</p>


<p style="margin-left:22%; margin-top: 1em">subscription-manager
register --username=admin --password=secret</p>

<p style="margin-left:11%; margin-top: 1em">With on-premise
subscription services, such as Subscription Asset Manager,
the infrastructure is more complex. The local administrator
can define independent groups called <i>organizations</i>
which represent physical or organizational divisions
(<b>--org</b>). Those organizations can be subdivided into
<i>environments</i> (<b>--environment</b>). Optionally, the
information about what subscription service
(<b>--serverurl</b>) and content delivery network
(<b>--baseurl</b>) to use for the system registration can
also be passed (which overrides the Red Hat Subscription
Manager settings). The server and content URLs are usually
configured in the Subscription Manager configuration before
registering a system.</p>


<p style="margin-left:22%; margin-top: 1em">subscription-manager
register --username=admin --password=secret <br>
--org=&quot;IT Dept&quot; --environment=&quot;local
dev&quot; --serverurl=local-cloudforms.example.com
--baseurl=https://local-cloudforms.example.com:8088/cfFe</p>

<p style="margin-left:11%; margin-top: 1em">If a system is
in a multi-tenant environment and the organization is
<i>not</i> provided with the registration request,
registration fails with a remote server error. In the
<b>rhsm.log,</b> there will be errors about being unable to
load the owners interface.</p>

<p style="margin-left:11%; margin-top: 1em">Some
information is assigned automatically. Subscription Manager
automatically generates a unique ID for the system which is
used by the subscription management service and it assigns a
unit type, which indicates what kinds of software are
available for the system. The name for the entry can be
manually assigned (for use within an on-premise subscription
service, for instance). A handful of subscriptions (such as
specialized servers for content or identity management) have
their own specific unit type. For example:</p>


<p style="margin-left:22%; margin-top: 1em">subscription-manager
register --username=admin <br>
--password=secret --type=system --name=server1 <br>
--org=&quot;IT Dept&quot;</p>

<p style="margin-left:11%; margin-top: 1em">If a system is
registered and then somehow its subscription information is
lost -- a drive crashes or the certificates are deleted or
corrupted -- the system can be reregistered, with all of its
subscriptions restored, by registering with the existing
ID.</p>


<p style="margin-left:22%; margin-top: 1em">subscription-manager
register --username=admin <br>
--password=secret --consumerid=1234abcd</p>

<p style="margin-left:11%; margin-top: 1em">A system uses
an SSL client certificate (its identity certificate) to
authenticate to the subscriptions system to check for
updates or changes to subscriptions. If the identity
certificate is lost or corrupted, it can be regenerated
using the <b>identity</b> command.</p>


<p style="margin-left:22%; margin-top: 1em">subscription-manager
identity --regenerate</p>

<p style="margin-left:11%; margin-top: 1em">Using the
<b>--force</b> option will prompt for the username and
password for the account, if one isn&rsquo;t given, and then
return the new inventory ID and the hostname of the
registered system.</p>


<p style="margin-left:11%; margin-top: 1em">subscription-manager
identity --force <br>
Username: jsmith <br>
Password: <br>
eff9a4c9-3579-49e5-a52f-83f2db29ab52 server.example.com</p>

<p style="margin-left:11%; margin-top: 1em">A system is
unregistered and removed from the subscription management
service simply by running the <b>unregister</b> command.
Unregistering a system and removing its attached
subscriptions can free up subscriptions when a system is
taken offline or moved to a different department.</p>


<p style="margin-left:22%; margin-top: 1em">subscription-manager
unregister</p>

<p style="margin-left:11%; margin-top: 1em">An option with
registration, <b>--auto-attach,</b> will automatically
attach the subscriptions pool which best matches the system
architecture and configuration to the newly-registered
system. This option attaches subscriptions as part of the
registration process, rather than separately managing
subscriptions.</p>


<p style="margin-left:22%; margin-top: 1em">subscription-manager
register --username=admin --password=secret <br>
--auto-attach</p>

<p style="margin-left:11%; margin-top: 1em">Auto-attach
also supports an option to set a preferred service level
with the selected subscriptions, the <b>--servicelevel</b>
option. In this case, the <b>--servicelevel</b> option sets
a preference that helps the auto-attach process select
appropriate subscriptions. For example, if the preferred
service level for a production server is premium, and there
are three matching subscriptions with different service
levels (none, standard, and premium), the auto-attach
process selects the subscription which offers a premium
service level.</p>


<p style="margin-left:22%; margin-top: 1em">subscription-manager
register --username=admin --password=secret <br>
--auto-attach --servicelevel=premium</p>

<p style="margin-left:11%; margin-top: 1em"><b>LISTING,
ATTACHING, AND REMOVING SUBSCRIPTIONS FOR PRODUCTS</b> <br>
A <i>subscription</i> is essentially the right to install,
use, and receive updates for a Red Hat product. (Sometimes
multiple individual software products are bundled together
into a single subscription.) When a system is registered,
the subscription management service is aware of the system
and has a list of all of the possible product subscriptions
that the system can install and use. A subscription is
applied to a system when the system is <i>attached</i> to
the subscription pool that makes that product available. A
system releases or <i>removes</i> that subscription
(meaning, it removes that subscription so that another
system can use that subscription count).</p>

<p style="margin-left:11%; margin-top: 1em"><b>list</b>
command shows you what subscriptions are available
specifically to the system (meaning subscriptions which are
active, have available quantities, and match the hardware
and architecture) or all subscriptions for the organization.
Using the <b>--ondate</b> option shows subscriptions that
are or will be active at a specific time (otherwise, it
shows subscriptions which are active today).</p>


<p style="margin-left:22%; margin-top: 1em">subscription-manager
list --available --ondate=2012-01-31 <br>
+-------------------------------------------+ <br>
Available Subscriptions <br>
+-------------------------------------------+</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%">


<p>Subscription Name:</p></td>
<td width="8%"></td>
<td width="7%"></td>
<td width="62%">


<p>Red Hat Enterprise Linux</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%">


<p>SKU:</p></td>
<td width="8%">
</td>
<td width="7%">
</td>
<td width="62%">


<p>SYS0395</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%">


<p>Pool Id:</p></td>
<td width="8%"></td>
<td width="7%">
</td>
<td width="62%">


<p>8a85f981302cbaf201302d899adf05a9</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%">


<p>Quantity:</p></td>
<td width="8%"></td>
<td width="7%">
</td>
<td width="62%">


<p>249237</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%">


<p>Service Level:</p></td>
<td width="8%"></td>
<td width="7%"></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="8%"></td>
<td width="7%"></td>
<td width="62%">


<p>None</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%">


<p>Service Type:</p></td>
<td width="8%"></td>
<td width="7%"></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="8%"></td>
<td width="7%"></td>
<td width="62%">


<p>None</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%">


<p>Multi-Entitlement:</p></td>
<td width="8%"></td>
<td width="7%"></td>
<td width="62%">


<p>No</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%">


<p>Ends:</p></td>
<td width="8%"></td>
<td width="7%">
</td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="8%"></td>
<td width="7%"></td>
<td width="62%">


<p>01/01/2022</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%">


<p>Machine Type:</p></td>
<td width="8%"></td>
<td width="7%"></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="8%"></td>
<td width="7%"></td>
<td width="62%">


<p>physical</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The <b>list</b>
command can also be used to show what products you currently
have installed, as a way of tracking what products you have
versus what subscriptions you have on the system.</p>


<p style="margin-left:22%; margin-top: 1em">subscription-manager
list --installed</p>


<p style="margin-left:22%; margin-top: 1em">+-------------------------------------------+
<br>
Installed Product Status <br>
+-------------------------------------------+</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%">


<p>ProductName:</p></td>
<td width="8%"></td>
<td width="69%">


<p>Red Hat Enterprise Linux Server</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%">


<p>Product ID:</p></td>
<td width="8%"></td>
<td width="69%">


<p>69</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%">


<p>Version:</p></td>
<td width="8%"></td>
<td width="69%">


<p>6.3</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%">


<p>Arch:</p></td>
<td width="8%"></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="8%"></td>
<td width="69%">


<p>x86_64</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%">


<p>Status:</p></td>
<td width="8%"></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="8%"></td>
<td width="69%">


<p>Subscribed</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%">


<p>Started:</p></td>
<td width="8%"></td>
<td width="69%">


<p>07/26/2012</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%">


<p>Ends:</p></td>
<td width="8%"></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="8%"></td>
<td width="69%">


<p>08/31/2015</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The <b>list</b>
can be filtered to only include products or subscriptions
that match the query string provided to <b>--matches</b>
option.</p>


<p style="margin-left:22%; margin-top: 1em">subscription-manager
list --installed --matches=&quot;*Server*&quot;</p>


<p style="margin-left:22%; margin-top: 1em">+-------------------------------------------+
<br>
Installed Product Status <br>
+-------------------------------------------+</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%">


<p>ProductName:</p></td>
<td width="8%"></td>
<td width="69%">


<p>Red Hat Enterprise Linux Server</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%">


<p>Product ID:</p></td>
<td width="8%"></td>
<td width="69%">


<p>69</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%">


<p>Version:</p></td>
<td width="8%"></td>
<td width="69%">


<p>6.3</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%">


<p>Arch:</p></td>
<td width="8%"></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="8%"></td>
<td width="69%">


<p>x86_64</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%">


<p>Status:</p></td>
<td width="8%"></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="8%"></td>
<td width="69%">


<p>Subscribed</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%">


<p>Started:</p></td>
<td width="8%"></td>
<td width="69%">


<p>07/26/2012</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%">


<p>Ends:</p></td>
<td width="8%"></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="-14%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="8%"></td>
<td width="69%">


<p>08/31/2015</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Attaching a
subscription requires the ID for the subscription pool (the
<i>--pool</i> option). For example:</p>


<p style="margin-left:22%; margin-top: 1em">subscription-manager
attach <br>
--pool=ff8080812bc382e3012bc3845da100d2</p>

<p style="margin-left:11%; margin-top: 1em">As with the
<b>register</b> command, the system can be auto-attached to
the best-fitting subscriptions. This is the default action
and is equivalent to using the <b>--auto</b> option:</p>


<p style="margin-left:22%; margin-top: 1em">subscription-manager
attach</p>

<p style="margin-left:11%; margin-top: 1em">Auto-attach
also supports an option to set a preferred service level
with the selected subscriptions, the <b>--servicelevel</b>
option. In this case, the <b>--servicelevel</b> option sets
a preference that helps the auto-attach process select
appropriate subscriptions. For example, if the preferred
service level for a production server is premium, and there
are three matching subscriptions with different service
levels (none, standard, and premium), the auto-attach
process selects the subscription which offers a premium
subscription.</p>


<p style="margin-left:22%; margin-top: 1em">subscription-manager
attach --servicelevel=premium</p>

<p style="margin-left:11%; margin-top: 1em">Some
subscriptions define a count based on attributes of the
system itself, like the number of sockets or the number of
virtual guests on a host. You can combine multiple
subscriptions together to cover the count. For example, if
there is a four socket server, you can use two subscriptions
for &quot;RHEL Server for Two Sockets&quot; to cover the
socket count. To specify the number of subscriptions to use,
use the <b>--quantity</b> option. For example:</p>


<p style="margin-left:22%; margin-top: 1em">subscription-manager
attach <br>
--pool=ff8080812bc382e3012bc3845da100d2 <br>
--quantity=2</p>

<p style="margin-left:11%; margin-top: 1em">Removing
subscription from a system releases the subscription back
into the pool. The system remains registered with the
subscription management service. Each product has an
identifying X.509 certificate installed with it. To remove a
subscription for a specific product, specify the serial
number (or numbers, in multiple <b>--serial</b> options) of
the certificate:</p>


<p style="margin-left:22%; margin-top: 1em">subscription-manager
remove --serial=1128750306742160</p>

<p style="margin-left:11%; margin-top: 1em">Giving the
<b>remove</b> command with the <b>--all</b> option removes
every subscription the system has used.</p>

<p style="margin-left:11%; margin-top: 1em"><b>REDEEMING
EXISTING SUBSCRIPTIONS</b> <br>
Sometimes, a system may come preconfigured with products and
subscriptions. Rather than attaching a pool and claiming a
subscription, this system simply needs to <i>redeem</i> its
existing subscriptions.</p>

<p style="margin-left:11%; margin-top: 1em">After
registration, subscriptions on preconfigured systems can be
claimed using the <b>redeem</b> command, which essentially
auto-attaches the system to its preexisting
subscriptions.</p>


<p style="margin-left:22%; margin-top: 1em">subscription-manager
redeem --email=admin@example.com --org=&quot;IT
Dept&quot;</p>

<p style="margin-left:11%; margin-top: 1em"><b>VIEWING
LOCAL SUBSCRIPTION &amp; CONTENT PROVIDER INFORMATION</b>
<br>
Red Hat has a hosted environment, through the Customer
Portal, that provides centralized access to subscription
management and content repositories. However, organizations
can use other tools -- like Subscription Manager -- for
content hosting and subscription management. With a local
content provider, the organization, environments,
repositories, and other structural configuration is
performed in the content provider. Red Hat Subscription
Manager can be used to display this information, using the
<b>environments, orgs,</b> and <b>repos</b> commands.</p>


<p style="margin-left:22%; margin-top: 1em">subscription-manager
repos --list</p>


<p style="margin-left:22%; margin-top: 1em">subscription-manager
environments --username=jsmith <br>
--password=secret --org=prod</p>


<p style="margin-left:22%; margin-top: 1em">subscription-manager
orgs --username=jsmith <br>
--password=secret</p>

<p style="margin-left:11%; margin-top: 1em"><b>CHANGING
SUBSCRIPTION MANAGER CONFIGURATION</b> <br>
The Subscription Manager CLI and GUI both use the
<b>/etc/rhsm/rhsm.conf</b> file for configuration, including
what content and subscription management services to use and
management settings like auto-attaching. This configuration
file can be edited directly, or it can be edited using the
<b>config</b> command. Parameters and values are passed as
arguments with the <b>config</b> command in the format
<i>--section.parameter=value</i> , where <i>section</i> is
the configuration section in the file: server, rhsm, or
rhsmcertd.</p>

<p style="margin-left:11%; margin-top: 1em">For example, to
change the hostname of the subscription management service
host:</p>


<p style="margin-left:22%; margin-top: 1em">subscription-manager
config --server.hostname=myserver.example.com</p>

<p style="margin-left:11%; margin-top: 1em"><b>UPDATING
FACTS</b> <br>
The information about a system, such as its hardware and
CPU, its operating system versions, and memory, are
collected by Subscription Manager in a list of <i>facts.</i>
Subscription Manager uses these facts to determine what
purchased subscriptions are compatible with the system.
Whenever these facts change (such as installing an
additional CPU), the facts can be updated immediately using
the <b>facts</b> command.</p>


<p style="margin-left:22%; margin-top: 1em">subscription-manager
facts --update</p>

<p style="margin-left:11%; margin-top: 1em">The collected
facts can also be overridden by creating a JSON file in the
<b>/etc/rhsm/facts/</b> directory. These have simple formats
that define a fact and value:</p>


<p style="margin-left:22%; margin-top: 1em">{&quot;fact1&quot;:
&quot;value1&quot;,&quot;fact2&quot;:
&quot;value2&quot;}</p>

<p style="margin-left:11%; margin-top: 1em">Any fact
override file must have a <b>.facts</b> extension.</p>

<p style="margin-left:11%; margin-top: 1em">When these fact
files are added, running the <b>facts</b> command will
update the collected facts with the new, manual facts or
values.</p>


<p style="margin-left:11%; margin-top: 1em"><b>SUBSCRIPTIONS
AND KICKSTART</b> <br>
The <b>subscription-manager</b> tool can be run as a
post-install script as part of the kickstart installation
process. This allows subscription management (registering
and applying subscriptions) to be automated along with
installation. For example:</p>

<p style="margin-left:22%; margin-top: 1em">%post
--log=/root/ks-post.log <br>
/usr/sbin/subscription-manager register --username admin
--password secret --org &rsquo;east colo&rsquo;
--auto-attach --servicelevel=premium --force</p>

<h2>NETWORK INFORMATION
<a name="NETWORK INFORMATION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>subscription-manager</b> tool uses outgoing HTTPS
requests. In the default configuration it will use HTTPS on
port 443 to the subscription servers
<b>subscription.rhn.redhat.com</b> and to the content
delivery service <b>cdn.redhat.com.</b></p>

<p style="margin-left:11%; margin-top: 1em">For information
about the network addresses that <b>subscription-manager</b>
and the <b>subscription-manager yum plugin</b> use see
https://access.redhat.com/site/articles/414963</p>

<h2>FILES
<a name="FILES"></a>
</h2>


<p style="margin-left:22%; margin-top: 1em">*
/etc/pki/consumer/*.pem</p>

<p style="margin-left:22%; margin-top: 1em">*
/etc/pki/entitlement/&lt;serial&gt;.pem</p>

<p style="margin-left:22%; margin-top: 1em">*
/etc/pki/product/*.pem</p>

<p style="margin-left:22%; margin-top: 1em">*
/etc/rhsm/rhsm.conf</p>

<p style="margin-left:22%; margin-top: 1em">*
/etc/rhsm/facts/*.facts</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Deon Lackey,
&lt;dlackey@redhat.com&gt;, and Pradeep Kilambi,
&lt;pkilambi@redhat.com&gt;</p>
<hr>
</body>
</html>
