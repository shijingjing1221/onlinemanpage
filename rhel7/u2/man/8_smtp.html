<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 02:22:52 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SMTP</title>

</head>
<body>

<h1 align="center">SMTP</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#SMTP DESTINATION SYNTAX">SMTP DESTINATION SYNTAX</a><br>
<a href="#LMTP DESTINATION SYNTAX">LMTP DESTINATION SYNTAX</a><br>
<a href="#SECURITY">SECURITY</a><br>
<a href="#STANDARDS">STANDARDS</a><br>
<a href="#DIAGNOSTICS">DIAGNOSTICS</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#CONFIGURATION PARAMETERS">CONFIGURATION PARAMETERS</a><br>
<a href="#COMPATIBILITY CONTROLS">COMPATIBILITY CONTROLS</a><br>
<a href="#MIME PROCESSING CONTROLS">MIME PROCESSING CONTROLS</a><br>
<a href="#EXTERNAL CONTENT INSPECTION CONTROLS">EXTERNAL CONTENT INSPECTION CONTROLS</a><br>
<a href="#SASL AUTHENTICATION CONTROLS">SASL AUTHENTICATION CONTROLS</a><br>
<a href="#STARTTLS SUPPORT CONTROLS">STARTTLS SUPPORT CONTROLS</a><br>
<a href="#OBSOLETE STARTTLS CONTROLS">OBSOLETE STARTTLS CONTROLS</a><br>
<a href="#RESOURCE AND RATE CONTROLS">RESOURCE AND RATE CONTROLS</a><br>
<a href="#TROUBLE SHOOTING CONTROLS">TROUBLE SHOOTING CONTROLS</a><br>
<a href="#MISCELLANEOUS CONTROLS">MISCELLANEOUS CONTROLS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#README FILES">README FILES</a><br>
<a href="#LICENSE">LICENSE</a><br>
<a href="#AUTHOR(S)">AUTHOR(S)</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">smtp &minus;
Postfix SMTP+LMTP client</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>smtp</b>
[generic Postfix daemon options]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The Postfix
SMTP+LMTP client implements the SMTP and LMTP mail delivery
protocols. It processes message delivery requests from the
queue manager. Each request specifies a queue file, a sender
address, a domain or host to deliver to, and recipient
information. This program expects to be run from the
<b>master</b>(8) process manager.</p>

<p style="margin-left:11%; margin-top: 1em">The SMTP+LMTP
client updates the queue file and marks recipients as
finished, or it informs the queue manager that delivery
should be tried again at a later time. Delivery status
reports are sent to the <b>bounce</b>(8), <b>defer</b>(8) or
<b>trace</b>(8) daemon as appropriate.</p>

<p style="margin-left:11%; margin-top: 1em">The SMTP+LMTP
client looks up a list of mail exchanger addresses for the
destination host, sorts the list by preference, and connects
to each listed address until it finds a server that
responds.</p>

<p style="margin-left:11%; margin-top: 1em">When a server
is not reachable, or when mail delivery fails due to a
recoverable error condition, the SMTP+LMTP client will try
to deliver the mail to an alternate host.</p>

<p style="margin-left:11%; margin-top: 1em">After a
successful mail transaction, a connection may be saved to
the <b>scache</b>(8) connection cache server, so that it may
be used by any SMTP+LMTP client for a subsequent
transaction.</p>

<p style="margin-left:11%; margin-top: 1em">By default,
connection caching is enabled temporarily for destinations
that have a high volume of mail in the active queue.
Connection caching can be enabled permanently for specific
destinations.</p>

<h2>SMTP DESTINATION SYNTAX
<a name="SMTP DESTINATION SYNTAX"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">SMTP
destinations have the following form: <i><br>
domainname <br>
domainname</i>:<i>port</i></p>

<p style="margin-left:22%;">Look up the mail exchangers for
the specified domain, and connect to the specified port
(default: <b>smtp</b>).</p>

<p style="margin-left:11%;">[<i>hostname</i>] <br>
[<i>hostname</i>]:<i>port</i></p>

<p style="margin-left:22%;">Look up the address(es) of the
specified host, and connect to the specified port (default:
<b>smtp</b>).</p>

<p style="margin-left:11%;">[<i>address</i>] <br>
[<i>address</i>]:<i>port</i></p>

<p style="margin-left:22%;">Connect to the host at the
specified address, and connect to the specified port
(default: <b>smtp</b>). An IPv6 address must be formatted as
[<b>ipv6</b>:<i>address</i>].</p>

<h2>LMTP DESTINATION SYNTAX
<a name="LMTP DESTINATION SYNTAX"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">LMTP
destinations have the following form: <b><br>
unix</b>:<i>pathname</i></p>

<p style="margin-left:22%;">Connect to the local
UNIX-domain server that is bound to the specified
<i>pathname</i>. If the process runs chrooted, an absolute
pathname is interpreted relative to the Postfix queue
directory.</p>

<p style="margin-left:11%;"><b>inet</b>:<i>hostname</i>
<b><br>
inet:</b><i>hostname</i>:<i>port</i> <b><br>
inet</b>:[<i>address</i>] <b><br>
inet</b>:[<i>address</i>]:<i>port</i></p>

<p style="margin-left:22%;">Connect to the specified TCP
port on the specified local or remote host. If no port is
specified, connect to the port defined as <b>lmtp</b> in
<b>services</b>(4). If no such service is found, the
<b>lmtp_tcp_port</b> configuration parameter (default value
of 24) will be used. An IPv6 address must be formatted as
[<b>ipv6</b>:<i>address</i>].</p>

<h2>SECURITY
<a name="SECURITY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The SMTP+LMTP
client is moderately security-sensitive. It talks to SMTP or
LMTP servers and to DNS servers on the network. The
SMTP+LMTP client can be run chrooted at fixed low
privilege.</p>

<h2>STANDARDS
<a name="STANDARDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">RFC 821 (SMTP
protocol) <br>
RFC 822 (ARPA Internet Text Messages) <br>
RFC 1651 (SMTP service extensions) <br>
RFC 1652 (8bit-MIME transport) <br>
RFC 1870 (Message Size Declaration) <br>
RFC 2033 (LMTP protocol) <br>
RFC 2034 (SMTP Enhanced Error Codes) <br>
RFC 2045 (MIME: Format of Internet Message Bodies) <br>
RFC 2046 (MIME: Media Types) <br>
RFC 2554 (AUTH command) <br>
RFC 2821 (SMTP protocol) <br>
RFC 2920 (SMTP Pipelining) <br>
RFC 3207 (STARTTLS command) <br>
RFC 3461 (SMTP DSN Extension) <br>
RFC 3463 (Enhanced Status Codes) <br>
RFC 4954 (AUTH command) <br>
RFC 5321 (SMTP protocol)</p>

<h2>DIAGNOSTICS
<a name="DIAGNOSTICS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Problems and
transactions are logged to <b>syslogd</b>(8). Corrupted
message files are marked so that the queue manager can move
them to the <b>corrupt</b> queue for further inspection.</p>

<p style="margin-left:11%; margin-top: 1em">Depending on
the setting of the <b>notify_classes</b> parameter, the
postmaster is notified of bounces, protocol problems, and of
other trouble.</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">SMTP and LMTP
connection caching does not work with TLS. The necessary
support for TLS object passivation and re-activation does
not exist without closing the session, which defeats the
purpose.</p>

<p style="margin-left:11%; margin-top: 1em">SMTP and LMTP
connection caching assumes that SASL credentials are valid
for all destinations that map onto the same IP address and
TCP port.</p>

<h2>CONFIGURATION PARAMETERS
<a name="CONFIGURATION PARAMETERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Before Postfix
version 2.3, the LMTP client is a separate program that
implements only a subset of the functionality available with
SMTP: there is no support for TLS, and connections are
cached in-process, making it ineffective when the client is
used for multiple domains.</p>

<p style="margin-left:11%; margin-top: 1em">Most
smtp_<i>xxx</i> configuration parameters have an
lmtp_<i>xxx</i> &quot;mirror&quot; parameter for the
equivalent LMTP feature. This document describes only those
LMTP-related parameters that aren&rsquo;t simply
&quot;mirror&quot; parameters.</p>

<p style="margin-left:11%; margin-top: 1em">Changes to
<b>main.cf</b> are picked up automatically, as
<b>smtp</b>(8) processes run for only a limited amount of
time. Use the command &quot;<b>postfix reload</b>&quot; to
speed up a change.</p>

<p style="margin-left:11%; margin-top: 1em">The text below
provides only a parameter summary. See <b>postconf</b>(5)
for more details including examples.</p>

<h2>COMPATIBILITY CONTROLS
<a name="COMPATIBILITY CONTROLS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>ignore_mx_lookup_error
(no)</b></p>

<p style="margin-left:22%;">Ignore DNS MX lookups that
produce no response.</p>

<p style="margin-left:11%;"><b>smtp_always_send_ehlo
(yes)</b></p>

<p style="margin-left:22%;">Always send EHLO at the start
of an SMTP session.</p>

<p style="margin-left:11%;"><b>smtp_never_send_ehlo
(no)</b></p>

<p style="margin-left:22%;">Never send EHLO at the start of
an SMTP session.</p>


<p style="margin-left:11%;"><b>smtp_defer_if_no_mx_address_found
(no)</b></p>

<p style="margin-left:22%;">Defer mail delivery when no MX
record resolves to an IP address.</p>

<p style="margin-left:11%;"><b>smtp_line_length_limit
(998)</b></p>

<p style="margin-left:22%;">The maximal length of message
header and body lines that Postfix will send via SMTP.</p>


<p style="margin-left:11%;"><b>smtp_pix_workaround_delay_time
(10s)</b></p>

<p style="margin-left:22%;">How long the Postfix SMTP
client pauses before sending
&quot;.&lt;CR&gt;&lt;LF&gt;&quot; in order to work around
the PIX firewall
&quot;&lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;&quot;
bug.</p>


<p style="margin-left:11%;"><b>smtp_pix_workaround_threshold_time
(500s)</b></p>

<p style="margin-left:22%;">How long a message must be
queued before the Postfix SMTP client turns on the PIX
firewall
&quot;&lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;&quot; bug
workaround for delivery through firewalls with &quot;smtp
fixup&quot; mode turned on.</p>

<p style="margin-left:11%;"><b>smtp_pix_workarounds
(disable_esmtp, delay_dotcrlf)</b></p>

<p style="margin-left:22%;">A list that specifies zero or
more workarounds for CISCO PIX firewall bugs.</p>

<p style="margin-left:11%;"><b>smtp_pix_workaround_maps
(empty)</b></p>

<p style="margin-left:22%;">Lookup tables, indexed by the
remote SMTP server address, with per-destination workarounds
for CISCO PIX firewall bugs.</p>

<p style="margin-left:11%;"><b>smtp_quote_rfc821_envelope
(yes)</b></p>

<p style="margin-left:22%;">Quote addresses in Postfix SMTP
client MAIL FROM and RCPT TO commands as required by RFC
5321.</p>

<p style="margin-left:11%;"><b>smtp_reply_filter
(empty)</b></p>

<p style="margin-left:22%;">A mechanism to transform
replies from remote SMTP servers one line at a time.</p>

<p style="margin-left:11%;"><b>smtp_skip_5xx_greeting
(yes)</b></p>

<p style="margin-left:22%;">Skip remote SMTP servers that
greet with a 5XX status code (go away, do not try again
later).</p>

<p style="margin-left:11%;"><b>smtp_skip_quit_response
(yes)</b></p>

<p style="margin-left:22%;">Do not wait for the response to
the SMTP QUIT command.</p>

<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.0 and earlier: <b><br>
smtp_skip_4xx_greeting (yes)</b></p>

<p style="margin-left:22%;">Skip SMTP servers that greet
with a 4XX status code (go away, try again later).</p>

<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.2 and later: <b><br>
smtp_discard_ehlo_keyword_address_maps (empty)</b></p>

<p style="margin-left:22%;">Lookup tables, indexed by the
remote SMTP server address, with case insensitive lists of
EHLO keywords (pipelining, starttls, auth, etc.) that the
Postfix SMTP client will ignore in the EHLO response from a
remote SMTP server.</p>

<p style="margin-left:11%;"><b>smtp_discard_ehlo_keywords
(empty)</b></p>

<p style="margin-left:22%;">A case insensitive list of EHLO
keywords (pipelining, starttls, auth, etc.) that the Postfix
SMTP client will ignore in the EHLO response from a remote
SMTP server.</p>

<p style="margin-left:11%;"><b>smtp_generic_maps
(empty)</b></p>

<p style="margin-left:22%;">Optional lookup tables that
perform address rewriting in the Postfix SMTP client,
typically to transform a locally valid address into a
globally valid address when sending mail across the
Internet.</p>

<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.2.9 and later: <b><br>
smtp_cname_overrides_servername (version dependent)</b></p>

<p style="margin-left:22%;">Allow DNS CNAME records to
override the servername that the Postfix SMTP client uses
for logging, SASL password lookup, TLS policy decisions, or
TLS certificate verification.</p>

<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.3 and later: <b><br>
lmtp_discard_lhlo_keyword_address_maps (empty)</b></p>

<p style="margin-left:22%;">Lookup tables, indexed by the
remote LMTP server address, with case insensitive lists of
LHLO keywords (pipelining, starttls, auth, etc.) that the
Postfix LMTP client will ignore in the LHLO response from a
remote LMTP server.</p>

<p style="margin-left:11%;"><b>lmtp_discard_lhlo_keywords
(empty)</b></p>

<p style="margin-left:22%;">A case insensitive list of LHLO
keywords (pipelining, starttls, auth, etc.) that the Postfix
LMTP client will ignore in the LHLO response from a remote
LMTP server.</p>

<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.4.4 and later: <b><br>
send_cyrus_sasl_authzid (no)</b></p>

<p style="margin-left:22%;">When authenticating to a remote
SMTP or LMTP server with the default setting &quot;no&quot;,
send no SASL authoriZation ID (authzid); send only the SASL
authentiCation ID (authcid) plus the authcid&rsquo;s
password.</p>

<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.5 and later: <b><br>
smtp_header_checks (empty)</b></p>

<p style="margin-left:22%;">Restricted
<b>header_checks</b>(5) tables for the Postfix SMTP
client.</p>

<p style="margin-left:11%;"><b>smtp_mime_header_checks
(empty)</b></p>

<p style="margin-left:22%;">Restricted
<b>mime_header_checks</b>(5) tables for the Postfix SMTP
client.</p>

<p style="margin-left:11%;"><b>smtp_nested_header_checks
(empty)</b></p>

<p style="margin-left:22%;">Restricted
<b>nested_header_checks</b>(5) tables for the Postfix SMTP
client.</p>

<p style="margin-left:11%;"><b>smtp_body_checks
(empty)</b></p>

<p style="margin-left:22%;">Restricted
<b>body_checks</b>(5) tables for the Postfix SMTP
client.</p>

<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.6 and later: <b><br>
tcp_windowsize (0)</b></p>

<p style="margin-left:22%;">An optional workaround for
routers that break TCP window scaling.</p>

<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.8 and later: <b><br>
smtp_dns_resolver_options (empty)</b></p>

<p style="margin-left:22%;">DNS Resolver options for the
Postfix SMTP client.</p>

<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.9 and later: <b><br>
smtp_per_record_deadline (no)</b></p>

<p style="margin-left:22%;">Change the behavior of the
smtp_*_timeout time limits, from a time limit per read or
write system call, to a time limit to send or receive a
complete record (an SMTP command line, SMTP response line,
SMTP message content line, or TLS protocol message).</p>

<p style="margin-left:11%;"><b>smtp_send_dummy_mail_auth
(no)</b></p>

<p style="margin-left:22%;">Whether or not to append the
&quot;AUTH=&lt;&gt;&quot; option to the MAIL FROM command in
SASL-authenticated SMTP sessions.</p>

<h2>MIME PROCESSING CONTROLS
<a name="MIME PROCESSING CONTROLS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.0 and later: <b><br>
disable_mime_output_conversion (no)</b></p>

<p style="margin-left:22%;">Disable the conversion of
8BITMIME format to 7BIT format.</p>

<p style="margin-left:11%;"><b>mime_boundary_length_limit
(2048)</b></p>

<p style="margin-left:22%;">The maximal length of MIME
multipart boundary strings.</p>

<p style="margin-left:11%;"><b>mime_nesting_limit
(100)</b></p>

<p style="margin-left:22%;">The maximal recursion level
that the MIME processor will handle.</p>

<h2>EXTERNAL CONTENT INSPECTION CONTROLS
<a name="EXTERNAL CONTENT INSPECTION CONTROLS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.1 and later: <b><br>
smtp_send_xforward_command (no)</b></p>

<p style="margin-left:22%;">Send the non-standard XFORWARD
command when the Postfix SMTP server EHLO response announces
XFORWARD support.</p>

<h2>SASL AUTHENTICATION CONTROLS
<a name="SASL AUTHENTICATION CONTROLS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>smtp_sasl_auth_enable
(no)</b></p>

<p style="margin-left:22%;">Enable SASL authentication in
the Postfix SMTP client.</p>

<p style="margin-left:11%;"><b>smtp_sasl_password_maps
(empty)</b></p>

<p style="margin-left:22%;">Optional Postfix SMTP client
lookup tables with one username:password entry per remote
hostname or domain, or sender address when sender-dependent
authentication is enabled.</p>

<p style="margin-left:11%;"><b>smtp_sasl_security_options
(noplaintext, noanonymous)</b></p>

<p style="margin-left:22%;">Postfix SMTP client SASL
security options; as of Postfix 2.3 the list of available
features depends on the SASL client implementation that is
selected with <b>smtp_sasl_type</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.2 and later: <b><br>
smtp_sasl_mechanism_filter (empty)</b></p>

<p style="margin-left:22%;">If non-empty, a Postfix SMTP
client filter for the remote SMTP server&rsquo;s list of
offered SASL mechanisms.</p>

<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.3 and later: <b><br>
smtp_sender_dependent_authentication (no)</b></p>

<p style="margin-left:22%;">Enable sender-dependent
authentication in the Postfix SMTP client; this is available
only with SASL authentication, and disables SMTP connection
caching to ensure that mail from different senders will use
the appropriate credentials.</p>

<p style="margin-left:11%;"><b>smtp_sasl_path
(empty)</b></p>

<p style="margin-left:22%;">Implementation-specific
information that the Postfix SMTP client passes through to
the SASL plug-in implementation that is selected with
<b>smtp_sasl_type</b>.</p>

<p style="margin-left:11%;"><b>smtp_sasl_type
(cyrus)</b></p>

<p style="margin-left:22%;">The SASL plug-in type that the
Postfix SMTP client should use for authentication.</p>

<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.5 and later: <b><br>
smtp_sasl_auth_cache_name (empty)</b></p>

<p style="margin-left:22%;">An optional table to prevent
repeated SASL authentication failures with the same remote
SMTP server hostname, username and password.</p>

<p style="margin-left:11%;"><b>smtp_sasl_auth_cache_time
(90d)</b></p>

<p style="margin-left:22%;">The maximal age of an
smtp_sasl_auth_cache_name entry before it is removed.</p>

<p style="margin-left:11%;"><b>smtp_sasl_auth_soft_bounce
(yes)</b></p>

<p style="margin-left:22%;">When a remote SMTP server
rejects a SASL authentication request with a 535 reply code,
defer mail delivery instead of returning mail as
undeliverable.</p>

<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.9 and later: <b><br>
smtp_send_dummy_mail_auth (no)</b></p>

<p style="margin-left:22%;">Whether or not to append the
&quot;AUTH=&lt;&gt;&quot; option to the MAIL FROM command in
SASL-authenticated SMTP sessions.</p>

<h2>STARTTLS SUPPORT CONTROLS
<a name="STARTTLS SUPPORT CONTROLS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Detailed
information about STARTTLS configuration may be found in the
TLS_README document. <b><br>
smtp_tls_security_level (empty)</b></p>

<p style="margin-left:22%;">The default SMTP TLS security
level for the Postfix SMTP client; when a non-empty value is
specified, this overrides the obsolete parameters
smtp_use_tls, smtp_enforce_tls, and
smtp_tls_enforce_peername.</p>


<p style="margin-left:11%;"><b>smtp_sasl_tls_security_options
($smtp_sasl_security_options)</b></p>

<p style="margin-left:22%;">The SASL authentication
security options that the Postfix SMTP client uses for TLS
encrypted SMTP sessions.</p>

<p style="margin-left:11%;"><b>smtp_starttls_timeout
(300s)</b></p>

<p style="margin-left:22%;">Time limit for Postfix SMTP
client write and read operations during TLS startup and
shutdown handshake procedures.</p>

<p style="margin-left:11%;"><b>smtp_tls_CAfile
(empty)</b></p>

<p style="margin-left:22%;">A file containing CA
certificates of root CAs trusted to sign either remote SMTP
server certificates or intermediate CA certificates.</p>

<p style="margin-left:11%;"><b>smtp_tls_CApath
(empty)</b></p>

<p style="margin-left:22%;">Directory with PEM format
certificate authority certificates that the Postfix SMTP
client uses to verify a remote SMTP server certificate.</p>

<p style="margin-left:11%;"><b>smtp_tls_cert_file
(empty)</b></p>

<p style="margin-left:22%;">File with the Postfix SMTP
client RSA certificate in PEM format.</p>

<p style="margin-left:11%;"><b>smtp_tls_mandatory_ciphers
(medium)</b></p>

<p style="margin-left:22%;">The minimum TLS cipher grade
that the Postfix SMTP client will use with mandatory TLS
encryption.</p>

<p style="margin-left:11%;"><b>smtp_tls_exclude_ciphers
(empty)</b></p>

<p style="margin-left:22%;">List of ciphers or cipher types
to exclude from the Postfix SMTP client cipher list at all
TLS security levels.</p>


<p style="margin-left:11%;"><b>smtp_tls_mandatory_exclude_ciphers
(empty)</b></p>

<p style="margin-left:22%;">Additional list of ciphers or
cipher types to exclude from the Postfix SMTP client cipher
list at mandatory TLS security levels.</p>

<p style="margin-left:11%;"><b>smtp_tls_dcert_file
(empty)</b></p>

<p style="margin-left:22%;">File with the Postfix SMTP
client DSA certificate in PEM format.</p>

<p style="margin-left:11%;"><b>smtp_tls_dkey_file
($smtp_tls_dcert_file)</b></p>

<p style="margin-left:22%;">File with the Postfix SMTP
client DSA private key in PEM format.</p>

<p style="margin-left:11%;"><b>smtp_tls_key_file
($smtp_tls_cert_file)</b></p>

<p style="margin-left:22%;">File with the Postfix SMTP
client RSA private key in PEM format.</p>

<p style="margin-left:11%;"><b>smtp_tls_loglevel
(0)</b></p>

<p style="margin-left:22%;">Enable additional Postfix SMTP
client logging of TLS activity.</p>


<p style="margin-left:11%;"><b>smtp_tls_note_starttls_offer
(no)</b></p>

<p style="margin-left:22%;">Log the hostname of a remote
SMTP server that offers STARTTLS, when TLS is not already
enabled for that server.</p>

<p style="margin-left:11%;"><b>smtp_tls_policy_maps
(empty)</b></p>

<p style="margin-left:22%;">Optional lookup tables with the
Postfix SMTP client TLS security policy by next-hop
destination; when a non-empty value is specified, this
overrides the obsolete smtp_tls_per_site parameter.</p>


<p style="margin-left:11%;"><b>smtp_tls_mandatory_protocols
(!SSLv2)</b></p>

<p style="margin-left:22%;">List of SSL/TLS protocols that
the Postfix SMTP client will use with mandatory TLS
encryption.</p>

<p style="margin-left:11%;"><b>smtp_tls_scert_verifydepth
(9)</b></p>

<p style="margin-left:22%;">The verification depth for
remote SMTP server certificates.</p>

<p style="margin-left:11%;"><b>smtp_tls_secure_cert_match
(nexthop, dot-nexthop)</b></p>

<p style="margin-left:22%;">How the Postfix SMTP client
verifies the server certificate peername for the
&quot;secure&quot; TLS security level.</p>


<p style="margin-left:11%;"><b>smtp_tls_session_cache_database
(empty)</b></p>

<p style="margin-left:22%;">Name of the file containing the
optional Postfix SMTP client TLS session cache.</p>


<p style="margin-left:11%;"><b>smtp_tls_session_cache_timeout
(3600s)</b></p>

<p style="margin-left:22%;">The expiration time of Postfix
SMTP client TLS session cache information.</p>

<p style="margin-left:11%;"><b>smtp_tls_verify_cert_match
(hostname)</b></p>

<p style="margin-left:22%;">How the Postfix SMTP client
verifies the server certificate peername for the
&quot;verify&quot; TLS security level.</p>

<p style="margin-left:11%;"><b>tls_daemon_random_bytes
(32)</b></p>

<p style="margin-left:22%;">The number of pseudo-random
bytes that an <b>smtp</b>(8) or <b>smtpd</b>(8) process
requests from the <b>tlsmgr</b>(8) server in order to seed
its internal pseudo random number generator (PRNG).</p>

<p style="margin-left:11%;"><b>tls_high_cipherlist
(ALL:!EXPORT:!LOW:!MEDIUM:+RC4:@STRENGTH)</b></p>

<p style="margin-left:22%;">The OpenSSL cipherlist for
&quot;HIGH&quot; grade ciphers.</p>

<p style="margin-left:11%;"><b>tls_medium_cipherlist
(ALL:!EXPORT:!LOW:+RC4:@STRENGTH)</b></p>

<p style="margin-left:22%;">The OpenSSL cipherlist for
&quot;MEDIUM&quot; or higher grade ciphers.</p>

<p style="margin-left:11%;"><b>tls_low_cipherlist
(ALL:!EXPORT:+RC4:@STRENGTH)</b></p>

<p style="margin-left:22%;">The OpenSSL cipherlist for
&quot;LOW&quot; or higher grade ciphers.</p>

<p style="margin-left:11%;"><b>tls_export_cipherlist
(ALL:+RC4:@STRENGTH)</b></p>

<p style="margin-left:22%;">The OpenSSL cipherlist for
&quot;EXPORT&quot; or higher grade ciphers.</p>

<p style="margin-left:11%;"><b>tls_null_cipherlist
(eNULL:!aNULL)</b></p>

<p style="margin-left:22%;">The OpenSSL cipherlist for
&quot;NULL&quot; grade ciphers that provide authentication
without encryption.</p>

<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.4 and later: <b><br>
smtp_sasl_tls_verified_security_options <br>
($smtp_sasl_tls_security_options)</b></p>

<p style="margin-left:22%;">The SASL authentication
security options that the Postfix SMTP client uses for TLS
encrypted SMTP sessions with a verified server
certificate.</p>

<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.5 and later: <b><br>
smtp_tls_fingerprint_cert_match (empty)</b></p>

<p style="margin-left:22%;">List of acceptable remote SMTP
server certificate fingerprints for the
&quot;fingerprint&quot; TLS security level
(<b>smtp_tls_security_level</b> = fingerprint).</p>

<p style="margin-left:11%;"><b>smtp_tls_fingerprint_digest
(md5)</b></p>

<p style="margin-left:22%;">The message digest algorithm
used to construct remote SMTP server certificate
fingerprints.</p>

<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.6 and later: <b><br>
smtp_tls_protocols (!SSLv2)</b></p>

<p style="margin-left:22%;">List of TLS protocols that the
Postfix SMTP client will exclude or include with
opportunistic TLS encryption.</p>

<p style="margin-left:11%;"><b>smtp_tls_ciphers
(export)</b></p>

<p style="margin-left:22%;">The minimum TLS cipher grade
that the Postfix SMTP client will use with opportunistic TLS
encryption.</p>

<p style="margin-left:11%;"><b>smtp_tls_eccert_file
(empty)</b></p>

<p style="margin-left:22%;">File with the Postfix SMTP
client ECDSA certificate in PEM format.</p>

<p style="margin-left:11%;"><b>smtp_tls_eckey_file
($smtp_tls_eccert_file)</b></p>

<p style="margin-left:22%;">File with the Postfix SMTP
client ECDSA private key in PEM format.</p>

<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.7 and later: <b><br>
smtp_tls_block_early_mail_reply (no)</b></p>

<p style="margin-left:22%;">Try to detect a mail hijacking
attack based on a TLS protocol vulnerability
(CVE-2009-3555), where an attacker prepends malicious HELO,
MAIL, RCPT, DATA commands to a Postfix SMTP client TLS
session.</p>

<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.8 and later: <b><br>
tls_disable_workarounds (see &rsquo;postconf -d&rsquo;
output)</b></p>

<p style="margin-left:22%;">List or bit-mask of OpenSSL bug
work-arounds to disable.</p>

<h2>OBSOLETE STARTTLS CONTROLS
<a name="OBSOLETE STARTTLS CONTROLS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
configuration parameters exist for compatibility with
Postfix versions before 2.3. Support for these will be
removed in a future release. <b><br>
smtp_use_tls (no)</b></p>

<p style="margin-left:22%;">Opportunistic mode: use TLS
when a remote SMTP server announces STARTTLS support,
otherwise send the mail in the clear.</p>

<p style="margin-left:11%;"><b>smtp_enforce_tls
(no)</b></p>

<p style="margin-left:22%;">Enforcement mode: require that
remote SMTP servers use TLS encryption, and never send mail
in the clear.</p>

<p style="margin-left:11%;"><b>smtp_tls_enforce_peername
(yes)</b></p>

<p style="margin-left:22%;">With mandatory TLS encryption,
require that the remote SMTP server hostname matches the
information in the remote SMTP server certificate.</p>

<p style="margin-left:11%;"><b>smtp_tls_per_site
(empty)</b></p>

<p style="margin-left:22%;">Optional lookup tables with the
Postfix SMTP client TLS usage policy by next-hop destination
and by remote SMTP server hostname.</p>

<p style="margin-left:11%;"><b>smtp_tls_cipherlist
(empty)</b></p>

<p style="margin-left:22%;">Obsolete Postfix &lt; 2.3
control for the Postfix SMTP client TLS cipher list.</p>

<h2>RESOURCE AND RATE CONTROLS
<a name="RESOURCE AND RATE CONTROLS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>smtp_destination_concurrency_limit
<br>
($default_destination_concurrency_limit)</b></p>

<p style="margin-left:22%;">The maximal number of parallel
deliveries to the same destination via the smtp message
delivery transport.</p>


<p style="margin-left:11%;"><b>smtp_destination_recipient_limit
($default_destination_recipient_limit)</b></p>

<p style="margin-left:22%;">The maximal number of
recipients per message for the smtp message delivery
transport.</p>

<p style="margin-left:11%;"><b>smtp_connect_timeout
(30s)</b></p>

<p style="margin-left:22%;">The Postfix SMTP client time
limit for completing a TCP connection, or zero (use the
operating system built-in time limit).</p>

<p style="margin-left:11%;"><b>smtp_helo_timeout
(300s)</b></p>

<p style="margin-left:22%;">The Postfix SMTP client time
limit for sending the HELO or EHLO command, and for
receiving the initial remote SMTP server response.</p>

<p style="margin-left:11%;"><b>lmtp_lhlo_timeout
(300s)</b></p>

<p style="margin-left:22%;">The Postfix LMTP client time
limit for sending the LHLO command, and for receiving the
initial remote LMTP server response.</p>

<p style="margin-left:11%;"><b>smtp_xforward_timeout
(300s)</b></p>

<p style="margin-left:22%;">The Postfix SMTP client time
limit for sending the XFORWARD command, and for receiving
the remote SMTP server response.</p>

<p style="margin-left:11%;"><b>smtp_mail_timeout
(300s)</b></p>

<p style="margin-left:22%;">The Postfix SMTP client time
limit for sending the MAIL FROM command, and for receiving
the remote SMTP server response.</p>

<p style="margin-left:11%;"><b>smtp_rcpt_timeout
(300s)</b></p>

<p style="margin-left:22%;">The Postfix SMTP client time
limit for sending the SMTP RCPT TO command, and for
receiving the remote SMTP server response.</p>

<p style="margin-left:11%;"><b>smtp_data_init_timeout
(120s)</b></p>

<p style="margin-left:22%;">The Postfix SMTP client time
limit for sending the SMTP DATA command, and for receiving
the remote SMTP server response.</p>

<p style="margin-left:11%;"><b>smtp_data_xfer_timeout
(180s)</b></p>

<p style="margin-left:22%;">The Postfix SMTP client time
limit for sending the SMTP message content.</p>

<p style="margin-left:11%;"><b>smtp_data_done_timeout
(600s)</b></p>

<p style="margin-left:22%;">The Postfix SMTP client time
limit for sending the SMTP &quot;.&quot;, and for receiving
the remote SMTP server response.</p>

<p style="margin-left:11%;"><b>smtp_quit_timeout
(300s)</b></p>

<p style="margin-left:22%;">The Postfix SMTP client time
limit for sending the QUIT command, and for receiving the
remote SMTP server response.</p>

<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.1 and later: <b><br>
smtp_mx_address_limit (5)</b></p>

<p style="margin-left:22%;">The maximal number of MX (mail
exchanger) IP addresses that can result from Postfix SMTP
client mail exchanger lookups, or zero (no limit).</p>

<p style="margin-left:11%;"><b>smtp_mx_session_limit
(2)</b></p>

<p style="margin-left:22%;">The maximal number of SMTP
sessions per delivery request before the Postfix SMTP client
gives up or delivers to a fall-back relay host, or zero (no
limit).</p>

<p style="margin-left:11%;"><b>smtp_rset_timeout
(20s)</b></p>

<p style="margin-left:22%;">The Postfix SMTP client time
limit for sending the RSET command, and for receiving the
remote SMTP server response.</p>

<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.2 and earlier: <b><br>
lmtp_cache_connection (yes)</b></p>

<p style="margin-left:22%;">Keep Postfix LMTP client
connections open for up to $max_idle seconds.</p>

<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.2 and later: <b><br>
smtp_connection_cache_destinations (empty)</b></p>

<p style="margin-left:22%;">Permanently enable SMTP
connection caching for the specified destinations.</p>


<p style="margin-left:11%;"><b>smtp_connection_cache_on_demand
(yes)</b></p>

<p style="margin-left:22%;">Temporarily enable SMTP
connection caching while a destination has a high volume of
mail in the active queue.</p>


<p style="margin-left:11%;"><b>smtp_connection_reuse_time_limit
(300s)</b></p>

<p style="margin-left:22%;">The amount of time during which
Postfix will use an SMTP connection repeatedly.</p>


<p style="margin-left:11%;"><b>smtp_connection_cache_time_limit
(2s)</b></p>

<p style="margin-left:22%;">When SMTP connection caching is
enabled, the amount of time that an unused SMTP client
socket is kept open before it is closed.</p>

<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.3 and later: <b><br>
connection_cache_protocol_timeout (5s)</b></p>

<p style="margin-left:22%;">Time limit for connection cache
connect, send or receive operations.</p>

<p style="margin-left:11%; margin-top: 1em">Available in
Postfix version 2.9 and later: <b><br>
smtp_per_record_deadline (no)</b></p>

<p style="margin-left:22%;">Change the behavior of the
smtp_*_timeout time limits, from a time limit per read or
write system call, to a time limit to send or receive a
complete record (an SMTP command line, SMTP response line,
SMTP message content line, or TLS protocol message).</p>

<h2>TROUBLE SHOOTING CONTROLS
<a name="TROUBLE SHOOTING CONTROLS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>debug_peer_level
(2)</b></p>

<p style="margin-left:22%;">The increment in verbose
logging level when a remote client or server matches a
pattern in the debug_peer_list parameter.</p>

<p style="margin-left:11%;"><b>debug_peer_list
(empty)</b></p>

<p style="margin-left:22%;">Optional list of remote client
or server hostname or network address patterns that cause
the verbose logging level to increase by the amount
specified in $debug_peer_level.</p>

<p style="margin-left:11%;"><b>error_notice_recipient
(postmaster)</b></p>

<p style="margin-left:22%;">The recipient of postmaster
notifications about mail delivery problems that are caused
by policy, resource, software or protocol errors.</p>


<p style="margin-left:11%;"><b>internal_mail_filter_classes
(empty)</b></p>

<p style="margin-left:22%;">What categories of
Postfix-generated mail are subject to before-queue content
inspection by non_smtpd_milters, header_checks and
body_checks.</p>

<p style="margin-left:11%;"><b>notify_classes (resource,
software)</b></p>

<p style="margin-left:22%;">The list of error classes that
are reported to the postmaster.</p>

<h2>MISCELLANEOUS CONTROLS
<a name="MISCELLANEOUS CONTROLS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>best_mx_transport
(empty)</b></p>

<p style="margin-left:22%;">Where the Postfix SMTP client
should deliver mail when it detects a &quot;mail loops back
to myself&quot; error condition.</p>

<p style="margin-left:11%;"><b>config_directory (see
&rsquo;postconf -d&rsquo; output)</b></p>

<p style="margin-left:22%;">The default location of the
Postfix main.cf and master.cf configuration files.</p>

<p style="margin-left:11%;"><b>daemon_timeout
(18000s)</b></p>

<p style="margin-left:22%;">How much time a Postfix daemon
process may take to handle a request before it is terminated
by a built-in watchdog timer.</p>


<p style="margin-left:11%;"><b>delay_logging_resolution_limit
(2)</b></p>

<p style="margin-left:22%;">The maximal number of digits
after the decimal point when logging sub-second delay
values.</p>

<p style="margin-left:11%;"><b>disable_dns_lookups
(no)</b></p>

<p style="margin-left:22%;">Disable DNS lookups in the
Postfix SMTP and LMTP clients.</p>

<p style="margin-left:11%;"><b>inet_interfaces
(all)</b></p>

<p style="margin-left:22%;">The network interface addresses
that this mail system receives mail on.</p>

<p style="margin-left:11%;"><b>inet_protocols (all)</b></p>

<p style="margin-left:22%;">The Internet protocols Postfix
will attempt to use when making or accepting
connections.</p>

<p style="margin-left:11%;"><b>ipc_timeout (3600s)</b></p>

<p style="margin-left:22%;">The time limit for sending or
receiving information over an internal communication
channel.</p>

<p style="margin-left:11%;"><b>lmtp_assume_final
(no)</b></p>

<p style="margin-left:22%;">When a remote LMTP server
announces no DSN support, assume that the server performs
final delivery, and send &quot;delivered&quot; delivery
status notifications instead of &quot;relayed&quot;.</p>

<p style="margin-left:11%;"><b>lmtp_tcp_port (24)</b></p>

<p style="margin-left:22%;">The default TCP port that the
Postfix LMTP client connects to.</p>

<p style="margin-left:11%;"><b>max_idle (100s)</b></p>

<p style="margin-left:22%;">The maximum amount of time that
an idle Postfix daemon process waits for an incoming
connection before terminating voluntarily.</p>

<p style="margin-left:11%;"><b>max_use (100)</b></p>

<p style="margin-left:22%;">The maximal number of incoming
connections that a Postfix daemon process will service
before terminating voluntarily.</p>

<p style="margin-left:11%;"><b>process_id
(read-only)</b></p>

<p style="margin-left:22%;">The process ID of a Postfix
command or daemon process.</p>

<p style="margin-left:11%;"><b>process_name
(read-only)</b></p>

<p style="margin-left:22%;">The process name of a Postfix
command or daemon process.</p>

<p style="margin-left:11%;"><b>proxy_interfaces
(empty)</b></p>

<p style="margin-left:22%;">The network interface addresses
that this mail system receives mail on by way of a proxy or
network address translation unit.</p>

<p style="margin-left:11%;"><b>smtp_address_preference
(any)</b></p>

<p style="margin-left:22%;">The address type
(&quot;ipv6&quot;, &quot;ipv4&quot; or &quot;any&quot;) that
the Postfix SMTP client will try first, when a destination
has IPv6 and IPv4 addresses with equal MX preference.</p>

<p style="margin-left:11%;"><b>smtp_bind_address
(empty)</b></p>

<p style="margin-left:22%;">An optional numerical network
address that the Postfix SMTP client should bind to when
making an IPv4 connection.</p>

<p style="margin-left:11%;"><b>smtp_bind_address6
(empty)</b></p>

<p style="margin-left:22%;">An optional numerical network
address that the Postfix SMTP client should bind to when
making an IPv6 connection.</p>

<p style="margin-left:11%;"><b>smtp_helo_name
($myhostname)</b></p>

<p style="margin-left:22%;">The hostname to send in the
SMTP EHLO or HELO command.</p>

<p style="margin-left:11%;"><b>lmtp_lhlo_name
($myhostname)</b></p>

<p style="margin-left:22%;">The hostname to send in the
LMTP LHLO command.</p>

<p style="margin-left:11%;"><b>smtp_host_lookup
(dns)</b></p>

<p style="margin-left:22%;">What mechanisms the Postfix
SMTP client uses to look up a host&rsquo;s IP address.</p>

<p style="margin-left:11%;"><b>smtp_randomize_addresses
(yes)</b></p>

<p style="margin-left:22%;">Randomize the order of
equal-preference MX host addresses.</p>

<p style="margin-left:11%;"><b>syslog_facility
(mail)</b></p>

<p style="margin-left:22%;">The syslog facility of Postfix
logging.</p>

<p style="margin-left:11%;"><b>syslog_name (see
&rsquo;postconf -d&rsquo; output)</b></p>

<p style="margin-left:22%;">The mail system name that is
prepended to the process name in syslog records, so that
&quot;smtpd&quot; becomes, for example,
&quot;postfix/smtpd&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Available with
Postfix 2.2 and earlier: <b><br>
fallback_relay (empty)</b></p>

<p style="margin-left:22%;">Optional list of relay hosts
for SMTP destinations that can&rsquo;t be found or that are
unreachable.</p>

<p style="margin-left:11%; margin-top: 1em">Available with
Postfix 2.3 and later: <b><br>
smtp_fallback_relay ($fallback_relay)</b></p>

<p style="margin-left:22%;">Optional list of relay hosts
for SMTP destinations that can&rsquo;t be found or that are
unreachable.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">generic(5),
output address rewriting <br>
header_checks(5), message header content inspection <br>
body_checks(5), body parts content inspection <br>
qmgr(8), queue manager <br>
bounce(8), delivery status reports <br>
scache(8), connection cache server <br>
postconf(5), configuration parameters <br>
master(5), generic daemon options <br>
master(8), process manager <br>
tlsmgr(8), TLS session and PRNG management <br>
syslogd(8), system logging</p>

<h2>README FILES
<a name="README FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Use
&quot;<b>postconf readme_directory</b>&quot; or
&quot;<b>postconf html_directory</b>&quot; to locate this
information. <br>
SASL_README, Postfix SASL howto <br>
TLS_README, Postfix STARTTLS howto</p>

<h2>LICENSE
<a name="LICENSE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The Secure
Mailer license must be distributed with this software.</p>

<h2>AUTHOR(S)
<a name="AUTHOR(S)"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Wietse Venema
<br>
IBM T.J. Watson Research <br>
P.O. Box 704 <br>
Yorktown Heights, NY 10598, USA</p>

<p style="margin-left:11%; margin-top: 1em">Command
pipelining in cooperation with: <br>
Jon Ribbens <br>
Oaktree Internet Solutions Ltd., <br>
Internet House, <br>
Canal Basin, <br>
Coventry, <br>
CV1 4LY, United Kingdom.</p>

<p style="margin-left:11%; margin-top: 1em">SASL support
originally by: <br>
Till Franke <br>
SuSE Rhein/Main AG <br>
65760 Eschborn, Germany</p>

<p style="margin-left:11%; margin-top: 1em">TLS support
originally by: <br>
Lutz Jaenicke <br>
BTU Cottbus <br>
Allgemeine Elektrotechnik <br>
Universitaetsplatz 3-4 <br>
D-03044 Cottbus, Germany</p>

<p style="margin-left:11%; margin-top: 1em">Revised TLS and
SMTP connection cache support by: <br>
Victor Duchovni <br>
Morgan Stanley</p>
<hr>
</body>
</html>
