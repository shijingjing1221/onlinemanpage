<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 02:09:10 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PMTRIMNAMESPACE</title>

</head>
<body>

<h1 align="center">PMTRIMNAMESPACE</h1>

<a href="#NAME">NAME</a><br>
<a href="#C SYNOPSIS">C SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#DIAGNOSTICS">DIAGNOSTICS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pmTrimNameSpace</b>
&minus; prune a performance metrics name space</p>

<h2>C SYNOPSIS
<a name="C SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;pcp/pmapi.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
pmTrimNameSpace(void);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>cc ...
&minus;lpcp</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If the current
Performance Metrics Application Programming Interface
(PMAPI) context corresponds to a version 1 archive log of
Performance Co-Pilot (PCP) performance metrics (as collected
by <b>pmlogger</b>(1) <b>-V1</b>), then the currently loaded
Performance Metrics Name Space (PMNS), is trimmed to exclude
metrics for which no description can be found in the
archive. The PMNS is further trimmed to remove empty
subtrees that do not contain any performance metric.</p>

<p style="margin-left:11%; margin-top: 1em">Since PCP
archives usually contain some subset of all metrics named in
the default PMNS, <b>pmTrimNameSpace</b> effectively trims
the application&rsquo;s PMNS to contain only the names of
the metrics in the archive.</p>

<p style="margin-left:11%; margin-top: 1em">Since PCP 2.0,
<b>pmTrimNameSpace</b> is only needed for dealing with
version 1 archives. Version 2 archives actually store the
&quot;trimmed&quot; PMNS.</p>

<p style="margin-left:11%; margin-top: 1em">Prior to any
trimming, the PMNS is restored to the state as of the
completion of the last <b>pmLoadASCIINameSpace</b>(3) or
<b>pmLoadNameSpace</b>(3), so the effects of consecutive
calls to <b>pmTrimNameSpace</b> with archive contexts are
<b>not</b> additive.</p>

<p style="margin-left:11%; margin-top: 1em">If the current
PMAPI context corresponds to a host and a
<b>pmLoadASCIINameSpace</b>(3) or <b>pmLoadNameSpace</b>(3)
call was made, then the PMNS reverts to all names loaded
into the PMNS at the completion of the last
<b>pmLoadASCIINameSpace</b>(3) or <b>pmLoadNameSpace</b>(3),
i.e. any trimming is undone.</p>

<p style="margin-left:11%; margin-top: 1em">On success,
<b>pmTrimNameSpace</b> returns zero.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pmlogger</b>(1),
<b>PMAPI</b>(3), <b>pmLoadASCIINameSpace</b>(3),
<b>pmLoadNameSpace</b>(3), <b>pmNewContext</b>(3) and
<b>pmns</b>(5).</p>

<h2>DIAGNOSTICS
<a name="DIAGNOSTICS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>PM_ERR_NOPMNS</b></p>

<p style="margin-left:22%;">you must have loaded a PMNS
using <b>pmLoadASCIINameSpace</b>(3) or
<b>pmLoadNameSpace</b>(3) before calling
<b>pmTrimNameSpace</b></p>

<p style="margin-left:11%;"><b>PM_ERR_NOCONTEXT</b></p>

<p style="margin-left:22%;">the current PMAPI context is
invalid</p>
<hr>
</body>
</html>
