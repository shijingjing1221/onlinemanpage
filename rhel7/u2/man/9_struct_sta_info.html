<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 02:28:25 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>STRUCT STA_INFO</title>

</head>
<body>

<h1 align="center">STRUCT STA_INFO</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#MEMBERS">MEMBERS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">struct_sta_info
&minus; STA information</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">struct sta_info
{ <br>
struct list_head list; <br>
struct list_head free_list; <br>
struct rcu_head rcu_head; <br>
struct rhash_head hash_node; <br>
struct ieee80211_local * local; <br>
struct ieee80211_sub_if_data * sdata; <br>
struct ieee80211_key __rcu * gtk[NUM_DEFAULT_KEYS +
NUM_DEFAULT_MGMT_KEYS]; <br>
struct ieee80211_key __rcu * ptk[NUM_DEFAULT_KEYS]; <br>
u8 gtk_idx; <br>
u8 ptk_idx; <br>
struct rate_control_ref * rate_ctrl; <br>
void * rate_ctrl_priv; <br>
spinlock_t lock; <br>
struct work_struct drv_deliver_wk; <br>
u16 listen_interval; <br>
bool dead; <br>
bool uploaded; <br>
enum ieee80211_sta_state sta_state; <br>
unsigned long _flags; <br>
spinlock_t ps_lock; <br>
struct sk_buff_head ps_tx_buf[IEEE80211_NUM_ACS]; <br>
struct sk_buff_head tx_filtered[IEEE80211_NUM_ACS]; <br>
unsigned long driver_buffered_tids; <br>
unsigned long txq_buffered_tids; <br>
unsigned long rx_packets; <br>
u64 rx_bytes; <br>
unsigned long last_rx; <br>
long last_connected; <br>
unsigned long num_duplicates; <br>
unsigned long rx_fragments; <br>
unsigned long rx_dropped; <br>
int last_signal; <br>
struct ewma avg_signal; <br>
int last_ack_signal; <br>
u8 chains; <br>
s8 chain_signal_last[IEEE80211_MAX_CHAINS]; <br>
struct ewma chain_signal_avg[IEEE80211_MAX_CHAINS]; <br>
__le16 last_seq_ctrl[IEEE80211_NUM_TIDS + 1]; <br>
unsigned long tx_filtered_count; <br>
unsigned long tx_retry_failed; <br>
unsigned long tx_retry_count; <br>
unsigned int fail_avg; <br>
u32 tx_fragments; <br>
u64 tx_packets[IEEE80211_NUM_ACS]; <br>
u64 tx_bytes[IEEE80211_NUM_ACS]; <br>
struct ieee80211_tx_rate last_tx_rate; <br>
int last_rx_rate_idx; <br>
u32 last_rx_rate_flag; <br>
u32 last_rx_rate_vht_flag; <br>
u8 last_rx_rate_vht_nss; <br>
u16 tid_seq[IEEE80211_QOS_CTL_TID_MASK + 1]; <br>
u64 tx_msdu[IEEE80211_NUM_TIDS + 1]; <br>
u64 tx_msdu_retries[IEEE80211_NUM_TIDS + 1]; <br>
u64 tx_msdu_failed[IEEE80211_NUM_TIDS + 1]; <br>
u64 rx_msdu[IEEE80211_NUM_TIDS + 1]; <br>
struct sta_ampdu_mlme ampdu_mlme; <br>
u8 timer_to_tid[IEEE80211_NUM_TIDS]; <br>
#ifdef CONFIG_MAC80211_MESH <br>
u16 llid; <br>
u16 plid; <br>
u16 reason; <br>
u8 plink_retries; <br>
enum nl80211_plink_state plink_state; <br>
u32 plink_timeout; <br>
struct timer_list plink_timer; <br>
s64 t_offset; <br>
s64 t_offset_setpoint; <br>
enum nl80211_mesh_power_mode local_pm; <br>
enum nl80211_mesh_power_mode peer_pm; <br>
enum nl80211_mesh_power_mode nonpeer_pm; <br>
#endif <br>
#ifdef CONFIG_MAC80211_DEBUGFS <br>
struct sta_info_debugfsdentries debugfs; <br>
#endif <br>
enum ieee80211_sta_rx_bandwidth cur_max_bandwidth; <br>
unsigned int lost_packets; <br>
unsigned int beacon_loss_count; <br>
enum ieee80211_smps_mode known_smps_mode; <br>
const struct ieee80211_cipher_scheme * cipher_scheme; <br>
unsigned long last_tdls_pkt_time; <br>
u8 reserved_tid; <br>
struct ieee80211_sta sta; <br>
};</p>

<h2>MEMBERS
<a name="MEMBERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">list</p>

<p style="margin-left:17%;">global linked list entry</p>

<p style="margin-left:11%; margin-top: 1em">free_list</p>

<p style="margin-left:17%;">list entry for keeping track of
stations to free</p>

<p style="margin-left:11%; margin-top: 1em">rcu_head</p>

<p style="margin-left:17%;">RCU head used for freeing this
station struct</p>

<p style="margin-left:11%; margin-top: 1em">hash_node</p>

<p style="margin-left:17%;">hash node for rhashtable</p>

<p style="margin-left:11%; margin-top: 1em">local</p>

<p style="margin-left:17%;">pointer to the global
information</p>

<p style="margin-left:11%; margin-top: 1em">sdata</p>

<p style="margin-left:17%;">virtual interface this station
belongs to</p>


<p style="margin-left:11%; margin-top: 1em">gtk[NUM_DEFAULT_KEYS
+ NUM_DEFAULT_MGMT_KEYS]</p>

<p style="margin-left:17%;">group keys negotiated with this
station, if any</p>


<p style="margin-left:11%; margin-top: 1em">ptk[NUM_DEFAULT_KEYS]</p>

<p style="margin-left:17%;">peer keys negotiated with this
station, if any</p>

<p style="margin-left:11%; margin-top: 1em">gtk_idx</p>

<p style="margin-left:17%;">last installed group key
index</p>

<p style="margin-left:11%; margin-top: 1em">ptk_idx</p>

<p style="margin-left:17%;">last installed peer key
index</p>

<p style="margin-left:11%; margin-top: 1em">rate_ctrl</p>

<p style="margin-left:17%;">rate control algorithm
reference</p>


<p style="margin-left:11%; margin-top: 1em">rate_ctrl_priv</p>

<p style="margin-left:17%;">rate control private
per&minus;STA pointer</p>

<p style="margin-left:11%; margin-top: 1em">lock</p>

<p style="margin-left:17%;">used for locking all fields
that require locking, see comments in the header file.</p>


<p style="margin-left:11%; margin-top: 1em">drv_deliver_wk</p>

<p style="margin-left:17%;">used for delivering frames
after driver PS unblocking</p>


<p style="margin-left:11%; margin-top: 1em">listen_interval</p>

<p style="margin-left:17%;">listen interval of this
station, when we're acting as AP</p>

<p style="margin-left:11%; margin-top: 1em">dead</p>

<p style="margin-left:17%;">set to true when sta is
unlinked</p>

<p style="margin-left:11%; margin-top: 1em">uploaded</p>

<p style="margin-left:17%;">set to true when sta is
uploaded to the driver</p>

<p style="margin-left:11%; margin-top: 1em">sta_state</p>

<p style="margin-left:17%;">duplicates information about
station state (for debug)</p>

<p style="margin-left:11%; margin-top: 1em">_flags</p>

<p style="margin-left:17%;">STA flags, see enum
ieee80211_sta_info_flags, do not use directly</p>

<p style="margin-left:11%; margin-top: 1em">ps_lock</p>

<p style="margin-left:17%;">used for powersave (when
mac80211 is the AP) related locking</p>


<p style="margin-left:11%; margin-top: 1em">ps_tx_buf[IEEE80211_NUM_ACS]</p>

<p style="margin-left:17%;">buffers (per AC) of frames to
transmit to this station when it leaves power saving state
or polls</p>


<p style="margin-left:11%; margin-top: 1em">tx_filtered[IEEE80211_NUM_ACS]</p>

<p style="margin-left:17%;">buffers (per AC) of frames we
already tried to transmit but were filtered by hardware due
to STA having entered power saving state, these are also
delivered to the station when it leaves powersave or polls
for frames</p>


<p style="margin-left:11%; margin-top: 1em">driver_buffered_tids</p>

<p style="margin-left:17%;">bitmap of TIDs the driver has
data buffered on</p>


<p style="margin-left:11%; margin-top: 1em">txq_buffered_tids</p>

<p style="margin-left:17%;">bitmap of TIDs that mac80211
has txq data buffered on</p>

<p style="margin-left:11%; margin-top: 1em">rx_packets</p>

<p style="margin-left:17%;">Number of MSDUs received from
this STA</p>

<p style="margin-left:11%; margin-top: 1em">rx_bytes</p>

<p style="margin-left:17%;">Number of bytes received from
this STA</p>

<p style="margin-left:11%; margin-top: 1em">last_rx</p>

<p style="margin-left:17%;">time (in jiffies) when last
frame was received from this STA</p>


<p style="margin-left:11%; margin-top: 1em">last_connected</p>

<p style="margin-left:17%;">time (in seconds) when a
station got connected</p>


<p style="margin-left:11%; margin-top: 1em">num_duplicates</p>

<p style="margin-left:17%;">number of duplicate frames
received from this STA</p>


<p style="margin-left:11%; margin-top: 1em">rx_fragments</p>

<p style="margin-left:17%;">number of received MPDUs</p>

<p style="margin-left:11%; margin-top: 1em">rx_dropped</p>

<p style="margin-left:17%;">number of dropped MPDUs from
this STA</p>


<p style="margin-left:11%; margin-top: 1em">last_signal</p>

<p style="margin-left:17%;">signal of last received frame
from this STA</p>

<p style="margin-left:11%; margin-top: 1em">avg_signal</p>

<p style="margin-left:17%;">moving average of signal of
received frames from this STA</p>


<p style="margin-left:11%; margin-top: 1em">last_ack_signal</p>

<p style="margin-left:17%;">signal of last received Ack
frame from this STA</p>

<p style="margin-left:11%; margin-top: 1em">chains</p>

<p style="margin-left:17%;">chains ever used for RX from
this station</p>


<p style="margin-left:11%; margin-top: 1em">chain_signal_last[IEEE80211_MAX_CHAINS]</p>

<p style="margin-left:17%;">last signal (per chain)</p>


<p style="margin-left:11%; margin-top: 1em">chain_signal_avg[IEEE80211_MAX_CHAINS]</p>

<p style="margin-left:17%;">signal average (per chain)</p>


<p style="margin-left:11%; margin-top: 1em">last_seq_ctrl[IEEE80211_NUM_TIDS
+ 1]</p>

<p style="margin-left:17%;">last received seq/frag number
from this STA (per RX queue)</p>


<p style="margin-left:11%; margin-top: 1em">tx_filtered_count</p>

<p style="margin-left:17%;">number of frames the hardware
filtered for this STA</p>


<p style="margin-left:11%; margin-top: 1em">tx_retry_failed</p>

<p style="margin-left:17%;">number of frames that failed
retry</p>


<p style="margin-left:11%; margin-top: 1em">tx_retry_count</p>

<p style="margin-left:17%;">total number of retries for
frames to this STA</p>

<p style="margin-left:11%; margin-top: 1em">fail_avg</p>

<p style="margin-left:17%;">moving percentage of failed
MSDUs</p>


<p style="margin-left:11%; margin-top: 1em">tx_fragments</p>

<p style="margin-left:17%;">number of transmitted MPDUs</p>


<p style="margin-left:11%; margin-top: 1em">tx_packets[IEEE80211_NUM_ACS]</p>

<p style="margin-left:17%;">number of RX/TX MSDUs</p>


<p style="margin-left:11%; margin-top: 1em">tx_bytes[IEEE80211_NUM_ACS]</p>

<p style="margin-left:17%;">number of bytes transmitted to
this STA</p>


<p style="margin-left:11%; margin-top: 1em">last_tx_rate</p>

<p style="margin-left:17%;">rate used for last transmit, to
report to userspace as &ldquo;the&rdquo; transmit rate</p>


<p style="margin-left:11%; margin-top: 1em">last_rx_rate_idx</p>

<p style="margin-left:17%;">rx status rate index of the
last data packet</p>


<p style="margin-left:11%; margin-top: 1em">last_rx_rate_flag</p>

<p style="margin-left:17%;">rx status flag of the last data
packet</p>


<p style="margin-left:11%; margin-top: 1em">last_rx_rate_vht_flag</p>

<p style="margin-left:17%;">rx status vht flag of the last
data packet</p>


<p style="margin-left:11%; margin-top: 1em">last_rx_rate_vht_nss</p>

<p style="margin-left:17%;">rx status nss of last data
packet</p>


<p style="margin-left:11%; margin-top: 1em">tid_seq[IEEE80211_QOS_CTL_TID_MASK
+ 1]</p>

<p style="margin-left:17%;">per&minus;TID sequence numbers
for sending to this STA</p>


<p style="margin-left:11%; margin-top: 1em">tx_msdu[IEEE80211_NUM_TIDS
+ 1]</p>

<p style="margin-left:17%;">MSDUs transmitted to this
station, using IEEE80211_NUM_TID entry for non&minus;QoS
frames</p>


<p style="margin-left:11%; margin-top: 1em">tx_msdu_retries[IEEE80211_NUM_TIDS
+ 1]</p>

<p style="margin-left:17%;">MSDU retries for transmissions
to to this station, using IEEE80211_NUM_TID entry for
non&minus;QoS frames</p>


<p style="margin-left:11%; margin-top: 1em">tx_msdu_failed[IEEE80211_NUM_TIDS
+ 1]</p>

<p style="margin-left:17%;">MSDU failures for transmissions
to to this station, using IEEE80211_NUM_TID entry for
non&minus;QoS frames</p>


<p style="margin-left:11%; margin-top: 1em">rx_msdu[IEEE80211_NUM_TIDS
+ 1]</p>

<p style="margin-left:17%;">MSDUs received from this
station, using IEEE80211_NUM_TID entry for non&minus;QoS
frames</p>

<p style="margin-left:11%; margin-top: 1em">ampdu_mlme</p>

<p style="margin-left:17%;">A&minus;MPDU state machine
state</p>


<p style="margin-left:11%; margin-top: 1em">timer_to_tid[IEEE80211_NUM_TIDS]</p>

<p style="margin-left:17%;">identity mapping to ID
timers</p>

<p style="margin-left:11%; margin-top: 1em">llid</p>

<p style="margin-left:17%;">Local link ID</p>

<p style="margin-left:11%; margin-top: 1em">plid</p>

<p style="margin-left:17%;">Peer link ID</p>

<p style="margin-left:11%; margin-top: 1em">reason</p>

<p style="margin-left:17%;">Cancel reason on PLINK_HOLDING
state</p>


<p style="margin-left:11%; margin-top: 1em">plink_retries</p>

<p style="margin-left:17%;">Retries in establishment</p>


<p style="margin-left:11%; margin-top: 1em">plink_state</p>

<p style="margin-left:17%;">peer link state</p>


<p style="margin-left:11%; margin-top: 1em">plink_timeout</p>

<p style="margin-left:17%;">timeout of peer link</p>


<p style="margin-left:11%; margin-top: 1em">plink_timer</p>

<p style="margin-left:17%;">peer link watch timer</p>

<p style="margin-left:11%; margin-top: 1em">t_offset</p>

<p style="margin-left:17%;">timing offset relative to this
host</p>


<p style="margin-left:11%; margin-top: 1em">t_offset_setpoint</p>

<p style="margin-left:17%;">reference timing offset of this
sta to be used when calculating clockdrift</p>

<p style="margin-left:11%; margin-top: 1em">local_pm</p>

<p style="margin-left:17%;">local link&minus;specific power
save mode</p>

<p style="margin-left:11%; margin-top: 1em">peer_pm</p>

<p style="margin-left:17%;">peer&minus;specific power save
mode towards local STA</p>

<p style="margin-left:11%; margin-top: 1em">nonpeer_pm</p>

<p style="margin-left:17%;">STA power save mode towards
non&minus;peer neighbors</p>

<p style="margin-left:11%; margin-top: 1em">debugfs</p>

<p style="margin-left:17%;">debug filesystem info</p>


<p style="margin-left:11%; margin-top: 1em">cur_max_bandwidth</p>

<p style="margin-left:17%;">maximum bandwidth to use for TX
to the station, taken from HT/VHT capabilities or VHT
operating mode notification</p>


<p style="margin-left:11%; margin-top: 1em">lost_packets</p>

<p style="margin-left:17%;">number of consecutive lost
packets</p>


<p style="margin-left:11%; margin-top: 1em">beacon_loss_count</p>

<p style="margin-left:17%;">number of times beacon loss has
triggered</p>


<p style="margin-left:11%; margin-top: 1em">known_smps_mode</p>

<p style="margin-left:17%;">the smps_mode the client thinks
we are in. Relevant for AP only.</p>


<p style="margin-left:11%; margin-top: 1em">cipher_scheme</p>

<p style="margin-left:17%;">optional cipher scheme for this
station</p>


<p style="margin-left:11%; margin-top: 1em">last_tdls_pkt_time</p>

<p style="margin-left:17%;">holds the time in jiffies of
last TDLS pkt ACKed</p>


<p style="margin-left:11%; margin-top: 1em">reserved_tid</p>

<p style="margin-left:17%;">reserved TID (if any, otherwise
IEEE80211_TID_UNRESERVED)</p>

<p style="margin-left:11%; margin-top: 1em">sta</p>

<p style="margin-left:17%;">station information we share
with the driver</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This structure
collects information about a station that mac80211 is
communicating with.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Johannes
Berg</b> &lt;johannes@sipsolutions.net&gt;</p>

<p style="margin-left:17%;">Author.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>
<hr>
</body>
</html>
