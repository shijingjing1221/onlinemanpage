<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 01:58:40 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>mcelog.triggers</title>

</head>
<body>

<h1 align="center">mcelog.triggers</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">mcelog.triggers
&minus; mcelog trigger scripts reference</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>/etc/mcelog/bus-error-trigger
<br>
/etc/mcelog/cache-error-trigger <br>
/etc/mcelog/dimm-error-trigger <br>
/etc/mcelog/iomca-error-trigger <br>
/etc/mcelog/page-error-trigger <br>
/etc/mcelog/socket-memory-error-trigger <br>
/etc/mcelog/unknown-error-trigger</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>mcelog(8)</b>
maintains thresholds of errors using a <i>leaky-bucket</i>
algorithm. When the number of errors in a specific time
window exceeds a pre-configured threshold a <i>trigger</i>
will be executed. Triggers are usually shell scripts in the
<b>/etc/mcelog</b> directory but can be also other internal
actions. Thresholds and triggers can be configured in
<b>mcelog.conf(5)</b></p>

<p style="margin-left:11%; margin-top: 1em">Trigger will
run as the user configured for mcelog in <i>mcelog.conf,</i>
by default root. The default trigger action can be
overridden by specifying a different trigger script in the
configuration file. Actions in addition to the default
trigger (like notifying an administrator) can be put into
the respective <i>/etc/mcelog/*.local</i> script which is
executed after the default action. This allows updating the
default scripts without overriding local actions. All
trigger actions are also logged to syslog.</p>

<p style="margin-left:11%; margin-top: 1em"><b>The DIMM and
socket memory error triggers</b></p>

<p style="margin-left:11%; margin-top: 1em">The
<b>/etc/mcelog/dimm-error-trigger</b> and
<b>/etc/mcelog/socket-memory-error-trigger</b> scripts are
executed when a DIMM or a CPU socket exceeds a configured
corrected or uncorrected memory error threshold. The
thresholds are configured in the <b>mcelog.conf</b>
<i>[dimm]</i> and <i>[socket]</i> sections. The default
triggers log a warning message in the system log. The
triggers are only executed when mcelog runs as a daemon.</p>

<p style="margin-left:11%; margin-top: 1em">Arguments are
passed as environment variables</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-235691.png" alt="Image grohtml-235691.png"></p>

<p style="margin-left:11%; margin-top: 1em">After the
default action local actions in
<b>/etc/mcelog/dimm-error-trigger.local</b> or respective
<b>/etc/mcelog/socket-memory-error-trigger.local</b> are
executed.</p>

<p style="margin-left:11%; margin-top: 1em"><b>The page
error trigger</b></p>

<p style="margin-left:11%; margin-top: 1em">The
<b>/etc/mcelog/page-error-trigger</b> script is executed by
mcelog in daemon mode when a page in memory exceeds a
pre-configured corrected or uncorrected error threshold.
mcelog internally also implements offlining the page through
the kernel. This is configured through the <i>[page]</i>
section of <b>mcelog.conf(5)</b></p>

<p style="margin-left:11%; margin-top: 1em">The environment
arguments are the same as for the <i>dimm-error-trigger</i>
script</p>

<p style="margin-left:11%; margin-top: 1em">After the
default action local actions in
<i>/etc/mcelog/page-error-trigger.loccal are
executed.</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>The cache
error trigger</b></p>

<p style="margin-left:11%; margin-top: 1em">The
<i>/etc/mcelog/cache-error-trigger</i> shell script is
called for cache error handling in daemon mode when a CPU
reports excessive corrected cache errors. This could be a
indication for future uncorrected errors.</p>

<p style="margin-left:11%; margin-top: 1em">This trigger is
configured through the <b>[cache]</b> section in the
<b>mcelog.conf(5)</b> configuration file. The threshold is
defined by the CPU. The default trigger offlines the
affected CPU cores, unless it is the last core running.</p>

<p style="margin-left:11%; margin-top: 1em">Arguments are
passed as environment variables</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-235692.png" alt="Image grohtml-235692.png"></p>

<p style="margin-left:11%; margin-top: 1em">After the
default action local actions in
<i>/etc/mcelog/cache-error-trigger.local are
executed.</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>The
bus-uc-threshold-trigger</b></p>

<p style="margin-left:11%; margin-top: 1em">The
<b>bus-uc-threshold-trigger</b> runs on uncorrected errors
on a IO bus. It is configured through the
<b>bus-uc-threshold-trigger</b> and
<b>bus-uc-threshold-trigger-threshold</b> options in
<i>/etc/mcelog.conf(5).</i> By default it logs a message
with the error location to the system log. After the default
action local actions in
<i>/etc/mcelog/bus-uc-error-trigger.local</i> are
executed.</p>

<p style="margin-left:11%; margin-top: 1em">Arguments are
passed as environment variables</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-235693.png" alt="Image grohtml-235693.png"></p>

<p style="margin-left:11%; margin-top: 1em"><b>The
iomca-error-trigger</b></p>

<p style="margin-left:11%; margin-top: 1em">The
<b>iomca-error-trigger</b> runs when a socket receives bus
or interconnect errors. It is configured through the
<b>iomca-error-trigger</b> and
<b>iomca-error-trigger-threshold</b> options in
<i>/etc/mcelog.conf. By default it logs a message with the
error location to the system log.</i> After the default
action local actions in
<i>/etc/mcelog/iomca-error-trigger.local are
executed.</i></p>

<p style="margin-left:11%; margin-top: 1em">Arguments are
passed as environment variables</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-235694.png" alt="Image grohtml-235694.png"></p>

<p style="margin-left:11%; margin-top: 1em"><b>The
unknown-error-trigger</b></p>

<p style="margin-left:11%; margin-top: 1em">The
<b>unknown-error-trigger</b> runs on any errors not
otherwise categorized. It is configured through the
<b>unknown-error-trigger</b> and
<b>unknown-error-trigger-threshold</b> options in
<i>/etc/mcelog.conf.</i> By default it logs a message to the
system log. After the default action local actions in
<i>/etc/mcelog/unknown-error-trigger.local</i> are
executed.</p>

<p style="margin-left:11%; margin-top: 1em">Arguments are
passed as environment variables</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-235695.png" alt="Image grohtml-235695.png"></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">http://www.mcelog.org</p>

<p style="margin-left:11%; margin-top: 1em"><b>mcelog(8),
mcelog.conf(5)</b></p>
<hr>
</body>
</html>
