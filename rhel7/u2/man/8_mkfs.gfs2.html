<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 01:59:19 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>mkfs.gfs2</title>

</head>
<body>

<h1 align="center">mkfs.gfs2</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLE">EXAMPLE</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">mkfs.gfs2 -
Make a GFS2 filesystem</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>mkfs.gfs2</b>
[<i>OPTION</i>]... <i>DEVICE [ block-count ]</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">mkfs.gfs2 is
used to create a Global File System.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>-b</b>
<i>BlockSize</i></p>

<p style="margin-left:22%;">Set the filesystem block size
to <i>BlockSize</i> (must be a power of two). The minimum
block size is 512. The FS block size cannot exceed the
machine&rsquo;s memory page size. On the most architectures
(i386, x86_64, s390, s390x), the memory page size is 4096
bytes. On other architectures it may be bigger. The default
block size is 4096 bytes. In general, GFS2 filesystems
should not deviate from the default value.</p>

<p style="margin-left:11%;"><b>-c</b> <i>MegaBytes</i></p>

<p style="margin-left:22%;">Initial size of each
journal&rsquo;s quota change file</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-D</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Enable debugging output.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-h</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Print out a help message describing available options,
then exit.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>-J</b> <i>MegaBytes</i></p>

<p style="margin-left:22%;">The size of the journals in
Megabytes. The default journal size is 128 megabytes. The
minimum size is 8 megabytes.</p>

<p style="margin-left:11%;"><b>-j</b> <i>Number</i></p>

<p style="margin-left:22%;">The number of journals for
gfs2_mkfs to create. You need at least one journal per
machine that will mount the filesystem. If this option is
not specified, one journal will be created.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-K</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Keep, do not attempt to discard blocks at mkfs time
(discarding blocks initially is useful on solid state
devices and sparse / thin-provisioned storage).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-O</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>This option prevents gfs2_mkfs from asking for
confirmation before writing the filesystem.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-o</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Specify extended options. Multiple options can be
separated by commas. Valid extended options are:</p></td></tr>
</table>


<p style="margin-left:26%; margin-top: 1em"><b>help</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="37%"></td>
<td width="63%">


<p style="margin-top: 1em">Display an extended options help
summary, then exit.</p></td></tr>
</table>

<p style="margin-left:26%;"><b>sunit=</b><i>bytes</i></p>

<p style="margin-left:37%;">This is used to specify the
stripe unit for a RAID device or striped logical volume.
This option ensures that resource groups will be stripe unit
aligned and overrides the stripe unit value obtained by
probing the device. This value must be a multiple of the
file system block size and must be specified with the
<i>swidth</i> option.</p>

<p style="margin-left:26%;"><b>swidth=</b><i>bytes</i></p>

<p style="margin-left:37%;">This is used to specify the
stripe width for a RAID device or striped logical volume.
This option ensures that resource groups will be stripe
aligned and overrides the stripe width value obtained by
probing the device. This value must be a multiple of the
<i>sunit</i> option and must also be specified with it.</p>

<p style="margin-left:26%;"><b>align=</b><i>[0|1]</i></p>

<p style="margin-left:37%;">Disable or enable the alignment
of resource groups. The default behaviour is to align
resource groups to the stripe width and stripe unit values
obtained from probing the device or specified with the
<i>swidth</i> and <i>sunit</i> extended options.</p>

<p style="margin-left:11%;"><b>-p</b>
<i>LockProtoName</i></p>

<p style="margin-left:22%;">LockProtoName is the name of
the locking protocol to use. Acceptable locking protocols
are <i>lock_dlm</i> (for shared storage) or if you are using
GFS2 as a local filesystem (<b>1 node only</b>), you can
specify the <i>lock_nolock</i> protocol. If this option is
not specified, <i>lock_dlm</i> protocol will be assumed.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-q</b></p></td>
<td width="8%"></td>
<td width="49%">


<p>Be quiet. Don&rsquo;t print anything.</p></td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>-r</b> <i>MegaBytes</i></p>

<p style="margin-left:22%;">gfs2_mkfs will try to make
Resource Groups about this big. Minimum RG size is 32 MB.
Maximum RG size is 2048 MB. A large RG size may increase
performance on very large file systems. If not specified,
mkfs.gfs2 will choose the RG size based on the size of the
file system: average size file systems will have 256 MB RGs,
and bigger file systems will have bigger RGs for better
performance.</p>

<p style="margin-left:11%;"><b>-t</b>
<i>LockTableName</i></p>

<p style="margin-left:22%;">The lock table field
appropriate to the lock module you&rsquo;re using. It is
<i>clustername:fsname</i>. Clustername must match that in
cluster.conf; only members of this cluster are permitted to
use this file system (1 to 32 characters). Fsname is a
unique file system name used to distinguish this GFS2 file
system from others created (1 to 30 characters). Lock_nolock
doesn&rsquo;t use this field. Valid <i>clustername</i>s and
<i>fsname</i>s may only contain alphanumeric characters,
hyphens (-) and underscores (_).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-V</b></p></td>
<td width="8%"></td>
<td width="69%">


<p>Print program version information, then exit.</p></td>
<td width="9%">
</td></tr>
</table>

<p style="margin-left:11%;">[ <i>block-count</i> ]</p>

<p style="margin-left:22%;">Make the file system this many
blocks in size. If not specified, the entire length of the
specified device is used.</p>

<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">gfs2_mkfs -t
mycluster:mygfs2 -p lock_dlm -j 2 /dev/vg0/mygfs2</p>

<p style="margin-left:22%;">This will make a Global File
System on the block device &quot;/dev/vg0/mygfs2&quot;. It
will belong to &quot;mycluster&quot; and register itself as
wanting locking for &quot;mygfs2&quot;. It will use DLM for
locking and make two journals.</p>

<p style="margin-left:11%;">gfs2_mkfs -t mycluster:mygfs2
-p lock_nolock -j 3 /dev/vg0/mygfs2</p>

<p style="margin-left:22%;">This will make a Global File
System on the block device &quot;/dev/vg0/mygfs2&quot;. It
will belong to &quot;mycluster&quot; and but have no cluster
locking. It will have three journals.</p>
<hr>
</body>
</html>
