<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 01:51:01 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>isdnctrl</title>

</head>
<body>

<h1 align="center">isdnctrl</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#WILDCARDS">WILDCARDS</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">isdnctrl
&minus; get/set ISDN device information</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>isdnctrl</b>
<i>action device</i> <b>...</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>isdnctrl</b>
is used to create and delete network interfaces for
<small>ISDN,</small> set up the various parameters and phone
numbers for dial in and dial out. It is also used to list
the current parameters of an already configured network
interface. <b>isdnctrl</b> is <b>not</b> needed for
configuration of <small>ISDN</small> ttys!</p>

<p style="margin-left:11%; margin-top: 1em">The use of
<b>isdnctrl</b> is independent of the hardware driver.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
<b>actions</b> may be given to <b>isdnctrl</b>. <b><br>
addif</b> <i>name</i></p>

<p style="margin-left:22%;">Adds a new <small>ISDN</small>
interface <i>name</i> to the kernel. If <i>name</i> is
omitted, the kernel will use <b>ethX,</b> where X is an
increasing number starting from 0. This is not ideal so
providing a name such as <b>isdn0</b> (for raw ip
interfaces) or <b>ippp0</b> (for synchronous PPP interfaces)
is strongly recommended.</p>

<p style="margin-left:11%;"><b>delif</b> <i>name</i>
<b>[force]</b></p>

<p style="margin-left:22%;">Removes the <small>ISDN</small>
interface <i>name</i> from the kernel. If the optional
keyword <b>force</b> is appended, <b>isdnctrl</b> executes
<b>ifconfig</b> <i>name</i> <b>down</b> before removing
it.</p>

<p style="margin-left:11%;"><b>reset [force]</b></p>

<p style="margin-left:22%;">Removes all <small>ISDN</small>
interfaces from the kernel if possible. If the optional
keyword <b>force</b> is appended, <b>isdnctrl</b> executes
<b>ifconfig</b> <i>name</i> <b>down</b> before removing an
interface.</p>

<p style="margin-left:11%;"><b>ifdefaults</b>
<i>name</i></p>

<p style="margin-left:22%;">resets interface <i>name</i> to
reasonable defaults.</p>

<p style="margin-left:11%;"><b>dialmode</b> <i>name</i>
<b>[</b><i>off</i><b>|</b><i>manual</i><b>|</b><i>auto</i><b>]</b></p>

<p style="margin-left:22%;">Sets the dial mode of the
interface to one of:</p>

<p style="margin-left:22%; margin-top: 1em"><b>off</b> <br>
no connection can be made; an existing connection is
terminated immediately. Also, incoming connections are not
possible.</p>

<p style="margin-left:22%; margin-top: 1em"><b>manual</b>
<br>
manual dialing / hangup; a connection will only be made
after <b>isdnctrl dial</b> <i>name</i> but the line will be
disconnected after the huptimeout value set if using kernel
drivers updated since 1 Nov 1998; otherwise an explicit
<b>isdnctrl hangup</b> <i>name</i> will be needed to cause
the connection to be dropped. <br>
Incoming connections are possible; however, if this
interface is configured in <b>callback in</b> mode, the
callback dial will not happen (as this is actually an
outgoing connection, not an incoming one).</p>

<p style="margin-left:22%; margin-top: 1em"><b>auto</b>
<br>
autodial mode; an outgoing packet will trigger a dialout,
and a hangup will occur after the huptimeout value specified
(see below). <br>
An interface in <b>auto</b> dial mode will call another
system back (if configured in <b>callback in</b> mode).</p>

<p style="margin-left:22%; margin-top: 1em"><b>auto</b> was
the &quot;old&quot; behaviour (as it was before
<b>dialmode</b> was implemented).</p>

<p style="margin-left:22%; margin-top: 1em">If no argument
is given, the current dialmode value is displayed.</p>

<p style="margin-left:22%; margin-top: 1em">You can give
<b>all</b> as the interface name; the command will then be
executed for all interfaces.</p>

<p style="margin-left:11%;"><b>addphone</b> <i>name</i>
<b>out</b> <i>num</i></p>

<p style="margin-left:22%;">Adds the phone number
<i>num</i> to the list of outgoing numbers of the
<small>ISDN</small> interface <i>name</i>. Numbers in this
list are used to dial the remote station if the connection
is down and packets are to be sent via the interface (Dial
on demand). More than one number can be set by calling
<b>isdnctrl addphone</b> repeatedly. If more than one number
is set, these will be tried one after another (the last
added number is tried first, etc.). When using a German
SPV-type connection, the number has to be prefixed by a
capital S.</p>

<p style="margin-left:11%;"><b>addphone</b> <i>name</i>
<b>in</b> <i>num</i></p>

<p style="margin-left:22%;">Adds the phone number
<i>num</i> to the list of incoming numbers of the
<small>ISDN</small> interface <i>name</i>. Numbers in this
list are used to verify access permission of the remote
station if an incoming call is received. The verification
can be disabled by setting the interface into insecure mode
using <b>isdnctrl</b> <i>name</i> <b>secure</b> <i>off.</i>
If the list is empty, incoming calls are disabled. More than
one number can be added by calling <b>isdnctrl addphone</b>
repeatedly. Also wildcards can be used (see below).</p>

<p style="margin-left:11%;"><b>delphone</b> <i>name</i>
<b>in|out</b> <i>num</i></p>

<p style="margin-left:22%;">Removes phone number <i>num</i>
from the incoming or outgoing phone list.</p>

<p style="margin-left:11%;"><b>eaz</b> <i>name</i>
<b>[</b><i>num</i><b>]</b></p>

<p style="margin-left:22%;">Set the EAZ (German 1TR6
protocol) or MSN (Euro-ISDN E-DSS1) for <small>ISDN</small>
interface <i>name</i> to <i>num</i>. For an EAZ this is only
one digit, while for an MSN <i>num</i> is the whole MSN
(usually the local phone number). If <i>num</i> is omitted,
<b>isdnctrl</b> prints the current setting for
<small>ISDN</small> interface <i>name</i>.</p>

<p style="margin-left:11%;"><b>huptimeout</b> <i>name</i>
<b>[</b><i>seconds</i><b>]</b></p>

<p style="margin-left:22%;">Set the hangup timeout for
<small>ISDN</small> interface <i>name</i> to <i>seconds</i>.
If there is inactivity (i.e. no traffic on the interface)
for the given time the driver automatically shuts down the
connection. If <i>seconds</i> is omitted <b>isdnctrl</b>
prints the current setting for interface <i>name</i>.</p>

<p style="margin-left:11%;"><b>cbdelay</b> <i>name</i>
<b>[</b><i>seconds</i><b>]</b></p>

<p style="margin-left:22%;">Set the callback delay for
<small>ISDN</small> interface <i>name</i> to <i>seconds</i>.
If callback mode for this interface is <b>in</b>, dialing is
delayed the given time. If the callback mode is <b>out</b>,
after dialing out and waiting the given time, a hangup is
issued to free the line for the incoming callback from the
remote machine. This hangup-after-dial is disabled by
setting <b>cbdelay</b> to 0. If <i>seconds</i> is omitted
<b>isdnctrl</b> prints the current setting for interface
<i>name</i>.</p>

<p style="margin-left:11%;"><b>dialmax</b> <i>name</i>
<b>[</b><i>num</i><b>]</b></p>

<p style="margin-left:22%;">Set the number of dial attempts
for <small>ISDN</small> interface <i>name</i> to <i>num</i>.
If dialing, each phone number is tried this many times
before giving up. If <i>num</i> is omitted <b>isdnctrl</b>
prints the current setting for interface <i>name</i>.</p>

<p style="margin-left:11%;"><b>ihup</b> <i>name</i>
<b>[on|off]</b></p>

<p style="margin-left:22%;">Turn on or off the hangup
timeout for incoming calls on interface <i>name</i>. If on
or off is omitted the current setting is printed.</p>

<p style="margin-left:11%;"><b>chargehup</b> <i>name</i>
<b>[on|off]</b></p>

<p style="margin-left:22%;">Turn on or off hangup before
next charge info for interface <i>name</i>. This can only be
used if the <small>ISDN</small> provider transmits charge
info during and after the connection. If set to on, the
driver will close the connection just before the next charge
info will be received if the interface is inactive. If on or
off is omitted the current setting is printed.</p>

<p style="margin-left:11%;"><b>chargeint</b> <i>name</i>
<b>[</b><i>seconds</i><b>]</b></p>

<p style="margin-left:22%;">If <i>seconds</i> are given,
the charge interval for the given interface is set. This may
be useful on <small>ISDN</small> lines with no chargeinfo or
no online chargeinfo. The connection will be closed 2
seconds before the end of the next estimated charge interval
if <i>huptimeout</i> seconds of inactivity have been
reached. If <i>ihup</i> is <b>on</b>, incoming connections
are closed by this mechanism also. On lines with online
charge info you also might ask by <b>chargeint</b>
<i>name</i> for the current charge interval as delivered
from the telecom on a given interface.</p>

<p style="margin-left:11%;"><b>secure</b> <i>name</i>
<b>[on|off]</b></p>

<p style="margin-left:22%;">Turns on or off the security
feature for interface <i>name</i>. If set to <b>on</b>,
incoming calls will only be accepted if the calling number
can be found in the incoming access list. See description of
action <b>addphone</b> for information about how to add
numbers to this list. If <b>on</b> or <b>off</b> is omitted,
the current setting is printed.</p>

<p style="margin-left:11%;"><b>callback</b> <i>name</i>
<b>[</b><i>mode</i><b>]</b></p>

<p style="margin-left:22%;">Set callback mode for interface
<i>name</i> to mode <i>mode</i>. If callback mode is
<b>in</b>, then after getting an incoming call, a callback
is triggered. If callback mode is <b>out</b>, then the local
system does the initial call and then waits for callback of
the remote machine. The option <b>on</b> is available only
for compatibility with older versions. Its meaning is the
same like <b>in</b>. If callback mode is <b>off</b>, calls
are handled normally without special processing.</p>

<p style="margin-left:11%;"><b>cbhup</b> <i>name</i>
<b>[on|off]</b></p>

<p style="margin-left:22%;">Turns on or off Hangup (Reject)
for interface <i>name</i> before starting callback. If cbhup
is <b>on</b>, when receiving an incoming call, the interface
first rejects that call before the callback sequence is
started. If <b>on</b> or <b>off</b> is omitted, the current
setting is printed.</p>

<p style="margin-left:11%;"><b>encap</b> <i>name</i>
<b>[</b><i>encapsulation</i><b>]</b></p>

<p style="margin-left:22%;">Set the encapsulation mode for
interface <i>name</i>. Possible encapsulations are:</p>

<p style="margin-left:22%; margin-top: 1em"><b>rawip</b>
<br>
raw ip encapsulation (default)</p>

<p style="margin-left:22%; margin-top: 1em"><b>ip</b> <br>
IP + typefield encapsulation</p>

<p style="margin-left:22%; margin-top: 1em"><b>cisco-h</b>
<br>
Special mode for communicating with a Cisco in HDLC-mode
with Cisco-keepalive switched off.</p>


<p style="margin-left:22%; margin-top: 1em"><b>ethernet</b>
<br>
ethernet over <small>ISDN</small> (MAC-header included)</p>

<p style="margin-left:22%; margin-top: 1em"><b>syncppp</b>
<br>
Synchronous PPP over <small>ISDN</small></p>

<p style="margin-left:22%; margin-top: 1em"><b>uihdlc</b>
<br>
raw ip with additional ui-header</p>


<p style="margin-left:22%; margin-top: 1em"><b>cisco-hk</b>
<br>
Special mode for communicating with a Cisco in HDLC-mode
with Cisco-keepalive switched on.</p>


<p style="margin-left:22%; margin-top: 1em"><b>x25iface</b>
<br>
Provides an interface as required by the Linux X.25 PLP
protocol implementation (requires Linux 2.1.x or newer).</p>

<p style="margin-left:11%; margin-top: 1em">If
<i>encapsulation</i> is omitted, the current setting is
printed. <b><br>
l2_prot</b> <i>name</i> <b>[protocol]</b></p>

<p style="margin-left:22%;">Set the layer-2 protocol for
interface <i>name</i>. Possible values for <i>protocol</i>
are: <b><br>
x75i</b>, <b>x75ui</b>, <b>x75bui</b> and <b>hdlc</b>. If
<i>protocol</i> is omitted the current setting is
printed.</p>

<p style="margin-left:11%;"><b>l3_prot name
[protocol]</b></p>

<p style="margin-left:22%;">Set the layer-3 protocol for
interface <i>name</i>. At the moment only <b>trans</b> is
supported here. If <i>protocol</i> is omitted the current
setting is printed.</p>

<p style="margin-left:11%;"><b>list</b> <i>name</i></p>

<p style="margin-left:22%;">List all parameters and the
charge info for interface <i>name</i>. If <i>name</i> is
<b>all</b>, all interfaces are listed.</p>

<p style="margin-left:11%;"><b>status</b> <i>name</i></p>

<p style="margin-left:22%;">Show the connection status for
interface <i>name</i>. The output can be one of the
following types:</p>

<p style="margin-left:22%; margin-top: 1em"><b>ippp0 not
connected</b> <br>
There is no connection</p>

<p style="margin-left:22%; margin-top: 1em"><b>ippp0
connected to 0123456789</b> <br>
There is an outgoing connection to phone number
0123456789</p>

<p style="margin-left:22%; margin-top: 1em"><b>ippp0
connected from 0123456789</b> <br>
There is an incoming connection from phone number
0123456789</p>

<p style="margin-left:11%; margin-top: 1em">If the
interface is connected, the exit status of the command is
true, else it is false. <br>
If <i>name</i> is <b>all</b>, then the connection status for
all interfaces is shown. The exit status is always true in
this case. <br>
If <i>name</i> is <b>active</b>, then only those interfaces
that are currently connected are shown. The exit status is
always true in this case. <b><br>
verbose</b> <i>num</i></p>

<p style="margin-left:22%;">Set verbosity level to
<i>num</i>.</p>

<p style="margin-left:11%;"><b>hangup</b> <i>name</i></p>

<p style="margin-left:22%;">The connection of interface
<i>name</i> is closed immediately.</p>

<p style="margin-left:11%;"><b>bind</b> <i>name
driverId</i><b>,</b><i>channel</i> <b>[exclusive]</b></p>

<p style="margin-left:22%;">Binds an interface <i>name</i>
to a physical channel. The <i>driverId</i> identifies a
specific S0-Port. The channels of a port start counting with
zero. If <b>exclusive</b> is given, other interfaces cannot
use that channel anymore. Otherwise, the channel may be used
by other interfaces.</p>

<p style="margin-left:11%;"><b>unbind</b> <i>name</i></p>

<p style="margin-left:22%;">Unbinds a the previously bound
interface <i>name</i>.</p>

<p style="margin-left:11%;"><b>pppbind</b> <i>name</i>
<b>[</b><i>num</i><b>]</b></p>

<p style="margin-left:22%;">Binds the interface <i>name</i>
to an ippp device <b>/dev/ippp</b><i>num</i><b>.</b> This
works only for synchronous ppp. The value must be a number.
If <i>num</i> is omitted and <i>name</i> is called
<b>ippp</b><i>X</i> , then the interface is bound to
<b>/dev/ippp</b><i>X</i><b>.</b></p>

<p style="margin-left:11%;"><b>pppunbind</b>
<i>name</i></p>

<p style="margin-left:22%;">Unbinds the previously bound
interface <i>name</i>.</p>

<p style="margin-left:11%;"><b>busreject</b>
<i>driverId</i> <b>[on|off]</b></p>

<p style="margin-left:22%;">If switched <b>on</b>, instead
of ignoring incoming calls not matching any interface,
isdn4linux responds with a <b>REJECT</b> to those calls. If
switched <b>off</b>, isdn4linux is passive, allowing other
devices connected to the same S0-bus to answer the call. You
normally should <b>not</b> enable this feature, if the
<small>ISDN</small> adaptor is not the only device connected
to the S0-bus. Otherwise it could happen, that isdn4linux
rejects an incoming call which belongs to another device on
the bus.</p>

<p style="margin-left:11%;"><b>addslave</b> <i>name
slave</i></p>

<p style="margin-left:22%;">Adds a slave interface named
<i>slave</i> to interface <i>name</i> for raw
channel-bundling. For bundling of more than two channels,
any number of slaves can be added to an interface by using
this command repeatedly. <i>name</i> must refer to an
existing &quot;master&quot; interface (not a slave). Slave
interfaces are not visible to the kernel, however all usual
<small>ISDN</small> settings can be configured. Because
slave interfaces are not visible to the kernel, they are
configured &quot;through&quot; their &quot;master&quot;, so
<b>it is important</b> that slave interfaces are added
<b>before</b> the corresponding &quot;master&quot; is
started by <b>ifconfig</b>. If the &quot;master&quot; is
already up, it has to be shutdown with <b>ifconfig down
...</b> otherwise the <b>addslave</b> command will be
rejected.</p>

<p style="margin-left:11%;"><b>sdelay</b> <i>name
num</i></p>

<p style="margin-left:22%;">Set delay for slave-dialing.
The master interface <i>name</i> has to have a load of more
than <b>trigger</b> cps for at least <i>num</i> seconds,
before its slave starts dialing. <br>
Note that this only works for rawIP, not MPPP!</p>

<p style="margin-left:11%;"><b>trigger</b> <i>name
num</i></p>

<p style="margin-left:22%;">Set trigger level for
slave-dialing. The master interface <i>name</i> has to have
a load of more than <i>num</i> cps for at least
<b>sdelay</b> seconds, before its slave starts dialing. <br>
Note that this only works for rawIP, not MPPP!</p>

<p style="margin-left:11%;"><b>addlink</b> <i>name</i></p>

<p style="margin-left:22%;">For MPPP, this adds a slave
interface to the existing connection, i.e. connect the extra
channel now. It is like a <b>dial</b> command for the extra
channel. <br>
This also means that <b>addlink</b> will only work if the
master interface <i>name</i> must already be connected!
Also, the <b>dialmode</b> for the slave interface must be
<i>auto</i>.</p>

<p style="margin-left:11%;"><b>removelink</b>
<i>name</i></p>

<p style="margin-left:22%;">For MPPP, this removes a slave
interface from the existing connection, i.e. hangup the
extra channel now.</p>

<p style="margin-left:11%;"><b>dial</b> <i>name</i></p>

<p style="margin-left:22%;">Force dialing of interface
<i>name</i>.</p>

<p style="margin-left:11%;"><b>mapping</b> <i>driverId
MSN0</i><b>[,</b><i>MSN1</i><b>[,</b><i>MSN2</i><b>]] ...
[,</b><i>MSN9</i><b>]</b></p>

<p style="margin-left:22%;">Installs a mapping-table for
MSN&lt;-&gt;EAZ-mapping. See README for details.</p>

<h2>WILDCARDS
<a name="WILDCARDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When using
<b>isdnctrl addphone</b> <i>name</i> <b>in</b> <i>num</i> to
add phone numbers to the incoming-call accept-list of an
interface, wildcards similar to shell wildcards can be used.
The following wildcards are supported:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>?</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>one arbitrary digit</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>*</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>zero or arbitrary number of digits</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>[</b><i>list</i><b>]</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>one of the digits in <i>list</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>[</b><i>1</i><b>-</b><i>5</i><b>]</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>one digit in the range of (including) <i>1</i> and
<i>5</i>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>^</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>if this appears as the first character in a list,
inverts the list.</p></td></tr>
</table>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This man page
is not complete.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Fritz Elfert
&lt;fritz@isdn4linux.de&gt;</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>ttyI</b>(4),
<b>isdnctrl</b>(4), <b>isdninfo</b>(4),
<b>isdn_audio</b>(4), <b>isdn_cause</b>(7).</p>
<hr>
</body>
</html>
