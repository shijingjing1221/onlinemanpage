<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 01:48:49 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>IEEE1284_TRANSFER</title>

</head>
<body>

<h1 align="center">IEEE1284_TRANSFER</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#RETURN VALUE">RETURN VALUE</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">ieee1284_nibble_read,
ieee1284_compat_write, ieee1284_byte_read,
ieee1284_epp_read_data, ieee1284_epp_write_data,
ieee1284_epp_read_addr, ieee1284_epp_write_addr,
ieee1284_ecp_read_data, ieee1284_ecp_write_data,
ieee1284_ecp_read_addr, ieee1284_ecp_write_addr &minus; data
transfer functions</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;ieee1284.h&gt;</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>ssize_t
ieee1284_nibble_read(struct&nbsp;parport&nbsp;*</b><i>port</i><b>,
int&nbsp;</b><i>flags</i><b>,
char&nbsp;*</b><i>buffer</i><b>,
size_t&nbsp;</b><i>len</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>ssize_t
ieee1284_compat_write(struct&nbsp;parport&nbsp;*</b><i>port</i><b>,
int&nbsp;</b><i>flags</i><b>,
const&nbsp;char&nbsp;*</b><i>buffer</i><b>,
size_t&nbsp;</b><i>len</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>ssize_t
ieee1284_byte_read(struct&nbsp;parport&nbsp;*</b><i>port</i><b>,
int&nbsp;</b><i>flags</i><b>,
char&nbsp;*</b><i>buffer</i><b>,
size_t&nbsp;</b><i>len</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>ssize_t
ieee1284_epp_read_data(struct&nbsp;parport&nbsp;*</b><i>port</i><b>,
int&nbsp;</b><i>flags</i><b>,
char&nbsp;*</b><i>buffer</i><b>,
size_t&nbsp;</b><i>len</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>ssize_t
ieee1284_epp_write_data(struct&nbsp;parport&nbsp;*</b><i>port</i><b>,
int&nbsp;</b><i>flags</i><b>,
const&nbsp;char&nbsp;*</b><i>buffer</i><b>,
size_t&nbsp;</b><i>len</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>ssize_t
ieee1284_epp_read_addr(struct&nbsp;parport&nbsp;*</b><i>port</i><b>,
int&nbsp;</b><i>flags</i><b>,
char&nbsp;*</b><i>buffer</i><b>,
size_t&nbsp;</b><i>len</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>ssize_t
ieee1284_epp_write_addr(struct&nbsp;parport&nbsp;*</b><i>port</i><b>,
int&nbsp;</b><i>flags</i><b>,
const&nbsp;char&nbsp;*</b><i>buffer</i><b>,
size_t&nbsp;</b><i>len</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>ssize_t
ieee1284_ecp_read_data(struct&nbsp;parport&nbsp;*</b><i>port</i><b>,
int&nbsp;</b><i>flags</i><b>,
char&nbsp;*</b><i>buffer</i><b>,
size_t&nbsp;</b><i>len</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>ssize_t
ieee1284_ecp_write_data(struct&nbsp;parport&nbsp;*</b><i>port</i><b>,
int&nbsp;</b><i>flags</i><b>,
const&nbsp;char&nbsp;*</b><i>buffer</i><b>,
size_t&nbsp;</b><i>len</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>ssize_t
ieee1284_ecp_read_addr(struct&nbsp;parport&nbsp;*</b><i>port</i><b>,
int&nbsp;</b><i>flags</i><b>,
char&nbsp;*</b><i>buffer</i><b>,
size_t&nbsp;</b><i>len</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>ssize_t
ieee1284_ecp_write_addr(struct&nbsp;parport&nbsp;*</b><i>port</i><b>,
int&nbsp;</b><i>flags</i><b>,
const&nbsp;char&nbsp;*</b><i>buffer</i><b>,
size_t&nbsp;</b><i>len</i><b>);</b></p> </td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This set of
functions is for tranferring bytes in the relevant transfer
mode. For ECP and EPP modes two types of transfer are
possible: data and address (usually referred to as channel
in ECP).</p>

<p style="margin-left:11%; margin-top: 1em">The supplied
<i>port</i> must be a claimed port.</p>

<p style="margin-left:11%; margin-top: 1em">The supplied
<i>buffer</i> must be at least <i>len</i> bytes long. When
reading, the transferred data is stored in the buffer; when
writing the data to be transferred is taken from the
buffer.</p>

<p style="margin-left:11%; margin-top: 1em">For reads
(peripheral to host): if no data is available and
<b>F1284_NONBLOCK</b> is not in effect, the inactivity timer
is started. If data becomes available before the inactivity
time&minus;out elapses it is read; otherwise the return
value will be <b>E1284_TIMEDOUT</b>.</p>

<p style="margin-left:11%; margin-top: 1em">For writes
(host to peripheral): if the peripheral is not willing to
accept data and <b>F1284_NONBLOCK</b> is not in effect, the
inactivity timer is started. If the peripheral indicates
that it is willing to accept data before the inactivity
time&minus;out elapses it is sent; otherwise the return
value will be <b>E1284_TIMEDOUT</b></p>

<p style="margin-left:11%; margin-top: 1em">The
<i>flags</i> may alter the behaviour slightly:</p>


<p style="margin-left:11%; margin-top: 1em"><b>F1284_NONBLOCK</b></p>

<p style="margin-left:17%;">For reads (peripheral to host):
if no data is available, return immediately (with
<b>E1284_TIMEDOUT</b>).</p>

<p style="margin-left:17%; margin-top: 1em">For writes
(host to peripheral): if the peripheral is not willing to
accept data, return immediately (with
<b>E1284_TIMEDOUT</b>).</p>


<p style="margin-left:11%; margin-top: 1em"><b>F1284_SWE</b></p>

<p style="margin-left:17%;">Don't use hardware assistance
for the transfer, but instead set the parallel port pins
according to the wire protocol.</p>


<p style="margin-left:11%; margin-top: 1em"><b>F1284_RLE</b>
(for ECP only)</p>

<p style="margin-left:17%;">Use run length encoding. If the
peripheral is in ECP mode with RLE, calls to
<b>ieee1284_ecp_read_data</b><i>must</i> set this flag in
order for the RLE from the peripheral to be interpreted
correctly, and calls to
<b>ieee1284_ecp_write_data</b><i>may</i> set this flag in
order to take advantage of RLE.</p>


<p style="margin-left:11%; margin-top: 1em"><b>F1284_FASTEPP</b>
(for EPP only)</p>

<p style="margin-left:17%;">Use multi&minus;byte transfers.
Several bytes at a time are transferred using hardware
assistance, if supporting hardware is present. The price of
this increased speed is that the return value will be less
reliable when this flag is used.</p>

<p style="margin-left:11%; margin-top: 1em">For ECP mode, a
given direction is in force at any particular time, and it
is up to the application to ensure that it is only writing
when in forward mode, and reading when in reverse mode.</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The return
value is the number of bytes successfully transferred or, if
negative, one of:</p>


<p style="margin-left:11%; margin-top: 1em"><b>E1284_NOTIMPL</b></p>

<p style="margin-left:17%;">This transfer mode and flags
combination is not yet implemented in libieee1284.</p>


<p style="margin-left:11%; margin-top: 1em"><b>E1284_TIMEDOUT</b></p>

<p style="margin-left:17%;">Timed out waiting for
peripheral to handshake.</p>


<p style="margin-left:11%; margin-top: 1em"><b>E1284_NOMEM</b></p>

<p style="margin-left:17%;">Not enough memory is
available.</p>


<p style="margin-left:11%; margin-top: 1em"><b>E1284_SYS</b></p>

<p style="margin-left:17%;">There was a problem at the
operating system level. The global variable <i>errno</i> has
been set appropriately.</p>


<p style="margin-left:11%; margin-top: 1em"><b>E1284_INVALIDPORT</b></p>

<p style="margin-left:17%;">The <i>port</i> parameter is
invalid (for instance, perhaps the <i>port</i> is not
claimed).</p>

<p style="margin-left:11%; margin-top: 1em">If any bytes
are successfully transferred, that number is returned. An
error is returned only if no bytes are transferred.</p>

<p style="margin-left:11%; margin-top: 1em">For
host&minus;to&minus;peripheral transfers, all data is at the
peripheral by the time the call returns.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>ieee1284_ecp_fwd_to_rev</b>(3)</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Tim
Waugh</b> &lt;twaugh@redhat.com&gt;</p>

<p style="margin-left:17%;">Author.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
&copy; 2001-2003 Tim Waugh</p>
<hr>
</body>
</html>
