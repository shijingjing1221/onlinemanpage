<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 02:10:33 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PPPOE-SERVER</title>

</head>
<body>

<h1 align="center">PPPOE-SERVER</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#OPERATION">OPERATION</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">pppoe-server
&minus; user-space PPPoE server</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pppoe-server</b>
[<i>options</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pppoe-server</b>
is a user-space server for PPPoE (Point-to-Point Protocol
over Ethernet) for Linux and other UNIX systems.
<b>pppoe-server</b> works in concert with the <b>pppoe</b>
client to respond to PPPoE discovery packets and set up
PPPoE sessions.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>&minus;F</b></p></td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em">The <b>&minus;F</b> option
causes <b>pppoe-server</b> not to fork and become a daemon.
The default is to fork and become a daemon.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;I</b>
<i>interface</i></p>

<p style="margin-left:22%;">The <b>&minus;I</b> option
specifies the Ethernet interface to use. Under Linux, it is
typically <i>eth0</i> or <i>eth1</i>. The interface should
be &quot;up&quot; before you start <b>pppoe-server</b>, but
need not have an IP address. You can supply multiple
<b>&minus;I</b> options if you want the server to respond on
more than one interface.</p>

<p style="margin-left:11%;"><b>&minus;X</b>
<i>pidfile</i></p>

<p style="margin-left:22%;">This option causes
<b>pppoe-server</b> to write its process ID to
<i>pidfile</i>. Additionally, it keeps the file locked so
that only a single process may be started for a given
<i>pidfile</i>.</p>

<p style="margin-left:11%;"><b>&minus;q</b>
<i>/path/to/pppd</i></p>

<p style="margin-left:22%;">Specifies the full path to the
<b>pppd</b> program. The default is determined at compile
time. One use of this option is to supply a wrapper program
that modifies the arguments passed to pppd. This lets you do
things not directly supported by the server (for example,
specify IPv6 addresses.)</p>

<p style="margin-left:11%;"><b>&minus;Q</b>
<i>/path/to/pppoe</i></p>

<p style="margin-left:22%;">Specifies the full path to the
<b>pppoe</b> program. The default is determined at compile
time. This option is only relevant if you are <i>not</i>
using kernel-mode PPPoE.</p>

<p style="margin-left:11%;"><b>&minus;T</b>
<i>timeout</i></p>

<p style="margin-left:22%;">This option is passed directly
to <b>pppoe</b>; see <b>pppoe</b>(8) for details. If you are
using kernel-mode PPPoE, this option has <i>no
effect</i>.</p>

<p style="margin-left:11%;"><b>&minus;C</b>
<i>ac_name</i></p>

<p style="margin-left:22%;">Specifies which name to report
as the access concentrator name. If not supplied, the host
name is used.</p>

<p style="margin-left:11%;"><b>&minus;S</b> <i>name</i></p>

<p style="margin-left:22%;">Offer a service named
<i>name</i>. Multiple <b>&minus;S</b> options may be
specified; each one causes the named service to be
advertised in a Service-Name tag in the PADO frame. The
first <b>&minus;S</b> option specifies the default service,
and is used if the PPPoE client requests a Service-Name of
length zero.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;m</b> <i>MSS</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>This option is passed directly to <b>pppoe</b>; see
<b>pppoe</b>(8) for details. If you are using kernel-mode
PPPoE, this option has <i>no effect</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;x</b> <i>n</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>Limit the number of sessions per peer MAC address to
<i>n</i>. If a given MAC address attempts to create more
than <i>n</i> sessions, then its PADI and PADR packets are
ignored. If you set <i>n</i> to 0 (the default), then no
limit is imposed on the number of sessions per peer MAC
address.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;s</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>This option is passed directly to <b>pppoe</b>; see
<b>pppoe</b>(8) for details. In addition, it causes
<b>pppd</b> to be invoked with the <i>sync</i> option.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;L</b> <i>ip</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>Sets the local IP address. This is passed to spawned
<b>pppd</b> processes. If not specified, the default is
10.0.0.1.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;R</b> <i>ip</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>Sets the starting remote IP address. As sessions are
established, IP addresses are assigned starting from
<i>ip</i>. <b>pppoe-server</b> automatically keeps track of
the pool of addresses and passes a valid remote IP address
to <b>pppd</b>. If not specified, a starting address of
10.67.15.1 is used.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;D</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Delegate the allocation of IP addresses to <b>pppd</b>.
If specified, no local and remote addresses passed to
pppd.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;N</b> <i>num</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>Allows at most <i>num</i> concurrent PPPoE sessions. If
not specified, the default is 64.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;O</b>
<i>fname</i></p>

<p style="margin-left:22%;">This option causes
<b>pppoe-server</b> to tell <b>pppd</b> to use the option
file <i>fname</i> instead of the default
<i>/etc/ppp/pppoe-server-options</i>.</p>

<p style="margin-left:11%;"><b>&minus;p</b>
<i>fname</i></p>

<p style="margin-left:22%;">Reads the specified file
<i>fname</i> which is a text file consisting of one IP
address per line. These IP addresses will be assigned to
clients. The number of sessions allowed will equal the
number of addresses found in the file. The <b>&minus;p</b>
option overrides both <b>&minus;R</b> and
<b>&minus;N</b>.</p>

<p style="margin-left:22%; margin-top: 1em">In addition to
containing IP addresses, the pool file can contain lines of
the form:</p>

<p style="margin-left:22%; margin-top: 1em">a.b.c.d-e</p>

<p style="margin-left:22%; margin-top: 1em">which includes
all IP addresses from a.b.c.d to a.b.c.e. For example, the
line:</p>

<p style="margin-left:22%; margin-top: 1em">1.2.3.4-7</p>

<p style="margin-left:22%; margin-top: 1em">is equivalent
to:</p>

<p style="margin-left:22%; margin-top: 1em">1.2.3.4</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>1.2.3.5</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>1.2.3.6</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>1.2.3.7</p></td></tr>
</table>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;r</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Tells the PPPoE server to randomly permute session
numbers. Instead of handing out sessions in order, the
session numbers are assigned in an unpredictable order.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;u</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Tells the server to invoke <b>pppd</b> with the
<i>unit</i> option. Note that this option only works for
<b>pppd</b> version 2.4.0 or newer.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;o</b>
<i>offset</i></p>

<p style="margin-left:22%;">Instead of numbering PPPoE
sessions starting at 1, they will be numbered starting at
<i>offset</i>+1. This allows you to run multiple servers on
a given machine; just make sure that their session numbers
do not overlap.</p>

<p style="margin-left:11%;"><b>&minus;f disc:sess</b></p>

<p style="margin-left:22%;">The <b>&minus;f</b> option sets
the Ethernet frame types for PPPoE discovery and session
frames. The types are specified as hexadecimal numbers
separated by a colon. Standard PPPoE uses frame types
8863:8864. <i>You should not use this option</i> unless you
are absolutely sure the peer you are dealing with uses
non-standard frame types.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;k</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>The <b>&minus;k</b> option tells the server to use
kernel-mode PPPoE on Linux. This option is available only on
Linux kernels 2.4.0 and later, and only if the server was
built with kernel-mode support.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;i</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>The <b>&minus;i</b> option tells the server to
completely ignore PADI frames if there are no free session
slots.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;h</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>The <b>&minus;h</b> option prints a brief usage message
and exits.</p></td></tr>
</table>

<h2>OPERATION
<a name="OPERATION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pppoe-server</b>
listens for incoming PPPoE discovery packets. When a session
is established, it spawns a <b>pppd</b> process. The
following options are passed to <b>pppd</b>:</p>

<p style="margin-left:11%; margin-top: 1em">nodetach
noaccomp nobsdcom nodeflate nopcomp novj novjccomp <br>
default-asyncmap</p>

<p style="margin-left:11%; margin-top: 1em">In addition,
the local and remote IP address are set based on the
<b>&minus;L</b> and <b>&minus;R</b> options. The <b>pty</b>
option is supplied along with a <b>pppoe</b> command to
initiate the PPPoE session. Finally, additional <b>pppd</b>
options can be placed in the file
<b>/etc/ppp/pppoe-server-options</b> (which must exist, even
if it is just empty!)</p>

<p style="margin-left:11%; margin-top: 1em">Note that
<b>pppoe-server</b> is meant mainly for testing PPPoE
clients. It is <i>not</i> a high-performance server meant
for production use.</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pppoe-server</b>
was written by David F. Skoll
&lt;dfs@roaringpenguin.com&gt;.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>pppoe</b> home page is
<i>http://www.roaringpenguin.com/pppoe/</i>.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">pppoe-start(8),
pppoe-stop(8), pppoe-connect(8), pppd(8), pppoe.conf(5),
pppoe(8), pppoe-setup(8), pppoe-status(8), pppoe-sniff(8),
pppoe-relay(8)</p>
<hr>
</body>
</html>
