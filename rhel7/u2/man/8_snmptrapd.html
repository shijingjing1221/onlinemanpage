<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 02:23:35 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SNMPTRAPD</title>

</head>
<body>

<h1 align="center">SNMPTRAPD</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#FORMAT SPECIFICATIONS">FORMAT SPECIFICATIONS</a><br>
<a href="#LISTENING ADDRESSES">LISTENING ADDRESSES</a><br>
<a href="#NOTIFICATION&minus;LOG&minus;MIB SUPPORT">NOTIFICATION&minus;LOG&minus;MIB SUPPORT</a><br>
<a href="#EXTENSIBILITY AND CONFIGURATION">EXTENSIBILITY AND CONFIGURATION</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">snmptrapd -
Receive and log SNMP trap messages.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>snmptrapd</b>
[OPTIONS] [LISTENING ADDRESSES]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>snmptrapd</b>
is an SNMP application that receives and logs SNMP TRAP and
INFORM messages.</p>

<p style="margin-left:11%; margin-top: 1em">Note: the
default is to listen on UDP port 162 on all IPv4 interfaces.
Since 162 is a privileged port, <b>snmptrapd</b> must
typically be run as root.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>&minus;a</b></p></td>
<td width="9%"></td>
<td width="75%">


<p style="margin-top: 1em">Ignore authenticationFailure
traps.</p> </td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;A</b></p></td>
<td width="9%"></td>
<td width="75%">


<p>Append to the log file rather than truncating it.</p></td>
<td width="2%">
</td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">Note that this
needs to come <i>before</i> any &minus;Lf options that it
should apply to.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p style="margin-top: 1em"><b>&minus;c</b> <i>FILE</i></p></td>
<td width="1%"></td>
<td width="77%">


<p style="margin-top: 1em">Read <i>FILE</i> as a
configuration file (or a comma-separated list of
configuration files).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>&minus;C</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Do not read any configuration files except the one
optionally specified by the <b>&minus;c</b> option.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>&minus;d</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Dump (in hexadecimal) the sent and received SNMP
packets.</p> </td></tr>
</table>


<p style="margin-left:11%;"><b>&minus;D[TOKEN[,...]]</b></p>

<p style="margin-left:23%;">Turn on debugging output for
the given <i>TOKEN</i>(s). Try <i>ALL</i> for extremely
verbose output.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;f</b></p></td>
<td width="9%"></td>
<td width="57%">


<p>Do not fork() from the calling shell.</p></td>
<td width="20%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;F</b>
<i>FORMAT</i></p>

<p style="margin-left:23%;">When logging to standard
output, use the format in the string <i>FORMAT</i>. See the
section <b>FORMAT SPECIFICATIONS</b> below for more
details.</p>

<p style="margin-left:11%;"><b>&minus;h,
&minus;&minus;help</b></p>

<p style="margin-left:23%;">Display a brief usage message
and then exit.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;H</b></p></td>
<td width="9%"></td>
<td width="77%">


<p>Display a list of configuration file directives
understood by the trap daemon and then exit.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;I</b>
<i>[&minus;]INITLIST</i></p>

<p style="margin-left:23%;">Specifies which modules should
(or should not) be initialized when snmptrapd starts up. If
the comma-separated <i>INITLIST</i> is preceded with a
&rsquo;&minus;&rsquo;, it is the list of modules that should
<i>not</i> be started. Otherwise this is the list of the
<i>only</i> modules that should be started.</p>

<p style="margin-left:23%; margin-top: 1em">To get a list
of compiled modules, run snmptrapd with the arguments
<i>&minus;Dmib_init &minus;H</i> (assuming debugging support
has been compiled in).</p>

<p style="margin-left:11%;"><b>&minus;L[efos]</b></p>

<p style="margin-left:23%;">Specify where logging output
should be directed (standard error or output, to a file or
via syslog). See LOGGING OPTIONS in <i>snmpcmd(1)</i> for
details.</p>

<p style="margin-left:11%;"><b>&minus;m</b>
<i>MIBLIST</i></p>

<p style="margin-left:23%;">Specifies a colon separated
list of MIB modules to load for this application. This
overrides the environment variable MIBS. See
<i>snmpcmd(1)</i> for details.</p>

<p style="margin-left:11%;"><b>&minus;M</b>
<i>DIRLIST</i></p>

<p style="margin-left:23%;">Specifies a colon separated
list of directories to search for MIBs. This overrides the
environment variable MIBDIRS. See <i>snmpcmd(1)</i> for
details.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>&minus;n</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Do not attempt to translate source addresses of incoming
packets into hostnames.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>&minus;p</b> <i>FILE</i></p></td>
<td width="1%"></td>
<td width="77%">


<p>Save the process ID of the trap daemon in
<i>FILE</i>.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;O</b>
<i>[abeEfnqQsStTuUvxX]</i></p>

<p style="margin-left:23%;">Specifies how MIB objects and
other output should be displayed. See the section <b>OUTPUT
OPTIONS</b> in the <i>snmpcmd(1)</i> manual page for
details.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;t</b></p></td>
<td width="9%"></td>
<td width="77%">


<p>Do not log traps to syslog. This disables logging to
syslog. This is useful if you want the snmptrapd application
to <b>only</b> run traphandle hooks and not to log any traps
to any location.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;v,
&minus;&minus;version</b></p>

<p style="margin-left:23%;">Print version information for
the trap daemon and then exit.</p>

<p style="margin-left:11%;"><b>&minus;x</b>
<i>ADDRESS</i></p>

<p style="margin-left:23%;">Connect to the AgentX master
agent on the specified address, rather than the default
&quot;/var/agentx/master&quot;. See <i>snmpd(8)</i> for
details of the format of such addresses.</p>


<p style="margin-left:11%;"><b>&minus;&minus;</b><i>name</i><b>=&quot;value&quot;</b></p>

<p style="margin-left:23%;">Allows one to specify any token
(&quot;name&quot;) supported in the <i>snmptrapd.conf</i>
file and sets its value to &quot;value&quot;. Overrides the
corresponding token in the <i>snmptrapd.conf</i> file. See
<i>snmptrapd.conf(5)</i> for the full list of tokens.</p>

<h2>FORMAT SPECIFICATIONS
<a name="FORMAT SPECIFICATIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>snmptrapd</b>
interprets format strings similarly to <i>printf(3)</i>. It
understands the following formatting sequences:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%%</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>a literal %</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%a</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>the contents of the agent&minus;addr field of the PDU
(v1 TRAPs only)</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%A</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>the hostname corresponding to the contents of the
agent&minus;addr field of the PDU, if available, otherwise
the contents of the agent&minus;addr field of the PDU (v1
TRAPs only).</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%b</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>PDU source address (Note: this is not necessarily an
IPv4 address)</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%B</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>PDU source hostname if available, otherwise PDU source
address (see note above)</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%h</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>current hour on the local system</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%H</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>the hour field from the <tt>sysUpTime.0</tt> varbind</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%j</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>current minute on the local system</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%J</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>the minute field from the <tt>sysUpTime.0</tt>
varbind</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%k</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>current second on the local system</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%K</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>the seconds field from the <tt>sysUpTime.0</tt>
varbind</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%l</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>current day of month on the local system</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%L</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>the day of month field from the <tt>sysUpTime.0</tt>
varbind</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%m</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>current (numeric) month on the local system</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%M</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>the numeric month field from the <tt>sysUpTime.0</tt>
varbind</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%N</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>enterprise string</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%q</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>trap sub-type (numeric, in decimal)</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%P</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>security information from the PDU (community name for
v1/v2c, user and context for v3)</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%t</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>decimal number of seconds since the operating system
epoch (as returned by <i>time(2)</i>)</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%T</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>the value of the <tt>sysUpTime.0</tt> varbind in
seconds</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%v</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>list of variable-bindings from the notification payload.
These will be separated by a tab, or by a comma and a blank
if the alternate form is requested See also %V</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%V</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>specifies the variable-bindings separator. This takes a
sequence of characters, up to the next % (to embed a % in
the string, use \%)</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%w</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>trap type (numeric, in decimal)</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%W</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>trap description</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%y</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>current year on the local system</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>%Y</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>the year field from the <tt>sysUpTime.0</tt> varbind</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">In addition to
these values, an optional field width and precision may also
be specified , just as in <i>printf(3)</i>, and a flag
value. The following flags are supported:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>&minus;</b></p></td>
<td width="5%"></td>
<td width="28%">


<p style="margin-top: 1em">left justify</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="5%"></td>
<td width="28%">


<p>use leading zeros</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>#</b></p></td>
<td width="5%"></td>
<td width="28%">


<p>use alternate form</p></td>
<td width="49%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The &quot;use
alternate form&quot; flag changes the behavior of various
format string sequences:</p>

<p style="margin-left:22%; margin-top: 1em">Time
information will be displayed based on GMT (rather than the
local timezone)</p>

<p style="margin-left:22%; margin-top: 1em">The
variable-bindings will be a comma-separated list (rather
than a tab-separated one)</p>

<p style="margin-left:22%; margin-top: 1em">The system
uptime will be broken down into a human-meaningful format
(rather than being a simple integer)</p>


<p style="margin-left:11%; margin-top: 1em"><b>Examples:</b>
<br>
To get a message like &quot;14:03 TRAP3.1 from
humpty.ucd.edu&quot; you could use something like this:</p>

<p style="margin-left:22%; margin-top: 1em">snmptrapd
&minus;P &minus;F &quot;%02.2h:%02.2j TRAP%w.%q from
%A\n&quot;</p>

<p style="margin-left:11%; margin-top: 1em">If you want the
same thing but in GMT rather than local time, use</p>

<p style="margin-left:22%; margin-top: 1em">snmptrapd
&minus;P &minus;F &quot;%#02.2h:%#02.2j TRAP%w.%q from
%A\n&quot;</p>

<h2>LISTENING ADDRESSES
<a name="LISTENING ADDRESSES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">By default,
<b>snmptrapd</b> listens for incoming SNMP TRAP and INFORM
packets on UDP port 162 on all IPv4 interfaces. However, it
is possible to modify this behaviour by specifying one or
more listening addresses as arguments to <b>snmptrapd</b>.
See the <i>snmpd(8)</i> manual page for more information
about the format of listening addresses.</p>

<h2>NOTIFICATION&minus;LOG&minus;MIB SUPPORT
<a name="NOTIFICATION&minus;LOG&minus;MIB SUPPORT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">As of net-snmp
5.0, the snmptrapd application supports the
NOTIFICATION&minus;LOG&minus;MIB. It does this by opening an
AgentX subagent connection to the master snmpd agent and
registering the notification log tables. As long as the
snmpd application is started first, it will attach itself to
it and thus you should be able to view the last recorded
notifications via the nlmLogTable and nlmLogVariableTable.
See the snmptrapd.conf file and the
&quot;doNotRetainNotificationLogs&quot; token for turning
off this support. See the NOTIFICATION&minus;LOG&minus;MIB
for more details about the MIB itself.</p>

<h2>EXTENSIBILITY AND CONFIGURATION
<a name="EXTENSIBILITY AND CONFIGURATION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">See the
<i>snmptrapd.conf(5)</i> manual page.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">snmpcmd(1),
snmpd(8), printf(3), snmptrapd.conf(5), syslog(8),
variables(5)</p>
<hr>
</body>
</html>
