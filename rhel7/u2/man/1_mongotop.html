<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov  5 22:07:49 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>MONGOTOP</title>

</head>
<body>

<h1 align="center">MONGOTOP</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#FIELDS">FIELDS</a><br>
<a href="#USE">USE</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">mongotop
&minus; MongoDB Activity Monitor</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>mongotop</b>
provides a method to track the amount of time a MongoDB
instance spends reading and writing data. <b>mongotop</b>
provides statistics on a per&minus;collection level. By
default, <b>mongotop</b> returns values every second.</p>

<p style="margin-left:11%; margin-top: 1em"><b>SEE
ALSO:</b></p>

<p style="margin-left:15%;">For more information about
monitoring MongoDB, see
http://docs.mongodb.org/manual/administration/monitoring.</p>

<p style="margin-left:15%; margin-top: 1em">For additional
background on various other MongoDB status outputs see:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="82%">



<p>http://docs.mongodb.org/manual/reference/command/serverStatus</p> </td></tr>
<tr valign="top" align="left">
<td width="15%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="82%">



<p>http://docs.mongodb.org/manual/reference/command/replSetGetStatus</p> </td></tr>
<tr valign="top" align="left">
<td width="15%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="82%">



<p>http://docs.mongodb.org/manual/reference/command/dbStats</p> </td></tr>
<tr valign="top" align="left">
<td width="15%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="82%">



<p>http://docs.mongodb.org/manual/reference/command/collStats</p> </td></tr>
</table>

<p style="margin-left:15%; margin-top: 1em">For an
additional utility that provides MongoDB metrics see
<b>mongostat</b>.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>mongotop
<br>
mongotop <br>
&minus;&minus;help, &minus;h</b></p>

<p style="margin-left:22%;">Returns information on
<b>mongotop</b> options and usage.</p>

<p style="margin-left:11%;"><b>&minus;&minus;verbose,
&minus;v</b></p>

<p style="margin-left:22%;">Increases the amount of
internal reporting returned on standard output or in log
files. Increase the verbosity with the <b>&minus;v</b> form
by including the option multiple times, (e.g.
<b>&minus;vvvvv</b>.)</p>

<p style="margin-left:11%;"><b>&minus;&minus;quiet</b></p>

<p style="margin-left:22%;">Runs <b>mongotop</b> in a quiet
mode that attempts to limit the amount of output. This
option suppresses:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="44%">


<p>output from <i>database commands</i></p></td>
<td width="31%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="44%">


<p>replication activity</p></td>
<td width="31%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="44%">


<p>connection accepted events</p></td>
<td width="31%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="44%">


<p>connection closed events</p></td>
<td width="31%">
</td></tr>
</table>


<p style="margin-left:11%;"><b>&minus;&minus;version</b></p>

<p style="margin-left:22%;">Returns the <b>mongotop</b>
release number.</p>

<p style="margin-left:11%;"><b>&minus;&minus;host
&lt;hostname&gt;&lt;:port&gt;, &minus;h</b></p>

<p style="margin-left:22%;">Specifies a resolvable hostname
for the <b>mongod</b> to which to connect. By default
<b>mongotop</b> attempts to connect to a MongoDB instance
running on the localhost on port number <b>27017</b>.</p>

<p style="margin-left:22%; margin-top: 1em">To connect to a
replica set, specify the replica set seed name and the seed
list of set members. Use the following format:</p>

<pre style="margin-left:26%; margin-top: 1em">&lt;replica_set_name&gt;/&lt;hostname1&gt;&lt;:port&gt;,&lt;hostname2:&lt;port&gt;,...</pre>


<p style="margin-left:22%; margin-top: 1em">You can always
connect directly to a single MongoDB instance by specifying
the host and port number directly.</p>

<p style="margin-left:11%;"><b>&minus;&minus;port
&lt;port&gt;</b></p>

<p style="margin-left:22%;">Specifies the port number when
the MongoDB instance is not running on the standard port of
<b>27017</b>. You may also specify the port number using the
<b>&minus;&minus;host</b> option.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;&minus;ipv6</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Enables IPv6 support, which allows <b>mongotop</b> to
connect to the MongoDB instance using an IPv6 network. All
MongoDB programs and processes, including <b>mongotop</b>,
disable IPv6 support by default.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;&minus;ssl</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>New in version 2.6.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Enables
connection to a <b>mongod</b> or <b>mongos</b> that has SSL
support enabled.</p>

<p style="margin-left:22%; margin-top: 1em">The default
distribution of MongoDB does not contain support for SSL.
For more information on MongoDB and SSL, see
http://docs.mongodb.org/manual/tutorial/configure&minus;ssl.</p>

<p style="margin-left:11%;"><b>&minus;&minus;sslCAFile
&lt;filename&gt;</b></p>

<p style="margin-left:22%;">New in version 2.6.</p>

<p style="margin-left:22%; margin-top: 1em">Specifies the
<b>.pem</b> file that contains the root certificate chain
from the Certificate Authority. Specify the file name of the
<b>.pem</b> file using relative or absolute paths.</p>

<p style="margin-left:22%; margin-top: 1em">The default
distribution of MongoDB does not contain support for SSL.
For more information on MongoDB and SSL, see
http://docs.mongodb.org/manual/tutorial/configure&minus;ssl.</p>

<p style="margin-left:11%;"><b>&minus;&minus;sslPEMKeyFile
&lt;filename&gt;</b></p>

<p style="margin-left:22%;">New in version 2.6.</p>

<p style="margin-left:22%; margin-top: 1em">Specifies the
<b>.pem</b> file that contains both the SSL certificate and
key. Specify the file name of the <b>.pem</b> file using
relative or absolute paths.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
required when using the <i>&minus;&minus;ssl</i> option to
connect to a <b>mongod</b> or <b>mongos</b> that has
<b>sslCAFile</b> enabled <i>without</i>
<b>sslWeakCertificateValidation</b>.</p>

<p style="margin-left:22%; margin-top: 1em">The default
distribution of MongoDB does not contain support for SSL.
For more information on MongoDB and SSL, see
http://docs.mongodb.org/manual/tutorial/configure&minus;ssl.</p>


<p style="margin-left:11%;"><b>&minus;&minus;sslPEMKeyPassword
&lt;value&gt;</b></p>

<p style="margin-left:22%;">New in version 2.6.</p>

<p style="margin-left:22%; margin-top: 1em">Specifies the
password to de&minus;crypt the certificate&minus;key file
(i.e. <i>&minus;&minus;sslPEMKeyFile</i>). Use
<i>&minus;&minus;sslPEMKeyPassword</i> only if the
certificate&minus;key file is encrypted. In all cases,
<b>mongotop</b> will redact the password from all logging
and reporting output.</p>

<p style="margin-left:22%; margin-top: 1em">If the private
key in the PEM file is encrypted and you do not specify
<i>&minus;&minus;sslPEMKeyPassword</i>, <b>mongotop</b> will
prompt for a passphrase. See
<i>ssl&minus;certificate&minus;password</i>.</p>

<p style="margin-left:22%; margin-top: 1em">The default
distribution of MongoDB does not contain support for SSL.
For more information on MongoDB and SSL, see
http://docs.mongodb.org/manual/tutorial/configure&minus;ssl.</p>

<p style="margin-left:11%;"><b>&minus;&minus;sslCRLFile
&lt;filename&gt;</b></p>

<p style="margin-left:22%;">New in version 2.6.</p>

<p style="margin-left:22%; margin-top: 1em">Specifies the
<b>.pem</b> file that contains the Certificate Revocation
List. Specify the file name of the <b>.pem</b> file using
relative or absolute paths.</p>

<p style="margin-left:22%; margin-top: 1em">The default
distribution of MongoDB does not contain support for SSL.
For more information on MongoDB and SSL, see
http://docs.mongodb.org/manual/tutorial/configure&minus;ssl.</p>


<p style="margin-left:11%;"><b>&minus;&minus;sslAllowInvalidCertificates</b></p>

<p style="margin-left:22%;">New in version 2.6.</p>

<p style="margin-left:22%; margin-top: 1em">Bypasses the
validation checks for server certificates and allows the use
of invalid certificates. When using the
<b>sslAllowInvalidCertificates</b> setting, MongoDB logs as
a warning the use of the invalid certificate.</p>

<p style="margin-left:22%; margin-top: 1em">The default
distribution of MongoDB does not contain support for SSL.
For more information on MongoDB and SSL, see
http://docs.mongodb.org/manual/tutorial/configure&minus;ssl.</p>


<p style="margin-left:11%;"><b>&minus;&minus;sslFIPSMode</b></p>

<p style="margin-left:22%;">New in version 2.6.</p>

<p style="margin-left:22%; margin-top: 1em">Directs
<b>mongotop</b> to use the FIPS mode of the installed
OpenSSL library. Your system must have a FIPS compliant
OpenSSL library to use <i>&minus;&minus;sslFIPSMode</i>.</p>

<p style="margin-left:22%; margin-top: 1em">The default
distribution of MongoDB does not contain support for SSL.
For more information on MongoDB and SSL, see
http://docs.mongodb.org/manual/tutorial/configure&minus;ssl.</p>

<p style="margin-left:11%;"><b>&minus;&minus;username
&lt;username&gt;, &minus;u</b></p>

<p style="margin-left:22%;">Specifies a username with which
to authenticate to a MongoDB database that uses
authentication. Use in conjunction with the
<b>&minus;&minus;password</b> and
<b>&minus;&minus;authenticationDatabase</b> options.</p>

<p style="margin-left:11%;"><b>&minus;&minus;password
&lt;password&gt;, &minus;p</b></p>

<p style="margin-left:22%;">Specifies a password with which
to authenticate to a MongoDB database that uses
authentication. Use in conjunction with the
<b>&minus;&minus;username</b> and
<b>&minus;&minus;authenticationDatabase</b> options.</p>


<p style="margin-left:11%;"><b>&minus;&minus;authenticationDatabase
&lt;dbname&gt;</b></p>

<p style="margin-left:22%;">New in version 2.4.</p>

<p style="margin-left:22%; margin-top: 1em">Specifies the
database that holds the user's credentials. If you do not
specify an authentication database, <b>mongotop</b> assumes
that the database specified as the argument to the
<i>&minus;&minus;db</i> option holds the user's
credentials.</p>


<p style="margin-left:11%;"><b>&minus;&minus;authenticationMechanism
&lt;name&gt;</b></p>

<p style="margin-left:22%;">New in version 2.4.</p>

<p style="margin-left:22%; margin-top: 1em">Specifies the
authentication mechanism. By default, the authentication
mechanism is <b>MONGODB&minus;CR</b>, which is the MongoDB
challenge/response authentication mechanism. In MongoDB
Enterprise, <b>mongotop</b> also includes support for
<b>GSSAPI</b> to handle Kerberos authentication. See
http://docs.mongodb.org/manual/tutorial/control&minus;access&minus;to&minus;mongodb&minus;with&minus;kerberos&minus;authentication
for more information about Kerberos authentication.</p>

<p style="margin-left:11%;"><b>&minus;&minus;locks</b></p>

<p style="margin-left:22%;">Toggles the mode of
<b>mongotop</b> to report on use of per&minus;database
<i>locks</i>. These data are useful for measuring concurrent
operations and lock percentage.</p>

<p style="margin-left:11%;"><b>&lt;sleeptime&gt;</b></p>

<p style="margin-left:22%;">The final argument is the
length of time, in seconds, that <b>mongotop</b> waits in
between calls. By default <b>mongotop</b> returns data every
second.</p>

<h2>FIELDS
<a name="FIELDS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>mongotop</b>
returns time values specified in milliseconds (ms.)</p>


<p style="margin-left:11%; margin-top: 1em"><b>mongotop</b>
only reports active namespaces or databases, depending on
the <i>&minus;&minus;locks</i> option. If you don't see a
database or collection, it has received no recent activity.
You can issue a simple operation in the <b>mongo</b> shell
to generate activity to affect the output of
<b>mongotop</b>. <b><br>
mongotop.ns</b></p>

<p style="margin-left:22%;">Contains the database
namespace, which combines the database name and
collection.</p>

<p style="margin-left:22%; margin-top: 1em">Changed in
version 2.2: If you use the <i>&minus;&minus;locks</i>, the
<b>ns</b> field does not appear in the <b>mongotop</b>
output.</p>

<p style="margin-left:11%;"><b>mongotop.db</b></p>

<p style="margin-left:22%;">New in version 2.2.</p>

<p style="margin-left:22%; margin-top: 1em">Contains the
name of the database. The database named <b>.</b> refers to
the global lock, rather than a specific database.</p>

<p style="margin-left:22%; margin-top: 1em">This field does
not appear unless you have invoked <b>mongotop</b> with the
<i>&minus;&minus;locks</i> option.</p>

<p style="margin-left:11%;"><b>mongotop.total</b></p>

<p style="margin-left:22%;">Provides the total amount of
time that this <b>mongod</b> spent operating on this
namespace.</p>

<p style="margin-left:11%;"><b>mongotop.read</b></p>

<p style="margin-left:22%;">Provides the amount of time
that this <b>mongod</b> spent performing read operations on
this namespace.</p>

<p style="margin-left:11%;"><b>mongotop.write</b></p>

<p style="margin-left:22%;">Provides the amount of time
that this <b>mongod</b> spent performing write operations on
this namespace.</p>


<p style="margin-left:11%;"><b>mongotop.&lt;timestamp&gt;</b></p>

<p style="margin-left:22%;">Provides a time stamp for the
returned data.</p>

<h2>USE
<a name="USE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">By default
<b>mongotop</b> connects to the MongoDB instance running on
the localhost port <b>27017</b>. However, <b>mongotop</b>
can optionally connect to remote <b>mongod</b> instances.
See the <i>mongotop options</i> for more information.</p>

<p style="margin-left:11%; margin-top: 1em">To force
<b>mongotop</b> to return less frequently specify a number,
in seconds at the end of the command. In this example,
<b>mongotop</b> will return every 15 seconds.</p>

<pre style="margin-left:15%; margin-top: 1em">mongotop 15</pre>


<p style="margin-left:11%; margin-top: 1em">This command
produces the following output:</p>
<pre style="margin-left:15%; margin-top: 1em">connected to: 127.0.0.1

                    ns       total        read       write           2012&minus;08&minus;13T15:45:40
test.system.namespaces         0ms         0ms         0ms
  local.system.replset         0ms         0ms         0ms
  local.system.indexes         0ms         0ms         0ms
  admin.system.indexes         0ms         0ms         0ms
                admin.         0ms         0ms         0ms


                    ns       total        read       write           2012&minus;08&minus;13T15:45:55
test.system.namespaces         0ms         0ms         0ms
  local.system.replset         0ms         0ms         0ms
  local.system.indexes         0ms         0ms         0ms
  admin.system.indexes         0ms         0ms         0ms
                admin.         0ms         0ms         0ms</pre>


<p style="margin-left:11%; margin-top: 1em">To return a
<b>mongotop</b> report every 5 minutes, use the following
command:</p>

<pre style="margin-left:15%; margin-top: 1em">mongotop 300</pre>


<p style="margin-left:11%; margin-top: 1em">To report the
use of per&minus;database locks, use <i>mongotop
&minus;&minus;locks</i>, which produces the following
output:</p>
<pre style="margin-left:15%; margin-top: 1em">$ mongotop &minus;&minus;locks
connected to: 127.0.0.1


                  db       total        read       write          2012&minus;08&minus;13T16:33:34
               local         0ms         0ms         0ms
               admin         0ms         0ms         0ms
                   .         0ms         0ms         0ms</pre>


<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">MongoDB
Documentation Project</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">2011-2014,
MongoDB, Inc.</p>
<hr>
</body>
</html>
