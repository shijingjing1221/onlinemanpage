<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 01:16:58 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>BLK_RQ_PREP_CLONE</title>

</head>
<body>

<h1 align="center">BLK_RQ_PREP_CLONE</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#ARGUMENTS">ARGUMENTS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">blk_rq_prep_clone
&minus; Helper function to setup clone request</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
blk_rq_prep_clone(struct&nbsp;request&nbsp;*&nbsp;</b><i>rq</i><b>,
struct&nbsp;request&nbsp;*&nbsp;</b><i>rq_src</i><b>,
struct&nbsp;bio_set&nbsp;*&nbsp;</b><i>bs</i><b>,
gfp_t&nbsp;</b><i>gfp_mask</i><b>,
int&nbsp;(*</b><i>bio_ctr</i><b>)&nbsp;(struct&nbsp;bio&nbsp;*,&nbsp;struct&nbsp;bio&nbsp;*,&nbsp;void&nbsp;*),
void&nbsp;*&nbsp;</b><i>data</i><b>);</b></p> </td></tr>
</table>

<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b><i>rq</i></b></p>

<p style="margin-left:17%;">the request to be setup</p>


<p style="margin-left:11%; margin-top: 1em"><i>rq_src</i></p>

<p style="margin-left:17%;">original request to be
cloned</p>

<p style="margin-left:11%; margin-top: 1em"><i>bs</i></p>

<p style="margin-left:17%;">bio_set that bios for clone are
allocated from</p>


<p style="margin-left:11%; margin-top: 1em"><i>gfp_mask</i></p>

<p style="margin-left:17%;">memory allocation mask for
bio</p>


<p style="margin-left:11%; margin-top: 1em"><i>bio_ctr</i></p>

<p style="margin-left:17%;">setup function to be called for
each clone bio. Returns <b>0</b> for success, non <b>0</b>
for failure.</p>


<p style="margin-left:11%; margin-top: 1em"><i>data</i></p>

<p style="margin-left:17%;">private data to be passed to
<i>bio_ctr</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Clones bios in
<i>rq_src</i> to <i>rq</i>, and copies attributes of
<i>rq_src</i> to <i>rq</i>. The actual data parts of
<i>rq_src</i> (e.g. &minus;&gt;cmd, &minus;&gt;buffer,
&minus;&gt;sense) are not copied, and copying such parts is
the caller's responsibility. Also, pages which the original
bios are pointing to are not copied and the cloned bios just
point same pages. So cloned bios must be completed before
original bios, which means the caller must complete
<i>rq</i> before <i>rq_src</i>.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>
<hr>
</body>
</html>
