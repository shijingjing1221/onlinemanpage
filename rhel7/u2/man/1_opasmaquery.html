<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 02:03:19 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>opasmaquery</title>

</head>
<body>

<h1 align="center">opasmaquery</h1>

<a href="#NAME">NAME</a><br>
<a href="#Syntax">Syntax</a><br>
<a href="#Options">Options</a><br>
<a href="#Standard Options--&gt;">Standard Options--&gt;</a><br>
<a href="#-h and -p options permit a variety of selections:--&gt;">-h and -p options permit a variety of selections:--&gt;</a><br>
<a href="#otype options vary by report--&gt;">otype options vary by report--&gt;</a><br>
<a href="#Examples">Examples</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">opasmaquery</p>

<p style="margin-left:11%; margin-top: 1em">(All) This tool
can perform the majority of Intel(R) Omni-Path Architecture
defined SMA queries and display the resulting response. It
should be noted that each query is issued directly to the
SMA and does not involve SM interaction.</p>

<h2>Syntax
<a name="Syntax"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">opasmaquery
[-v] [-g] [-l <i>lid</i>] [-h <i>hfi</i>] [-p <i>port</i>]
[-K <i>mkey</i>] [-o <i>otype</i>] [-m <i>port</i>|
<i>port1,port2</i>] [-f <i>flid</i>] [-b
<i>block[,count]</i>] [hop hop ...]</p>

<p style="margin-left:11%; margin-top: 1em">or <br>
opasmaquery --help</p>

<h2>Options
<a name="Options"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em">--help</p></td>
<td width="6%"></td>
<td width="34%">


<p style="margin-top: 1em">Produce full help text</p></td>
<td width="40%">
</td></tr>
</table>

<h2>Standard Options--&gt;
<a name="Standard Options--&gt;"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p style="margin-top: 1em">-v</p></td>
<td width="3%"></td>
<td width="74%">


<p style="margin-top: 1em">Verbose output. Can be specified
more than once for additional openib debugging and libibumad
debugging.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p>-g</p></td>
<td width="3%"></td>
<td width="74%">


<p>Display in line-by-line format (default is summary
format).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p>-l <i>lid</i></p></td>
<td width="3%"></td>
<td width="74%">


<p>Destination lid, default is local port.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p>-h <i>hfi</i></p></td>
<td width="3%"></td>
<td width="74%">


<p>HFI , numbered 1..n. Using 0 specifies that the -p
<i>port</i> port will be a system wide port number (default
is 0).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p>-p <i>port</i></p></td>
<td width="3%"></td>
<td width="74%">


<p>Port, numbered 1..n. If -h <i>hfi</i> is 0 then
<i>port</i> will be a system wide port number (default is
1).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p>-K <i>mkey</i></p></td>
<td width="3%"></td>
<td width="74%">


<p>SM management key to access remote ports.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p>-o <i>otype</i></p></td>
<td width="3%"></td>
<td width="74%">


<p>Output type. Default is nodeinfo .Valid output types
are:</p> </td></tr>
</table>

<h2>-h and -p options permit a variety of selections:--&gt;
<a name="-h and -p options permit a variety of selections:--&gt;"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p style="margin-top: 1em">-h 0</p></td>
<td width="1%"></td>
<td width="74%">


<p style="margin-top: 1em">First active port in system
(this is the default).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>-h 0 -p 0</p></td>
<td width="1%"></td>
<td width="74%">


<p>First active port in system.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>-h <i>x</i></p></td>
<td width="1%"></td>
<td width="74%">


<p>First active port on HFI <i>x</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>-h <i>x</i>-p 0</p></td>
<td width="1%"></td>
<td width="74%">


<p>First active port on HFI <i>x</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>-h 0 -p <i>y</i></p></td>
<td width="1%"></td>
<td width="74%">


<p>Port <i>y</i>within system (irrespective of which ports
are active).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>-h <i>x</i>-p <i>y</i></p></td>
<td width="1%"></td>
<td width="74%">


<p>HFI <i>x</i>, port <i>y</i></p></td></tr>
</table>

<h2>otype options vary by report--&gt;
<a name="otype options vary by report--&gt;"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p style="margin-top: 1em">-m <i>port</i></p></td>
<td width="4%"></td>
<td width="56%">


<p style="margin-top: 1em">Port in destination device to
query.</p> </td>
<td width="18%">
</td></tr>
</table>

<p style="margin-left:11%;">-m <i>port1,port2</i></p>

<p style="margin-left:26%;">For some reports, a range of
ports between <i>port1</i> and <i>port2</i> . For others,
this describes an inport/outport pair.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p>-f <i>flid</i></p></td>
<td width="4%"></td>
<td width="74%">


<p>LID to lookup in forwarding table to select which LFT or
MFT block to display. Default is to show entire table.</p></td></tr>
</table>

<p style="margin-left:11%;">-b <i>block[,count]</i></p>

<p style="margin-left:26%;">Block number of either guids,
pkey, or ranfdb and the number of blocks to display. Default
is to show entire table.For example:</p>

<p style="margin-left:26%; margin-top: 1em">-b <i>block</i>
Display all of block &quot; <i>block</i> &quot; of a larger
table.</p>

<p style="margin-left:26%; margin-top: 1em">-b
<i>block,count</i> Display &quot; <i>count</i> &quot; blocks
of data starting with block &quot; <i>block</i> &quot;.</p>

<p style="margin-left:26%; margin-top: 1em">-b ,
<i>count</i> Display &quot; <i>count</i> &quot; blocks of
data starting with block 0.</p>

<h2>Examples
<a name="Examples"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">opasmaquery -o
nodedesc -l 6 # get nodedesc via lid routed opasmaquery -o
nodedesc 1 3 # get nodedesc via directed route # (2 dr hops)
opasmaquery -o nodeinfo -l 2 3 # get nodeinfo via a
combination of # lid routed and directed route # (1 dr hop)
opasmaquery -o portinfo # get local port info opasmaquery -o
portinfo -l 6 -m 1 # get port info of port 1 of lid 6
opasmaquery -o pkey -l 2 3 # get pkey table entries starting
# (lid routed to lid 2, # then 1 dr hop to port
3)opasmaquery -o slvl -l 6 # get slvl of CA at lid 6
opasmaquery -o vlarb -l 6 # get vlarb table entries from lid
6 opasmaquery -o swinfo -l 2 # get switch info opasmaquery
-o sminfo -l 1 # get SM info opasmaquery -o slsc -l 3 # get
sl2sc table entries from lid 3 opasmaquery -o scsl -l 3 #
get sc2sl table entries from lid 3</p>
<hr>
</body>
</html>
