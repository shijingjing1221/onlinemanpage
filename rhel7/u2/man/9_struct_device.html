<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 02:28:07 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>STRUCT DEVICE</title>

</head>
<body>

<h1 align="center">STRUCT DEVICE</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#MEMBERS">MEMBERS</a><br>
<a href="#EXAMPLE">EXAMPLE</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">struct_device
&minus; The basic device structure</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">struct device {
<br>
struct device * parent; <br>
struct device_private * p; <br>
struct kobject kobj; <br>
const char * init_name; <br>
const struct device_type * type; <br>
struct mutex mutex; <br>
struct bus_type * bus; <br>
struct device_driver * driver; <br>
void * platform_data; <br>
struct dev_pm_info power; <br>
struct dev_pm_domain * pm_domain; <br>
#ifdef CONFIG_PINCTRL <br>
struct dev_pin_info * pins; <br>
#endif <br>
#ifdef CONFIG_NUMA <br>
int numa_node; <br>
#endif <br>
u64 * dma_mask; <br>
u64 coherent_dma_mask; <br>
struct device_dma_parameters * dma_parms; <br>
struct list_head dma_pools; <br>
struct dma_coherent_mem * dma_mem; <br>
#ifdef CONFIG_DMA_CMA <br>
#endif <br>
struct dev_archdata archdata; <br>
struct device_node * of_node; <br>
struct acpi_dev_node acpi_node; <br>
dev_t devt; <br>
u32 id; <br>
spinlock_t devres_lock; <br>
struct list_head devres_head; <br>
struct klist_node knode_class; <br>
struct class * class; <br>
const struct attribute_group ** groups; <br>
void (* release) (struct device *dev); <br>
bool offline_disabled:1; <br>
bool offline:1; <br>
};</p>

<h2>MEMBERS
<a name="MEMBERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">parent</p>

<p style="margin-left:17%;">The device's
&ldquo;parent&rdquo; device, the device to which it is
attached. In most cases, a parent device is some sort of bus
or host controller. If parent is NULL, the device, is a
top&minus;level device, which is not usually what you
want.</p>

<p style="margin-left:11%; margin-top: 1em">p</p>

<p style="margin-left:17%;">Holds the private data of the
driver core portions of the device. See the comment of the
struct device_private for detail.</p>

<p style="margin-left:11%; margin-top: 1em">kobj</p>

<p style="margin-left:17%;">A top&minus;level, abstract
class from which other classes are derived.</p>

<p style="margin-left:11%; margin-top: 1em">init_name</p>

<p style="margin-left:17%;">Initial name of the device.</p>

<p style="margin-left:11%; margin-top: 1em">type</p>

<p style="margin-left:17%;">The type of device. This
identifies the device type and carries type&minus;specific
information.</p>

<p style="margin-left:11%; margin-top: 1em">mutex</p>

<p style="margin-left:17%;">Mutex to synchronize calls to
its driver.</p>

<p style="margin-left:11%; margin-top: 1em">bus</p>

<p style="margin-left:17%;">Type of bus device is on.</p>

<p style="margin-left:11%; margin-top: 1em">driver</p>

<p style="margin-left:17%;">Which driver has allocated
this</p>


<p style="margin-left:11%; margin-top: 1em">platform_data</p>

<p style="margin-left:17%;">Platform data specific to the
device.</p>

<p style="margin-left:11%; margin-top: 1em">power</p>

<p style="margin-left:17%;">For device power management.
See Documentation/power/devices.txt for details.</p>

<p style="margin-left:11%; margin-top: 1em">pm_domain</p>

<p style="margin-left:17%;">Provide callbacks that are
executed during system suspend, hibernation, system resume
and during runtime PM transitions along with
subsystem&minus;level and driver&minus;level callbacks.</p>

<p style="margin-left:11%; margin-top: 1em">pins</p>

<p style="margin-left:17%;">For device pin management. See
Documentation/pinctrl.txt for details.</p>

<p style="margin-left:11%; margin-top: 1em">numa_node</p>

<p style="margin-left:17%;">NUMA node this device is close
to.</p>

<p style="margin-left:11%; margin-top: 1em">dma_mask</p>

<p style="margin-left:17%;">Dma mask (if dma'ble
device).</p>


<p style="margin-left:11%; margin-top: 1em">coherent_dma_mask</p>

<p style="margin-left:17%;">Like dma_mask, but for
alloc_coherent mapping as not all hardware supports
64&minus;bit addresses for consistent allocations such
descriptors.</p>

<p style="margin-left:11%; margin-top: 1em">dma_parms</p>

<p style="margin-left:17%;">A low level driver may set
these to teach IOMMU code about segment limitations.</p>

<p style="margin-left:11%; margin-top: 1em">dma_pools</p>

<p style="margin-left:17%;">Dma pools (if dma'ble
device).</p>

<p style="margin-left:11%; margin-top: 1em">dma_mem</p>

<p style="margin-left:17%;">Internal for coherent mem
override.</p>

<p style="margin-left:11%; margin-top: 1em">archdata</p>

<p style="margin-left:17%;">For arch&minus;specific
additions.</p>

<p style="margin-left:11%; margin-top: 1em">of_node</p>

<p style="margin-left:17%;">Associated device tree
node.</p>

<p style="margin-left:11%; margin-top: 1em">acpi_node</p>

<p style="margin-left:17%;">Associated ACPI device
node.</p>

<p style="margin-left:11%; margin-top: 1em">devt</p>

<p style="margin-left:17%;">For creating the sysfs
&ldquo;dev&rdquo;.</p>

<p style="margin-left:11%; margin-top: 1em">id</p>

<p style="margin-left:17%;">device instance</p>


<p style="margin-left:11%; margin-top: 1em">devres_lock</p>

<p style="margin-left:17%;">Spinlock to protect the
resource of the device.</p>


<p style="margin-left:11%; margin-top: 1em">devres_head</p>

<p style="margin-left:17%;">The resources list of the
device.</p>


<p style="margin-left:11%; margin-top: 1em">knode_class</p>

<p style="margin-left:17%;">The node used to add the device
to the class list.</p>

<p style="margin-left:11%; margin-top: 1em">class</p>

<p style="margin-left:17%;">The class of the device.</p>

<p style="margin-left:11%; margin-top: 1em">groups</p>

<p style="margin-left:17%;">Optional attribute groups.</p>

<p style="margin-left:11%; margin-top: 1em">release</p>

<p style="margin-left:17%;">Callback to free the device
after all references have gone away. This should be set by
the allocator of the device (i.e. the bus driver that
discovered the device).</p>


<p style="margin-left:11%; margin-top: 1em">offline_disabled</p>

<p style="margin-left:17%;">If set, the device is
permanently online.</p>

<p style="margin-left:11%; margin-top: 1em">offline</p>

<p style="margin-left:17%;">Set after successful invocation
of bus type's .<b>offline</b>.</p>

<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>


<p style="margin-left:17%; margin-top: 1em">For devices on
custom boards, as typical of embedded</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">
</td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="77%">


<p>and SOC based hardware, Linux often uses platform_data
to point</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">
</td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="77%">


<p>to board&minus;specific structures describing devices
and how they</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">
</td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="77%">


<p>are wired. That can include what ports are available,
chip</p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">
</td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="77%">


<p>variants, which GPIO pins act in what additional roles,
and so</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">
</td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="77%">


<p>on. This shrinks the &ldquo;Board Support
Packages&rdquo; (BSPs) and</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">
</td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="77%">


<p>minimizes board&minus;specific #ifdefs in drivers.</p></td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">At the lowest
level, every device in a Linux system is represented by an
instance of struct device. The device structure contains the
information that the device model core needs to model the
system. Most subsystems, however, track additional
information about the devices they host. As a result, it is
rare for devices to be represented by bare device
structures; instead, that structure, like kobject
structures, is usually embedded within a higher&minus;level
representation of the device.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>
<hr>
</body>
</html>
