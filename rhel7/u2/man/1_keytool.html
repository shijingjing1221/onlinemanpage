<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 01:52:31 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>keytool</title>

</head>
<body>

<h1 align="center">keytool</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#COMMAND&nbsp;AND&nbsp;OPTION&nbsp;NOTES">COMMAND&nbsp;AND&nbsp;OPTION&nbsp;NOTES</a><br>
<a href="#OPTION&nbsp;DEFAULTS">OPTION&nbsp;DEFAULTS</a><br>
<a href="#COMMON&nbsp;OPTIONS">COMMON&nbsp;OPTIONS</a><br>
<a href="#NAMED&nbsp;EXTENSIONS">NAMED&nbsp;EXTENSIONS</a><br>
<a href="#COMMANDS">COMMANDS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#TERMS">TERMS</a><br>
<a href="#WARNINGS">WARNINGS</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#SEE&nbsp;ALSO">SEE&nbsp;ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">keytool &minus;
Manages a keystore (database) of cryptographic keys, X.509
certificate chains, and trusted certificates.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>keytool</b>
[<i>commands</i>] <i><br>
commands</i></p>

<p style="margin-left:22%;">See Commands. These commands
are categorized by task as follows:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="52%">


<p>Create or Add Data to the Keystore</p></td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:25%;">&bull;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%"></td>
<td width="2%"></td>
<td width="23%">


<p style="margin-top: 1em">-gencert</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="23%">


<p>-genkeypair</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="23%">


<p>-genseckey</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="23%">


<p>-importcert</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="23%">


<p>-importpassword</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="23%"></td>
<td width="49%">
</td></tr>
</table>

<p style="margin-left:25%; margin-top: 1em">Import Contents
From Another Keystore</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="23%">


<p style="margin-top: 1em">-importkeystore</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="23%"></td>
<td width="49%">
</td></tr>
</table>

<p style="margin-left:25%; margin-top: 1em">Generate
Certificate Request</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="12%">


<p style="margin-top: 1em">-certreq</p></td>
<td width="60%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="12%"></td>
<td width="60%">
</td></tr>
</table>

<p style="margin-left:25%; margin-top: 1em">Export Data</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="17%">


<p style="margin-top: 1em">-exportcert</p></td>
<td width="55%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="17%"></td>
<td width="55%">
</td></tr>
</table>

<p style="margin-left:25%; margin-top: 1em">Display
Data</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="20%">


<p style="margin-top: 1em">-list</p></td>
<td width="52%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="20%">


<p>-printcert</p></td>
<td width="52%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="20%">


<p>-printcertreq</p></td>
<td width="52%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="20%">


<p>-printcrl</p></td>
<td width="52%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="20%"></td>
<td width="52%">
</td></tr>
</table>

<p style="margin-left:25%; margin-top: 1em">Manage the
Keystore</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="18%">


<p style="margin-top: 1em">-storepasswd</p></td>
<td width="54%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="18%">


<p>-keypasswd</p></td>
<td width="54%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="18%">


<p>-delete</p></td>
<td width="54%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="18%">


<p>-changealias</p></td>
<td width="54%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="18%"></td>
<td width="54%">
</td></tr>
</table>

<p style="margin-left:25%; margin-top: 1em">Get Help</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="25%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="7%">


<p style="margin-top: 1em">-help</p></td>
<td width="65%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>keytool</b> command is a key and certificate management
utility. It enables users to administer their own
public/private key pairs and associated certificates for use
in self-authentication (where the user authenticates himself
or herself to other users and services) or data integrity
and authentication services, using digital signatures. The
<b>keytool</b> command also enables users to cache the
public keys (in the form of certificates) of their
communicating peers.</p>

<p style="margin-left:11%; margin-top: 1em">A certificate
is a digitally signed statement from one entity (person,
company, and so on.), that says that the public key (and
some other information) of some other entity has a
particular value. (See Certificate.) When data is digitally
signed, the signature can be verified to check the data
integrity and authenticity. Integrity means that the data
has not been modified or tampered with, and authenticity
means the data comes from whoever claims to have created and
signed it.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>keytool</b> command also enables users to administer
secret keys and passphrases used in symmetric encryption and
decryption (DES).</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>keytool</b> command stores the keys and certificates in a
keystore. See KeyStore aliases.</p>

<h2>COMMAND&nbsp;AND&nbsp;OPTION&nbsp;NOTES
<a name="COMMAND&nbsp;AND&nbsp;OPTION&nbsp;NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">See Commands
for a listing and description of the various commands.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p style="margin-top: 1em">All command and option names are
preceded by a minus sign (-).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>The options for each command can be provided in any
order.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>All items not italicized or in braces or brackets are
required to appear as is.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>Braces surrounding an option signify that a default
value will be used when the option is not specified on the
command line. See Option Defaults. Braces are also used
around the <b>-v</b>, <b>-rfc</b>, and <b>-J</b> options,
which only have meaning when they appear on the command
line. They do not have any default values other than not
existing.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>Brackets surrounding an option signify that the user is
prompted for the values when the option is not specified on
the command line. For the <b>-keypass</b> option, if you do
not specify the option on the command line, then the
<b>keytool</b> command first attempts to use the keystore
password to recover the private/secret key. If this attempt
fails, then the <b>keytool</b> command prompts you for the
private/secret key password.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>Items in italics (option values) represent the actual
values that must be supplied. For example, here is the
format of the <b>-printcert</b> command:</p></td></tr>
</table>

<p style="margin-left:14%; margin-top: 1em"><b>keytool
&minus;printcert {&minus;file</b> <i>cert_file</i>}
{&minus;v}</p>

<p style="margin-left:14%; margin-top: 1em"><i>When you
specify a</i> <b>-printcert</b> command, replace
<i>cert_file</i> with the actual file name, as follows:
<b>keytool -printcert -file VScert.cer</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p style="margin-top: 1em">Option values must be put in
quotation marks when they contain a blank (space).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>The <b>-help</b> option is the default. The
<b>keytool</b> command is the same as <b>keytool
-help</b>.</p> </td></tr>
</table>

<h2>OPTION&nbsp;DEFAULTS
<a name="OPTION&nbsp;DEFAULTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
examples show the defaults for various option values.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;alias
&quot;mykey&quot; <br>
&minus;keyalg <br>
&quot;DSA&quot; (when using &minus;genkeypair) <br>
&quot;DES&quot; (when using &minus;genseckey) <br>
&minus;keysize <br>
2048 (when using &minus;genkeypair and &minus;keyalg is
&quot;RSA&quot;) <br>
1024 (when using &minus;genkeypair and &minus;keyalg is
&quot;DSA&quot;) <br>
256 (when using &minus;genkeypair and &minus;keyalg is
&quot;EC&quot;) <br>
56 (when using &minus;genseckey and &minus;keyalg is
&quot;DES&quot;) <br>
168 (when using &minus;genseckey and &minus;keyalg is
&quot;DESede&quot;) <br>
&minus;validity 90 <br>
&minus;keystore &lt;the file named .keystore in the
user&rsquo;s home directory&gt; <br>
&minus;storetype &lt;the value of the
&quot;keystore.type&quot; property in the <br>
security properties file, which is returned by the static
<br>
getDefaultType method in java.security.KeyStore&gt; <br>
&minus;file <br>
stdin (if reading) <br>
stdout (if writing) <br>
&minus;protected false</b></p>

<p style="margin-left:11%; margin-top: 1em">In generating a
public/private key pair, the signature algorithm
(<b>-sigalg</b> option) is derived from the algorithm of the
underlying private key:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p style="margin-top: 1em">If the underlying private key is
of type DSA, then the <b>-sigalg</b> option defaults to
SHA1withDSA.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>If the underlying private key is of type RSA, then the
<b>-sigalg</b> option defaults to SHA256withRSA.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>If the underlying private key is of type EC, then the
<b>-sigalg</b> option defaults to SHA256withECDSA.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">For a full list
of <b>-keyalg</b> and <b>-sigalg</b> arguments, see Java
Cryptography Architecture (JCA) Reference Guide at
http://docs.oracle.com/javase/8/docs/technotes/guides/security/crypto/CryptoSpec.html#AppA</p>

<h2>COMMON&nbsp;OPTIONS
<a name="COMMON&nbsp;OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <b>-v</b>
option can appear for all commands except <b>-help</b>. When
the <b>-v</b> option appears, it signifies verbose mode,
which means that more information is provided in the
output.</p>

<p style="margin-left:11%; margin-top: 1em">There is also a
<b>-Jjavaoption</b> argument that can appear for any
command. When the <b>-Jjavaoption</b> appears, the specified
<b>javaoption</b> string is passed directly to the Java
interpreter. This option does not contain any spaces. It is
useful for adjusting the execution environment or memory
usage. For a list of possible interpreter options, type
<b>java -h</b> or <b>java -X</b> at the command line.</p>

<p style="margin-left:11%; margin-top: 1em">These options
can appear for all commands operating on a keystore: <br>
-storetype <i>storetype</i></p>

<p style="margin-left:22%;">This qualifier specifies the
type of keystore to be instantiated.</p>

<p style="margin-left:11%;">-keystore <i>keystore</i></p>

<p style="margin-left:22%;">The keystore location.</p>

<p style="margin-left:22%; margin-top: 1em">If the JKS
<b>storetype</b> is used and a keystore file does not yet
exist, then certain <b>keytool</b> commands can result in a
new keystore file being created. For example, if <b>keytool
-genkeypair</b> is called and the <b>-keystore</b> option is
not specified, the default keystore file named
<b>.keystore</b> in the user&rsquo;s home directory is
created when it does not already exist. Similarly, if the
<b>-keystore ks_file</b> option is specified but ks_file
does not exist, then it is created. For more information on
the JKS <b>storetype</b>, see the <i>KeyStore
Implementation</i> section in KeyStore aliases.</p>

<p style="margin-left:22%; margin-top: 1em">Note that the
input stream from the <b>-keystore</b> option is passed to
the <b>KeyStore.load</b> method. If <b>NONE</b> is specified
as the URL, then a null stream is passed to the
<b>KeyStore.load</b> method. <b>NONE</b> should be specified
if the keystore is not file-based. For example, when it
resides on a hardware token device.</p>

<p style="margin-left:11%;">-storepass[:<i>env</i>|
:<i>file</i>] argument</p>

<p style="margin-left:22%;">The password that is used to
protect the integrity of the keystore.</p>

<p style="margin-left:22%; margin-top: 1em">If the modifier
<b>env</b> or <b>file</b> is not specified, then the
password has the <b>value</b> argument, which must be at
least 6 characters long. Otherwise, the password is
retrieved as follows:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p><b>env</b>: Retrieve the password from the environment
variable named <b>argument</b>.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p><b>file</b>: Retrieve the password from the file named
argument.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><i>Note:</i>
All other options that require passwords, such as
<b>-keypass</b>, <b>-srckeypass</b>, -<b>destkeypass</b>,
<b>-srcstorepass</b>, and <b>-deststorepass</b>, accept the
<i>env</i> and <i>file</i> modifiers. Remember to separate
the password option and the modifier with a colon (:).</p>

<p style="margin-left:11%; margin-top: 1em">The password
must be provided to all commands that access the keystore
contents. For such commands, when the <b>-storepass</b>
option is not provided at the command line, the user is
prompted for it.</p>

<p style="margin-left:11%; margin-top: 1em">When retrieving
information from the keystore, the password is optional. If
no password is specified, then the integrity of the
retrieved information cannot be verified and a warning is
displayed. <br>
-providerName <i>provider_name</i></p>

<p style="margin-left:22%;">Used to identify a
cryptographic service provider&rsquo;s name when listed in
the security properties file.</p>

<p style="margin-left:11%;">-providerClass
<i>provider_class_name</i></p>

<p style="margin-left:22%;">Used to specify the name of a
cryptographic service provider&rsquo;s master class file
when the service provider is not listed in the security
properties file.</p>

<p style="margin-left:11%;">-providerArg
<i>provider_arg</i></p>

<p style="margin-left:22%;">Used with the
<b>-providerClass</b> option to represent an optional string
input argument for the constructor of
<b>provider_class_name</b>.</p>

<p style="margin-left:11%;">-protected</p>

<p style="margin-left:22%;">Either <b>true</b> or
<b>false</b>. This value should be specified as <b>true</b>
when a password must be specified by way of a protected
authentication path such as a dedicated PIN reader.Because
there are two keystores involved in the
<b>-importkeystore</b> command, the following two options
<b>-srcprotected</b> and -<b>destprotected</b> are provided
for the source keystore and the destination keystore
respectively.</p>

<p style="margin-left:11%;">-ext <i>{name{:critical}
{=value}}</i></p>

<p style="margin-left:22%;">Denotes an X.509 certificate
extension. The option can be used in <b>-genkeypair</b> and
<b>-gencert</b> to embed extensions into the certificate
generated, or in <b>-certreq</b> to show what extensions are
requested in the certificate request. The option can appear
multiple times. The <b>name</b> argument can be a supported
extension name (see Named Extensions) or an arbitrary OID
number. The <b>value</b> argument, when provided, denotes
the argument for the extension. When <i>value</i> is
omitted, that means that the default value of the extension
or the extension requires no argument. The <b>:critical</b>
modifier, when provided, means the extension&rsquo;s
<b>isCritical</b> attribute is <b>true</b>; otherwise, it is
<b>false</b>. You can use <b>:c</b> in place of
<b>:critical</b>.</p>

<h2>NAMED&nbsp;EXTENSIONS
<a name="NAMED&nbsp;EXTENSIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>keytool</b> command supports these named extensions. The
names are not case-sensitive). <br>
BC or BasicContraints</p>

<p style="margin-left:22%;"><i>Values</i>: The full form
is: <b>ca:{true|false}[,pathlen:&lt;len&gt;]</b> or
<b>&lt;len&gt;</b>, which is short for
<b>ca:true,pathlen:&lt;len&gt;</b>. When &lt;<b>len</b>&gt;
is omitted, you have <b>ca:true</b>.</p>

<p style="margin-left:11%;">KU or KeyUsage</p>

<p style="margin-left:22%;"><i>Values</i>:
<b>usage</b>(,<b>usage</b>)*, where <i>usage</i> can be one
of <b>digitalSignature</b>, <b>nonRepudiation</b>
(contentCommitment), <b>keyEncipherment</b>,
<b>dataEncipherment</b>, <b>keyAgreement</b>,
<b>keyCertSign</b>, <b>cRLSign</b>, <b>encipherOnly</b>,
<b>decipherOnly</b>. The <i>usage</i> argument can be
abbreviated with the first few letters (<b>dig</b> for
<b>digitalSignature</b>) or in camel-case style (<b>dS</b>
for <b>digitalSignature</b> or <b>cRLS</b> for
<b>cRLSign</b>), as long as no ambiguity is found. The
<b>usage</b> values are case-sensitive.</p>

<p style="margin-left:11%;">EKU or ExtendedKeyUsage</p>

<p style="margin-left:22%;"><i>Values</i>:
<b>usage</b>(,<b>usage</b>)*, where <i>usage</i> can be one
of <b>anyExtendedKeyUsage</b>, <b>serverAuth</b>,
<b>clientAuth</b>, <b>codeSigning</b>,
<b>emailProtection</b>, <b>timeStamping</b>,
<b>OCSPSigning</b>, or any <i>OID string</i>. The
<i>usage</i> argument can be abbreviated with the first few
letters or in camel-case style, as long as no ambiguity is
found. The <b>usage</b> values are case-sensitive.</p>

<p style="margin-left:11%;">SAN or
SubjectAlternativeName</p>

<p style="margin-left:22%;"><i>Values</i>:
<b>type</b>:<b>value</b>(,t<b>ype:value</b>)*, where
<b>type</b> can be <b>EMAIL</b>, <b>URI</b>, <b>DNS</b>,
<b>IP</b>, or <b>OID</b>. The <b>value</b> argument is the
string format value for the <b>type</b>.</p>

<p style="margin-left:11%;">IAN or
IssuerAlternativeName</p>

<p style="margin-left:22%;"><i>Values</i>: Same as
<b>SubjectAlternativeName</b>.</p>

<p style="margin-left:11%;">SIA or SubjectInfoAccess</p>

<p style="margin-left:22%;"><i>Values</i>:
<b>method</b>:<b>location-type</b>:<b>location-value</b>
(,<b>method:location-type</b>:<b>location-value</b>)*, where
<b>method</b> can be <b>timeStamping</b>,
<b>caRepository</b> or any OID. The <b>location-type</b> and
<b>location-value</b> arguments can be any
<b>type</b>:<b>value</b> supported by the
<b>SubjectAlternativeName</b> extension.</p>

<p style="margin-left:11%;">AIA or AuthorityInfoAccess</p>

<p style="margin-left:22%;"><i>Values</i>: Same as
<b>SubjectInfoAccess</b>. The <b>method</b> argument can be
<b>ocsp</b>,<b>caIssuers</b>, or any OID.</p>

<p style="margin-left:11%; margin-top: 1em">When
<b>name</b> is OID, the value is the hexadecimal dumped DER
encoding of the <b>extnValue</b> for the extension excluding
the OCTET STRING type and length bytes. Any extra character
other than standard hexadecimal numbers (0-9, a-f, A-F) are
ignored in the HEX string. Therefore, both 01:02:03:04 and
01020304 are accepted as identical values. When there is no
value, the extension has an empty value field.</p>

<p style="margin-left:11%; margin-top: 1em">A special name
<b>honored</b>, used in <b>-gencert</b> only, denotes how
the extensions included in the certificate request should be
honored. The value for this name is a comma separated list
of <b>all</b> (all requested extensions are honored),
<b>name{:[critical|non-critical]}</b> (the named extension
is honored, but using a different <b>isCritical</b>
attribute) and <b>-name</b> (used with <b>all</b>, denotes
an exception). Requested extensions are not honored by
default.</p>

<p style="margin-left:11%; margin-top: 1em">If, besides
the<b>-ext honored</b> option, another named or OID
<b>-ext</b> option is provided, this extension is added to
those already honored. However, if this name (or OID) also
appears in the honored value, then its value and criticality
overrides the one in the request.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>subjectKeyIdentifier</b> extension is always created. For
non-self-signed certificates, the
<b>authorityKeyIdentifier</b> is created.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Note:</i>
Users should be aware that some combinations of extensions
(and other certificate fields) may not conform to the
Internet standard. See Certificate Conformance Warning.</p>

<h2>COMMANDS
<a name="COMMANDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">-gencert</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;rfc}
{&minus;infile</b> <i>infile</i>} {&minus;outfile
<i>outfile</i>} {&minus;alias <i>alias</i>} {&minus;sigalg
<i>sigalg</i>}</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;dname</b>
<i>dname</i>} {&minus;startdate <i>startdate</i> {&minus;ext
<i>ext</i>}* {&minus;validity <i>valDays</i>}</p>


<p style="margin-left:22%; margin-top: 1em"><b>[&minus;keypass</b>
<i>keypass</i>] {&minus;keystore <i>keystore</i>}
[&minus;storepass <i>storepass</i>]</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;storetype</b>
<i>storetype</i>} {&minus;providername
<i>provider_name</i>}</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;providerClass</b>
<i>provider_class_name</i> {&minus;providerArg
<i>provider_arg</i>}}</p>

<p style="margin-left:22%; margin-top: 1em"><b>{&minus;v}
{&minus;protected} {&minus;Jjavaoption}</b></p>

<p style="margin-left:22%; margin-top: 1em"><i>Generates a
certificate as a response to a certificate request file
(which can be created by the</i> <b>keytool-certreq</b>
command). The command reads the request from <i>infile</i>
(if omitted, from the standard input), signs it using
alias&rsquo;s private key, and outputs the X.509 certificate
into <i>outfile</i> (if omitted, to the standard output).
When<b>-rfc</b> is specified, the output format is
Base64-encoded PEM; otherwise, a binary DER is created.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>sigalg</b> value specifies the algorithm that should be
used to sign the certificate. The <b>startdate</b> argument
is the start time and date that the certificate is valid.
The <b>valDays</b> argument tells the number of days for
which the certificate should be considered valid.</p>

<p style="margin-left:22%; margin-top: 1em">When
<b>dname</b> is provided, it is used as the subject of the
generated certificate. Otherwise, the one from the
certificate request is used.</p>

<p style="margin-left:22%; margin-top: 1em">The <b>ext</b>
value shows what X.509 extensions will be embedded in the
certificate. Read Common Options for the grammar of
<b>-ext</b>.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>-gencert</b> option enables you to create certificate
chains. The following example creates a certificate,
<b>e1</b>, that contains three certificates in its
certificate chain.</p>

<p style="margin-left:22%; margin-top: 1em">The following
commands creates four key pairs named <b>ca</b>, <b>ca1</b>,
<b>ca2</b>, and <b>e1</b>:</p>

<p style="margin-left:22%; margin-top: 1em"><b>keytool
&minus;alias ca &minus;dname CN=CA &minus;genkeypair <br>
keytool &minus;alias ca1 &minus;dname CN=CA
&minus;genkeypair <br>
keytool &minus;alias ca2 &minus;dname CN=CA
&minus;genkeypair <br>
keytool &minus;alias e1 &minus;dname CN=E1
&minus;genkeypair</b></p>

<p style="margin-left:22%; margin-top: 1em">The following
two commands create a chain of signed certificates;
<b>ca</b> signs <b>ca1</b> and <b>ca1</b> signs <b>ca2</b>,
all of which are self-issued:</p>

<p style="margin-left:22%; margin-top: 1em"><b>keytool
&minus;alias ca1 &minus;certreq | <br>
keytool &minus;alias ca &minus;gencert &minus;ext
san=dns:ca1 | <br>
keytool &minus;alias ca1 &minus;importcert <br>
keytool &minus;alias ca2 &minus;certreq | <br>
$KT &minus;alias ca1 &minus;gencert &minus;ext san=dns:ca2 |
<br>
$KT &minus;alias ca2 &minus;importcert</b></p>

<p style="margin-left:22%; margin-top: 1em">The following
command creates the certificate <b>e1</b> and stores it in
the file <b>e1.cert</b>, which is signed by <b>ca2</b>. As a
result, <b>e1</b> should contain <b>ca</b>, <b>ca1</b>, and
<b>ca2</b> in its certificate chain:</p>

<p style="margin-left:22%; margin-top: 1em"><b>keytool
&minus;alias e1 &minus;certreq | keytool &minus;alias ca2
&minus;gencert &gt; e1.cert</b></p>

<p style="margin-left:11%;">-genkeypair</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;alias</b>
<i>alias</i>} {&minus;keyalg <i>keyalg</i>} {&minus;keysize
<i>keysize</i>} {&minus;sigalg <i>sigalg</i>}</p>


<p style="margin-left:22%; margin-top: 1em"><b>[&minus;dname</b>
<i>dname</i>] [&minus;keypass <i>keypass</i>]
{&minus;startdate <i>value</i>} {&minus;ext <i>ext</i>}*</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;validity</b>
<i>valDays</i>} {&minus;storetype <i>storetype</i>}
{&minus;keystore <i>keystore</i>}</p>


<p style="margin-left:22%; margin-top: 1em"><b>[&minus;storepass</b>
<i>storepass</i>]</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;providerClass</b>
<i>provider_class_name</i> {&minus;providerArg
<i>provider_arg</i>}}</p>

<p style="margin-left:22%; margin-top: 1em"><b>{&minus;v}
{&minus;protected} {&minus;Jjavaoption}</b></p>

<p style="margin-left:22%; margin-top: 1em"><i>Generates a
key pair (a public key and associated private key). Wraps
the public key into an X.509 v3 self-signed certificate,
which is stored as a single-element certificate chain. This
certificate chain and the private key are stored in a new
keystore entry identified by alias.</i></p>

<p style="margin-left:22%; margin-top: 1em"><i>The</i>
<b>keyalg</b> value specifies the algorithm to be used to
generate the key pair, and the <b>keysize</b> value
specifies the size of each key to be generated. The
<b>sigalg</b> value specifies the algorithm that should be
used to sign the self-signed certificate. This algorithm
must be compatible with the <b>keyalg</b> value.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>dname</b> value specifies the X.500 Distinguished Name to
be associated with the value of <b>alias</b>, and is used as
the issuer and subject fields in the self-signed
certificate. If no distinguished name is provided at the
command line, then the user is prompted for one.</p>

<p style="margin-left:22%; margin-top: 1em">The value of
<b>keypass</b> is a password used to protect the private key
of the generated key pair. If no password is provided, then
the user is prompted for it. If you press <i>the Return
key</i> at the prompt, then the key password is set to the
same password as the keystore password. The <b>keypass</b>
value must be at least 6 characters.</p>

<p style="margin-left:22%; margin-top: 1em">The value of
<b>startdate</b> specifies the issue time of the
certificate, also known as the &quot;Not Before&quot; value
of the X.509 certificate&rsquo;s Validity field.</p>

<p style="margin-left:22%; margin-top: 1em">The option
value can be set in one of these two forms:</p>


<p style="margin-left:22%; margin-top: 1em"><b>([+-]nnn[ymdHMS])+</b></p>


<p style="margin-left:22%; margin-top: 1em"><b>[yyyy/mm/dd]
[HH:MM:SS]</b></p>

<p style="margin-left:22%; margin-top: 1em">With the first
form, the issue time is shifted by the specified value from
the current time. The value is a concatenation of a sequence
of subvalues. Inside each subvalue, the plus sign (+) means
shift forward, and the minus sign (-) means shift backward.
The time to be shifted is <b>nnn</b> units of years, months,
days, hours, minutes, or seconds (denoted by a single
character of <b>y</b>, <b>m</b>, <b>d</b>, <b>H</b>,
<b>M</b>, or <b>S</b> respectively). The exact value of the
issue time is calculated using the
<b>java.util.GregorianCalendar.add(int field, int
amount)</b> method on each subvalue, from left to right. For
example, by specifying, the issue time will be:</p>

<p style="margin-left:22%; margin-top: 1em"><b>Calendar c =
new GregorianCalendar(); <br>
c.add(Calendar.YEAR, &minus;1); <br>
c.add(Calendar.MONTH, 1); <br>
c.add(Calendar.DATE, &minus;1); <br>
return c.getTime()</b></p>

<p style="margin-left:22%; margin-top: 1em">With the second
form, the user sets the exact issue time in two parts,
year/month/day and hour:minute:second (using the local time
zone). The user can provide only one part, which means the
other part is the same as the current date (or time). The
user must provide the exact number of digits as shown in the
format definition (padding with 0 when shorter). When both
the date and time are provided, there is one (and only one)
space character between the two parts. The hour should
always be provided in 24 hour format.</p>

<p style="margin-left:22%; margin-top: 1em">When the option
is not provided, the start date is the current time. The
option can be provided at most once.</p>

<p style="margin-left:22%; margin-top: 1em">The value of
<b>valDays</b> specifies the number of days (starting at the
date specified by <b>-startdate</b>, or the current date
when <b>-startdate</b> is not specified) for which the
certificate should be considered valid.</p>

<p style="margin-left:22%; margin-top: 1em">This command
was named <b>-genkey</b> in earlier releases. The old name
is still supported in this release. The new name,
<b>-genkeypair</b>, is preferred going forward.</p>

<p style="margin-left:11%;">-genseckey</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;alias</b>
<i>alias</i>} {&minus;keyalg <i>keyalg</i>} {&minus;keysize
<i>keysize</i>} [&minus;keypass <i>keypass</i>]</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;storetype</b>
<i>storetype</i>} {&minus;keystore <i>keystore</i>}
[&minus;storepass <i>storepass</i>]</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;providerClass</b>
<i>provider_class_name</i> {&minus;providerArg
<i>provider_arg</i>}} {&minus;v}</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;protected}
{&minus;Jjavaoption}</b></p>

<p style="margin-left:22%; margin-top: 1em"><i>Generates a
secret key and stores it in a new</i>
<b>KeyStore.SecretKeyEntry</b> identified by
<b>alias</b>.</p>

<p style="margin-left:22%; margin-top: 1em">The value of
<b>keyalg</b> specifies the algorithm to be used to generate
the secret key, and the value of <b>keysize</b> specifies
the size of the key to be generated. The <b>keypass</b>
value is a password that protects the secret key. If no
password is provided, then the user is prompted for it. If
you press the Return key at the prompt, then the key
password is set to the same password that is used for the
<b>keystore</b>. The <b>keypass</b> value must be at least 6
characters.</p>

<p style="margin-left:11%;">-importcert</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;alias</b>
<i>alias</i>} {&minus;file <i>cert_file</i>} [&minus;keypass
<i>keypass</i>] {&minus;noprompt} {&minus;trustcacerts}</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;storetype</b>
<i>storetype</i>} {&minus;keystore <i>keystore</i>}
[&minus;storepass <i>storepass</i>]</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;providerName</b>
<i>provider_name</i>}</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;providerClass</b>
<i>provider_class_name</i> {&minus;providerArg
<i>provider_arg</i>}}</p>

<p style="margin-left:22%; margin-top: 1em"><b>{&minus;v}
{&minus;protected} {&minus;Jjavaoption}</b></p>

<p style="margin-left:22%; margin-top: 1em"><i>Reads the
certificate or certificate chain (where the latter is
supplied in a PKCS#7 formatted reply or a sequence of X.509
certificates) from the file</i> <b>cert_file</b>, and stores
it in the <b>keystore</b> entry identified by <b>alias</b>.
If no file is specified, then the certificate or certificate
chain is read from <b>stdin</b>.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>keytool</b> command can import X.509 v1, v2, and v3
certificates, and PKCS#7 formatted certificate chains
consisting of certificates of that type. The data to be
imported must be provided either in binary encoding format
or in printable encoding format (also known as Base64
encoding) as defined by the Internet RFC 1421 standard. In
the latter case, the encoding must be bounded at the
beginning by a string that starts with <b>-----BEGIN</b>,
and bounded at the end by a string that starts with
<b>-----END</b>.</p>

<p style="margin-left:22%; margin-top: 1em">You import a
certificate for two reasons: To add it to the list of
trusted certificates, and to import a certificate reply
received from a certificate authority (CA) as the result of
submitting a Certificate Signing Request to that CA (see the
<b>-certreq</b> option in Commands).</p>

<p style="margin-left:22%; margin-top: 1em">Which type of
import is intended is indicated by the value of the
<b>-alias</b> option. If the alias does not point to a key
entry, then the <b>keytool</b> command assumes you are
adding a trusted certificate entry. In this case, the alias
should not already exist in the keystore. If the alias does
already exist, then the <b>keytool</b> command outputs an
error because there is already a trusted certificate for
that alias, and does not import the certificate. If the
alias points to a key entry, then the <b>keytool</b> command
assumes you are importing a certificate reply.</p>

<p style="margin-left:11%;">-importpassword</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;alias</b>
<i>alias</i>} [&minus;keypass <i>keypass</i>]
{&minus;storetype <i>storetype</i>} {&minus;keystore
<i>keystore</i>}</p>


<p style="margin-left:22%; margin-top: 1em"><b>[&minus;storepass</b>
<i>storepass</i>]</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;providerClass</b>
<i>provider_class_name</i> {&minus;providerArg
<i>provider_arg</i>}}</p>

<p style="margin-left:22%; margin-top: 1em"><b>{&minus;v}
{&minus;protected} {&minus;Jjavaoption}</b></p>

<p style="margin-left:22%; margin-top: 1em"><i>Imports a
passphrase and stores it in a new</i>
<b>KeyStore.SecretKeyEntry</b> identified by <b>alias</b>.
The passphrase may be supplied via the standard input
stream; otherwise the user is prompted for it.
<b>keypass</b> is a password used to protect the imported
passphrase. If no password is provided, the user is prompted
for it. If you press the Return key at the prompt, the key
password is set to the same password as that used for the
<b>keystore</b>. <b>keypass</b> must be at least 6
characters long.</p>

<p style="margin-left:11%;">-importkeystore</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;srcstoretype</b>
<i>srcstoretype</i>} {&minus;deststoretype
<i>deststoretype</i>}</p>


<p style="margin-left:22%; margin-top: 1em"><b>[&minus;srcstorepass</b>
<i>srcstorepass</i>] [&minus;deststorepass
<i>deststorepass</i>] {&minus;srcprotected}</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;destprotected}</b></p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;srcalias</b>
<i>srcalias</i> {&minus;destalias <i>destalias</i>}
[&minus;srckeypass <i>srckeypass</i>]}</p>


<p style="margin-left:22%; margin-top: 1em"><b>[&minus;destkeypass</b>
<i>destkeypass</i>] {&minus;noprompt}</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;srcProviderName</b>
<i>src_provider_name</i>} {&minus;destProviderName
<i>dest_provider_name</i>}</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;providerClass</b>
<i>provider_class_name</i> {&minus;providerArg
<i>provider_arg</i>}} {&minus;v}</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;protected}
{&minus;Jjavaoption}</b></p>

<p style="margin-left:22%; margin-top: 1em"><i>Imports a
single entry or all entries from a source keystore to a
destination keystore.</i></p>

<p style="margin-left:22%; margin-top: 1em"><i>When the</i>
<b>-srcalias</b> option is provided, the command imports the
single entry identified by the alias to the destination
keystore. If a destination alias is not provided with
<b>destalias</b>, then <b>srcalias</b> is used as the
destination alias. If the source entry is protected by a
password, then <b>srckeypass</b> is used to recover the
entry. If <i>srckeypass</i> is not provided, then the
<b>keytool</b> command attempts to use <b>srcstorepass</b>
to recover the entry. If <b>srcstorepass</b> is either not
provided or is incorrect, then the user is prompted for a
password. The destination entry is protected with
<b>destkeypass</b>. If <b>destkeypass</b> is not provided,
then the destination entry is protected with the source
entry password. For example, most third-party tools require
<b>storepass</b> and <b>keypass</b> in a PKCS #12 keystore
to be the same. In order to create a PKCS #12 keystore for
these tools, always specify a <b>-destkeypass</b> to be the
same as <b>-deststorepass</b>.</p>

<p style="margin-left:22%; margin-top: 1em">If the
<b>-srcalias</b> option is not provided, then all entries in
the source keystore are imported into the destination
keystore. Each destination entry is stored under the alias
from the source entry. If the source entry is protected by a
password, then <b>srcstorepass</b> is used to recover the
entry. If <b>srcstorepass</b> is either not provided or is
incorrect, then the user is prompted for a password. If a
source keystore entry type is not supported in the
destination keystore, or if an error occurs while storing an
entry into the destination keystore, then the user is
prompted whether to skip the entry and continue or to quit.
The destination entry is protected with the source entry
password.</p>

<p style="margin-left:22%; margin-top: 1em">If the
destination alias already exists in the destination
keystore, then the user is prompted to either overwrite the
entry or to create a new entry under a different alias
name.</p>

<p style="margin-left:22%; margin-top: 1em">If the
<b>-noprompt</b> option is provided, then the user is not
prompted for a new destination alias. Existing entries are
overwritten with the destination alias name. Entries that
cannot be imported are skipped and a warning is
displayed.</p>

<p style="margin-left:11%;">-printcertreq</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;file</b>
<i>file</i>}</p>

<p style="margin-left:22%; margin-top: 1em"><i>Prints the
content of a PKCS #10 format certificate request, which can
be generated by the</i> <b>keytool-certreq</b> command. The
command reads the request from file. If there is no file,
then the request is read from the standard input.</p>

<p style="margin-left:11%;">-certreq</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;alias</b>
<i>alias</i>} {&minus;dname <i>dname</i>} {&minus;sigalg
<i>sigalg</i>} {&minus;file <i>certreq_file</i>}</p>


<p style="margin-left:22%; margin-top: 1em"><b>[&minus;keypass</b>
<i>keypass</i>] {&minus;storetype <i>storetype</i>}
{&minus;keystore <i>keystore</i>}</p>


<p style="margin-left:22%; margin-top: 1em"><b>[&minus;storepass</b>
<i>storepass</i>] {&minus;providerName
<i>provider_name</i>}</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;providerClass</b>
<i>provider_class_name</i> {&minus;providerArg
<i>provider_arg</i>}}</p>

<p style="margin-left:22%; margin-top: 1em"><b>{&minus;v}
{&minus;protected} {&minus;Jjavaoption}</b></p>

<p style="margin-left:22%; margin-top: 1em"><i>Generates a
Certificate Signing Request (CSR) using the PKCS #10
format.</i></p>

<p style="margin-left:22%; margin-top: 1em"><i>A CSR is
intended to be sent to a certificate authority (CA). The CA
authenticates the certificate requestor (usually off-line)
and will return a certificate or certificate chain, used to
replace the existing certificate chain (which initially
consists of a self-signed certificate) in the
keystore.</i></p>

<p style="margin-left:22%; margin-top: 1em"><i>The private
key associated with alias is used to create the PKCS #10
certificate request. To access the private key, the correct
password must be provided. If</i> <b>keypass</b> is not
provided at the command line and is different from the
password used to protect the integrity of the keystore, then
the user is prompted for it. If <b>dname</b> is provided,
then it is used as the subject in the CSR. Otherwise, the
X.500 Distinguished Name associated with alias is used.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>sigalg</b> value specifies the algorithm that should be
used to sign the CSR.</p>

<p style="margin-left:22%; margin-top: 1em">The CSR is
stored in the file certreq_file. If no file is specified,
then the CSR is output to <b>stdout</b>.</p>

<p style="margin-left:22%; margin-top: 1em">Use the
<b>importcert</b> command to import the response from the
CA.</p>

<p style="margin-left:11%;">-exportcert</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;alias</b>
<i>alias</i>} {&minus;file <i>cert_file</i>}
{&minus;storetype <i>storetype</i>} {&minus;keystore
<i>keystore</i>}</p>


<p style="margin-left:22%; margin-top: 1em"><b>[&minus;storepass</b>
<i>storepass</i>] {&minus;providerName
<i>provider_name</i>}</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;providerClass</b>
<i>provider_class_name</i> {&minus;providerArg
<i>provider_arg</i>}}</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;rfc}
{&minus;v} {&minus;protected} {&minus;Jjavaoption}</b></p>

<p style="margin-left:22%; margin-top: 1em"><i>Reads from
the keystore the certificate associated with alias</i> and
stores it in the cert_file file. When no file is specified,
the certificate is output to <b>stdout</b>.</p>

<p style="margin-left:22%; margin-top: 1em">The certificate
is by default output in binary encoding. If the <b>-rfc</b>
option is specified, then the output in the printable
encoding format defined by the Internet RFC 1421 Certificate
Encoding Standard.</p>

<p style="margin-left:22%; margin-top: 1em">If <b>alias</b>
refers to a trusted certificate, then that certificate is
output. Otherwise, <b>alias</b> refers to a key entry with
an associated certificate chain. In that case, the first
certificate in the chain is returned. This certificate
authenticates the public key of the entity addressed by
<b>alias</b>.</p>

<p style="margin-left:22%; margin-top: 1em">This command
was named <b>-export</b> in earlier releases. The old name
is still supported in this release. The new name,
<b>-exportcert</b>, is preferred going forward.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>-list</p></td>
<td width="4%"></td>
<td width="78%">


<p><b>{&minus;alias</b> <i>alias</i>} {&minus;storetype
<i>storetype</i>} {&minus;keystore <i>keystore</i>}
[&minus;storepass <i>storepass</i>]</p></td></tr>
</table>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;providerName</b>
<i>provider_name</i>}</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;providerClass</b>
<i>provider_class_name</i> {&minus;providerArg
<i>provider_arg</i>}}</p>

<p style="margin-left:22%; margin-top: 1em"><b>{&minus;v |
&minus;rfc} {&minus;protected} {&minus;Jjavaoption}</b></p>

<p style="margin-left:22%; margin-top: 1em"><i>Prints
to</i> <b>stdout</b> the contents of the keystore entry
identified by <b>alias</b>. If no <b>alias</b> is specified,
then the contents of the entire keystore are printed.</p>

<p style="margin-left:22%; margin-top: 1em">This command by
default prints the SHA1 fingerprint of a certificate. If the
<b>-v</b> option is specified, then the certificate is
printed in human-readable format, with additional
information such as the owner, issuer, serial number, and
any extensions. If the <b>-rfc</b> option is specified, then
the certificate contents are printed using the printable
encoding format, as defined by the Internet RFC 1421
Certificate Encoding Standard.</p>

<p style="margin-left:22%; margin-top: 1em">You cannot
specify both <b>-v</b> and <b>-rfc</b>.</p>

<p style="margin-left:11%;">-printcert</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;file</b>
<i>cert_file</i> | &minus;sslserver
<i>host</i>[:<i>port</i>]} {&minus;jarfile <i>JAR_file</i>
{&minus;rfc} {&minus;v}</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;Jjavaoption}</b></p>

<p style="margin-left:22%; margin-top: 1em"><i>Reads the
certificate from the file cert_file, the SSL server located
at host:port, or the signed JAR file</i> <b>JAR_file</b>
(with the <b>-jarfile</b> option and prints its contents in
a human-readable format. When no port is specified, the
standard HTTPS port 443 is assumed. Note that
<b>-sslserver</b> and -file options cannot be provided at
the same time. Otherwise, an error is reported. If neither
option is specified, then the certificate is read from
<b>stdin</b>.</p>


<p style="margin-left:22%; margin-top: 1em">When<b>-rfc</b>
is specified, the <b>keytool</b> command prints the
certificate in PEM mode as defined by the Internet RFC 1421
Certificate Encoding standard. See Internet RFC 1421
Certificate Encoding Standard.</p>

<p style="margin-left:22%; margin-top: 1em">If the
certificate is read from a file or <b>stdin</b>, then it
might be either binary encoded or in printable encoding
format, as defined by the RFC 1421 Certificate Encoding
standard.</p>

<p style="margin-left:22%; margin-top: 1em">If the SSL
server is behind a firewall, then the
<b>-J-Dhttps.proxyHost=proxyhost</b> and
<b>-J-Dhttps.proxyPort=proxyport</b> options can be
specified on the command line for proxy tunneling. See Java
Secure Socket Extension (JSSE) Reference Guide at
http://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html</p>

<p style="margin-left:22%; margin-top: 1em"><i>Note:</i>
This option can be used independently of a keystore.</p>

<p style="margin-left:11%;">-printcrl</p>


<p style="margin-left:22%; margin-top: 1em"><b>&minus;file</b>
<i>crl_</i> {&minus;v}</p>

<p style="margin-left:22%; margin-top: 1em"><i>Reads the
Certificate Revocation List (CRL) from the file</i>
<b>crl_</b>. A CRL is a list of digital certificates that
were revoked by the CA that issued them. The CA generates
the <b>crl_</b> file.</p>

<p style="margin-left:22%; margin-top: 1em"><i>Note:</i>
This option can be used independently of a keystore.</p>

<p style="margin-left:11%;">-storepasswd</p>


<p style="margin-left:22%; margin-top: 1em"><b>[&minus;new</b>
<i>new_storepass</i>] {&minus;storetype <i>storetype</i>}
{&minus;keystore <i>keystore</i>}</p>


<p style="margin-left:22%; margin-top: 1em"><b>[&minus;storepass</b>
<i>storepass</i>] {&minus;providerName
<i>provider_name</i>}</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;providerClass</b>
<i>provider_class_name</i> {&minus;providerArg
<i>provider_arg</i>}}</p>

<p style="margin-left:22%; margin-top: 1em"><b>{&minus;v}
{&minus;Jjavaoption}</b></p>

<p style="margin-left:22%; margin-top: 1em"><i>Changes the
password used to protect the integrity of the keystore
contents. The new password is</i> <b>new_storepass</b>,
which must be at least 6 characters.</p>

<p style="margin-left:11%;">-keypasswd</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;alias</b>
<i>alias</i>} [&minus;keypass <i>old_keypass</i>]
[&minus;new <i>new_keypass</i>] {&minus;storetype
<i>storetype</i>}</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;keystore</b>
<i>keystore</i>} [&minus;storepass <i>storepass</i>]
{&minus;providerName <i>provider_name</i>}</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;providerClass</b>
<i>provider_class_name</i> {&minus;providerArg
<i>provider_arg</i>}} {&minus;v}</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;Jjavaoption}</b></p>

<p style="margin-left:22%; margin-top: 1em"><i>Changes the
password under which the private/secret key identified
by</i> <b>alias</b> is protected, from <b>old_keypass</b> to
<b>new_keypass</b>, which must be at least 6 characters.</p>

<p style="margin-left:22%; margin-top: 1em">If the
<b>-keypass</b> option is not provided at the command line,
and the key password is different from the keystore
password, then the user is prompted for it.</p>

<p style="margin-left:22%; margin-top: 1em">If the
<b>-new</b> option is not provided at the command line, then
the user is prompted for it</p>

<p style="margin-left:11%;">-delete</p>


<p style="margin-left:22%; margin-top: 1em"><b>[&minus;alias</b>
<i>alias</i>] {&minus;storetype <i>storetype</i>}
{&minus;keystore <i>keystore</i>} [&minus;storepass
<i>storepass</i>]</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;providerName</b>
<i>provider_name</i>}</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;providerClass</b>
<i>provider_class_name</i> {&minus;providerArg
<i>provider_arg</i>}}</p>

<p style="margin-left:22%; margin-top: 1em"><b>{&minus;v}
{&minus;protected} {&minus;Jjavaoption}</b></p>

<p style="margin-left:22%; margin-top: 1em"><i>Deletes from
the keystore the entry identified by</i> <b>alias</b>. The
user is prompted for the alias, when no alias is provided at
the command line.</p>

<p style="margin-left:11%;">-changealias</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;alias</b>
<i>alias</i>} [&minus;destalias <i>destalias</i>]
[&minus;keypass <i>keypass</i>] {&minus;storetype
<i>storetype</i>}</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;keystore</b>
<i>keystore</i>} [&minus;storepass <i>storepass</i>]
{&minus;providerName <i>provider_name</i>}</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;providerClass</b>
<i>provider_class_name</i> {&minus;providerArg
<i>provider_arg</i>}} {&minus;v}</p>


<p style="margin-left:22%; margin-top: 1em"><b>{&minus;protected}
{&minus;Jjavaoption}</b></p>

<p style="margin-left:22%; margin-top: 1em"><i>Move an
existing keystore entry from the specified</i> <b>alias</b>
to a new alias, <b>destalias</b>. If no destination alias is
provided, then the command prompts for one. If the original
entry is protected with an entry password, then the password
can be supplied with the <b>-keypass</b> option. If no key
password is provided, then the <b>storepass</b> (if
provided) is attempted first. If the attempt fails, then the
user is prompted for a password.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>-help</p></td>
<td width="4%"></td>
<td width="66%">


<p>Lists the basic commands and their options.</p></td>
<td width="12%">
</td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">For more
information about a specific command, enter the following,
where <b>command_name</b> is the name of the command:
<b>keytool -command_name -help</b>.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This example
walks through the sequence of steps to create a keystore for
managing public/private key pair and certificates from
trusted entities.</p>


<p style="margin-left:11%; margin-top: 1em"><b>GENERATE&nbsp;THE&nbsp;KEY&nbsp;PAIR</b>
<br>
First, create a keystore and generate the key pair. You can
use a command such as the following typed as a single
line:</p>

<p style="margin-left:11%; margin-top: 1em"><b>keytool
&minus;genkeypair &minus;dname &quot;cn=Mark Jones, ou=Java,
o=Oracle, c=US&quot; <br>
&minus;alias business &minus;keypass &lt;new password for
private key&gt; <br>
&minus;keystore /working/mykeystore <br>
&minus;storepass &lt;new password for keystore&gt;
&minus;validity 180</b></p>

<p style="margin-left:11%; margin-top: 1em">The command
creates the keystore named <b>mykeystore</b> in the working
directory (assuming it does not already exist), and assigns
it the password specified by <b>&lt;new password for
keystore&gt;</b>. It generates a public/private key pair for
the entity whose distinguished name has a common name of
Mark Jones, organizational unit of Java, organization of
Oracle and two-letter country code of US. It uses the
default DSA key generation algorithm to create the keys;
both are 1024 bits.</p>

<p style="margin-left:11%; margin-top: 1em">The command
uses the default SHA1withDSA signature algorithm to create a
self-signed certificate that includes the public key and the
distinguished name information. The certificate is valid for
180 days, and is associated with the private key in a
keystore entry referred to by the alias <b>business</b>. The
private key is assigned the password specified by <b>&lt;new
password for private key&gt;</b>.</p>

<p style="margin-left:11%; margin-top: 1em">The command is
significantly shorter when the option defaults are accepted.
In this case, no options are required, and the defaults are
used for unspecified options that have default values. You
are prompted for any required values. You could have the
following:</p>

<p style="margin-left:11%; margin-top: 1em"><b>keytool
&minus;genkeypair</b></p>

<p style="margin-left:11%; margin-top: 1em">In this case, a
keystore entry with the alias <b>mykey</b> is created, with
a newly generated key pair and a certificate that is valid
for 90 days. This entry is placed in the keystore named
<b>.keystore</b> in your home directory. The keystore is
created when it does not already exist. You are prompted for
the distinguished name information, the keystore password,
and the private key password.</p>

<p style="margin-left:11%; margin-top: 1em">The rest of the
examples assume you executed the <b>-genkeypair</b> command
without options specified, and that you responded to the
prompts with values equal to those specified in the first
<b>-genkeypair</b> command. For example, a distinguished
name of <b>cn=Mark Jones</b>, <b>ou=Java</b>,
<b>o=Oracle</b>, <b>c=US</b>).</p>


<p style="margin-left:11%; margin-top: 1em"><b>REQUEST&nbsp;A&nbsp;SIGNED&nbsp;CERTIFICATE&nbsp;FROM&nbsp;A&nbsp;CA</b>
<br>
Generating the key pair created a self-signed certificate. A
certificate is more likely to be trusted by others when it
is signed by a Certification Authority (CA). To get a CA
signature, first generate a Certificate Signing Request
(CSR), as follows:</p>

<p style="margin-left:11%; margin-top: 1em"><b>keytool
&minus;certreq &minus;file MarkJ.csr</b></p>

<p style="margin-left:11%; margin-top: 1em">This creates a
CSR for the entity identified by the default alias
<b>mykey</b> and puts the request in the file named
MarkJ.csr. Submit this file to a CA, such as VeriSign. The
CA authenticates you, the requestor (usually off-line), and
returns a certificate, signed by them, authenticating your
public key. In some cases, the CA returns a chain of
certificates, each one authenticating the public key of the
signer of the previous certificate in the chain.</p>


<p style="margin-left:11%; margin-top: 1em"><b>IMPORT&nbsp;A&nbsp;CERTIFICATE&nbsp;FOR&nbsp;THE&nbsp;CA</b>
<br>
You now need to replace the self-signed certificate with a
certificate chain, where each certificate in the chain
authenticates the public key of the signer of the previous
certificate in the chain, up to a root CA.</p>

<p style="margin-left:11%; margin-top: 1em">Before you
import the certificate reply from a CA, you need one or more
trusted certificates in your keystore or in the
<b>cacerts</b> keystore file. See <b>-importcert</b> in
Commands.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p style="margin-top: 1em">If the certificate reply is a
certificate chain, then you need the top certificate of the
chain. The root CA certificate that authenticates the public
key of the CA.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>If the certificate reply is a single certificate, then
you need a certificate for the issuing CA (the one that
signed it). If that certificate is not self-signed, then you
need a certificate for its signer, and so on, up to a
self-signed root CA certificate.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The
<b>cacerts</b> keystore file ships with several VeriSign
root CA certificates, so you probably will not need to
import a VeriSign certificate as a trusted certificate in
your keystore. But if you request a signed certificate from
a different CA, and a certificate authenticating that
CA&rsquo;s public key was not added to <b>cacerts</b>, then
you must import a certificate from the CA as a trusted
certificate.</p>

<p style="margin-left:11%; margin-top: 1em">A certificate
from a CA is usually either self-signed or signed by another
CA, in which case you need a certificate that authenticates
that CA&rsquo;s public key. Suppose company ABC, Inc., is a
CA, and you obtain a file named A<b>BCCA.cer</b> that is
supposed to be a self-signed certificate from ABC, that
authenticates that CA&rsquo;s public key. Be careful to
ensure the certificate is valid before you import it as a
trusted certificate. View it first with the <b>keytool
-printcert</b> command or the <b>keytool -importcert</b>
command without the <b>-noprompt</b> option, and make sure
that the displayed certificate fingerprints match the
expected ones. You can call the person who sent the
certificate, and compare the fingerprints that you see with
the ones that they show or that a secure public key
repository shows. Only when the fingerprints are equal is it
guaranteed that the certificate was not replaced in transit
with somebody else&rsquo;s (for example, an
attacker&rsquo;s) certificate. If such an attack takes
place, and you did not check the certificate before you
imported it, then you would be trusting anything the
attacker has signed.</p>

<p style="margin-left:11%; margin-top: 1em">If you trust
that the certificate is valid, then you can add it to your
keystore with the following command:</p>

<p style="margin-left:11%; margin-top: 1em"><b>keytool
&minus;importcert &minus;alias abc &minus;file
ABCCA.cer</b></p>

<p style="margin-left:11%; margin-top: 1em">This command
creates a trusted certificate entry in the keystore, with
the data from the file ABCCA.cer, and assigns the alias
<b>abc</b> to the entry.</p>


<p style="margin-left:11%; margin-top: 1em"><b>IMPORT&nbsp;THE&nbsp;CERTIFICATE&nbsp;REPLY&nbsp;FROM&nbsp;THE&nbsp;CA</b>
<br>
After you import a certificate that authenticates the public
key of the CA you submitted your certificate signing request
to (or there is already such a certificate in the cacerts
file), you can import the certificate reply and replace your
self-signed certificate with a certificate chain. This chain
is the one returned by the CA in response to your request
(when the CA reply is a chain), or one constructed (when the
CA reply is a single certificate) using the certificate
reply and trusted certificates that are already available in
the keystore where you import the reply or in the
<b>cacerts</b> keystore file.</p>

<p style="margin-left:11%; margin-top: 1em">For example, if
you sent your certificate signing request to VeriSign, then
you can import the reply with the following, which assumes
the returned certificate is named VSMarkJ.cer:</p>

<p style="margin-left:11%; margin-top: 1em"><b>keytool
&minus;importcert &minus;trustcacerts &minus;file
VSMarkJ.cer</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>EXPORT&nbsp;A&nbsp;CERTIFICATE&nbsp;THAT&nbsp;AUTHENTICATES&nbsp;THE&nbsp;PUBLIC&nbsp;KEY</b>
<br>
If you used the <b>jarsigner</b> command to sign a Java
Archive (JAR) file, then clients that want to use the file
will want to authenticate your signature. One way the
clients can authenticate you is by first importing your
public key certificate into their keystore as a trusted
entry.</p>

<p style="margin-left:11%; margin-top: 1em">You can export
the certificate and supply it to your clients. As an
example, you can copy your certificate to a file named
MJ.cer with the following command that assumes the entry has
an alias of <b>mykey</b>:</p>

<p style="margin-left:11%; margin-top: 1em"><b>keytool
&minus;exportcert &minus;alias mykey &minus;file
MJ.cer</b></p>

<p style="margin-left:11%; margin-top: 1em">With the
certificate and the signed JAR file, a client can use the
<b>jarsigner</b> command to authenticate your signature.</p>


<p style="margin-left:11%; margin-top: 1em"><b>IMPORT&nbsp;KEYSTORE</b>
<br>
The command <b>importkeystore</b> is used to import an
entire keystore into another keystore, which means all
entries from the source keystore, including keys and
certificates, are all imported to the destination keystore
within a single command. You can use this command to import
entries from a different type of keystore. During the
import, all new entries in the destination keystore will
have the same alias names and protection passwords (for
secret keys and private keys). If the <b>keytool</b> command
cannot recover the private keys or secret keys from the
source keystore, then it prompts you for a password. If it
detects alias duplication, then it asks you for a new alias,
and you can specify a new alias or simply allow the
<b>keytool</b> command to overwrite the existing one.</p>

<p style="margin-left:11%; margin-top: 1em">For example, to
import entries from a typical JKS type keystore key.jks into
a PKCS #11 type hardware-based keystore, use the
command:</p>

<p style="margin-left:11%; margin-top: 1em"><b>keytool
&minus;importkeystore <br>
&minus;srckeystore key.jks &minus;destkeystore NONE <br>
&minus;srcstoretype JKS &minus;deststoretype PKCS11 <br>
&minus;srcstorepass &lt;src keystore password&gt; <br>
&minus;deststorepass &lt;destination keystore
pwd&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">The
<b>importkeystore</b> command can also be used to import a
single entry from a source keystore to a destination
keystore. In this case, besides the options you see in the
previous example, you need to specify the alias you want to
import. With the <b>-srcalias</b> option specified, you can
also specify the destination alias name in the command line,
as well as protection password for a secret/private key and
the destination protection password you want. The following
command demonstrates this:</p>

<p style="margin-left:11%; margin-top: 1em"><b>keytool
&minus;importkeystore <br>
&minus;srckeystore key.jks &minus;destkeystore NONE <br>
&minus;srcstoretype JKS &minus;deststoretype PKCS11 <br>
&minus;srcstorepass &lt;src keystore password&gt; <br>
&minus;deststorepass &lt;destination keystore pwd&gt; <br>
&minus;srcalias myprivatekey &minus;destalias
myoldprivatekey <br>
&minus;srckeypass &lt;source entry password&gt; <br>
&minus;destkeypass &lt;destination entry password&gt; <br>
&minus;noprompt</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>GENERATE&nbsp;CERTIFICATES&nbsp;FOR&nbsp;AN&nbsp;SSL&nbsp;SERVER</b>
<br>
The following are <b>keytool</b> commands to generate key
pairs and certificates for three entities: Root CA
(<b>root</b>), Intermediate CA (<b>ca</b>), and SSL server
(<b>server</b>). Ensure that you store all the certificates
in the same keystore. In these examples, RSA is the
recommended the key algorithm.</p>

<p style="margin-left:11%; margin-top: 1em"><b>keytool
&minus;genkeypair &minus;keystore root.jks &minus;alias root
&minus;ext bc:c <br>
keytool &minus;genkeypair &minus;keystore ca.jks
&minus;alias ca &minus;ext bc:c <br>
keytool &minus;genkeypair &minus;keystore server.jks
&minus;alias server <br>
keytool &minus;keystore root.jks &minus;alias root
&minus;exportcert &minus;rfc &gt; root.pem <br>
keytool &minus;storepass &lt;storepass&gt; &minus;keystore
ca.jks &minus;certreq &minus;alias ca | <br>
keytool &minus;storepass &lt;storepass&gt; &minus;keystore
root.jks <br>
&minus;gencert &minus;alias root &minus;ext BC=0 &minus;rfc
&gt; ca.pem <br>
keytool &minus;keystore ca.jks &minus;importcert
&minus;alias ca &minus;file ca.pem <br>
keytool &minus;storepass &lt;storepass&gt; &minus;keystore
server.jks &minus;certreq &minus;alias server | <br>
keytool &minus;storepass &lt;storepass&gt; &minus;keystore
ca.jks &minus;gencert &minus;alias ca <br>
&minus;ext ku:c=dig,kE &minus;rfc &gt; server.pem <br>
cat root.pem ca.pem server.pem | <br>
keytool &minus;keystore server.jks &minus;importcert
&minus;alias server</b></p>

<h2>TERMS
<a name="TERMS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Keystore</p>

<p style="margin-left:22%;">A keystore is a storage
facility for cryptographic keys and certificates.</p>

<p style="margin-left:11%;">Keystore entries</p>

<p style="margin-left:22%;">Keystores can have different
types of entries. The two most applicable entry types for
the <b>keytool</b> command include the following:</p>

<p style="margin-left:22%; margin-top: 1em"><i>Key
entries</i>: Each entry holds very sensitive cryptographic
key information, which is stored in a protected format to
prevent unauthorized access. Typically, a key stored in this
type of entry is a secret key, or a private key accompanied
by the certificate chain for the corresponding public key.
See Certificate Chains. The <b>keytool</b> command can
handle both types of entries, while the <b>jarsigner</b>
tool only handles the latter type of entry, that is private
keys and their associated certificate chains.</p>

<p style="margin-left:22%; margin-top: 1em"><i>Trusted
certificate entries</i>: Each entry contains a single public
key certificate that belongs to another party. The entry is
called a trusted certificate because the keystore owner
trusts that the public key in the certificate belongs to the
identity identified by the subject (owner) of the
certificate. The issuer of the certificate vouches for this,
by signing the certificate.</p>

<p style="margin-left:11%;">KeyStore aliases</p>

<p style="margin-left:22%;">All keystore entries (key and
trusted certificate entries) are accessed by way of unique
aliases.</p>

<p style="margin-left:22%; margin-top: 1em">An alias is
specified when you add an entity to the keystore with the
<b>-genseckey</b> command to generate a secret key, the
<b>-genkeypair</b> command to generate a key pair (public
and private key), or the <b>-importcert</b> command to add a
certificate or certificate chain to the list of trusted
certificates. Subsequent <b>keytool</b> commands must use
this same alias to refer to the entity.</p>

<p style="margin-left:22%; margin-top: 1em">For example,
you can use the alias <b>duke</b> to generate a new
public/private key pair and wrap the public key into a
self-signed certificate with the following command. See
Certificate Chains.</p>

<p style="margin-left:22%; margin-top: 1em"><b>keytool
&minus;genkeypair &minus;alias duke &minus;keypass
dukekeypasswd</b></p>

<p style="margin-left:22%; margin-top: 1em">This example
specifies an initial password of <b>dukekeypasswd</b>
required by subsequent commands to access the private key
associated with the alias <b>duke</b>. If you later want to
change Duke&rsquo;s private key password, use a command such
as the following:</p>

<p style="margin-left:22%; margin-top: 1em"><b>keytool
&minus;keypasswd &minus;alias duke &minus;keypass
dukekeypasswd &minus;new newpass</b></p>

<p style="margin-left:22%; margin-top: 1em">This changes
the password from <b>dukekeypasswd</b> to <b>newpass</b>. A
password should not be specified on a command line or in a
script unless it is for testing purposes, or you are on a
secure system. If you do not specify a required password
option on a command line, then you are prompted for it.</p>

<p style="margin-left:11%;">KeyStore implementation</p>

<p style="margin-left:22%;">The <b>KeyStore</b> class
provided in the <b>java.security</b> package supplies
well-defined interfaces to access and modify the information
in a keystore. It is possible for there to be multiple
different concrete implementations, where each
implementation is that for a particular type of
keystore.</p>

<p style="margin-left:22%; margin-top: 1em">Currently, two
command-line tools (<b>keytool</b> and <b>jarsigner</b>) and
a GUI-based tool named Policy Tool make use of keystore
implementations. Because the <b>KeyStore</b> class is
<b>public</b>, users can write additional security
applications that use it.</p>

<p style="margin-left:22%; margin-top: 1em">There is a
built-in default implementation, provided by Oracle. It
implements the keystore as a file with a proprietary
keystore type (format) named JKS. It protects each private
key with its individual password, and also protects the
integrity of the entire keystore with a (possibly different)
password.</p>

<p style="margin-left:22%; margin-top: 1em">Keystore
implementations are provider-based. More specifically, the
application interfaces supplied by <b>KeyStore</b> are
implemented in terms of a Service Provider Interface (SPI).
That is, there is a corresponding abstract
<b>KeystoreSpi</b> class, also in the <b>java.security
package</b>, which defines the Service Provider Interface
methods that providers must implement. The term
<i>provider</i> refers to a package or a set of packages
that supply a concrete implementation of a subset of
services that can be accessed by the Java Security API. To
provide a keystore implementation, clients must implement a
provider and supply a <b>KeystoreSpi</b> subclass
implementation, as described in How to Implement a Provider
in the Java Cryptography Architecture at
http://docs.oracle.com/javase/8/docs/technotes/guides/security/crypto/HowToImplAProvider.html</p>

<p style="margin-left:22%; margin-top: 1em">Applications
can choose different types of keystore implementations from
different providers, using the <b>getInstance</b> factory
method supplied in the <b>KeyStore</b> class. A keystore
type defines the storage and data format of the keystore
information, and the algorithms used to protect
private/secret keys in the keystore and the integrity of the
keystore. Keystore implementations of different types are
not compatible.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>keytool</b> command works on any file-based keystore
implementation. It treats the keystore location that is
passed to it at the command line as a file name and converts
it to a <b>FileInputStream</b>, from which it loads the
keystore information.)The <b>jarsigner</b> and
<b>policytool</b> commands can read a keystore from any
location that can be specified with a URL.</p>

<p style="margin-left:22%; margin-top: 1em">For
<b>keytool</b> and <b>jarsigner</b>, you can specify a
keystore type at the command line, with the
<b>-storetype</b> option. For Policy Tool, you can specify a
keystore type with the <i>Keystore</i> menu.</p>

<p style="margin-left:22%; margin-top: 1em">If you do not
explicitly specify a keystore type, then the tools choose a
keystore implementation based on the value of the
<b>keystore.type</b> property specified in the security
properties file. The security properties file is called
<b>java.security</b>, and resides in the security properties
directory, <b>java.home\lib\security</b> on Windows and
<b>java.home/lib/security</b> on Oracle Solaris, where
<b>java.home</b> is the runtime environment directory. The
<b>jre</b> directory in the SDK or the top-level directory
of the Java Runtime Environment (JRE).</p>

<p style="margin-left:22%; margin-top: 1em">Each tool gets
the <b>keystore.type</b> value and then examines all the
currently installed providers until it finds one that
implements a keystores of that type. It then uses the
keystore implementation from that provider.The
<b>KeyStore</b> class defines a static method named
<b>getDefaultType</b> that lets applications and applets
retrieve the value of the <b>keystore.type</b> property. The
following line of code creates an instance of the default
keystore type as specified in the <b>keystore.type</b>
property:</p>

<p style="margin-left:22%; margin-top: 1em"><b>KeyStore
keyStore =
KeyStore.getInstance(KeyStore.getDefaultType());</b></p>

<p style="margin-left:22%; margin-top: 1em">The default
keystore type is <b>jks</b>, which is the proprietary type
of the keystore implementation provided by Oracle. This is
specified by the following line in the security properties
file:</p>


<p style="margin-left:22%; margin-top: 1em"><b>keystore.type=jks</b></p>

<p style="margin-left:22%; margin-top: 1em">To have the
tools utilize a keystore implementation other than the
default, you can change that line to specify a different
keystore type. For example, if you have a provider package
that supplies a keystore implementation for a keystore type
called <b>pkcs12</b>, then change the line to the
following:</p>


<p style="margin-left:22%; margin-top: 1em"><b>keystore.type=pkcs12</b></p>

<p style="margin-left:22%; margin-top: 1em"><i>Note:</i>
Case does not matter in keystore type designations. For
example, JKS would be considered the same as jks.</p>

<p style="margin-left:11%;">Certificate</p>

<p style="margin-left:22%;">A certificate (or public-key
certificate) is a digitally signed statement from one entity
(the issuer), saying that the public key and some other
information of another entity (the subject) has some
specific value. The following terms are related to
certificates:</p>

<p style="margin-left:22%; margin-top: 1em"><i>Public
Keys</i>: These are numbers associated with a particular
entity, and are intended to be known to everyone who needs
to have trusted interactions with that entity. Public keys
are used to verify signatures.</p>

<p style="margin-left:22%; margin-top: 1em"><i>Digitally
Signed</i>: If some data is digitally signed, then it is
stored with the identity of an entity and a signature that
proves that entity knows about the data. The data is
rendered unforgeable by signing with the entity&rsquo;s
private key.</p>


<p style="margin-left:22%; margin-top: 1em"><i>Identity</i>:
A known way of addressing an entity. In some systems, the
identity is the public key, and in others it can be anything
from an Oracle Solaris UID to an email address to an X.509
distinguished name.</p>


<p style="margin-left:22%; margin-top: 1em"><i>Signature</i>:
A signature is computed over some data using the private key
of an entity. The signer, which in the case of a certificate
is also known as the issuer.</p>

<p style="margin-left:22%; margin-top: 1em"><i>Private
Keys</i>: These are numbers, each of which is supposed to be
known only to the particular entity whose private key it is
(that is, it is supposed to be kept secret). Private and
public keys exist in pairs in all public key cryptography
systems (also referred to as public key crypto systems). In
a typical public key crypto system, such as DSA, a private
key corresponds to exactly one public key. Private keys are
used to compute signatures.</p>

<p style="margin-left:22%; margin-top: 1em"><i>Entity</i>:
An entity is a person, organization, program, computer,
business, bank, or something else you are trusting to some
degree.</p>

<p style="margin-left:22%; margin-top: 1em">Public key
cryptography requires access to users&rsquo; public keys. In
a large-scale networked environment, it is impossible to
guarantee that prior relationships between communicating
entities were established or that a trusted repository
exists with all used public keys. Certificates were invented
as a solution to this public key distribution problem. Now a
Certification Authority (CA) can act as a trusted third
party. CAs are entities such as businesses that are trusted
to sign (issue) certificates for other entities. It is
assumed that CAs only create valid and reliable certificates
because they are bound by legal agreements. There are many
public Certification Authorities, such as VeriSign, Thawte,
Entrust, and so on.</p>

<p style="margin-left:22%; margin-top: 1em">You can also
run your own Certification Authority using products such as
Microsoft Certificate Server or the Entrust CA product for
your organization. With the <b>keytool</b> command, it is
possible to display, import, and export certificates. It is
also possible to generate self-signed certificates.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>keytool</b> command currently handles X.509
certificates.</p>

<p style="margin-left:11%;">X.509 Certificates</p>

<p style="margin-left:22%;">The X.509 standard defines what
information can go into a certificate and describes how to
write it down (the data format). All the data in a
certificate is encoded with two related standards called
ASN.1/DER. Abstract Syntax Notation 1 describes data. The
Definite Encoding Rules describe a single way to store and
transfer that data.</p>

<p style="margin-left:22%; margin-top: 1em">All X.509
certificates have the following data, in addition to the
signature:</p>


<p style="margin-left:22%; margin-top: 1em"><i>Version</i>:
This identifies which version of the X.509 standard applies
to this certificate, which affects what information can be
specified in it. Thus far, three versions are defined. The
<b>keytool</b> command can import and export v1, v2, and v3
certificates. It generates v3 certificates.</p>

<p style="margin-left:22%; margin-top: 1em">X.509 Version 1
has been available since 1988, is widely deployed, and is
the most generic.</p>

<p style="margin-left:22%; margin-top: 1em">X.509 Version 2
introduced the concept of subject and issuer unique
identifiers to handle the possibility of reuse of subject or
issuer names over time. Most certificate profile documents
strongly recommend that names not be reused and that
certificates should not make use of unique identifiers.
Version 2 certificates are not widely used.</p>

<p style="margin-left:22%; margin-top: 1em">X.509 Version 3
is the most recent (1996) and supports the notion of
extensions where anyone can define an extension and include
it in the certificate. Some common extensions are: KeyUsage
(limits the use of the keys to particular purposes such as
<b>signing-only</b>) and AlternativeNames (allows other
identities to also be associated with this public key, for
example. DNS names, email addresses, IP addresses).
Extensions can be marked critical to indicate that the
extension should be checked and enforced or used. For
example, if a certificate has the KeyUsage extension marked
critical and set to <b>keyCertSign</b>, then when this
certificate is presented during SSL communication, it should
be rejected because the certificate extension indicates that
the associated private key should only be used for signing
certificates and not for SSL use.</p>

<p style="margin-left:22%; margin-top: 1em"><i>Serial
number</i>: The entity that created the certificate is
responsible for assigning it a serial number to distinguish
it from other certificates it issues. This information is
used in numerous ways. For example, when a certificate is
revoked its serial number is placed in a Certificate
Revocation List (CRL).</p>

<p style="margin-left:22%; margin-top: 1em"><i>Signature
algorithm identifier</i>: This identifies the algorithm used
by the CA to sign the certificate.</p>

<p style="margin-left:22%; margin-top: 1em"><i>Issuer
name</i>: The X.500 Distinguished Name of the entity that
signed the certificate. See X.500 Distinguished Names. This
is typically a CA. Using this certificate implies trusting
the entity that signed this certificate. In some cases, such
as root or top-level CA certificates, the issuer signs its
own certificate.</p>

<p style="margin-left:22%; margin-top: 1em"><i>Validity
period</i>: Each certificate is valid only for a limited
amount of time. This period is described by a start date and
time and an end date and time, and can be as short as a few
seconds or almost as long as a century. The validity period
chosen depends on a number of factors, such as the strength
of the private key used to sign the certificate, or the
amount one is willing to pay for a certificate. This is the
expected period that entities can rely on the public value,
when the associated private key has not been
compromised.</p>

<p style="margin-left:22%; margin-top: 1em"><i>Subject
name</i>: The name of the entity whose public key the
certificate identifies. This name uses the X.500 standard,
so it is intended to be unique across the Internet. This is
the X.500 Distinguished Name (DN) of the entity. See X.500
Distinguished Names. For example,</p>

<p style="margin-left:22%; margin-top: 1em"><b>CN=Java
Duke, OU=Java Software Division, O=Oracle Corporation,
C=US</b></p>

<p style="margin-left:22%; margin-top: 1em">These refer to
the subject&rsquo;s common name (CN), organizational unit
(OU), organization (O), and country (C).</p>

<p style="margin-left:22%; margin-top: 1em"><i>Subject
public key information</i>: This is the public key of the
entity being named with an algorithm identifier that
specifies which public key crypto system this key belongs to
and any associated key parameters.</p>

<p style="margin-left:11%;">Certificate Chains</p>

<p style="margin-left:22%;">The <b>keytool</b> command can
create and manage keystore key entries that each contain a
private key and an associated certificate chain. The first
certificate in the chain contains the public key that
corresponds to the private key.</p>

<p style="margin-left:22%; margin-top: 1em">When keys are
first generated, the chain starts off containing a single
element, a self-signed certificate. See <b>-genkeypair</b>
in Commands. A self-signed certificate is one for which the
issuer (signer) is the same as the subject. The subject is
the entity whose public key is being authenticated by the
certificate. Whenever the <b>-genkeypair</b> command is
called to generate a new public/private key pair, it also
wraps the public key into a self-signed certificate.</p>

<p style="margin-left:22%; margin-top: 1em">Later, after a
Certificate Signing Request (CSR) was generated with the
<b>-certreq</b> command and sent to a Certification
Authority (CA), the response from the CA is imported with
<b>-importcert</b>, and the self-signed certificate is
replaced by a chain of certificates. See the <b>-certreq</b>
and <b>-importcert</b> options in Commands. At the bottom of
the chain is the certificate (reply) issued by the CA
authenticating the subject&rsquo;s public key. The next
certificate in the chain is one that authenticates the
CA&rsquo;s public key.</p>

<p style="margin-left:22%; margin-top: 1em">In many cases,
this is a self-signed certificate, which is a certificate
from the CA authenticating its own public key, and the last
certificate in the chain. In other cases, the CA might
return a chain of certificates. In this case, the bottom
certificate in the chain is the same (a certificate signed
by the CA, authenticating the public key of the key entry),
but the second certificate in the chain is a certificate
signed by a different CA that authenticates the public key
of the CA you sent the CSR to. The next certificate in the
chain is a certificate that authenticates the second
CA&rsquo;s key, and so on, until a self-signed root
certificate is reached. Each certificate in the chain (after
the first) authenticates the public key of the signer of the
previous certificate in the chain.</p>

<p style="margin-left:22%; margin-top: 1em">Many CAs only
return the issued certificate, with no supporting chain,
especially when there is a flat hierarchy (no intermediates
CAs). In this case, the certificate chain must be
established from trusted certificate information already
stored in the keystore.</p>

<p style="margin-left:22%; margin-top: 1em">A different
reply format (defined by the PKCS #7 standard) includes the
supporting certificate chain in addition to the issued
certificate. Both reply formats can be handled by the
<b>keytool</b> command.</p>

<p style="margin-left:22%; margin-top: 1em">The top-level
(root) CA certificate is self-signed. However, the trust
into the root&rsquo;s public key does not come from the root
certificate itself, but from other sources such as a
newspaper. This is because anybody could generate a
self-signed certificate with the distinguished name of, for
example, the VeriSign root CA. The root CA public key is
widely known. The only reason it is stored in a certificate
is because this is the format understood by most tools, so
the certificate in this case is only used as a vehicle to
transport the root CA&rsquo;s public key. Before you add the
root CA certificate to your keystore, you should view it
with the <b>-printcert</b> option and compare the displayed
fingerprint with the well-known fingerprint obtained from a
newspaper, the root CA&rsquo;s Web page, and so on.</p>

<p style="margin-left:11%;">The cacerts Certificates
File</p>

<p style="margin-left:22%;">A certificates file named
<b>cacerts</b> resides in the security properties directory,
<b>java.home\lib\security</b> on Windows and
<b>java.home/lib/security</b> on Oracle Solaris, where
<b>java.home</b> is the runtime environment&rsquo;s
directory, which would be the <b>jre</b> directory in the
SDK or the top-level directory of the JRE.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>cacerts</b> file represents a system-wide keystore with
CA certificates. System administrators can configure and
manage that file with the <b>keytool</b> command by
specifying <b>jks</b> as the keystore type. The
<b>cacerts</b> keystore file ships with a default set of
root CA certificates. You can list the default certificates
with the following command:</p>

<p style="margin-left:22%; margin-top: 1em"><b>keytool
&minus;list &minus;keystore
java.home/lib/security/cacerts</b></p>

<p style="margin-left:22%; margin-top: 1em">The initial
password of the <b>cacerts</b> keystore file is
<b>changeit</b>. System administrators should change that
password and the default access permission of that file upon
installing the SDK.</p>

<p style="margin-left:22%; margin-top: 1em"><i>Note:</i> It
is important to verify your <b>cacerts</b> file. Because you
trust the CAs in the <b>cacerts</b> file as entities for
signing and issuing certificates to other entities, you must
manage the <b>cacerts</b> file carefully. The <b>cacerts</b>
file should contain only certificates of the CAs you trust.
It is your responsibility to verify the trusted root CA
certificates bundled in the <b>cacerts</b> file and make
your own trust decisions.</p>

<p style="margin-left:22%; margin-top: 1em">To remove an
untrusted CA certificate from the <b>cacerts</b> file, use
the <b>delete</b> option of the <b>keytool</b> command. You
can find the <b>cacerts</b> file in the JRE installation
directory. Contact your system administrator if you do not
have permission to edit this file</p>

<p style="margin-left:11%;">Internet RFC 1421 Certificate
Encoding Standard</p>

<p style="margin-left:22%;">Certificates are often stored
using the printable encoding format defined by the Internet
RFC 1421 standard, instead of their binary encoding. This
certificate format, also known as Base64 encoding, makes it
easy to export certificates to other applications by email
or through some other mechanism.</p>

<p style="margin-left:22%; margin-top: 1em">Certificates
read by the <b>-importcert</b> and <b>-printcert</b>
commands can be in either this format or binary encoded. The
<b>-exportcert</b> command by default outputs a certificate
in binary encoding, but will instead output a certificate in
the printable encoding format, when the <b>-rfc</b> option
is specified.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>-list</b> command by default prints the SHA1 fingerprint
of a certificate. If the <b>-v</b> option is specified, then
the certificate is printed in human-readable format. If the
<b>-rfc</b> option is specified, then the certificate is
output in the printable encoding format.</p>

<p style="margin-left:22%; margin-top: 1em">In its
printable encoding format, the encoded certificate is
bounded at the beginning and end by the following text:</p>


<p style="margin-left:22%; margin-top: 1em"><b>&minus;&minus;&minus;&minus;&minus;BEGIN
CERTIFICATE&minus;&minus;&minus;&minus;&minus; <br>
encoded certificate goes here. <br>
&minus;&minus;&minus;&minus;&minus;END
CERTIFICATE&minus;&minus;&minus;&minus;&minus;</b></p>

<p style="margin-left:11%;">X.500 Distinguished Names</p>

<p style="margin-left:22%;">X.500 Distinguished Names are
used to identify entities, such as those that are named by
the <b>subject</b> and <b>issuer</b> (signer) fields of
X.509 certificates. The <b>keytool</b> command supports the
following subparts:</p>


<p style="margin-left:22%; margin-top: 1em"><i>commonName</i>:
The common name of a person such as Susan Jones.</p>


<p style="margin-left:22%; margin-top: 1em"><i>organizationUnit</i>:
The small organization (such as department or division)
name. For example, Purchasing.</p>


<p style="margin-left:22%; margin-top: 1em"><i>localityName</i>:
The locality (city) name, for example, Palo Alto.</p>


<p style="margin-left:22%; margin-top: 1em"><i>stateName</i>:
State or province name, for example, California.</p>


<p style="margin-left:22%; margin-top: 1em"><i>country</i>:
Two-letter country code, for example, CH.</p>

<p style="margin-left:22%; margin-top: 1em">When you supply
a distinguished name string as the value of a <b>-dname</b>
option, such as for the <b>-genkeypair</b> command, the
string must be in the following format:</p>

<p style="margin-left:22%; margin-top: 1em"><b>CN=cName,
OU=orgUnit, O=org, L=city, S=state, C=countryCode</b></p>

<p style="margin-left:22%; margin-top: 1em">All the
italicized items represent actual values and the previous
keywords are abbreviations for the following:</p>


<p style="margin-left:22%; margin-top: 1em"><b>CN=commonName
<br>
OU=organizationUnit <br>
O=organizationName <br>
L=localityName <br>
S=stateName <br>
C=country</b></p>

<p style="margin-left:22%; margin-top: 1em">A sample
distinguished name string is:</p>

<p style="margin-left:22%; margin-top: 1em"><b>CN=Mark
Smith, OU=Java, O=Oracle, L=Cupertino, S=California,
C=US</b></p>

<p style="margin-left:22%; margin-top: 1em">A sample
command using such a string is:</p>

<p style="margin-left:22%; margin-top: 1em"><b>keytool
&minus;genkeypair &minus;dname &quot;CN=Mark Smith, OU=Java,
O=Oracle, L=Cupertino, <br>
S=California, C=US&quot; &minus;alias mark</b></p>

<p style="margin-left:22%; margin-top: 1em">Case does not
matter for the keyword abbreviations. For example, CN, cn,
and Cn are all treated the same.</p>

<p style="margin-left:22%; margin-top: 1em">Order matters;
each subcomponent must appear in the designated order.
However, it is not necessary to have all the subcomponents.
You can use a subset, for example:</p>

<p style="margin-left:22%; margin-top: 1em"><b>CN=Steve
Meier, OU=Java, O=Oracle, C=US</b></p>

<p style="margin-left:22%; margin-top: 1em">If a
distinguished name string value contains a comma, then the
comma must be escaped by a backslash (\) character when you
specify the string on a command line, as in:</p>

<p style="margin-left:22%; margin-top: 1em"><b>cn=Peter
Schuster, ou=Java\, Product Development, o=Oracle,
c=US</b></p>

<p style="margin-left:22%; margin-top: 1em">It is never
necessary to specify a distinguished name string on a
command line. When the distinguished name is needed for a
command, but not supplied on the command line, the user is
prompted for each of the subcomponents. In this case, a
comma does not need to be escaped by a backslash (\).</p>

<h2>WARNINGS
<a name="WARNINGS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>IMPORTING&nbsp;TRUSTED&nbsp;CERTIFICATES&nbsp;WARNING</b>
<i><br>
Important</i>: Be sure to check a certificate very carefully
before importing it as a trusted certificate.</p>

<p style="margin-left:11%; margin-top: 1em">Windows
Example:</p>

<p style="margin-left:11%; margin-top: 1em">View the
certificate first with the <b>-printcert</b> command or the
<b>-importcert</b> command without the <b>-noprompt</b>
option. Ensure that the displayed certificate fingerprints
match the expected ones. For example, suppose sends or
emails you a certificate that you put it in a file named
<b>\tmp\cert</b>. Before you consider adding the certificate
to your list of trusted certificates, you can execute a
<b>-printcert</b> command to view its fingerprints, as
follows:</p>

<p style="margin-left:11%; margin-top: 1em"><b>keytool
&minus;printcert &minus;file \tmp\cert <br>
Owner: CN=ll, OU=ll, O=ll, L=ll, S=ll, C=ll <br>
Issuer: CN=ll, OU=ll, O=ll, L=ll, S=ll, C=ll <br>
Serial Number: 59092b34 <br>
Valid from: Thu Sep 25 18:01:13 PDT 1997 until: Wed Dec 24
17:01:13 PST 1997 <br>
Certificate Fingerprints: <br>
MD5: 11:81:AD:92:C8:E5:0E:A2:01:2E:D4:7A:D7:5F:07:6F <br>
SHA1:
20:B6:17:FA:EF:E5:55:8A:D0:71:1F:E8:D6:9D:C0:37:13:0E:5E:FE
<br>
SHA256: 90:7B:70:0A:EA:DC:16:79:92:99:41:FF:8A:FE:EB:90:
<br>
17:75:E0:90:B2:24:4D:3A:2A:16:A6:E4:11:0F:67:A4</b></p>

<p style="margin-left:11%; margin-top: 1em">Oracle Solaris
Example:</p>

<p style="margin-left:11%; margin-top: 1em">View the
certificate first with the <b>-printcert</b> command or the
<b>-importcert</b> command without the <b>-noprompt</b>
option. Ensure that the displayed certificate fingerprints
match the expected ones. For example, suppose someone sends
or emails you a certificate that you put it in a file named
<b>/tmp/cert</b>. Before you consider adding the certificate
to your list of trusted certificates, you can execute a
<b>-printcert</b> command to view its fingerprints, as
follows:</p>

<p style="margin-left:11%; margin-top: 1em"><b>keytool
&minus;printcert &minus;file /tmp/cert <br>
Owner: CN=ll, OU=ll, O=ll, L=ll, S=ll, C=ll <br>
Issuer: CN=ll, OU=ll, O=ll, L=ll, S=ll, C=ll <br>
Serial Number: 59092b34 <br>
Valid from: Thu Sep 25 18:01:13 PDT 1997 until: Wed Dec 24
17:01:13 PST 1997 <br>
Certificate Fingerprints: <br>
MD5: 11:81:AD:92:C8:E5:0E:A2:01:2E:D4:7A:D7:5F:07:6F <br>
SHA1:
20:B6:17:FA:EF:E5:55:8A:D0:71:1F:E8:D6:9D:C0:37:13:0E:5E:FE
<br>
SHA256: 90:7B:70:0A:EA:DC:16:79:92:99:41:FF:8A:FE:EB:90:
<br>
17:75:E0:90:B2:24:4D:3A:2A:16:A6:E4:11:0F:67:A4</b></p>

<p style="margin-left:11%; margin-top: 1em">Then call or
otherwise contact the person who sent the certificate and
compare the fingerprints that you see with the ones that
they show. Only when the fingerprints are equal is it
guaranteed that the certificate was not replaced in transit
with somebody else&rsquo;s certificate such as an
attacker&rsquo;s certificate. If such an attack took place,
and you did not check the certificate before you imported
it, then you would be trusting anything the attacker signed,
for example, a JAR file with malicious class files
inside.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Note:</i> It
is not required that you execute a <b>-printcert</b> command
before importing a certificate. This is because before you
add a certificate to the list of trusted certificates in the
keystore, the <b>-importcert</b> command prints out the
certificate information and prompts you to verify it. You
can then stop the import operation. However, you can do this
only when you call the <b>-importcert</b> command without
the <b>-noprompt</b> option. If the <b>-noprompt</b> option
is specified, then there is no interaction with the
user.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PASSWORDS&nbsp;WARNING</b>
<br>
Most commands that operate on a keystore require the store
password. Some commands require a private/secret key
password. Passwords can be specified on the command line in
the <b>-storepass</b> and <b>-keypass</b> options. However,
a password should not be specified on a command line or in a
script unless it is for testing, or you are on a secure
system. When you do not specify a required password option
on a command line, you are prompted for it.</p>


<p style="margin-left:11%; margin-top: 1em"><b>CERTIFICATE&nbsp;CONFORMANCE&nbsp;WARNING</b>
<br>
The Internet standard RFC 5280 has defined a profile on
conforming X.509 certificates, which includes what values
and value combinations are valid for certificate fields and
extensions. See the standard at
http://tools.ietf.org/rfc/rfc5280.txt</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>keytool</b> command does not enforce all of these rules
so it can generate certificates that do not conform to the
standard. Certificates that do not conform to the standard
might be rejected by JRE or other applications. Users should
ensure that they provide the correct options for
<b>-dname</b>, <b>-ext</b>, and so on.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>IMPORT&nbsp;A&nbsp;NEW&nbsp;TRUSTED&nbsp;CERTIFICATE</b>
<br>
Before you add the certificate to the keystore, the
<b>keytool</b> command verifies it by attempting to
construct a chain of trust from that certificate to a
self-signed certificate (belonging to a root CA), using
trusted certificates that are already available in the
keystore.</p>

<p style="margin-left:11%; margin-top: 1em">If the
<b>-trustcacerts</b> option was specified, then additional
certificates are considered for the chain of trust, namely
the certificates in a file named <b>cacerts</b>.</p>

<p style="margin-left:11%; margin-top: 1em">If the
<b>keytool</b> command fails to establish a trust path from
the certificate to be imported up to a self-signed
certificate (either from the keystore or the <b>cacerts</b>
file), then the certificate information is printed, and the
user is prompted to verify it by comparing the displayed
certificate fingerprints with the fingerprints obtained from
some other (trusted) source of information, which might be
the certificate owner. Be very careful to ensure the
certificate is valid before importing it as a trusted
certificate. See Importing Trusted Certificates Warning. The
user then has the option of stopping the import operation.
If the <b>-noprompt</b> option is specified, then there is
no interaction with the user.</p>


<p style="margin-left:11%; margin-top: 1em"><b>IMPORT&nbsp;A&nbsp;CERTIFICATE&nbsp;REPLY</b>
<br>
When you import a certificate reply, the certificate reply
is validated with trusted certificates from the keystore,
and optionally, the certificates configured in the
<b>cacerts</b> keystore file when the <b>-trustcacerts</b>
option is specified. See The cacerts Certificates File.</p>

<p style="margin-left:11%; margin-top: 1em">The methods of
determining whether the certificate reply is trusted are as
follows:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>If the reply is a single X.509 certificate, then the
<b>keytool</b> command attempts to establish a trust chain,
starting at the certificate reply and ending at a
self-signed certificate (belonging to a root CA). The
certificate reply and the hierarchy of certificates is used
to authenticate the certificate reply from the new
certificate chain of aliases. If a trust chain cannot be
established, then the certificate reply is not imported. In
this case, the <b>keytool</b> command does not print the
certificate and prompt the user to verify it, because it is
very difficult for a user to determine the authenticity of
the certificate reply.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>If the reply is a PKCS #7 formatted certificate chain or
a sequence of X.509 certificates, then the chain is ordered
with the user certificate first followed by zero or more CA
certificates. If the chain ends with a self-signed root CA
certificate and the<b>-trustcacerts</b> option was
specified, the <b>keytool</b> command attempts to match it
with any of the trusted certificates in the keystore or the
<b>cacerts</b> keystore file. If the chain does not end with
a self-signed root CA certificate and the
<b>-trustcacerts</b> option was specified, the
<b>keytool</b> command tries to find one from the trusted
certificates in the keystore or the <b>cacerts</b> keystore
file and add it to the end of the chain. If the certificate
is not found and the <b>-noprompt</b> option is not
specified, the information of the last certificate in the
chain is printed, and the user is prompted to verify it.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">If the public
key in the certificate reply matches the user&rsquo;s public
key already stored with <b>alias</b>, then the old
certificate chain is replaced with the new certificate chain
in the reply. The old chain can only be replaced with a
valid <b>keypass</b>, and so the password used to protect
the private key of the entry is supplied. If no password is
provided, and the private key password is different from the
keystore password, the user is prompted for it.</p>

<p style="margin-left:11%; margin-top: 1em">This command
was named <b>-import</b> in earlier releases. This old name
is still supported in this release. The new name,
<b>-importcert</b>, is preferred going forward.</p>

<h2>SEE&nbsp;ALSO
<a name="SEE&nbsp;ALSO"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p style="margin-top: 1em">jar(1)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>jarsigner(1)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>Trail: Security Features in Java SE at
http://docs.oracle.com/javase/tutorial/security/index.html</p> </td></tr>
 </table>
<hr>
</body>
</html>
