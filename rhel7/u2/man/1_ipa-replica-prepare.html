<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 01:50:05 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>ipa-replica-prepare</title>

</head>
<body>

<h1 align="center">ipa-replica-prepare</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">ipa&minus;replica&minus;prepare
&minus; Create an IPA replica file</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">ipa&minus;replica&minus;prepare
[<i>OPTION</i>]... hostname</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Generates a
replica file that may be used with
ipa&minus;replica&minus;install to create a replica of an
IPA server.</p>

<p style="margin-left:11%; margin-top: 1em">A replica can
be created on any IPA master or replica server.</p>

<p style="margin-left:11%; margin-top: 1em">You must
provide the fully&minus;qualified hostname of the machine
you want to install the replica on and a host&minus;specific
replica_file will be created. It is host&minus;specific
because SSL server certificates are generated as part of the
process and they are specific to a particular hostname.</p>

<p style="margin-left:11%; margin-top: 1em">If IPA manages
the DNS for your domain, you should either use the
<b>&minus;&minus;ip&minus;address</b> option or add the
forward and reverse records manually using IPA plugins.</p>

<p style="margin-left:11%; margin-top: 1em">Once the file
has been created it will be named replica&minus;hostname.
This file can then be moved across the network to the target
machine and a new IPA replica setup by running
ipa&minus;replica&minus;install replica&minus;hostname.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Limitations</b>
<br>
A replica should only be installed on the same or higher
version of IPA on the remote system.</p>

<p style="margin-left:11%; margin-top: 1em">A replica with
PKI can only be installed from a replica file prepared on a
master with PKI.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;dirsrv&minus;cert&minus;file</b>=<i>FILE</i></p>

<p style="margin-left:22%;">File containing the Directory
Server SSL certificate and private key. The files are
accepted in PEM and DER certificate, PKCS#7 certificate
chain, PKCS#8 and raw private key and PKCS#12 formats. This
option may be used multiple times.</p>


<p style="margin-left:11%;"><b>&minus;&minus;http&minus;cert&minus;file</b>=<i>FILE</i></p>

<p style="margin-left:22%;">File containing the Apache
Server SSL certificate and private key. The files are
accepted in PEM and DER certificate, PKCS#7 certificate
chain, PKCS#8 and raw private key and PKCS#12 formats. This
option may be used multiple times.</p>


<p style="margin-left:11%;"><b>&minus;&minus;dirsrv&minus;pin</b>=<i>PIN</i></p>

<p style="margin-left:22%;">The password to unlock the
Directory Server private key</p>


<p style="margin-left:11%;"><b>&minus;&minus;http&minus;pin</b>=<i>PIN</i></p>

<p style="margin-left:22%;">The password to unlock the
Apache Server private key</p>


<p style="margin-left:11%;"><b>&minus;&minus;dirsrv&minus;cert&minus;name</b>=<i>NAME</i></p>

<p style="margin-left:22%;">Name of the Directory Server
SSL certificate to install</p>


<p style="margin-left:11%;"><b>&minus;&minus;http&minus;cert&minus;name</b>=<i>NAME</i></p>

<p style="margin-left:22%;">Name of the Apache Server SSL
certificate to install</p>

<p style="margin-left:11%;"><b>&minus;p</b>
<i>DM_PASSWORD</i>,
<b>&minus;&minus;password</b>=<i>DM_PASSWORD</i></p>

<p style="margin-left:22%;">Directory Manager (existing
master) password</p>


<p style="margin-left:11%;"><b>&minus;&minus;ip&minus;address</b>=<i>IP_ADDRESS</i></p>

<p style="margin-left:22%;">IPv4 or IPv6 address of the
replica server. This option can be specified multiple times
for each interface of the server (e.g. multihomed and/or
dualstacked server), or for each IPv4 and IPv6 address of
the server. The corresponding A or AAAA and PTR records will
be added to the DNS if they do not exist already.</p>


<p style="margin-left:11%;"><b>&minus;&minus;reverse&minus;zone</b>=<i>REVERSE_ZONE</i></p>

<p style="margin-left:22%;">The reverse DNS zone to use.
This option can be used multiple times to specify multiple
reverse zones.</p>


<p style="margin-left:11%;"><b>&minus;&minus;no&minus;reverse</b></p>

<p style="margin-left:22%;">Do not create reverse DNS
zone</p>


<p style="margin-left:11%;"><b>&minus;&minus;ca</b>=<i>CA_FILE</i></p>

<p style="margin-left:22%;">Location of CA PKCS#12 file,
default /root/cacert.p12</p>

<p style="margin-left:11%;"><b>&minus;&minus;debug</b></p>

<p style="margin-left:22%;">Prints info log messages to the
output</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">0 if the
command was successful</p>

<p style="margin-left:11%; margin-top: 1em">1 if an error
occurred</p>
<hr>
</body>
</html>
