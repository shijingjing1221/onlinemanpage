<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 02:23:24 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>NETSNMP_VARBIND_API</title>

</head>
<body>

<h1 align="center">NETSNMP_VARBIND_API</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">snmp_pdu_add_variable,
snmp_varlist_add_variable, snmp_add_null_var,
snmp_clone_varbind, snmp_set_var_objid, snmp_set_var_value,
snmp_set_var_typed_value, snmp_set_var_typed_integer,
print_variable, fprint_variable, snprint_variable,
print_value, fprint_value, snprint_value, snmp_free_var,
snmp_free_varbind - netsnmp_varbind_api functions</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;net-snmp/varbind_api.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>Creation
<br>
netsnmp_variable_list *snmp_pdu_add_variable( <br>
netsnmp_pdu *</b><i>pdu</i><b>, <br>
const oid *</b><i>objid</i><b>, size_t</b>
<i>objidlen</i><b>, <br>
u_char</b> <i>type</i><b>, const void *</b><i>value</i><b>,
size_t</b> <i>len</i><b>); <br>
netsnmp_variable_list *snmp_varlist_add_variable( <br>
netsnmp_variable_list *</b><i>varlist</i><b>, <br>
const oid *</b><i>objid</i><b>, size_t</b>
<i>objidlen</i><b>, <br>
u_char</b> <i>type</i><b>, const void *</b><i>value</i><b>,
size_t</b> <i>len</i><b>); <br>
netsnmp_variable_list *snmp_add_null_var( <br>
netsnmp_pdu *</b><i>pdu</i><b>, <br>
const oid *</b><i>objid</i><b>, size_t</b>
<i>objidlen</i><b>);</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>netsnmp_variable_list
*snmp_clone_varbind( <br>
netsnmp_variable_list *</b><i>varlist</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>Setting
Values <br>
int snmp_set_var_objid( netsnmp_variable_list*</b>
<i>variable</i><b>, <br>
const oid *</b> <i>objid</i><b>, size_t</b>
<i>objidlen</i><b>); <br>
int snmp_set_var_value( netsnmp_variable_list*</b>
<i>variable</i><b>, <br>
const void *</b> <i>value</i><b>, size_t</b>
<i>vallen</i><b>); <br>
int snmp_set_var_typed_value( netsnmp_variable_list*</b>
<i>variable</i><b>, <br>
u_char</b> <i>type</i><b>, <br>
const void *</b> <i>value</i><b>, size_t</b>
<i>vallen</i><b>); <br>
int snmp_set_var_typed_integer( netsnmp_variable_list*</b>
<i>variable</i><b>, <br>
u_char</b> <i>type</i><b>, long</b>
<i>value</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>Output <br>
void print_variable(const oid *</b><i>objid</i><b>,
size_t</b> <i>objidlen</i><b>, <br>
const netsnmp_variable_list *</b><i>variable</i><b>); <br>
void fprint_variable(FILE *</b><i>fp</i><b>, <br>
const oid *</b><i>objid</i><b>, size_t</b>
<i>objidlen</i><b>, <br>
const netsnmp_variable_list *</b><i>variable</i><b>); <br>
int snprint_variable(char *</b><i>buf</i><b>, size_t</b>
<i>len</i><b>, <br>
const oid *</b><i>objid</i><b>, size_t</b>
<i>objidlen</i><b>, <br>
const netsnmp_variable_list
*</b><i>variable</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>void
print_value(const oid *</b><i>objid</i><b>, size_t</b>
<i>objidlen</i><b>, <br>
const netsnmp_variable_list *</b><i>variable</i><b>); <br>
void fprint_value(FILE *</b><i>fp</i><b>, <br>
const oid *</b><i>objid</i><b>, size_t</b>
<i>objidlen</i><b>, <br>
const netsnmp_variable_list *</b><i>variable</i><b>); <br>
int snprint_value(char *</b><i>buf</i><b>, size_t</b>
<i>len</i><b>, <br>
const oid *</b><i>objid</i><b>, size_t</b>
<i>objidlen</i><b>, <br>
const netsnmp_variable_list
*</b><i>variable</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>Deletion
<br>
void snmp_free_var( netsnmp_variable_list
*</b><i>variable</i><b>); <br>
void snmp_free_varbind( netsnmp_variable_list
*</b><i>variables</i><b>);</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The functions
dealing with variable bindings fall into four groups -
dealing with the creation, setting of values, output and
deletion of varbinds.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Creation
<br>
snmp_pdu_add_variable</b> will create a new varbind
structure, initialised with the name ( <i>objid</i>,
<i>objidlen</i> ), syntax ( <i>type</i> ) and value (
<i>value , len</i> ) provided. This varbind is then added to
the end of the varbind list in the given PDU.</p>


<p style="margin-left:11%; margin-top: 1em"><b>snmp_varlist_add_variable</b>
is similar, but appends the new varbind to the end of the
varbind list provided. When adding the first varbind to an
empty list, simply pass the address of the head of the
list:</p>


<p style="margin-left:22%; margin-top: 1em">netsnmp_variable_list
*vl = NULL; <br>
snmp_varlist_add_variable( <br>
&amp;vl, name1, name1_len, <br>
ASN_<i>TYPE</i>, &amp;val1, val1_len); <br>
snmp_varlist_add_variable( <br>
&amp;vl, name2, name2_len, <br>
ASN_<i>TYPE</i>, &amp;val2, val2_len);</p>

<p style="margin-left:11%; margin-top: 1em">In both cases,
the routine will return a pointer to the new varbind
structure (or NULL if the varbind creation fails).</p>


<p style="margin-left:11%; margin-top: 1em"><b>snmp_add_null_var</b>
is a convenience function to add an empty varbind to the
PDU. without needing to specify the NULL value explicitly.
This is the normal mechanism for constructing a GET (or
similar) information retrieval request. <br>
Again, this returns a pointer to the new varbind, or
NULL.</p>


<p style="margin-left:11%; margin-top: 1em"><b>snmp_clone_varbind</b>
creates a copy of each varbind in the specified list,
returning a pointer to the head of the new list (or NULL if
the cloning fails).</p>

<p style="margin-left:11%; margin-top: 1em"><b>Setting of
values <br>
snmp_set_var_objid</b> sets the name of the varbind
structure to the specified OID. <b><br>
snmp_set_var_typed_value</b> sets the syntax type and value
of the varbind structure. <b><br>
snmp_set_var_value</b> sets the value of the varbind
structure, leaving the syntax type unchanged. <b><br>
snmp_set_var_typed_integer</b> is a convenience function to
set the syntax type and value for a 32-bit integer-based
varbind.</p>

<p style="margin-left:11%; margin-top: 1em">All four of
these return 0 if the assignment is successful, or 1 if it
is not.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Output <br>
print_variable</b> will take an object identifier (as
returned by <b>read_objid</b>, <b>snmp_parse_oid</b> or
<b>get_module_node</b>) and an instance of such a variable,
and prints to the standard output the textual form of the
object identifier together with the value of the
variable.</p>


<p style="margin-left:11%; margin-top: 1em"><b>fprint_variable</b>
does the same, but prints to the FILE pointer specified by
the initial parameter.</p>


<p style="margin-left:11%; margin-top: 1em"><b>snprint_variable</b>
prints the same information into the buffer pointed to by
<i>buf</i> which is of length <i>len</i>. It returns the
number of characters printed, or -1 if the buffer was not
large enough. In the latter case, <i>buf</i> will typically
contained a truncated version of the information (but this
behaviour is not guaranteed). This function replaces the
obsolete function <b>sprint_variable</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>print_value</b>,
<b>fprint_value</b>, and <b>snprint_value</b> do the same as
the equivalent <b>print_variable</b> routines, but only
displaying the value of the variable, without the
corresponding object identifier.</p>

<p style="margin-left:11%; margin-top: 1em">For displaying
the OID of a varbind, see <b>min_api</b>(3).</p>

<p style="margin-left:11%; margin-top: 1em"><b>Deletion
<br>
snmp_free_var</b> releases all memory used by the given
varbind structure. <b><br>
snmp_free_varbind</b> releases all memory used by each
varbind structure in the varbind list provided.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pdu_api</b>(3)
<b>mib_api</b>(3)</p>
<hr>
</body>
</html>
