<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 01:13:58 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>ALSACTL_INIT</title>

</head>
<body>

<h1 align="center">ALSACTL_INIT</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#CONFIGURATION">CONFIGURATION</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">alsactl_init
&minus; alsa control management &minus; initialization</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">&quot;alsactl
init&quot; provides soundcard specific initialization.</p>

<h2>CONFIGURATION
<a name="CONFIGURATION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All
&quot;alsactl init&quot; configuration files are placed in
/usr/share/alsa/init/ directory. The top level configuration
file is /usr/share/alsa/init/00main. The default
top&minus;level file can be also specified using &minus;i or
&minus;&minus;initfile parameter for the alsactl tool. Every
file consists of a set of lines of text. All empty lines or
lines beginning with '#' will be ignored.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Rules
files</b> <br>
The &quot;alsactl init&quot; rules are read from the files
located in the /usr/share/alsa/init/*. The top level
configuration file is /usr/share/alsa/init/00main. Every
line in the rules file contains at least one key value pair.
There are two kind of keys, match and assignment keys. If
all match keys are matching against its value, the rule gets
applied and the assign keys get the specified value
assigned.</p>

<p style="margin-left:11%; margin-top: 1em">A rule may
consists of a list of one or more key value pairs separated
by a comma. Each key has a distinct operation, depending on
the used operator. Valid operators are:</p>

<p style="margin-left:11%; margin-top: 1em"><b>==</b></p>

<p style="margin-left:17%;">Compare for equality.</p>

<p style="margin-left:11%; margin-top: 1em"><b>!=</b></p>

<p style="margin-left:17%;">Compare for
non&minus;equality.</p>

<p style="margin-left:11%; margin-top: 1em"><b>=</b></p>

<p style="margin-left:17%;">Assign a value to a key. Keys
that represent a list, are reset and only this single value
is assigned.</p>

<p style="margin-left:11%; margin-top: 1em"><b>+=</b></p>

<p style="margin-left:17%;">Add the value to a key that
holds a list of entries.</p>

<p style="margin-left:11%; margin-top: 1em"><b>:=</b></p>

<p style="margin-left:17%;">Assign a value to a key
finally; disallow any later changes, which may be used to
prevent changes by any later rules.</p>

<p style="margin-left:11%; margin-top: 1em">The following
key names can be used to match against device
properties:</p>


<p style="margin-left:11%; margin-top: 1em"><b>CARDINDEX</b></p>

<p style="margin-left:17%;">Match the card index of the
ALSA driver.</p>


<p style="margin-left:11%; margin-top: 1em"><b>CTL{</b><i>attribute</i><b>}</b></p>

<p style="margin-left:17%;">Set or test universal control
attribute. Possible attributes:</p>


<p style="margin-left:17%; margin-top: 1em"><b>numid</b></p>

<p style="margin-left:23%;">Numeric control
identification.</p>

<p style="margin-left:17%; margin-top: 1em"><b>iface</b>,
<b>interface</b></p>

<p style="margin-left:23%;">Control interface name (CARD,
HWEDEP, MIXER, PCM, RAWMIDI, TIMER, SEQUENCER)</p>

<p style="margin-left:17%; margin-top: 1em"><b>subdev</b>,
<b>subdevice</b></p>

<p style="margin-left:23%;">Subdevice number.</p>


<p style="margin-left:17%; margin-top: 1em"><b>name</b></p>

<p style="margin-left:23%;">Control name</p>


<p style="margin-left:17%; margin-top: 1em"><b>index</b></p>

<p style="margin-left:23%;">Control index</p>


<p style="margin-left:17%; margin-top: 1em"><b>type</b></p>

<p style="margin-left:23%;">Control type (BOOLEAN, INTEGER,
INTEGER64, ENUMERATED, BYTES, IEC958)</p>

<p style="margin-left:17%; margin-top: 1em"><b>attr</b>,
<b>attribute</b></p>

<p style="margin-left:23%;">Attributes (stored in a string
&minus; use match characters * and ?):</p>

<p style="margin-left:23%; margin-top: 1em"><b>r</b></p>

<p style="margin-left:29%;">control is readable</p>

<p style="margin-left:23%; margin-top: 1em"><b>w</b></p>

<p style="margin-left:29%;">control is writable</p>

<p style="margin-left:23%; margin-top: 1em"><b>v</b></p>

<p style="margin-left:29%;">control is volatile</p>

<p style="margin-left:23%; margin-top: 1em"><b>i</b></p>

<p style="margin-left:29%;">control is inactive</p>

<p style="margin-left:23%; margin-top: 1em"><b>l</b></p>

<p style="margin-left:29%;">control is locked</p>

<p style="margin-left:23%; margin-top: 1em"><b>R</b></p>

<p style="margin-left:29%;">control is TLV readable</p>

<p style="margin-left:23%; margin-top: 1em"><b>W</b></p>

<p style="margin-left:29%;">control is TLV writable</p>

<p style="margin-left:23%; margin-top: 1em"><b>C</b></p>

<p style="margin-left:29%;">control is TLV commandable</p>

<p style="margin-left:23%; margin-top: 1em"><b>o</b></p>

<p style="margin-left:29%;">process is owner of this
control</p>

<p style="margin-left:23%; margin-top: 1em"><b>u</b></p>

<p style="margin-left:29%;">control created in user
space</p>


<p style="margin-left:17%; margin-top: 1em"><b>owner</b></p>

<p style="margin-left:23%;">Control owner process PID
number</p>


<p style="margin-left:17%; margin-top: 1em"><b>count</b></p>

<p style="margin-left:23%;">Control count of values</p>

<p style="margin-left:17%; margin-top: 1em"><b>min</b></p>

<p style="margin-left:23%;">Value range &minus; minimum
value</p>

<p style="margin-left:17%; margin-top: 1em"><b>max</b></p>

<p style="margin-left:23%;">Value range &minus; maximum
value</p>


<p style="margin-left:17%; margin-top: 1em"><b>step</b></p>

<p style="margin-left:23%;">Value range &minus; step
value</p>


<p style="margin-left:17%; margin-top: 1em"><b>dBmin</b></p>

<p style="margin-left:23%;">Value range &minus; minimum dB
value</p>


<p style="margin-left:17%; margin-top: 1em"><b>dBmax</b></p>

<p style="margin-left:23%;">Value range &minus; maximum dB
value</p>


<p style="margin-left:17%; margin-top: 1em"><b>items</b></p>

<p style="margin-left:23%;">Enumerated value &minus; number
of text items</p>


<p style="margin-left:17%; margin-top: 1em"><b>enums</b></p>

<p style="margin-left:23%;">Enumerated value &minus; list
of text names stored between '|' character</p>


<p style="margin-left:17%; margin-top: 1em"><b>value</b></p>

<p style="margin-left:23%;">Value of control stored to a
string delimited by comma (,).</p>


<p style="margin-left:17%; margin-top: 1em"><b>do_search</b></p>

<p style="margin-left:23%;">Search for a control. Value
&quot;1&quot; is returned if a control was found. The
CTL{name} key might contain match characters * and ?. An
control index might be specified as first argument starting
from zero (e.g. CTL{do_search 2}=&quot;1&quot;).</p>


<p style="margin-left:17%; margin-top: 1em"><b>do_count</b></p>

<p style="margin-left:23%;">Search for a controls and
return total count of matched ones. The CTL{name} key might
contain match characters * and ?.</p>


<p style="margin-left:11%; margin-top: 1em"><b>CONFIG{sysfs_device}</b></p>

<p style="margin-left:17%;">The relative path to sysfs
subsystem specifying the root directory of a soundcard
device. Usually, it should be set to
&quot;/class/sound/card$cardinfo{card}/device&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>ATTR{</b><i>filename</i><b>}</b></p>

<p style="margin-left:17%;">Match sysfs attribute values of
the soundcard device. The relative path to sysfs tree must
be defined by CONFIG{sysfs_device} key. Trailing whitespace
in the attribute values is ignored, if the specified match
value does not contain trailing whitespace itself. Depending
on the type of operator, this key is also used to set the
value of a sysfs attribute.</p>


<p style="margin-left:11%; margin-top: 1em"><b>ENV{</b><i>key</i><b>}</b></p>

<p style="margin-left:17%;">Match against the value of an
environment variable. Up to five <b>ENV</b> keys can be
specified per rule. Depending on the type of operator, this
key is also used to export a variable to the
environment.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PROGRAM</b></p>

<p style="margin-left:17%;">Execute external program. The
key is true, if the program returns without exit code zero.
The whole event environment is available to the executed
program. The program's output printed to stdout is available
for the RESULT key.</p>

<p style="margin-left:17%; margin-top: 1em">Several buildin
commands are available:</p>


<p style="margin-left:17%; margin-top: 1em"><b>__ctl_search</b></p>

<p style="margin-left:23%;">Search for a control. The
CTL{name} key might contain match characters * and ?. An
control index might be specified as first argument starting
from zero (e.g. PROGRAM=&quot;__ctl_search 2&quot;).</p>


<p style="margin-left:17%; margin-top: 1em"><b>__ctl_count</b></p>

<p style="margin-left:23%;">Search for a controls and
return total count of matched ones. The CTL{name} key might
contain match characters * and ?.</p>


<p style="margin-left:11%; margin-top: 1em"><b>RESULT</b></p>

<p style="margin-left:17%;">Match the returned string of
the last PROGRAM call. This key can be used in the same or
in any later rule after a PROGRAM call.</p>

<p style="margin-left:11%; margin-top: 1em">Most of the
fields support a shell style pattern matching. The following
pattern characters are supported:</p>

<p style="margin-left:11%; margin-top: 1em"><b>*</b></p>

<p style="margin-left:17%;">Matches zero, or any number of
characters.</p>

<p style="margin-left:11%; margin-top: 1em"><b>?</b></p>

<p style="margin-left:17%;">Matches any single
character.</p>

<p style="margin-left:11%; margin-top: 1em"><b>[]</b></p>

<p style="margin-left:17%;">Matches any single character
specified within the brackets. For example, the pattern
string 'tty[SR]' would match either 'ttyS' or 'ttyR'. Ranges
are also supported within this match with the '&minus;'
character. For example, to match on the range of all digits,
the pattern [0&minus;9] would be used. If the first
character following the '[' is a '!', any characters not
enclosed are matched.</p>

<p style="margin-left:11%; margin-top: 1em">The following
keys can get values assigned:</p>


<p style="margin-left:11%; margin-top: 1em"><b>CTL{numid}</b>,
<b>CTL{iface}</b>, <b>CTL{device}</b>, <b>CTL{subdev}</b>,
<b>CTL{name}</b>, <b>CTL{index}</b>,</p>

<p style="margin-left:17%;">Select universal control
element.</p>


<p style="margin-left:11%; margin-top: 1em"><b>CTL{value}</b></p>

<p style="margin-left:17%;">Value is set (written) also to
soundcard's control device and RESULT key is set to errno
code. The result of set operation is always true (it means
continue with next key on line).</p>


<p style="margin-left:11%; margin-top: 1em"><b>CTL{values}</b></p>

<p style="margin-left:17%;">Value is set (written) also to
soundcard's control device (all control values are set to
specified value) and RESULT key is set to errno code. The
result of set operation is always true (it means continue
with next key on line).</p>


<p style="margin-left:11%; margin-top: 1em"><b>CTL{write}</b></p>

<p style="margin-left:17%;">Value is set (written) also to
soundcard's control device (all control values are set to
specified value). The result of set operation is true when
operation succeed (it means continue with next key on
line).</p>


<p style="margin-left:11%; margin-top: 1em"><b>ENV{</b><i>key</i><b>}</b></p>

<p style="margin-left:17%;">Export a variable to the
environment. Depending on the type of operator, this key is
also to match against an environment variable.</p>


<p style="margin-left:11%; margin-top: 1em"><b>RESULT</b></p>

<p style="margin-left:17%;">Set RESULT variable. Note that
PROGRAM also sets this variable, but setting this variable
manually might be useful to change code execution order
(included files).</p>


<p style="margin-left:11%; margin-top: 1em"><b>LABEL</b></p>

<p style="margin-left:17%;">Named label where a GOTO can
jump to.</p>


<p style="margin-left:11%; margin-top: 1em"><b>GOTO</b></p>

<p style="margin-left:17%;">Jumps to the next LABEL with a
matching name. The goto cannot jump backward.</p>


<p style="margin-left:11%; margin-top: 1em"><b>INCLUDE</b></p>

<p style="margin-left:17%;">Include the specified filename
or files in specified directory.</p>

<p style="margin-left:17%; margin-top: 1em">When a
directory is specified, only the files with the extension
&quot;.conf&quot; are read. Also they are read in the
alphabetical order. Thus it's highly recommended to use some
number prefix (e.g. &quot;01&minus;something.conf&quot;) to
assure the order of execucions.</p>


<p style="margin-left:11%; margin-top: 1em"><b>ACCESS</b></p>

<p style="margin-left:17%;">Check if specified file or
directory exists</p>


<p style="margin-left:11%; margin-top: 1em"><b>CONFIG{sysfs_device}</b></p>

<p style="margin-left:17%;">The relative path to sysfs
subsystem specifying the root directory of a soundcard
device. Usually, it should be set to
&quot;/class/sound/card$cardinfo{card}/device&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PRINT</b></p>

<p style="margin-left:17%;">PRINT value to stdout.</p>


<p style="margin-left:11%; margin-top: 1em"><b>ERROR</b></p>

<p style="margin-left:17%;">PRINT value to stderr.</p>


<p style="margin-left:11%; margin-top: 1em"><b>EXIT</b></p>

<p style="margin-left:17%;">Exit immediately and set
program exit code to value (should be integer). If value is
&quot;return&quot; string, parser leaves current included
file and returns to parent configuration file.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>PROGRAM</b>, <b>RESULT</b>, <b>CTL{value}</b>,
<b>PRINT</b>, <b>ERROR</b>, <b>EXIT</b>, <b>CONFIG{}</b>
fields support simple printf&minus;like string
substitutions. It allows the use of the complete environment
set by earlier matching rules. For all other fields,
substitutions are applied while the individual rule is being
processed. The available substitutions are:</p>


<p style="margin-left:11%; margin-top: 1em"><b>$cardinfo{</b><i>attribute</i><b>}</b>,
<b>%i{</b><i>attribute</i><b>}</b></p>

<p style="margin-left:17%;">See CARDINFO{} for more
details.</p>


<p style="margin-left:11%; margin-top: 1em"><b>$ctl{</b><i>attribute</i><b>}</b>,
<b>%C{</b><i>attribute</i><b>}</b></p>

<p style="margin-left:17%;">See CTL{} for more details.</p>


<p style="margin-left:11%; margin-top: 1em"><b>$attr{</b><i>file</i><b>}</b>,
<b>%s{</b><i>file</i><b>}</b></p>

<p style="margin-left:17%;">The value of a sysfs attribute
found at the device, where all keys of the rule have
matched. If the attribute is a symlink, the last element of
the symlink target is returned as the value.</p>


<p style="margin-left:11%; margin-top: 1em"><b>$env{</b><i>key</i><b>}</b>,
<b>%E{</b><i>key</i><b>}</b></p>

<p style="margin-left:17%;">The value of an environment
variable.</p>


<p style="margin-left:11%; margin-top: 1em"><b>$result</b>,
<b>%c</b></p>

<p style="margin-left:17%;">The string returned by the
external program requested with PROGRAM. A single part of
the string, separated by a space character may be selected
by specifying the part number as an attribute: <b>%c{N}</b>.
If the number is followed by the '+' char this part plus all
remaining parts of the result string are substituted:
<b>%c{N+}</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>$sysfsroot</b>,
<b>%r</b></p>

<p style="margin-left:17%;">Root directory where sysfs
file&minus;system is mounted. Ususally, this value is just
&quot;/sys&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>$config{</b><i>key</i><b>}</b>,
<b>%g{</b><i>key</i><b>}</b></p>

<p style="margin-left:17%;">The value of a configuration
variable. See CONFIG{} for more details.</p>

<p style="margin-left:11%; margin-top: 1em"><b>%%</b></p>

<p style="margin-left:17%;">The '%' character itself.</p>

<p style="margin-left:11%; margin-top: 1em"><b>$$</b></p>

<p style="margin-left:17%;">The '$' character itself.</p>

<p style="margin-left:11%; margin-top: 1em">The count of
characters to be substituted may be limited by specifying
the format length value. For example, '%3s{file}' will only
insert the first three characters of the sysfs attribute</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Written by
Jaroslav Kysela &lt;perex@perex.cz&gt;</p>

<p style="margin-left:11%; margin-top: 1em">Some portions
are written by Greg Kroah&minus;Hartman
&lt;greg@kroah.com&gt; and Kay Sievers
&lt;kay.sievers@vrfy.org&gt;.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>alsactl</b>(1)</p>
<hr>
</body>
</html>
