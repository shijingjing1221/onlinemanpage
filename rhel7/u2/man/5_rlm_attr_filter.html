<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 02:14:55 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>rlm_attr_filter</title>

</head>
<body>

<h1 align="center">rlm_attr_filter</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#SECTIONS">SECTIONS</a><br>
<a href="#FILES">FILES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">rlm_attr_filter
&minus; FreeRADIUS Module</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>rlm_attr_filter</i> module exists for filtering certain
attributes and values in received ( or transmitted ) radius
packets. It gives the server a flexible framework to filter
the attributes we send to or receive from home servers or
NASes. This makes sense, for example, in an out-sourced
dialup situation to various policy decisions, such as
restricting a client to certain ranges of Idle-Timeout or
Session-Timeout.</p>

<p style="margin-left:11%; margin-top: 1em">Filter rules
are normally defined and applied on a per-realm basis, where
the realm is anything that is defined and matched based on
the configuration of the <i>rlm_realm</i> module. Filter
rules can optionally be applied using another attribute, by
editing the <i>key</i> configuration for this module.</p>

<p style="margin-left:11%; margin-top: 1em">In 2.0.1 and
earlier versions, the &quot;accounting&quot; section
filtered the Accounting-Request, even though it was
documented as filtering the response. This issue has been
fixed in version 2.0.2 and later versions. The
&quot;preacct&quot; section may now be used to filter
Accounting-Request packets. The &quot;accounting&quot;
section now filters Accounting-Response packets.
Administrators using &quot;attr_filter&quot; in the
&quot;accounting&quot; section SHOULD move the reference to
&quot;attr_filter&quot; from &quot;accounting&quot; to
&quot;preacct&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The file that
defines the attribute filtering rules follows a similar
syntax to the <i>users</i> file. There are a few differences
however:</p>

<p style="margin-left:11%; margin-top: 1em">There are no
check-items allowed other than the name of the key.</p>

<p style="margin-left:11%; margin-top: 1em">There can only
be a single DEFAULT entry.</p>

<p style="margin-left:11%; margin-top: 1em">The rules for
each entry are parsed to top to bottom, and an attribute
must pass *all* the rules which affect it in order to make
it past the filter. Order of the rules is important. The
operators and their purpose in defining the rules are as
follows:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>=</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>THIS OPERATOR IS NOT ALLOWED. If used, and warning
message is printed and it is treated as ==</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>:=</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Set, this attribute and value will always be placed in
the output A/V Pairs. If the attribute exists, it is
overwritten.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>==</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Equal, value must match exactly.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>=*</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Always Equal, allow all values for the specified
attribute.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>!*</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Never Equal, disallow all values for the specified
attribute. ( This is redundant, as any A/V Pair not
explicitly permitted will be dropped ).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>!=</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Not Equal, value must not match.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&gt;=</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Greater Than or Equal</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&lt;=</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Less Than or Equal</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&gt;</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Greater Than</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&lt;</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Less Than</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">If regular
expressions are enabled the following operators are also
possible. ( Regular Expressions are included by default
unless your system doesn&rsquo;t support them, which should
be rare ). The value field uses standard regular expression
syntax.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>=~</b></p></td>
<td width="8%"></td>
<td width="43%">


<p style="margin-top: 1em">Regular Expression Equal</p></td>
<td width="35%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>!~</b></p></td>
<td width="8%"></td>
<td width="43%">


<p>Regular Expression Not Equal</p></td>
<td width="35%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">See the default
<i>/etc/raddb/attrs</i> for working examples of sample rule
ordering and how to use the different operators.</p>

<p style="margin-left:11%; margin-top: 1em">The
configuration items are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p style="margin-top: 1em">file</p></td>
<td width="5%"></td>
<td width="78%">


<p style="margin-top: 1em">This specifies the location of
the file used to load the filter rules. This file is used to
filter the accounting response, packet before it is proxied,
proxy response from the home server, or our response to the
NAS.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>key</p></td>
<td width="5%"></td>
<td width="78%">


<p>Usually %{Realm} (the default). Can also be
%{User-Name}, or other attribute that exists in the request.
Note that the module always keys off of attributes in the
request, and NOT in any other packet.</p></td></tr>
</table>

<p style="margin-left:11%;">relaxed</p>

<p style="margin-left:22%;">If set to &rsquo;yes&rsquo;,
then attributes which do not match any filter rules
explicitly, will also be allowed. This behaviour may be
overridden for an individual filter block using the
Relax-Filter check item. The default for this configuration
item is &rsquo;no&rsquo;.</p>

<h2>SECTIONS
<a name="SECTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">preacct</p>

<p style="margin-left:22%;">Filters Accounting-Request
packets.</p>

<p style="margin-left:11%;">accounting</p>

<p style="margin-left:22%;">Filters Accounting-Response
packets.</p>

<p style="margin-left:11%;">pre-proxy</p>

<p style="margin-left:22%;">Filters Accounting-Request or
Access-Request packets prior to proxying them.</p>

<p style="margin-left:11%;">post-proxy</p>

<p style="margin-left:22%;">Filters Accounting-Response,
Access-Accept, Access-Reject, or Access-Challenge responses
from a home server.</p>

<p style="margin-left:11%;">authorize</p>

<p style="margin-left:22%;">Filters Access-Request
packets.</p>

<p style="margin-left:11%;">post-auth</p>

<p style="margin-left:22%;">Filters Access-Accept or
Access-Reject packets.</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>/etc/raddb/radiusd.conf
/etc/raddb/filter/*</i></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i><b>radiusd</b></i>(8),
<b>radiusd.conf</b>(5)</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Chris Parker,
cparker@segv.org</p>
<hr>
</body>
</html>
