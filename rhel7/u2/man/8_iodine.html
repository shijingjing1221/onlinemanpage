<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov  5 22:05:34 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>IODINE</title>

</head>
<body>

<h1 align="center">IODINE</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#ENVIRONMENT">ENVIRONMENT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#AUTHORS">AUTHORS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">iodine &minus;
tunnel IPv4 over DNS</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>iodine
[-v]</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>iodine
[-h]</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>iodine [-4]
[-6] [-f] [-r] [-u</b> <i>user</i> <b>] [-P</b>
<i>password</i> <b>] [-m</b> <i>fragsize</i> <b>] [-t</b>
<i>chrootdir</i> <b>] [-d</b> <i>device</i> <b>] [-R</b>
<i>rdomain</i> <b>] [-m</b> <i>fragsize</i> <b>] [-M</b>
<i>namelen</i> <b>] [-z</b> <i>context</i> <b>] [-F</b>
<i>pidfile</i> <b>] [-T</b> <i>dnstype</i> <b>] [-O</b>
<i>downenc</i> <b>] [-L</b> <i>0|1</i> <b>] [-I</b>
<i>interval</i> <b>] [</b> <i>nameserver</i> <b>]</b>
<i>topdomain</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i><b>iodine</b></i>
lets you tunnel IPv4 data through a DNS server. This can be
useful in situations where Internet access is firewalled,
but DNS queries are allowed. It needs a TUN/TAP device to
operate. The bandwidth is asymmetrical, with a measured
maximum of 680 kbit/s upstream and 2.3 Mbit/s downstream in
a wired LAN test network. Realistic sustained throughput on
a Wifi network using a carrier-grade DNS cache has been
measured at some 50 kbit/s upstream and over 200 kbit/s
downstream. <b>iodine</b> is the client application,
<b>iodined</b> is the server.</p>

<p style="margin-left:11%; margin-top: 1em">Note: server
and client are required to speak the exact same protocol. In
most cases, this means running the same iodine version.
Unfortunately, implementing backward and forward protocol
compatibility is usually not feasible.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Common
Options:</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-v</b></p></td>
<td width="8%"></td>
<td width="43%">


<p>Print version info and exit.</p></td>
<td width="35%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-h</b></p></td>
<td width="8%"></td>
<td width="43%">


<p>Print usage info and exit.</p></td>
<td width="35%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-f</b></p></td>
<td width="8%"></td>
<td width="43%">


<p>Keep running in foreground.</p></td>
<td width="35%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>-u user</b></p>

<p style="margin-left:22%;">Drop privileges and run as user
&rsquo;user&rsquo; after setting up tunnel.</p>

<p style="margin-left:11%;"><b>-t chrootdir</b></p>

<p style="margin-left:22%;">Chroot to
&rsquo;chrootdir&rsquo; after setting up tunnel.</p>

<p style="margin-left:11%;"><b>-d device</b></p>

<p style="margin-left:22%;">Use the TUN device
&rsquo;device&rsquo; instead of the normal one, which is
dnsX on Linux and otherwise tunX.</p>

<p style="margin-left:11%;"><b>-P password</b></p>

<p style="margin-left:22%;">Use &rsquo;password&rsquo; to
authenticate. If not used, <b>stdin</b> will be used as
input. Only the first 32 characters will be used.</p>

<p style="margin-left:11%;"><b>-z context</b></p>

<p style="margin-left:22%;">Apply SELinux
&rsquo;context&rsquo; after initialization.</p>

<p style="margin-left:11%;"><b>-F pidfile</b></p>

<p style="margin-left:22%;">Create &rsquo;pidfile&rsquo;
and write process id in it.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Client
Options:</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-4</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Force IPv4 DNS queries</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-6</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Force IPv6 DNS queries</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-r</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Skip raw UDP mode. If not used, iodine will try getting
the public IP address of the iodined host and test if it is
reachable directly. If it is, traffic will be sent to the
server instead of the DNS relay.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>-R rdomain</b></p>

<p style="margin-left:22%;">Use OpenBSD routing domain
&rsquo;rdomain&rsquo; for the DNS connection.</p>

<p style="margin-left:11%;"><b>-m fragsize</b></p>

<p style="margin-left:22%;">Force maximum downstream
fragment size. Not setting this will cause the client to
automatically probe the maximum accepted downstream fragment
size.</p>

<p style="margin-left:11%;"><b>-M namelen</b></p>

<p style="margin-left:22%;">Maximum length of upstream
hostnames, default 255. Usable range ca. 100 to 255. Use
this option to scale back upstream bandwidth in favor of
downstream bandwidth. Also useful for DNS servers that
perform unreliably when using full-length hostnames,
noticeable when fragment size autoprobe returns very
different results each time.</p>

<p style="margin-left:11%;"><b>-T dnstype</b></p>

<p style="margin-left:22%;">DNS request type override. By
default, autodetection will probe for working DNS request
types, and will select the request type that is expected to
provide the most bandwidth. However, it may turn out that a
DNS relay imposes limits that skew the picture, which may
lead to an &quot;unexpected&quot; DNS request type providing
more bandwidth. In that case, use this option to override
the autodetection. In (expected) decreasing bandwidth order,
the supported DNS request types are: <i>NULL</i>,
<i>PRIVATE</i>, <i>TXT</i>, <i>SRV</i>, <i>MX</i>,
<i>CNAME</i> and <i>A</i> (returning CNAME). Note that
<i>SRV</i>, <i>MX</i> and <i>A</i> may/will cause additional
lookups by &quot;smart&quot; caching nameservers to get an
actual IP address, which may either slow down or fail
completely. The <i>PRIVATE</i> type uses value 65399 (in the
&rsquo;private use&rsquo; range) and requires servers
implementing RFC 3597.</p>

<p style="margin-left:11%;"><b>-O downenc</b></p>

<p style="margin-left:22%;">Force downstream encoding type
for all query type responses except NULL. Default is
autodetected, but may not spot all problems for the more
advanced codecs. Use this option to override the
autodetection. <i>Base32</i> is the lowest-grade codec and
should always work; this is used when autodetection fails.
<i>Base64</i> provides more bandwidth, but may not work on
all nameservers. <i>Base64u</i> is equal to Base64 except in
using underscore (&rsquo;_&rsquo;) instead of plus sign
(&rsquo;+&rsquo;), possibly working where <i>Base64</i> does
not. <i>Base128</i> uses high byte values (mostly accented
letters in iso8859-1), which might work with some
nameservers. For TXT queries, <i>Raw</i> will provide
maximum performance, but this will only work if the
nameserver path is fully 8-bit-clean for responses that are
assumed to be &quot;legible text&quot;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>-L 0|1</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Lazy-mode switch. &minus;L1 (default): Use lazy mode for
improved performance and decreased latency. A very small
minority of DNS relays appears to be unable to handle the
lazy mode traffic pattern, resulting in no or very little
data coming through. The iodine client will detect this and
try to switch back to legacy mode, but this may not always
work. In these situations use &minus;L0 to force running in
legacy mode (implies &minus;I1).</p></td></tr>
</table>

<p style="margin-left:11%;"><b>-I interval</b></p>

<p style="margin-left:22%;">Maximum interval between
requests (pings) so that intermediate DNS servers will not
time out. Default is 4 in lazy mode, which will work fine in
most cases. When too many SERVFAIL errors occur, iodine will
automatically reduce this to 1. To get absolute minimum DNS
traffic, increase well above 4, but not so high that
SERVFAIL errors start to occur. There are some DNS relays
with very small timeouts, notably dnsadvantage.com
(ultradns), that will give SERVFAIL errors even with
&minus;I1; data will still get trough, and these errors can
be ignored. Maximum useful value is 59, since iodined will
close a client&rsquo;s connection after 60 seconds of
inactivity.</p>

<h2>ENVIRONMENT
<a name="ENVIRONMENT"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>IODINE_PASS</b>
<br>
If the environment variable <b>IODINE_PASS</b> is set,
iodine will use the value it is set to as password instead
of asking for one. The <b>-P</b> option still has
precedence.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The README file
in the source distribution contains some more elaborate
information.</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">File bugs at
http://dev.kryo.se/iodine/</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Erik Ekman
&lt;yarrick@kryo.se&gt; and Bjorn Andersson
&lt;flex@kryo.se&gt;. Major contributions by Anne
Bezemer.</p>
<hr>
</body>
</html>
