<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 02:17:37 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SDL_Event</title>

</head>
<body>

<h1 align="center">SDL_Event</h1>

<a href="#NAME">NAME</a><br>
<a href="#STRUCTURE DEFINITION">STRUCTURE DEFINITION</a><br>
<a href="#STRUCTURE DATA">STRUCTURE DATA</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#USE">USE</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">SDL_Event
&minus; General event structure</p>

<h2>STRUCTURE DEFINITION
<a name="STRUCTURE DEFINITION"></a>
</h2>


<pre style="margin-left:11%; margin-top: 1em">typedef union{
  Uint8 type;
  SDL_ActiveEvent active;
  SDL_KeyboardEvent key;
  SDL_MouseMotionEvent motion;
  SDL_MouseButtonEvent button;
  SDL_JoyAxisEvent jaxis;
  SDL_JoyBallEvent jball;
  SDL_JoyHatEvent jhat;
  SDL_JoyButtonEvent jbutton;
  SDL_ResizeEvent resize;
  SDL_ExposeEvent expose;
  SDL_QuitEvent quit;
  SDL_UserEvent user;
  SDL_SysWMEvent syswm;
} SDL_Event;</pre>


<h2>STRUCTURE DATA
<a name="STRUCTURE DATA"></a>
</h2>



<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p style="margin-top: 1em"><b>type</b></p></td>
<td width="20%"></td>
<td width="47%">


<p style="margin-top: 1em">The type of event</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>active</b></p></td>
<td width="20%"></td>
<td width="47%">


<p><i>Activation event</i></p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>key</b></p></td>
<td width="20%"></td>
<td width="47%">


<p><i>Keyboard event</i></p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>motion</b></p></td>
<td width="20%"></td>
<td width="47%">


<p><i>Mouse motion event</i></p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>button</b></p></td>
<td width="20%"></td>
<td width="47%">


<p><i>Mouse button event</i></p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>jaxis</b></p></td>
<td width="20%"></td>
<td width="47%">


<p><i>Joystick axis motion event</i></p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>jball</b></p></td>
<td width="20%"></td>
<td width="47%">


<p><i>Joystick trackball motion event</i></p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>jhat</b></p></td>
<td width="20%"></td>
<td width="47%">


<p><i>Joystick hat motion event</i></p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>jbutton</b></p></td>
<td width="20%"></td>
<td width="47%">


<p><i>Joystick button event</i></p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>resize</b></p></td>
<td width="20%"></td>
<td width="47%">


<p><i>Application window resize event</i></p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>expose</b></p></td>
<td width="20%"></td>
<td width="47%">


<p><i>Application window expose event</i></p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>quit</b></p></td>
<td width="20%"></td>
<td width="47%">


<p><i>Application quit request event</i></p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>user</b></p></td>
<td width="20%"></td>
<td width="47%">


<p><i>User defined event</i></p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>syswm</b></p></td>
<td width="20%"></td>
<td width="47%">


<p><i>Undefined window manager event</i></p></td>
<td width="11%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>SDL_Event</b> union is the core to all event handling is
SDL, its probably the most important structure after
<b>SDL_Surface</b>. <b>SDL_Event</b> is a union of all event
structures used in SDL, using it is a simple matter of
knowing which union member relates to which event
<b>type</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="23%">


<p style="margin-top: 1em"><b>Event type</b></p></td>
<td width="8%"></td>
<td width="30%">


<p style="margin-top: 1em"><b>Event Structure</b></p></td>
<td width="28%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="23%">


<p><b>SDL_ACTIVEEVENT</b></p></td>
<td width="8%"></td>
<td width="30%">


<p><b>SDL_ActiveEvent</b></p></td>
<td width="28%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="23%">


<p><b>SDL_KEYDOWN/UP</b></p></td>
<td width="8%"></td>
<td width="30%">


<p><b>SDL_KeyboardEvent</b></p></td>
<td width="28%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="23%">


<p><b>SDL_MOUSEMOTION</b></p></td>
<td width="8%"></td>
<td width="30%">


<p><b>SDL_MouseMotionEvent</b></p></td>
<td width="28%">
</td></tr>
</table>


<p style="margin-left:11%;"><b>SDL_MOUSEBUTTONDOWN/UP</b></p>


<p style="margin-left:42%;"><b>SDL_MouseButtonEvent</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="26%">


<p><b>SDL_JOYAXISMOTION</b></p></td>
<td width="5%"></td>
<td width="24%">


<p><b>SDL_JoyAxisEvent</b></p></td>
<td width="34%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="26%">


<p><b>SDL_JOYBALLMOTION</b></p></td>
<td width="5%"></td>
<td width="24%">


<p><b>SDL_JoyBallEvent</b></p></td>
<td width="34%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="26%">


<p><b>SDL_JOYHATMOTION</b></p></td>
<td width="5%"></td>
<td width="24%">


<p><b>SDL_JoyHatEvent</b></p></td>
<td width="34%">
</td></tr>
</table>


<p style="margin-left:11%;"><b>SDL_JOYBUTTONDOWN/UP</b></p>

<p style="margin-left:42%;"><b>SDL_JoyButtonEvent</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="23%">


<p><b>SDL_QUIT</b></p></td>
<td width="8%"></td>
<td width="23%">


<p><b>SDL_QuitEvent</b></p></td>
<td width="35%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="23%">


<p><b>SDL_SYSWMEVENT</b></p></td>
<td width="8%"></td>
<td width="23%">


<p><b>SDL_SysWMEvent</b></p></td>
<td width="35%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="23%">


<p><b>SDL_VIDEORESIZE</b></p></td>
<td width="8%"></td>
<td width="23%">


<p><b>SDL_ResizeEvent</b></p></td>
<td width="35%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="23%">


<p><b>SDL_VIDEOEXPOSE</b></p></td>
<td width="8%"></td>
<td width="23%">


<p><b>SDL_ExposeEvent</b></p></td>
<td width="35%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="23%">


<p><b>SDL_USEREVENT</b></p></td>
<td width="8%"></td>
<td width="23%">


<p><b>SDL_UserEvent</b></p></td>
<td width="35%">
</td></tr>
</table>

<h2>USE
<a name="USE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>SDL_Event</b> structure has two uses</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td>
<td width="2%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="3%"></td>
<td width="51%">


<p style="margin-top: 1em">Reading events on the event
queue</p> </td>
<td width="29%">
</td></tr>
<tr valign="top" align="left">
<td width="15%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="3%"></td>
<td width="51%">


<p>Placing events on the event queue</p></td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Reading events
from the event queue is done with either
<b>SDL_PollEvent</b> or <b>SDL_PeepEvents</b>. We&rsquo;ll
use <b>SDL_PollEvent</b> and step through an example.</p>

<p style="margin-left:11%; margin-top: 1em">First off, we
create an empty <b>SDL_Event</b> structure.</p>

<pre style="margin-left:11%; margin-top: 1em">SDL_Event test_event;</pre>



<p style="margin-left:11%; margin-top: 1em"><b>SDL_PollEvent</b>
removes the next event from the event queue, if there are no
events on the queue it returns <b>0</b> otherwise it returns
<b>1</b>. We use a <b>while</b> loop to process each event
in turn.</p>

<pre style="margin-left:11%; margin-top: 1em">while(SDL_PollEvent(&amp;test_event)) {</pre>


<p style="margin-left:11%; margin-top: 1em">The
<b>SDL_PollEvent</b> function take a pointer to an
<b>SDL_Event</b> structure that is to be filled with event
information. We know that if <b>SDL_PollEvent</b> removes an
event from the queue then the event information will be
placed in our <b>test_event</b> structure, but we also know
that the <i>type</i> of event will be placed in the
<b>type</b> member of <b>test_event</b>. So to handle each
event <b>type</b> seperately we use a <b>switch</b>
statement.</p>

<pre style="margin-left:11%; margin-top: 1em">  switch(test_event.type) {</pre>


<p style="margin-left:11%; margin-top: 1em">We need to know
what kind of events we&rsquo;re looking for <i>and</i> the
event <b>type</b>&rsquo;s of those events. So lets assume we
want to detect where the user is moving the mouse pointer
within our application. We look through our event types and
notice that <b>SDL_MOUSEMOTION</b> is, more than likely, the
event we&rsquo;re looking for. A little <i>more</i> research
tells use that <b>SDL_MOUSEMOTION</b> events are handled
within the <b>SDL_MouseMotionEvent</b> structure which is
the <b>motion</b> member of <b>SDL_Event</b>. We can check
for the <b>SDL_MOUSEMOTION</b> event <b>type</b> within our
<b>switch</b> statement like so:</p>

<pre style="margin-left:11%; margin-top: 1em">    case SDL_MOUSEMOTION:</pre>


<p style="margin-left:11%; margin-top: 1em">All we need do
now is read the information out of the <b>motion</b> member
of <b>test_event</b>.</p>

<pre style="margin-left:11%; margin-top: 1em">      printf(&quot;We got a motion event.
&quot;);
      printf(&quot;Current mouse position is: (%d, %d)
&quot;, test_event.motion.x, test_event.motion.y);
      break;
    default:
      printf(&quot;Unhandled Event!
&quot;);
      break;
  }
}
printf(&quot;Event queue empty.
&quot;);</pre>


<p style="margin-left:11%; margin-top: 1em">It is also
possible to push events onto the event queue and so use it
as a two-way communication path. Both <b>SDL_PushEvent</b>
and <b>SDL_PeepEvents</b> allow you to place events onto the
event queue. This is usually used to place a
<b>SDL_USEREVENT</b> on the event queue, however you could
use it to post fake input events if you wished. Creating
your own events is a simple matter of choosing the event
type you want, setting the <b>type</b> member and filling
the appropriate member structure with information.</p>
<pre style="margin-left:11%; margin-top: 1em">SDL_Event user_event;


user_event.type=SDL_USEREVENT;
user_event.user.code=2;
user_event.user.data1=NULL;
user_event.user.data2=NULL;
SDL_PushEvent(&amp;user_event);</pre>


<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>SDL_PollEvent</b>,
<b>SDL_PushEvent</b>, <b>SDL_PeepEvents</b></p>
<hr>
</body>
</html>
