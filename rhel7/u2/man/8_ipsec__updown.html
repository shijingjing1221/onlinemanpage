<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 01:50:28 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>_UPDOWN</title>

</head>
<body>

<h1 align="center">_UPDOWN</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#VARIABLES">VARIABLES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#HISTORY">HISTORY</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">ipsec__updown
&minus; kernel and routing manipulation script</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>_updown</i>
is invoked by pluto when it has brought up a new connection.
This script is used to insert the appropriate routing
entries for IPsec operation on some kernel IPsec stacks,
such as KLIPS and MAST, and may do other necessary work that
is kernel or user specific, such as defining custom firewall
rules. The interface to the script is documented in the
pluto man page.</p>

<h2>VARIABLES
<a name="VARIABLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>_updown</i> is passed along a number of variables which
can be used to act differently based on the information:</p>


<p style="margin-left:11%; margin-top: 1em"><b>PLUTO_VERSION</b></p>

<p style="margin-left:17%;">indicates what version of this
interface is being used. This document describes version
1.1. This is upwardly compatible with version 1.0.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PLUTO_VERB</b></p>

<p style="margin-left:17%;">specifies the name of the
operation to be performed, which can be one of
<b>prepare&minus;host</b>, <b>prepare&minus;client</b>,
<b>up&minus;host</b>, <b>up&minus;client</b>,
<b>down&minus;host</b> or <b>down&minus;client</b>. If the
address family for security gateway to security gateway
communications is IPv6, then a suffix of &minus;v6 is added
to this verb.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PLUTO_CONNECTION</b></p>

<p style="margin-left:17%;">is the name of the connection
for which we are routing.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PLUTO_NEXT_HOP</b></p>

<p style="margin-left:17%;">is the next hop to which
packets bound for the peer must be sent.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PLUTO_INTERFACE</b></p>

<p style="margin-left:17%;">is the name of the ipsec
interface to be used.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PLUTO_ME</b></p>

<p style="margin-left:17%;">is the IP address of our
host.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PLUTO_MY_CLIENT</b></p>

<p style="margin-left:17%;">is the IP address / count of
our client subnet. If the client is just the host, this will
be the host's own IP address / max (where max is 32 for IPv4
and 128 for IPv6).</p>


<p style="margin-left:11%; margin-top: 1em"><b>PLUTO_MY_CLIENT_NET</b></p>

<p style="margin-left:17%;">is the IP address of our client
net. If the client is just the host, this will be the host's
own IP address.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PLUTO_MY_CLIENT_MASK</b></p>

<p style="margin-left:17%;">is the mask for our client net.
If the client is just the host, this will be
255.255.255.255.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PLUTO_PEER</b></p>

<p style="margin-left:17%;">is the IP address of our
peer.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PLUTO_PEER_CLIENT</b></p>

<p style="margin-left:17%;">is the IP address / count of
the peer's client subnet. If the client is just the peer,
this will be the peer's own IP address / max (where max is
32 for IPv4 and 128 for IPv6).</p>


<p style="margin-left:11%; margin-top: 1em"><b>PLUTO_PEER_CLIENT_NET</b></p>

<p style="margin-left:17%;">is the IP address of the peer's
client net. If the client is just the peer, this will be the
peer's own IP address.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PLUTO_PEER_CLIENT_MASK</b></p>

<p style="margin-left:17%;">is the mask for the peer's
client net. If the client is just the peer, this will be
255.255.255.255.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PLUTO_MY_PROTOCOL</b></p>

<p style="margin-left:17%;">lists the protocols allowed
over this IPsec SA.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PLUTO_PEER_PROTOCOL</b></p>

<p style="margin-left:17%;">lists the protocols the peer
allows over this IPsec SA.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PLUTO_MY_PORT</b></p>

<p style="margin-left:17%;">lists the ports allowed over
this IPsec SA.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PLUTO_PEER_PORT</b></p>

<p style="margin-left:17%;">lists the ports the peer allows
over this IPsec SA.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PLUTO_MY_ID</b></p>

<p style="margin-left:17%;">lists our id.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PLUTO_PEER_ID</b></p>

<p style="margin-left:17%;">lists our peer's id.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PLUTO_PEER_CA</b></p>

<p style="margin-left:17%;">lists the peer's CA.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>ipsec</b>(8),
<b>ipsec_pluto</b>(8).</p>

<h2>HISTORY
<a name="HISTORY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Man page
written for the Linux FreeS/WAN project
&lt;<b><font color="#0000FF">http://www.freeswan.org/</font></b><font color="#000000">&gt;
by Michael Richardson. Original program written by Henry
Spencer.</font></p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>Paul
Wouters</b></font></p>


<p style="margin-left:17%;"><font color="#000000">placeholder
to suppress warning</font></p>
<hr>
</body>
</html>
