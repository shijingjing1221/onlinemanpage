<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Sat Nov  5 22:11:09 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PUPPET&minus;CERT</title>

</head>
<body>

<h1 align="center">PUPPET&minus;CERT</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#USAGE">USAGE</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#ACTIONS">ACTIONS</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLE">EXAMPLE</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>puppet&minus;cert</b>
&minus; Manage certificates and requests</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Standalone
certificate authority. Capable of generating certificates,
but mostly used for signing certificate requests from puppet
clients.</p>

<h2>USAGE
<a name="USAGE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">puppet cert
<i>action</i> [&minus;h|&minus;&minus;help]
[&minus;V|&minus;&minus;version]
[&minus;d|&minus;&minus;debug]
[&minus;v|&minus;&minus;verbose] [&minus;&minus;digest
<i>digest</i>] [<i>host</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Because the
puppet master service defaults to not signing client
certificate requests, this script is available for signing
outstanding requests. It can be used to list outstanding
requests and then either sign them individually or sign all
of them.</p>

<h2>ACTIONS
<a name="ACTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Every action
except &acute;list&acute; and &acute;generate&acute;
requires a hostname to act on, unless the
&acute;&minus;&minus;all&acute; option is set.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>clean</p></td>
<td width="4%"></td>
<td width="78%">


<p>Revoke a host&acute;s certificate (if applicable) and
remove all files related to that host from puppet
cert&acute;s storage. This is useful when rebuilding hosts,
since new certificate signing requests will only be honored
if puppet cert does not have a copy of a signed certificate
for that host. If &acute;&minus;&minus;all&acute; is
specified then all host certificates, both signed and
unsigned, will be removed.</p></td></tr>
</table>

<p style="margin-left:11%;">fingerprint</p>

<p style="margin-left:22%;">Print the DIGEST (defaults to
the signing algorithm) fingerprint of a host&acute;s
certificate.</p>

<p style="margin-left:11%;">generate</p>

<p style="margin-left:22%;">Generate a certificate for a
named client. A certificate/keypair will be generated for
each client named on the command line.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p>list</p></td>
<td width="2%"></td>
<td width="78%">


<p>List outstanding certificate requests. If
&acute;&minus;&minus;all&acute; is specified, signed
certificates are also listed, prefixed by &acute;+&acute;,
and revoked or invalid certificates are prefixed by
&acute;&minus;&acute; (the verification outcome is printed
in parenthesis).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p>print</p></td>
<td width="2%"></td>
<td width="78%">


<p>Print the full&minus;text version of a host&acute;s
certificate.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p>revoke</p></td>
<td width="2%"></td>
<td width="78%">


<p>Revoke the certificate of a client. The certificate can
be specified either by its serial number (given as a
hexadecimal number prefixed by &acute;0x&acute;) or by its
hostname. The certificate is revoked by adding it to the
Certificate Revocation List given by the &acute;cacrl&acute;
configuration option. Note that the puppet master needs to
be restarted after revoking certificates.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p>sign</p></td>
<td width="2%"></td>
<td width="78%">


<p>Sign an outstanding certificate request.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p>verify</p></td>
<td width="2%"></td>
<td width="78%">


<p>Verify the named certificate against the local CA
certificate.</p> </td></tr>
</table>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Note that any
configuration parameter that&acute;s valid in the
configuration file is also a valid long argument. For
example, &acute;ssldir&acute; is a valid configuration
parameter, so you can specify &acute;&minus;&minus;ssldir
<i>directory</i>&acute; as an argument.</p>

<p style="margin-left:11%; margin-top: 1em">See the
configuration file documentation at
http://docs.puppetlabs.com/references/stable/configuration.html
for the full list of acceptable parameters. A commented list
of all configuration options can also be generated by
running puppet cert with
&acute;&minus;&minus;genconfig&acute;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p style="margin-top: 1em">&minus;&minus;all</p></td>
<td width="4%"></td>
<td width="78%">


<p style="margin-top: 1em">Operate on all items. Currently
only makes sense with the &acute;sign&acute;,
&acute;clean&acute;, &acute;list&acute;, and
&acute;fingerprint&acute; actions.</p></td></tr>
</table>

<p style="margin-left:11%;">&minus;&minus;digest</p>

<p style="margin-left:22%;">Set the digest for
fingerprinting (defaults to the the digest used when signing
the cert). Valid values depends on your openssl and openssl
ruby extension version.</p>

<p style="margin-left:11%;">&minus;&minus;debug</p>

<p style="margin-left:22%;">Enable full debugging.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p>&minus;&minus;help</p></td>
<td width="2%"></td>
<td width="35%">


<p>Print this help message</p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:11%;">&minus;&minus;verbose</p>

<p style="margin-left:22%;">Enable verbosity.</p>

<p style="margin-left:11%;">&minus;&minus;version</p>

<p style="margin-left:22%;">Print the puppet version number
and exit.</p>

<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">$ puppet cert
list <br>
culain.madstop.com <br>
$ puppet cert sign culain.madstop.com</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Luke Kanies</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright (c)
2011 Puppet Labs, LLC Licensed under the Apache 2.0
License</p>
<hr>
</body>
</html>
