<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 02:08:33 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PMDAROOT</title>

</head>
<body>

<h1 align="center">PMDAROOT</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#INSTALLATION">INSTALLATION</a><br>
<a href="#FILES">FILES</a><br>
<a href="#PCP ENVIRONMENT">PCP ENVIRONMENT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pmdaroot</b>
&minus; a privileged PMCD helper performance metrics domain
agent</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>$PCP_PMDAS_DIR/root/pmdaroot</b>
[<b>&minus;d</b> <i>domain</i>] [<b>&minus;l</b>
<i>logfile</i>] [<b>&minus;s</b> <i>sockname</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pmdaroot</b>
is a special Performance Metrics Domain Agent (PMDA) which
cooperates closely with <b>pmcd</b>(1) and other PMDAs to
provide limited privileged services to these unprivileged
processes.</p>

<p style="margin-left:11%; margin-top: 1em">In this role it
is used to discover operating system containers running on
the local host. It also enables access to performance data
from within those containers by other PMDAs running on the
bare-metal host, using the <b>pmdaRootConnect</b>(3) and the
associated namespace interfaces.</p>

<p style="margin-left:11%; margin-top: 1em">Like all other
PMDAs, it also exports performance metrics from the domain
it controls. Currently, this is limited to information about
the containers on the local system, and currently only
Docker containers can be detected.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;d</b></p></td>
<td width="4%"></td>
<td width="82%">


<p>It is absolutely crucial that the performance metrics
<i>domain</i> number specified here is unique and
consistent. That is, <i>domain</i> should be different for
every PMDA on the one host, and the same <i>domain</i>
number should be used for the same PMDA on all hosts.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;l</b></p></td>
<td width="4%"></td>
<td width="82%">


<p>Location of the log file. By default, a log file named
<i>root.log</i> is written in the current directory of
<b>pmcd</b>(1) when <b>pmdaroot</b> is started, i.e.
<b>$PCP_LOG_DIR/pmcd</b>. If the log file cannot be created
or is not writable, output is written to the standard error
instead.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;s</b></p></td>
<td width="4%"></td>
<td width="82%">


<p>Location of the <b>unix</b>(7) domain socket for
communication with clients seeking privileged operations. By
default, a socket file named
<b>$PCP_TMP_DIR/pmcd/root.socket</b> is used.</p></td></tr>
</table>

<h2>INSTALLATION
<a name="INSTALLATION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Access to the
names, help text and values for the kernel performance
metrics is available by default &minus; unlike most other
agents, no action is required to enable them and they should
not be removed.</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>$PCP_PMDAS_DIR/root/help</b></p>

<p style="margin-left:26%;">default help text file for
metrics exported by the root PMDA.</p>


<p style="margin-left:11%;"><b>$PCP_LOG_DIR/pmcd/root.log</b></p>

<p style="margin-left:26%;">default log file for error
messages and other information from the root PMDA.</p>


<p style="margin-left:11%;"><b>$PCP_TMP_DIR/pmcd/root.socket</b></p>

<p style="margin-left:26%;">default socket file for
communication with root PMDA clients.</p>

<h2>PCP ENVIRONMENT
<a name="PCP ENVIRONMENT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Environment
variables with the prefix <b>PCP_</b> are used to
parameterize the file and directory names used by PCP. On
each installation, the file <i>/etc/pcp.conf</i> contains
the local values for these variables. The <b>$PCP_CONF</b>
variable may be used to specify an alternative configuration
file, as described in <b>pcp.conf</b>(5).</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>PCPIntro</b>(1),
<b>pmcd</b>(1), <b>PMDA</b>(3), <b>pmdaRootConnect</b>(3),
<b>pcp.conf</b>(5) and <b>unix</b>(7).</p>
<hr>
</body>
</html>
