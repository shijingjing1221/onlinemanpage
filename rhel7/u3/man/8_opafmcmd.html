<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:01:46 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>opafmcmd</title>

</head>
<body>

<h1 align="center">opafmcmd</h1>

<a href="#NAME">NAME</a><br>
<a href="#Syntax">Syntax</a><br>
<a href="#Options">Options</a><br>
<a href="#Example">Example</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">opafmcmd</p>

<p style="margin-left:11%; margin-top: 1em">Executes a
command to a specific instance of the Fabric Manager (FM).
This command can be used, for example, to query the
configuration attributes of a particular instance of an FM
as well as issue subnet management commands.</p>

<h2>Syntax
<a name="Syntax"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">opafmcmd [-i
<i>fm_instance</i>] <i>cmd</i>[ <i>args</i>]</p>

<h2>Options
<a name="Options"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em">--help</p></td>
<td width="6%"></td>
<td width="43%">


<p style="margin-top: 1em">Produces complete help text.</p></td>
<td width="31%">
</td></tr>
</table>

<p style="margin-left:11%;">-i <i>fm_instance</i></p>

<p style="margin-left:26%;">FM instance number to act on.
Range = 0 to 7. Default = 0.</p>

<p style="margin-left:11%;"><i>cmd [args]</i></p>

<p style="margin-left:26%;">Commands and arguments (if
applicable) to be run. Values include:</p>


<p style="margin-left:26%; margin-top: 1em">smForceSweep</p>

<p style="margin-left:42%;">Makes the Subnet Manager (SM)
sweep now.</p>


<p style="margin-left:26%; margin-top: 1em">smRestorePriority</p>

<p style="margin-left:42%;">Restores the normal priority of
the SM, if it is currently elevated.</p>


<p style="margin-left:26%; margin-top: 1em">smShowCounters</p>

<p style="margin-left:42%;">Gets statistics and performance
counters from the SM.</p>


<p style="margin-left:26%; margin-top: 1em">smResetCounters</p>

<p style="margin-left:42%;">Resets SM statistics and
performance counters.</p>


<p style="margin-left:26%; margin-top: 1em">smStateDump</p>

<p style="margin-left:42%;">Dumps internal SM state into
specified directory.</p>

<p style="margin-left:26%; margin-top: 1em">smLogLevel</p>

<p style="margin-left:42%;">Sets the SM logging level.
Values include: 0=NONE+, 1=WARN+, 2=NOTICE+, 3=INFO+,
4=VERBOSE+, 5=DEBUG2+, 6=DEBUG4+, 7=TRACE+</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="14%">


<p style="margin-top: 1em">smLogMode</p></td>
<td width="2%"></td>
<td width="58%">


<p style="margin-top: 1em">Sets the SM log mode flags. 0/1
1=downgrade non-actionable, 0/2 2=logfile only.</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="14%">


<p>smLogMask</p></td>
<td width="2%"></td>
<td width="58%">


<p>Sets the SM log mask for a specific subsystem to the
value given. For a list of subsystems and mask bit meanings,
see the files /etc/sysconfig/opafm.xml or
/usr/lib/opa-fm/etc/opafm.xml.</p> </td></tr>
</table>


<p style="margin-left:26%; margin-top: 1em">smPerfDebug</p>

<p style="margin-left:42%;">Toggles performance debug
output for SM.</p>


<p style="margin-left:26%; margin-top: 1em">saPerfDebug</p>

<p style="margin-left:42%;">Toggles performance debug
output for Subnet Administration (SA).</p>


<p style="margin-left:26%; margin-top: 1em">saRmppDebug</p>

<p style="margin-left:42%;">Toggles Reliable Message
Passing Protocol (RMPP) debug output for SA.</p>


<p style="margin-left:26%; margin-top: 1em">pmShowCounters</p>

<p style="margin-left:42%;">Gets statistics and performance
counters for the Performance Manager (PM).</p>


<p style="margin-left:26%; margin-top: 1em">pmResetCounters</p>

<p style="margin-left:42%;">Resets statistics and
performance counters for the PM.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="11%">


<p style="margin-top: 1em">pmDebug</p></td>
<td width="5%"></td>
<td width="43%">


<p style="margin-top: 1em">Toggles debug output for PM.</p></td>
<td width="15%">
</td></tr>
</table>


<p style="margin-left:26%; margin-top: 1em">pmRmppDebug</p>

<p style="margin-left:42%;">Toggles RMPP debug output for
PM.</p>

<p style="margin-left:26%; margin-top: 1em">feLogLevel</p>

<p style="margin-left:42%;">Sets the Fabric Executive (FE)
logging level. Values include: 0=NONE+, 1=WARN+, 2=NOTICE+,
3=INFO+, 4=VERBOSE+, 5=DEBUG2+, 6=DEBUG4+, 7=TRACE+</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="14%">


<p style="margin-top: 1em">feLogMode</p></td>
<td width="2%"></td>
<td width="58%">


<p style="margin-top: 1em">Sets the FE log mode flags. 0/1
1=downgrade non-actionable, 0/2 2=logfile only.</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="14%">


<p>feLogMask</p></td>
<td width="2%"></td>
<td width="58%">


<p>Sets the FE log mask for a specific subsystem to the
value given. For a list of subsystems and mask bit meanings,
see the files /etc/sysconfig/opafm.xml or
/usr/lib/opa-fm/etc/opafm.xml</p> </td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="14%">


<p>feDebug</p></td>
<td width="2%"></td>
<td width="58%">


<p>Toggles debug output for FE.</p></td></tr>
</table>


<p style="margin-left:26%; margin-top: 1em">feRmppDebug</p>

<p style="margin-left:42%;">Toggles RMPP debug output for
FE.</p>


<p style="margin-left:26%; margin-top: 1em">smLooptestStart</p>

<p style="margin-left:42%;">Starts loop test in normal
mode. Specify the number of 256 byte packets. Default =
0.</p>


<p style="margin-left:26%; margin-top: 1em">smLooptestFastModeStart</p>

<p style="margin-left:42%;">Starts loop test in fast mode.
Specify the number of 256 byte packets. Default = 5.</p>


<p style="margin-left:26%; margin-top: 1em">smLooptestStop</p>

<p style="margin-left:42%;">Stops loop test. Returns switch
LFTs back to normal.</p>


<p style="margin-left:26%; margin-top: 1em">smLooptestInjectPackets</p>

<p style="margin-left:42%;">Enter <i>numPkts</i> to send to
all switch loops. Default = 1.</p>


<p style="margin-left:26%; margin-top: 1em">smLooptestInjectAtNode</p>

<p style="margin-left:42%;">Enter the switch node index to
inject loop packets. Default = 0.</p>


<p style="margin-left:26%; margin-top: 1em">smLooptestInjectEachSweep</p>

<p style="margin-left:42%;">Enter 1 to inject packets each
sweep. Enter 0 to stop injecting each sweep.</p>


<p style="margin-left:26%; margin-top: 1em">smLooptestPathLength</p>

<p style="margin-left:42%;">Sets the loop path length.
Range = 2 - 4. Default = 3.</p>


<p style="margin-left:26%; margin-top: 1em">smLooptestMinISLRedundancy</p>

<p style="margin-left:42%;">Sets the minimum number of
loops in which to include each ISL. Default = 4.</p>


<p style="margin-left:26%; margin-top: 1em">smLooptestShowLoopPaths</p>

<p style="margin-left:42%;">Displays the loop paths given
node index or all loop paths. Default = all.</p>


<p style="margin-left:26%; margin-top: 1em">smLooptestShowSwitchLft</p>

<p style="margin-left:42%;">Displays a switch LFT given
node index or all switches LFTs. Default = all.</p>


<p style="margin-left:26%; margin-top: 1em">smLooptestShowTopology</p>

<p style="margin-left:42%;">Displays the topology for the
SM Loop Test.</p>


<p style="margin-left:26%; margin-top: 1em">smLooptestShowConfig</p>

<p style="margin-left:42%;">Displays the current active
loop configuration.</p>


<p style="margin-left:26%; margin-top: 1em">smForceRebalance</p>

<p style="margin-left:42%;">Toggles Force Rebalance setting
for SM.</p>


<p style="margin-left:26%; margin-top: 1em">smAdaptiveRouting</p>

<p style="margin-left:42%;">Displays or modifies Adaptive
Routing setting for SM. If no arguments are entered,
displays current setting. Enter 0 to Disable. Enter 1 to
Enable.</p>


<p style="margin-left:26%; margin-top: 1em">smForceAttributeRewrite</p>

<p style="margin-left:42%;">Sets rewriting of all
attributes upon resweeping. Enter 0 to Disable. Enter 1 to
Enable.</p>


<p style="margin-left:26%; margin-top: 1em">smSkipAttrWrite</p>

<p style="margin-left:42%;">Bitmask of attributes to be
skipped (not written) during sweeps. Enter -help for list of
options.</p>


<p style="margin-left:26%; margin-top: 1em">smPauseSweeps</p>

<p style="margin-left:42%;">Pauses SM sweeps.</p>


<p style="margin-left:26%; margin-top: 1em">smResumeSweeps</p>

<p style="margin-left:42%;">Resumes SM sweeps.</p>

<h2>Example
<a name="Example"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">opafmcmd
smForceSweep <br>
opafmcmd #8217#8211;i 2 smLogLevel 3</p>
<hr>
</body>
</html>
