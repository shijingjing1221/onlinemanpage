<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 21:45:28 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>ISDNRATE</title>

</head>
<body>

<h1 align="center">ISDNRATE</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#FILES">FILES</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#SIGNALS">SIGNALS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#AUTHORS">AUTHORS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">isdnrate
&minus; Print telephone rates and various info from
rate&minus;files(5).</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>isdnrate
&minus;a &minus;b</b><i>best</i> <b>&minus;d</b><i>day</i>
<b>&minus;f</b><i>from</i> <b>&minus;h</b><i>hour</i>
<b>&minus;l</b><i>len</i> <b>&minus;o
&minus;p</b><i>provs</i> <b>&minus;r</b> v<i>NN</i>
<b>&minus;s &minus;t</b><i>takt</i>
<b>&minus;v</b><i>verbose</i> <b>&minus;x</b><i>exclude</i>
<b>&minus;C &minus;D</b><i>det</i> <b>-G</b><i>data</i>
<b>&minus;H &minus;L &minus;N &minus;O</b><i>socketfile</i>
<b>&minus;P</b><i>piddir</i> <b>&minus;S</b><i>sort</i>
<b>&minus;T &minus;U &minus;V &minus;X</b><i>explain</i>
<b>-Z NUMBER ...</b></p>

<p style="margin-left:11%; margin-top: 1em">All options are
optional.</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>isdnrate</b> program prints various information from
rate&minus;files(5). Its main purpose is the calculation of
telephone rates from your location to an arbitrary
destination at a certain time and of a certain length for
all the providers in a rate&minus;file.</p>

<p style="margin-left:11%; margin-top: 1em"><b>NUMBER</b>
<br>
A telephone number may be</p>

<p style="margin-left:22%; margin-top: 1em"><b>1234</b> a
local area number</p>

<p style="margin-left:22%; margin-top: 1em"><b>01234</b> a
different area in your country</p>

<p style="margin-left:22%; margin-top: 1em"><b>+12345</b> a
foreign country</p>

<p style="margin-left:22%; margin-top: 1em"><b>China</b>
text for a foreign country</p>

<p style="margin-left:22%; margin-top: 1em"><b>Paris</b> a
town</p>

<p style="margin-left:22%; margin-top: 1em"><b>US</b> a
code as defined in <i>country.dat</i>.</p>


<p style="margin-left:22%; margin-top: 1em"><b>Internet</b>
a Service name (if option <b>-s</b> is also given).</p>

<p style="margin-left:11%; margin-top: 1em">Note that
currently only city names in AT, DE and NL are supported
plus some international capitals. <br>
Note also, spaces in country- or service names may be given
as underscores.</p>

<p style="margin-left:11%; margin-top: 1em"><b>OPTIONS <br>
&minus;a</b> Show old and newer rates. Default actual
only.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;b</b><i>best</i>
Print only <i>best</i> providers. Default is all.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;c</b><i>rateconf</i>
Use <i>rateconf</i> as provider selection file and ignore
setting in <i>isdn.conf</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;d</b><i>day</i>
Calc rates for <i>day</i>. <i>day</i> can be one of</p>

<p style="margin-left:22%; margin-top: 1em"><i>dd</i> day
of current month <i><br>
dd.mm</i> day month <i><br>
dd.mm.yy</i>[<i>yy</i>] day, month, year <i><br>
W</i> Weekday <i><br>
N</i> Weekday - night <i><br>
E</i> Weekend</p>

<p style="margin-left:11%; margin-top: 1em">Default is
now.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;f</b><i>from</i>
Callers location. Default is from <i>isdn.conf</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;h</b><i>hour</i>
Time <i>hh</i>[<i>:mm</i>[<i>:ss</i>]] of call. Default is
now.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;i</b><i>ratefile</i>
Use <i>ratefile</i> (usually rate-CC.dat) as source for
telephone fees and ignore setting in <i>isdn.conf</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;l</b><i>len</i>
Length of call in seconds. Default is 153 seconds.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;o</b>
Show only booked providers. These are providers, which are
listed in <i>rate.conf</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;p</b>
<i>provider</i>[<i>,provider...</i>] Print only info for
given <i>provider</i>(s). <i>provider</i> is the provider
number, without the leading VBN, or <i>provider_variant</i>
if there are more variations, or <i>B</i> for business
providers.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;r</b>v<i>NN</i>
Show only providers whose VBN begins with <i>NN</i>. The VBN
is also known as provider prefix consisting of VBN and
provider number.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;s</b>
Consider <b>NUMBER</b> as the name of a service and print
all numbers / providers, which supply this service.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;t</b><i>takt</i>
Print only providers, which have calculation impulses
smaller or equal to <i>takt</i>. Default is 9999.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;v</b><i>verbose</i>
Set <i>verbose</i> level.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;x</b>
<i>provider</i>[<i>,provider...</i>] Exclude these
<i>provider</i>(s).</p>

<p style="margin-left:11%; margin-top: 1em"><b>DISPLAY AND
RUN OPTIONS <br>
&minus;C</b> Connect to a running isdnrate daemon. This
avoids long start-up times.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;D</b>
Start as a daemon, waiting for connections from a client.
The socket <i>/tmp/isdnrate</i> is created, which clients
can connect to.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;D2</b>
Start as a daemon and go background.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;CD3</b>
Stop a running daemon.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;G</b><i>n</i>
Print raw data for connection. <i>n</i> may be currently
97,98,99.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;H</b>
Print a header.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;L</b>
Print a semicolon separated list of</p>

<p style="margin-left:22%; margin-top: 1em">vbn ;
providername ; zone ; day ; time ; currency ; charge ;
basicprice ; price ; duration ; charge/min ; takt ; minimum
price</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;N</b>
Show info about following numbers. If no provider is given,
the preselected provider is used.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;O</b><i>socketfile</i>
Write socket to given filename on start of daemon. Default
is <i>tmp/isdnrate</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;P</b><i>piddir</i>
Write own PID to <i>piddir/isdnrate.pid</i> on start of
daemon.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;S</b><i>sort</i>
Sort output by <i>sort</i>, which may be</p>

<p style="margin-left:22%; margin-top: 1em"><b>v</b> vbn or
<b>n</b> provider name. Default is by charge.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;T</b>
Print a table of charges for daytimes weekday/weekend.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;V</b>
Print version info and exit.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;X</b><i>explain</i>
Print additional information for charge or from rate-file.
<i>explain</i> may be</p>

<p style="margin-left:22%; margin-top: 1em"><b>1</b> (zone)
<b><br>
2</b> (charge/min, zone, day, time) <b><br>
50</b> International areas <b><br>
51</b> National zones <b><br>
52</b> Services <b><br>
COMMENT</b> Print C:COMMENT: info from rate files.</p>

<p style="margin-left:11%; margin-top: 1em">If
<i>&minus;s</i> is given, the number of the service is also
listed with <i>&minus;X1</i> or <i>&minus;X2</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;Z</b>
Print info for LCR <br>
e.g. isdnrate -p1 -ZX 19430 <br>
shows the rate for provider 1 and the cheapest rate to this
service.</p>

<p style="margin-left:11%; margin-top: 1em">Note: Various
output options may not be used together. Conflicting options
will produce a warning. <br>
Note also: Sort by name or providernumber and
<b>-b</b><i>best</i> will bring you the first <i>best</i>
providers in sorting order, not the cheapest. <br>
And finally: Some options like <i>&minus;X50</i>,
<i>&minus;X51</i>, <i>&minus;X52</i>, <i>&minus;D</i>,
<i>&minus;V</i> don&rsquo;t require a telephone
<i>NUMBER</i>.</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>rate-CC.dat</i>,
<i>holiday-CC.dat</i>, <i>dest.gdbm</i>,
<i>zone-CC-PPP.gdbm</i>, <i>isdn.conf</i>,
<i>telrate.cgi</i> and more. <br>
Note: The extension of zone- and dest data files depends on
configuration. Recently <i>.cdb</i> is used.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>isdnrate
-D2</i> <br>
Start the isdnrate daemon.</p>

<p style="margin-left:11%; margin-top: 1em"><i>isdnrate -D2
-P /var/run -O /tmp/isdnr_socket</i> <br>
Start the isdnrate daemon, write <i>isdnrate.pid</i> to
/var/run and create the given socket.</p>

<p style="margin-left:11%; margin-top: 1em"><i>isdnrate -CH
-b5 -f01 -l120 Attersee</i> <br>
Connect to running daemon, print a header and the best 5
rates from Vienna (<i>01</i>) to destination <i>Attersee</i>
for a connection length of 2 Minutes.</p>

<p style="margin-left:11%; margin-top: 1em"><i>isdnrate -CX
-p1_2,24 +1</i> <br>
Show rates and zones for destination USA for providers <i>1,
2</i> and <i>24</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><i>isdnrate -C
-l60 -rv010 HAM</i> <br>
Show rates for a one minute call to Hamburg (HAM: airport
code) and use only providers whose vbn begins with 010. So
provider A with vbn 01030 is displayed, provider B with vbn
0190023 is not.</p>

<p style="margin-left:11%; margin-top: 1em"><i>isdnrate -CX
-H -dW -b5 US CA</i> <br>
Show a header, rates and zones for destinations USA and
Canada for best 5 providers during workday.</p>

<p style="margin-left:11%; margin-top: 1em"><i>isdnrate
-CHoX US</i> <br>
Show header, rate and zone for destination USA for booked
providers only.</p>

<p style="margin-left:11%; margin-top: 1em"><i>isdnrate
-CsX -l60 Internet</i> <br>
Show rates and numbers for service <i>Internet</i> for a 1
minute call.</p>

<p style="margin-left:11%; margin-top: 1em"><i>isdnrate -CZ
19430</i> <br>
Show rates and the best provider for this
(service-)number.</p>

<p style="margin-left:11%; margin-top: 1em"><i>isdnrate
-CD3</i> <br>
Stop the running isdnrate daemon.</p>

<h2>SIGNALS
<a name="SIGNALS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">A isdnrate
daemon restarts (and therefore rereads its configuration) on
getting a SIGHUP signal.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>rate-files(5)</b>,
<b>isdnlog(8)</b>, <b>isdn.conf(5)</b></p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Definitely yes.
Sometimes more then one daemon can be started, sometimes the
socket is not removed, when the daemon terminates. if this
happens (&rsquo;socket in use&rsquo;), do a <i>rm
/tmp/isdnrate</i> and try again.</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Andreas Kool
&lt;akool@isdn4linux.de&gt; started this program. Leopold
Toetsch &lt;lt@toetsch.at&gt; continued the work and brought
this man page to you. Michael Reinelt
&lt;reinelt@eunet.at&gt; did the calculation engine and
various tools for it.</p>
<hr>
</body>
</html>
