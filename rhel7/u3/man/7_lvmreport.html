<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 21:54:05 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>LVMREPORT</title>

</head>
<body>

<h1 align="center">LVMREPORT</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#Categorization based on reporting facility">Categorization based on reporting facility</a><br>
<a href="#Terms">Terms</a><br>
<a href="#Common report configuration settings and command line options">Common report configuration settings and command line options</a><br>
<a href="#Main report specifics">Main report specifics</a><br>
<a href="#Log report specifics">Log report specifics</a><br>
<a href="#Selection">Selection</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">lvmreport
&mdash; LVM reporting and related features</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">LVM uses single
reporting infrastructure that sets standard on LVM
command&rsquo;s output and it provides wide range of
configuration settings and command line options to customize
report and filter the report&rsquo;s output.</p>

<h2>Categorization based on reporting facility
<a name="Categorization based on reporting facility"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Based on
functionality, commands which make use of the reporting
infrastructure are divided in two groups: <b><br>
Report-oriented</b></p>

<p style="margin-left:22%;">These commands inform about
current LVM state and their primary role is to display this
information in compendious way. To make a distinction, we
will name this report as <b>main report</b>. The set of
report-only commands include: pvs, vgs, lvs, pvdisplay,
vgdisplay, lvdisplay, lvm devtypes, lvm fullreport. For
further information about main report, see <b>main report
specifics</b>.</p>

<p style="margin-left:11%;"><b>Processing-oriented</b></p>

<p style="margin-left:22%;">These commands are responsible
for changing LVM state and they do not contain any main
report as identified for report-oriented commands, they only
perform some kind of processing. The set of
processing-oriented commands includes: pvcreate, vgcreate,
lvcreate, pvchange, vgchange, lvchange, pvremove, vgremove,
lvremove, pvresize, vgextend, vgreduce, lvextend, lvreduce,
lvresize, lvrename, pvscan, vgscan, lvscan, pvmove,
vgcfgbackup, vgck, vgconvert, vgexport, vgimport,
vgmknodes.</p>

<p style="margin-top: 1em">If enabled, so called <b>log
report</b> is either displayed solely (for
processing-oriented commands) or in addition to main report
(for report-oriented commands). The log report contains a
log of operations, messages and per-object status with
complete object identification collected during LVM command
execution. See <b>log report specifics</b> for more
information about this report type.</p>

<h2>Terms
<a name="Terms"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When describing
reporting functionality and features in this text, we will
use terms <b>row</b> and <b>column</b>. By row we mean
series of values reported for single entity (for example
single PV, VG or LV). Each value from the row then belongs
to a column of certain type. The columns have <b>column
headings</b> which are short descriptions for the columns.
The columns are referenced by <b>column names</b>. Please
note that this text is also using term <b>field</b>
interchangeably with the term <b>column</b>. Most of the
time the term columns is abbreviated as <b>col</b> in
configuration.</p>

<h2>Common report configuration settings and command line options
<a name="Common report configuration settings and command line options"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">There are
common configuration settings and command line options which
apply to both <b>main report</b> and <b>log report</b>.
Following lists contain all of them, separated into groups
based on their use.</p>

<p style="margin-left:22%; margin-top: 1em"><b>Common
configuration settings:</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="3%"></td>
<td width="63%">


<p>Changing report output format, composition and other
output modifiers:</p></td></tr>
</table>

<p style="margin-left:37%;">-</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%"></td>
<td width="4%"></td>
<td width="47%">


<p style="margin-top: 1em">global/units</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p>-</p></td>
<td width="4%"></td>
<td width="47%">


<p>global/suffix</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p>-</p></td>
<td width="4%"></td>
<td width="47%">


<p>report/output_format</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p>-</p></td>
<td width="4%"></td>
<td width="47%">


<p>report/compact_output</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p>-</p></td>
<td width="4%"></td>
<td width="47%">


<p>report/compact_output_cols</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p>-</p></td>
<td width="4%"></td>
<td width="47%">


<p>report/aligned</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p>-</p></td>
<td width="4%"></td>
<td width="47%">


<p>report/headings</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p>-</p></td>
<td width="4%"></td>
<td width="47%">


<p>report/separator</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p>-</p></td>
<td width="4%"></td>
<td width="47%">


<p>report/list_item_separator</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p>-</p></td>
<td width="4%"></td>
<td width="47%">


<p>report/prefixes</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p>-</p></td>
<td width="4%"></td>
<td width="47%">


<p>report/quoted</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p>-</p></td>
<td width="4%"></td>
<td width="47%">


<p>report/columns_as_rows</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p>-</p></td>
<td width="4%"></td>
<td width="47%">


<p>report/binary_values_as_numeric</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p>-</p></td>
<td width="4%"></td>
<td width="47%">


<p>report/time_format</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p>-</p></td>
<td width="4%"></td>
<td width="47%">


<p>report/mark_hidden_devices</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p>-</p></td>
<td width="4%"></td>
<td width="47%">


<p>report/two_word_unknown_device</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="47%"></td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:37%; margin-top: 1em">Special
settings</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="37%"></td>
<td width="1%">


<p style="margin-top: 1em">-</p></td>
<td width="4%"></td>
<td width="23%">


<p style="margin-top: 1em">report/buffered</p></td>
<td width="35%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">This document
does not describe these settings in more detail - if you
need detailed information, including values which are
accepted for the settings, please run <b>lvmconfig --type
default --withcomments &lt;setting&gt;</b>. There are more
configuration settings in addition to the common set listed
above, but they are specific to either <b>main report</b> or
<b>log report</b>, see <b>main report specifics</b> and
<b>log report specifics</b> for these settings. Besides
configuring reports globally by using configuration
settings, there are also command line options you can use to
extend, override or further specify the report
configuration.</p>

<p style="margin-left:22%; margin-top: 1em"><b>Common
command line options:</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="2%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="3%"></td>
<td width="63%">


<p style="margin-top: 1em">Definition of the set set of
fields to use</p></td></tr>
</table>

<p style="margin-left:37%;">-</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="42%"></td>
<td width="32%">


<p style="margin-top: 1em">--options|-o FieldSet</p></td>
<td width="26%">
</td></tr>
</table>

<p style="margin-left:42%;">Field set to use. See <b>main
report specifics</b> and <b>log report specifics</b> for
information about field sets configured with global
configuratin settings that this option overrides.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="37%"></td>
<td width="1%">


<p style="margin-top: 1em">-</p></td>
<td width="4%"></td>
<td width="33%">


<p style="margin-top: 1em">--options|-o+ FieldSet</p></td>
<td width="25%">
</td></tr>
</table>

<p style="margin-left:42%;">Fields to include to current
field set. See <b>main report specifics&nbsp;</b>and <b>log
report specifics</b> for information about field sets
configured with global configuration settings that this
option extends.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="37%"></td>
<td width="1%">


<p style="margin-top: 1em">-</p></td>
<td width="4%"></td>
<td width="33%">


<p style="margin-top: 1em">--options|-o- FieldSet</p></td>
<td width="25%">
</td></tr>
</table>

<p style="margin-left:42%;">Fields to exclude from current
field set. See <b>main report specifics</b> and <b>log
report specifics</b> for information about field sets
configured with global configuration settings that this
option reduces.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="37%"></td>
<td width="1%">


<p style="margin-top: 1em">-</p></td>
<td width="4%"></td>
<td width="33%">


<p style="margin-top: 1em">--options|-o# FieldSet</p></td>
<td width="25%">
</td></tr>
</table>

<p style="margin-left:42%;">Compaction of unused fields.
Overrides report/compact_output_cols configuration
setting.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="2%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="3%"></td>
<td width="11%">


<p style="margin-top: 1em">Sorting</p></td>
<td width="52%">
</td></tr>
</table>

<p style="margin-left:37%;">-</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="42%"></td>
<td width="29%">


<p style="margin-top: 1em">--sort|-O+ FieldSet</p></td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:42%;">Fields to sort by in ascending
order. See <b>main report specifics</b> and <b>log report
specifics</b> for information about field sets configured
with global configuration settings that this option
overrides.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="37%"></td>
<td width="1%">


<p style="margin-top: 1em">-</p></td>
<td width="4%"></td>
<td width="29%">


<p style="margin-top: 1em">--sort|-O- FieldSet</p></td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:42%;">Fields to sort by in descending
order. See <b>main report specifics</b> and <b>log report
specifics</b> for information about fields sets configured
with global configuration settings that this options
overrides.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="2%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="3%"></td>
<td width="14%">


<p style="margin-top: 1em">Selection</p></td>
<td width="49%">
</td></tr>
</table>

<p style="margin-left:37%;">-</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="42%"></td>
<td width="32%">


<p style="margin-top: 1em">--select|-S Selection</p></td>
<td width="26%">
</td></tr>
</table>

<p style="margin-left:42%;">Define selection criteria for
report output. For <b>log report</b>, this also overrides
log/command_log_selection configuration setting, see also
<b>log report specifics</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="2%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="3%"></td>
<td width="58%">


<p style="margin-top: 1em">Changing output format and
composition</p> </td>
<td width="5%">
</td></tr>
</table>

<p style="margin-left:37%;">-</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="42%"></td>
<td width="21%">


<p style="margin-top: 1em">--reportformat</p></td>
<td width="37%">
</td></tr>
</table>

<p style="margin-left:42%;">Overrides report/output_format
configuration setting.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="37%"></td>
<td width="1%">


<p style="margin-top: 1em">-</p></td>
<td width="4%"></td>
<td width="13%">


<p style="margin-top: 1em">--aligned</p></td>
<td width="45%">
</td></tr>
</table>

<p style="margin-left:42%;">Overrides report/aligned
configuration setting.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="37%"></td>
<td width="1%">


<p style="margin-top: 1em">-</p></td>
<td width="4%"></td>
<td width="12%">


<p style="margin-top: 1em">--binary</p></td>
<td width="46%">
</td></tr>
</table>

<p style="margin-left:42%;">Overrides
report/binary_values_as_numeric configuration setting.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="37%"></td>
<td width="1%">


<p style="margin-top: 1em">-</p></td>
<td width="4%"></td>
<td width="21%">


<p style="margin-top: 1em">--nameprefixes</p></td>
<td width="37%">
</td></tr>
</table>

<p style="margin-left:42%;">Overrides report/prefixes
configuration setting.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="37%"></td>
<td width="1%">


<p style="margin-top: 1em">-</p></td>
<td width="4%"></td>
<td width="18%">


<p style="margin-top: 1em">--noheadings</p></td>
<td width="40%">
</td></tr>
</table>

<p style="margin-left:42%;">Overrides report/noheadings
configuration setting.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="37%"></td>
<td width="1%">


<p style="margin-top: 1em">-</p></td>
<td width="4%"></td>
<td width="15%">


<p style="margin-top: 1em">--nosuffix</p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:42%;">Overrides global/suffix
configuration setting.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="37%"></td>
<td width="1%">


<p style="margin-top: 1em">-</p></td>
<td width="4%"></td>
<td width="9%">


<p style="margin-top: 1em">--rows</p></td>
<td width="49%">
</td></tr>
</table>

<p style="margin-left:42%;">Overrides
report/columns_as_rows configuration setting.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="37%"></td>
<td width="1%">


<p style="margin-top: 1em">-</p></td>
<td width="4%"></td>
<td width="16%">


<p style="margin-top: 1em">--separator</p></td>
<td width="42%">
</td></tr>
</table>

<p style="margin-left:42%;">Overrides report/separator
configuration setting.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="37%"></td>
<td width="1%">


<p style="margin-top: 1em">-</p></td>
<td width="4%"></td>
<td width="10%">


<p style="margin-top: 1em">--units</p></td>
<td width="48%">
</td></tr>
</table>

<p style="margin-left:42%;">Overrides global/units
configuration setting.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="37%"></td>
<td width="1%">


<p style="margin-top: 1em">-</p></td>
<td width="4%"></td>
<td width="15%">


<p style="margin-top: 1em">--unquoted</p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:42%;">Overrides report/quoted
configuration setting.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="2%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="3%"></td>
<td width="23%">


<p style="margin-top: 1em">Special options</p></td>
<td width="40%">
</td></tr>
</table>

<p style="margin-left:37%;">-</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="42%"></td>
<td width="38%">


<p style="margin-top: 1em">--configreport
<b>ReportName</b></p> </td>
<td width="20%">
</td></tr>
</table>

<p style="margin-left:42%;">This defines the
<b>ReportName</b> for which any subsequent -o|--columns,
-O|--sort or -S|--select applies to. See also <b>main report
specifics</b> and <b>log report specifics</b> for possible
<b>ReportName</b> values.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="37%"></td>
<td width="1%">


<p style="margin-top: 1em">-</p></td>
<td width="4%"></td>
<td width="13%">


<p style="margin-top: 1em">--logonly</p></td>
<td width="45%">
</td></tr>
</table>

<p style="margin-left:42%;">When an LVM command contains
both <b>main report</b> and <b>log report</b>, this option
suppresses the <b>main report</b> output and it causes the
<b>log report</b> output to be displayed only.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="37%"></td>
<td width="1%">


<p style="margin-top: 1em">-</p></td>
<td width="4%"></td>
<td width="18%">


<p style="margin-top: 1em">--unbuffered</p></td>
<td width="40%">
</td></tr>
</table>

<p style="margin-left:42%;">Overrides report/bufffered
configuration setting.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>FieldSet</b> mentioned in the lists above is a set of
field names where each field name is delimited by
&quot;,&quot; character. Field set definition, sorting and
selection may be repeated on command line (-o+/-o-
includes/excludes fields to/from current list, for all the
other repeatable options, the last value typed for the
option on the command line is used). The <b>Selection</b> is
a string with <b>selection criteria</b>, see also
<b>Selection</b> paragraph below for more information about
constructing these criteria.</p>

<h2>Main report specifics
<a name="Main report specifics"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <b>main
report</b> currently encompasses these distinct subtypes,
referenced by their name - <b>ReportName</b> as listed
below. The command in parenthesis is representative command
that uses the main report subtype by default. Each subtype
has its own configuration setting for global field set
definition as well as sort field definition (listed below
each individual <b>ReportName</b>):</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="3%"></td>
<td width="74%">


<p style="margin-top: 1em"><b>pv</b> representing report
about Physical Volumes (<b>pvs</b>)</p></td></tr>
</table>

<p style="margin-left:26%;">-</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%"></td>
<td width="3%"></td>
<td width="23%">


<p style="margin-top: 1em">report/pvs_cols</p></td>
<td width="46%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p>-</p></td>
<td width="3%"></td>
<td width="23%">


<p>report/pvs_sort</p></td>
<td width="46%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p>&bull;</p></td>
<td width="3%"></td>
<td width="23%"></td>
<td width="46%">
</td></tr>
</table>

<p style="margin-left:26%; margin-top: 1em"><b>pvseg</b>
representing report about Physical Volume Segments (<b>pvs
--segments</b>)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p style="margin-top: 1em">-</p></td>
<td width="3%"></td>
<td width="26%">


<p style="margin-top: 1em">report/pvseg_cols</p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p>-</p></td>
<td width="3%"></td>
<td width="26%">


<p>report/pvseg_sort</p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p>&bull;</p></td>
<td width="3%"></td>
<td width="26%"></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:26%; margin-top: 1em"><b>vg</b>
representing report about Volume Groups (<b>vgs</b>)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p style="margin-top: 1em">-</p></td>
<td width="3%"></td>
<td width="23%">


<p style="margin-top: 1em">report/vgs_cols</p></td>
<td width="46%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p>-</p></td>
<td width="3%"></td>
<td width="23%">


<p>report/vgs_sort</p></td>
<td width="46%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p>&bull;</p></td>
<td width="3%"></td>
<td width="23%"></td>
<td width="46%">
</td></tr>
</table>

<p style="margin-left:26%; margin-top: 1em"><b>lv</b>
representing report about Logical Volumes (<b>lvs</b>)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p style="margin-top: 1em">-</p></td>
<td width="3%"></td>
<td width="23%">


<p style="margin-top: 1em">report/lvs_cols</p></td>
<td width="46%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p>-</p></td>
<td width="3%"></td>
<td width="23%">


<p>report/lvs_sort</p></td>
<td width="46%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p>&bull;</p></td>
<td width="3%"></td>
<td width="23%"></td>
<td width="46%">
</td></tr>
</table>

<p style="margin-left:26%; margin-top: 1em"><b>seg</b>
representing report about Logical Volume Segments (<b>lvs
--segments</b>)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p style="margin-top: 1em">-</p></td>
<td width="3%"></td>
<td width="24%">


<p style="margin-top: 1em">report/segs_cols</p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p>-</p></td>
<td width="3%"></td>
<td width="24%">


<p>report/segs_sort</p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p>&bull;</p></td>
<td width="3%"></td>
<td width="24%"></td>
<td width="45%">
</td></tr>
</table>

<p style="margin-left:26%; margin-top: 1em"><b>full</b>
representing report combining all of the above as a whole
(<b>lvm fullreport</b>)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p style="margin-top: 1em">-</p></td>
<td width="3%"></td>
<td width="35%">


<p style="margin-top: 1em">report/pvs_cols_full</p></td>
<td width="34%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p>-</p></td>
<td width="3%"></td>
<td width="35%">


<p>report/pvs_sort_full</p></td>
<td width="34%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p>-</p></td>
<td width="3%"></td>
<td width="35%">


<p>report/pvsegs_cols_full</p></td>
<td width="34%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p>-</p></td>
<td width="3%"></td>
<td width="35%">


<p>report/pvseg_sort_full</p></td>
<td width="34%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p>-</p></td>
<td width="3%"></td>
<td width="35%">


<p>report/vgs_cols_full</p></td>
<td width="34%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p>-</p></td>
<td width="3%"></td>
<td width="35%">


<p>report/vgs_sort_full</p></td>
<td width="34%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p>-</p></td>
<td width="3%"></td>
<td width="35%">


<p>report/lvs_cols_full</p></td>
<td width="34%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p>-</p></td>
<td width="3%"></td>
<td width="35%">


<p>report/lvs_sort_full</p></td>
<td width="34%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p>-</p></td>
<td width="3%"></td>
<td width="35%">


<p>report/segs_cols_full</p></td>
<td width="34%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p>-</p></td>
<td width="3%"></td>
<td width="35%">


<p>report/segs_sort_full</p></td>
<td width="34%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p>&bull;</p></td>
<td width="3%"></td>
<td width="35%"></td>
<td width="34%">
</td></tr>
</table>

<p style="margin-left:26%; margin-top: 1em"><b>devtype</b>
representing report about device types (<b>lvm
devtypes</b>)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p style="margin-top: 1em">-</p></td>
<td width="3%"></td>
<td width="31%">


<p style="margin-top: 1em">report/devtypes_cols</p></td>
<td width="38%">
</td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>-</p></td>
<td width="3%"></td>
<td width="31%">


<p>report/devtypes_sort</p></td>
<td width="38%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Use <b>pvs,
vgs, lvs -o help</b> or <b>lvm devtypes -o help</b> to get
complete list of fields that you can use for main report.
The list of fields in the help output is separated in groups
based on which report type they belong to. Note that LVM can
change final report type used if fields from different
groups are combined together. Some of these combinations are
not allowed in which case LVM will issue an error.</p>

<p style="margin-left:11%; margin-top: 1em">For all main
report subtypes except <b>full</b>, it&rsquo;s not necessary
to use <b>--configreport ReportName</b> to denote which
report any subsequent <b>-o, -O or -S</b> option applies to
as they always apply to the single main report type.
Currently, <b>lvm fullreport</b> is the only command that
includes more than one <b>main report</b> subtype.
Therefore, the --configreport is particularly suitable for
the full report if you need to configure each of its
subreports in a different way.</p>

<h2>Log report specifics
<a name="Log report specifics"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">You can enable
log report with <b>log/report_command_log</b> configuration
setting - this functionality is disabled by default. The
<b>log report</b> contains a log collected during LVM
command execution and then the log is displayed just like
any other report known from main report. There is only one
log report subtype as shown below together with related
configuration settings for fields, sorting and
selection:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="3%"></td>
<td width="42%">


<p style="margin-top: 1em"><b>log</b> representing log
report</p> </td>
<td width="32%">
</td></tr>
</table>

<p style="margin-left:26%;">-</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%"></td>
<td width="3%"></td>
<td width="38%">


<p style="margin-top: 1em">log/command_log_cols</p></td>
<td width="31%">
</td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>-</p></td>
<td width="3%"></td>
<td width="38%">


<p>log/command_log_sort</p></td>
<td width="31%">
</td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>-</p></td>
<td width="3%"></td>
<td width="38%">


<p>log/command_log_selection</p></td>
<td width="31%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">You always need
to use <b>--configreport log</b> together with
<b>-o|--options, -O|--sort or -S|--selection</b> to override
configuration settings directly on command line for <b>log
report</b>. When compared to <b>main report</b>, in addition
to usual configuration settings for report fields and
sorting, the <b>log report</b> has also configuration option
for selection - <b>report/command_log_selection</b>. This
configuration setting is provided for convenience so
it&rsquo;s not necessary to use <b>-S|--select</b> on
command line each time an LVM command is executed and we
need the same selection criteria to be applied for <b>log
report</b>. Default selection criteria used for <b>log
report</b> are
<b>log/command_log_selection=&quot;!(log_type=status
&amp;&amp; message=success)&quot;</b>. This means that, by
default, <b>log report</b> doesn&rsquo;t display status
messages about successful operation and it displays only
rows with error, warning, print-type messages and messages
about failure states (for more information, see <b>log
report content</b> below).</p>

<p style="margin-left:11%; margin-top: 1em"><b>Log report
coverage</b> <br>
Currently, when running LVM commands directly (not in LVM
shell), the log report covers command&rsquo;s <b>processing
stage</b> which is the moment when LVM entities are iterated
and processed one by one. It does not cover any command
initialization nor command finalization stage. If there is
any message issued out of log report&rsquo;s coverage range,
such message goes directly to output, bypassing the <b>log
report</b>. By default, that is <b>standard error output</b>
for error and warning messages and <b>standard output</b>
for common print-like messages.</p>

<p style="margin-left:11%; margin-top: 1em">When running
LVM commands in <b>LVM shell</b>, the log report covers the
whole LVM command&rsquo;s execution, including
command&rsquo;s <b>processing</b> as well as
<b>initialization</b> and <b>finalization stage</b>. So from
this point of view, the log report coverage is complete for
executed LVM commands. Note that there are still a few
moments when LVM shell needs to initialize itself before it
even enters the main loop in which it executes LVM commands.
Also, there is a moment when <b>LVM shell</b> needs to
prepare <b>log report</b> properly for next command executed
in the shell and then, after the command&rsquo;s run, the
shell needs to display the log report for that recently
executed command. If there is a failure or any other message
issued during this time, the LVM will bypass <b>log
report</b> and display messages on output directly.</p>

<p style="margin-left:11%; margin-top: 1em">For these
reasons and for completeness, it&rsquo;s not possible to
rely fully on <b>log report</b> as the only indicator of LVM
command&rsquo;s status and the only place where all messages
issued during LVM command execution are collected. You
always need to check whether the command has not failed out
of log report&rsquo;s range by checking the non-report
output too.</p>

<p style="margin-left:11%; margin-top: 1em">To help with
this, LVM can separate output which you can then redirect to
any <b>custom file descriptor</b> that you prepare before
running an LVM command or LVM shell and then you make LVM to
use these file descriptors for different kinds of output by
defining environment variables with file descriptor numbers.
See also <b>LVM_OUT_FD</b>, <b>LVM_ERR_FD</b> and
<b>LVM_REPORT_FD</b> environment variable description in
<b>lvm</b>(8) man page.</p>

<p style="margin-left:11%; margin-top: 1em">Also note that,
by default, reports use the same file descriptor as common
print-like messages, which is <b>standard output</b>. If you
plan to use <b>log report</b> in your scripts or any
external tool, you should use <b>LVM_OUT_FD</b>,
<b>LVM_ERR_FD</b> and <b>LVM_REPORT_FD</b> to separate all
output types to different file descriptors. For example,
with bash, that would be:</p>

<p style="margin-left:22%; margin-top: 1em">LVM_OUT_FD=3
LVM_ERR_FD=4 LVM_REPORT_FD=5 &lt;lvm command&gt;
3&gt;out_file 4&gt;err_file 5&gt;report_file</p>

<p style="margin-left:11%; margin-top: 1em">Where the
&lt;lvm_command&gt; is either direct LVM command or LVM
shell. You can collect all three types of output in
particular files then.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Log report
content</b> <br>
Each item in the log report consists of these set of fields
providing various information:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="3%"></td>
<td width="46%">


<p style="margin-top: 1em">Basic information
(mandatory):</p> </td>
<td width="28%">
</td></tr>
</table>

<p style="margin-left:26%;">-</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="31%"></td>
<td width="17%">


<p style="margin-top: 1em">log_seq_num</p></td>
<td width="52%">
</td></tr>
</table>

<p style="margin-left:31%;">Item sequence number. The
sequence number is unique for each log item and it increases
in the order of the log items as they appeared during LVM
command execution.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p style="margin-top: 1em">-</p></td>
<td width="3%"></td>
<td width="12%">


<p style="margin-top: 1em">log_type</p></td>
<td width="57%">
</td></tr>
</table>

<p style="margin-left:31%;">Type of log for the item.
Currently, these types are used:</p>

<p style="margin-left:42%; margin-top: 1em"><b>status</b>
for any status information that is logged</p>

<p style="margin-left:42%; margin-top: 1em"><b>print</b>
for any common message printed while the log is
collected</p>

<p style="margin-left:42%; margin-top: 1em"><b>error</b>
for any error message printed while the log is collected</p>

<p style="margin-left:42%; margin-top: 1em"><b>warn</b> for
any warning message printed while the log is collected</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p style="margin-top: 1em">-</p></td>
<td width="3%"></td>
<td width="17%">


<p style="margin-top: 1em">log_context</p></td>
<td width="52%">
</td></tr>
</table>

<p style="margin-left:31%;">Context of the log for the
item. Currently, two contexts are identified:</p>

<p style="margin-left:42%; margin-top: 1em"><b>shell</b>
for the log collected in the outermost code before and after
executing concrete LVM commands</p>


<p style="margin-left:42%; margin-top: 1em"><b>processing</b>
for the log collected while processing LVM entities during
LVM command execution</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="3%"></td>
<td width="31%">


<p style="margin-top: 1em">Message (mandatory):</p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:26%;">-</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="31%"></td>
<td width="17%">


<p style="margin-top: 1em">log_message</p></td>
<td width="52%">
</td></tr>
</table>

<p style="margin-left:31%;">Any message associated with
current item. For <b>status</b> log type, the message
contains either <b>success</b> or <b>failure</b> denoting
current state. For <b>print</b>, <b>error</b> and
<b>warn</b> log types, the message contains the exact
message of that type that got issued.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="3%"></td>
<td width="69%">


<p style="margin-top: 1em">Object information (used only if
applicable):</p> </td>
<td width="5%">
</td></tr>
</table>

<p style="margin-left:26%;">-</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="31%"></td>
<td width="32%">


<p style="margin-top: 1em">log_object_type field</p></td>
<td width="37%">
</td></tr>
</table>

<p style="margin-left:31%;">Type of the object processed.
Currently, these object types are recognized:</p>

<p style="margin-left:42%; margin-top: 1em"><b>cmd</b> for
command as a whole</p>

<p style="margin-left:42%; margin-top: 1em"><b>orphan</b>
for processing group of PVs not in any VG yet</p>

<p style="margin-left:42%; margin-top: 1em"><b>pv</b> for
PV processing</p>

<p style="margin-left:42%; margin-top: 1em"><b>label</b>
for direct PV label processing (without VG metadata)</p>

<p style="margin-left:42%; margin-top: 1em"><b>vg</b> for
VG processing</p>

<p style="margin-left:42%; margin-top: 1em"><b>lv</b> for
LV processing</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p style="margin-top: 1em">-</p></td>
<td width="3%"></td>
<td width="23%">


<p style="margin-top: 1em">log_object_name</p></td>
<td width="46%">
</td></tr>
</table>

<p style="margin-left:31%;">Name of the object
processed.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p style="margin-top: 1em">-</p></td>
<td width="3%"></td>
<td width="20%">


<p style="margin-top: 1em">log_object_id</p></td>
<td width="49%">
</td></tr>
</table>

<p style="margin-left:31%;">ID of the object processed.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p style="margin-top: 1em">-</p></td>
<td width="3%"></td>
<td width="24%">


<p style="margin-top: 1em">log_object_group</p></td>
<td width="45%">
</td></tr>
</table>

<p style="margin-left:31%;">A group where the processed
object belongs to.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p style="margin-top: 1em">-</p></td>
<td width="3%"></td>
<td width="29%">


<p style="margin-top: 1em">log_object_group_id</p></td>
<td width="40%">
</td></tr>
</table>

<p style="margin-left:31%;">An ID of a group where the
processed object belongs to.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="3%"></td>
<td width="62%">


<p style="margin-top: 1em">Numeric status (used only if
applicable)</p> </td>
<td width="12%">
</td></tr>
</table>

<p style="margin-left:26%;">-</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="31%"></td>
<td width="14%">


<p style="margin-top: 1em">log_errno</p></td>
<td width="55%">
</td></tr>
</table>

<p style="margin-left:31%;">Error number associated with
current item.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p style="margin-top: 1em">-</p></td>
<td width="3%"></td>
<td width="18%">


<p style="margin-top: 1em">log_ret_code</p></td>
<td width="51%">
</td></tr>
</table>

<p style="margin-left:31%;">Rreturn code associated with
current item.</p>

<p style="margin-left:11%; margin-top: 1em">You can also
run <b>&lt;lvm_command&gt; --configreport log -o help</b> to
to display complete list of fields that you may use for the
<b>log report</b>.</p>

<h2>Selection
<a name="Selection"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Selection is
used for a report to display only rows that match
<b>selection criteria</b>. All rows are displayed with the
additional <b>selected</b> field (<b>-o selected</b>)
displaying 1 if the row matches the <i>Selection</i> and 0
otherwise. The <b>selection criteria</b> are a set of
<b>statements</b> combined by <b>logical and grouping
operators</b>. The <b>statement</b> consists of a
<b>field</b> name for which a set of valid <b>values</b> is
defined using <b>comparison operators</b>. For complete list
of fields names that you can use in selection, see the
output of <b>&lt;lvm_command&gt; -S help</b>. The help
output also contains type of values that each field displays
enclosed in brackets.</p>

<p style="margin-left:11%; margin-top: 1em"><b>List of
operators recognized in selection criteria</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="3%"></td>
<td width="45%">


<p style="margin-top: 1em">Comparison operators
(cmp_op)</p> </td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:37%; margin-top: 1em"><b>=~</b>
matching regular expression.</p>

<p style="margin-left:37%; margin-top: 1em"><b>!~</b> not
matching regular expression.</p>

<p style="margin-left:37%; margin-top: 1em"><b>=</b> equal
to.</p>

<p style="margin-left:37%; margin-top: 1em"><b>!=</b> not
equal to.</p>

<p style="margin-left:37%; margin-top: 1em"><b>&gt;=</b>
greater than or equal to.</p>

<p style="margin-left:37%; margin-top: 1em"><b>&gt;</b>
greater than</p>

<p style="margin-left:37%; margin-top: 1em"><b>&lt;=</b>
less than or equal to.</p>

<p style="margin-left:37%; margin-top: 1em"><b>&lt;</b>
less than.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="3%"></td>
<td width="52%">


<p style="margin-top: 1em">Binary logical operators
(cmp_log)</p> </td>
<td width="22%">
</td></tr>
</table>


<p style="margin-left:37%; margin-top: 1em"><b>&amp;&amp;</b>
all fields must match</p>

<p style="margin-left:37%; margin-top: 1em"><b>,</b> all
fields must match</p>

<p style="margin-left:37%; margin-top: 1em"><b>||</b> at
least one field must match</p>

<p style="margin-left:37%; margin-top: 1em"><b>#</b> at
least one field must match</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="3%"></td>
<td width="36%">


<p style="margin-top: 1em">Unary logical operators</p></td>
<td width="38%">
</td></tr>
</table>

<p style="margin-left:37%; margin-top: 1em"><b>!</b>
logical negation</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="3%"></td>
<td width="28%">


<p style="margin-top: 1em">Grouping operators</p></td>
<td width="46%">
</td></tr>
</table>

<p style="margin-left:37%; margin-top: 1em"><b>(</b> left
parenthesis</p>

<p style="margin-left:37%; margin-top: 1em"><b>)</b> right
parenthesis</p>

<p style="margin-left:37%; margin-top: 1em"><b>[</b> list
start</p>

<p style="margin-left:37%; margin-top: 1em"><b>]</b> list
end</p>

<p style="margin-left:37%; margin-top: 1em"><b>{</b> list
subset start</p>

<p style="margin-left:37%; margin-top: 1em"><b>}</b> list
subset end</p>

<p style="margin-left:11%; margin-top: 1em"><b>Field types
and selection operands</b> <br>
Field type restricts the set of operators and values that
you may use with the field when defining selection criteria.
You can see field type for each field if you run <b>&lt;lvm
command&gt; -S help</b> where you can find the type name
enclosed in square brackets. Currently, LVM recognizes these
field types in reports:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="3%"></td>
<td width="74%">


<p style="margin-top: 1em"><b>string</b> for set of
characters (for each string field type, you can use either
string or regular expression - regex for the value used in
selection criteria)</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="3%"></td>
<td width="74%">


<p><b>string list</b> for set of strings</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="3%"></td>
<td width="74%">


<p><b>number</b> for integer value</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="3%"></td>
<td width="74%">


<p><b>size</b> for integer or floating point number with
size unit suffix (see also <b>lvcreate</b>(8) man page and
description for &quot;-L|--size&quot; option for the list of
recognized suffixes)</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="3%"></td>
<td width="74%">


<p><b>percent</b> for floating point number with or without
&quot;%&quot; suffix (e.g. 50 or 50%)</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="3%"></td>
<td width="74%">


<p><b>time</b> for time values</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">When using
<b>string list</b> in selection criteria, there are several
ways how LVM can match string list fields from report,
depending on what list grouping operator is used and what
item separator is used within that set of items. Also, note
that order of items does not matter here.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="3%"></td>
<td width="74%">


<p style="margin-top: 1em"><b>matching the set strictly</b>
where all items must match - use [ ], e.g.
[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="3%"></td>
<td width="74%">


<p><b>matching a subset of the set</b> - use { } with
&quot;,&quot; or &quot;&amp;&amp;&quot; as item delimiter,
e.g. {&quot;a&quot;,&quot;b&quot;,&quot;c&quot;}</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="3%"></td>
<td width="74%">


<p><b>matching an intersection with the set</b> - use { }
with &quot;#&quot; or &quot;||&quot; as item delimiter, e.g.
{&quot;a&quot; || &quot;b&quot; || &quot;c&quot;}</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">When using
<b>time</b> in your selection criteria, LVM can recognize
various time formats using standard, absolute or freeform
expressions. For examples demonstrating time expressions in
selection criteria, see <b>EXAMPLES</b> section.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="3%"></td>
<td width="31%">


<p style="margin-top: 1em"><b>Standard time format</b></p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:26%;">-</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="31%"></td>
<td width="6%">


<p style="margin-top: 1em">date</p></td>
<td width="63%">
</td></tr>
</table>

<p style="margin-left:42%; margin-top: 1em">YYYY-MM-DD</p>

<p style="margin-left:42%; margin-top: 1em">YYYY-MM, auto
DD=1</p>

<p style="margin-left:42%; margin-top: 1em">YYYY, auto
MM=01 and DD=01</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p style="margin-top: 1em">-</p></td>
<td width="3%"></td>
<td width="6%">


<p style="margin-top: 1em">time</p></td>
<td width="63%">
</td></tr>
</table>

<p style="margin-left:42%; margin-top: 1em">hh:mm:ss</p>

<p style="margin-left:42%; margin-top: 1em">hh:mm, auto
ss=0</p>

<p style="margin-left:42%; margin-top: 1em">hh, auto mm=0,
auto ss=0</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p style="margin-top: 1em">-</p></td>
<td width="3%"></td>
<td width="12%">


<p style="margin-top: 1em">timezone</p></td>
<td width="57%">
</td></tr>
</table>

<p style="margin-left:42%; margin-top: 1em">+hh:mm or
-hh:mm</p>

<p style="margin-left:42%; margin-top: 1em">+hh or -hh</p>

<p style="margin-left:26%; margin-top: 1em">The full
date/time specification is YYYY-MM-DD hh:mm:ss. Users are
able to leave date/time parts from right to left. Whenever
these parts are left out, a range is assumed automatically
with second granularity. For example:</p>


<p style="margin-left:42%; margin-top: 1em">&quot;2015-07-07
9:51&quot; means range of &quot;2015-07-07 9:51:00&quot; -
&quot;2015-07-07 9:51:59&quot;.</p>


<p style="margin-left:42%; margin-top: 1em">&quot;2015-07&quot;
means range of &quot;2015-07-01 0:00:00&quot; -
&quot;2015-07-31 23:59:59&quot;</p>


<p style="margin-left:42%; margin-top: 1em">&quot;2015&quot;
means range of &quot;2015-01-01 0:00:00&quot; -
&quot;2015-12-31 23:59:59&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="3%"></td>
<td width="31%">


<p style="margin-top: 1em"><b>Absolute time format</b></p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:26%; margin-top: 1em">Absolute time
is defined as number of seconds since the Epoch (1970:01:01
00:00 +00:00).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p style="margin-top: 1em">-</p></td>
<td width="3%"></td>
<td width="12%">


<p style="margin-top: 1em">@seconds</p></td>
<td width="57%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p>&bull;</p></td>
<td width="3%"></td>
<td width="12%"></td>
<td width="57%">
</td></tr>
</table>

<p style="margin-left:26%; margin-top: 1em"><b>Freeform
time format</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p style="margin-top: 1em">-</p></td>
<td width="3%"></td>
<td width="69%">


<p style="margin-top: 1em">weekday names
(&quot;Sunday&quot; - &quot;Saturday&quot; or abbreviated as
&quot;Sun&quot; - &quot;Sat&quot;)</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>-</p></td>
<td width="3%"></td>
<td width="69%">


<p>labels for points in time (&quot;noon&quot;,
&quot;midnight&quot;)</p> </td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>-</p></td>
<td width="3%"></td>
<td width="69%">


<p>labels for a day relative to current day
(&quot;today&quot;, &quot;yesterday&quot;)</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>-</p></td>
<td width="3%"></td>
<td width="69%">


<p>points back in time with relative offset from today (N
is a number)</p></td></tr>
</table>

<p style="margin-left:42%; margin-top: 1em">&quot;N&quot;
&quot;seconds&quot; / &quot;minutes&quot; /
&quot;hours&quot; / &quot;days&quot; / &quot;weeks&quot; /
&quot;years&quot; &quot;ago&quot;</p>

<p style="margin-left:42%; margin-top: 1em">&quot;N&quot;
&quot;secs&quot; / &quot;mins&quot; / &quot;hrs&quot; ...
&quot;ago&quot;</p>

<p style="margin-left:42%; margin-top: 1em">&quot;N&quot;
&quot;s&quot; / &quot;m&quot; / &quot;h&quot; ...
&quot;ago&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p style="margin-top: 1em">-</p></td>
<td width="3%"></td>
<td width="69%">


<p style="margin-top: 1em">time specification either in
hh:mm:ss format or with AM/PM suffixes</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>-</p></td>
<td width="3%"></td>
<td width="69%">


<p>month names (&quot;January&quot; - &quot;December&quot;
or abbreviated as &quot;Jan&quot; - &quot;Dec&quot;)</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>Informal
grammar specification</b></p>


<p style="margin-left:32%; margin-top: 1em"><b>STATEMENT</b>
= <b>column</b> cmp_op <b>VALUE</b> | <b>STATEMENT</b>
log_op <b>STATEMENT</b> | <b>(STATEMENT)</b> |
<b>!(STATEMENT)</b></p>

<p style="margin-left:32%; margin-top: 1em"><b>VALUE</b> =
<b>[VALUE</b> log_op <b>VALUE]</b> <br>
For list-based types: string list. Matches strictly. The
log_op must always be of one type within the whole list
value.</p>

<p style="margin-left:32%; margin-top: 1em"><b>VALUE</b> =
<b>{VALUE</b> log_op <b>VALUE}</b> <br>
For list-based types: string list. Matches a subset. The
log_op must always be of one type within the whole list
value.</p>

<p style="margin-left:32%; margin-top: 1em"><b>VALUE</b> =
<b>value</b> <br>
For scalar types: number, size, percent, string (or string
regex).</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Basic
usage</b> <br>
We start our examples with default configuration -
<b>lvmconfig</b>(8) is helpful command to display
configuration settings which are currently used, including
all configuration related to reporting. We will use it
throughout examples below to display current
configuration.</p>

<p style="margin-left:11%; margin-top: 1em"># lvmconfig
--type full global/units global/suffix \ <br>
report/output_format report/compact_output \ <br>
report/compact_output_cols report/aligned \ <br>
report/headings report/separator \ <br>
report/list_item_separator report/prefixes \ <br>
report/quoted report/columns_as_rows \ <br>
report/binary_values_as_numeric report/time_format \ <br>
report/mark_hidden_devices report/two_word_unknown_device \
<br>
report/buffered <br>
units=&quot;h&quot; <br>
suffix=1 <br>
output_format=&quot;basic&quot; <br>
compact_output=0 <br>
compact_output_cols=&quot;&quot; <br>
aligned=1 <br>
headings=1 <br>
separator=&quot; &quot; <br>
list_item_separator=&quot;,&quot; <br>
prefixes=0 <br>
quoted=1 <br>
columns_as_rows=0 <br>
binary_values_as_numeric=0 <br>
time_format=&quot;%Y-%m-%d %T %z&quot; <br>
mark_hidden_devices=1 <br>
two_word_unknown_device=0 <br>
buffered=1</p>

<p style="margin-left:11%; margin-top: 1em">Also, we start
with simple LVM layout with two PVs (/dev/sda, /dev/sdb), VG
(vg) and two LVs (lvol0 and lvol1) in the VG. We display all
possible reports as single commands here, see also
<b>pvs</b>(8), <b>vgs</b>(8), <b>lvs</b>(8) man pages for
more information. The field set for each report type is
configured with configuration settings as we already
mentioned in <b>main report specifics</b> section in this
man page.</p>

<p style="margin-left:11%; margin-top: 1em"># lvmconfig
--type full report/pvs_cols report/pvs_sort \ <br>
report/pvsegs_cols report/pvsegs_sort report/vgs_cols \ <br>
report/vgs_sort report/lvs_cols report/lvs_sort \ <br>
report/segs_cols report/segs_sort <br>

pvs_cols=&quot;pv_name,vg_name,pv_fmt,pv_attr,pv_size,pv_free&quot;
<br>
pvs_sort=&quot;pv_name&quot; <br>

pvsegs_cols=&quot;pv_name,vg_name,pv_fmt,pv_attr,pv_size,pv_free,
<br>
pvseg_start,pvseg_size&quot; <br>
pvsegs_sort=&quot;pv_name,pvseg_start&quot; <br>

vgs_cols=&quot;vg_name,pv_count,lv_count,snap_count,vg_attr,vg_size,vg_free&quot;
<br>
vgs_sort=&quot;vg_name&quot; <br>

lvs_cols=&quot;lv_name,vg_name,lv_attr,lv_size,pool_lv,origin,move_pv,
<br>
mirror_log,copy_percent,convert_lv&quot; <br>
lvs_sort=&quot;vg_name,lv_name&quot; <br>

segs_cols=&quot;lv_name,vg_name,lv_attr,stripes,segtype,seg_size&quot;
<br>
segs_sort=&quot;vg_name,lv_name,seg_start&quot;</p>

<p style="margin-left:11%; margin-top: 1em"># pvs <br>
PV VG Fmt Attr PSize PFree <br>
/dev/sda vg lvm2 a-- 100.00m 88.00m <br>
/dev/sdb vg lvm2 a-- 100.00m 92.00m</p>

<p style="margin-left:11%; margin-top: 1em"># pvs
--segments <br>
PV VG Fmt Attr PSize PFree Start SSize <br>
/dev/sda vg lvm2 a-- 100.00m 88.00m 0 1 <br>
/dev/sda vg lvm2 a-- 100.00m 88.00m 1 1 <br>
/dev/sda vg lvm2 a-- 100.00m 88.00m 2 1 <br>
/dev/sda vg lvm2 a-- 100.00m 88.00m 3 22 <br>
/dev/sdb vg lvm2 a-- 100.00m 92.00m 0 1 <br>
/dev/sdb vg lvm2 a-- 100.00m 92.00m 1 1 <br>
/dev/sdb vg lvm2 a-- 100.00m 92.00m 2 23</p>

<p style="margin-left:11%; margin-top: 1em"># vgs <br>
VG #PV #LV #SN Attr VSize VFree <br>
vg 2 2 0 wz--n- 200.00m 180.00m</p>

<p style="margin-left:11%; margin-top: 1em"># lvs <br>
LV VG Attr LSize Pool Origin Move Log Cpy%Sync Convert <br>
lvol0 vg -wi-a----- 4.00m <br>
lvol1 vg rwi-a-r--- 4.00m 100.00</p>

<p style="margin-left:11%; margin-top: 1em"># lvs
--segments <br>
LV VG Attr #Str Type SSize <br>
lvol0 vg -wi-a----- 1 linear 4.00m <br>
lvol1 vg rwi-a-r--- 2 raid1 4.00m</p>

<p style="margin-left:11%; margin-top: 1em">We will use
<b>report/lvs_cols</b> and <b>report/lvs_sort</b>
configuration settings to define our own list of fields to
use and to sort by that is different from defaults. You can
do this for other reports in same manner with
<b>report/{pvs,pvseg,vgs,seg}_{cols,sort}</b> configuration
settings. Also note that in the example below, we
don&rsquo;t display the &quot;lv_time&quot; field even
though we&rsquo;re using it for sorting - this is
allowed.</p>

<p style="margin-left:11%; margin-top: 1em"># lvmconfig
--type full report/lvs_cols report/lvs_sort <br>

lvs_cols=&quot;lv_name,lv_size,origin,pool_lv,copy_percent&quot;
<br>
lvs_sort=&quot;-lv_time&quot;</p>

<p style="margin-left:11%; margin-top: 1em"># lvs <br>
LV LSize Origin Pool Cpy%Sync <br>
lvol1 4.00m 100.00 <br>
lvol0 4.00m</p>

<p style="margin-left:11%; margin-top: 1em">You can use
<b>-o|--options</b> command line option to override current
configuration directly on command line.</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
lv_name,lv_size <br>
LV LSize <br>
lvol1 4.00m <br>
lvol0 4.00m</p>

<p style="margin-left:11%; margin-top: 1em"># lvs
-o+lv_layout <br>
LV LSize Origin Pool Cpy%Sync Layout <br>
lvol1 4.00m 100.00 raid,raid1 <br>
lvol0 4.00m linear</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o-origin
<br>
LV LSize Pool Cpy%Sync <br>
lvol1 4.00m 100.00 <br>
lvol0 4.00m</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
lv_name,lv_size,origin -o+lv_layout -o-origin -O lv_name
<br>
LV LSize Layout <br>
lvol0 4.00m linear <br>
lvol1 4.00m raid,raid1</p>

<p style="margin-left:11%; margin-top: 1em">You can obtain
the same information with single command where all the
information about PVs, PV segments, LVs and LV segments are
obtained per VG under a single VG lock for consistency, see
also <b>lvm fullreport</b>(8) man page for more information.
The fullreport has its own configuration settings to define
field sets to use, similar to individual reports as
displayed above, but configuration settings have
&quot;_full&quot; suffix now. This way, it&rsquo;s possible
to configure different sets of fields to display and to sort
by for individual reports as well as the full report.</p>

<p style="margin-left:11%; margin-top: 1em"># lvmconfig
--type full report/pvs_cols_full \ <br>
report/pvs_sort_full report/pvsegs_cols_full \ <br>
report/pvsegs_sort_full report/vgs_cols_full \ <br>
report/vgs_sort_full report/lvs_cols_full \ <br>
report/lvs_sort_full report/segs_cols_full \ <br>
report/segs_sort_full <br>
pvs_cols_full=&quot;pv_name,vg_name&quot; <br>
pvs_sort_full=&quot;pv_name&quot; <br>
pvsegs_cols_full=&quot;pv_name,pvseg_start,pvseg_size&quot;
<br>
pvsegs_sort_full=&quot;pv_uuid,pvseg_start&quot; <br>
vgs_cols_full=&quot;vg_name&quot; <br>
vgs_sort_full=&quot;vg_name&quot; <br>
lvs_cols_full=&quot;lv_name,vg_name&quot; <br>
lvs_sort_full=&quot;vg_name,lv_name&quot; <br>
segs_cols_full=&quot;lv_name,seg_start,seg_size&quot; <br>
segs_sort_full=&quot;lv_uuid,seg_start&quot;</p>

<p style="margin-left:11%; margin-top: 1em"># lvm
fullreport <br>
VG <br>
vg <br>
PV VG <br>
/dev/sda vg <br>
/dev/sdb vg <br>
LV VG <br>
lvol0 vg <br>
lvol1 vg <br>
PV Start SSize <br>
/dev/sda 0 1 <br>
/dev/sda 1 1 <br>
/dev/sda 2 1 <br>
/dev/sda 3 22 <br>
/dev/sdb 0 1 <br>
/dev/sdb 1 1 <br>
/dev/sdb 2 23 <br>
LV Start SSize <br>
lvol0 0 4.00m <br>
lvol1 0 4.00m</p>

<p style="margin-left:11%; margin-top: 1em"><b>Automatic
output compaction</b> <br>
If you look at the lvs output above, you can see that the
report also contains fields for which there is no
information to display (e.g. the columns under
&quot;Origin&quot; and &quot;Pool&quot; heading - the
&quot;origin&quot; and &quot;pool_lv&quot; fields). LVM can
automatically compact report output so such fields are not
included in final output. To enable this feature and to
compact all fields, use <b>report/compact_output=1</b> in
your configuration.</p>

<p style="margin-left:11%; margin-top: 1em"># lvmconfig
--type full report/compact_output <br>
compact_output=1</p>

<p style="margin-left:11%; margin-top: 1em"># lvs <br>
LV LSize Cpy%Sync <br>
lvol1 4.00m 100.00 <br>
lvol0 4.00m</p>

<p style="margin-left:11%; margin-top: 1em"># lvs vg/lvol0
<br>
LV LSize <br>
lvol0 4.00m</p>

<p style="margin-left:11%; margin-top: 1em">Alternatively,
you can define which fields should be compacted by
configuring <b>report/compact_output_cols</b> configuration
setting (or <b>-o|--options #</b> command line option).</p>

<p style="margin-left:11%; margin-top: 1em"># lvmconfig
--type full report/compact_output report/compact_output_cols
<br>
compact_output=0 <br>
compact_output_cols=&quot;origin&quot;</p>

<p style="margin-left:11%; margin-top: 1em"># lvs <br>
LV LSize Pool Cpy%Sync <br>
lvol1 4.00m 100.00 <br>
lvol0 4.00m</p>

<p style="margin-left:11%; margin-top: 1em"># lvs vg/lvol0
<br>
LV LSize Pool <br>
lvol0 4.00m</p>

<p style="margin-left:11%; margin-top: 1em"># lvs
-o#pool_lv <br>
LV LSize Origin Cpy%Sync <br>
lvol1 4.00m 100.00 <br>
lvol0 4.00m</p>

<p style="margin-left:11%; margin-top: 1em">We will use
<b>report/compact_output=1</b> for subsequent examples.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Further
formatting options</b> <br>
By default, LVM displays sizes in reports in human-readable
form which means that the most suitable unit is used so
it&rsquo;s easy to read. You can use <b>report/units</b>
configuration setting (or <b>--units</b> option directly on
command line) and <b>report/suffix</b> configuration setting
(or <b>--nosuffix</b> command line option) to change
this.</p>

<p style="margin-left:11%; margin-top: 1em"># lvs --units b
--nosuffix <br>
LV LSize Cpy%Sync <br>
lvol1 4194304 100.00 <br>
lvol0 4194304</p>

<p style="margin-left:11%; margin-top: 1em">If you want to
configure whether report headings are displayed or not, use
<b>report/headings</b> configuration settings (or
<b>--noheadings</b> command line option).</p>

<p style="margin-left:11%; margin-top: 1em"># lvs
--noheadings <br>
lvol1 4.00m 100.00 <br>
lvol0 4.00m</p>

<p style="margin-left:11%; margin-top: 1em">In some cases,
it may be useful to display report content as key=value
pairs where key here is actually the field name. Use
<b>report/prefixes</b> configuration setting (or
<b>--nameprefixes</b> command line option) to switch between
standard output and the key=value output. The key=value pair
is the output that is suitable for use in scripts and for
other tools to parse easily. Usually, you also don&rsquo;t
want to display headings with the output that has these
key=value pairs.</p>

<p style="margin-left:11%; margin-top: 1em"># lvs
--noheadings --nameprefixes <br>
LVM2_LV_NAME=&rsquo;lvol1&rsquo;
LVM2_LV_SIZE=&rsquo;4.00m&rsquo;
LVM2_COPY_PERCENT=&rsquo;100.00&rsquo; <br>
LVM2_LV_NAME=&rsquo;lvol0&rsquo;
LVM2_LV_SIZE=&rsquo;4.00m&rsquo;
LVM2_COPY_PERCENT=&rsquo;&rsquo;</p>

<p style="margin-left:11%; margin-top: 1em">To define
whether quotation marks in key=value pairs should be used or
not, use <b>report/quoted</b> configuration setting (or
<b>--unquoted</b> command line option).</p>

<p style="margin-left:11%; margin-top: 1em"># lvs
--noheadings --nameprefixes --unquoted <br>
LVM2_LV_NAME=lvol1 LVM2_LV_SIZE=4.00m
LVM2_COPY_PERCENT=100.00 <br>
LVM2_LV_NAME=lvol0 LVM2_LV_SIZE=4.00m LVM2_COPY_PERCENT=</p>

<p style="margin-left:11%; margin-top: 1em">For easier
parsing, you can even transpose the report so each column
now becomes a row in the output. This is done with
<b>report/output_as_rows</b> configuration setting (or
<b>--rows</b> command line option).</p>

<p style="margin-left:11%; margin-top: 1em"># lvs
--noheadings --nameprefixes --unquoted --rows <br>
LVM2_LV_NAME=lvol1 LVM2_LV_NAME=lvol0 <br>
LVM2_LV_SIZE=4.00m LVM2_LV_SIZE=4.00m <br>
LVM2_COPY_PERCENT=100.00 LVM2_COPY_PERCENT=</p>

<p style="margin-left:11%; margin-top: 1em">Use
<b>report/separator</b> configuration setting (or
<b>--separator</b> command line option) to define your own
field separator to use.</p>

<p style="margin-left:11%; margin-top: 1em"># lvs
--noheadings --nameprefixes --unquoted --separator &quot; |
&quot; <br>
LVM2_LV_NAME=lvol1 | LVM2_LV_SIZE=4.00m |
LVM2_COPY_PERCENT=100.00 <br>
LVM2_LV_NAME=lvol0 | LVM2_LV_SIZE=4.00m |
LVM2_COPY_PERCENT=</p>

<p style="margin-left:11%; margin-top: 1em">If you are
using your own separator, the columns in the output are not
aligned by default. Use <b>report/aligned</b> configuration
setting (or <b>--aligned</b> command line option) for LVM to
add extra spaces in report to align the output properly.</p>

<p style="margin-left:11%; margin-top: 1em"># lvs
--separator &quot; | &quot; <br>
LV | LSize | Cpy%Sync <br>
lvol1 | 4.00m | 100.00 <br>
lvol0 | 4.00m |</p>

<p style="margin-left:11%; margin-top: 1em"># lvs
--separator &quot; | &quot; --aligned <br>
LV | LSize | Cpy%Sync <br>
lvol1 | 4.00m | 100.00 <br>
lvol0 | 4.00m |</p>

<p style="margin-left:11%; margin-top: 1em">Let&rsquo;s
display one one more field in addition (&quot;lv_tags&quot;
in this example) for the lvs report output.</p>

<p style="margin-left:11%; margin-top: 1em"># lvs
-o+lv_tags <br>
LV LSize Cpy%Sync LV Tags <br>
lvol1 4.00m 100.00 <br>
lvol0 4.00m tagA,tagB</p>

<p style="margin-left:11%; margin-top: 1em">The &quot;LV
Tags&quot; column in the example above displays two list
values, separated by &quot;,&quot; character for LV lvol0.
If you need different list item separator, use
<b>report/list_item_separator</b> configuration setting its
definition.</p>

<p style="margin-left:11%; margin-top: 1em"># lvmconfig
--type full report/list_item_separator <br>
list_item_separator=&quot;;&quot;</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o+tags
<br>
LV LSize Cpy%Sync LV Tags <br>
lvol1 4.00m 100.00 <br>
lvol0 4.00m tagA;tagB</p>

<p style="margin-left:11%; margin-top: 1em">But let&rsquo;s
still use the original &quot;,&quot; character for
list_item_separator for subsequent examples.</p>

<p style="margin-left:11%; margin-top: 1em">Format for any
of time values displayed in reports can be configured with
<b>report/time_format</b> configuretion setting. By default
complete date and time is displayed, including timezone.</p>

<p style="margin-left:11%; margin-top: 1em"># lvmconfig
--type full report/time_format <br>
time_format=&quot;%Y-%m-%d %T %z&quot;</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o+time
<br>
LV LSize Cpy%Sync CTime <br>
lvol1 4.00m 100.00 2016-08-29 12:53:36 +0200 <br>
lvol0 4.00m 2016-08-29 10:15:17 +0200</p>

<p style="margin-left:11%; margin-top: 1em">We can change
time format in similar way as we do when using
<b>date</b>(1) command or <b>strftime</b>(3) function
(<b>lvmconfig --type default --withcomments
report/time_format</b> will give you complete list of
available formatting options). In the example below, we
decided to use %s for number of seconds since Epoch
(1970-01-01 UTC).</p>

<p style="margin-left:11%; margin-top: 1em"># lvmconfig
--type full report/time_format <br>
time_format=&quot;%s&quot;</p>

<p style="margin-left:11%; margin-top: 1em"># lvs <br>
LV Attr LSize Cpy%Sync LV Tags CTime <br>
lvol1 rwi-a-r--- 4.00m 100.00 1472468016 <br>
lvol0 -wi-a----- 4.00m tagA,tagB 1472458517</p>

<p style="margin-left:11%; margin-top: 1em">The <b>lvs</b>
does not display hidden LVs by default - to include these
LVs in the output, you need to use <b>-a|--all</b> command
line option. Names for these hidden LVs are displayed within
square brackets.</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -a <br>
LV LSize Cpy%Sync <br>
lvol1 4.00m 100.00 <br>
[lvol1_rimage_0] 4.00m <br>
[lvol1_rmeta_0] 4.00m <br>
[lvol1_rimage_1] 4.00m <br>
[lvol1_rmeta_1] 4.00m <br>
lvol0 4.00m</p>

<p style="margin-left:11%; margin-top: 1em">You can
configure LVM to display the square brackets for hidden LVs
or not with <b>report/mark_hidden_devices</b> configuration
setting.</p>

<p style="margin-left:11%; margin-top: 1em"># lvmconfig
--type full report/mark_hidden_devices <br>
mark_hidden_devices=0</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -a <br>
LV LSize Cpy%Sync <br>
lvol1 4.00m 100.00 <br>
lvol1_rimage_0 4.00m <br>
lvol1_rmeta_0 4.00m <br>
lvol1_rimage_1 4.00m <br>
lvol1_rmeta_1 4.00m <br>
lvol0 4.00m</p>

<p style="margin-left:11%; margin-top: 1em">It&rsquo;s not
recommended to use LV marks for hidden devices to decide
whether the LV is the one to use by end users or not.
Please, use &quot;lv_role&quot; field instead which can
report whether the LV is &quot;public&quot; or
&quot;private&quot;. The private LVs are used by LVM only
and they should not be accessed directly by end users.</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -a
-o+lv_role <br>
LV LSize Cpy%Sync Role <br>
lvol1 4.00m 100.00 public <br>
lvol1_rimage_0 4.00m private,raid,image <br>
lvol1_rmeta_0 4.00m private,raid,metadata <br>
lvol1_rimage_1 4.00m private,raid,image <br>
lvol1_rmeta_1 4.00m private,raid,metadata <br>
lvol0 4.00m public</p>

<p style="margin-left:11%; margin-top: 1em">Some of the
reporting fields that LVM reports are of binary nature. For
such fields, it&rsquo;s either possible to display word
representation of the value (this is used by default) or
numeric value (0/1 or -1 in case the value is
undefined).</p>

<p style="margin-left:11%; margin-top: 1em"># lvs
-o+lv_active_locally <br>
LV LSize Cpy%Sync ActLocal <br>
lvol1 4.00m 100.00 active locally <br>
lvol0 4.00m active locally</p>

<p style="margin-left:11%; margin-top: 1em">We can change
the way how these binary values are displayed with
<b>report/binary_values_as_numeric</b> configuration
setting.</p>

<p style="margin-left:11%; margin-top: 1em"># lvmconfig
--type full report/binary_values_as_numeric <br>
binary_values_as_numeric=1</p>

<p style="margin-left:11%; margin-top: 1em"># lvs
-o+lv_active_locally <br>
LV LSize Cpy%Sync ActLocal <br>
lvol1 4.00m 100.00 1 <br>
lvol0 4.00m 1</p>

<p style="margin-left:11%; margin-top: 1em"><b>Changing
output format</b> <br>
LVM can output reports in different formats - use
<b>report/output_format</b> configuration setting (or
<b>--reportformat</b> command line option) to swith the
report output format. Currently, LVM supports
<b>&quot;basic&quot;</b> (all the examples we used above
used this format) and <b>&quot;JSON&quot;</b> output
format.</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
lv_name,lv_size --reportformat json <br>
{ <br>
&quot;report&quot;: [ <br>
{ <br>
&quot;lv&quot;: [ <br>
{&quot;lv_name&quot;:&quot;lvol1&quot;,
&quot;lv_size&quot;:&quot;4.00m&quot;}, <br>
{&quot;lv_name&quot;:&quot;lvol0&quot;,
&quot;lv_size&quot;:&quot;4.00m&quot;} <br>
] <br>
} <br>
] <br>
}</p>

<p style="margin-left:11%; margin-top: 1em">Note that some
configuration settings and command line options have no
effect with certain report formats. For example, with
<b>JSON</b> output, it doesn&rsquo;t have any meaning to use
<b>report/aligned</b> (<b>--aligned</b>),
<b>report/noheadings</b> (<b>--noheadings</b>),
<b>report/columns_as_rows</b> (<b>--rows</b>) or
<b>report/buffered</b> (<b>--unbuffered</b>). All these
configuration settings and command line options are ignored
if using the <b>JSON</b> report output format.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Selection</b>
<br>
If you need to select only specific rows from report, you
can use LVM&rsquo;s report selection feature. If you call
<b>&lt;lvm_command&gt; -S help</b>, you&rsquo;ll get quick
help on selection. The help contains list of all fields that
LVM can use in reports together with its type enclosed in
square brackets. The example below contains a line from lvs
-S help.</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -S help
<br>
... <br>
lv_size - Size of LV in current units. [size] <br>
...</p>

<p style="margin-left:11%; margin-top: 1em">This line tells
you you that the &quot;lv_size&quot; field is of
&quot;size&quot; type. If you look at the bottom of the help
output, you can see section about &quot;Selection
operators&quot; and its &quot;Comparison
operators&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -S help
<br>
... <br>
Selection operators <br>
------------------- <br>
Comparison operators: <br>
=~ - Matching regular expression. [regex] <br>
!~ - Not matching regular expression. [regex] <br>
= - Equal to. [number, size, percent, string, string list,
time] <br>
!= - Not equal to. [number, size, percent, string,
string_list, time] <br>
&gt;= - Greater than or equal to. [number, size, percent,
time] <br>
&gt; - Greater than. [number, size, percent, time] <br>
&lt;= - Less than or equal to. [number, size, percent, time]
<br>
&lt; - Less than. [number, size, percent, time] <br>
since - Since specified time (same as &rsquo;&gt;=&rsquo;).
[time] <br>
after - After specified time (same as &rsquo;&gt;&rsquo;).
[time] <br>
until - Until specified time (same as &rsquo;&lt;=&rsquo;).
[time] <br>
before - Before specified time (same as &rsquo;&lt;&rsquo;).
[time] <br>
...</p>

<p style="margin-left:11%; margin-top: 1em">Here you can
match comparison operators that you may use with the
&quot;lv_size&quot; field which is of type &quot;size&quot;
- it&rsquo;s =, !=, &gt;=, &gt;, &lt;= and &lt;. You can
find applicable comparison operators for other fields and
other field types the same way.</p>

<p style="margin-left:11%; margin-top: 1em">To demostrate
selection functionality in LVM, we will create more LVs in
addition to lvol0 and lvol1 we used in our previous
examples.</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,size,origin,snap_percent,tags,time <br>
LV LSize Origin Snap% LV Tags CTime <br>
lvol4 4.00m lvol2 24.61 2016-09-09 16:57:44 +0200 <br>
lvol3 4.00m lvol2 5.08 2016-09-09 16:56:48 +0200 <br>
lvol2 8.00m tagA,tagC,tagD 2016-09-09 16:55:12 +0200 <br>
lvol1 4.00m 2016-08-29 12:53:36 +0200 <br>
lvol0 4.00m tagA,tagB 2016-08-29 10:15:17 +0200</p>

<p style="margin-left:11%; margin-top: 1em">When selecting
size and percent fields, we don&rsquo;t need to use units.
For sizes, default &quot;m&quot; (for MiB) is used - this is
the same behaviour as already used for LVM commands when
specifying sizes (e.g. lvcreate -L). For percent fields,
&quot;%&quot; is assumed automatically if it&rsquo;s not
specified. The example below also demonstrates how several
criteria can be combined together.</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,size,snap_percent -S &rsquo;size=8m&rsquo; <br>
LV LSize <br>
lvol2 8.00m</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,size,snap_percent -S &rsquo;size=8&rsquo; <br>
LV LSize <br>
lvol2 8.00m</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,size,snap_percent -S &rsquo;size &lt; 5000k&rsquo; <br>
LV LSize Snap% <br>
lvol4 4.00m 24.61 <br>
lvol3 4.00m 5.08 <br>
lvol1 4.00m <br>
lvol0 4.00m</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,size,snap_percent -S &rsquo;size &lt; 5000k &amp;&amp;
snap_percent &gt; 20&rsquo; <br>
LV LSize Snap% <br>
lvol4 4.00m 24.61</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,size,snap_percent \ <br>
-S &rsquo;(size &lt; 5000k &amp;&amp; snap_percent &gt; 20%)
|| name=lvol2&rsquo; <br>
LV LSize Snap% <br>
lvol4 4.00m 24.61 <br>
lvol2 8.00m</p>

<p style="margin-left:11%; margin-top: 1em">You can also
use selection together with processing-oriented
commands.</p>

<p style="margin-left:11%; margin-top: 1em"># lvchange
--addtag test -S &rsquo;size &lt; 5000k&rsquo; <br>
Logical volume vg/lvol1 changed. <br>
Logical volume vg/lvol0 changed. <br>
Logical volume vg/lvol3 changed. <br>
Logical volume vg/lvol4 changed.</p>

<p style="margin-left:11%; margin-top: 1em"># lvchange
--deltag test -S &rsquo;tags = test&rsquo; <br>
Logical volume vg/lvol1 changed. <br>
Logical volume vg/lvol0 changed. <br>
Logical volume vg/lvol3 changed. <br>
Logical volume vg/lvol4 changed.</p>

<p style="margin-left:11%; margin-top: 1em">LVM can
recognize more complex values used in selection criteria for
string list and time field types. For string lists, you can
match whole list strictly, its subset or intersection.
Let&rsquo;s take &quot;lv_tags&quot; field as an example -
we select only rows which contain &quot;tagA&quot; within
tags field. We&rsquo;re using { } to denote that we&rsquo;re
interested in subset that matches. If the subset has only
one item, we can leave out { }.</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,tags -S &rsquo;tags={tagA}&rsquo; <br>
LV LV Tags <br>
lvol2 tagA,tagC,tagD <br>
lvol0 tagA,tagB</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,tags -S &rsquo;tags=tagA&rsquo; <br>
LV LV Tags <br>
lvol2 tagA,tagC,tagD <br>
lvol0 tagA,tagB</p>

<p style="margin-left:11%; margin-top: 1em">Depending on
whether we use &quot;&amp;&amp;&quot; (or &quot;,&quot;) or
&quot;||&quot; ( or &quot;#&quot;) as delimiter for items in
the set we define in selection criterion for string list, we
either match subset (&quot;&amp;&amp;&quot; or
&quot;,&quot;) or even intersection (&quot;||&quot; or
&quot;#&quot;).</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,tags -S &rsquo;tags={tagA,tagC,tagD}&rsquo; <br>
LV LV Tags <br>
lvol2 tagA,tagC,tagD</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,tags -S &rsquo;tags={tagA || tagC || tagD}&rsquo; <br>
LV LV Tags <br>
lvol2 tagA,tagC,tagD <br>
lvol0 tagA,tagB</p>

<p style="margin-left:11%; margin-top: 1em">To match the
complete set, use [ ] with &quot;&amp;&amp;&quot; (or
&quot;,&quot;) as delimiter for items. Also note that the
order in which we define items in the set is not
relevant.</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,tags -S &rsquo;tags=[tagA]&rsquo;</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,tags -S &rsquo;tags=[tagB,tagA]&rsquo; <br>
LV LV Tags <br>
lvol0 tagA,tagB</p>

<p style="margin-left:11%; margin-top: 1em">If you use [ ]
with &quot;||&quot; (or &quot;#&quot;), this is exactly the
same as using { }.</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,tags -S &rsquo;tags=[tagA || tagC || tagD]&rsquo; <br>
LV LV Tags <br>
lvol2 tagA,tagC,tagD <br>
lvol0 tagA,tagB</p>

<p style="margin-left:11%; margin-top: 1em">To match a set
with no items, use &quot;&quot; to denote this (note that we
have output compaction enabled so the &quot;LV Tags&quot;
column is not displayed in the example below because
it&rsquo;s blank and so it gets compacted).</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,tags -S &rsquo;tags=&quot;&quot;&rsquo; <br>
LV <br>
lvol4 <br>
lvol3 <br>
lvol1</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,tags -S &rsquo;tags!=&quot;&quot;&rsquo; <br>
LV LV Tags <br>
lvol2 tagA,tagC,tagD <br>
lvol0 tagA,tagB</p>

<p style="margin-left:11%; margin-top: 1em">When doing
selection based on time fields, we can use either standard,
absolute or freeform time expressions in selection criteria.
Examples below are using standard forms.</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,time <br>
LV CTime <br>
lvol4 2016-09-09 16:57:44 +0200 <br>
lvol3 2016-09-09 16:56:48 +0200 <br>
lvol2 2016-09-09 16:55:12 +0200 <br>
lvol1 2016-08-29 12:53:36 +0200 <br>
lvol0 2016-08-29 10:15:17 +0200</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,time -S &rsquo;time since &quot;2016-09-01&quot;&rsquo;
<br>
LV CTime <br>
lvol4 2016-09-09 16:57:44 +0200 <br>
lvol3 2016-09-09 16:56:48 +0200 <br>
lvol2 2016-09-09 16:55:12 +0200</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,time -S &rsquo;time since &quot;2016-09-09
16:56&quot;&rsquo; <br>
LV CTime <br>
lvol4 2016-09-09 16:57:44 +0200 <br>
lvol3 2016-09-09 16:56:48 +0200</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,time -S &rsquo;time since &quot;2016-09-09
16:57:30&quot;&rsquo; <br>
LV CTime <br>
lvol4 2016-09-09 16:57:44 +0200</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,time \ <br>
-S &rsquo;time since &quot;2016-08-29&quot; &amp;&amp; time
until &quot;2016-09-09 16:55:12&quot;&rsquo; <br>
LV CTime <br>
lvol2 2016-09-09 16:55:12 +0200 <br>
lvol1 2016-08-29 12:53:36 +0200 <br>
lvol0 2016-08-29 10:15:17 +0200</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,time \ <br>
-S &rsquo;time since &quot;2016-08-29&quot; &amp;&amp; time
before &quot;2016-09-09 16:55:12&quot;&rsquo; <br>
LV CTime <br>
lvol1 2016-08-29 12:53:36 +0200 <br>
lvol0 2016-08-29 10:15:17 +0200</p>

<p style="margin-left:11%; margin-top: 1em">Time operators
have synonyms: &quot;&gt;=&quot; for since,
&quot;&lt;=&quot; for until, &quot;&gt;&quot; for
&quot;after&quot; and &quot;&lt;&quot; for
&quot;before&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,time \ <br>
-S &rsquo;time &gt;= &quot;2016-08-29&quot; &amp;&amp; time
&lt;= &quot;2016-09-09 16:55:30&quot;&rsquo; <br>
LV CTime <br>
lvol2 2016-09-09 16:55:12 +0200 <br>
lvol1 2016-08-29 12:53:36 +0200 <br>
lvol0 2016-08-29 10:15:17 +0200</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,time \ <br>
-S &rsquo;time since &quot;2016-08-29&quot; &amp;&amp; time
&lt; &quot;2016-09-09 16:55:12&quot;&rsquo; <br>
LV CTime <br>
lvol1 2016-08-29 12:53:36 +0200 <br>
lvol0 2016-08-29 10:15:17 +0200</p>

<p style="margin-left:11%; margin-top: 1em">Example below
demonstrates using absolute time expression.</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,time --config report/time_format=&quot;%s&quot; <br>
LV CTime <br>
lvol4 1473433064 <br>
lvol3 1473433008 <br>
lvol2 1473432912 <br>
lvol1 1472468016 <br>
lvol0 1472458517</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,time -S &rsquo;time since @1473433008&rsquo; <br>
LV CTime <br>
lvol4 2016-09-09 16:57:44 +0200 <br>
lvol3 2016-09-09 16:56:48 +0200</p>

<p style="margin-left:11%; margin-top: 1em">Examples below
demonstrates using freeform time expressions.</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,time -S &rsquo;time since &quot;2 weeks
ago&quot;&rsquo; <br>
LV CTime <br>
lvol4 2016-09-09 16:57:44 +0200 <br>
lvol3 2016-09-09 16:56:48 +0200 <br>
lvol2 2016-09-09 16:55:12 +0200 <br>
lvol1 2016-08-29 12:53:36 +0200 <br>
lvol0 2016-08-29 10:15:17 +0200</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,time -S &rsquo;time since &quot;1 week ago&quot;&rsquo;
<br>
LV CTime <br>
lvol4 2016-09-09 16:57:44 +0200 <br>
lvol3 2016-09-09 16:56:48 +0200 <br>
lvol2 2016-09-09 16:55:12 +0200</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,time -S &rsquo;time since &quot;2 weeks
ago&quot;&rsquo; <br>
LV CTime <br>
lvol1 2016-08-29 12:53:36 +0200 <br>
lvol0 2016-08-29 10:15:17 +0200</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,time -S &rsquo;time before &quot;1 week
ago&quot;&rsquo; <br>
LV CTime <br>
lvol1 2016-08-29 12:53:36 +0200 <br>
lvol0 2016-08-29 10:15:17 +0200</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,time -S &rsquo;time since &quot;68 hours
ago&quot;&rsquo; <br>
LV CTime <br>
lvol4 2016-09-09 16:57:44 +0200 <br>
lvol3 2016-09-09 16:56:48 +0200 <br>
lvol2 2016-09-09 16:55:12 +0200</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
name,time -S &rsquo;time since &quot;1 year 3 months
ago&quot;&rsquo; <br>
LV CTime <br>
lvol4 2016-09-09 16:57:44 +0200 <br>
lvol3 2016-09-09 16:56:48 +0200 <br>
lvol2 2016-09-09 16:55:12 +0200 <br>
lvol1 2016-08-29 12:53:36 +0200 <br>
lvol0 2016-08-29 10:15:17 +0200</p>

<p style="margin-left:11%; margin-top: 1em"><b>Command log
reporting</b> <br>
As described in <b>categorization based on reporting
facility</b> section at the beginning of this document, both
<b>report-oriented</b> and <b>processing-oriented</b> LVM
commands can report the command log if this is enabled with
<b>log/report_command_log</b> configuration setting. Just
like any other report, we can set the set of fields to
display (<b>log/command_log_cols</b>) and to sort by
(<b>log/command_log_sort</b>) for this report.</p>

<p style="margin-left:11%; margin-top: 1em"># lvmconfig
--type full log/report_command_log log/command_log_cols \
<br>
log/command_log_sort log/command_log_selection <br>
report_command_log=1 <br>

command_log_cols=&quot;log_seq_num,log_type,log_context,log_object_type,
<br>
log_object_name,log_object_group,log_message, <br>
log_errno,log_ret_code&quot; <br>
command_log_sort=&quot;log_seq_num&quot; <br>
command_log_selection=&quot;!(log_type=status &amp;&amp;
message=success)&quot;</p>

<p style="margin-left:11%; margin-top: 1em"># lvs <br>
Logical Volume <br>
============== <br>
LV LSize Cpy%Sync <br>
lvol1 4.00m 100.00 <br>
lvol0 4.00m</p>

<p style="margin-left:11%; margin-top: 1em">Command Log
<br>
=========== <br>
Seq LogType Context ObjType ObjName ObjGrp Msg Errno
RetCode</p>

<p style="margin-left:11%; margin-top: 1em">As you can see,
the command log is empty (it contains only field names). By
default, LVM uses selection on the command log report and
this case no row matched the selection criteria, see also
<b>log report specifics</b> section in this document for
more information. We&rsquo;re displaying complete log report
in the example below where we can see that both LVs lvol0
and lvol1 were successfully processed as well as the VG vg
they are part of.</p>

<p style="margin-left:11%; margin-top: 1em"># lvmconfig
--type full log/command_log_selection <br>
command_log_selection=&quot;all&quot;</p>

<p style="margin-left:11%; margin-top: 1em"># lvs <br>
Logical Volume <br>
============== <br>
LV LSize Cpy%Sync <br>
lvol1 4.00m 100.00 <br>
lvol0 4.00m</p>

<p style="margin-left:11%; margin-top: 1em">Command Log
<br>
=========== <br>
Seq LogType Context ObjType ObjName ObjGrp Msg Errno RetCode
<br>
1 status processing lv lvol0 vg success 0 1 <br>
2 status processing lv lvol1 vg success 0 1 <br>
3 status processing vg vg success 0 1</p>

<p style="margin-left:11%; margin-top: 1em"># lvchange -an
vg/lvol1 <br>
Command Log <br>
=========== <br>
Seq LogType Context ObjType ObjName ObjGrp Msg Errno RetCode
<br>
1 status processing lv lvol1 vg success 0 1 <br>
2 status processing vg vg success 0 1</p>

<p style="margin-left:11%; margin-top: 1em"><b>Handling
multiple reports per single command</b> <br>
To configure the log report directly on command line, we
need to use <b>--configreport</b> option before we start any
<b>-o|--options</b>, <b>-O|--sort</b> or <b>-S|--select</b>
that is targeted for log report.</p>

<p style="margin-left:11%; margin-top: 1em"># lvs -o
lv_name,lv_size --configreport log -o log_object_type, \
<br>
log_object_name,log_message,log_ret_code <br>
Logical Volume <br>
============== <br>
LV LSize <br>
lvol1 4.00m <br>
lvol0 4.00m</p>

<p style="margin-left:11%; margin-top: 1em">Command Log
<br>
=========== <br>
ObjType ObjName Msg RetCode <br>
lv lvol0 success 1 <br>
lv lvol1 success 1 <br>
vg vg success 1</p>

<p style="margin-left:11%; margin-top: 1em">The <b>lvm
fullreport</b>, with or without log report, consists of
several reports - the <b>--configreport</b> is also used to
target particular subreport here.</p>

<p style="margin-left:11%; margin-top: 1em">Below is an
extended example with <b>lvm fullreport</b> to illustrate
combination of various options. The report output is in JSON
format. Also, we configure &quot;vg&quot;,
&quot;pvseg&quot;, &quot;seg&quot; and &quot;log&quot;
subreport to contain only specified fields. For the
&quot;pvseg&quot; subreport, we&rsquo;re intested only in PV
names having &quot;sda&quot; in their name. For the
&quot;log&quot; subreport we&rsquo;re intested only in log
lines related to either &quot;lvol0&quot; object or object
having &quot;sda&quot; in its name. Also, for the log
subreport we define ordering to be based on
&quot;log_object_type&quot; field.</p>

<p style="margin-left:11%; margin-top: 1em"># lvm
fullreport --reportformat json \ <br>
--configreport vg -o vg_name,vg_size \ <br>
--configreport pvseg -o pv_name,pvseg_start \ <br>
-S &rsquo;pv_name=~sda&rsquo; \ <br>
--configreport seg -o lv_name,seg_start \ <br>
--configreport log -o log_object_type,log_object_name \ <br>
-O log_object_type \ <br>
-S &rsquo;log_object_name=lvol0 || \ <br>
log_object_name=~sda&rsquo; <br>
{ <br>
&quot;report&quot;: [ <br>
{ <br>
&quot;vg&quot;: [ <br>
{&quot;vg_name&quot;:&quot;vg&quot;,
&quot;vg_size&quot;:&quot;200.00m&quot;} <br>
] <br>
, <br>
&quot;pv&quot;: [ <br>
{&quot;pv_name&quot;:&quot;/dev/sda&quot;,
&quot;vg_name&quot;:&quot;vg&quot;}, <br>
{&quot;pv_name&quot;:&quot;/dev/sdb&quot;,
&quot;vg_name&quot;:&quot;vg&quot;} <br>
] <br>
, <br>
&quot;lv&quot;: [ <br>
{&quot;lv_name&quot;:&quot;lvol0&quot;,
&quot;vg_name&quot;:&quot;vg&quot;}, <br>
{&quot;lv_name&quot;:&quot;lvol1&quot;,
&quot;vg_name&quot;:&quot;vg&quot;} <br>
] <br>
, <br>
&quot;pvseg&quot;: [ <br>
{&quot;pv_name&quot;:&quot;/dev/sda&quot;,
&quot;pvseg_start&quot;:&quot;0&quot;}, <br>
{&quot;pv_name&quot;:&quot;/dev/sda&quot;,
&quot;pvseg_start&quot;:&quot;1&quot;}, <br>
{&quot;pv_name&quot;:&quot;/dev/sda&quot;,
&quot;pvseg_start&quot;:&quot;2&quot;}, <br>
{&quot;pv_name&quot;:&quot;/dev/sda&quot;,
&quot;pvseg_start&quot;:&quot;3&quot;} <br>
] <br>
, <br>
&quot;seg&quot;: [ <br>
{&quot;lv_name&quot;:&quot;lvol0&quot;,
&quot;seg_start&quot;:&quot;0 &quot;}, <br>
{&quot;lv_name&quot;:&quot;lvol1&quot;,
&quot;seg_start&quot;:&quot;0 &quot;} <br>
] <br>
} <br>
] <br>
, <br>
&quot;log&quot;: [ <br>
{&quot;log_object_type&quot;:&quot;lv&quot;,
&quot;log_object_name&quot;:&quot;lvol0&quot;}, <br>
{&quot;log_object_type&quot;:&quot;lv&quot;,
&quot;log_object_name&quot;:&quot;lvol0&quot;}, <br>
{&quot;log_object_type&quot;:&quot;pv&quot;,
&quot;log_object_name&quot;:&quot;/dev/sda&quot;}, <br>
{&quot;log_object_type&quot;:&quot;pv&quot;,
&quot;log_object_name&quot;:&quot;/dev/sda&quot;}, <br>
] <br>
}</p>

<p style="margin-left:11%; margin-top: 1em"><b>Report
extensions for LVM shell</b> <br>
As already stated in <b>log report coverage</b> paragraph
under <b>log report specifics</b> in this documentation,
when using <b>LVM shell</b> the <b>log report</b> coverage
is wider. There&rsquo;s also special command designed to
query last command&rsquo;s log report in the <b>LVM
shell</b> - the <b>lastlog</b> command.</p>

<p style="margin-left:11%; margin-top: 1em">The example
below illustrates a situation where we called lvs command.
After that, we inspected the log report with the
<b>lastlog</b>, without any selection so all the log report
is displayed on output. Then we called <b>lastlog</b>
further, giving various selection criteria. Then we ran
unknown LVM command &quot;abc&quot; for which the log report
displays appropriate failure state.</p>

<p style="margin-left:11%; margin-top: 1em"># lvm <br>
lvm&gt; lvs <br>
Logical Volume <br>
============== <br>
LV LSize Cpy%Sync <br>
lvol1 4.00m 100.00 <br>
lvol0 4.00m</p>

<p style="margin-left:11%; margin-top: 1em">Command Log
<br>
=========== <br>
Seq LogType Context ObjType ObjName ObjGrp Msg Errno RetCode
<br>
1 status processing lv lvol0 vg success 0 1 <br>
2 status processing lv lvol1 vg success 0 1 <br>
3 status processing vg vg success 0 1 <br>
4 status shell cmd lvs success 0 1</p>

<p style="margin-left:11%; margin-top: 1em">lvm&gt; lastlog
<br>
Command Log <br>
=========== <br>
Seq LogType Context ObjType ObjName ObjGrp Msg Errno RetCode
<br>
1 status processing lv lvol0 vg success 0 1 <br>
2 status processing lv lvol1 vg success 0 1 <br>
3 status processing vg vg success 0 1 <br>
4 status shell cmd lvs success 0 1</p>

<p style="margin-left:11%; margin-top: 1em">lvm&gt; lastlog
-S log_object_type=lv <br>
Command Log <br>
=========== <br>
Seq LogType Context ObjType ObjName ObjGrp Msg Errno RetCode
<br>
1 status processing lv lvol0 vg success 0 1 <br>
2 status processing lv lvol1 vg success 0 1</p>

<p style="margin-left:11%; margin-top: 1em">lvm&gt; lastlog
-S log_context=shell <br>
Command Log <br>
=========== <br>
Seq LogType Context ObjType ObjName ObjGrp Msg Errno RetCode
<br>
4 status shell cmd lvs success 0 1</p>

<p style="margin-left:11%; margin-top: 1em">lvm&gt; abc
<br>
Command Log <br>
=========== <br>
Seq LogType Context ObjType ObjName ObjGrp Msg Errno RetCode
<br>
1 error shell cmd abc No such command &rsquo;abc&rsquo;. Try
&rsquo;help&rsquo;. -1 0 <br>
2 status shell cmd abc failure -1 2</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>lvm</b> (8),
<b>lvmconfig</b> (8), <b>lvm fullreport</b> (8)</p>
<hr>
</body>
</html>
