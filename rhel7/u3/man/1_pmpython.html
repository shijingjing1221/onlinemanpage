<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:10:45 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PMPYTHON</title>

</head>
<body>

<h1 align="center">PMPYTHON</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#PCP ENVIRONMENT">PCP ENVIRONMENT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pmpython</b>
&minus; run a python script using a preferred python
variant</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pmpython</b>
[<i>python-args-and-script</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pmpython</b>
provides a way to run python scripts using a customisable
python interpreter, rather than embedding the name of a
particular version of python into each script.</p>

<p style="margin-left:11%; margin-top: 1em">This can be
useful as it allows version-independent python code to be
run anywhere. All python modules shipped with PCP support
versions 2.6 and later (in the python2 series), and 3.3 and
later (in the python3 release series).</p>

<p style="margin-left:11%; margin-top: 1em">Due to python
monitoring and collecting scripts being relatively simple in
PCP (not requiring new modules, language features, etc), it
has been possible to ensure they work for all of the above
python versions.</p>

<p style="margin-left:11%; margin-top: 1em">However, the
name of the python interpreter is not always the same, thus,
it is common for PCP python scripts to use a
&ldquo;shebang&rdquo; line that launches the <b>python</b>
interpreter indirectly as follows:</p>

<pre style="margin-left:15%; margin-top: 1em">#!/usr/bin/env pmpython</pre>


<p style="margin-left:11%; margin-top: 1em"><b>env</b>(1)
is used to find the correct path for the <b>pmpython</b>
executable from the user&rsquo;s <b>$PATH</b>.</p>

<p style="margin-left:11%; margin-top: 1em">By default the
name of the python interpreter is found from the the value
of <b>$PCP_PYTHON_PROG</b> from the environment (if set)
else from <i>/etc/pcp.conf</i>. The latter is the more
typical case where this value is based on some heuristics
about the platform at the time the PCP packages were build
and favour the use of <i>python3</i> in all recent releases
of PCP (for those platforms that support it).</p>

<p style="margin-left:11%; margin-top: 1em">This allows an
appropriate name to be used for the python interpreter
instead of a hard-coded python version name, while still
allowing the user to override the python interpreter as
follows:</p>

<pre style="margin-left:15%; margin-top: 1em">$ PCP_PYTHON_PROG=python3 pmpython --version
Python 3.4.2
$ PCP_PYTHON_PROG=python2 pmpython --version
Python 2.7.9</pre>


<p style="margin-left:11%; margin-top: 1em">This is
convenient for shipping identical scripts on multiple
platforms, and for testing different python versions with
the one script (e.g. in the case where multiple versions of
python are installed, PCP_PYTHON_PROG can be set in the
local environment to override the global setting).</p>


<p style="margin-left:11%; margin-top: 1em"><b>pmpython</b>
is a replacement for an earlier tool with similar function,
namely <b>pcp-python</b>(1).</p>

<h2>PCP ENVIRONMENT
<a name="PCP ENVIRONMENT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Environment
variables with the prefix <b>PCP_</b> are used to
parameterize the file and directory names used by PCP. On
each installation, the file <i>/etc/pcp.conf</i> contains
the local values for these variables. The <b>$PCP_CONF</b>
variable may be used to specify an alternative configuration
file, as described in <b>pcp.conf</b>(5).</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>env</b>(1),
<b>pcp</b>(1), <b>pcp-python</b>(1) and
<b>PCPIntro</b>(1).</p>
<hr>
</body>
</html>
