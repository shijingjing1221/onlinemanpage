<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:37:41 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PKI &minus;&minus;SIGNCRL</title>

</head>
<body>

<h1 align="center">PKI &minus;&minus;SIGNCRL</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">pki
&minus;&minus;signcrl &minus; Issue a Certificate Revocation
List (CRL) using a CA certificate and key</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">



<p style="margin-top: 1em"><b>pki&nbsp;&minus;&minus;signcrl</b></p> </td>
<td width="1%"></td>
<td width="68%">



<p style="margin-top: 1em"><b>&minus;&minus;cakey&nbsp;</b><i>file</i><b>|&minus;&minus;cakeyid&nbsp;</b><i>hex</i>
<b>&minus;&minus;cacert&nbsp;</b><i>file</i>
[<b>&minus;&minus;lifetime&nbsp;</b><i>days</i>]
[<b>&minus;&minus;this-update&nbsp;</b><i>datetime</i>]
[<b>&minus;&minus;next-update&nbsp;</b><i>datetime</i>]
[<b>&minus;&minus;lastcrl&nbsp;</b><i>crl</i>]
[<b>&minus;&minus;basecrl&nbsp;</b><i>crl</i>]
[<b>&minus;&minus;crluri&nbsp;</b><i>uri</i>]
[<b>&minus;&minus;digest&nbsp;</b><i>digest</i>]
[[<b>&minus;&minus;reason&nbsp;</b><i>reason</i>]&nbsp;[<b>&minus;&minus;date&nbsp;</b><i>ts</i>]&nbsp;<b>&minus;&minus;cert&nbsp;</b><i>file</i><b>|&minus;&minus;serial&nbsp;</b><i>hex</i>]
[<b>&minus;&minus;outform&nbsp;</b><i>encoding</i>]
[<b>&minus;&minus;debug&nbsp;</b><i>level</i>]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">



<p style="margin-top: 1em"><b>pki&nbsp;&minus;&minus;signcrl</b></p> </td>
<td width="1%"></td>
<td width="68%">



<p style="margin-top: 1em"><b>&minus;&minus;options&nbsp;</b><i>file</i></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p style="margin-top: 1em"><b>pki
&minus;&minus;signcrl</b></p> </td>
<td width="1%"></td>
<td width="68%">


<p style="margin-top: 1em"><b>&minus;h</b> |
<b>&minus;&minus;help</b></p> </td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This
sub-command of <b>pki</b>(1) is used to issue a Certificate
Revocation List (CRL) using a CA certificate and private
key.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;h,
&minus;&minus;help</b></p>

<p style="margin-left:22%;">Print usage information with a
summary of the available options.</p>

<p style="margin-left:11%;"><b>&minus;v,
&minus;&minus;debug</b> <i>level</i></p>

<p style="margin-left:22%;">Set debug level, default:
1.</p>

<p style="margin-left:11%;"><b>&minus;+,
&minus;&minus;options</b> <i>file</i></p>

<p style="margin-left:22%;">Read command line options from
<i>file</i>.</p>

<p style="margin-left:11%;"><b>&minus;k,
&minus;&minus;cakey</b> <i>file</i></p>

<p style="margin-left:22%;">CA private key file. Either
this or <b>&minus;&minus;cakeyid</b> is required.</p>

<p style="margin-left:11%;"><b>&minus;x,
&minus;&minus;cakeyid</b> <i>hex</i></p>

<p style="margin-left:22%;">Key ID of a CA private key on a
smartcard. Either this or <b>&minus;&minus;cakey</b> is
required.</p>

<p style="margin-left:11%;"><b>&minus;c,
&minus;&minus;cacert</b> <i>file</i></p>

<p style="margin-left:22%;">CA certificate file.
Required.</p>

<p style="margin-left:11%;"><b>&minus;l,
&minus;&minus;lifetime</b> <i>days</i></p>

<p style="margin-left:22%;">Days until the CRL gets a
nextUpdate, default: 15. Ignored if both an absolute start
and end time are given.</p>

<p style="margin-left:11%;"><b>&minus;F,
&minus;&minus;this-update</b> <i>datetime</i></p>

<p style="margin-left:22%;">Absolute time when the validity
of the CRL begins. The datetime format is defined by the
<b>&minus;&minus;dateform</b> option.</p>

<p style="margin-left:11%;"><b>&minus;T,
&minus;&minus;next-update</b> <i>datetime</i></p>

<p style="margin-left:22%;">Absolute time when the validity
of the CRL end. The datetime format is defined by the
<b>&minus;&minus;dateform</b> option.</p>

<p style="margin-left:11%;"><b>&minus;D,
&minus;&minus;dateform</b> <i>form</i></p>

<p style="margin-left:22%;">strptime(3) format for the
<b>&minus;&minus;this&minus;update</b> and
<b>&minus;&minus;next&minus;update</b> options, default:
<b>%d.%m.%y %T</b></p>

<p style="margin-left:11%;"><b>&minus;a,
&minus;&minus;lastcrl</b> <i>crl</i></p>

<p style="margin-left:22%;">CRL of lastUpdate to copy
revocations from.</p>

<p style="margin-left:11%;"><b>&minus;b,
&minus;&minus;basecrl</b> <i>crl</i></p>

<p style="margin-left:22%;">Base CRL to create a delta CRL
for.</p>

<p style="margin-left:11%;"><b>&minus;u,
&minus;&minus;crluri</b> <i>uri</i></p>

<p style="margin-left:22%;">Freshest delta CRL URI to
include in CRL. Can be used multiple times.</p>

<p style="margin-left:11%;"><b>&minus;g,
&minus;&minus;digest</b> <i>digest</i></p>

<p style="margin-left:22%;">Digest to use for signature
creation. One of <i>md5</i>, <i>sha1</i>, <i>sha224</i>,
<i>sha256</i>, <i>sha384</i>, or <i>sha512</i>. Defaults to
<i>sha1</i>.</p>

<p style="margin-left:11%;"><b>&minus;f,
&minus;&minus;outform</b> <i>encoding</i></p>

<p style="margin-left:22%;">Encoding of the created
certificate file. Either <i>der</i> (ASN.1 DER) or
<i>pem</i> (Base64 PEM), defaults to <i>der</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Revoked
Certificates</b> <br>
Multiple revoked certificates can be added to the CRL by
either providing the certificate file or the respective
serial number directly. A reason and a timestamp can be
configured for each revocation (they have to be given before
each certificate/serial on the command line). <b><br>
&minus;r, &minus;&minus;reason</b> <i>reason</i></p>

<p style="margin-left:22%;">The reason why the certificate
was revoked. One of <i>key&minus;compromise</i>,
<i>ca&minus;compromise</i>,
<i>affiliation&minus;changed</i>, <i>superseded</i>,
<i>cessation&minus;of&minus;operation</i>, or
<i>certificate&minus;hold</i>.</p>

<p style="margin-left:11%;"><b>&minus;d,
&minus;&minus;date</b> <i>ts</i></p>

<p style="margin-left:22%;">Revocation date as Unix
timestamp. Defaults to the current time.</p>

<p style="margin-left:11%;"><b>&minus;z,
&minus;&minus;cert</b> <i>file</i></p>

<p style="margin-left:22%;">Certificate file to revoke.</p>

<p style="margin-left:11%;"><b>&minus;s,
&minus;&minus;serial</b> <i>hex</i></p>

<p style="margin-left:22%;">Hexadecimal encoded serial
number of the certificate to revoke.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Revoke a
certificate:</p>

<pre style="margin-left:11%; margin-top: 1em">  pki &minus;&minus;signcrl &minus;&minus;cacert ca_cert.der &minus;&minus;cakey ca_key.der \
      &minus;&minus;reason superseded &minus;&minus;cert cert.der &gt; crl.der</pre>


<p style="margin-left:11%; margin-top: 1em">Update an
existing CRL with two new revocations, using the
certificate&rsquo;s serial number, but no reason:</p>

<pre style="margin-left:11%; margin-top: 1em">  pki &minus;&minus;signcrl &minus;&minus;cacert ca_cert.der &minus;&minus;cakey ca_key.der \
      &minus;&minus;lastcrl old_crl.der &minus;&minus;serial 0123 &minus;&minus;serial 0345 &gt; crl.der</pre>


<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pki</b>(1)</p>
<hr>
</body>
</html>
