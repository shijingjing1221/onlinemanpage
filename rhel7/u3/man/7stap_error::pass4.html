<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 21:20:52 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>ERROR::PASS4</title>

</head>
<body>

<h1 align="center">ERROR::PASS4</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">error::pass4
&minus; systemtap pass-4 errors</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Errors that
occur during pass 4 (compilation) have generally only a few
causes: <br>
kernel or OS version changes</p>

<p style="margin-left:22%;">The systemtap runtime and
embedded-C fragments in the tapset library are designed to
be portable across a wide range of OS versions. However,
incompatibilities can occur when some OS changes occur, such
as kernel modifications that change functions, types, or
macros referenced by systemtap. Upstream
(git://sourceware.org/git/systemtap.git) builds of systemtap
are often quickly updated to include relevant fixes, so try
getting or making an updated build. Reworded: <b>build
systemtap from git for use with very young kernels</b>. If
the issue persists, report the problem to the systemtap
developers.</p>

<p style="margin-left:11%;">buggy embedded-C code</p>

<p style="margin-left:22%;">Embedded-C code in your own
guru-mode script cannot be checked by systemtap, and is
passed through verbatim to the compiler. Errors in such
snippets of code may be found during the pass-4 compiler
invocation, though may be hard to identify by the compiler
errors.</p>

<p style="margin-left:11%;">incompatible embedded-C
code</p>

<p style="margin-left:22%;">The interface standards between
systemtap-generated code and embedded-C code occasionally
change. For example, before version 1.8, arguments were
passed using macros <i>THIS-&gt;foo</i> and
<i>THIS-&gt;__retvalue</i> but from version 1.8 onward,
using <i>STAP_ARG_foo</i> and <i>STAP_RETVALUE</i>. Adjust
your embedded-C code to current standards, or use the
<i>stap --compatible=VERSION</i> option to make systemtap
use a different one.</p>

<p style="margin-left:11%;">compiler bugs and mysteries</p>

<p style="margin-left:22%;">Messages such as &quot;internal
compiler error&quot; suggest compiler problems. These should
be reported to the compiler developers in the form of a
preprocessed <i>.i</i> file, plus the compiler command line.
To gather relevant information, run</p>

<p style="margin-left:22%; margin-top: 1em">stap -k --vp
0003 -p4 ....</p>

<p style="margin-left:22%; margin-top: 1em">Systemtap will
report the saved temporary directory, and the compiler
command line it attempted. Go to the directory to find he
main generated file <i>stap_NNNNN_src.c</i>. Force the
compiler to produce a preprocessed file with:</p>

<p style="margin-left:22%; margin-top: 1em">make -C
/lib/modules/&lsquo;uname -r&lsquo;/build
M=&lsquo;pwd&lsquo; stap_NNNNN_src.i</p>

<p style="margin-left:22%; margin-top: 1em">(note the
<i>.i</i> suffix), and the compiler command line should be
in the file <i>.stap_NNNNN_src.i.cmd</i>.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>stap</i>(1),
<i><br>
 error::reporting</i>(7stap)</p>
<hr>
</body>
</html>
