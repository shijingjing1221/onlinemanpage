<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 21:53:26 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>LOG2PCAP</title>

</head>
<body>

<h1 align="center">LOG2PCAP</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#VERSION">VERSION</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">log2pcap
&minus; Extract network traces from Samba log files</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="61%">


<p style="margin-top: 1em">log2pcap [&minus;h] [&minus;q]
[logfile] [pcap_file]</p></td>
<td width="28%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This tool is
part of the <b>samba</b>(7) suite.</p>

<p style="margin-left:11%; margin-top: 1em">log2pcap reads
in a samba log file and generates a pcap file (readable by
most sniffers, such as ethereal or tcpdump) based on the
packet dumps in the log file.</p>

<p style="margin-left:11%; margin-top: 1em">The log file
must have a <i>log level</i> of at least <b>5</b> to get the
SMB header/parameters right, <b>10</b> to get the first 512
data bytes of the packet and <b>50</b> to get the whole
packet.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">&minus;h</p>

<p style="margin-left:17%;">If this parameter is specified
the output file will be a hex dump, in a format that is
readable by the text2pcap utility.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;q</p>

<p style="margin-left:17%;">Be quiet. No warning messages
about missing or incomplete data will be given.</p>

<p style="margin-left:11%; margin-top: 1em">logfile</p>

<p style="margin-left:17%;">Samba log file. log2pcap will
try to read the log from stdin if the log file is not
specified.</p>

<p style="margin-left:11%; margin-top: 1em">pcap_file</p>

<p style="margin-left:17%;">Name of the output file to
write the pcap (or hexdump) data to. If this argument is not
specified, output data will be written to stdout.</p>


<p style="margin-left:11%; margin-top: 1em">&minus;?|&minus;&minus;help</p>

<p style="margin-left:17%;">Print a summary of command line
options.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Extract all
network traffic from all samba log files:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">
</td>
<td width="8%">
</td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="8%"></td>
<td width="69%">


<p>$ log2pcap &lt; /var/log/* &gt; trace.pcap</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Convert to pcap
using text2pcap:</p>

<p style="margin-left:17%; margin-top: 1em">$ log2pcap
&minus;h samba.log | text2pcap &minus;T 139,139 &minus;
trace.pcap</p>

<h2>VERSION
<a name="VERSION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This man page
is correct for version 3 of the Samba suite.</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Only SMB data
is extracted from the samba logs, no LDAP, NetBIOS lookup or
other data.</p>

<p style="margin-left:11%; margin-top: 1em">The generated
TCP and IP headers don't contain a valid checksum.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>text2pcap</b>(1),
<b>ethereal</b>(1)</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The original
Samba software and related utilities were created by Andrew
Tridgell. Samba is now developed by the Samba Team as an
Open Source project similar to the way the Linux kernel is
developed.</p>

<p style="margin-left:11%; margin-top: 1em">This manpage
was written by Jelmer Vernooij.</p>
<hr>
</body>
</html>
