<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 21:44:24 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>ipa-server-install</title>

</head>
<body>

<h1 align="center">ipa-server-install</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#DEPRECATED OPTIONS">DEPRECATED OPTIONS</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">ipa&minus;server&minus;install
&minus; Configure an IPA server</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">ipa&minus;server&minus;install
[<i>OPTION</i>]...</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Configures the
services needed by an IPA server. This includes setting up a
Kerberos Key Distribution Center (KDC) and a Kadmin daemon
with an LDAP back&minus;end, configuring Apache, configuring
NTP and optionally configuring and starting an LDAP-backed
DNS server. By default a dogtag&minus;based CA will be
configured to issue server certificates.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>BASIC
OPTIONS <br>
&minus;r</b> <i>REALM_NAME</i>,
<b>&minus;&minus;realm</b>=<i>REALM_NAME</i></p>

<p style="margin-left:22%;">The Kerberos realm name for the
IPA server. You will not be able to estabilish trust with
Active Directory unless the realm name is uppercased domain
name.</p>

<p style="margin-left:11%;"><b>&minus;n</b>
<i>DOMAIN_NAME</i>,
<b>&minus;&minus;domain</b>=<i>DOMAIN_NAME</i></p>

<p style="margin-left:22%;">Your DNS domain name</p>

<p style="margin-left:11%;"><b>&minus;p</b>
<i>DM_PASSWORD</i>,
<b>&minus;&minus;ds&minus;password</b>=<i>DM_PASSWORD</i></p>

<p style="margin-left:22%;">The password to be used by the
Directory Server for the Directory Manager user</p>

<p style="margin-left:11%;"><b>&minus;a</b>
<i>ADMIN_PASSWORD</i>,
<b>&minus;&minus;admin&minus;password</b>=<i>ADMIN_PASSWORD</i></p>

<p style="margin-left:22%;">The password for the IPA admin
user</p>


<p style="margin-left:11%;"><b>&minus;&minus;mkhomedir</b></p>

<p style="margin-left:22%;">Create home directories for
users on their first login</p>


<p style="margin-left:11%;"><b>&minus;&minus;hostname</b>=<i>HOST_NAME</i></p>

<p style="margin-left:22%;">The fully&minus;qualified DNS
name of this server. If the hostname does not match system
hostname, the system hostname will be updated accordingly to
prevent service failures.</p>


<p style="margin-left:11%;"><b>&minus;&minus;ip&minus;address</b>=<i>IP_ADDRESS</i></p>

<p style="margin-left:22%;">The IP address of this server.
If this address does not match the address the host resolves
to and &minus;&minus;setup&minus;dns is not selected the
installation will fail. If the server hostname is not
resolvable, a record for the hostname and IP_ADDRESS is
added to /etc/hosts. This this option can be used multiple
times to specify more IP addresses of the server (e.g.
multihomed and/or dualstacked server).</p>

<p style="margin-left:11%;"><b>&minus;N</b>,
<b>&minus;&minus;no&minus;ntp</b></p>

<p style="margin-left:22%;">Do not configure NTP</p>


<p style="margin-left:11%;"><b>&minus;&minus;idstart</b>=<i>IDSTART</i></p>

<p style="margin-left:22%;">The starting user and group id
number (default random)</p>


<p style="margin-left:11%;"><b>&minus;&minus;idmax</b>=<i>IDMAX</i></p>

<p style="margin-left:22%;">The maximum user and group id
number (default: idstart+199999). If set to zero, the
default value will be used.</p>


<p style="margin-left:11%;"><b>&minus;&minus;no_hbac_allow</b></p>

<p style="margin-left:22%;">Don&rsquo;t install allow_all
HBAC rule. This rule lets any user from any host access any
service on any other host. It is expected that users will
remove this rule before moving to production.</p>


<p style="margin-left:11%;"><b>&minus;&minus;ignore-topology-disconnect</b></p>

<p style="margin-left:22%;">Ignore errors reported when IPA
server uninstall would lead to disconnected topology. This
option can be used only when domain level is 1 or more.</p>


<p style="margin-left:11%;"><b>&minus;&minus;no&minus;ui&minus;redirect</b></p>

<p style="margin-left:22%;">Do not automatically redirect
to the Web UI.</p>


<p style="margin-left:11%;"><b>&minus;&minus;ssh&minus;trust&minus;dns</b></p>

<p style="margin-left:22%;">Configure OpenSSH client to
trust DNS SSHFP records.</p>


<p style="margin-left:11%;"><b>&minus;&minus;no&minus;ssh</b></p>

<p style="margin-left:22%;">Do not configure OpenSSH
client.</p>


<p style="margin-left:11%;"><b>&minus;&minus;no&minus;sshd</b></p>

<p style="margin-left:22%;">Do not configure OpenSSH
server.</p>

<p style="margin-left:11%;"><b>&minus;d</b>,
<b>&minus;&minus;debug</b></p>

<p style="margin-left:22%;">Enable debug logging when more
verbose output is needed</p>

<p style="margin-left:11%;"><b>&minus;U</b>,
<b>&minus;&minus;unattended</b></p>

<p style="margin-left:22%;">An unattended installation that
will never prompt for user input</p>


<p style="margin-left:11%;"><b>&minus;&minus;dirsrv&minus;config&minus;file</b></p>

<p style="margin-left:22%;">The path to LDIF file that will
be used to modify configuration of dse.ldif during
installation of the directory server instance</p>

<p style="margin-left:11%; margin-top: 1em"><b>CERTIFICATE
SYSTEM OPTIONS <br>
&minus;&minus;external&minus;ca</b></p>

<p style="margin-left:22%;">Generate a CSR for the IPA CA
certificate to be signed by an external CA.</p>


<p style="margin-left:11%;"><b>&minus;&minus;external&minus;ca&minus;type</b>=<i>TYPE</i></p>

<p style="margin-left:22%;">Type of the external CA.
Possible values are &quot;generic&quot;, &quot;ms-cs&quot;.
Default value is &quot;generic&quot;. Use &quot;ms-cs&quot;
to include template name required by Microsoft Certificate
Services (MS CS) in the generated CSR.</p>


<p style="margin-left:11%;"><b>&minus;&minus;external&minus;cert&minus;file</b>=<i>FILE</i></p>

<p style="margin-left:22%;">File containing the IPA CA
certificate and the external CA certificate chain. The file
is accepted in PEM and DER certificate and PKCS#7
certificate chain formats. This option may be used multiple
times.</p>


<p style="margin-left:11%;"><b>&minus;&minus;dirsrv&minus;cert&minus;file</b>=<i>FILE</i></p>

<p style="margin-left:22%;">File containing the Directory
Server SSL certificate and private key. The files are
accepted in PEM and DER certificate, PKCS#7 certificate
chain, PKCS#8 and raw private key and PKCS#12 formats. This
option may be used multiple times.</p>


<p style="margin-left:11%;"><b>&minus;&minus;http&minus;cert&minus;file</b>=<i>FILE</i></p>

<p style="margin-left:22%;">File containing the Apache
Server SSL certificate and private key. The files are
accepted in PEM and DER certificate, PKCS#7 certificate
chain, PKCS#8 and raw private key and PKCS#12 formats. This
option may be used multiple times.</p>


<p style="margin-left:11%;"><b>&minus;&minus;dirsrv&minus;pin</b>=<i>PIN</i></p>

<p style="margin-left:22%;">The password to unlock the
Directory Server private key</p>


<p style="margin-left:11%;"><b>&minus;&minus;http&minus;pin</b>=<i>PIN</i></p>

<p style="margin-left:22%;">The password to unlock the
Apache Server private key</p>


<p style="margin-left:11%;"><b>&minus;&minus;dirsrv&minus;cert&minus;name</b>=<i>NAME</i></p>

<p style="margin-left:22%;">Name of the Directory Server
SSL certificate to install</p>


<p style="margin-left:11%;"><b>&minus;&minus;http&minus;cert&minus;name</b>=<i>NAME</i></p>

<p style="margin-left:22%;">Name of the Apache Server SSL
certificate to install</p>


<p style="margin-left:11%;"><b>&minus;&minus;ca&minus;cert&minus;file</b>=<i>FILE</i></p>

<p style="margin-left:22%;">File containing the CA
certificate of the CA which issued the Directory Server,
Apache Server and Kerberos KDC certificates. The file is
accepted in PEM and DER certificate and PKCS#7 certificate
chain formats. This option may be used multiple times. Use
this option if the CA certificate is not present in the
certificate files.</p>


<p style="margin-left:11%;"><b>&minus;&minus;subject</b>=<i>SUBJECT</i></p>

<p style="margin-left:22%;">The certificate subject base
(default O=REALM.NAME)</p>


<p style="margin-left:11%;"><b>&minus;&minus;ca&minus;signing&minus;algorithm</b>=<i>ALGORITHM</i></p>

<p style="margin-left:22%;">Signing algorithm of the IPA CA
certificate. Possible values are SHA1withRSA, SHA256withRSA,
SHA512withRSA. Default value is SHA256withRSA. Use this
option with --external-ca if the external CA does not
support the default signing algorithm.</p>

<p style="margin-left:11%; margin-top: 1em"><b>DNS OPTIONS
<br>
&minus;&minus;setup&minus;dns</b></p>

<p style="margin-left:22%;">Generate a DNS zone if it does
not exist already and configure the DNS server. This option
requires that you either specify at least one DNS forwarder
through the <b>&minus;&minus;forwarder</b> option or use the
<b>&minus;&minus;no&minus;forwarders</b> option.</p>

<p style="margin-left:22%; margin-top: 1em">Note that you
can set up a DNS at any time after the initial IPA server
install by running <b>ipa-dns-install</b> (see
<b>ipa-dns-install</b>(1)).</p>


<p style="margin-left:11%;"><b>&minus;&minus;forwarder</b>=<i>IP_ADDRESS</i></p>

<p style="margin-left:22%;">Add a DNS forwarder to the DNS
configuration. You can use this option multiple times to
specify more forwarders, but at least one must be provided,
unless the <b>&minus;&minus;no&minus;forwarders</b> option
is specified.</p>


<p style="margin-left:11%;"><b>&minus;&minus;no&minus;forwarders</b></p>

<p style="margin-left:22%;">Do not add any DNS forwarders.
Root DNS servers will be used instead.</p>


<p style="margin-left:11%;"><b>&minus;&minus;auto&minus;forwarders</b></p>

<p style="margin-left:22%;">Add DNS forwarders configured
in /etc/resolv.conf to the list of forwarders used by IPA
DNS.</p>


<p style="margin-left:11%;"><b>&minus;&minus;forward&minus;policy</b>=<i>first|only</i></p>

<p style="margin-left:22%;">DNS forwarding policy for
global forwarders specified using other options. Defaults to
first if no IP address belonging to a private or reserved
ranges is detected on local interfaces (RFC 6303). Defaults
to only if a private IP address is detected.</p>


<p style="margin-left:11%;"><b>&minus;&minus;reverse&minus;zone</b>=<i>REVERSE_ZONE</i></p>

<p style="margin-left:22%;">The reverse DNS zone to use.
This option can be used multiple times to specify multiple
reverse zones.</p>


<p style="margin-left:11%;"><b>&minus;&minus;no&minus;reverse</b></p>

<p style="margin-left:22%;">Do not create reverse DNS
zone</p>


<p style="margin-left:11%;"><b>&minus;&minus;auto&minus;reverse</b></p>

<p style="margin-left:22%;">Try to resolve reverse records
and reverse zones for server IP addresses and if neither is
resolvable creates these reverse zones.</p>


<p style="margin-left:11%;"><b>&minus;&minus;zonemgr</b></p>

<p style="margin-left:22%;">The e&minus;mail address of the
DNS zone manager. Defaults to hostmaster@DOMAIN</p>


<p style="margin-left:11%;"><b>&minus;&minus;no&minus;host&minus;dns</b></p>

<p style="margin-left:22%;">Do not use DNS for hostname
lookup during installation</p>


<p style="margin-left:11%;"><b>&minus;&minus;no&minus;dns&minus;sshfp</b></p>

<p style="margin-left:22%;">Do not automatically create DNS
SSHFP records.</p>


<p style="margin-left:11%;"><b>&minus;&minus;no&minus;dnssec&minus;validation</b></p>

<p style="margin-left:22%;">Disable DNSSEC validation on
this server.</p>


<p style="margin-left:11%;"><b>&minus;&minus;allow&minus;zone&minus;overlap</b></p>

<p style="margin-left:22%;">Allow creatin of (reverse) zone
even if the zone is already resolvable. Using this option is
discouraged as it result in later problems with domain name
resolution.</p>

<p style="margin-left:11%; margin-top: 1em"><b>UNINSTALL
OPTIONS <br>
&minus;&minus;uninstall</b></p>

<p style="margin-left:22%;">Uninstall an existing IPA
installation</p>

<p style="margin-left:11%;"><b>&minus;U</b>,
<b>&minus;&minus;unattended</b></p>

<p style="margin-left:22%;">An unattended uninstallation
that will never prompt for user input</p>

<h2>DEPRECATED OPTIONS
<a name="DEPRECATED OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;P</b>
<i>MASTER_PASSWORD</i>,
<b>&minus;&minus;master&minus;password</b>=<i>MASTER_PASSWORD</i></p>

<p style="margin-left:22%;">The kerberos master password
(normally autogenerated).</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">0 if the
(un)installation was successful</p>

<p style="margin-left:11%; margin-top: 1em">1 if an error
occurred</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>ipa-dns-install</b>(1)</p>
<hr>
</body>
</html>
