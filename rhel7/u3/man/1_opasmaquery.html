<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:01:50 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>opasmaquery</title>

</head>
<body>

<h1 align="center">opasmaquery</h1>

<a href="#NAME">NAME</a><br>
<a href="#Syntax">Syntax</a><br>
<a href="#Options">Options</a><br>
<a href="#-h and -p options permit a variety of selections:">-h and -p options permit a variety of selections:</a><br>
<a href="#otype Options Vary by Report">otype Options Vary by Report</a><br>
<a href="#Examples">Examples</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">opasmaquery</p>

<p style="margin-left:11%; margin-top: 1em"><b>(All)</b>
Performs Intel(R) Omni-Path Architecture-defined SMA queries
and displays the resulting response. Each query is issued
directly to the SMA and does not involve SM interaction.</p>

<h2>Syntax
<a name="Syntax"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">opasmaquery
[-v] [-d <i>detail</i>][-g] [-l <i>lid</i>] [-h <i>hfi</i>]
[-p <i>port</i>] [-K <i>mkey</i>] [-o <i>otype</i>] [-m
<i>port</i>| <i>port1,port2</i>] [-f <i>flid</i>] [-b
<i>block[,count]</i>] [hop hop ...]</p>

<h2>Options
<a name="Options"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p style="margin-top: 1em">--help</p></td>
<td width="1%"></td>
<td width="74%">


<p style="margin-top: 1em">Produces full help text.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>-v</p></td>
<td width="1%"></td>
<td width="74%">


<p>Returns verbose output. Can be specified more than once
for additional openib and libibumad debugging.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>-d <i>detail</i></p></td>
<td width="1%"></td>
<td width="74%">


<p>Output detail level for cableinfo only. Range = 0 - n.
Default = 2. An upper limit for detail level is not
enforced. After a maximum amount of output is reached, a
larger detail value has no effect.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>-g</p></td>
<td width="1%"></td>
<td width="74%">


<p>Displays line-by-line format. Default is summary
format.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>-l <i>lid</i></p></td>
<td width="1%"></td>
<td width="74%">


<p>Destination LID. Default is local port.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>-h <i>hfi</i></p></td>
<td width="1%"></td>
<td width="74%">


<p>HFI, numbered 1..n. Using 0 specifies that the -p
<i>port</i> port is a system-wide port number. Default is
0.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>-p <i>port</i></p></td>
<td width="1%"></td>
<td width="74%">


<p>Port, numbered 1..n. If -h <i>hfi</i> is 0, then
<i>port</i> is a system-wide port number. Default is 1.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>-K <i>mkey</i></p></td>
<td width="1%"></td>
<td width="74%">


<p>SM management key to access remote ports.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>-o <i>otype</i></p></td>
<td width="1%"></td>
<td width="74%">


<p>Output type. Default is nodeinfo.</p></td></tr>
</table>

<p style="margin-left:26%; margin-top: 1em">Valid output
types are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="11%">


<p style="margin-top: 1em">bfrctrl</p></td>
<td width="5%"></td>
<td width="33%">


<p style="margin-top: 1em">Buffer control tables.</p></td>
<td width="25%">
</td></tr>
</table>

<p style="margin-left:42%; margin-top: 1em">[-m dest_port]
[-m port1,port2]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="14%">


<p style="margin-top: 1em">cableinfo</p></td>
<td width="2%"></td>
<td width="27%">


<p style="margin-top: 1em">Cable information.</p></td>
<td width="31%">
</td></tr>
</table>

<p style="margin-left:42%; margin-top: 1em">[-d detail] [-m
dest_port] [-b block[,count]]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="12%">


<p style="margin-top: 1em">conginfo</p></td>
<td width="4%"></td>
<td width="35%">


<p style="margin-top: 1em">Congestion information.</p></td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:26%; margin-top: 1em">desc or
nodedesc</p>

<p style="margin-left:42%;">Node descriptions/names.</p>

<p style="margin-left:26%; margin-top: 1em">hficongcon</p>

<p style="margin-left:42%;">HFI congestion control
settings.</p>

<p style="margin-left:42%; margin-top: 1em">[-b
block[,count]] [-f flid]</p>

<p style="margin-left:26%; margin-top: 1em">hficonglog</p>

<p style="margin-left:42%;">HFI congestion logs.</p>

<p style="margin-left:42%; margin-top: 1em">[-b
block[,count]]</p>

<p style="margin-left:26%; margin-top: 1em">hficongset</p>

<p style="margin-left:42%;">HFI congestion settings.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="9%">


<p style="margin-top: 1em">linfdb</p></td>
<td width="7%"></td>
<td width="58%">


<p style="margin-top: 1em">Switch linear forwarding
database (FDB) tables.</p></td></tr>
</table>

<p style="margin-left:42%; margin-top: 1em">[-b
block[,count]] [-f flid]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="8%">


<p style="margin-top: 1em">mcfdb</p></td>
<td width="8%"></td>
<td width="43%">


<p style="margin-top: 1em">Switch multicast FDB tables.</p></td>
<td width="15%">
</td></tr>
</table>

<p style="margin-left:42%; margin-top: 1em">[-m dest_port]
[-b block[,count]] [-f flid]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="14%">


<p style="margin-top: 1em">portgroup</p></td>
<td width="2%"></td>
<td width="44%">


<p style="margin-top: 1em">Adaptive Routing port
groups.</p> </td>
<td width="14%">
</td></tr>
</table>

<p style="margin-left:42%; margin-top: 1em">[-b
block[,count]]</p>


<p style="margin-left:26%; margin-top: 1em">portgroupfdb</p>

<p style="margin-left:42%;">Adaptive Routing port group FWD
tables.</p>

<p style="margin-left:42%; margin-top: 1em">[-b
block[,count]] [-f flid]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="12%">


<p style="margin-top: 1em">nodeaggr</p></td>
<td width="4%"></td>
<td width="58%">


<p style="margin-top: 1em">Node information and node
descriptions.</p> </td></tr>
</table>

<p style="margin-left:26%; margin-top: 1em">node or
nodeinfo</p>

<p style="margin-left:42%;">Node information.</p>

<p style="margin-left:42%; margin-top: 1em">[-m
dest_port]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="12%">


<p style="margin-top: 1em">portinfo</p></td>
<td width="4%"></td>
<td width="26%">


<p style="margin-top: 1em">Port information.</p></td>
<td width="32%">
</td></tr>
</table>

<p style="margin-left:42%; margin-top: 1em">[-m
dest_port]</p>

<p style="margin-left:26%; margin-top: 1em">pstateinfo</p>

<p style="margin-left:42%;">Switch port state
information.</p>

<p style="margin-left:42%; margin-top: 1em">[-m dest_port]
[-m port1,port2]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="6%">


<p style="margin-top: 1em">pkey</p></td>
<td width="10%"></td>
<td width="20%">


<p style="margin-top: 1em">P-Key tables.</p></td>
<td width="38%">
</td></tr>
</table>

<p style="margin-left:42%; margin-top: 1em">[-m dest_port]
[-b block[,count]]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="6%">


<p style="margin-top: 1em">slsc</p></td>
<td width="10%"></td>
<td width="36%">


<p style="margin-top: 1em">SL to SC mapping tables.</p></td>
<td width="22%">
</td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="6%">


<p>scsl</p></td>
<td width="10%"></td>
<td width="36%">


<p>SC to SL mapping tables.</p></td>
<td width="22%">
</td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="6%">


<p>scsc</p></td>
<td width="10%"></td>
<td width="36%">


<p>SC to SC mapping tables.</p></td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:42%; margin-top: 1em">[-m dest_port]
[-m port1,port2]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="8%">


<p style="margin-top: 1em">scvlt</p></td>
<td width="8%"></td>
<td width="26%">


<p style="margin-top: 1em">SC to VLt tables.</p></td>
<td width="32%">
</td></tr>
</table>

<p style="margin-left:42%; margin-top: 1em">[-m dest_port]
[-m port1,port2]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="9%">


<p style="margin-top: 1em">scvlnt</p></td>
<td width="7%"></td>
<td width="27%">


<p style="margin-top: 1em">SC to VLnt tables.</p></td>
<td width="31%">
</td></tr>
</table>

<p style="margin-left:42%; margin-top: 1em">[-m dest_port]
[-m port1,port2]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="14%">


<p style="margin-top: 1em">sminfo</p></td>
<td width="2%"></td>
<td width="58%">


<p style="margin-top: 1em">SM information.</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="14%">


<p>swaggr</p></td>
<td width="2%"></td>
<td width="58%">


<p>Node information and switch information.</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="14%">


<p>swconglog</p></td>
<td width="2%"></td>
<td width="58%">


<p>Switch congestion logs.</p></td></tr>
</table>

<p style="margin-left:42%; margin-top: 1em">[-b
block[,count]]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="14%">


<p style="margin-top: 1em">swcongset</p></td>
<td width="2%"></td>
<td width="41%">


<p style="margin-top: 1em">Switch congestion settings.</p></td>
<td width="17%">
</td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="14%">


<p>swinfo</p></td>
<td width="2%"></td>
<td width="41%">


<p>Switch information.</p></td>
<td width="17%">
</td></tr>
</table>

<p style="margin-left:26%; margin-top: 1em">swportcong</p>

<p style="margin-left:42%;">Switch congestion settings.</p>

<p style="margin-left:42%; margin-top: 1em">[-b
block[,count]]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="8%">


<p style="margin-top: 1em">vlarb</p></td>
<td width="8%"></td>
<td width="33%">


<p style="margin-top: 1em">VL arbitration tables.</p></td>
<td width="25%">
</td></tr>
</table>

<p style="margin-left:42%; margin-top: 1em">[-m
dest_port]</p>

<p style="margin-left:26%; margin-top: 1em">ibnodeinfo</p>

<p style="margin-left:42%;">IB node information.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="11%">


<p style="margin-top: 1em">ledinfo</p></td>
<td width="5%"></td>
<td width="24%">


<p style="margin-top: 1em">LED information.</p></td>
<td width="34%">
</td></tr>
</table>

<p style="margin-left:42%; margin-top: 1em">[-m
dest_port]</p>

<h2>-h and -p options permit a variety of selections:
<a name="-h and -p options permit a variety of selections:"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p style="margin-top: 1em">-h 0</p></td>
<td width="1%"></td>
<td width="59%">


<p style="margin-top: 1em">First active port in system
(default).</p> </td>
<td width="15%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>-h 0 -p 0</p></td>
<td width="1%"></td>
<td width="59%">


<p>First active port in system.</p></td>
<td width="15%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>-h <i>x</i></p></td>
<td width="1%"></td>
<td width="59%">


<p>First active port on HFI <i>x</i>.</p></td>
<td width="15%">
</td></tr>
</table>

<p style="margin-left:11%;">-h <i>x</i>#8217#160;-p 0</p>

<p style="margin-left:26%;">First active port on HFI
<i>x</i>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>-h 0 -p <i>y</i></p></td>
<td width="1%"></td>
<td width="74%">


<p>Port <i>y#8217#160;</i> within system (no matter which
ports are active).</p></td></tr>
</table>

<p style="margin-left:11%;">-h <i>x</i>#8217#160;-p
<i>y</i></p>

<p style="margin-left:26%;">HFI <i>x</i>, port <i>y</i></p>

<h2>otype Options Vary by Report
<a name="otype Options Vary by Report"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p style="margin-top: 1em">-m <i>port</i></p></td>
<td width="4%"></td>
<td width="56%">


<p style="margin-top: 1em">Port in destination device to
query.</p> </td>
<td width="18%">
</td></tr>
</table>

<p style="margin-left:11%;">-m <i>port1,port2</i></p>

<p style="margin-left:26%;">For some reports, a range of
ports between <i>port1</i> and <i>port2</i>. For others,
this describes an inport/outport pair.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p>-f <i>flid</i></p></td>
<td width="4%"></td>
<td width="74%">


<p>LID to look up in forwarding table to select which LFT
or MFT block to display. Default is to show entire
table.</p> </td></tr>
</table>

<p style="margin-left:11%;">-b <i>block[,count]</i></p>

<p style="margin-left:26%;">Block number of either GUIDs or
pkey, and the number of blocks to display. Default is to
show entire table.</p>

<p style="margin-left:26%; margin-top: 1em">For
example:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="12%">


<p>-b <i>block</i></p></td>
<td width="4%"></td>
<td width="58%">


<p>Displays all of block <i>block</i> of a larger
table.</p> </td></tr>
</table>

<p style="margin-left:26%; margin-top: 1em">-b
<i>block,count</i></p>

<p style="margin-left:42%;">Displays <i>count</i> blocks of
data starting with block <i>block</i>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="14%">


<p style="margin-top: 1em">-b, <i>count</i></p></td>
<td width="2%"></td>
<td width="58%">


<p style="margin-top: 1em">Displays <i>count</i> blocks of
data starting with block 0.</p></td></tr>
</table>

<h2>Examples
<a name="Examples"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">opasmaquery -o
desc -l 6 <br>
# get nodedesc via lid routed</p>

<p style="margin-left:11%; margin-top: 1em">opasmaquery -o
nodedesc 1 3 <br>
# get nodedesc via directed route (2 dr hops)</p>

<p style="margin-left:11%; margin-top: 1em">opasmaquery -o
nodeinfo -l 2 3 <br>
# get nodeinfo via a combination of lid routed and #
directed route (1 dr hop)</p>

<p style="margin-left:11%; margin-top: 1em">opasmaquery -o
portinfo <br>
# get local port info</p>

<p style="margin-left:11%; margin-top: 1em">opasmaquery -o
portinfo -l 6 -m 1 <br>
# get port info of port 1 of lid 6</p>

<p style="margin-left:11%; margin-top: 1em">opasmaquery -o
pkey -l 2 3 <br>
# get pkey table entries starting (lid routed to lid 2, <br>
# then 1 dr hop to port 3)</p>

<p style="margin-left:11%; margin-top: 1em">opasmaquery -o
vlarb -l 6 <br>
# get vlarb table entries from lid 6</p>

<p style="margin-left:11%; margin-top: 1em">opasmaquery -o
swinfo -l 2 <br>
# get switch info</p>

<p style="margin-left:11%; margin-top: 1em">opasmaquery -o
sminfo -l 1 <br>
# get SM info</p>

<p style="margin-left:11%; margin-top: 1em">opasmaquery -o
slsc -l 3 <br>
# get sl2sc table entries from lid 3</p>

<p style="margin-left:11%; margin-top: 1em">opasmaquery -o
scsl -l 3 <br>
# get sc2sl table entries from lid 3</p>
<hr>
</body>
</html>
