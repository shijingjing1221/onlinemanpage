<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 21:00:51 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>CIFSCREDS</title>

</head>
<body>

<h1 align="center">CIFSCREDS</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#COMMANDS">COMMANDS</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHORS">AUTHORS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">cifscreds
&minus; manage NTLM credentials in kernel keyring</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">cifscreds
add|clear|clearall|update [&minus;u username] [&minus;d]
host|domain</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>cifscreds</b> program is a tool for managing credentials
(username and password) for the purpose of establishing
sessions in multiuser mounts.</p>

<p style="margin-left:11%; margin-top: 1em">When a cifs
filesystem is mounted with the &quot;multiuser&quot; option,
and does not use krb5 authentication, it needs to be able to
get the credentials for each user from somewhere. The
<b>cifscreds</b> program is the tool used to provide these
credentials to the kernel.</p>

<p style="margin-left:11%; margin-top: 1em">The first
non-option argument to cifscreds is a command (see the
<b><small>COMMANDS</small></b> section below). The second
non-option argument is a hostname or address, or an
<small>NT</small> domain name.</p>

<h2>COMMANDS
<a name="COMMANDS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>add</b></p></td>
<td width="2%"></td>
<td width="83%">


<p style="margin-top: 1em">Add credentials to the kernel to
be used for connecting to the given server, or servers in
the given domain.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>clear</b></p>

<p style="margin-left:17%;">Clear credentials for a
particular host or domain from the kernel.</p>

<p style="margin-left:11%;"><b>clearall</b></p>

<p style="margin-left:17%;">Clear all cifs credentials from
the kernel.</p>

<p style="margin-left:11%;"><b>update</b></p>

<p style="margin-left:17%;">Update stored credentials in
the kernel with a new username and password.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;d</b>,
<b>&minus;&minus;domain</b></p>

<p style="margin-left:17%;">The provided host/domain
argument is a <small>NT</small> domainname.</p>

<p style="margin-left:17%; margin-top: 1em">Ordinarily the
second argument provided to cifscreds is treated as a
hostname or <small>IP</small> address. This option causes
the cifscreds program to treat that argument as an
<small>NT</small> domainname instead.</p>

<p style="margin-left:17%; margin-top: 1em">If there are
not host specific credentials for the mounted server, then
the kernel will next look for a set of domain credentials
equivalent to the domain= option provided at mount time.</p>

<p style="margin-left:11%;"><b>&minus;u</b>,
<b>&minus;&minus;username</b></p>

<p style="margin-left:17%;">Ordinarily, the username is
derived from the unix username of the user adding the
credentials. This option allows the user to substitute a
different username.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The cifscreds
utility requires a kernel built with support for the
<b>login</b> key type. That key type was added in v3.3 in
mainline Linux kernels.</p>

<p style="margin-left:11%; margin-top: 1em">Since
<b>cifscreds</b> adds keys to the session keyring, it is
highly recommended that one use <b>pam_keyinit</b> to ensure
that a session keyring is established at login time.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>pam_keyinit</i>(8)</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The cifscreds
program was originally developed by Igor Druzhinin
&lt;jaxbrigs@gmail.com&gt;. This manpage and a redesign of
the code was done by Jeff Layton
&lt;jlayton@samba.org&gt;.</p>
<hr>
</body>
</html>
