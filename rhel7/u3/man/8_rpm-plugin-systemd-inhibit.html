<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:18:34 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>RPM-SYSTEMD-INHIBIT</title>

</head>
<body>

<h1 align="center">RPM-SYSTEMD-INHIBIT</h1>

<a href="#NAME">NAME</a><br>
<a href="#Description">Description</a><br>
<a href="#Prerequisites">Prerequisites</a><br>
<a href="#Configuration">Configuration</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">rpm-plugin-systemd-inhibit
&minus; Plugin for the RPM Package Manager</p>

<h2>Description
<a name="Description"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This plugin for
RPM prevents the system to enter shutdown, sleep or idle
mode while there is a rpm transaction running to prevent
system corruption that can occur if the transaction is
interrupted by a reboot.</p>

<p style="margin-left:11%; margin-top: 1em">This is
achieved by using the inhibit DBUS interface of systemd. The
call is roughly equivalent to executing</p>


<p style="margin-left:11%; margin-top: 1em"><b>systemd-inhibit
--mode=block --what=idle:sleep:shutdown --who=RPM
--why=&quot;Transaction running&quot;</b></p>

<p style="margin-left:11%; margin-top: 1em">See
<b>systemd-inhibit(1)</b> for the details of this
mechanism.</p>

<p style="margin-left:11%; margin-top: 1em">It is strongly
advised to have the plugin installed on all systemd based
systems.</p>

<h2>Prerequisites
<a name="Prerequisites"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">For the plugin
to work systemd has to be used as init system and though the
DBUS system bus must be available. If the plugin cannot
access the interface it gives a warning but does not stop
the transaction.</p>

<h2>Configuration
<a name="Configuration"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The plugin
currently does not have any configuration option other than
turning it on and off. It can be disabled by commenting out
the <i>%__transaction_systemd_inhibit</i> macro in main
macros file (typically located at
<i>/usr/lib/rpm/macros</i>) or otherwise change the value of
the macro.</p>

<p style="margin-left:11%; margin-top: 1em">Another option
is to remove the plugin from the system if it is packaged in
its own sub package.</p>
<hr>
</body>
</html>
