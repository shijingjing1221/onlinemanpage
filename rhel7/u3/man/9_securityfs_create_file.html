<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:22:39 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SECURITYFS_CREATE_FI</title>

</head>
<body>

<h1 align="center">SECURITYFS_CREATE_FI</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#ARGUMENTS">ARGUMENTS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">securityfs_create_file
&minus; create a file in the securityfs filesystem</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>struct dentry *
securityfs_create_file(const&nbsp;char&nbsp;*&nbsp;</b><i>name</i><b>,
umode_t&nbsp;</b><i>mode</i><b>,
struct&nbsp;dentry&nbsp;*&nbsp;</b><i>parent</i><b>,
void&nbsp;*&nbsp;</b><i>data</i><b>,
const&nbsp;struct&nbsp;file_operations&nbsp;*&nbsp;</b><i>fops</i><b>);</b></p> </td></tr>
</table>

<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b><i>name</i></b></p>

<p style="margin-left:17%;">a pointer to a string
containing the name of the file to create.</p>


<p style="margin-left:11%; margin-top: 1em"><i>mode</i></p>

<p style="margin-left:17%;">the permission that the file
should have</p>


<p style="margin-left:11%; margin-top: 1em"><i>parent</i></p>

<p style="margin-left:17%;">a pointer to the parent dentry
for this file. This should be a directory dentry if set. If
this parameter is <b>NULL</b>, then the file will be created
in the root of the securityfs filesystem.</p>


<p style="margin-left:11%; margin-top: 1em"><i>data</i></p>

<p style="margin-left:17%;">a pointer to something that the
caller will want to get to later on. The inode.i_private
pointer will point to this value on the <b>open</b>
call.</p>


<p style="margin-left:11%; margin-top: 1em"><i>fops</i></p>

<p style="margin-left:17%;">a pointer to a struct
file_operations that should be used for this file.</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This is the
basic &ldquo;create a file&rdquo; function for securityfs.
It allows for a wide range of flexibility in creating a
file, or a directory (if you want to create a directory, the
<b>securityfs_create_dir</b> function is recommended to be
used instead).</p>

<p style="margin-left:11%; margin-top: 1em">This function
returns a pointer to a dentry if it succeeds. This pointer
must be passed to the <b>securityfs_remove</b> function when
the file is to be removed (no automatic cleanup happens if
your module is unloaded, you are responsible here). If an
error occurs, the function will return the erorr value (via
ERR_PTR).</p>

<p style="margin-left:11%; margin-top: 1em">If securityfs
is not enabled in the kernel, the value <b>&minus;ENODEV</b>
is returned.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>
<hr>
</body>
</html>
