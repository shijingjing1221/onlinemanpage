<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:16:18 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>REALM</title>

</head>
<body>

<h1 align="center">REALM</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#DISCOVER">DISCOVER</a><br>
<a href="#JOIN">JOIN</a><br>
<a href="#LEAVE">LEAVE</a><br>
<a href="#LIST">LIST</a><br>
<a href="#PERMIT">PERMIT</a><br>
<a href="#DENY">DENY</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">realm &minus;
Manage enrollment in realms</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="71%">


<p style="margin-top: 1em"><b>realm discover</b>
[realm&minus;name]</p> </td>
<td width="18%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="71%">


<p style="margin-top: 1em"><b>realm join</b>
[&minus;U&nbsp;user] [realm&minus;name]</p></td>
<td width="18%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="71%">


<p style="margin-top: 1em"><b>realm leave</b>
[&minus;U&nbsp;user] [realm&minus;name]</p></td>
<td width="18%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="71%">


<p style="margin-top: 1em"><b>realm list</b></p></td>
<td width="18%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="71%">


<p style="margin-top: 1em"><b>realm permit</b> [&minus;ax]
[&minus;R&nbsp;realm] {user@domain...}</p></td>
<td width="18%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="71%">


<p style="margin-top: 1em"><b>realm deny</b> &minus;a
[&minus;R&nbsp;realm]</p> </td>
<td width="18%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>realm</b> is
a command line tool that can be used to manage enrollment in
kerberos realms, like Active Directory domains or IPA
domains.</p>

<p style="margin-left:11%; margin-top: 1em">See the various
sub commands below. The following global options can be
used:</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;install=/path</b></p>

<p style="margin-left:17%;">Run in install mode. This makes
realmd chroot into the specified directory and place files
in appropriate locations for use during an installer. No
packages will be installed or services will be started when
running in this mode.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;unattended</b></p>

<p style="margin-left:17%;">Run in unattended mode without
prompting for input.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;verbose,
&minus;v</b></p>

<p style="margin-left:17%;">Display verbose diagnostics
while doing running commands.</p>

<h2>DISCOVER
<a name="DISCOVER"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Discover a
realm and its capabilities.</p>

<p style="margin-left:17%; margin-top: 1em">$ realm
discover</p>

<p style="margin-left:17%; margin-top: 1em">$ realm
discover domain.example.com</p>

<p style="margin-left:11%; margin-top: 1em">After
discovering a realm, its name, type and capabilities are
displayed.</p>

<p style="margin-left:11%; margin-top: 1em">If no domain is
specified, then the domain assigned through DHCP is used as
a default.</p>

<p style="margin-left:11%; margin-top: 1em">The following
options can be used:</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;all</b></p>

<p style="margin-left:17%;">Show all discovered realms (in
various configurations).</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;client&minus;software=xxx</b></p>

<p style="margin-left:17%;">Only discover realms for which
we can use the given client software. Possible values
include <i>sssd</i> or <i>winbind</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;server&minus;software=xxx</b></p>

<p style="margin-left:17%;">Only discover realms which run
the given server software. Possible values include
<i>active&minus;directory</i> or <i>ipa</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;membership&minus;software=xxx</b></p>

<p style="margin-left:17%;">Only discover realms for which
the given membership software can be used to subsequently
perform enrollment. Possible values include <i>samba</i> or
<i>adcli</i>.</p>

<h2>JOIN
<a name="JOIN"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Configure the
local machine for use with a realm.</p>

<p style="margin-left:17%; margin-top: 1em">$ realm join
domain.example.com</p>

<p style="margin-left:17%; margin-top: 1em">$ realm join
&minus;&minus;user=admin
&minus;&minus;computer&minus;ou=OU=Special
domain.example.com</p>

<p style="margin-left:11%; margin-top: 1em">The realm is
first discovered, as we would with the <b>discover</b>
command. If no domain is specified, then the domain assigned
through DHCP is used as a default.</p>

<p style="margin-left:11%; margin-top: 1em">After a
successful join, the computer will be in a state where it is
able to resolve remote user and group names from the realm.
For kerberos realms, a computer account and host keytab is
created.</p>

<p style="margin-left:11%; margin-top: 1em">Joining
arbitrary kerberos realms is not supported. The realm must
have a supported mechanism for joining from a client
machine, such as Active Directory or IPA.</p>

<p style="margin-left:11%; margin-top: 1em">If the domain
has been preconfigured, and unless &minus;&minus;user is
explicitly specified, an automatic join is attempted
first.</p>

<p style="margin-left:11%; margin-top: 1em">Note that the
&minus;&minus;user, &minus;&minus;no&minus;password, and
&minus;&minus;one&minus;time&minus;password options are
mutually exclusive. At most one of them can be
specified.</p>

<p style="margin-left:11%; margin-top: 1em">It is generally
possible to use kerberos credentials to perform a join
operation. Use the <b>kinit</b> command to acquire
credentials prior to starting the join. Do not specify the
<b>&minus;&minus;user</b> argument, the user will be
selected automatically from the credential cache. The
<b>realm</b> respects the KRB5_CCACHE environment variable,
but uses the default kerberos credential cache if it's not
present. Not all types of servers can be joined using
kerberos credentials, some (like IPA) insist on prompting
for a password.</p>

<p style="margin-left:11%; margin-top: 1em">The following
options can be used:</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;automatic&minus;id&minus;mapping=no</b></p>

<p style="margin-left:17%;">Do not perform UID/GID mapping
for users and groups, but expect these identifiers to be
present in the domain already.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;user=xxx</b></p>

<p style="margin-left:17%;">The user name to be used to
authenticate with when joining the machine to the realm. You
will be prompted for a password.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;computer&minus;ou=OU=xxx</b></p>

<p style="margin-left:17%;">The distinguished name of an
organizational unit to create the computer account. The
exact format of the distinguished name depends on the client
software and membership software. You can usually omit the
root DSE portion of distinguished name. This is an Active
Directory specific option.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;computer&minus;name=xxx</b></p>

<p style="margin-left:17%;">This option only applies to
Active Directory realms. Specify this option to override the
default name used when creating the computer account. The
system's FQDN will still be saved in the dNSHostName
attribute.</p>

<p style="margin-left:17%; margin-top: 1em">Specify the
name as a string of 15 or fewer characters that is a valid
NetBIOS computer name.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;no&minus;password</b></p>

<p style="margin-left:17%;">Perform the join automatically
without a password.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;one&minus;time&minus;password=xxxx</b></p>

<p style="margin-left:17%;">Perform the join using a one
time password specified on the command line. This is not
possible with all types of realms.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;client&minus;software=xxx</b></p>

<p style="margin-left:17%;">Only join realms for which we
can use the given client software. Possible values include
<i>sssd</i> or <i>winbind</i>. Not all values are supported
for all realms. By default the client software is
automatically selected.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;server&minus;software=xxx</b></p>

<p style="margin-left:17%;">Only join realms for run the
given server software. Possible values include
<i>active&minus;directory</i> or <i>ipa</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;membership&minus;software=xxx</b></p>

<p style="margin-left:17%;">The software to use when
joining to the realm. Possible values include <i>samba</i>
or <i>adcli</i>. Not all values are supported for all
realms. By default the membership software is automatically
selected.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;user&minus;principal=</b><i>host/name@REALM</i></p>

<p style="margin-left:17%;">Set the userPrincipalName field
of the computer account to this kerberos principal. If you
omit the value for this option, then a principal will be set
in the form of host/shortname@REALM</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;os&minus;name=xxx</b></p>

<p style="margin-left:17%;">The name of the operation
system of the client. When joining an AD domain the value is
store in the matching AD attribute.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;os&minus;version=xxx</b></p>

<p style="margin-left:17%;">The version of the operation
system of the client. When joining an AD domain the value is
store in the matching AD attribute.</p>

<h2>LEAVE
<a name="LEAVE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Deconfigure the
local machine for use with a realm.</p>

<p style="margin-left:17%; margin-top: 1em">$ realm
leave</p>

<p style="margin-left:17%; margin-top: 1em">$ realm leave
domain.example.com</p>

<p style="margin-left:11%; margin-top: 1em">If no realm
name is specified, then the first configured realm will be
used.</p>

<p style="margin-left:11%; margin-top: 1em">The following
options can be used:</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;client&minus;software=xxx</b></p>

<p style="margin-left:17%;">Only leave the realm which is
using the given client software. Possible values include
<i>sssd</i> or <i>winbind</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;server&minus;software=xxx</b></p>

<p style="margin-left:17%;">Only leave the realm which is
using the given server software. Possible values include
<i>active&minus;directory</i> or <i>ipa</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;remove</b></p>

<p style="margin-left:17%;">Remove or disable computer
account from the directory while leaving the realm. This
will usually prompt for a pasword.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;user</b></p>

<p style="margin-left:17%;">The user name to be used to
authenticate with when leaving the realm. You will be
prompted for a password. Implies
<b>&minus;&minus;remove</b>.</p>

<h2>LIST
<a name="LIST"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">List all the
discovered and configured realms.</p>

<p style="margin-left:17%; margin-top: 1em">$ realm
list</p>

<p style="margin-left:11%; margin-top: 1em">By default,
realms that have been discovered, but not configured (using
the <b>join</b> command), are not displayed. Also, by
default, the list of realm details displayed is verbose. The
options below can be used to change this default
behavior</p>

<p style="margin-left:11%; margin-top: 1em">The following
options can be used:</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;all</b></p>

<p style="margin-left:17%;">Show all discovered realms
(whether or not they have been configured).</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;name&minus;only</b></p>

<p style="margin-left:17%;">Display only realm names (as
opposed to verbose output).</p>

<h2>PERMIT
<a name="PERMIT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Permit local
login by users of the realm.</p>

<p style="margin-left:17%; margin-top: 1em">$ realm permit
&minus;&minus;all <br>
$ realm permit user@example.com <br>
$ realm permit DOMAIN\\User2 <br>
$ realm permit &minus;&minus;withdraw user@example.com</p>

<p style="margin-left:11%; margin-top: 1em">The current
login policy and format of the user names can be seen by
using the <b>realm list</b> command.</p>

<p style="margin-left:11%; margin-top: 1em">The following
options can be used:</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;all,
&minus;a</b></p>

<p style="margin-left:17%;">Permit logins using realm
accounts on the local machine according to the realm
policy.This usually defaults to allowing any realm user to
log in.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;groups,
&minus;g</b></p>

<p style="margin-left:17%;">Treat the specified names as
groups rather than user login names. Permit login by users
in the specified groups.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;realm,
&minus;R</b></p>

<p style="margin-left:17%;">Specify the of the realm to
change login policy for.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;withdraw,
&minus;x</b></p>

<p style="margin-left:17%;">Remove a login from the list of
realm accounts permitted to log into the machine.</p>

<h2>DENY
<a name="DENY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Deny local
login by realm accounts.</p>

<p style="margin-left:17%; margin-top: 1em">$ realm deny
&minus;&minus;all</p>

<p style="margin-left:11%; margin-top: 1em">This command
prevents realm accounts from logging into the local machine.
Use <b>realm permit</b> to restrict logins to specific
accounts.</p>

<p style="margin-left:11%; margin-top: 1em">The following
options can be used:</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;all,
&minus;a</b></p>

<p style="margin-left:17%;">This option should be
specified</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;realm,
&minus;R</b></p>

<p style="margin-left:17%;">Specify the name of the realm
to deny users login to.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Stef
Walter</b> &lt;stef@thewalter.net&gt;</p>
 
<p style="margin-left:17%;">Maintainer</p>
<hr>
</body>
</html>
