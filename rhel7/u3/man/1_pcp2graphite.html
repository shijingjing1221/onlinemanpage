<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:05:22 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PCP2GRAPHITE</title>

</head>
<body>

<h1 align="center">PCP2GRAPHITE</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pcp2graphite</b>
&minus; pcp-to-graphite metrics exporter</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pcp2graphite</b>
[<b>&minus;h</b> <i>hostspec</i>] [<b>&minus;a</b>
<i>archive</i>] [<b>&minus;L</b>] [<b>&minus;O</b>
<i>origin</i>] [<b>&minus;T</b> <i>finish</i>]
[<b>&minus;s</b> <i>samples</i>] [<b>&minus;t</b>
<i>delta</i>] [<b>&minus;g</b> <i>graphitehost</i>]
[<b>&minus;p</b> <i>pickleport</i>] [<b>&minus;P</b>
<i>textport</i>] [<b>&minus;r</b> <i>pickleprotocol</i>]
[<b>&minus;u</b> <i>units</i>] [<b>&minus;m</b>
<i>prefix</i>] <i>metricname</i> ...</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pcp2graphite</b>
is a PCP metric exporter. It relays hierarchies of the
<b>pmns</b>(5) to a designated Graphite (Carbon/Whisper)
database by periodically polling, then copying/converting
relevant numerical metrics across the Graphite
&quot;text&quot; or &quot;pickled&quot; TCP protocols.
Metric values are optionally scaled to a given unit/scale,
but are not rate-converted. Metric names may be prefixed and
are somewhat canonicalized to fit the Graphite namespace
rules.</p>

<p style="margin-left:11%; margin-top: 1em">The data
transfer will continue on a best-effort basis until the
program is interrupted. Temporary errors are ignored.
Multiple copies of this program may be run in parallel, to
populate different Graphite databases or subtrees, with
different scaling or sampling intervals.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>pmmgr</b>(1) daemon can be used to ensure one or more
<b>pcp2grapite</b> instances start at system boot time.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;h</b>
<i>hostspec</i></p>

<p style="margin-left:22%;">Extract metrics from the
specified <b>pmcd</b>(1) daemon, using a host specification
as described on <b>PCPIntro</b>(1). The default is
<b>local:</b>.</p>

<p style="margin-left:11%;"><b>&minus;a</b>
<i>archive</i></p>

<p style="margin-left:22%;">Extract metrics from the given
set of archives, which is a comma-separated list of names,
each of which may be the base name of an archive or the name
of a directory containing one or more archives.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;L</b></p></td>
<td width="8%"></td>
<td width="75%">


<p>Extract metrics from the local context PCP PMDAs.</p></td>
<td width="3%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;t</b>
<i>delta</i></p>

<p style="margin-left:22%;">Specify the polling interval in
seconds. If live, polling is aligned to natural multiples of
this interval. The default is <b>60</b> seconds.</p>

<p style="margin-left:11%;"><b>&minus;O</b>
<i>origin</i></p>

<p style="margin-left:22%;">Set the time origin for archive
scanning. The default is the start of the set of
archives.</p>

<p style="margin-left:11%;"><b>&minus;T</b>
<i>finish</i></p>

<p style="margin-left:22%;">Set the time finish for archive
scanning. The default is the end of the set of archives.</p>

<p style="margin-left:11%;"><b>&minus;s</b>
<i>samples</i></p>

<p style="margin-left:22%;">Set the maximum number of
samples to relay. The default is unlimited.</p>

<p style="margin-left:11%;"><b>&minus;g</b>
<i>graphitehost</i></p>

<p style="margin-left:22%;">Specify the graphite
carbon-cache server where the relayed data is to be relayed.
The default is <b>localhost</b>.</p>

<p style="margin-left:11%;"><b>&minus;p</b>
<i>pickleport</i></p>

<p style="margin-left:22%;">Select the more efficient
&quot;pickled&quot; encoding for carbon-cache communication,
and use the given TCP port. This is the default, using port
<b>2004</b>.</p>

<p style="margin-left:11%;"><b>&minus;P</b>
<i>textport</i></p>

<p style="margin-left:22%;">Alternately, select the less
efficient &quot;text&quot; encoding for carbon-cache
communication, and use the given TCP port. This protocol is
not default, because it requires a separate TCP connection
for each metric. The typical port is <b>2003</b>.</p>

<p style="margin-left:11%;"><b>&minus;r</b>
<i>pickleprotocol</i></p>

<p style="margin-left:22%;">Select the protocol for the
&quot;pickled&quot; encoding. The possible values are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>0 - ASCII protocol (the slowest),</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>1 - old binary protocol - pre Python 2.3,</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>2 - new binary protocol introduced in Python 2.3.</p></td></tr>
</table>

<p style="margin-left:22%;">The default is <b>0</b>.</p>

<p style="margin-left:11%;"><b>&minus;u</b>
<i>units</i></p>

<p style="margin-left:22%;">Rescale the metrics to the
given UNITS string, as parsed by the
<i>pmParseUnitsStr</i>(3) function. This must be
dimensionally consistent with the underlying PCP metric. The
default is to perform no scaling.</p>

<p style="margin-left:11%;"><b>&minus;m</b>
<i>prefix</i></p>

<p style="margin-left:22%;">Use the given string as a
prefix for all PMNS metrics relayed to Graphite. The default
is <b>pcp.</b> (note the period at the end).</p>

<p style="margin-left:11%;"><i>metricname</i></p>

<p style="margin-left:22%;">Relay all numeric metrics
nested at or below the given name in the PMNS. This option
may be repeated. This is a compulsory option, having no
default.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>PCPIntro</b>(1),
<b>pmcd</b>(1), <b>pmParseUnitsStr</b>(3),
<b>http://graphite.wikidot.com/</b>, <b>pmmgr</b>(1),
<b>pmval</b>(1), <b>PMAPI</b>(3), <b>pcp.conf</b>(5) and
<b>pmns</b>(5).</p>
<hr>
</body>
</html>
