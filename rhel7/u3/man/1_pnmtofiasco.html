<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:11:13 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>Pnmtofiasco User Manual</title>

</head>
<body>

<h1 align="center">Pnmtofiasco User Manual</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#FILES">FILES</a><br>
<a href="#ENVIRONMENT">ENVIRONMENT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">pnmtofiasco -
Convert PNM file to FIASCO compressed file</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pnmtofiasco</b>
[<i>option</i>]... [<i>filename</i>]...</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This program is
part of <b>Netpbm</b>(1)</p>


<p style="margin-left:11%; margin-top: 1em"><b>pnmtofiasco</b>
compresses the named pbm, pgm, or ppm image files, or
Standard Input if no file is named, and produces a FIASCO
file on Standard Output.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All option
names may be abbreviated; for example, --optimize may be
written --optim or --opt. For most options a one letter
short option is provided. Mandatory or optional arguments to
long options are mandatory or optional for short options,
too. Both short and long options are case sensitive.</p>

<p style="margin-left:11%; margin-top: 1em">The basic
options are: <b><br>
-i</b> <i>name</i>, <b>--input-name=</b><i>name</i></p>

<p style="margin-left:22%;">Compress the named images, not
Standard Input. If <i>name</i> is <b>-</b>, read Standard
Input. <i>name</i> has to be either an image filename or a
template of the form:</p>


<p style="margin-left:22%; margin-top: 1em">prefix[start-end{+,-}step]suffix</p>

<p style="margin-left:22%; margin-top: 1em">Templates are
useful when compressing video streams: e.g., if you specify
the template <b>img0[12-01-2].pgm</b>, then
<b>pnmtofiasco</b> compresses the images img012.pgm,
img010.pgm, ..., img002.pgm.</p>

<p style="margin-left:22%; margin-top: 1em">If <i>name</i>
is a relative path, <b>pnmtofiasco</b> searches for the
image files in the current directory and in the
(colon-separated) list of directories given by the
environment variable <b>FIASCO_IMAGES</b>.</p>

<p style="margin-left:11%;"><b>-o</b> <i>output-file</i>,
<b>--output-name=</b><i>name</i></p>

<p style="margin-left:22%;">Write FIASCO output to the
named file, not to Standard Output.</p>

<p style="margin-left:22%; margin-top: 1em">If <i>name</i>
is a relative path and the environment variable
<b>FIASCO_DATA</b> is a (colon-separated) list of
directories, then <b>pnmtofiasco</b> writes the output file
to the first (writable) directory of this list. Otherwise,
<b>pnmtofiasco</b> write it to the current directory.</p>

<p style="margin-left:11%;"><b>-q</b> <i>N</i>,
<b>--quality=</b><i>N</i></p>

<p style="margin-left:22%;">Set quality of compression to
<i>N</i>. Quality is 1 (worst) to 100 (best); default is
20.</p>

<p style="margin-left:11%;"><b>-v</b>, <b>--version</b></p>

<p style="margin-left:22%;">Print <b>pnmtofiasco</b>
version number, then exit.</p>

<p style="margin-left:11%;"><b>-V</b> <i>N</i>,
<b>--verbose</b> <i>N</i></p>

<p style="margin-left:22%;">Set level of verbosity to
<i>N</i>. Level is 0 (no output at all), 1 (show progress
meter), or 2 (show detailed compression statistics); default
is 1.</p>

<p style="margin-left:11%;"><b>-B</b> <i>N</i>,
<b>--progress-meter</b> <i>N</i></p>

<p style="margin-left:22%;">Set type of progress-meter to
<i>N</i>. The following types are available; default is
1:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="10%"></td>
<td width="64%">


<p>no progress meter</p></td>
<td width="14%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>1</b></p></td>
<td width="10%"></td>
<td width="64%">


<p>RPM style progress bar using 50 hash marks</p></td>
<td width="14%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>2</b></p></td>
<td width="10%"></td>
<td width="64%">


<p>percentage meter</p></td>
<td width="14%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>-f</b> <i>name</i>,
<b>--config=</b><i>name</i></p>

<p style="margin-left:22%;">Load parameter file <i>name</i>
to initialize the options of <b>pnmtofiasco</b>. See file
<b>system.fiascorc</b> for an example of the syntax. Options
of <b>pnmtofiasco</b> are set by any of the following
methods (in the specified order):</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="10%"></td>
<td width="63%">


<p>Global resource file <b>/etc/system.fiascorc</b></p></td>
<td width="15%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="10%"></td>
<td width="63%">


<p>$HOME/.fiascorc</p></td>
<td width="15%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="10%"></td>
<td width="63%">


<p>command line</p></td>
<td width="15%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="10%"></td>
<td width="63%">


<p>--config=<i>name</i></p></td>
<td width="15%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>-h</b>, <b>--info</b></p>

<p style="margin-left:22%;">Print brief help, then
exit.</p>

<p style="margin-left:11%;"><b>-H</b>, <b>--help</b></p>

<p style="margin-left:22%;">Print detailed help, then
exit.</p>

<p style="margin-left:11%; margin-top: 1em">The options for
advanced users are: <b><br>
-b</b> <i>name</i>, <b>--basis-name=</b><i>name</i></p>

<p style="margin-left:22%;">Preload compression basis
<i>name</i> into FIASCO. The basis <i>name</i> provides the
initial compression dictionary. Either use one of the files
&rsquo;small.fco&rsquo;, &rsquo;medium.fco&rsquo;, or
&rsquo;large.fco&rsquo; that come with <b>pnmtofiasco</b> or
create a new ASCII basis file.</p>

<p style="margin-left:11%;"><b>-z</b> <i>N</i>,
<b>--optimize=</b><i>N</i></p>

<p style="margin-left:22%;">Set optimization level to
<i>N</i>. Level is 0 (fastest) to 3 (slowest); default is 1.
Be warned, the encoding time dramatically increased when
<i>N</i>=<b>2</b> or <i>N</i>=<b>3</b> while the compression
performance only slightly improves.</p>

<p style="margin-left:11%;"><b>-P</b>,
<b>--prediction</b></p>

<p style="margin-left:22%;">Use additional predictive
coding. If this optimization is enabled then the image is
compressed in two steps. In the first step, a coarse
approximation of the image is computed using large unichrome
blocks. Finally, the delta image is computed and the
prediction error is approximated using the standard FIASCO
algorithm.</p>

<p style="margin-left:11%;"><b>-D</b> <i>N</i>,
<b>--dictionary-size=</b><i>N</i></p>

<p style="margin-left:22%;">Set size of dictionary that is
used when coding the luminance band to <i>N</i>; default is
10000, i.e., the dictionary is not restricted.</p>

<p style="margin-left:11%;"><b>-C</b> <i>N</i>,
<b>--chroma-dictionary=</b><i>N</i></p>

<p style="margin-left:22%;">Set size of dictionary that is
used when coding chroma bands to <i>N</i>; default is
40.</p>

<p style="margin-left:11%;"><b>-Q</b> <i>N</i>,
<b>--chroma-qfactor=</b><i>N</i></p>

<p style="margin-left:22%;">Reduce the quality of chroma
band compression <i>N</i>-times with respect to the user
defined quality <i>q</i> of the luminance band compression
(<b>--quality</b>=<i>q</i>); default is 2.</p>

<p style="margin-left:11%;"><b>-t</b> <i>N</i>,
<b>--tiling-exponent=</b><i>N</i></p>

<p style="margin-left:22%;">Subdivide the image into
2^<i>N</i> tiles prior coding; default is 4, i.e. the image
is subdivided into 16 tiles. The processing order of the
individual tiles is defined by the option
<b>--tiling-method=</b><i>name</i>.</p>

<p style="margin-left:11%;"><b>-T</b> <i>name</i>,
<b>--tiling-method=</b><i>name</i></p>

<p style="margin-left:22%;">Order the individual image
tiles (the image is subdivided into; see option
<b>--tiling-exponent=</b><i>N</i>) by method <i>name</i>;
default is <b>desc-variance</b>.</p>

<p style="margin-left:11%;"><b>desc-variance</b></p>

<p style="margin-left:22%;">Tiles with small variances are
processed first.</p>

<p style="margin-left:11%;"><b>asc-variance</b></p>

<p style="margin-left:22%;">Tiles with large variances are
processed first.</p>

<p style="margin-left:11%;"><b>desc-spiral</b></p>

<p style="margin-left:22%;">Tiles are process in spiral
order starting in the middle.</p>

<p style="margin-left:11%;"><b>asc-spiral</b></p>

<p style="margin-left:22%;">Tiles are process in spiral
order starting at the border.</p>


<p style="margin-left:11%;"><b>--rpf-mantissa=</b><i>N</i></p>

<p style="margin-left:22%;">Use <i>N</i> mantissa bits for
quantized coefficients.</p>


<p style="margin-left:11%;"><b>--dc-rpf-mantissa=</b><i>N</i></p>

<p style="margin-left:22%;">Use <i>N</i> mantissa bits for
quantized DC coefficients.</p>


<p style="margin-left:11%;"><b>--rpf-range=</b><i>N</i></p>

<p style="margin-left:22%;">Coefficients outside the
quantization interval [-<i>N</i>,+<i>N</i>] are set to
zero.</p>


<p style="margin-left:11%;"><b>--dc-rpf-range=</b><i>N</i></p>

<p style="margin-left:22%;">DC coefficients outside the
quantization interval [-<i>N</i>,+<i>N</i>] are set to
zero.</p>

<p style="margin-left:11%; margin-top: 1em">Additional
options for video compression are <b><br>
-s</b> <i>N</i>, <b>--smooth=</b><i>N</i></p>

<p style="margin-left:22%;">Smooth decompressed reference
frames along the partitioning borders by the given amount
<i>N</i>. <i>N</i> is 0 (no smoothing) to 100; default is
70. This factor is stored in the FIASCO file.</p>

<p style="margin-left:11%;"><b>-m</b> <i>N</i>,
<b>--min-level=</b><i>N</i></p>

<p style="margin-left:22%;">Start prediction (motion
compensated prediction or additional prediction) on block
level <i>N</i>; default is level 6. I.e., motion
compensation is applied to all image blocks of at least 8x8
pixels (binary tree level <i>N</i>=6), 16x8 (<i>N</i>=7),
16x16 (<i>N</i>=8), etc.</p>

<p style="margin-left:11%;"><b>-M</b> <i>N</i>,
<b>--max-level=</b><i>N</i></p>

<p style="margin-left:22%;">Stop prediction (motion
compensated prediction or additional prediction) on block
level <i>N</i>; default is level 10. I.e., motion
compensation is applied to all image blocks of at most 16x16
pixels (<i>N</i>=8), 32x16 (<i>N</i>=9), 32x32
(<i>N</i>=10), etc.</p>

<p style="margin-left:11%;"><b>-2</b>,
<b>--half-pixel</b></p>

<p style="margin-left:22%;">Use half pixel precise motion
compensation.</p>

<p style="margin-left:11%;"><b>-F</b> <i>N</i>,
<b>--fps=</b><i>N</i></p>

<p style="margin-left:22%;">Set number of frames per second
to <i>N</i>. This value is stored in the FIASCO output file
and is used in the decoder <b>fiascotopnm</b>(1) <br>
to control the framerate.</p>

<p style="margin-left:11%;"><b>-p</b> <i>type</i>,
<b>--pattern=</b><i>type</i></p>

<p style="margin-left:22%;">Defines the type of inter frame
compression which should be applied to individual frames of
a video stream. <i>type</i> is a sequence of characters;
default is &rsquo;IPPPPPPPPP&rsquo;. Element <b>N</b>
defines the type of predicting which should be used for
frame <b>N</b>; the frame type pattern is periodically
extended. Valid characters are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>I</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>intra frame, i.e., no motion compensated prediction is
used at all.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>P</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>predicted frame, i.e., a previously encoded frame is
used for prediction (forward prediction).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>B</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>bidirectional predicted frame, i.e., not only a
previously shown frame but also a frame of the future is
used for prediction (forward, backward or interpolated
prediction).</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>--cross-B-search</b></p>

<p style="margin-left:22%;">Instead of using exhaustive
search the &rsquo;Cross-B-Search&rsquo; algorithm is used to
find the best interpolated prediction of B-frames.</p>

<p style="margin-left:11%;">--B-as-past-ref</p>

<p style="margin-left:22%;">Also use previously encoded
B-frames when prediction the current frame. If this option
is not set, only I- and P-frames are used to predict the
current frame.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Compress the
still image &rsquo;foo.ppm&rsquo; to the FIASCO file
&rsquo;foo.wfa&rsquo; using the default options:</p>

<p style="margin-left:11%; margin-top: 1em">pnmtofiasco
&lt; foo.ppm &gt;foo.wfa</p>

<p style="margin-left:11%; margin-top: 1em">Compress the
video frames &rsquo;foo0*.ppm&rsquo; to the FIASCO file
&rsquo;video.wfa&rsquo; using half pixel precise motion
compensation at a frame rate of 15 frames per second. Intra
frame 1 is used to predict P-frame 4, frames 1 and 4 are
used to predict B-frames 2 and 3, and so on. Frame 10 is
again an intra-frame.</p>

<p style="margin-left:11%; margin-top: 1em">pnmtofiasco -2
-p &rsquo;IBBPBBPBB&rsquo; -fps 15 -o video.wfa
foo0*.ppm</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>/etc/system.fiascorc</b></p>

<p style="margin-left:22%;">The systemwide initialization
file.</p>

<p style="margin-left:11%;">$HOME<b>/.fiascorc</b></p>

<p style="margin-left:22%;">The personal initialization
file.</p>

<h2>ENVIRONMENT
<a name="ENVIRONMENT"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>FIASCO_IMAGES</b></p>

<p style="margin-left:22%;">Search path for image files.
Default is &rsquo;./&rsquo;.</p>

<p style="margin-left:11%;"><b>FIASCO_DATA</b></p>

<p style="margin-left:22%;">Search and save path for FIASCO
files. Default is &rsquo;./&rsquo;.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>fiascotopnm</b>(1)
, <b>ppmtojpeg</b>(1) , <b>pnmtojbig</b>(1) ,
<b>pamtogif</b>(1) , <b>pnm</b>(1)</p>

<p style="margin-left:11%; margin-top: 1em">Ullrich Hafner,
Juergen Albert, Stefan Frank, and Michael Unger. <b>Weighted
Finite Automata for Video Compression</b>, IEEE Journal on
Selected Areas In Communications, January 1998</p>

<p style="margin-left:11%; margin-top: 1em">Ullrich Hafner.
<b>Low Bit-Rate Image and Video Coding with Weighted Finite
Automata</b>, Ph.D. thesis, Mensch &amp; Buch Verlag, ISBN
3-89820-002-7, October 1999. <br>

<a href="http://www.linuxjournal.com/node/4367/print">FIASCO:
An Open-Source Fractal Image and Sequence Codec</a> , Linux
Journal, January 2001.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Ullrich Hafner
&lt;<i>hafner@bigfoot.de</i>&gt;</p>
<hr>
</body>
</html>
