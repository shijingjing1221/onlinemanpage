<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:50:54 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>virt-get-kernel</title>

</head>
<body>

<h1 align="center">virt-get-kernel</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#MACHINE READABLE OUTPUT">MACHINE READABLE OUTPUT</a><br>
<a href="#ENVIRONMENT VARIABLES">ENVIRONMENT VARIABLES</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>
<a href="#LICENSE">LICENSE</a><br>
<a href="#BUGS">BUGS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">virt&minus;get&minus;kernel
&minus; Extract kernel and ramdisk from guests</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<pre style="margin-left:11%; margin-top: 1em"> virt&minus;get&minus;kernel [&minus;&minus;options] &minus;d domname
 virt&minus;get&minus;kernel [&minus;&minus;options] &minus;a disk.img</pre>


<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This option
extracts the kernel and initramfs from a guest.</p>

<p style="margin-left:11%; margin-top: 1em">The format of
the disk image is automatically detected unless you specify
it by using the <i>&minus;&minus;format</i> option.</p>

<p style="margin-left:11%; margin-top: 1em">In the case
where the guest contains multiple kernels, the one with the
highest version number is chosen. To extract arbitrary
kernels from the disk image, see <i>guestfish</i>(1). To
extract the entire <tt>&quot;/boot&quot;</tt> directory of a
guest, see <i>virt&minus;copy&minus;out</i>(1).</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;help</b></p>

<p style="margin-left:17%;">Display help.</p>

<p style="margin-left:11%;"><b>&minus;a</b> file <b><br>
&minus;&minus;add</b> file</p>

<p style="margin-left:17%;">Add <i>file</i> which should be
a disk image from a virtual machine.</p>

<p style="margin-left:17%; margin-top: 1em">The format of
the disk image is auto-detected. To override this and force
a particular format use the <i>&minus;&minus;format</i>
option.</p>

<p style="margin-left:11%;"><b>&minus;a</b>
<small>URI</small> <b><br>
&minus;&minus;add</b> <small>URI</small></p>

<p style="margin-left:17%;">Add a remote disk. The
<small>URI</small> format is compatible with guestfish. See
&quot; <small>ADDING REMOTE STORAGE&quot;</small> in
<i>guestfish</i>(1).</p>

<p style="margin-left:11%;"><b>&minus;&minus;colors <br>
&minus;&minus;colours</b></p>

<p style="margin-left:17%;">Use <small>ANSI</small> colour
sequences to colourize messages. This is the default when
the output is a tty. If the output of the program is
redirected to a file, <small>ANSI</small> colour sequences
are disabled unless you use this option.</p>

<p style="margin-left:11%;"><b>&minus;c</b>
<small>URI</small> <b><br>
&minus;&minus;connect</b> <small>URI</small></p>

<p style="margin-left:17%;">If using libvirt, connect to
the given <i><small>URI</small></i> . If omitted, then we
connect to the default libvirt hypervisor.</p>

<p style="margin-left:17%; margin-top: 1em">If you specify
guest block devices directly (<i>&minus;a</i>), then libvirt
is not used at all.</p>

<p style="margin-left:11%;"><b>&minus;d</b> guest <b><br>
&minus;&minus;domain</b> guest</p>

<p style="margin-left:17%;">Add all the disks from the
named libvirt guest. Domain UUIDs can be used instead of
names.</p>

<p style="margin-left:11%;"><b>&minus;&minus;format</b>
raw|qcow2|.. <b><br>
&minus;&minus;format</b> auto</p>

<p style="margin-left:17%;">The default for the
<i>&minus;a</i> option is to auto-detect the format of the
disk image. Using this forces the disk format for the
<i>&minus;a</i> option on the command line.</p>

<p style="margin-left:17%; margin-top: 1em">If you have
untrusted raw-format guest disk images, you should use this
option to specify the disk format. This avoids a possible
security problem with malicious guests (
<small>CVE&minus;2010&minus;3851</small> ).</p>


<p style="margin-left:11%;"><b>&minus;&minus;machine&minus;readable</b></p>

<p style="margin-left:17%;">This option is used to make the
output more machine friendly when being parsed by other
programs. See &quot; <small>MACHINE READABLE
OUTPUT&quot;</small> below.</p>

<p style="margin-left:11%;"><b>&minus;o</b> directory
<b><br>
&minus;&minus;output</b> directory</p>

<p style="margin-left:17%;">This option specifies the
output directory where kernel and initramfs from the guest
are written.</p>

<p style="margin-left:17%; margin-top: 1em">If not
specified, the default output is the current directory.</p>

<p style="margin-left:11%;"><b>&minus;&minus;prefix</b>
prefix</p>

<p style="margin-left:17%;">This option specifies a prefix
for the extracted files.</p>

<p style="margin-left:17%; margin-top: 1em">If a prefix is
specified, then there will be a dash
(<tt>&quot;&minus;&quot;</tt>) after the prefix and before
the rest of the file name; for example, a kernel in the
guest like
<tt>&quot;vmlinuz&minus;3.19.0&minus;20&minus;generic&quot;</tt>
is saved as
<tt>&quot;mydistro&minus;vmlinuz&minus;3.19.0&minus;20&minus;generic&quot;</tt>
when the prefix is <tt>&quot;mydistro&quot;</tt>.</p>

<p style="margin-left:17%; margin-top: 1em">See also
<i>&minus;&minus;unversioned&minus;names</i>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;q</b></p></td>
<td width="86%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;&minus;quiet</b></p>

<p style="margin-left:17%;">Don&rsquo;t print ordinary
progress messages.</p>


<p style="margin-left:11%;"><b>&minus;&minus;unversioned&minus;names</b></p>

<p style="margin-left:17%;">This option affects the
destination file name of extracted files.</p>

<p style="margin-left:17%; margin-top: 1em">If enabled,
files will be saved locally just with the base name; for
example, kernel and ramdisk in the guest like
<tt>&quot;vmlinuz&minus;3.19.0&minus;20&minus;generic&quot;</tt>
and
<tt>&quot;initrd.img&minus;3.19.0&minus;20&minus;generic&quot;</tt>
are saved respectively as <tt>&quot;vmlinuz&quot;</tt> and
<tt>&quot;initrd.img&quot;</tt>.</p>

<p style="margin-left:17%; margin-top: 1em">See also
<i>&minus;&minus;prefix</i>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;v</b></p></td>
<td width="86%">
</td></tr>
</table>


<p style="margin-left:11%;"><b>&minus;&minus;verbose</b></p>

<p style="margin-left:17%;">Enable verbose messages for
debugging.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;V</b></p></td>
<td width="86%">
</td></tr>
</table>


<p style="margin-left:11%;"><b>&minus;&minus;version</b></p>

<p style="margin-left:17%;">Display version number and
exit.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;x</b></p></td>
<td width="3%"></td>
<td width="60%">


<p>Enable tracing of libguestfs <small>API</small>
calls.</p> </td>
<td width="23%">
</td></tr>
</table>

<h2>MACHINE READABLE OUTPUT
<a name="MACHINE READABLE OUTPUT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>&minus;&minus;machine&minus;readable</i> option can be
used to make the output more machine friendly, which is
useful when calling virt-get-kernel from other programs,
GUIs etc.</p>

<p style="margin-left:11%; margin-top: 1em">Use the option
on its own to query the capabilities of the virt-get-kernel
binary. Typical output looks like this:</p>

<pre style="margin-left:11%; margin-top: 1em"> $ virt&minus;get&minus;kernel &minus;&minus;machine&minus;readable
 virt&minus;get&minus;kernel</pre>


<p style="margin-left:11%; margin-top: 1em">A list of
features is printed, one per line, and the program exits
with status 0.</p>

<h2>ENVIRONMENT VARIABLES
<a name="ENVIRONMENT VARIABLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">For other
environment variables which affect all libguestfs programs,
see &quot; <small>ENVIRONMENT VARIABLES&quot;</small> in
<i>guestfs</i>(3).</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This program
returns 0 if successful, or non-zero if there was an
error.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>guestfs</i>(3),
<i>guestfish</i>(1), <i>guestmount</i>(1),
<i>virt&minus;copy&minus;out</i>(1),
http://libguestfs.org/.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Richard W.M.
Jones http://people.redhat.com/~rjones/</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright (C)
2013&minus;2016 Red Hat Inc.</p>

<h2>LICENSE
<a name="LICENSE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This program is
free software; you can redistribute it and/or modify it
under the terms of the <small>GNU</small> General Public
License as published by the Free Software Foundation; either
version 2 of the License, or (at your option) any later
version.</p>

<p style="margin-left:11%; margin-top: 1em">This program is
distributed in the hope that it will be useful, but
<small>WITHOUT ANY WARRANTY</small> ; without even the
implied warranty of <small>MERCHANTABILITY</small> or
<small>FITNESS FOR A PARTICULAR PURPOSE.</small> See the
<small>GNU</small> General Public License for more
details.</p>

<p style="margin-left:11%; margin-top: 1em">You should have
received a copy of the <small>GNU</small> General Public
License along with this program; if not, write to the Free
Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
Boston, <small>MA 02110&minus;1301 USA.</small></p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">To get a list
of bugs against libguestfs, use this link:
https://bugzilla.redhat.com/buglist.cgi?component=libguestfs&amp;product=Virtualization+Tools</p>

<p style="margin-left:11%; margin-top: 1em">To report a new
bug against libguestfs, use this link:
https://bugzilla.redhat.com/enter_bug.cgi?component=libguestfs&amp;product=Virtualization+Tools</p>

<p style="margin-left:11%; margin-top: 1em">When reporting
a bug, please supply:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The version of libguestfs.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Where you got libguestfs (eg. which Linux distro,
compiled from source, etc)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Describe the bug accurately and give a way to reproduce
it.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Run <i>libguestfs&minus;test&minus;tool</i>(1) and paste
the <b>complete, unedited</b> output into the bug
report.</p> </td></tr>
 </table>
<hr>
</body>
</html>
