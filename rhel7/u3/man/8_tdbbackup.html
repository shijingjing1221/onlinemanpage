<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:44:11 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>TDBBACKUP</title>

</head>
<body>

<h1 align="center">TDBBACKUP</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#COMMANDS">COMMANDS</a><br>
<a href="#VERSION">VERSION</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">tdbbackup
&minus; tool for backing up and for validating the integrity
of samba .tdb files</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="55%">


<p style="margin-top: 1em"><b>tdbbackup</b>
[&minus;s&nbsp;suffix] [&minus;v] [&minus;h] [&minus;l]</p></td>
<td width="34%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This tool is
part of the <b>samba</b>(1) suite.</p>


<p style="margin-left:11%; margin-top: 1em"><b>tdbbackup</b>
is a tool that may be used to backup samba .tdb files. This
tool may also be used to verify the integrity of the .tdb
files prior to samba startup or during normal operation. If
it finds file damage and it finds a prior backup the backup
file will be restored.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">&minus;h</p>

<p style="margin-left:17%;">Get help information.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;s
suffix</p>

<p style="margin-left:17%;">The <b>&minus;s</b> option
allows the administrator to specify a file backup extension.
This way it is possible to keep a history of tdb backup
files by using a new suffix for each backup.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;v</p>

<p style="margin-left:17%;">The <b>&minus;v</b> will check
the database for damages (corrupt data) which if detected
causes the backup to be restored.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;l</p>

<p style="margin-left:17%;">This options disables any
locking, by passing TDB_NOLOCK to tdb_open_ex(). Only use
this for database files which are not used by any other
process! And also only if it is otherwise not possible to
open the database, e.g. databases which were created with
mutex locking.</p>

<h2>COMMANDS
<a name="COMMANDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>GENERAL
INFORMATION</i></p>

<p style="margin-left:11%; margin-top: 1em">The
<b>tdbbackup</b> utility can safely be run at any time. It
was designed so that it can be used at any time to validate
the integrity of tdb files, even during Samba operation.
Typical usage for the command will be:</p>

<p style="margin-left:11%; margin-top: 1em">tdbbackup
[&minus;s suffix] *.tdb</p>

<p style="margin-left:11%; margin-top: 1em">Before
restarting samba the following command may be run to
validate .tdb files:</p>

<p style="margin-left:11%; margin-top: 1em">tdbbackup
&minus;v [&minus;s suffix] *.tdb</p>

<p style="margin-left:11%; margin-top: 1em">Samba .tdb
files are stored in various locations, be sure to run backup
all .tdb file on the system. Important files includes:</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>secrets.tdb</b> &minus; usual location is in the
/usr/local/samba/private directory, or on some systems in
/etc/samba.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>passdb.tdb</b> &minus; usual location is in the
/usr/local/samba/private directory, or on some systems in
/etc/samba.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>*.tdb</b> located in the /usr/local/samba/var directory
or on some systems in the /var/cache or /var/lib/samba
directories.</p>

<h2>VERSION
<a name="VERSION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This man page
is correct for version 3 of the Samba suite.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The original
Samba software and related utilities were created by Andrew
Tridgell. Samba is now developed by the Samba Team as an
Open Source project similar to the way the Linux kernel is
developed.</p>

<p style="margin-left:11%; margin-top: 1em">The tdbbackup
man page was written by John H Terpstra.</p>
<hr>
</body>
</html>
