<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:38:23 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>STRUCT NAND_ECC_CTRL</title>

</head>
<body>

<h1 align="center">STRUCT NAND_ECC_CTRL</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#MEMBERS">MEMBERS</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">struct_nand_ecc_ctrl
&minus; Control structure for ECC</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">struct
nand_ecc_ctrl { <br>
nand_ecc_modes_t mode; <br>
int steps; <br>
int size; <br>
int bytes; <br>
int total; <br>
int strength; <br>
int prepad; <br>
int postpad; <br>
struct nand_ecclayout * layout; <br>
void * priv; <br>
void (* hwctl) (struct mtd_info *mtd, int mode); <br>
int (* calculate) (struct mtd_info *mtd, const uint8_t
*dat,uint8_t *ecc_code); <br>
int (* correct) (struct mtd_info *mtd, uint8_t *dat, uint8_t
*read_ecc,uint8_t *calc_ecc); <br>
int (* read_page_raw) (struct mtd_info *mtd, struct
nand_chip *chip,uint8_t *buf, int oob_required, int page);
<br>
int (* write_page_raw) (struct mtd_info *mtd, struct
nand_chip *chip,const uint8_t *buf, int oob_required); <br>
int (* read_page) (struct mtd_info *mtd, struct nand_chip
*chip,uint8_t *buf, int oob_required, int page); <br>
int (* read_subpage) (struct mtd_info *mtd, struct nand_chip
*chip,uint32_t offs, uint32_t len, uint8_t *buf); <br>
int (* write_subpage) (struct mtd_info *mtd, struct
nand_chip *chip,uint32_t offset, uint32_t data_len,const
uint8_t *data_buf, int oob_required); <br>
int (* write_page) (struct mtd_info *mtd, struct nand_chip
*chip,const uint8_t *buf, int oob_required); <br>
int (* write_oob_raw) (struct mtd_info *mtd, struct
nand_chip *chip,int page); <br>
int (* read_oob_raw) (struct mtd_info *mtd, struct nand_chip
*chip,int page); <br>
int (* read_oob) (struct mtd_info *mtd, struct nand_chip
*chip, int page); <br>
int (* write_oob) (struct mtd_info *mtd, struct nand_chip
*chip,int page); <br>
};</p>

<h2>MEMBERS
<a name="MEMBERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">mode</p>

<p style="margin-left:17%;">ECC mode</p>

<p style="margin-left:11%; margin-top: 1em">steps</p>

<p style="margin-left:17%;">number of ECC steps per
page</p>

<p style="margin-left:11%; margin-top: 1em">size</p>

<p style="margin-left:17%;">data bytes per ECC step</p>

<p style="margin-left:11%; margin-top: 1em">bytes</p>

<p style="margin-left:17%;">ECC bytes per step</p>

<p style="margin-left:11%; margin-top: 1em">total</p>

<p style="margin-left:17%;">total number of ECC bytes per
page</p>

<p style="margin-left:11%; margin-top: 1em">strength</p>

<p style="margin-left:17%;">max number of correctible bits
per ECC step</p>

<p style="margin-left:11%; margin-top: 1em">prepad</p>

<p style="margin-left:17%;">padding information for
syndrome based ECC generators</p>

<p style="margin-left:11%; margin-top: 1em">postpad</p>

<p style="margin-left:17%;">padding information for
syndrome based ECC generators</p>

<p style="margin-left:11%; margin-top: 1em">layout</p>

<p style="margin-left:17%;">ECC layout control struct
pointer</p>

<p style="margin-left:11%; margin-top: 1em">priv</p>

<p style="margin-left:17%;">pointer to private ECC control
data</p>

<p style="margin-left:11%; margin-top: 1em">hwctl</p>

<p style="margin-left:17%;">function to control hardware
ECC generator. Must only be provided if an hardware ECC is
available</p>

<p style="margin-left:11%; margin-top: 1em">calculate</p>

<p style="margin-left:17%;">function for ECC calculation or
readback from ECC hardware</p>

<p style="margin-left:11%; margin-top: 1em">correct</p>

<p style="margin-left:17%;">function for ECC correction,
matching to ECC generator (sw/hw)</p>


<p style="margin-left:11%; margin-top: 1em">read_page_raw</p>

<p style="margin-left:17%;">function to read a raw page
without ECC</p>


<p style="margin-left:11%; margin-top: 1em">write_page_raw</p>

<p style="margin-left:17%;">function to write a raw page
without ECC</p>

<p style="margin-left:11%; margin-top: 1em">read_page</p>

<p style="margin-left:17%;">function to read a page
according to the ECC generator requirements; returns maximum
number of bitflips corrected in any single ECC step, 0 if
bitflips uncorrectable, &minus;EIO hw error</p>


<p style="margin-left:11%; margin-top: 1em">read_subpage</p>

<p style="margin-left:17%;">function to read parts of the
page covered by ECC; returns same as <b>read_page</b></p>


<p style="margin-left:11%; margin-top: 1em">write_subpage</p>

<p style="margin-left:17%;">function to write parts of the
page covered by ECC.</p>

<p style="margin-left:11%; margin-top: 1em">write_page</p>

<p style="margin-left:17%;">function to write a page
according to the ECC generator requirements.</p>


<p style="margin-left:11%; margin-top: 1em">write_oob_raw</p>

<p style="margin-left:17%;">function to write chip OOB data
without ECC</p>


<p style="margin-left:11%; margin-top: 1em">read_oob_raw</p>

<p style="margin-left:17%;">function to read chip OOB data
without ECC</p>

<p style="margin-left:11%; margin-top: 1em">read_oob</p>

<p style="margin-left:17%;">function to read chip OOB
data</p>

<p style="margin-left:11%; margin-top: 1em">write_oob</p>

<p style="margin-left:17%;">function to write chip OOB
data</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Thomas
Gleixner</b> &lt;tglx@linutronix.de&gt;</p>

<p style="margin-left:17%;">Author.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>
<hr>
</body>
</html>
