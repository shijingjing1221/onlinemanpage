<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:15:44 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>RZ</title>

</head>
<body>

<h1 align="center">RZ</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#SECURITY">SECURITY</a><br>
<a href="#ENVIRONMENT">ENVIRONMENT</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#VMS VERSION">VMS VERSION</a><br>
<a href="#ZMODEM CAPABILITIES">ZMODEM CAPABILITIES</a><br>
<a href="#FILES">FILES</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">rx, rb, rz
&minus; XMODEM, YMODEM, ZMODEM (Batch) file receive</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>rz</b>
[&minus;&nbsp;<b>+8abeOpqRtTuUvy</b>] <b><br>
rb</b> [&minus;&nbsp;<b>+abqRtuUvy</b>] <b><br>
rx</b> [&minus;&nbsp;<b>abceqRtuUv</b>] <i>file</i> <br>
[<b>&minus;</b>][<b>v</b>]<b>rzCOMMAND</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This program
uses error correcting protocols to receive files over a
dial-in serial port from a variety of programs running under
PC-DOS, CP/M, <small>Unix,</small> and other operating
systems. It is invoked from a shell prompt manually, or
automatically as a result of an &quot;sz file ...&quot;
command given to the calling program.</p>

<p style="margin-left:11%; margin-top: 1em">While <i>rz</i>
is smart enough to be called from <i>cu(1),</i> very few
versions of <i>cu(1)</i> are smart enough to allow <i>rz</i>
to work properly. Unix flavors of Professional-YAM are
available for such dial-out application.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Rz</b>
(Receive ZMODEM) receives files with the ZMODEM batch
protocol. Pathnames are supplied by the sending program, and
directories are made if necessary (and possible). Normally,
the &quot;rz&quot; command is automatically issued by the
calling ZMODEM program, but some defective ZMODEM
implementations may require starting <i>rz</i> the old
fashioned way.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Rb</b>
receives file(s) with YMODEM, accepting either standard 128
byte sectors or 1024 byte sectors (YAM sb <b>-k</b> option).
The user should determine when the 1024 byte block length
actually improves throughput without causing lost data or
even system crashes.</p>

<p style="margin-left:11%; margin-top: 1em">If True YMODEM
(Omen Technology trademark) file information (file length,
etc.) is received, the file length controls the number of
bytes written to the output dataset, and the modify time and
file mode (iff non zero) are set accordingly.</p>

<p style="margin-left:11%; margin-top: 1em">If no True
YMODEM file information is received, slashes in the pathname
are changed to underscore, and any trailing period in the
pathname is eliminated. This conversion is useful for files
received from CP/M systems. With YMODEM, each file name is
converted to lower case unless it contains one or more lower
case letters.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Rx</b>
receives a single <i>file</i> with XMODEM or XMODEM-1k
protocol. The user should determine when the 1024 byte block
length actually improves throughput without causing
problems. The user must supply the file name to both sending
and receiving programs. Up to 1023 garbage characters may be
added to the received file.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Rz</b> may
be invoked as <b>rzCOMMAND</b> (with an optional leading
&minus; as generated by login(1)). For each received file,
<i>rz</i> will pipe the file to &lsquo;&lsquo;COMMAND
filename&rsquo;&rsquo; where filename is the name of the
transmitted file with the file contents as standard
input.</p>

<p style="margin-left:11%; margin-top: 1em">Each file
transfer is acknowledged when COMMAND exits with 0 status. A
non zero exit status terminates transfers.</p>

<p style="margin-left:11%; margin-top: 1em">A typical use
for this form is <i>rzrmail</i> which calls rmail(1) to post
mail to the user specified by the transmitted file name. For
example, sending the file &quot;caf&quot; from a PC-DOS
system to <i>rzrmail</i> on a <small>Unix</small> system
would result in the contents of the DOS file &quot;caf&quot;
being mailed to user &quot;caf&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">On some
<small>Unix</small> systems, the login directory must
contain a link to COMMAND as login sets SHELL=rsh which
disallows absolute pathnames. If invoked with a leading
&lsquo;&lsquo;v&rsquo;&rsquo;, <i>rz</i> will be verbose
(see <b>v</b> option). The following entry works for
<small>Unix</small> SYS III/V:</p>

<p align="center">rzrmail::5:1::/bin:/usr/local/rzrmail If
the SHELL environment variable includes <i>rsh</i> ,
<i>rbash</i> or <i>rksh</i> (restricted shell), <i>rz</i>
will not accept absolute pathnames or references to a parent
directory, will not modify an existing file, and removes any
files received in error.</p>

<p style="margin-top: 1em">If <b>rz</b> is invoked with
stdout and stderr to different datasets, Verbose is set to
2, causing frame by frame progress reports to stderr. This
may be disabled with the <b>q</b> option.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The meanings of
the available options are: <b><br>
-+, --append</b></p>

<p style="margin-left:22%;">append received data to an
existing file (ZMODEM, ASCII only).</p>

<p style="margin-left:11%;"><b>-a, --ascii</b></p>

<p style="margin-left:22%;">Convert files to
<small>Unix</small> conventions by stripping carriage
returns and all characters beginning with the first Control
Z (CP/M end of file).</p>

<p style="margin-left:11%;"><b>-b, --binary</b></p>

<p style="margin-left:22%;">Binary (tell it like it is)
file transfer override.</p>

<p style="margin-left:11%;"><b>-B NUMBER, --bufsize
NUMBER</b></p>

<p style="margin-left:22%;">Buffer <b>NUMBER</b> bytes
before writing to disk. Default ist 32768, which should be
enough for most situations. If you have a slow machine or a
bad disk interface or suffer from other hardware problems
you might want to increase the buffersize. <b>-1</b> or
<b>auto</b> use a buffer large enough to buffer the whole
file. Be careful with this options - things normally get
worse, not better, if the machine starts to swap.</p>

<p style="margin-left:11%;"><b>-c, --with-crc</b></p>

<p style="margin-left:22%;">XMODEM only. Use 16 bit CRC
(normally a one byte checksum is used).</p>

<p style="margin-left:11%;"><b>-C,
--allow-remote-commands</b></p>

<p style="margin-left:22%;">allow remote command execution
( <b>insecure</b> ). This allows the sender to execute an
arbitrary command through <b>system</b> () or <b>execl</b>
(). Default is to disable this feature (?). This option is
ignored if running in restricted mode.</p>

<p style="margin-left:11%;"><b>-D, --null</b></p>

<p style="margin-left:22%;">Output file data to /dev/null;
for testing. (Unix only)</p>

<p style="margin-left:11%;"><b>--delay-startup N</b></p>

<p style="margin-left:22%;">Wait <b>N</b> seconds before
doing anything.</p>

<p style="margin-left:11%;"><b>-e, --escape</b></p>

<p style="margin-left:22%;">Force sender to escape all
control characters; normally XON, XOFF, DLE, CR-@-CR, and
Ctrl-X are escaped.</p>

<p style="margin-left:11%;"><b>-E, --rename</b></p>

<p style="margin-left:22%;">Rename incoming file if target
filename already exists. The new file name will have a dot
and a number (0..999) appended.</p>

<p style="margin-left:11%;"><b>-h, --help</b></p>

<p style="margin-left:22%;">give help screen.</p>

<p style="margin-left:11%;"><b>-m N, --min-bps N</b></p>

<p style="margin-left:22%;">Stop transmission if BPS-Rate
(Bytes Per Second) falls below N for a certain time (see
--min-bps-time option).</p>

<p style="margin-left:11%;"><b>-M N, --min-bps-time</b></p>

<p style="margin-left:22%;">Used together with --min-bps.
Default is 120 (seconds).</p>

<p style="margin-left:11%;"><b>-O,
--disable-timeouts</b></p>

<p style="margin-left:22%;">Disable read timeout handling
code. This makes lrz hang if the sender does not send any
more, but increases performance (a bit) and decreases system
load (through reducing the number of system calls by about
50 percent).</p>

<p style="margin-left:22%; margin-top: 1em">Use this option
with care.</p>

<p style="margin-left:11%;"><b>--o-sync</b></p>

<p style="margin-left:22%;">Open output files in
synchronous write mode. This may be useful if you experience
errors due to lost interrupts if update (or bdflush or
whoever this daemon is called on your system) writes the
buffers to the disk.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
ignored and a warning is printed if your systems
doesn&rsquo;t support O_SYNC.</p>

<p style="margin-left:11%;"><b>-p, --protect</b></p>

<p style="margin-left:22%;">(ZMODEM) Protect: skip file if
destination file exists.</p>

<p style="margin-left:11%;"><b>-q, --quiet</b></p>

<p style="margin-left:22%;">Quiet suppresses verbosity.</p>

<p style="margin-left:11%;"><b>-r, --resume</b></p>

<p style="margin-left:22%;">Crash recovery mode. lrz tries
to resume interrupted file transfers.</p>

<p style="margin-left:11%;"><b>-R, --restricted</b></p>

<p style="margin-left:22%;">Enter more restricted mode. lrz
will not create directories or files with a leading dot if
this option is given twice.</p>

<p style="margin-left:22%; margin-top: 1em">See
<b>SECURITY</b> for mode information about restricted
mode.</p>

<p style="margin-left:11%;"><b>-s HH:MM, --stop-at
HH:MM</b></p>

<p style="margin-left:22%;">Stop transmission at <b>HH</b>
hours, <b>MM</b> minutes. Another variant, using <b>+N</b>
instead of <b>HH:MM,</b> stops transmission in <b>N</b>
seconds.</p>

<p style="margin-left:11%;"><b>-S, --timesync</b></p>

<p style="margin-left:22%;">Request timesync packet from
the sender. The sender sends its system time, causing lrz to
complain about more then 60 seconds difference.</p>

<p style="margin-left:22%; margin-top: 1em">Lrz tries to
set the local system time to the remote time if this option
is given twice (this fails if lrz is not run by root).</p>

<p style="margin-left:22%; margin-top: 1em">This option
makes lrz incompatible with certain other ZModems.
Don&rsquo;t use it unless you know what you are doing.</p>

<p style="margin-left:11%;"><b>--syslog[=off]</b></p>

<p style="margin-left:22%;">turn syslogging on or off. the
default is set at configure time. This option is ignored if
no syslog support is compiled in.</p>

<p style="margin-left:11%;"><b>-t TIM, --timeout
TIM</b></p>

<p style="margin-left:22%;">Change timeout to <i>TIM</i>
tenths of seconds. This is ignored if timeout handling is
turned of through the <b>O</b> option.</p>

<p style="margin-left:11%;"><b>--tcp-client
ADDRESS:PORT</b></p>

<p style="margin-left:22%;">Act as a tcp/ip client: Connect
to the given port.</p>

<p style="margin-left:22%; margin-top: 1em">See
<b>--tcp-server</b> for more information.</p>

<p style="margin-left:11%;"><b>--tcp-server</b></p>

<p style="margin-left:22%;">Act as a server: Open a socket,
print out what to do, wait for connection.</p>

<p style="margin-left:22%; margin-top: 1em">You will
normally not want to use this option as lrzsz is the only
zmodem which understands what to do (private extension). You
might want to use this if you have to use zmodem (for which
reason whatever), and cannot use the <b>--tcp</b> option of
<i>lsz</i> (perhaps because your telnet doesn&rsquo;t allow
to spawn a local program with stdin/stdout connected to the
remote side).</p>

<p style="margin-left:22%; margin-top: 1em">If you use this
option you have to start <i>lsz</i> with the <b>--tcp-client
ADDRESS:PORT</b> option. <i>lrz will print the address and
port on startup.</i></p>

<p style="margin-left:22%; margin-top: 1em">Use of this
option imposes a security risk, somebody else could connect
to the port in between. See <b>SECURITY</b> for details.</p>

<p style="margin-left:11%;"><b>-U, --unrestrict</b></p>

<p style="margin-left:22%;">turn off restricted mode (this
is not possible if running under a restricted shell).</p>

<p style="margin-left:11%;"><b>--version</b></p>

<p style="margin-left:22%;">prints out version number.</p>

<p style="margin-left:11%;"><b>-v, --verbose</b></p>

<p style="margin-left:22%;">Verbose causes a list of file
names to be appended to stderr. More v&rsquo;s generate more
output.</p>

<p style="margin-left:11%;"><b>-wN, --windowsize N</b></p>

<p style="margin-left:22%;">Set window size to N.</p>

<p style="margin-left:11%;"><b>-X, --xmodem</b></p>

<p style="margin-left:22%;">use XMODEM protocol.</p>

<p style="margin-left:11%;"><b>-y, --overwrite</b></p>

<p style="margin-left:22%;">Yes, clobber any existing files
with the same name.</p>

<p style="margin-left:11%;"><b>--ymodem</b></p>

<p style="margin-left:22%;">use YMODEM protocol.</p>

<p style="margin-left:11%;"><b>-Z, --zmodem</b></p>

<p style="margin-left:22%;">use ZMODEM protocol.</p>

<h2>SECURITY
<a name="SECURITY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Contrary to the
original ZMODEM lrz defaults to restricted mode. In
restricted mode lrz will not accept absolute pathnames or
references to a parent directory, will not modify an
existing file, and removes any files received in error.
Remote command execution is disabled.</p>

<p style="margin-left:11%; margin-top: 1em">To use a more
restricted mode set the environment variable
<b>ZMODEM_RESTRICTED</b> or give the <b>R</b> option. This
disables creation of subdirectories and invisible files.</p>

<p style="margin-left:11%; margin-top: 1em">Restricted mode
may be turned off with the <b>U</b> option, unless lrz runs
under a restricted shell. <br>
Use of the</p>

<p style="margin-left:22%;"><b>--tcp-client</b> or
<b>--tcp-server</b> options imposes a security risk, as
somebody else could connect to the port before you do it,
and grab your data. If there&rsquo;s strong demand for a
more secure mode i might introduce some sort of password
challenge.</p>

<h2>ENVIRONMENT
<a name="ENVIRONMENT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">lrz uses the
following environment variables:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>SHELL</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>lrz recognizes a restricted shell if this variable
includes <i>rsh</i> or <i>rksh</i></p></td></tr>
</table>

<p style="margin-left:11%;"><b>ZMODEM_RESTRICTED</b></p>

<p style="margin-left:22%;">lrz enters the more restricted
mode if the variable is set.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-top: 1em">(Pro-YAM command) <i><br>
&lt;ALT-2&gt;</i> <br>
Pro-YAM Command: <i>sz *.h *.c</i> <br>
(This automatically invokes <i>rz</i> on the connected
system.)</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">ZMODEM.DOC,
YMODEM.DOC, Professional-YAM, crc(omen), sz(omen),
usq(omen), undos(omen)</p>

<p style="margin-left:11%; margin-top: 1em">Compile time
options required for various operating systems are described
in the source file.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Sending serial
data to timesharing minicomputers at sustained high speeds
has been known to cause lockups, system halts, kernel
panics, and occasional antisocial behaviour. When
experimenting with high speed input to a system, consider
rebooting the system if the file transfers are not
successful, especially if the personality of the system
appears altered.</p>

<p style="margin-left:11%; margin-top: 1em">The Unix
&quot;ulimit&quot; parameter must be set high enough to
permit large file transfers.</p>

<p style="margin-left:11%; margin-top: 1em">The TTY input
buffering on some systems may not allow long blocks or
streaming input at high speed. You should suspect this
problem when you can&rsquo;t send data to the Unix system at
high speeds using ZMODEM, YMODEM-1k or XMODEM-1k, when
YMODEM with 128 byte blocks works properly. If the
system&rsquo;s tty line handling is really broken, the
serial port or the entire system may not survive the
onslaught of long bursts of high speed data.</p>

<p style="margin-left:11%; margin-top: 1em">The DSZ or
Pro-YAM <b>zmodem l</b> numeric parameter may be set to a
value between 64 and 1024 to limit the burst length
(&quot;zmodem pl128&quot;).</p>

<p style="margin-left:11%; margin-top: 1em">32 bit CRC code
courtesy Gary S. Brown. Directory creation code from John
Gilmore&rsquo;s PD TAR program.</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Calling
<i>rz</i> from most versions of cu(1) doesn&rsquo;t work
because cu&rsquo;s receive process fights <i>rz</i> for
characters from the modem.</p>

<p style="margin-left:11%; margin-top: 1em">Programs that
do not properly implement the specified file transfer
protocol may cause <i>sz</i> to &quot;hang&quot; the port
for a minute or two. Every reported instance of this problem
has been corrected by using ZCOMM, Pro-YAM, or other program
with a correct implementation of the specified protocol.</p>

<p style="margin-left:11%; margin-top: 1em">Many programs
claiming to support YMODEM only support XMODEM with 1k
blocks, and they often don&rsquo;t get that quite right.</p>

<p style="margin-left:11%; margin-top: 1em">Pathnames are
restricted to 127 characters. In XMODEM single file mode,
the pathname given on the command line is still processed as
described above. The ASCII option&acute;s CR/LF to NL
translation merely deletes CR&acute;s; undos(omen) performs
a more intelligent translation.</p>

<h2>VMS VERSION
<a name="VMS VERSION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The VMS version
does not set the file time.</p>

<p style="margin-left:11%; margin-top: 1em">VMS C Standard
I/O and RMS may interact to modify file contents
unexpectedly.</p>

<p style="margin-left:11%; margin-top: 1em">The VMS version
does not support invocation as <b>rzCOMMAND .</b> The
current VMS version does not support XMODEM, XMODEM-1k, or
YMODEM.</p>

<p style="margin-left:11%; margin-top: 1em">According to
the VMS documentation, the buffered input routine used on
the VMS version of <i>rz</i> introduces a delay of up to one
second for each protocol transaction. This delay may be
significant for very short files. Removing the &quot;#define
BUFREAD&quot; line from rz.c will eliminate this delay at
the expense of increased CPU utilization.</p>

<p style="margin-left:11%; margin-top: 1em">The VMS version
causes DCL to generate a random off the wall error message
under some error conditions; this is a result of the
incompatibility of the VMS &quot;exit&quot; function with
the Unix/MSDOS standard.</p>

<h2>ZMODEM CAPABILITIES
<a name="ZMODEM CAPABILITIES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>Rz</i>
supports incoming ZMODEM binary (-b), ASCII (-a), protect
(-p), clobber (-y), and append (-+) requests. The default is
protect (-p) and binary (-b).</p>

<p style="margin-left:11%; margin-top: 1em">The Unix
versions support ZMODEM command execution.</p>

<h2>FILES
<a name="FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">rz.c, crctab.c,
rbsb.c, zm.c, zmodem.h Unix source files.</p>

<p style="margin-left:11%; margin-top: 1em">rz.c, crctab.c,
vrzsz.c, zm.c, zmodem.h, vmodem.h, vvmodem.c, VMS source
files.</p>
<hr>
</body>
</html>
