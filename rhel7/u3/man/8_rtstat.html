<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:19:07 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>LNSTAT</title>

</head>
<body>

<h1 align="center">LNSTAT</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#USAGE EXAMPLES">USAGE EXAMPLES</a><br>
<a href="#FILES">FILES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">lnstat &minus;
unified linux network statistics</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>lnstat</b>
[<i>options</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This manual
page documents briefly the <b>lnstat</b> command.</p>

<p style="margin-left:11%; margin-top: 1em"><b>lnstat</b>
is a generalized and more feature-complete replacement for
the old rtstat program. It is commonly used to periodically
print a selection of statistical values exported by the
kernel. In addition to routing cache statistics, it supports
any kind of statistics the linux kernel exports via a file
in /proc/net/stat/.</p>

<p style="margin-left:11%; margin-top: 1em">Each file in
/proc/net/stat/ contains a header line listing the column
names. These names are used by <b>lnstat</b> as keys for
selecting which statistics to print. For every CPU present
in the system, a line follows which lists the actual values
for each column of the file. <b>lnstat</b> sums these values
up (which in fact are counters) before printing them. After
each interval, only the difference to the last value is
printed.</p>

<p style="margin-left:11%; margin-top: 1em">Files and
columns may be selected by using the <b>-f</b> and <b>-k</b>
parameters. By default, all columns of all files are
printed.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">lnstat supports
the following options. <b><br>
&minus;h, &minus;&minus;help</b></p>

<p style="margin-left:22%;">Show summary of options.</p>

<p style="margin-left:11%;"><b>&minus;V,
&minus;&minus;version</b></p>

<p style="margin-left:22%;">Show version of program.</p>

<p style="margin-left:11%;"><b>&minus;c,
&minus;&minus;count &lt;count&gt;</b></p>

<p style="margin-left:22%;">Print &lt;count&gt; number of
intervals.</p>

<p style="margin-left:11%;"><b>&minus;d,
&minus;&minus;dump</b></p>

<p style="margin-left:22%;">Dump list of available
files/keys.</p>

<p style="margin-left:11%;"><b>&minus;f, &minus;&minus;file
&lt;file&gt;</b></p>

<p style="margin-left:22%;">Statistics file to use, may be
specified multiple times. By default all files in
/proc/net/stat are scanned.</p>

<p style="margin-left:11%;"><b>&minus;i,
&minus;&minus;interval &lt;intv&gt;</b></p>

<p style="margin-left:22%;">Set interval to
&rsquo;intv&rsquo; seconds.</p>

<p style="margin-left:11%;"><b>&minus;k, &minus;&minus;keys
k,k,k,...</b></p>

<p style="margin-left:22%;">Display only keys specified.
Each key <b>k</b> is of the form <b>[file:]key</b>. If
<b>&lt;file&gt;</b> is given, the search for the given key
is limited to that file. Otherwise the first file containing
the searched key is being used.</p>

<p style="margin-left:11%;"><b>&minus;s,
&minus;&minus;subject [0-2]</b></p>

<p style="margin-left:22%;">Specify display of
subject/header. &rsquo;0&rsquo; means no header at all,
&rsquo;1&rsquo; prints a header only at start of the program
and &rsquo;2&rsquo; prints a header every 20 lines.</p>

<p style="margin-left:11%;"><b>&minus;w,
&minus;&minus;width n,n,n,...</b></p>

<p style="margin-left:22%;">Width for each field.</p>

<h2>USAGE EXAMPLES
<a name="USAGE EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b># lnstat
-d</b></p>

<p style="margin-left:22%;">Get a list of supported
statistics files.</p>

<p style="margin-left:11%;"><b># lnstat -k
arp_cache:entries,rt_cache:in_hit,arp_cache:destroys</b></p>

<p style="margin-left:22%;">Select the specified files and
keys.</p>

<p style="margin-left:11%;"><b># lnstat -i 10</b></p>

<p style="margin-left:22%;">Use an interval of 10
seconds.</p>

<p style="margin-left:11%;"><b># lnstat -f
ip_conntrack</b></p>

<p style="margin-left:22%;">Use only the specified file for
statistics.</p>

<p style="margin-left:11%;"><b># lnstat -s 0</b></p>

<p style="margin-left:22%;">Do not print a header at
all.</p>

<p style="margin-left:11%;"><b># lnstat -s 20</b></p>

<p style="margin-left:22%;">Print a header at start and
every 20 lines.</p>

<p style="margin-left:11%;"><b># lnstat -c -1 -i 1 -f
rt_cache -k entries,in_hit,in_slow_tot</b></p>

<p style="margin-left:22%;">Display statistics for keys
entries, in_hit and in_slow_tot of field rt_cache every
second.</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>/proc/net/stat/arp_cache,
/proc/net/stat/ndisc_cache</b></p>

<p style="margin-left:22%;">Statistics around neighbor
cache and ARP. <b>arp_cache</b> is for IPv4,
<b>ndisc_cache</b> is the same for IPv6.</p>

<p style="margin-left:22%; margin-top: 1em"><b>entries</b>
Number of entries in the neighbor table.</p>

<p style="margin-left:22%; margin-top: 1em"><b>allocs</b>
How many neighbor entries have been allocated.</p>


<p style="margin-left:22%; margin-top: 1em"><b>destroys</b>
How many neighbor entries have been removed.</p>


<p style="margin-left:22%; margin-top: 1em"><b>hash_grows</b>
How often the neighbor (hash) table was increased.</p>

<p style="margin-left:22%; margin-top: 1em"><b>lookups</b>
How many lookups were performed.</p>

<p style="margin-left:22%; margin-top: 1em"><b>hits</b> How
many <b>lookups</b> were successful.</p>


<p style="margin-left:22%; margin-top: 1em"><b>res_failed</b>
How many neighbor lookups failed.</p>


<p style="margin-left:22%; margin-top: 1em"><b>rcv_probes_mcast</b>
How many multicast neighbor solicitations were received.
(IPv6 only.)</p>


<p style="margin-left:22%; margin-top: 1em"><b>rcv_probes_ucast</b>
How many unicast neighbor solicitations were received. (IPv6
only.)</p>


<p style="margin-left:22%; margin-top: 1em"><b>periodic_gc_runs</b>
How many garbage collection runs were executed.</p>


<p style="margin-left:22%; margin-top: 1em"><b>forced_gc_runs</b>
How many forced garbage collection runs were executed.
Happens when adding an entry and the table is too full.</p>


<p style="margin-left:22%; margin-top: 1em"><b>unresolved_discards</b>
How many neighbor table entries were discarded due to lookup
failure.</p>


<p style="margin-left:22%; margin-top: 1em"><b>table_fulls</b>
Number of table overflows. Happens if table is full and
forced GC run (see <b>forced_gc_runs</b>) has failed.</p>


<p style="margin-left:11%;"><b>/proc/net/stat/ip_conntrack,
/proc/net/stat/nf_conntrack</b></p>

<p style="margin-left:22%;">Conntrack related counters.
<b>ip_conntrack</b> is for backwards compatibility with
older userspace only and shows the same data as
<b>nf_conntrack</b>.</p>

<p style="margin-left:22%; margin-top: 1em"><b>entries</b>
Number of entries in conntrack table.</p>


<p style="margin-left:22%; margin-top: 1em"><b>searched</b>
Number of conntrack table lookups performed.</p>

<p style="margin-left:22%; margin-top: 1em"><b>found</b>
Number of <b>searched</b> entries which were successful.</p>

<p style="margin-left:22%; margin-top: 1em"><b>new</b>
Number of conntrack entries added which were not expected
before.</p>

<p style="margin-left:22%; margin-top: 1em"><b>invalid</b>
Number of packets seen which can not be tracked.</p>

<p style="margin-left:22%; margin-top: 1em"><b>ignore</b>
Number of packets seen which are already connected to a
conntrack entry.</p>

<p style="margin-left:22%; margin-top: 1em"><b>delete</b>
Number of conntrack entries which were removed.</p>


<p style="margin-left:22%; margin-top: 1em"><b>delete_list</b>
Number of conntrack entries which were put to dying
list.</p>

<p style="margin-left:22%; margin-top: 1em"><b>insert</b>
Number of entries inserted into the list.</p>


<p style="margin-left:22%; margin-top: 1em"><b>insert_failed</b>
Number of entries for which list insertion was attempted but
failed (happens if the same entry is already present).</p>

<p style="margin-left:22%; margin-top: 1em"><b>drop</b>
Number of packets dropped due to conntrack failure. Either
new conntrack entry allocation failed, or protocol helper
dropped the packet.</p>


<p style="margin-left:22%; margin-top: 1em"><b>early_drop</b>
Number of dropped conntrack entries to make room for new
ones, if maximum table size was reached.</p>


<p style="margin-left:22%; margin-top: 1em"><b>icmp_error</b>
Number of packets which could not be tracked due to error
situation. This is a subset of <b>invalid</b>.</p>


<p style="margin-left:22%; margin-top: 1em"><b>expect_new</b>
Number of conntrack entries added after an expectation for
them was already present.</p>


<p style="margin-left:22%; margin-top: 1em"><b>expect_create</b>
Number of expectations added.</p>


<p style="margin-left:22%; margin-top: 1em"><b>expect_delete</b>
Number of expectations deleted.</p>


<p style="margin-left:22%; margin-top: 1em"><b>search_restart</b>
Number of conntrack table lookups which had to be restarted
due to hashtable resizes.</p>


<p style="margin-left:11%;"><b>/proc/net/stat/rt_cache</b></p>

<p style="margin-left:22%;">Routing cache statistics.</p>

<p style="margin-left:22%; margin-top: 1em"><b>entries</b>
Number of entries in routing cache.</p>

<p style="margin-left:22%; margin-top: 1em"><b>in_hit</b>
Number of route cache hits for incoming packets. Deprecated
since IP route cache removal, therefore always zero.</p>


<p style="margin-left:22%; margin-top: 1em"><b>in_slow_tot</b>
Number of routing cache entries added for input traffic.</p>


<p style="margin-left:22%; margin-top: 1em"><b>in_slow_mc</b>
Number of multicast routing cache entries added for input
traffic.</p>


<p style="margin-left:22%; margin-top: 1em"><b>in_no_route</b>
Number of input packets for which no routing table entry was
found.</p>

<p style="margin-left:22%; margin-top: 1em"><b>in_brd</b>
Number of matched input broadcast packets.</p>


<p style="margin-left:22%; margin-top: 1em"><b>in_martian_dst</b>
Number of incoming martian destination packets.</p>


<p style="margin-left:22%; margin-top: 1em"><b>in_martian_src</b>
Number of incoming martian source packets.</p>

<p style="margin-left:22%; margin-top: 1em"><b>out_hit</b>
Number of route cache hits for outgoing packets. Deprecated
since IP route cache removal, therefore always zero.</p>


<p style="margin-left:22%; margin-top: 1em"><b>out_slow_tot</b>
Number of routing cache entries added for output
traffic.</p>


<p style="margin-left:22%; margin-top: 1em"><b>out_slow_mc</b>
Number of multicast routing cache entries added for output
traffic.</p>


<p style="margin-left:22%; margin-top: 1em"><b>gc_total</b>
Total number of garbage collection runs. Deprecated since IP
route cache removal, therefore always zero.</p>


<p style="margin-left:22%; margin-top: 1em"><b>gc_ignored</b>
Number of ignored garbage collection runs due to minimum GC
interval not reached and routing cache not full. Deprecated
since IP route cache removal, therefore always zero.</p>


<p style="margin-left:22%; margin-top: 1em"><b>gc_goal_miss</b>
Number of garbage collector goal misses. Deprecated since IP
route cache removal, therefore always zero.</p>


<p style="margin-left:22%; margin-top: 1em"><b>gc_dst_overflow</b>
Number of destination cache overflows. Deprecated since IP
route cache removal, therefore always zero.</p>


<p style="margin-left:22%; margin-top: 1em"><b>in_hlist_search</b>
Number of hash table list traversals for input traffic.
Deprecated since IP route cache removal, therefore always
zero.</p>


<p style="margin-left:22%; margin-top: 1em"><b>out_hlist_search</b>
Number of hash table list traversals for output traffic.
Deprecated since IP route cache removal, therefore always
zero.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>ip</b>(8),
and /usr/share/doc/iproute-3.10.0/README.lnstat (package
iproute-doc on Debian)</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">lnstat was
written by Harald Welte &lt;laforge@gnumonks.org&gt;.</p>

<p style="margin-left:11%; margin-top: 1em">This manual
page was written by Michael Prokop &lt;mika@grml.org&gt; for
the Debian project (but may be used by others).</p>
<hr>
</body>
</html>
