<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 20:54:45 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>BLK_ATTEMPT_PLUG_MER</title>

</head>
<body>

<h1 align="center">BLK_ATTEMPT_PLUG_MER</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#ARGUMENTS">ARGUMENTS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">blk_attempt_plug_merge
&minus; try to merge with <b>current</b>'s plugged list</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>bool
blk_attempt_plug_merge(struct&nbsp;request_queue&nbsp;*&nbsp;</b><i>q</i><b>,
struct&nbsp;bio&nbsp;*&nbsp;</b><i>bio</i><b>,
unsigned&nbsp;int&nbsp;*&nbsp;</b><i>request_count</i><b>,
struct&nbsp;request&nbsp;**&nbsp;</b><i>same_queue_rq</i><b>);</b></p> </td></tr>
</table>

<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b><i>q</i></b></p>

<p style="margin-left:17%;">request_queue new bio is being
queued at</p>

<p style="margin-left:11%; margin-top: 1em"><i>bio</i></p>

<p style="margin-left:17%;">new bio being queued</p>


<p style="margin-left:11%; margin-top: 1em"><i>request_count</i></p>

<p style="margin-left:17%;">out parameter for number of
traversed plugged requests</p>


<p style="margin-left:11%; margin-top: 1em"><i>same_queue_rq</i></p>

<p style="margin-left:17%;">&minus;&minus; undescribed
&minus;&minus;</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Determine
whether <i>bio</i> being queued on <i>q</i> can be merged
with a request on <b>current</b>'s plugged list. Returns
<b>true</b> if merge was successful, otherwise
<b>false</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Plugging
coalesces IOs from the same issuer for the same purpose
without going through <i>q</i>&minus;&gt;queue_lock. As such
it's more of an issuing mechanism than scheduling, and the
request, while may have elvpriv data, is not added on the
elevator at this point. In addition, we don't have reliable
access to the elevator outside queue lock. Only check basic
merging parameters without querying the elevator.</p>

<p style="margin-left:11%; margin-top: 1em">Caller must
ensure !blk_queue_nomerges(q) beforehand.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>
<hr>
</body>
</html>
