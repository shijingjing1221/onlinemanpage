<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:37:38 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>IPSEC</title>

</head>
<body>

<h1 align="center">IPSEC</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#FILES">FILES</a><br>
<a href="#ENVIRONMENT">ENVIRONMENT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#HISTORY">HISTORY</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">ipsec &minus;
invoke IPsec utilities</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p style="margin-top: 1em"><b>ipsec</b></p></td>
<td width="2%"></td>
<td width="45%">


<p style="margin-top: 1em"><i>command</i>
[<i>arguments</i>] [<i>options</i>]</p></td>
<td width="35%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>ipsec</b> utility invokes any of several utilities
involved in controlling and monitoring the IPsec
encryption/authentication system, running the specified
<i>command</i> with the specified <i>arguments</i> and
<i>options</i> as if it had been invoked directly. This
largely eliminates possible name collisions with other
software, and also permits some centralized services.</p>

<p style="margin-left:11%; margin-top: 1em">All the
commands described in this manual page are built-in and are
used to control and monitor IPsec connections as well as the
IKE daemon.</p>

<p style="margin-left:11%; margin-top: 1em">For other
commands <i>ipsec</i> supplies the invoked <i>command</i>
with a suitable PATH environment variable, and also provides
the environment variables listed under
<i>ENVIRONMENT</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>CONTROL
COMMANDS <br>
start [</b><i>starter options</i><b>]</b></p>

<p style="margin-left:22%;">calls <b>starter</b> which in
turn parses <i>ipsec.conf</i> and starts the IKE daemon
<i>charon</i>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>update</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>sends a <i>HUP</i> signal to <b>starter</b> which in
turn determines any changes in <i>ipsec.conf</i> and updates
the configuration on the running IKE daemon
<i>charon</i>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>reload</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>sends a <i>USR1</i> signal to <b>starter</b> which in
turn reloads the whole configuration of the running IKE
daemon <i>charon</i> based on the actual
<i>ipsec.conf</i>.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>restart</b></p>

<p style="margin-left:22%;">is equivalent to <b>stop</b>
followed by <b>start</b> after a guard of 2 seconds.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>stop</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>terminates all IPsec connections and stops the IKE
daemon <i>charon</i> by sending a <i>TERM</i> signal to
<b>starter</b>.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>up</b> <i>name</i></p>

<p style="margin-left:22%;">tells the IKE daemon to start
up connection <i>name</i>.</p>

<p style="margin-left:11%;"><b>down</b> <i>name</i></p>

<p style="margin-left:22%;">tells the IKE daemon to
terminate connection <i>name</i>.</p>

<p style="margin-left:11%;"><b>down</b> <i>name{n}</i></p>

<p style="margin-left:22%;">terminates IKEv1 Quick Mode and
IKEv2 CHILD SA instance <i>n</i> of connection
<i>name</i>.</p>

<p style="margin-left:11%;"><b>down</b> <i>name{*}</i></p>

<p style="margin-left:22%;">terminates all IKEv1 Quick Mode
and IKEv2 CHILD SA instances of connection <i>name</i>.</p>

<p style="margin-left:11%;"><b>down</b> <i>name[n]</i></p>

<p style="margin-left:22%;">terminates IKE SA instance
<i>n</i> of connection <i>name</i>.</p>

<p style="margin-left:11%;"><b>down</b> <i>name[*]</i></p>

<p style="margin-left:22%;">terminates all IKE SA instances
of connection <i>name</i>.</p>

<p style="margin-left:11%;"><b>route</b> <i>name</i></p>

<p style="margin-left:22%;">tells the IKE daemon to insert
an IPsec policy in the kernel for connection <i>name</i>.
The first payload packet matching the IPsec policy will
automatically trigger an IKE connection setup.</p>

<p style="margin-left:11%;"><b>unroute</b> <i>name</i></p>

<p style="margin-left:22%;">remove the IPsec policy in the
kernel for connection <i>name</i>.</p>

<p style="margin-left:11%;"><b>status
[</b><i>name</i><b>]</b></p>

<p style="margin-left:22%;">returns concise status
information either on connection <i>name</i> or if the
argument is lacking, on all connections.</p>

<p style="margin-left:11%;"><b>statusall
[</b><i>name</i><b>]</b></p>

<p style="margin-left:22%;">returns detailed status
information either on connection <i>name</i> or if the
argument is lacking, on all connections.</p>

<p style="margin-left:11%; margin-top: 1em"><b>LIST
COMMANDS <br>
listalgs</b></p>

<p style="margin-left:22%;">returns a list supported
cryptographic algorithms usable for IKE, and their
corresponding plugin.</p>

<p style="margin-left:11%;"><b>listpubkeys
[</b><i>--utc</i><b>]</b></p>

<p style="margin-left:22%;">returns a list of RSA public
keys that were either loaded in raw key format or extracted
from X.509 and|or OpenPGP certificates.</p>

<p style="margin-left:11%;"><b>listcerts
[</b><i>--utc</i><b>]</b></p>

<p style="margin-left:22%;">returns a list of X.509 and|or
OpenPGP certificates that were either loaded locally by the
IKE daemon or received via the IKE protocol.</p>

<p style="margin-left:11%;"><b>listcacerts
[</b><i>--utc</i><b>]</b></p>

<p style="margin-left:22%;">returns a list of X.509
Certification Authority (CA) certificates that were loaded
locally by the IKE daemon from the
<i>/etc/ipsec.d/cacerts/</i> directory or received via the
IKE protocol.</p>

<p style="margin-left:11%;"><b>listaacerts
[</b><i>--utc</i><b>]</b></p>

<p style="margin-left:22%;">returns a list of X.509
Authorization Authority (AA) certificates that were loaded
locally by the IKE daemon from the
<i>/etc/ipsec.d/aacerts/</i> directory.</p>

<p style="margin-left:11%;"><b>listocspcerts
[</b><i>--utc</i><b>]</b></p>

<p style="margin-left:22%;">returns a list of X.509 OCSP
Signer certificates that were either loaded locally by the
IKE daemon from the <i>/etc/ipsec.d/ocspcerts/</i> directory
or were sent by an OCSP server.</p>

<p style="margin-left:11%;"><b>listacerts
[</b><i>--utc</i><b>]</b></p>

<p style="margin-left:22%;">returns a list of X.509
Attribute certificates that were loaded locally by the IKE
daemon from the <i>/etc/ipsec.d/acerts/</i> directory.</p>

<p style="margin-left:11%;"><b>listgroups
[</b><i>--utc</i><b>]</b></p>

<p style="margin-left:22%;">returns a list of groups that
are used to define user authorization profiles.</p>

<p style="margin-left:11%;"><b>listcainfos
[</b><i>--utc</i><b>]</b></p>

<p style="margin-left:22%;">returns certification authority
information (CRL distribution points, OCSP URIs, LDAP
servers) that were defined by <b>ca</b> sections in
<i>ipsec.conf</i>.</p>

<p style="margin-left:11%;"><b>listcrls
[</b><i>--utc</i><b>]</b></p>

<p style="margin-left:22%;">returns a list of Certificate
Revocation Lists (CRLs) that were either loaded by the IKE
daemon from the <i>/etc/ipsec.d/crls</i> directory or
fetched from an HTTP- or LDAP-based CRL distribution
point.</p>

<p style="margin-left:11%;"><b>listocsp
[</b><i>--utc</i><b>]</b></p>

<p style="margin-left:22%;">returns revocation information
fetched from OCSP servers.</p>

<p style="margin-left:11%;"><b>listplugins</b></p>

<p style="margin-left:22%;">returns a list of all loaded
plugin features.</p>

<p style="margin-left:11%;"><b>listcounters
[</b><i>name</i><b>]</b></p>

<p style="margin-left:22%;">returns a list of global or
connection specific IKE counter values collected since
daemon startup.</p>

<p style="margin-left:11%;"><b>listall
[</b><i>--utc</i><b>]</b></p>

<p style="margin-left:22%;">returns all information
generated by the list commands above. Each list command can
be called with the <b>&minus;&minus;utc</b> option which
displays all dates in UTC instead of local time.</p>

<p style="margin-left:11%; margin-top: 1em"><b>REREAD
COMMANDS <br>
rereadsecrets</b></p>

<p style="margin-left:22%;">flushes and rereads all secrets
defined in <i>ipsec.secrets</i>.</p>

<p style="margin-left:11%;"><b>rereadcacerts</b></p>

<p style="margin-left:22%;">reads all certificate files
contained in the <i>/etc/ipsec.d/cacerts</i> directory and
adds them to the list of Certification Authority (CA)
certificates.</p>

<p style="margin-left:11%;"><b>rereadaacerts</b></p>

<p style="margin-left:22%;">reads all certificate files
contained in the <i>/etc/ipsec.d/aacerts</i> directory and
adds them to the list of Authorization Authority (AA)
certificates.</p>

<p style="margin-left:11%;"><b>rereadocspcerts</b></p>

<p style="margin-left:22%;">reads all certificate files
contained in the <i>/etc/ipsec.d/ocspcerts/</i> directory
and adds them to the list of OCSP signer certificates.</p>

<p style="margin-left:11%;"><b>rereadacerts</b></p>

<p style="margin-left:22%;">reads all certificate files
contained in the <i>/etc/ipsec.d/acerts/</i> directory and
adds them to the list of attribute certificates.</p>

<p style="margin-left:11%;"><b>rereadcrls</b></p>

<p style="margin-left:22%;">reads all Certificate
Revocation Lists (CRLs) contained in the
<i>/etc/ipsec.d/crls/</i> directory and adds them to the
list of CRLs.</p>

<p style="margin-left:11%;"><b>rereadall</b></p>

<p style="margin-left:22%;">executes all reread commands
listed above.</p>

<p style="margin-left:11%; margin-top: 1em"><b>RESET
COMMANDS <br>
resetcounters [</b><i>name</i><b>]</b></p>

<p style="margin-left:22%;">resets global or connection
specific counters.</p>

<p style="margin-left:11%; margin-top: 1em"><b>PURGE
COMMANDS <br>
purgecerts</b></p>

<p style="margin-left:22%;">purges all cached
certificates.</p>

<p style="margin-left:11%;"><b>purgecrl</b></p>

<p style="margin-left:22%;">purges all cached CRLs.</p>

<p style="margin-left:11%;"><b>purgeike</b></p>

<p style="margin-left:22%;">purges IKE SAs that don&rsquo;t
have a Quick Mode or CHILD SA.</p>

<p style="margin-left:11%;"><b>purgeocsp</b></p>

<p style="margin-left:22%;">purges all cached OCSP
information records.</p>

<p style="margin-left:11%; margin-top: 1em"><b>INFO
COMMANDS</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;&minus;help</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>returns the usage information for the <b>ipsec</b>
command.</p> </td></tr>
</table>


<p style="margin-left:11%;"><b>&minus;&minus;version</b></p>

<p style="margin-left:22%;">returns the version in the form
of <b>Linux strongSwan U&lt;strongSwan userland
version&gt;/K&lt;Linux kernel version&gt;</b> if strongSwan
uses the native NETKEY IPsec stack of the Linux kernel it is
running on.</p>


<p style="margin-left:11%;"><b>&minus;&minus;versioncode</b></p>

<p style="margin-left:22%;">returns the version number in
the form of <b>U&lt;strongSwan userland
version&gt;/K&lt;Linux kernel version&gt;</b> if strongSwan
uses the native NETKEY IPsec stack of the Linux kernel it is
running on.</p>


<p style="margin-left:11%;"><b>&minus;&minus;copyright</b></p>

<p style="margin-left:22%;">returns the copyright
information.</p>


<p style="margin-left:11%;"><b>&minus;&minus;directory</b></p>

<p style="margin-left:22%;">returns the <i>LIBEXECDIR</i>
directory as defined by the configure options.</p>


<p style="margin-left:11%;"><b>&minus;&minus;confdir</b></p>

<p style="margin-left:22%;">returns the <i>SYSCONFDIR</i>
directory as defined by the configure options.</p>


<p style="margin-left:11%;"><b>&minus;&minus;piddir</b></p>

<p style="margin-left:22%;">returns the <i>PIDDIR</i>
directory as defined by the configure options.</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">/usr/libexec/ipsec
utilities directory</p>

<h2>ENVIRONMENT
<a name="ENVIRONMENT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When calling
other commands the <b>ipsec</b> command supplies the
following environment variables.</p>

<p style="margin-left:11%; margin-top: 1em">IPSEC_DIR
directory containing ipsec programs and utilities <br>
IPSEC_BINDIR directory containing <b>pki</b> command <br>
IPSEC_SBINDIR directory containing <b>ipsec</b> command <br>
IPSEC_CONFDIR directory containing configuration files <br>
IPSEC_PIDDIR directory containing PID/socket files <br>
IPSEC_SCRIPT name of the ipsec script <br>
IPSEC_NAME name of ipsec distribution <br>
IPSEC_VERSION version numer of ipsec userland and kernel
<br>
IPSEC_STARTER_PID PID file for ipsec starter <br>
IPSEC_CHARON_PID PID file for IKE keying daemon</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>ipsec.conf</b>(5),
<b>ipsec.secrets</b>(5)</p>

<h2>HISTORY
<a name="HISTORY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Originally
written for the FreeS/WAN project by Henry Spencer. Updated
and extended for the strongSwan project
&lt;http://www.strongswan.org&gt; by Tobias Brunner and
Andreas Steffen.</p>
<hr>
</body>
</html>
