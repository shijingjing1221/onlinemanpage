<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 21:40:48 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>HWLOC-BIND</title>

</head>
<body>

<h1 align="center">HWLOC-BIND</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#HINT">HINT</a><br>
<a href="#RETURN VALUE">RETURN VALUE</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">hwloc-bind
&minus; Launch a command that is bound to specific
processors and/or memory, or consult the binding of an
existing program</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>hwloc-bind</b>
[<i>options</i>] <i>&lt;location1&gt; [&lt;location2&gt;
[...] ] [--] &lt;command&gt;</i> ...</p>

<p style="margin-left:11%; margin-top: 1em">Note that
hwloc(7) provides a detailed explanation of the hwloc system
and of valid &lt;location&gt; formats; it should be read
before reading this man page.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">



<p style="margin-top: 1em"><b>&minus;&minus;cpubind</b></p> </td>
<td width="1%"></td>
<td width="74%">


<p style="margin-top: 1em">Use following arguments for CPU
binding (default).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>&minus;&minus;membind</b></p></td>
<td width="1%"></td>
<td width="74%">


<p>Use following arguments for memory binding. If
<b>&minus;&minus;mempolicy</b> is not also given, the
default policy is bind.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;&minus;mempolicy</b>
&lt;policy&gt;</p>

<p style="margin-left:26%;">Change the memory binding
policy. The available policies are default, firsttouch,
bind, interleave replicate and nexttouch. This option is
only meaningful when an actual binding is also given with
<b>&minus;&minus;membind</b>. If
<b>&minus;&minus;membind</b> is given without
<b>&minus;&minus;mempolicy</b>, the default policy is
bind.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>&minus;&minus;get</b></p></td>
<td width="8%"></td>
<td width="74%">


<p>Report the current bindings.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&nbsp;</p></td>
<td width="8%"></td>
<td width="74%">


<p>When a command is given, the binding is displayed before
executing the command. When no command is given, the program
exits after displaying the current binding.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&nbsp;</p></td>
<td width="8%"></td>
<td width="74%">


<p>When combined with <b>&minus;&minus;membind</b>, report
the memory binding instead of CPU binding.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&nbsp;</p></td>
<td width="8%"></td>
<td width="74%">


<p>No location may be given since no binding is
performed.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;e
&minus;&minus;get-last-cpu-location</b></p>

<p style="margin-left:26%;">Report the last processors
where the process ran. Note that the result may already be
outdated when reported since the operating system may move
the process to other processors at any time according to the
binding.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p>&nbsp;</p></td>
<td width="3%"></td>
<td width="74%">


<p>When a command is given, the last processors is
displayed before executing the command. When no command is
given, the program exits after displaying the last
processors.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p>&nbsp;</p></td>
<td width="3%"></td>
<td width="74%">


<p>This option cannot be combined with
<b>&minus;&minus;membind</b>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p>&nbsp;</p></td>
<td width="3%"></td>
<td width="74%">


<p>No location may be given since no binding is
performed.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p><b>&minus;&minus;single</b></p></td>
<td width="3%"></td>
<td width="74%">


<p>Bind on a single CPU to prevent migration.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p><b>&minus;&minus;strict</b></p></td>
<td width="3%"></td>
<td width="74%">


<p>Require strict binding.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;&minus;pid</b>
&lt;pid&gt;</p>

<p style="margin-left:26%;">Operate on pid &lt;pid&gt;</p>

<p style="margin-left:11%;"><b>&minus;p
&minus;&minus;physical</b></p>

<p style="margin-left:26%;">take OS/physical indexes
instead of logical indexes</p>

<p style="margin-left:11%;"><b>&minus;l
&minus;&minus;logical</b></p>

<p style="margin-left:26%;">take logical indexes instead of
physical/OS indexes (default)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>&minus;&minus;taskset</b></p></td>
<td width="1%"></td>
<td width="74%">


<p>Display CPU set strings in the format recognized by the
taskset command-line program instead of hwloc-specific CPU
set string format. This option has no impact on the format
of input CPU set strings, both formats are always
accepted.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;&minus;restrict</b>
&lt;cpuset&gt;</p>

<p style="margin-left:26%;">Restrict the topology to the
given cpuset.</p>


<p style="margin-left:11%;"><b>&minus;&minus;whole&minus;system</b></p>

<p style="margin-left:26%;">Do not consider administration
limitations.</p>

<p style="margin-left:11%;"><b>&minus;f
&minus;&minus;force</b></p>

<p style="margin-left:26%;">Launch the executable even if
binding failed.</p>

<p style="margin-left:11%;"><b>&minus;q
&minus;&minus;quiet</b></p>

<p style="margin-left:26%;">Hide non-fatal error messages.
It includes locations pointing to non-existing objects, as
well as failure to bind. This is usually useful in addition
to <b>&minus;&minus;force</b>.</p>

<p style="margin-left:11%;"><b>&minus;v
&minus;&minus;verbose</b></p>

<p style="margin-left:26%;">Verbose output.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>&minus;&minus;version</b></p></td>
<td width="1%"></td>
<td width="37%">


<p>Report version and exit.</p></td>
<td width="37%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">hwloc-bind
execs an executable (with optional command line arguments)
that is bound to the specified location (or list of
locations). Upon successful execution, hwloc-bind simply
sets bindings and then execs the executable over itself.</p>

<p style="margin-left:11%; margin-top: 1em">If binding
fails, or if the binding set is empty, and
<b>&minus;&minus;force</b> was not given, hwloc-bind returns
with an error instead of launching the executable.</p>

<p style="margin-left:11%; margin-top: 1em"><b>NOTE:</b> It
is highly recommended that you read the hwloc(7) overview
page before reading this man page. Most of the concepts
described in hwloc(7) directly apply to the hwloc-bind
utility.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">hwloc-bind&rsquo;s
operation is best described through several examples. More
details about how locations are specified on the hwloc-bind
command line are described in hwloc(7).</p>

<p style="margin-left:11%; margin-top: 1em">To run the echo
command on the first logical processor of the second
package:</p>

<p style="margin-left:11%; margin-top: 1em">hwloc-bind
package:1.pu:0 -- echo hello</p>

<p style="margin-left:11%; margin-top: 1em">which is
exactly equivalent to</p>

<p style="margin-left:11%; margin-top: 1em">hwloc-bind
package:1.pu:0 echo hello</p>

<p style="margin-left:11%; margin-top: 1em">To bind the
&quot;echo&quot; command to the first core of the second
package and the second core of the first package:</p>

<p style="margin-left:11%; margin-top: 1em">hwloc-bind
package:1.core:0 package:0.core:1 echo hello</p>

<p style="margin-left:11%; margin-top: 1em">Note that
binding the &quot;echo&quot; command to multiple processors
is probably meaningless (because &quot;echo&quot; is likely
implemented as a single-threaded application); these
examples just serve to show what hwloc-bind can do.</p>

<p style="margin-left:11%; margin-top: 1em">To run on the
first three packages on the second and third nodes:</p>

<p style="margin-left:11%; margin-top: 1em">hwloc-bind
node:1-2.package:0:3 echo hello</p>

<p style="margin-left:11%; margin-top: 1em">which is also
equivalent to:</p>

<p style="margin-left:11%; margin-top: 1em">hwloc-bind
node:1-2.package:0-2 echo hello</p>

<p style="margin-left:11%; margin-top: 1em">Note that if
you attempt to bind to objects that do not exist, hwloc-bind
will not warn unless <i>-v</i> was specified.</p>

<p style="margin-left:11%; margin-top: 1em">To run on
processor with physical index 2 in package with physical
index 1:</p>

<p style="margin-left:11%; margin-top: 1em">hwloc-bind
--physical package:1.core:2 echo hello</p>

<p style="margin-left:11%; margin-top: 1em">To run on odd
cores within even packages:</p>

<p style="margin-left:11%; margin-top: 1em">hwloc-bind
package:even.core:odd echo hello</p>

<p style="margin-left:11%; margin-top: 1em">To run on the
first package, except on its second and fifth cores:</p>

<p style="margin-left:11%; margin-top: 1em">hwloc-bind
package:0 ~package:0.core:1 ~package:0.core:4 echo hello</p>

<p style="margin-left:11%; margin-top: 1em">To run anywhere
except on the first package:</p>

<p style="margin-left:11%; margin-top: 1em">hwloc-bind all
~package:0 echo hello</p>

<p style="margin-left:11%; margin-top: 1em">To run on a
core near the network interface named eth0:</p>

<p style="margin-left:11%; margin-top: 1em">hwloc-bind
os=eth0 echo hello</p>

<p style="margin-left:11%; margin-top: 1em">To run on a
core near the PCI device whose bus ID is 0000:01:02.0:</p>

<p style="margin-left:11%; margin-top: 1em">hwloc-bind
pci=0000:01:02.0 echo hello</p>

<p style="margin-left:11%; margin-top: 1em">To bind memory
on second memory node and run on first node (when supported
by the OS):</p>

<p style="margin-left:11%; margin-top: 1em">hwloc-bind
--cpubind node:1 --membind node:0 echo hello</p>

<p style="margin-left:11%; margin-top: 1em">The --get
option can report current bindings. This example shows
nesting hwloc-bind invocations to set a binding and then
report it:</p>

<p style="margin-left:11%; margin-top: 1em">hwloc-bind
node:1.package:2 hwloc-bind --get</p>

<p style="margin-left:11%; margin-top: 1em">On one of the
hwloc developer&rsquo;s machines, this example reports
&quot;0x00004444,0x44000000&quot;. The mask reported on your
machine may be different.</p>

<p style="margin-left:11%; margin-top: 1em">Locations may
also be specified as a hex bit mask (typically generated by
hwloc-calc). For example:</p>

<p style="margin-left:11%; margin-top: 1em">hwloc-bind
0x00004444,0x44000000 echo hello <br>
hwloc-bind &lsquo;hwloc-calc node:1.package:2&lsquo; echo
hello</p>

<p style="margin-left:11%; margin-top: 1em">Memory binding
may also be reported:</p>

<p style="margin-left:11%; margin-top: 1em">hwloc-bind
--membind node:1 --mempolicy interleave -- hwloc-bind --get
--membind</p>

<p style="margin-left:11%; margin-top: 1em">This returns a
string describing the memory binding, such as
&quot;0x000000f0 (interleave)&quot;. Note that if the system
does not contain any NUMA nodes, the reported string will
indicate that the process is bound to the entire system
memory (e.g., &quot;0xf...f&quot;).</p>

<h2>HINT
<a name="HINT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If the
graphics-enabled lstopo is available, use for instance</p>

<p style="margin-left:11%; margin-top: 1em">hwloc-bind
core:2 -- lstopo --pid 0</p>

<p style="margin-left:11%; margin-top: 1em">to check what
the result of your binding command actually is. lstopo will
graphically show where it is bound to by hwloc-bind.</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Upon successful
execution, hwloc-bind execs the command over itself. The
return value is therefore whatever the return value of the
command is.</p>

<p style="margin-left:11%; margin-top: 1em">hwloc-bind will
return nonzero if any kind of error occurs, such as (but not
limited to): failure to parse the command line, failure to
retrieve process bindings, or lack of a command to
execute.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">hwloc(7),
lstopo(1), hwloc-calc(1), hwloc-distrib(1)</p>
<hr>
</body>
</html>
