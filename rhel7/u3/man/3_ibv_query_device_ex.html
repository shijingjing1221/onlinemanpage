<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 21:42:02 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>IBV_QUERY_DEVICE_EX</title>

</head>
<body>

<h1 align="center">IBV_QUERY_DEVICE_EX</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#RETURN VALUE">RETURN VALUE</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHORS">AUTHORS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">ibv_query_device_ex
&minus; query an RDMA device&rsquo;s attributes</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;infiniband/verbs.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
ibv_query_device_ex(struct ibv_context</b>
<i>*context</i><b>, <br>
struct ibv_device_attr_ex</b> <i>*attr</i><b>);</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>ibv_query_device_ex()</b>
returns the attributes of the device with context
<i>context</i>. The argument <i>attr</i> is a pointer to an
ibv_device_attr_ex struct, as defined in
&lt;infiniband/verbs.h&gt;.</p>

<p style="margin-left:11%; margin-top: 1em">struct
ibv_device_attr_ex {</p>

<p style="margin-left:23%;">struct ibv_device_attr
orig_attr; <br>
uint32_t comp_mask; /* Compatibility mask that defines which
of the following variables are valid */ <br>
struct ibv_odp_caps odp_caps; /* On-Demand Paging
capabilities */ <br>
uint64_t completion_timestamp_mask; /* Completion timestamp
mask (0 = unsupported) */ <br>
uint64_t hca_core_clock; /* The frequency (in kHZ) of the
HCA (0 = unsupported) */ <br>
uint64_t device_cap_flags_ex; /* Extended device capability
flags */</p>

<p style="margin-left:11%;">};</p>

<p style="margin-left:11%; margin-top: 1em">struct
ibv_exp_odp_caps {</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">


<p>uint64_t</p></td>
<td width="8%"></td>
<td width="7%">


<p>general_odp_caps; /* Mask with enum
ibv_odp_general_cap_bits */</p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>struct {</p></td>
<td width="8%"></td>
<td width="7%"></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">


<p>uint32_t</p></td>
<td width="7%"></td>
<td width="62%">


<p>rc_odp_caps; /* Mask with enum ibv_odp_tranport_cap_bits
to know which operations are supported. */</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">


<p>uint32_t</p></td>
<td width="7%"></td>
<td width="62%">


<p>uc_odp_caps; /* Mask with enum ibv_odp_tranport_cap_bits
to know which operations are supported. */</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">


<p>uint32_t</p></td>
<td width="7%"></td>
<td width="62%">


<p>ud_odp_caps; /* Mask with enum ibv_odp_tranport_cap_bits
to know which operations are supported. */</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>} per_transport_caps;</p></td>
<td width="8%"></td>
<td width="7%"></td>
<td width="62%">
</td></tr>
</table>

<p style="margin-left:11%;">};</p>

<p style="margin-left:11%; margin-top: 1em">enum
ibv_odp_general_cap_bits { <br>
IBV_ODP_SUPPORT = 1 &lt;&lt; 0, /* On demand paging is
supported */ <br>
};</p>

<p style="margin-left:11%; margin-top: 1em">enum
ibv_odp_transport_cap_bits { <br>
IBV_ODP_SUPPORT_SEND = 1 &lt;&lt; 0, /* Send operations
support on-demand paging */ <br>
IBV_ODP_SUPPORT_RECV = 1 &lt;&lt; 1, /* Receive operations
support on-demand paging */ <br>
IBV_ODP_SUPPORT_WRITE = 1 &lt;&lt; 2, /* RDMA-Write
operations support on-demand paging */ <br>
IBV_ODP_SUPPORT_READ = 1 &lt;&lt; 3, /* RDMA-Read operations
support on-demand paging */ <br>
IBV_ODP_SUPPORT_ATOMIC = 1 &lt;&lt; 4, /* RDMA-Atomic
operations support on-demand paging */ <br>
};</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>ibv_query_device_ex()</b>
returns 0 on success, or the value of errno on failure
(which indicates the failure reason).</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The maximum
values returned by this function are the upper limits of
supported resources by the device. However, it may not be
possible to use these maximum values, since the actual
number of any resource that can be created may be limited by
the machine configuration, the amount of host memory, user
permissions, and the amount of resources already in use by
other users/processes.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>ibv_query_device</b>(3),
<b>ibv_open_device</b>(3), <b>ibv_query_port</b>(3),
<b>ibv_query_pkey</b>(3), <b>ibv_query_gid</b>(3)</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Majd Dibbiny
&lt;majd@mellanox.com&gt;</p>
<hr>
</body>
</html>
