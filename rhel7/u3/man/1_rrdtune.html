<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:18:46 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>RRDTUNE</title>

</head>
<body>

<h1 align="center">RRDTUNE</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#EXAMPLE 1">EXAMPLE 1</a><br>
<a href="#EXAMPLE 2">EXAMPLE 2</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">rrdtune &minus;
Modify some basic properties of a Round Robin Database</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>rrdtool
tune</b> <i>filename</i>
[<b>&minus;&minus;heartbeat</b>|<b>&minus;h&nbsp;</b><i>ds-name</i>:<i>heartbeat</i>]
[<b>&minus;&minus;minimum</b>|<b>&minus;i&nbsp;</b><i>ds-name</i>:<i>min</i>]
[<b>&minus;&minus;maximum</b>|<b>&minus;a&nbsp;</b><i>ds-name</i>:<i>max</i>]
[<b>&minus;&minus;data&minus;source&minus;type</b>|<b>&minus;d&nbsp;</b><i>ds-name</i>:
<i><small>DST</small></i> ]
[<b>&minus;&minus;data&minus;source&minus;rename</b>|<b>&minus;r&nbsp;</b><i>old-name</i>:<i>new-name</i>]
[<b>&minus;&minus;deltapos&nbsp;</b><i>scale-value</i>]
[<b>&minus;&minus;deltaneg&nbsp;</b><i>scale-value</i>]
[<b>&minus;&minus;failure&minus;threshold&nbsp;</b><i>failure-threshold</i>]
[<b>&minus;&minus;window&minus;length&nbsp;</b><i>window-length</i>]
[<b>&minus;&minus;alpha&nbsp;</b><i>adaption-parameter</i>]
[<b>&minus;&minus;beta&nbsp;</b><i>adaption-parameter</i>]
[<b>&minus;&minus;gamma&nbsp;</b><i>adaption-parameter</i>]
[<b>&minus;&minus;gamma&minus;deviation&nbsp;</b><i>adaption-parameter</i>]
[<b>&minus;&minus;smoothing&minus;window&nbsp;</b><i>fraction-of-season</i>]
[<b>&minus;&minus;smoothing&minus;window&minus;deviation&nbsp;</b><i>fraction-of-season</i>]
[<b>&minus;&minus;aberrant&minus;reset&nbsp;</b><i>ds-name</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The tune option
allows you to alter some of the basic configuration values
stored in the header area of a Round Robin Database (
<b><small>RRD</small></b> ).</p>

<p style="margin-left:11%; margin-top: 1em">One application
of the <b>tune</b> function is to relax the validation rules
on an <b><small>RRD</small></b> . This allows to fill a new
<b><small>RRD</small></b> with data available in larger
intervals than what you would normally want to permit. Be
very careful with tune operations for <small>COMPUTE</small>
data sources. Setting the <i>min</i>, <i>max</i>, and
<i>heartbeat</i> for a <small>COMPUTE</small> data source
without changing the data source type to a non-COMPUTE
<b><small>DST</small></b> <small>WILL</small> corrupt the
data source header in the <b><small>RRD</small></b> .</p>

<p style="margin-left:11%; margin-top: 1em">A second
application of the <b>tune</b> function is to set or alter
parameters used by the specialized function <b>RRAs</b> for
aberrant behavior detection. <i><br>
filename</i></p>

<p style="margin-left:23%;">The name of the
<b><small>RRD</small></b> you want to tune.</p>


<p style="margin-left:11%;"><b>&minus;&minus;heartbeat</b>|<b>&minus;h&nbsp;</b><i>ds-name</i>:<i>heartbeat</i></p>

<p style="margin-left:23%;">modify the <i>heartbeat</i> of
a data source. By setting this to a high value the
<small>RRD</small> will accept things like one value per
day.</p>


<p style="margin-left:11%;"><b>&minus;&minus;minimum</b>|<b>&minus;i&nbsp;</b><i>ds-name</i>:<i>min</i></p>

<p style="margin-left:23%;">alter the minimum value
acceptable as input from the data source. Setting <i>min</i>
to &rsquo;U&rsquo; will disable this limit.</p>


<p style="margin-left:11%;"><b>&minus;&minus;maximum</b>|<b>&minus;a&nbsp;</b><i>ds-name</i>:<i>max</i></p>

<p style="margin-left:23%;">alter the maximum value
acceptable as input from the data source. Setting <i>max</i>
to &rsquo;U&rsquo; will disable this limit.</p>


<p style="margin-left:11%;"><b>&minus;&minus;data&minus;source&minus;type</b>|<b>&minus;d&nbsp;</b><i>ds-name</i>:
<i><small>DST</small></i></p>

<p style="margin-left:23%;">alter the type
<b><small>DST</small></b> of a data source.</p>


<p style="margin-left:11%;"><b>&minus;&minus;data&minus;source&minus;rename</b>|<b>&minus;r&nbsp;</b><i>old-name</i>:<i>new-name</i></p>

<p style="margin-left:23%;">rename a data source.</p>


<p style="margin-left:11%;"><b>&minus;&minus;deltapos&nbsp;</b><i>scale-value</i></p>

<p style="margin-left:23%;">Alter the deviation scaling
factor for the upper bound of the confidence band used
internally to calculate violations for the <small>FAILURES
<b>RRA</b></small> . The default value is 2. Note that this
parameter is not related to graphing confidence bounds which
must be specified as a <small>CDEF</small> argument to
generate a graph with confidence bounds. The graph scale
factor need not to agree with the value used internally by
the <small>FAILURES <b>RRA</b></small> .</p>


<p style="margin-left:11%;"><b>&minus;&minus;deltaneg&nbsp;</b><i>scale-value</i></p>

<p style="margin-left:23%;">Alter the deviation scaling
factor for the lower bound of the confidence band used
internally to calculate violations for the <small>FAILURES
<b>RRA</b></small> . The default value is 2. As with
<b>&minus;&minus;deltapos</b>, this argument is unrelated to
the scale factor chosen when graphing confidence bounds.</p>


<p style="margin-left:11%;"><b>&minus;&minus;failure&minus;threshold&nbsp;</b><i>failure-threshold</i></p>

<p style="margin-left:23%;">Alter the number of confidence
bound violations that constitute a failure for purposes of
the <small>FAILURES <b>RRA</b></small> . This must be an
integer less than or equal to the window length of the
<small>FAILURES <b>RRA</b></small> . This restriction is not
verified by the tune option, so one can reset
failure-threshold and window-length simultaneously. Setting
this option will reset the count of violations to 0.</p>


<p style="margin-left:11%;"><b>&minus;&minus;window&minus;length&nbsp;</b><i>window-length</i></p>

<p style="margin-left:23%;">Alter the number of time points
in the temporal window for determining failures. This must
be an integer greater than or equal to the window length of
the <small>FAILURES <b>RRA</b></small> and less than or
equal to 28. Setting this option will reset the count of
violations to 0.</p>


<p style="margin-left:11%;"><b>&minus;&minus;alpha&nbsp;</b><i>adaption-parameter</i></p>

<p style="margin-left:23%;">Alter the intercept adaptation
parameter for the Holt-Winters forecasting algorithm. This
parameter must be between 0 and 1.</p>


<p style="margin-left:11%;"><b>&minus;&minus;beta&nbsp;</b><i>adaption-parameter</i></p>

<p style="margin-left:23%;">Alter the slope adaptation
parameter for the Holt-Winters forecasting algorithm. This
parameter must be between 0 and 1.</p>


<p style="margin-left:11%;"><b>&minus;&minus;gamma&nbsp;</b><i>adaption-parameter</i></p>

<p style="margin-left:23%;">Alter the seasonal coefficient
adaptation parameter for the <small>SEASONAL
<b>RRA</b></small> . This parameter must be between 0 and
1.</p>


<p style="margin-left:11%;"><b>&minus;&minus;gamma&minus;deviation&nbsp;</b><i>adaption-parameter</i></p>

<p style="margin-left:23%;">Alter the seasonal deviation
adaptation parameter for the <small>DEVSEASONAL
<b>RRA</b></small> . This parameter must be between 0 and
1.</p>


<p style="margin-left:11%;"><b>&minus;&minus;smoothing&minus;window&nbsp;</b><i>fraction-of-season</i></p>

<p style="margin-left:23%;">Alter the size of the smoothing
window for the <small>SEASONAL <b>RRA</b></small> . This
must be between 0 and 1.</p>


<p style="margin-left:11%;"><b>&minus;&minus;smoothing&minus;window&minus;deviation&nbsp;</b><i>fraction-of-season</i></p>

<p style="margin-left:23%;">Alter the size of the smoothing
window for the <small>DEVSEASONAL <b>RRA</b></small> . This
must be between 0 and 1.</p>


<p style="margin-left:11%;"><b>&minus;&minus;aberrant&minus;reset&nbsp;</b><i>ds-name</i></p>

<p style="margin-left:23%;">This option causes the aberrant
behavior detection algorithm to reset for the specified data
source; that is, forget all it is has learnt so far.
Specifically, for the <small>HWPREDICT</small> or
<small>MHWPREDICT <b>RRA</b></small> , it sets the intercept
and slope coefficients to unknown. For the <small>SEASONAL
<b>RRA</b></small> , it sets all seasonal coefficients to
unknown. For the <small>DEVSEASONAL <b>RRA</b></small> , it
sets all seasonal deviation coefficients to unknown. For the
<small>FAILURES <b>RRA</b></small> , it erases the violation
history. Note that reset does not erase past predictions
(the values of the <small>HWPREDICT</small> or
<small>MHWPREDICT <b>RRA</b></small> ), predicted deviations
(the values of the <small>DEVPREDICT <b>RRA</b></small> ),
or failure history (the values of the <small>FAILURES
<b>RRA</b></small> ). This option will function even if not
all the listed <b>RRAs</b> are present.</p>

<p style="margin-left:23%; margin-top: 1em">Due to the
implementation of this option, there is an indirect impact
on other data sources in the <small>RRD</small> . A
smoothing algorithm is applied to <small>SEASONAL</small>
and <small>DEVSEASONAL</small> values on a periodic basis.
During bootstrap initialization this smoothing is deferred.
For efficiency, the implementation of smoothing is not data
source specific. This means that utilizing reset for one
data source will delay running the smoothing algorithm for
all data sources in the file. This is unlikely to have
serious consequences, unless the data being collected for
the non-reset data sources is unusually volatile during the
reinitialization period of the reset data source.</p>

<p style="margin-left:23%; margin-top: 1em">Use of this
tuning option is advised when the behavior of the data
source time series changes in a drastic and permanent
manner.</p>

<h2>EXAMPLE 1
<a name="EXAMPLE 1"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><tt>&quot;rrdtool
tune data.rrd &minus;h in:100000 &minus;h out:100000
&minus;h through:100000&quot;</tt></p>

<p style="margin-left:11%; margin-top: 1em">Set the minimum
required heartbeat for data sources &rsquo;in&rsquo;,
&rsquo;out&rsquo; and &rsquo;through&rsquo; to 10&rsquo;000
seconds which is a little over one day in data.rrd. This
would allow to feed old data from
<small>MRTG&minus;2</small> .0 right into RRDtool without
generating *UNKNOWN* entries.</p>

<h2>EXAMPLE 2
<a name="EXAMPLE 2"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><tt>&quot;rrdtool
tune monitor.rrd &minus;&minus;window&minus;length 5
&minus;&minus;failure&minus;threshold 3&quot;</tt></p>

<p style="margin-left:11%; margin-top: 1em">If the
<small>FAILURES <b>RRA</b></small> is implicitly created,
the default window-length is 9 and the default
failure-threshold is 7. This command now defines a failure
as 3 or more violations in a temporal window of 5 time
points.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Tobias Oetiker
&lt;tobi@oetiker.ch&gt;</p>
<hr>
</body>
</html>
