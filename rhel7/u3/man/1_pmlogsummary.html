<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:10:34 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PMLOGSUMMARY</title>

</head>
<body>

<h1 align="center">PMLOGSUMMARY</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OUTPUT FORMAT">OUTPUT FORMAT</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#EXAMPLE">EXAMPLE</a><br>
<a href="#FILES">FILES</a><br>
<a href="#PCP ENVIRONMENT">PCP ENVIRONMENT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#DIAGNOSTICS">DIAGNOSTICS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pmlogsummary</b>
&minus; calculate averages of metrics stored in a set of PCP
archives</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pmlogsummary</b>
[<b>&minus;abfFHiIlmMNsvxyz</b>] [<b>&minus;B</b>
<i>nbins</i>] [<b>&minus;n</b> <i>pmnsfile</i>]
[<b>&minus;p</b> <i>precision</i>] [<b>&minus;S</b>
<i>starttime</i>] [<b>&minus;T</b> <i>endtime</i>]
[<b>&minus;Z</b> <i>timezone</i>] <i>archive</i>
[<i>metricname</i> ...]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pmlogsummary</b>
prints statistical information about metrics of numeric type
contained within the files of a set of Performance Co-Pilot
(PCP) archive logs. The default output prints time averages
for both counter and non-counter metrics. The set of archive
logs is identified by <i>archive</i>, which is a
comma-separated list of names, each of which may be the base
name of an archive or the name of a directory containing one
or more archives. The archive logs are typically created
using <b>pmlogger</b>(1).</p>

<p style="margin-left:11%; margin-top: 1em">The metrics of
interest are named in the <i>metricname</i> arguments. If
<i>metricname</i> is a non-leaf node in the Performance
Metrics Name Space (<b>pmns</b>(5)), then
<b>pmlogsummary</b> will recursively descend the PMNS and
report on all leaf nodes. If no <i>metricname</i> argument
is given, the root of the namespace is used.</p>

<p style="margin-left:11%; margin-top: 1em">Normally
<b>pmlogsummary</b> operates on the default <b>pmns</b>(5),
however if the <b>&minus;n</b> option is specified an
alternative namespace is loaded from the file
<i>pmnsfile</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The command
line options <b>&minus;S</b> and <b>&minus;T</b> can be used
to specify a time window over which metrics should be
summarized. These options are common to most Performance
Co-Pilot tools and are fully described in
<b>PCPIntro</b>(1).</p>

<p style="margin-left:11%; margin-top: 1em">The remaining
options control the specific information to be reported.
Metrics with counter semantics are converted to rates before
being evaluated.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;a</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Print all information. This is equivalent to
<b>&minus;blmMy</b>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;b</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Print both forms of averaging, that is both stochastic
and time averaging.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;B</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Print the approximate distribution of values, using
histogram bins such that the value range (minimum - maximum)
for each metric is divided equally into <i>nbins</i> bins,
and each bin accumulates the frequency of observed values in
the corresponding range. Refer to the &lsquo;&lsquo;OUTPUT
FORMAT&rsquo;&rsquo; section below for a description of how
the distribution of values is reported).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;f</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Spreadsheet format &minus; the tab character is used to
delimit each field printed. This option is intended to allow
<b>pmlogsummary</b> output to be imported directly into
common spreadsheet applications.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;F</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Spreadsheet format &minus; the comma character is used
to delimit each field printed. This option is intended to
allow <b>pmlogsummary</b> output to be imported directly
into common spreadsheet applications which support the Comma
Separated Value (.csv) format.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;H</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Print a one-line header at the start showing what each
field represents.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;l</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Also print the archive label, showing the log format
version, the time and date for the start and end of the
archive time window, and the host from which the performance
metrics values were collected.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;i</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Also print the time at which the minimum value was
logged. The format of this timestamp is described in the
&lsquo;&lsquo;OUTPUT FORMAT&rsquo;&rsquo; section below.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;I</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Also print the time at which the maximum value was
logged. The format of this timestamp is described in the
&lsquo;&lsquo;OUTPUT FORMAT&rsquo;&rsquo; section below.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;m</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Also print the minimum logged value for each metric.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;M</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Also print the maximum logged value for each metric.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;s</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Print (only) the sum of all logged values for each
metric.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;N</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Suppress any warnings resulting from individual archive
fetches (default).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;p</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Print all floating point numbers with <i>precision</i>
digits after the decimal place.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;v</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Report (verbosely) on warnings resulting from individual
archive fetches.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;x</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Print stochastic averages instead of the default (time
averages).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;y</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Also print the number of samples encountered in the set
of archives for each metric.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">By default,
<b>pmlogsummary</b> reports the time of day according to the
local timezone on the system where <b>pmlogsummary</b> is
run. The <b>&minus;Z</b> option changes the timezone to
<i>timezone</i> in the format of the environment variable
<b>TZ</b> as described in <b>environ</b>(7). The
<b>&minus;z</b> option changes the timezone to the local
timezone at the host that is the source of the performance
metrics, as specified in the label record of the archive
log.</p>

<h2>OUTPUT FORMAT
<a name="OUTPUT FORMAT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>pmlogsummary</b> output format is spartan as it is
intended to be post-processed with standard tools. This
means that there is no annotation associated with each
output field which would make processing harder. The
intention is that <b>pmlogsummary</b> output be massaged
into a format which can be used by a spreadsheet program, is
suitable for inclusion in a web page, or whatever.</p>

<p style="margin-left:11%; margin-top: 1em">For each
metric, <b>pmlogsummary</b> produces a single output line as
follows:</p>

<p style="margin-left:15%; margin-top: 1em"><i>metricname
value(s) units</i></p>

<p style="margin-left:11%; margin-top: 1em">For metrics
with multiple instances, <b>pmlogsummary</b> produces
multiple lines of output as follows:</p>


<p style="margin-left:15%; margin-top: 1em"><i>metricname</i>
[&quot;<i>instance 1</i>&quot;] <i>value(s) units <br>
metricname</i> [&quot;<i>instance 2</i>&quot;] <i>value(s)
units <br>
metricname</i> [&quot;<i>instance N</i>&quot;] <i>value(s)
units</i></p>

<p style="margin-left:11%; margin-top: 1em">The printed
<i>value(s)</i> for each metric always follow this order:
stochastic average, time average, minimum, minimum
timestamp, maximum, maximum timestamp, count, [bin 1 range],
bin 1 count, ... [bin <i>nbins</i> range], bin <i>nbins</i>
count. The individual values for each metric are
space-separated (unless the <b>&minus;f</b> option is
used).</p>

<p style="margin-left:11%; margin-top: 1em">All counter
metrics which are measured in units of time will be
converted to seconds before being rate converted and used in
the <b>pmlogsummary</b> calculations. The values calculated
for these metrics are also printed in seconds.</p>

<p style="margin-left:11%; margin-top: 1em">The units will
be displayed in the format described by
<b>pmUnitsStr</b>(3).</p>

<p style="margin-left:11%; margin-top: 1em">Given either of
the <b>-i</b> or <b>-I</b> options, <b>pmlogsummary</b>
produces two different timestamp formats, depending on the
interval over which it is run. For an interval greater than
24 hours, the date is displayed in addition to the time at
which the maxima and/or minima occurred. If the extent of
the data being checked is less than 24 hours, a more precise
format is used (time is displayed with millisecond
precision, but without the date).</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The average for
an individual metric is calculated as follows:</p>

<p style="margin-left:11%; margin-top: 1em">Non-counter
metrics are averaged using stochastic averaging - each
observation has an equal weighting towards the calculation
of the average (the sum of all values divided by the total
number of values, for each metric).</p>

<p style="margin-left:11%; margin-top: 1em">Counter metrics
are averaged using time averaging (by default), but the
<b>&minus;x</b> option can be used to specify that counters
be averaged using the stochastic method instead. When
calculating a time average, the sum of the product of each
sample value multiplied by the time difference between each
sample, is divided by the total time over which that metric
was logged.</p>

<p style="margin-left:11%; margin-top: 1em">Counter metrics
whose measurements do not span 90% of the set of archives
will be printed with the metric name prefixed by an asterisk
(*).</p>

<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">$ pmlogsummary
&minus;aN &minus;p 1 &minus;B 3 surf
network.interface.out.bytes <br>
Log Label (Log Format Version 1) <br>
Performance metrics from host www.sgi.com <br>
commencing Tue Jan 14 20:50:50.317 1997 <br>
ending Wed Jan 29 10:13:07.387 1997 <br>
network.interface.out.bytes [&quot;xpi0&quot;] 202831.3
202062.5 20618.7 \</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>1235067.7 971 [&lt;=425435.0] 912 [&lt;=830251.4] 42
[&lt;=1235067.7] \</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>17 byte / sec</p></td></tr>
</table>

<p style="margin-left:11%;">network.interface.out.bytes
[&quot;xpi1&quot;] 0.0 0.0 0.0 0.0 1033 [&lt;=0.0] \</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>1033 [] 0 [] 0 byte / sec</p></td></tr>
</table>

<p style="margin-left:11%;">network.interface.out.bytes
[&quot;et0&quot;] 0.0 0.0 0.0 0.0 1033 [&lt;=0.0] \</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>1033 [] 0 [] 0 byte / sec</p></td></tr>
</table>

<p style="margin-left:11%;">network.interface.out.bytes
[&quot;lo0&quot;] 899.0 895.2 142.6 9583.1 1031 \</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>[&lt;=3289.4] 1027 [&lt;=6436.2] 3 [&lt;=9583.1] 1 byte
/ sec</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">A description
of each field in the first line of statistical output, which
describes one instance of the network.interface.out.bytes
metric, follows:</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-136611.png" alt="Image grohtml-136611.png"></p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>$PCP_VAR_DIR/pmns/</b><i>*</i></p>

<p style="margin-left:26%;">default PMNS specification
files</p>


<p style="margin-left:11%;"><b>$PCP_LOG_DIR/pmlogger/</b><i>hostname</i></p>

<p style="margin-left:26%;">Default directory for PCP
archives containing performance metric values collected from
the host <i>hostname</i>.</p>

<h2>PCP ENVIRONMENT
<a name="PCP ENVIRONMENT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Environment
variables with the prefix <b>PCP_</b> are used to
parameterize the file and directory names used by PCP. On
each installation, the file <i>/etc/pcp.conf</i> contains
the local values for these variables. The <b>$PCP_CONF</b>
variable may be used to specify an alternative configuration
file, as described in <b>pcp.conf</b>(5).</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>PCPIntro</b>(1),
<b>pmchart</b>(1), <b>pmdumptext</b>(1),
<b>pmlogextract</b>(1), <b>pmlogger</b>(1), <b>pmrep</b>(1),
<b>pmval</b>(1), <b>PMAPI</b>(3), <b>pmUnitsStr</b>(3) and
<b>pmns</b>(5).</p>

<h2>DIAGNOSTICS
<a name="DIAGNOSTICS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All are
generated on standard error and are intended to be self-
explanatory.</p>
<hr>
</body>
</html>
