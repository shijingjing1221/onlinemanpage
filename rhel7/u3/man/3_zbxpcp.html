<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 23:15:03 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>ZBXPCP</title>

</head>
<body>

<h1 align="center">ZBXPCP</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#CONFIGURATION">CONFIGURATION</a><br>
<a href="#FILES">FILES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>zbxpcp</b>
&minus; Zabbix Agent Loadable PCP Module</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>zbxpcp</b> loadable module extends Zabbix agent by making
Performance Co-Pilot (PCP) metrics available to it. With the
<b>zbxpcp</b> module configured in <i>zabbix_agentd.conf</i>
all the PCP metrics are available from the Zabbix agent like
any other agent items. As a loadable module (DSO)
<b>zbxpcp</b> does not rely on any external programs but
directly uses the PCP APIs to fetch PCP metrics when
requested.</p>

<p style="margin-left:11%; margin-top: 1em">A typical Linux
PCP installation offers over 1,000 metrics by default and is
in turn extensible with its own plugins, or PMDAs
(&lsquo;&lsquo;Performance Metrics Domain
Agents&rsquo;&rsquo;). In addition to very complete
<i>/proc</i> based statistics, readily available PCP PMDAs
provide support for such system and application level
components as 389 Directory Server, Apache, containers,
GFS2, Gluster, KVM, MySQL, NFS, Oracle, Postfix, PostgreSQL,
Samba, and Sendmail, among others. PCP also runs on many
platforms, including Linux, Mac OS X, FreeBSD, NetBSD,
Solaris, and Windows.</p>

<p style="margin-left:11%; margin-top: 1em">For PCP
introduction, see <b>PCPIntro</b>(1). To investigate the
available PCP metrics, use for example <b>pminfo</b>(1). The
<i>PCP Quick Reference Guide</i> is available at the PCP
home page http://pcp.io/.</p>

<p style="margin-left:11%; margin-top: 1em">For general
information about Zabbix data collection and loadable
modules, see
https://www.zabbix.com/documentation/3.0/manual/config/items.
For Zabbix introduction and downloads, see
http://www.zabbix.com/.</p>

<p style="margin-left:11%; margin-top: 1em"><b>zbxpcp</b>
is compatible with the Zabbix module API version
<b>1</b>.</p>

<h2>CONFIGURATION
<a name="CONFIGURATION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">First make sure
PCP is installed and configured properly, see the above
references for instructions and use for example
<b>pminfo</b>(1) to make sure the PCP metrics can be
fetched. To enable the <b>zbxpcp</b> loadable module in a
Zabbix agent, the following lines must be added to the
Zabbix agent configuration file <i>zabbix_agentd.conf</i>
(make sure to use the correct <i>LoadModulePath</i>):</p>

<pre style="margin-left:17%; margin-top: 1em">LoadModulePath=/usr/lib64/zabbix/agent/
LoadModule=zbxpcp.so</pre>


<p style="margin-left:11%; margin-top: 1em">After
restarting the Zabbix agent all the PCP metrics will be
available with the &lsquo;&lsquo;<b>pcp.</b>&rsquo;&rsquo;
prefix like all the other agent items. This can be verified
with the commands:</p>

<pre style="margin-left:17%; margin-top: 1em">$ pminfo -t
$ zabbix_agentd -p
$ pminfo -f kernel.all.sysfork
$ zabbix_get -s 127.0.0.1 -p 10050 -k pcp.kernel.all.sysfork</pre>


<p style="margin-left:11%; margin-top: 1em">Then to collect
PCP metrics from Zabbix agents, the Zabbix server side
configuration is as usual (see Zabbix documentation if
needed).</p>

<p style="margin-left:11%; margin-top: 1em">The PCP
<b>pmcd</b> service must always be running when starting up
a <b>zbxpcp</b> enabled Zabbix agent, otherwise the module
will fail to load and the PCP metrics will not become
available. Special care must be taken to make sure this
happens also when rebooting the system.</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>/etc/zabbix/zabbix_agentd.conf</b></p>

<p style="margin-left:26%;">Typical Zabbix agent
configuration file location.</p>


<p style="margin-left:11%;"><b>/etc/zabbix/zbxpcp-derived-metrics.conf</b></p>

<p style="margin-left:26%;">Optional PCP derived metrics
configuration file for <b>zbxpcp</b>. See
<b>pmLoadDerivedConfig</b>(3) for more info on derived
metrics.</p>


<p style="margin-left:11%;"><b>$(PCP_LIB_DIR)/zabbix/agent/zbxpcp.so</b></p>

<p style="margin-left:26%;">Zabbix agent loadable PCP
module.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>PCPIntro</b>(1),
<b>pminfo</b>(1), <b>pmrep</b>(1), <b>zabbix_get</b>(1),
<b>pmLoadDerivedConfig</b>(3) and
<b>zabbix_agentd</b>(8).</p>
<hr>
</body>
</html>
