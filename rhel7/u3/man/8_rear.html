<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:16:19 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>REAR</title>

</head>
<body>

<h1 align="center">REAR</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#BACKGROUND INFORMATION">BACKGROUND INFORMATION</a><br>
<a href="#RESCUE IMAGE CONFIGURATION">RESCUE IMAGE CONFIGURATION</a><br>
<a href="#BACKUP SOFTWARE INTEGRATION">BACKUP SOFTWARE INTEGRATION</a><br>
<a href="#CONFIGURATION">CONFIGURATION</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#FILES">FILES</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">rear &minus;
bare metal disaster recovery and system migration tool</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>rear</b>
[<b>&minus;dDsSvV</b>] [<b>&minus;r</b> <i>KERNEL</i>]
<i>COMMAND</i> [&minus;&minus; <i>ARGS</i>...]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">Relax&minus;and&minus;Recover
is the leading Open Source disaster recovery solution. It is
a modular framework with many ready&minus;to&minus;go
workflows for common situations.</p>


<p style="margin-left:11%; margin-top: 1em">Relax&minus;and&minus;Recover
produces a bootable image. This image can repartition the
system. Once that is done it initiates a restore from
backup. Restores to different hardware are possible.
Relax&minus;and&minus;Recover can therefore be used as a
migration tool as well.</p>

<p style="margin-left:11%; margin-top: 1em">Currently
Relax&minus;and&minus;Recover supports various boot media
(incl. ISO, PXE, OBDR tape, USB or eSATA storage), a variety
of network protocols (incl. sftp, ftp, http, nfs, cifs) for
storage and backup as well as a multitude of backup
strategies (incl. IBM Tivoli Storage Manager, HP
DataProtector, Symantec NetBackup, EMC NetWorker, Bareos,
Bacula, rsync, rbme). This results in a bootable image that
os capable of booting via PXE, DVD/CD, bootable tape or
virtual provisioning.</p>


<p style="margin-left:11%; margin-top: 1em">Relax&minus;and&minus;Recover
was designed to be easy to set up, requires no maintenance
and is there to assist when disaster strikes. Its
setup&minus;and&minus;forget nature removes any excuses for
not having a disaster recovery solution implemented.</p>

<p style="margin-left:11%; margin-top: 1em">Recovering from
disaster is made very straight&minus;forward by a
2&minus;step recovery process so that it can be executed by
operational teams when required. When used interactively
(e.g. when used for migrating systems), menus help make
decisions to restore to a new (hardware) environment.</p>

<p style="margin-left:11%; margin-top: 1em">Extending
Relax&minus;and&minus;Recover is made possible by its
modular framework. Consistent logging and optionally
extended output help understand the concepts behind
Relax&minus;and&minus;Recover and help debug during
development.</p>


<p style="margin-left:11%; margin-top: 1em">Relax&minus;and&minus;Recover
comes with ABSOLUTELY NO WARRANTY; for details see the GNU
General Public License at:
<b><font color="#0000FF">http://www.gnu.org/licenses/gpl.html</font></b></p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b><font color="#000000">GLOBAL
OPTIONS</font></b> <font color="#000000"><br>
&minus;d</font></p>

<p style="margin-left:17%;"><font color="#000000"><b>debug
mode</b> (log debug messages to log file)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;D</font></p>


<p style="margin-left:17%;"><font color="#000000"><b>debugscript
mode</b> (log every function call)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;r
KERNEL</font></p>

<p style="margin-left:17%;"><font color="#000000">kernel
version to use (by default use running kernel)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;s</font></p>


<p style="margin-left:17%;"><font color="#000000"><b>simulation
mode</b> (show what scripts rear would include)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;S</font></p>


<p style="margin-left:17%;"><font color="#000000"><b>step&minus;by&minus;step
mode</b> (acknowledge each script individually)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;v</font></p>


<p style="margin-left:17%;"><font color="#000000"><b>verbose
mode</b> (show progress output)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;V</font></p>

<p style="margin-left:17%;"><font color="#000000">version
information</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>COMMANDS
<br>
checklayout</b></font></p>

<p style="margin-left:17%;"><font color="#000000">check if
the disk layout has changed since the last run of
mkbackup/mkrescue</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>dump</b></font></p>

<p style="margin-left:17%;"><font color="#000000">dump
configuration and system information; please run this to
verify your setup</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>format</b></font></p>

<p style="margin-left:17%;"><font color="#000000">format
and label USB or tape media to be used with rear;</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">first
argument is the USB or tape device to use, eg.
<i>/dev/sdX</i> or <i>/dev/stX</i></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>help</b></font></p>

<p style="margin-left:17%;"><font color="#000000">print
full list of commands and options</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>mkbackup</b></font></p>

<p style="margin-left:17%;"><font color="#000000">create
rescue media and backup the system (only for internal backup
methods)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>mkbackuponly</b></font></p>

<p style="margin-left:17%;"><font color="#000000">backup
the system (only for internal backup methods) without
creating rescue media</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>mkrescue</b></font></p>

<p style="margin-left:17%;"><font color="#000000">create
rescue media only</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>recover</b></font></p>

<p style="margin-left:17%;"><font color="#000000">recover
the system; can be used only when running from the rescue
media</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>validate</b></font></p>

<p style="margin-left:17%;"><font color="#000000">submit
validation information</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Use
<i>rear &minus;v help</i> for more advanced
commands.</font></p>

<h2>BACKGROUND INFORMATION
<a name="BACKGROUND INFORMATION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
process of bare metal disaster recovery consists of two
parts:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">&bull;
Recreate the system layout</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">&bull;
Restore the data to the system</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Most
backup software solutions are very good at restoring data
but do not support recreating the system layout.
Relax&minus;and&minus;Recover is very good at recreating the
system layout but works best when used together with
supported backup software.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">In
this combination Relax&minus;and&minus;Recover recreates the
system layout and calls the backup software to restore the
actual data. Thus there is no unnessecary duplicate data
storage and the Relax&minus;and&minus;Recover rescue media
can be very small.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">For
demonstration and special use purposes
Relax&minus;and&minus;Recover also includes an internal
backup method, NETFS, which can be used to create a simple
tar.gz archive of the system. For all permanent setups we
recommend using something more professional for backup,
either a traditional backup software (open source or
commercial) or rsync with hardlink based solutions, e.g.
RSYNC BACKUP MADE EASY.</font></p>

<h2>RESCUE IMAGE CONFIGURATION
<a name="RESCUE IMAGE CONFIGURATION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
OUTPUT variable defines how from where our rescue image will
be booted and the OUTPUT_URL variable defines where the
rescue image should be send to. Possible OUTPUT setting
are:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">OUTPUT=<b>RAMDISK</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Create
only the Relax&minus;and&minus;Recover initramfs.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">OUTPUT=<b>ISO</b></font></p>


<p style="margin-left:17%;"><font color="#000000"><b>(Default)</b>
Create a bootable ISO9660 image on disk as
<i>rear&minus;$(hostname).iso</i></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">OUTPUT=<b>PXE</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Create on
a remote PXE/NFS server the required files (such as
configuration file, kernel and initrd image</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">OUTPUT=<b>OBDR</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Create a
bootable OBDR tape (optionally including the backup
archive). Specify the OBDR tape device by using
TAPE_DEVICE.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">OUTPUT=<b>USB</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Create a
bootable USB disk (using extlinux). Specify the USB storage
device by using USB_DEVICE.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">When
using OUTPUT=ISO, RAMDISK, OBDR or USB you should provide
the backup target location through the OUTPUT_URL variable.
Possible OUTPUT_URL settings are:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">OUTPUT_URL=<b>file://</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Write the
image to disk. The default is in
<i>/var/lib/rear/output/</i>.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">OUTPUT_URL=<b>fish://</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Write the
image using lftp and the FISH protocol.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">OUTPUT_URL=<b>ftp://</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Write the
image using lftp and the FTP protocol.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">OUTPUT_URL=<b>ftps://</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Write the
image using lftp and the FTPS protocol.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">OUTPUT_URL=<b>hftp://</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Write the
image using lftp and the HFTP protocol.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">OUTPUT_URL=<b>http://</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Write the
image using lftp and the HTTP (PUT) procotol.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">OUTPUT_URL=<b>https://</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Write the
image using lftp and the HTTPS (PUT) protocol.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">OUTPUT_URL=<b>sftp://</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Write the
image using lftp and the secure FTP (SFTP)
protocol.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">OUTPUT_URL=<b>rsync://</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Write the
image using rsync and the RSYNC protocol (SSH
only).</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">OUTPUT_URL=<b>sshfs://</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Write the
image using sshfs and the SSH protocol.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">OUTPUT_URL=<b>null</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Do not
copy the ISO image from <i>/var/lib/rear/output/</i> to an
external destination. Useful in combination with an
<i>external</i> backup program, or when
BACKUP_URL=iso://backup</font></p>

<h2>BACKUP SOFTWARE INTEGRATION
<a name="BACKUP SOFTWARE INTEGRATION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Currently
Relax&minus;and&minus;Recover supports the following backup
methods. Please distinguish carefully between
Relax&minus;and&minus;Recover support for 3rd party backup
software and Relax&minus;and&minus;Recover internal backup
methods. The latter also creates a backup of your data while
the former will only integrate Relax&minus;and&minus;Recover
with the backup software to restore the data with the help
of the backup software without actually creating backups.
This means that for all non&minus;internal backup software
you <b>must</b> take care of creating backups
yourself.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Especially
the rear mkbackup command can be confusing as it is only
useful for the internal backup methods and has no function
at all with the other (external) backup methods.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
following backup methods need to be set in
Relax&minus;and&minus;Recover with the BACKUP option. As
mentioned we have two types of BACKUP methods &minus;
<i>internal</i> and <i>external</i>.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
following BACKUP methods are <i>external</i> of
Relax&minus;and&minus;Recover meaning that you are
responsible of backups being made:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BACKUP=<b>REQUESTRESTORE</b></font></p>


<p style="margin-left:17%;"><font color="#000000"><b>(default)</b>
Not really a backup method at all,
Relax&minus;and&minus;Recover simply halts the recovery and
requests that somebody will restore the data to the
appropriate location (e.g. via SSH). This method works
especially well with an rsync bases backup that is pushed
back to the backup client.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BACKUP=<b>EXTERNAL</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Internal
backup method that uses an arbitrary external command to
create a backup and restore the data.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BACKUP=<b>DP</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Use HP
Data Protector to restore the data.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BACKUP=<b>GALAXY</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Use
CommVault Galaxy 5 to restore the data.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BACKUP=<b>GALAXY7</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Use
CommVault Galaxy 7 to restore the data.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BACKUP=<b>GALAXY10</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Use
CommVault Galaxy 10 (or Simpana 10) to restore the
data.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BACKUP=<b>NBU</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Use
Symantec NetBackup to restore the data.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BACKUP=<b>TSM</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Use IBM
Tivoli Storage Manager to restore the data. The
Relax&minus;and&minus;Recover result files (e.g. ISO image)
are also saved into TSM.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BACKUP=<b>NSR</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Using EMC
NetWorker (Legato) to restore the data.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BACKUP=<b>SESAM</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Using SEP
Sesam to restore the data.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BACKUP=<b>RBME</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Use Rsync
Backup Made Easy (rbme) to restore the data.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BACKUP=<b>BAREOS</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Use Open
Source backup solution BAREOS (a fork a BUCULA) to restore
the data.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BACKUP=<b>BACULA</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Use Open
Source backup solution BACULA to restore the
data.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BACKUP=<b>DUPLICITY</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Use
encrypted bandwidth&minus;efficient backup solution using
the rsync algorithm to restore the data.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
following BACKUP methods are <i>internal</i> of
Relax&minus;and&minus;Recover:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BACKUP=<b>NETFS</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Internal
backup method which can be used to create a simple backup
(tar archive).</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BACKUP=<b>RSYNC</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Use rsync
to restore data.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">If
your favourite backup software is missing from this list,
please submit a patch or ask us to implement it for
you.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">When
using BACKUP=NETFS you should provide the backup target
location through the BACKUP_URL variable. Possible
BACKUP_URL settings are:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BACKUP_URL=<b>file://</b></font></p>

<p style="margin-left:17%;"><font color="#000000">To backup
to local disk, use
BACKUP_URL=file:///directory/path/</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BACKUP_URL=<b>nfs://</b></font></p>

<p style="margin-left:17%;"><font color="#000000">To backup
to NFS disk, use
BACKUP_URL=nfs://nfs&minus;server&minus;name/share/path</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BACKUP_URL=<b>tape://</b></font></p>

<p style="margin-left:17%;"><font color="#000000">To backup
to tape device, use BACKUP_URL=tape:///dev/nst0 or
alternatively, simply define
TAPE_DEVICE=/dev/nst0</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BACKUP_URL=<b>cifs://</b></font></p>

<p style="margin-left:17%;"><font color="#000000">To backup
to a Samba share (CIFS), use
BACKUP_URL=cifs://cifs&minus;server&minus;name/share/path.
To provide credentials for CIFS mounting use a
<i>/etc/rear/.cifs</i> credentials file and define
BACKUP_OPTIONS=&quot;cred=/etc/rear/.cifs&quot; and pass
along:</font></p>


<p style="margin-left:23%; margin-top: 1em"><font color="#000000">username=_username_
<br>
password=_secret password_ <br>
domain=_domain_</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BACKUP_URL=<b>usb://</b></font></p>

<p style="margin-left:17%;"><font color="#000000">To backup
to USB storage device, use
BACKUP_URL=usb:///dev/disk/by&minus;path/REAR&minus;000 or
use a real device node or a specific filesystem label.
Alternatively, you can specify the device using
USB_DEVICE=/dev/disk/by&minus;path/REAR&minus;000.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">If
you combine this with OUTPUT=USB you will end up with a
bootable USB device.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BACKUP_URL=<b>sshfs://</b></font></p>

<p style="margin-left:17%;"><font color="#000000">To backup
to a remote server via sshfs (SSH protocol), use
BACKUP_URL=sshfs://user@remote&minus;system.domain.org/home/user/backup&minus;dir/</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">It
is advisable to add <b>ServerAliveInterval 15</b> in the
/root/.ssh/config file for the remote system
(remote&minus;system.domain.org).</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BACKUP_URL=<b>iso://</b></font></p>

<p style="margin-left:17%;"><font color="#000000">To
include the backup within the ISO image. It is important
that the BACKUP_URL and OUTPUT_URL variables are different.
E.g.</font></p>


<p style="margin-left:23%; margin-top: 1em"><font color="#000000">BACKUP_URL=iso:///backup/
<br>
OUTPUT_URL=nfs://server/path/</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">When
using BACKUP=NETFS there is an option to select a
BACKUP_TYPE=incremental to have rear make incrementals until
the next FULLBACKUPDAY=&quot;Mon&quot; has
reached.</font></p>

<h2>CONFIGURATION
<a name="CONFIGURATION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">To
configure Relax&minus;and&minus;Recover you have to edit the
configuration files in <i>/etc/rear/</i>. All <i>*.conf</i>
files there are part of the configuration, but only
<i>site.conf</i> and <i>local.conf</i> are intended for the
user configuration. All other configuration files hold
defaults for various distributions and should not be
changed.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">In
<i>/etc/rear/templates/</i> there are also some template
files which are used by Relax&minus;and&minus;Recover to
create configuration files (mostly for the boot
environment). Modify the templates to adjust the information
contained in the emails produced by
Relax&minus;and&minus;Recover. You can use these templates
to prepend your own configurations to the configuration
files created by Relax&minus;and&minus;recover, for example
you can edit <i>PXE_pxelinux.cfg</i> to add some general
pxelinux configuration you use.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">In
almost all circumstances you have to configure two main
settings and their parameters: The backup method and the
output method.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
backup method defines, how your data was saved and wether
Relax&minus;and&minus;Recover should backup your data as
part of the mkrescue process or wether you use an external
application, e.g. backup software to archive your
data.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
output method defines how the rescue system is written to
disk and how you plan to boot the failed computer from the
rescue system.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">See
the default configuration file
<i>/usr/share/rear/conf/default.conf</i> for an overview of
the possible methods and their options.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">An
example to use TSM for backup and ISO for output would be to
add these lines to <i>/etc/rear/local.conf</i> (no need to
define a BACKUP_URL when using an external backup
solution):</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">BACKUP=TSM
<br>
OUTPUT=ISO</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">And
if all your systems use NTP for time synchronisation, you
can also add these lines to
<i>/etc/rear/site.conf</i></font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">TIMESYNC=NTP</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Do
not forget to distribute the <i>site.conf</i> to all your
systems.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
resulting ISO image will be created in
<i>/var/lib/rear/output/</i>. You can now modify the
behaviour by copying the appropriate configuration variables
from <i>default.conf</i> to <i>local.conf</i> and changing
them to suit your environment.</font></p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">0</font></p>


<p style="margin-left:17%;"><font color="#000000">Successful
program execution.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&gt;0</font></p>

<p style="margin-left:17%;"><font color="#000000">Usage,
syntax or execution errors. Check the log file in
<i>/var/log/rear/</i> for more information.</font></p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">To
print out the current settings for BACKUP and OUTPUT methods
and some system information. This command can be used to see
the supported features for the given release and
platform.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">#
rear dump</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">To
create a new rescue environment. Do not forget to copy the
resulting rescue system away so that you can use it in the
case of a system failure.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">#
rear &minus;v mkrescue</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">To
create a new rescue image together with a complete archive
of your local system run the command:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">#
rear &minus;v mkbackup</font></p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">/usr/sbin/rear</font></p>

<p style="margin-left:17%;"><font color="#000000">The
program itself.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">/etc/rear/local.conf</font></p>

<p style="margin-left:17%;"><font color="#000000">System
specific configuration can be set here.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">/etc/rear/site.conf</font></p>

<p style="margin-left:17%;"><font color="#000000">Site
specific configuration can be set here (not created by
default).</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">/var/log/rear/</font></p>


<p style="margin-left:17%;"><font color="#000000">Directory
holding the log files.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">/tmp/rear.####</font></p>


<p style="margin-left:17%;"><font color="#000000">Relax&minus;and&minus;Recover
working directory. If Relax&minus;and&minus;Recover exits
with an error, you must remove this directory
manually.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">/usr/share/rear</font></p>


<p style="margin-left:17%;"><font color="#000000">Relax&minus;and&minus;Recover
script components.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">/usr/share/rear/conf/default.conf</font></p>


<p style="margin-left:17%;"><font color="#000000">Relax&minus;and&minus;Recover
default values. Contains a complete set of parameters and
its explanation. Please do not edit or modify. Copy values
to <i>local.conf</i> or <i>site.conf</i> instead.</font></p>

<h2>BUGS
<a name="BUGS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Feedback
is welcome, please report any issues or improvements to our
issue&minus;tracker at:</font>
<b><font color="#0000FF">http://github.com/rear/issues/</font></b></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Furthermore,
we welcome pull requests via GitHub.</font></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Relax&minus;and&minus;Recover
comes with extensive documentation located in
<i>/usr/share/doc</i>.</font></p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Gratien
Dhaese, Schlomo Schapiro, Jeroen Hoekx and Dag
Wieers.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Lars
Pinne (original man page).</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Relax&minus;and&minus;Recover
is a collaborative process using Github at:</font>
<b><font color="#0000FF">http://github.com/rear/</font></b></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
Relax&minus;and&minus;Recover website is located at:</font>
<b><font color="#0000FF">http://relax&minus;and&minus;recover.org/</font></b></p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">(c)
2006&minus;2015</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Schlomo
Schapiro</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Gratien
Dhaese, IT3 Consultants</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Jeroen
Hoekx</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Dag
Wieers, Dagit Linux Solutions</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Relax&minus;and&minus;Recover
comes with ABSOLUTELY NO WARRANTY; for details see the GNU
General Public License at</font>
<b><font color="#0000FF">http://www.gnu.org/licenses/gpl.html</font></b></p>
<hr>
</body>
</html>
