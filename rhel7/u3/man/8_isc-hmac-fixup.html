<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 21:45:20 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>ISC&minus;HMAC&minus;FIXUP</title>

</head>
<body>

<h1 align="center">ISC&minus;HMAC&minus;FIXUP</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#SECURITY CONSIDERATIONS">SECURITY CONSIDERATIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">isc&minus;hmac&minus;fixup
&minus; fixes HMAC keys generated by older versions of
BIND</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="54%">



<p style="margin-top: 1em"><b>isc&minus;hmac&minus;fixup</b>
{<i>algorithm</i>} {<i>secret</i>}</p></td>
<td width="35%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Versions of
BIND 9 up to and including BIND 9.6 had a bug causing
HMAC&minus;SHA* TSIG keys which were longer than the digest
length of the hash algorithm (i.e., SHA1 keys longer than
160 bits, SHA256 keys longer than 256 bits, etc) to be used
incorrectly, generating a message authentication code that
was incompatible with other DNS implementations.</p>

<p style="margin-left:11%; margin-top: 1em">This bug has
been fixed in BIND 9.7. However, the fix may cause
incompatibility between older and newer versions of BIND,
when using long keys. <b>isc&minus;hmac&minus;fixup</b>
modifies those keys to restore compatibility.</p>

<p style="margin-left:11%; margin-top: 1em">To modify a
key, run <b>isc&minus;hmac&minus;fixup</b> and specify the
key&rsquo;s algorithm and secret on the command line. If the
secret is longer than the digest length of the algorithm (64
bytes for SHA1 through SHA256, or 128 bytes for SHA384 and
SHA512), then a new secret will be generated consisting of a
hash digest of the old secret. (If the secret did not
require conversion, then it will be printed without
modification.)</p>

<h2>SECURITY CONSIDERATIONS
<a name="SECURITY CONSIDERATIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Secrets that
have been converted by <b>isc&minus;hmac&minus;fixup</b> are
shortened, but as this is how the HMAC protocol works in
operation anyway, it does not affect security. RFC 2104
notes, &quot;Keys longer than [the digest length] are
acceptable but the extra length would not significantly
increase the function strength.&quot;</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">BIND 9
Administrator Reference Manual, RFC 2104.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Internet
Systems Consortium</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
&copy; 2010, 2013 Internet Systems Consortium, Inc.
(&quot;ISC&quot;)</p>
<hr>
</body>
</html>
