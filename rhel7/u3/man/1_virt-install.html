<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:50:55 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>VIRT-INSTALL</title>

</head>
<body>

<h1 align="center">VIRT-INSTALL</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#CONNECTING TO LIBVIRT">CONNECTING TO LIBVIRT</a><br>
<a href="#GENERAL OPTIONS">GENERAL OPTIONS</a><br>
<a href="#INSTALLATION OPTIONS">INSTALLATION OPTIONS</a><br>
<a href="#STORAGE OPTIONS">STORAGE OPTIONS</a><br>
<a href="#NETWORKING OPTIONS">NETWORKING OPTIONS</a><br>
<a href="#GRAPHICS OPTIONS">GRAPHICS OPTIONS</a><br>
<a href="#VIRTUALIZATION OPTIONS">VIRTUALIZATION OPTIONS</a><br>
<a href="#DEVICE OPTIONS">DEVICE OPTIONS</a><br>
<a href="#MISCELLANEOUS OPTIONS">MISCELLANEOUS OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">virt&minus;install
&minus; provision new virtual machines</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>virt-install</b>
[ <small>OPTION</small> ]...</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>virt-install</b>
is a command line tool for creating new <small>KVM,</small>
Xen, or Linux container guests using the
<tt>&quot;libvirt&quot;</tt> hypervisor management library.
See the <small>EXAMPLES</small> section at the end of this
document to quickly get started.</p>


<p style="margin-left:11%; margin-top: 1em"><b>virt-install</b>
tool supports graphical installations using (for example)
<small>VNC</small> or <small>SPICE,</small> as well as text
mode installs over serial console. The guest can be
configured to use one or more virtual disks, network
interfaces, audio devices, physical <small>USB</small> or
<small>PCI</small> devices, among others.</p>

<p style="margin-left:11%; margin-top: 1em">The
installation media can be held locally or remotely on
<small>NFS, HTTP, FTP</small> servers. In the latter case
<tt>&quot;virt&minus;install&quot;</tt> will fetch the
minimal files necessary to kick off the installation
process, allowing the guest to fetch the rest of the
<small>OS</small> distribution as needed. <small>PXE</small>
booting, and importing an existing disk image (thus skipping
the install phase) are also supported.</p>

<p style="margin-left:11%; margin-top: 1em">Given suitable
command line arguments,
<tt>&quot;virt&minus;install&quot;</tt> is capable of
running completely unattended, with the guest
&rsquo;kickstarting&rsquo; itself too. This allows for easy
automation of guest installs.</p>

<p style="margin-left:11%; margin-top: 1em">Many arguments
have sub options, specified like opt1=foo,opt2=bar, etc. Try
&minus;&minus;option=? to see a complete list of sub options
associated with that argument, example: virt-install
&minus;&minus;disk=?</p>

<p style="margin-left:11%; margin-top: 1em">Most options
are not required. Minimum requirements are
&minus;&minus;name, &minus;&minus;memory, guest storage
(&minus;&minus;disk or &minus;&minus;filesystem), and an
install option.</p>

<h2>CONNECTING TO LIBVIRT
<a name="CONNECTING TO LIBVIRT"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;c</b>
<small>URI</small> <b><br>
&minus;&minus;connect</b> <small>URI</small></p>

<p style="margin-left:17%;">Connect to a non-default
hypervisor. If this isn&rsquo;t specified, libvirt will try
and choose the most suitable default.</p>

<p style="margin-left:17%; margin-top: 1em">Some valid
options here are: <br>
qemu:///system</p>

<p style="margin-left:23%;">For creating <small>KVM</small>
and <small>QEMU</small> guests to be run by the system
libvirtd instance. This is the default mode that
virt-manager uses, and what most <small>KVM</small> users
want.</p>

<p style="margin-left:17%;">qemu:///session</p>

<p style="margin-left:23%;">For creating <small>KVM</small>
and <small>QEMU</small> guests for libvirtd running as the
regular user.</p>

<p style="margin-left:17%;">xen:///</p>

<p style="margin-left:23%;">For connecting to Xen.</p>

<p style="margin-left:17%;">lxc:///</p>

<p style="margin-left:23%;">For creating linux
containers</p>

<h2>GENERAL OPTIONS
<a name="GENERAL OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">General
configuration parameters that apply to all types of guest
installs. <b><br>
&minus;n</b> <small>NAME</small> <b><br>
&minus;&minus;name</b> <small>NAME</small></p>

<p style="margin-left:17%;">Name of the new guest virtual
machine instance. This must be unique amongst all guests
known to the hypervisor on the connection, including those
not currently active. To re-define an existing guest, use
the <tt>virsh(1)</tt> tool to shut it down (&rsquo;virsh
shutdown&rsquo;) &amp; delete (&rsquo;virsh undefine&rsquo;)
it prior to running
<tt>&quot;virt&minus;install&quot;</tt>.</p>

<p style="margin-left:11%;"><b>&minus;&minus;memory</b>
<small>OPTIONS</small></p>

<p style="margin-left:17%;">Memory to allocate for the
guest, in MiB. Sub options are available, like
&rsquo;maxmemory&rsquo; and &rsquo;hugepages&rsquo;. This
deprecates the &minus;r/&minus;&minus;ram option.</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;memory=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsMemoryAllocation&gt;</p>


<p style="margin-left:11%;"><b>&minus;&minus;memorybacking</b>
<small>OPTIONS</small></p>

<p style="margin-left:17%;">This option will influence how
virtual memory pages are backed by host pages.</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;memorybacking=? to see a list of all available
sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsMemoryBacking&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;arch</b>
<small>ARCH</small></p>

<p style="margin-left:17%;">Request a non-native
<small>CPU</small> architecture for the guest virtual
machine. If omitted, the host <small>CPU</small>
architecture will be used in the guest.</p>

<p style="margin-left:11%;"><b>&minus;&minus;machine</b>
<small>MACHINE</small></p>

<p style="margin-left:17%;">The machine type to emulate.
This will typically not need to be specified for Xen or
<small>KVM,</small> but is useful for choosing machine types
of more exotic architectures.</p>

<p style="margin-left:11%;"><b>&minus;&minus;metadata</b>
OPT=VAL,[...]</p>

<p style="margin-left:17%;">Specify metadata values for the
guest. Possible options include name, uuid, title, and
description. This option deprecates
&minus;u/&minus;&minus;uuid and
&minus;&minus;description.</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;metadata=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsMetadata&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;events</b>
OPT=VAL,[...]</p>

<p style="margin-left:17%;">Specify events values for the
guest. Possible options include on_poweroff, on_reboot, and
on_crash.</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;events=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsEvents&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;resource</b>
OPT=VAL,[...]</p>

<p style="margin-left:17%;">Specify resource partitioning
for the guest.</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;resource=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#resPartition&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;vcpus</b>
<small>OPTIONS</small></p>

<p style="margin-left:17%;">Number of virtual cpus to
configure for the guest. If &rsquo;maxvcpus&rsquo; is
specified, the guest will be able to hotplug up to
<small>MAX</small> vcpus while the guest is running, but
will startup with <small>VCPUS.</small></p>


<p style="margin-left:17%; margin-top: 1em"><small>CPU</small>
topology can additionally be specified with sockets, cores,
and threads. If values are omitted, the rest will be
autofilled preferring sockets over cores over threads.</p>


<p style="margin-left:17%; margin-top: 1em">&rsquo;cpuset&rsquo;
sets which physical cpus the guest can use.
<tt>&quot;CPUSET&quot;</tt> is a comma separated list of
numbers, which can also be specified in ranges or cpus to
exclude. Example:</p>

<pre style="margin-left:17%; margin-top: 1em">    0,2,3,5     : Use processors 0,2,3 and 5
    1&minus;5,^3,8    : Use processors 1,2,4,5 and 8</pre>


<p style="margin-left:17%; margin-top: 1em">If the value
&rsquo;auto&rsquo; is passed, virt-install attempts to
automatically determine an optimal cpu pinning using
<small>NUMA</small> data, if available.</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;vcpus=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsCPUAllocation&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;numatune</b>
<small>OPTIONS</small></p>

<p style="margin-left:17%;">Tune <small>NUMA</small> policy
for the domain process. Example invocations</p>

<pre style="margin-left:17%; margin-top: 1em">    &minus;&minus;numatune 1,2,3,4&minus;7
    &minus;&minus;numatune 1&minus;3,5,mode=preferred</pre>


<p style="margin-left:17%; margin-top: 1em">Specifies the
numa nodes to allocate memory from. This has the same syntax
as <tt>&quot;&minus;&minus;cpuset&quot;</tt> option. mode
can be one of &rsquo;interleave&rsquo;,
&rsquo;preferred&rsquo;, or &rsquo;strict&rsquo; (the
default). See &rsquo;man 8 numactl&rsquo; for information
about each mode.</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;numatune=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsNUMATuning&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;memtune</b>
<small>OPTIONS</small></p>

<p style="margin-left:17%;">Tune memory policy for the
domain process. Example invocations</p>

<pre style="margin-left:17%; margin-top: 1em">    &minus;&minus;memtune 1000
    &minus;&minus;memtune hard_limit=100,soft_limit=60,swap_hard_limit=150,min_guarantee=80</pre>


<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;memtune=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsMemoryTuning&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;blkiotune</b>
<small>OPTIONS</small></p>

<p style="margin-left:17%;">Tune blkio policy for the
domain process. Example invocations</p>

<pre style="margin-left:17%; margin-top: 1em">    &minus;&minus;blkiotune 100
    &minus;&minus;blkiotune weight=100,device_path=/dev/sdc,device_weight=200</pre>


<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;blkiotune=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsBlockTuning&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;cpu</b>
MODEL[,+feature][,&minus;feature][,match=MATCH][,vendor=VENDOR]</p>

<p style="margin-left:17%;">Configure the
<small>CPU</small> model and <small>CPU</small> features
exposed to the guest. The only required value is
<small>MODEL,</small> which is a valid <small>CPU</small>
model as known to libvirt.</p>


<p style="margin-left:17%; margin-top: 1em">Libvirt&rsquo;s
feature policy values force, require, optional, disable, or
forbid, or with the shorthand &rsquo;+feature&rsquo; and
&rsquo;&minus;feature&rsquo;, which equal
&rsquo;force=feature&rsquo; and
&rsquo;disable=feature&rsquo; respectively</p>

<p style="margin-left:17%; margin-top: 1em">Some examples:
<b><br>
&minus;&minus;cpu core2duo,+x2apic,disable=vmx</b></p>

<p style="margin-left:23%;">Expose the core2duo
<small>CPU</small> model, force enable x2apic, but do not
expose vmx</p>

<p style="margin-left:17%;"><b>&minus;&minus;cpu
host</b></p>

<p style="margin-left:23%;">Expose the host CPUs
configuration to the guest. This enables the guest to take
advantage of many of the host CPUs features (better
performance), but may cause issues if migrating the guest to
a host without an identical <small>CPU.</small></p>

<p style="margin-left:17%;"><b>&minus;&minus;cpu
host-model-only</b></p>

<p style="margin-left:23%;">Expose the nearest host
<small>CPU</small> model configuration to the guest. It is
the best <small>CPU</small> which can be used for a guest on
any of the hosts.</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;cpu=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsCPU&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;security</b>
type=TYPE[,label=LABEL][,relabel=yes|no]</p>

<p style="margin-left:17%;">Configure domain security
driver settings. Type can be either &rsquo;static&rsquo; or
&rsquo;dynamic&rsquo;. &rsquo;static&rsquo; configuration
requires a security <small>LABEL.</small> Specifying
<small>LABEL</small> without <small>TYPE</small> implies
static configuration.</p>

<p style="margin-left:17%; margin-top: 1em">To have libvirt
automatically apply your static label, you must specify
relabel=yes. Otherwise disk images must be manually labeled
by the admin, including images that virt-install is asked to
create.</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;security=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#seclabel&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;features</b>
FEAT=on|off,...</p>

<p style="margin-left:17%;">Set elements in the guests
&lt;features&gt; <small>XML</small> on or off. Examples
include acpi, apic, eoi, privnet, and hyperv features. Some
examples: <b><br>
&minus;&minus;features eoi=on</b></p>

<p style="margin-left:23%;">Enable <small>APIC PV
EOI</small></p>

<p style="margin-left:17%;"><b>&minus;&minus;features
hyperv_vapic=on,hyperv_spinlocks=off</b></p>

<p style="margin-left:23%;">Enable hypver
<small>VAPIC,</small> but disable spinlocks</p>

<p style="margin-left:17%;"><b>&minus;&minus;features
kvm_hidden=on</b></p>

<p style="margin-left:23%;">Allow the <small>KVM</small>
hypervisor signature to be hidden from the guest</p>

<p style="margin-left:17%;"><b>&minus;&minus;features
pvspinlock=on</b></p>

<p style="margin-left:23%;">Notify the guest that the host
supports paravirtual spinlocks for example by exposing the
pvticketlocks mechanism.</p>

<p style="margin-left:17%;"><b>&minus;&minus;features
gic_version=2</b></p>

<p style="margin-left:23%;">This is relevant only for
<small>ARM</small> architectures. Possible values are
&quot;host&quot; or version number.</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;features=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsFeatures&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;clock</b>
offset=OFFSET,TIMER_OPT=VAL,...</p>

<p style="margin-left:17%;">Configure the guest&rsquo;s
&lt;clock&gt; <small>XML.</small> Some supported options:
<b><br>
&minus;&minus;clock offset=OFFSET</b></p>

<p style="margin-left:23%;">Set the clock offset, ex.
&rsquo;utc&rsquo; or &rsquo;localtime&rsquo;</p>

<p style="margin-left:17%;"><b>&minus;&minus;clock
TIMER_present=no</b></p>

<p style="margin-left:23%;">Disable a boolean timer.
<small>TIMER</small> here might be hpet, kvmclock, etc.</p>

<p style="margin-left:17%;"><b>&minus;&minus;clock
TIMER_tickpolicy=VAL</b></p>

<p style="margin-left:23%;">Set a timer&rsquo;s tickpolicy
value. <small>TIMER</small> here might be rtc, pit, etc.
<small>VAL</small> might be catchup, delay, etc. Refer to
the libvirt docs for all values.</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;clock=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsTime&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;pm</b>
<small>OPTIONS</small></p>

<p style="margin-left:17%;">Configure guest power
management features. Example suboptions include
suspend_to_mem=on|off and suspend_to_disk=on|off</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;pm=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsPowerManagement&gt;</p>

<h2>INSTALLATION OPTIONS
<a name="INSTALLATION OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;cdrom</b>
<small>OPTIONS</small></p>

<p style="margin-left:17%;">File or device used as a
virtual CD-ROM device. It can be path to an
<small>ISO</small> image or a <small>URL</small> from which
to fetch/access a minimal boot <small>ISO</small> image. The
URLs take the same format as described for the
<tt>&quot;&minus;&minus;location&quot;</tt> argument. If a
cdrom has been specified via the
<tt>&quot;&minus;&minus;disk&quot;</tt> option, and neither
<tt>&quot;&minus;&minus;cdrom&quot;</tt> nor any other
install option is specified, the
<tt>&quot;&minus;&minus;disk&quot;</tt> cdrom is used as the
install media.</p>

<p style="margin-left:11%;"><b>&minus;l</b>
<small>LOCATION</small> <b><br>
&minus;&minus;location</b> <small>OPTIONS</small></p>

<p style="margin-left:17%;">Distribution tree installation
source. virt-install can recognize certain distribution
trees and fetches a bootable kernel/initrd pair to launch
the install.</p>

<p style="margin-left:17%; margin-top: 1em">With libvirt
0.9.4 or later, network <small>URL</small> installs work for
remote connections. virt-install will download kernel/initrd
to the local machine, and then upload the media to the
remote host. This option requires the <small>URL</small> to
be accessible by both the local and remote host.</p>


<p style="margin-left:17%; margin-top: 1em">&minus;&minus;location
allows things like &minus;&minus;extra&minus;args for kernel
arguments, and using &minus;&minus;initrd&minus;inject. If
you want to use those options with <small>CDROM</small>
media, you have a few options:</p>

<p style="margin-left:17%; margin-top: 1em">* Run
virt-install as root and do &minus;&minus;location
<small>ISO</small></p>

<p style="margin-left:17%; margin-top: 1em">* Mount the
<small>ISO</small> at a local directory, and do
&minus;&minus;location <small>DIRECTORY</small></p>

<p style="margin-left:17%; margin-top: 1em">* Mount the
<small>ISO</small> at a local directory, export that
directory over local http, and do &minus;&minus;location
http://localhost/DIRECTORY</p>

<p style="margin-left:17%; margin-top: 1em">The
<tt>&quot;LOCATION&quot;</tt> can take one of the following
forms: <br>
http://host/path</p>

<p style="margin-left:23%;">An <small>HTTP</small> server
location containing an installable distribution image.</p>

<p style="margin-left:17%;">ftp://host/path</p>

<p style="margin-left:23%;">An <small>FTP</small> server
location containing an installable distribution image.</p>

<p style="margin-left:17%;">nfs:host:/path or
nfs://host/path</p>

<p style="margin-left:23%;">An <small>NFS</small> server
location containing an installable distribution image. This
requires running virt-install as root.</p>

<p style="margin-left:17%;"><small>DIRECTORY</small></p>

<p style="margin-left:23%;">Path to a local directory
containing an installable distribution image. Note that the
directory will not be accessible by the guest after initial
boot, so the <small>OS</small> installer will need another
way to access the rest of the install media.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><small>ISO</small></p></td>
<td width="1%"></td>
<td width="77%">


<p>Mount the <small>ISO</small> and probe the directory.
This requires running virt-install as root, and has the same
<small>VM</small> access caveat as
<small>DIRECTORY.</small></p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Some distro
specific url samples: <br>
Fedora/Red Hat Based</p>


<p style="margin-left:23%;">http://download.fedoraproject.org/pub/fedora/linux/releases/21/Server/x86_64/os</p>

<p style="margin-left:17%;">Debian</p>


<p style="margin-left:23%;">http://ftp.us.debian.org/debian/dists/stable/main/installer&minus;amd64/</p>

<p style="margin-left:17%;">Ubuntu</p>


<p style="margin-left:23%;">http://us.archive.ubuntu.com/ubuntu/dists/wily/main/installer&minus;amd64/</p>

<p style="margin-left:17%;">Suse</p>


<p style="margin-left:23%;">http://download.opensuse.org/distribution/11.0/repo/oss/</p>

<p style="margin-left:17%;">Mandriva</p>


<p style="margin-left:23%;">ftp://ftp.uwsg.indiana.edu/linux/mandrake/official/2009.0/i586/</p>

<p style="margin-left:17%;">Mageia</p>


<p style="margin-left:23%;">ftp://distrib&minus;coffee.ipsl.jussieu.fr/pub/linux/Mageia/distrib/1</p>

<p style="margin-left:11%;"><b>&minus;&minus;pxe</b></p>

<p style="margin-left:17%;">Use the <small>PXE</small> boot
protocol to load the initial ramdisk and kernel for starting
the guest installation process.</p>


<p style="margin-left:11%;"><b>&minus;&minus;import</b></p>

<p style="margin-left:17%;">Skip the <small>OS</small>
installation process, and build a guest around an existing
disk image. The device used for booting is the first device
specified via <tt>&quot;&minus;&minus;disk&quot;</tt> or
<tt>&quot;&minus;&minus;filesystem&quot;</tt>.</p>


<p style="margin-left:11%;"><b>&minus;&minus;livecd</b></p>

<p style="margin-left:17%;">Specify that the installation
media is a live <small>CD</small> and thus the guest needs
to be configured to boot off the <small>CDROM</small> device
permanently. It may be desirable to also use the
<tt>&quot;&minus;&minus;disk none&quot;</tt> flag in
combination.</p>

<p style="margin-left:11%;"><b>&minus;x</b>
<small>EXTRA</small> <b><br>
&minus;&minus;extra&minus;args</b>
<small>OPTIONS</small></p>

<p style="margin-left:17%;">Additional kernel command line
arguments to pass to the installer when performing a guest
install from <tt>&quot;&minus;&minus;location&quot;</tt>.
One common usage is specifying an anaconda kickstart file
for automated installs, such as
&minus;&minus;extra&minus;args
&quot;ks=http://myserver/my.ks&quot;</p>


<p style="margin-left:11%;"><b>&minus;&minus;initrd&minus;inject</b>
<small>PATH</small></p>

<p style="margin-left:17%;">Add <small>PATH</small> to the
root of the initrd fetched with
<tt>&quot;&minus;&minus;location&quot;</tt>. This can be
used to run an automated install without requiring a network
hosted kickstart file:</p>


<p style="margin-left:17%; margin-top: 1em">&minus;&minus;initrd&minus;inject=/path/to/my.ks
&minus;&minus;extra&minus;args
&quot;ks=file:/my.ks&quot;</p>


<p style="margin-left:11%;"><b>&minus;&minus;os&minus;variant</b>
<small>OS_VARIANT</small></p>

<p style="margin-left:17%;">Optimize the guest
configuration for a specific operating system (ex.
&rsquo;fedora18&rsquo;, &rsquo;rhel7&rsquo;,
&rsquo;winxp&rsquo;). While not required, specifying this
options is <small>HIGHLY RECOMMENDED,</small> as it can
greatly increase performance by specifying virtio among
other guest tweaks.</p>

<p style="margin-left:17%; margin-top: 1em">By default,
virt-install will attempt to auto detect this value from the
install media (currently only supported for
<small>URL</small> installs). Autodetection can be disabled
with the special value &rsquo;none&rsquo;. Autodetection can
be forced with the special value &rsquo;auto&rsquo;.</p>

<p style="margin-left:17%; margin-top: 1em">Use the command
&quot;osinfo-query os&quot; to get the list of the accepted
<small>OS</small> variants.</p>

<p style="margin-left:11%;"><b>&minus;&minus;boot</b>
<small>BOOTOPTS</small></p>

<p style="margin-left:17%;">Optionally specify the
post-install <small>VM</small> boot configuration. This
option allows specifying a boot device order, permanently
booting off kernel/initrd with option kernel arguments, and
enabling a <small>BIOS</small> boot menu (requires libvirt
0.8.3 or later)</p>


<p style="margin-left:17%; margin-top: 1em">&minus;&minus;boot
can be specified in addition to other install options (such
as &minus;&minus;location, &minus;&minus;cdrom, etc.) or can
be specified on its own. In the latter case, behavior is
similar to the &minus;&minus;import install option: there is
no &rsquo;install&rsquo; phase, the guest is just created
and launched as specified.</p>

<p style="margin-left:17%; margin-top: 1em">Some examples:
<b><br>
&minus;&minus;boot cdrom,fd,hd,network,menu=on</b></p>

<p style="margin-left:23%;">Set the boot device priority as
first cdrom, first floppy, first harddisk, network
<small>PXE</small> boot. Additionally enable
<small>BIOS</small> boot menu prompt.</p>

<p style="margin-left:17%;"><b>&minus;&minus;boot
kernel=KERNEL,initrd=INITRD,kernel_args=&quot;console=/dev/ttyS0&quot;</b></p>

<p style="margin-left:23%;">Have guest permanently boot off
a local kernel/initrd pair, with the specified kernel
options.</p>

<p style="margin-left:17%;"><b>&minus;&minus;boot
kernel=KERNEL,initrd=INITRD,dtb=DTB</b></p>

<p style="margin-left:23%;">Have guest permanently boot off
a local kernel/initrd pair with an external device tree
binary. <small>DTB</small> can be required for some
non&minus;x86 configurations like <small>ARM</small> or
<small>PPC</small></p>

<p style="margin-left:17%;"><b>&minus;&minus;boot
loader=BIOSPATH</b></p>

<p style="margin-left:23%;">Use <small>BIOSPATH</small> as
the virtual machine <small>BIOS.</small></p>

<p style="margin-left:17%;"><b>&minus;&minus;boot
menu=on,useserial=on</b></p>

<p style="margin-left:23%;">Enable the bios boot menu, and
enable sending bios text output over serial console.</p>

<p style="margin-left:17%;"><b>&minus;&minus;boot
init=INITPATH</b></p>

<p style="margin-left:23%;">Path to a binary that the
container guest will init. If a root
<tt>&quot;&minus;&minus;filesystem&quot;</tt> has been
specified, virt-install will default to /sbin/init,
otherwise will default to /bin/sh.</p>

<p style="margin-left:17%;"><b>&minus;&minus;boot
uefi</b></p>

<p style="margin-left:23%;">Configure the <small>VM</small>
to boot from <small>UEFI.</small> In order for virt-install
to know the correct <small>UEFI</small> parameters, libvirt
needs to be advertising known <small>UEFI</small> binaries
via domcapabilities <small>XML,</small> so this will likely
only work if using properly configured distro packages.</p>

<p style="margin-left:17%;"><b>&minus;&minus;boot <br>

loader=/.../OVMF_CODE.fd,loader_ro=yes,loader_type=pflash,nvram_template=/.../OVMF_VARS.fd</b></p>

<p style="margin-left:23%;">Specify that the virtual
machine use the custom <small>OVMF</small> binary as boot
firmware, mapped as a virtual flash chip. In addition,
request that libvirt instantiate the VM-specific
<small>UEFI</small> varstore from the custom
&quot;/.../OVMF_VARS.fd&quot; varstore template. This is the
recommended <small>UEFI</small> setup, and should be used if
&minus;&minus;boot uefi doesn&rsquo;t know about your
<small>UEFI</small> binaries.</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;boot=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsOS&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;idmap</b>
<small>OPTIONS</small></p>

<p style="margin-left:17%;">If the guest configuration
declares a <small>UID</small> or <small>GID</small> mapping,
the &rsquo;user&rsquo; namespace will be enabled to apply
these. A suitably configured <small>UID/GID</small> mapping
is a pre-requisite to make containers secure, in the absence
of sVirt confinement.</p>


<p style="margin-left:17%; margin-top: 1em">&minus;&minus;idmap
can be specified to enable user namespace for
<small>LXC</small> containers</p>

<p style="margin-left:17%; margin-top: 1em">Example: <br>
&minus;&minus;idmap
uid_start=0,uid_target=1000,uid_count=10,gid_start=0,gid_target=1000,gid_count=10</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;idmap=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsOSContainer&gt;</p>

<h2>STORAGE OPTIONS
<a name="STORAGE OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;disk</b>
<small>OPTIONS</small></p>

<p style="margin-left:17%;">Specifies media to use as
storage for the guest, with various options. The general
format of a disk string is</p>

<pre style="margin-left:17%; margin-top: 1em">    &minus;&minus;disk opt1=val1,opt2=val2,...</pre>


<p style="margin-left:17%; margin-top: 1em">The simplest
invocation to create a new 10G disk image and associated
disk device:</p>

<pre style="margin-left:17%; margin-top: 1em">    &minus;&minus;disk size=10</pre>


<p style="margin-left:17%; margin-top: 1em">virt-install
will generate a path name, and place it in the default image
location for the hypervisor. To specify media, the command
can either be:</p>

<pre style="margin-left:17%; margin-top: 1em">    &minus;&minus;disk /some/storage/path[,opt1=val1]...</pre>


<p style="margin-left:17%; margin-top: 1em">or explicitly
specify one of the following arguments: <b><br>
path</b></p>

<p style="margin-left:23%;">A path to some storage media to
use, existing or not. Existing media can be a file or block
device.</p>

<p style="margin-left:23%; margin-top: 1em">Specifying a
non-existent path implies attempting to create the new
storage, and will require specifying a &rsquo;size&rsquo;
value. Even for remote hosts, virt-install will try to use
libvirt storage APIs to automatically create the given
path.</p>

<p style="margin-left:23%; margin-top: 1em">If the
hypervisor supports it, <b>path</b> can also be a network
<small>URL,</small> like
http://example.com/some&minus;disk.img . For network paths,
they hypervisor will directly access the storage, nothing is
downloaded locally.</p>

<p style="margin-left:17%;"><b>pool</b></p>

<p style="margin-left:23%;">An existing libvirt storage
pool name to create new storage on. Requires specifying a
&rsquo;size&rsquo; value.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>vol</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>An existing libvirt storage volume to use. This is
specified as &rsquo;poolname/volname&rsquo;.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Other available
options: <b><br>
device</b></p>

<p style="margin-left:23%;">Disk device type. Value can be
&rsquo;cdrom&rsquo;, &rsquo;disk&rsquo;, &rsquo;lun&rsquo;
or &rsquo;floppy&rsquo;. Default is &rsquo;disk&rsquo;. If a
&rsquo;cdrom&rsquo; is specified, and no install method is
chosen, the cdrom is used as the install media.</p>

<p style="margin-left:17%;"><b>boot_order</b></p>

<p style="margin-left:23%;">Guest installation with
multiple disks will need this parameter to boot correctly
after being installed. A boot_order parameter will take
values 1,2,3,... Devices with lower value has higher
priority.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>bus</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Disk bus type. Value can be &rsquo;ide&rsquo;,
&rsquo;sata&rsquo;, &rsquo;scsi&rsquo;, &rsquo;usb&rsquo;,
&rsquo;virtio&rsquo; or &rsquo;xen&rsquo;. The default is
hypervisor dependent since not all hypervisors support all
bus types.</p></td></tr>
</table>

<p style="margin-left:17%;"><b>removable</b></p>

<p style="margin-left:23%;">Sets the removable flag
(/sys/block/$dev/removable on Linux). Only used with
<small>QEMU</small> and bus=usb. Value can be
&rsquo;on&rsquo; or &rsquo;off&rsquo;.</p>

<p style="margin-left:17%;"><b>readonly</b></p>

<p style="margin-left:23%;">Set drive as readonly (takes
&rsquo;on&rsquo; or &rsquo;off&rsquo;)</p>

<p style="margin-left:17%;"><b>shareable</b></p>

<p style="margin-left:23%;">Set drive as shareable (takes
&rsquo;on&rsquo; or &rsquo;off&rsquo;)</p>

<p style="margin-left:17%;"><b>size</b></p>

<p style="margin-left:23%;">size (in GiB) to use if
creating new storage</p>

<p style="margin-left:17%;"><b>sparse</b></p>

<p style="margin-left:23%;">whether to skip fully
allocating newly created storage. Value is &rsquo;yes&rsquo;
or &rsquo;no&rsquo;. Default is &rsquo;yes&rsquo; (do not
fully allocate) unless it isn&rsquo;t supported by the
underlying storage type.</p>

<p style="margin-left:23%; margin-top: 1em">The initial
time taken to fully-allocate the guest virtual disk
(sparse=no) will be usually balanced by faster install times
inside the guest. Thus use of this option is recommended to
ensure consistently high performance and to avoid I/O errors
in the guest should the host filesystem fill up.</p>

<p style="margin-left:17%;"><b>backing_store</b></p>

<p style="margin-left:23%;">Path to a disk to use as the
backing store for the newly created image.</p>

<p style="margin-left:17%;"><b>backing_format</b></p>

<p style="margin-left:23%;">Disk image format of
<b>backing_store</b></p>

<p style="margin-left:17%;"><b>cache</b></p>

<p style="margin-left:23%;">The cache mode to be used. The
host pagecache provides cache memory. The cache value can be
&rsquo;none&rsquo;, &rsquo;writethrough&rsquo;,
&rsquo;directsync&rsquo;, &rsquo;unsafe&rsquo; or
&rsquo;writeback&rsquo;. &rsquo;writethrough&rsquo; provides
read caching. &rsquo;writeback&rsquo; provides read and
write caching. &rsquo;directsync&rsquo; bypasses the host
page cache. &rsquo;unsafe&rsquo; may cache all content and
ignore flush requests from the guest.</p>

<p style="margin-left:17%;"><b>discard</b></p>

<p style="margin-left:23%;">Whether discard (also known as
&quot;trim&quot; or &quot;unmap&quot;) requests are ignored
or passed to the filesystem. The value can be either
&quot;unmap&quot; (allow the discard request to be passed)
or &quot;ignore&quot; (ignore the discard request). Since
1.0.6 ( <small>QEMU</small> and <small>KVM</small> only)</p>

<p style="margin-left:17%;"><b>format</b></p>

<p style="margin-left:23%;">Disk image format. For file
volumes, this can be &rsquo;raw&rsquo;, &rsquo;qcow2&rsquo;,
&rsquo;vmdk&rsquo;, etc. See format types in
&lt;http://libvirt.org/storage.html&gt; for possible values.
This is often mapped to the <b>driver_type</b> value as
well.</p>

<p style="margin-left:23%; margin-top: 1em">If not
specified when creating file images, this will default to
&rsquo;qcow2&rsquo;.</p>

<p style="margin-left:23%; margin-top: 1em">If creating
storage, this will be the format of the new image. If using
an existing image, this overrides libvirt&rsquo;s format
auto-detection.</p>

<p style="margin-left:17%;"><b>driver_name</b></p>

<p style="margin-left:23%;">Driver name the hypervisor
should use when accessing the specified storage. Typically
does not need to be set by the user.</p>

<p style="margin-left:17%;"><b>driver_type</b></p>

<p style="margin-left:23%;">Driver format/type the
hypervisor should use when accessing the specified storage.
Typically does not need to be set by the user.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>io</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>Disk <small>IO</small> backend. Can be either
&quot;threads&quot; or &quot;native&quot;.</p></td></tr>
</table>

<p style="margin-left:17%;"><b>error_policy</b></p>

<p style="margin-left:23%;">How guest should react if a
write error is encountered. Can be one of &quot;stop&quot;,
&quot;ignore&quot;, or &quot;enospace&quot;</p>

<p style="margin-left:17%;"><b>serial</b></p>

<p style="margin-left:23%;">Serial number of the emulated
disk device. This is used in linux guests to set
/dev/disk/by&minus;id symlinks. An example serial number
might be: <small>WD&minus;WMAP9A966149</small></p>

<p style="margin-left:17%;"><b>startup_policy</b></p>

<p style="margin-left:23%;">It defines what to do with the
disk if the source file is not accessible. See possible
values in
&lt;http://www.libvirt.org/formatdomain.html#elementsDisks&gt;</p>

<p style="margin-left:17%; margin-top: 1em">See the
examples section for some uses. This option deprecates
&minus;f/&minus;&minus;file,
&minus;s/&minus;&minus;file&minus;size,
&minus;&minus;nonsparse, and &minus;&minus;nodisks.</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;disk=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsDisks&gt;</p>


<p style="margin-left:11%;"><b>&minus;&minus;filesystem</b></p>

<p style="margin-left:17%;">Specifies a directory on the
host to export to the guest. The most simple invocation
is:</p>

<pre style="margin-left:17%; margin-top: 1em">    &minus;&minus;filesystem /source/on/host,/target/point/in/guest</pre>


<p style="margin-left:17%; margin-top: 1em">Which will work
for recent <small>QEMU</small> and linux guest
<small>OS</small> or <small>LXC</small> containers. For
<small>QEMU,</small> the target point is just a mounting
hint in sysfs, so will not be automatically mounted.</p>

<p style="margin-left:17%; margin-top: 1em">The following
explicit options can be specified: <b><br>
type</b></p>

<p style="margin-left:23%;">The type or the source
directory. Valid values are &rsquo;mount&rsquo; (the
default) or &rsquo;template&rsquo; for OpenVZ templates.</p>

<p style="margin-left:17%;"><b>mode</b></p>

<p style="margin-left:23%;">The access mode for the source
directory from the guest <small>OS.</small> Only used with
<small>QEMU</small> and type=mount. Valid modes are
&rsquo;passthrough&rsquo; (the default),
&rsquo;mapped&rsquo;, or &rsquo;squash&rsquo;. See libvirt
domain <small>XML</small> documentation for more info.</p>

<p style="margin-left:17%;"><b>source</b></p>

<p style="margin-left:23%;">The directory on the host to
share.</p>

<p style="margin-left:17%;"><b>target</b></p>

<p style="margin-left:23%;">The mount location to use in
the guest.</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;filesystem=? to see a list of all available
sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsFilesystems&gt;</p>

<h2>NETWORKING OPTIONS
<a name="NETWORKING OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;w</b>
<small>OPTIONS</small> <b><br>
&minus;&minus;network</b> <small>OPTIONS</small></p>

<p style="margin-left:17%;">Connect the guest to the host
network. The value for <tt>&quot;NETWORK&quot;</tt> can take
one of 4 formats: <br>
bridge=BRIDGE</p>

<p style="margin-left:23%;">Connect to a bridge device in
the host called <tt>&quot;BRIDGE&quot;</tt>. Use this option
if the host has static networking config &amp; the guest
requires full outbound and inbound connectivity to/from the
<small>LAN.</small> Also use this if live migration will be
used with this guest.</p>

<p style="margin-left:17%;">network=NAME</p>

<p style="margin-left:23%;">Connect to a virtual network in
the host called <tt>&quot;NAME&quot;</tt>. Virtual networks
can be listed, created, deleted using the
<tt>&quot;virsh&quot;</tt> command line tool. In an
unmodified install of <tt>&quot;libvirt&quot;</tt> there is
usually a virtual network with a name of
<tt>&quot;default&quot;</tt>. Use a virtual network if the
host has dynamic networking (eg NetworkManager), or using
wireless. The guest will be NATed to the <small>LAN</small>
by whichever connection is active.</p>


<p style="margin-left:17%;">type=direct,source=IFACE[,source_mode=MODE]</p>

<p style="margin-left:23%;">Direct connect to host
interface <small>IFACE</small> using macvtap.</p>

<p style="margin-left:17%;">user</p>

<p style="margin-left:23%;">Connect to the
<small>LAN</small> using <small>SLIRP.</small> Only use this
if running a <small>QEMU</small> guest as an unprivileged
user. This provides a very limited form of
<small>NAT.</small></p>

<p style="margin-left:17%;">none</p>

<p style="margin-left:23%;">Tell virt-install not to add
any default network interface.</p>

<p style="margin-left:17%; margin-top: 1em">If this option
is omitted a single <small>NIC</small> will be created in
the guest. If there is a bridge device in the host with a
physical interface enslaved, that will be used for
connectivity. Failing that, the virtual network called
<tt>&quot;default&quot;</tt> will be used. This option can
be specified multiple times to setup more than one
<small>NIC.</small></p>

<p style="margin-left:17%; margin-top: 1em">Other available
options are: <b><br>
model</b></p>

<p style="margin-left:23%;">Network device model as seen by
the guest. Value can be any nic model supported by the
hypervisor, e.g.: &rsquo;e1000&rsquo;,
&rsquo;rtl8139&rsquo;, &rsquo;virtio&rsquo;, ...</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>mac</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Fixed <small>MAC</small> address for the guest; If this
parameter is omitted, or the value
<tt>&quot;RANDOM&quot;</tt> is specified a suitable address
will be randomly generated. For Xen virtual machines it is
required that the first 3 pairs in the <small>MAC</small>
address be the sequence &rsquo;00:16:3e&rsquo;, while for
<small>QEMU</small> or <small>KVM</small> virtual machines
it must be &rsquo;52:54:00&rsquo;.</p></td></tr>
</table>

<p style="margin-left:17%;"><b>filterref</b></p>

<p style="margin-left:23%;">Controlling firewall and
network filtering in libvirt. Value can be any nwfilter
defined by the <tt>&quot;virsh&quot;</tt>
&rsquo;nwfilter&rsquo; subcommands. Available filters can be
listed by running &rsquo;virsh nwfilter&minus;list&rsquo;,
e.g.: &rsquo;clean&minus;traffic&rsquo;,
&rsquo;no&minus;mac&minus;spoofing&rsquo;, ...</p>

<p style="margin-left:17%;"><b>virtualport_type</b></p>

<p style="margin-left:23%;">The type of virtual port
profile, one the following values <br>
&quot;802.Qbg&quot;</p>

<p style="margin-left:29%;">The following additional
parameters are accepted <b><br>
virtualport_managerid</b></p>

<p style="margin-left:35%;">The <small>VSI</small> Manager
<small>ID</small> identifies the database containing the
<small>VSI</small> type and instance definitions. This is an
integer value and the value 0 is reserved.</p>

<p style="margin-left:29%;"><b>virtualport_typeid</b></p>

<p style="margin-left:35%;">The <small>VSI</small> Type
<small>ID</small> identifies a <small>VSI</small> type
characterizing the network access. <small>VSI</small> types
are typically managed by network administrator. This is an
integer value.</p>


<p style="margin-left:29%;"><b>virtualport_typeidversion</b></p>

<p style="margin-left:35%;">The <small>VSI</small> Type
Version allows multiple versions of a <small>VSI</small>
Type. This is an integer value.</p>


<p style="margin-left:29%;"><b>virtualport_instanceid</b></p>

<p style="margin-left:35%;">The <small>VSI</small> Instance
<small>ID</small> Identifier is generated when a
<small>VSI</small> instance (i.e. a virtual interface of a
virtual machine) is created. This is a globally unique
identifier.</p>

<p style="margin-left:23%;">&quot;802.Qbh&quot;</p>

<p style="margin-left:29%;">The following additional
parameters are accepted <b><br>
virtualport_profileid</b></p>

<p style="margin-left:35%;">The profile <small>ID</small>
contains the name of the port profile that is to be applied
to this interface. This name is resolved by the port profile
database into the network parameters from the port profile,
and those network parameters will be applied to this
interface.</p>

<p style="margin-left:23%;">&quot;openvswitch&quot;</p>

<p style="margin-left:29%;">The following additional
parameters are accepted <b><br>
virtualport_profileid</b></p>

<p style="margin-left:35%;">The OpenVSwitch port profile
for the interface</p>


<p style="margin-left:29%;"><b>virtualport_interfaceid</b></p>

<p style="margin-left:35%;">A <small>UUID</small> to
uniquely identify the interface. If omitted one will be
generated automatically</p>

<p style="margin-left:23%;">&quot;midonet&quot;</p>

<p style="margin-left:29%;">The following additional
parameters are accepted <b><br>
virtualport_interfaceid</b></p>

<p style="margin-left:35%;">A <small>UUID</small>
identifying the port in the network to which the interface
will be bound</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;network=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsNICS&gt;</p>

<p style="margin-left:17%; margin-top: 1em">This option
deprecates &minus;m/&minus;&minus;mac,
&minus;b/&minus;&minus;bridge, and
&minus;&minus;nonetworks</p>

<h2>GRAPHICS OPTIONS
<a name="GRAPHICS OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If no graphics
option is specified, <tt>&quot;virt&minus;install&quot;</tt>
will try to select the appropriate graphics if the
<small>DISPLAY</small> environment variable is set,
otherwise &rsquo;&minus;&minus;graphics none&rsquo; is used.
<b><br>
&minus;&minus;graphics</b> <small>TYPE</small>
,opt1=arg1,opt2=arg2,...</p>

<p style="margin-left:17%;">Specifies the graphical display
configuration. This does not configure any virtual hardware,
just how the guest&rsquo;s graphical display can be
accessed. Typically the user does not need to specify this
option, virt-install will try and choose a useful default,
and launch a suitable connection.</p>

<p style="margin-left:17%; margin-top: 1em">General format
of a graphical string is</p>

<pre style="margin-left:17%; margin-top: 1em">    &minus;&minus;graphics TYPE,opt1=arg1,opt2=arg2,...</pre>


<p style="margin-left:17%; margin-top: 1em">For
example:</p>

<pre style="margin-left:17%; margin-top: 1em">    &minus;&minus;graphics vnc,password=foobar</pre>


<p style="margin-left:17%; margin-top: 1em">The supported
options are: <b><br>
type</b></p>

<p style="margin-left:23%;">The display type. This is one
of:</p>

<p style="margin-left:23%; margin-top: 1em">vnc</p>

<p style="margin-left:23%; margin-top: 1em">Setup a virtual
console in the guest and export it as a <small>VNC</small>
server in the host. Unless the <tt>&quot;port&quot;</tt>
parameter is also provided, the <small>VNC</small> server
will run on the first free port number at 5900 or above. The
actual <small>VNC</small> display allocated can be obtained
using the <tt>&quot;vncdisplay&quot;</tt> command to
<tt>&quot;virsh&quot;</tt> (or <i>virt&minus;viewer</i>(1)
can be used which handles this detail for the use).</p>

<p style="margin-left:23%; margin-top: 1em">spice</p>

<p style="margin-left:23%; margin-top: 1em">Export the
guest&rsquo;s console using the Spice protocol. Spice allows
advanced features like audio and <small>USB</small> device
streaming, as well as improved graphical performance.</p>

<p style="margin-left:23%; margin-top: 1em">Using spice
graphic type will work as if those arguments were given:</p>

<pre style="margin-left:23%; margin-top: 1em">    &minus;&minus;video qxl &minus;&minus;channel spicevmc</pre>


<p style="margin-left:23%; margin-top: 1em">none</p>

<p style="margin-left:23%; margin-top: 1em">No graphical
console will be allocated for the guest. Guests will likely
need to have a text console configured on the first serial
port in the guest (this can be done via the
&minus;&minus;extra&minus;args option). The command
&rsquo;virsh console <small>NAME</small> &rsquo; can be used
to connect to the serial device.</p>

<p style="margin-left:17%;"><b>port</b></p>

<p style="margin-left:23%;">Request a permanent, statically
assigned port number for the guest console. This is used by
&rsquo;vnc&rsquo; and &rsquo;spice&rsquo;</p>

<p style="margin-left:17%;"><b>tlsport</b></p>

<p style="margin-left:23%;">Specify the spice tlsport.</p>

<p style="margin-left:17%;"><b>listen</b></p>

<p style="margin-left:23%;">Address to listen on for
VNC/Spice connections. Default is typically 127.0.0.1
(localhost only), but some hypervisors allow changing this
globally (for example, the qemu driver default can be
changed in /etc/libvirt/qemu.conf). Use 0.0.0.0 to allow
access from other machines.</p>

<p style="margin-left:23%; margin-top: 1em">Use
&rsquo;none&rsquo; to specify that the display server should
not listen on any port. The display server can be accessed
only locally through libvirt unix socket (virt-viewer with
&minus;&minus;attach for instance).</p>

<p style="margin-left:23%; margin-top: 1em">Use
&rsquo;socket&rsquo; to have the <small>VM</small> listen on
a libvirt generated unix socket path on the host
filesystem.</p>

<p style="margin-left:23%; margin-top: 1em">This is used by
&rsquo;vnc&rsquo; and &rsquo;spice&rsquo;</p>

<p style="margin-left:17%;"><b>keymap</b></p>

<p style="margin-left:23%;">Request that the virtual
<small>VNC</small> console be configured to run with a
specific keyboard layout. If the special value
&rsquo;local&rsquo; is specified, virt-install will attempt
to configure to use the same keymap as the local system. A
value of &rsquo;none&rsquo; specifically defers to the
hypervisor. Default behavior is hypervisor specific, but
typically is the same as &rsquo;local&rsquo;. This is used
by &rsquo;vnc&rsquo;</p>

<p style="margin-left:17%;"><b>password</b></p>

<p style="margin-left:23%;">Request a <small>VNC</small>
password, required at connection time. Beware, this info may
end up in virt-install log files, so don&rsquo;t use an
important password. This is used by &rsquo;vnc&rsquo; and
&rsquo;spice&rsquo;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>gl</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>Whether to use OpenGl accelerated rendering. Value is
&rsquo;yes&rsquo; or &rsquo;no&rsquo;. This is used by
&rsquo;spice&rsquo;.</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;graphics=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsGraphics&gt;</p>

<p style="margin-left:17%; margin-top: 1em">This deprecates
the following options: &minus;&minus;vnc,
&minus;&minus;vncport, &minus;&minus;vnclisten,
&minus;k/&minus;&minus;keymap, &minus;&minus;sdl,
&minus;&minus;nographics</p>


<p style="margin-left:11%;"><b>&minus;&minus;noautoconsole</b></p>

<p style="margin-left:17%;">Don&rsquo;t automatically try
to connect to the guest console. The default behaviour is to
launch <i>virt&minus;viewer</i>(1) to display the graphical
console, or to run the <tt>&quot;virsh&quot;
&quot;console&quot;</tt> command to display the text
console. Use of this parameter will disable this
behaviour.</p>

<h2>VIRTUALIZATION OPTIONS
<a name="VIRTUALIZATION OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Options to
override the default virtualization type choices.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;v</b></p></td>
<td width="86%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;&minus;hvm</b></p>

<p style="margin-left:17%;">Request the use of full
virtualization, if both para &amp; full virtualization are
available on the host. This parameter may not be available
if connecting to a Xen hypervisor on a machine without
hardware virtualization support. This parameter is implied
if connecting to a <small>QEMU</small> based hypervisor.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;p</b></p></td>
<td width="86%">
</td></tr>
</table>


<p style="margin-left:11%;"><b>&minus;&minus;paravirt</b></p>

<p style="margin-left:17%;">This guest should be a
paravirtualized guest. If the host supports both para &amp;
full virtualization, and neither this parameter nor the
<tt>&quot;&minus;&minus;hvm&quot;</tt> are specified, this
will be assumed.</p>


<p style="margin-left:11%;"><b>&minus;&minus;container</b></p>

<p style="margin-left:17%;">This guest should be a
container type guest. This option is only required if the
hypervisor supports other guest types as well (so for
example this option is the default behavior for
<small>LXC</small> and OpenVZ, but is provided for
completeness).</p>


<p style="margin-left:11%;"><b>&minus;&minus;virt&minus;type</b></p>

<p style="margin-left:17%;">The hypervisor to install on.
Example choices are kvm, qemu, or xen. Available options are
listed via &rsquo;virsh capabilities&rsquo; in the
&lt;domain&gt; tags.</p>

<p style="margin-left:17%; margin-top: 1em">This deprecates
the &minus;&minus;accelerate option, which is now the
default behavior. To install a plain <small>QEMU</small>
guest, use &rsquo;&minus;&minus;virt&minus;type
qemu&rsquo;</p>

<h2>DEVICE OPTIONS
<a name="DEVICE OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All devices
have a set of <b>address.*</b> options for configuring the
particulars of the device&rsquo;s address on its parent
controller or bus. See
<tt>&quot;http://libvirt.org/formatdomain.html#elementsAddress&quot;</tt>
for details. <b><br>
&minus;&minus;controller</b> <small>OPTIONS</small></p>

<p style="margin-left:17%;">Attach a controller device to
the guest. <small>TYPE</small> is one of: <b>ide</b>,
<b>fdc</b>, <b>scsi</b>, <b>sata</b>, <b>virtio-serial</b>,
or <b>usb</b>.</p>

<p style="margin-left:17%; margin-top: 1em">Controller also
supports the special values <b>usb2</b> and <b>usb3</b> to
specify which version of the <small>USB</small> controller
should be used (version 2 or 3). <b><br>
model</b></p>

<p style="margin-left:23%;">Controller model. These may
vary according to the hypervisor and its version. Most
commonly used models are e.g. <b>auto</b>,
<b>virtio-scsi</b> for the <b>scsi</b> controller,
<b>ehci</b> or <b>none</b> for the <b>usb</b> controller.
For full list and further details on controllers/models, see
<tt>&quot;http://libvirt.org/formatdomain.html#elementsControllers&quot;</tt>.</p>

<p style="margin-left:17%;"><b>address</b></p>

<p style="margin-left:23%;">Shorthand for setting a manual
<small>PCI</small> address from an lscpi style string. The
preferred method for setting this is using the address.*
parameters.</p>

<p style="margin-left:17%;"><b>index</b></p>

<p style="margin-left:23%;">A decimal integer describing in
which order the bus controller is encountered, and to
reference the controller bus.</p>

<p style="margin-left:17%;"><b>master</b></p>

<p style="margin-left:23%;">Applicable to
<small>USB</small> companion controllers, to define the
master bus startport.</p>

<p style="margin-left:17%; margin-top: 1em">Examples:
<b><br>
&minus;&minus;controller
usb,model=ich9&minus;ehci1,address=0:0:4.0,index=0</b></p>

<p style="margin-left:23%;">Adds a <small>ICH9 EHCI1
USB</small> controller on <small>PCI</small> address
0:0:4.0</p>

<p style="margin-left:17%;"><b>&minus;&minus;controller
usb,model=ich9&minus;uhci2,address=0:0:4.7,index=0,master=2</b></p>

<p style="margin-left:23%;">Adds a <small>ICH9 UHCI2
USB</small> companion controller for the previous master
controller, ports start from port number 2.</p>

<p style="margin-left:23%; margin-top: 1em">The parameter
multifunction=&rsquo;on&rsquo; will be added automatically
to the proper device (if needed). This applies to all
<small>PCI</small> devices.</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;controller=? to see a list of all available
sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsControllers&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;input</b>
<small>OPTIONS</small></p>

<p style="margin-left:17%;">Attach an input device to the
guest. Example input device types are mouse, tablet, or
keyboard.</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;input=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsInput&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;hostdev</b>
<small>OPTIONS</small> <b><br>
&minus;&minus;host&minus;device</b>
<small>OPTIONS</small></p>

<p style="margin-left:17%;">Attach a physical host device
to the guest. Some example values for
<small>HOSTDEV:</small> <b><br>
&minus;&minus;hostdev pci_0000_00_1b_0</b></p>

<p style="margin-left:23%;">A node device name via libvirt,
as shown by &rsquo;virsh nodedev&minus;list&rsquo;</p>

<p style="margin-left:17%;"><b>&minus;&minus;hostdev
001.003</b></p>

<p style="margin-left:23%;"><small>USB</small> by bus,
device (via lsusb).</p>

<p style="margin-left:17%;"><b>&minus;&minus;hostdev
0x1234:0x5678</b></p>

<p style="margin-left:23%;"><small>USB</small> by vendor,
product (via lsusb).</p>

<p style="margin-left:17%;"><b>&minus;&minus;hostdev
1f.01.02</b></p>

<p style="margin-left:23%;"><small>PCI</small> device (via
lspci).</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;hostdev=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsHostDev&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;sound</b>
<small>MODEL</small></p>

<p style="margin-left:17%;">Attach a virtual audio device
to the guest. <small>MODEL</small> specifies the emulated
sound card model. Possible values are ich6, ich9, ac97,
es1370, sb16, pcspk, or default. &rsquo;default&rsquo; will
try to pick the best model that the specified
<small>OS</small> supports.</p>

<p style="margin-left:17%; margin-top: 1em">This deprecates
the old &minus;&minus;soundhw option.</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;sound=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsSound&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;watchdog</b>
MODEL[,action=ACTION]</p>

<p style="margin-left:17%;">Attach a virtual hardware
watchdog device to the guest. This requires a daemon and
device driver in the guest. The watchdog fires a signal when
the virtual machine appears to hung. <small>ACTION</small>
specifies what libvirt will do when the watchdog fires.
Values are <b><br>
reset</b></p>

<p style="margin-left:23%;">Forcefully reset the guest (the
default)</p>

<p style="margin-left:17%;"><b>poweroff</b></p>

<p style="margin-left:23%;">Forcefully power off the
guest</p>

<p style="margin-left:17%;"><b>pause</b></p>

<p style="margin-left:23%;">Pause the guest</p>

<p style="margin-left:17%;"><b>none</b></p>

<p style="margin-left:23%;">Do nothing</p>

<p style="margin-left:17%;"><b>shutdown</b></p>

<p style="margin-left:23%;">Gracefully shutdown the guest
(not recommended, since a hung guest probably won&rsquo;t
respond to a graceful shutdown)</p>


<p style="margin-left:17%; margin-top: 1em"><small>MODEL</small>
is the emulated device model: either i6300esb (the default)
or ib700. Some examples:</p>

<p style="margin-left:17%; margin-top: 1em">Use the
recommended settings:</p>


<p style="margin-left:17%; margin-top: 1em">&minus;&minus;watchdog
default</p>

<p style="margin-left:17%; margin-top: 1em">Use the
i6300esb with the &rsquo;poweroff&rsquo; action</p>


<p style="margin-left:17%; margin-top: 1em">&minus;&minus;watchdog
i6300esb,action=poweroff</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;watchdog=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsWatchdog&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;parallel</b>
<small>OPTIONS</small> <b><br>
&minus;&minus;serial</b> <small>OPTIONS</small></p>

<p style="margin-left:17%;">Specifies a serial device to
attach to the guest, with various options. The general
format of a serial string is</p>

<pre style="margin-left:17%; margin-top: 1em">    &minus;&minus;serial type,opt1=val1,opt2=val2,...</pre>



<p style="margin-left:17%; margin-top: 1em">&minus;&minus;serial
and &minus;&minus;parallel devices share all the same
options, unless otherwise noted. Some of the types of
character device redirection are: <b><br>
&minus;&minus;serial pty</b></p>

<p style="margin-left:23%;">Pseudo <small>TTY.</small> The
allocated pty will be listed in the running guests
<small>XML</small> description.</p>

<p style="margin-left:17%;"><b>&minus;&minus;serial
dev,path=HOSTPATH</b></p>

<p style="margin-left:23%;">Host device. For serial
devices, this could be /dev/ttyS0. For parallel devices,
this could be /dev/parport0.</p>

<p style="margin-left:17%;"><b>&minus;&minus;serial
file,path=FILENAME</b></p>

<p style="margin-left:23%;">Write output to
<small>FILENAME.</small></p>

<p style="margin-left:17%;"><b>&minus;&minus;serial
pipe,path=PIPEPATH</b></p>

<p style="margin-left:23%;">Named pipe (see
<i>pipe</i>(7))</p>

<p style="margin-left:17%;"><b>&minus;&minus;serial
tcp,host=HOST:PORT,mode=MODE,protocol=PROTOCOL</b></p>

<p style="margin-left:23%;"><small>TCP</small> net console.
<small>MODE</small> is either &rsquo;bind&rsquo; (wait for
connections on <small>HOST:PORT</small> ) or
&rsquo;connect&rsquo; (send output to
<small>HOST:PORT</small> ), default is &rsquo;bind&rsquo;.
<small>HOST</small> defaults to &rsquo;127.0.0.1&rsquo;, but
<small>PORT</small> is required. <small>PROTOCOL</small> can
be either &rsquo;raw&rsquo; or &rsquo;telnet&rsquo; (default
&rsquo;raw&rsquo;). If &rsquo;telnet&rsquo;, the port acts
like a telnet server or client. Some examples:</p>

<p style="margin-left:23%; margin-top: 1em">Wait for
connections on any address, port 4567:</p>


<p style="margin-left:23%; margin-top: 1em">&minus;&minus;serial
tcp,host=0.0.0.0:4567</p>

<p style="margin-left:23%; margin-top: 1em">Connect to
localhost, port 1234:</p>


<p style="margin-left:23%; margin-top: 1em">&minus;&minus;serial
tcp,host=:1234,mode=connect</p>

<p style="margin-left:23%; margin-top: 1em">Wait for telnet
connection on localhost, port 2222. The user could then
connect interactively to this console via &rsquo;telnet
localhost 2222&rsquo;:</p>


<p style="margin-left:23%; margin-top: 1em">&minus;&minus;serial
tcp,host=:2222,mode=bind,protocol=telnet</p>

<p style="margin-left:17%;"><b>&minus;&minus;serial
udp,host=CONNECT_HOST:PORT,bind_host=BIND_HOST:BIND_PORT</b></p>

<p style="margin-left:23%;"><small>UDP</small> net console.
<small>HOST:PORT</small> is the destination to send output
to (default <small>HOST</small> is &rsquo;127.0.0.1&rsquo;,
<small>PORT</small> is required).
<small>BIND_HOST:BIND_PORT</small> is the optional local
address to bind to (default <small>BIND_HOST</small> is
127.0.0.1, but is only set if <small>BIND_PORT</small> is
specified). Some examples:</p>

<p style="margin-left:23%; margin-top: 1em">Send output to
default syslog port (may need to edit /etc/rsyslog.conf
accordingly):</p>


<p style="margin-left:23%; margin-top: 1em">&minus;&minus;serial
udp,host=:514</p>

<p style="margin-left:23%; margin-top: 1em">Send output to
remote host 192.168.10.20, port 4444 (this output can be
read on the remote host using &rsquo;nc &minus;u &minus;l
4444&rsquo;):</p>


<p style="margin-left:23%; margin-top: 1em">&minus;&minus;serial
udp,host=192.168.10.20:4444</p>

<p style="margin-left:17%;"><b>&minus;&minus;serial
unix,path=UNIXPATH,mode=MODE</b></p>

<p style="margin-left:23%;">Unix socket, see
<i>unix</i>(7). <small>MODE</small> has similar behavior and
defaults as &minus;&minus;serial tcp,mode=MODE</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;serial=? or &minus;&minus;parallel=? to see a
list of all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsCharSerial&gt;
and
&lt;http://libvirt.org/formatdomain.html#elementsCharParallel&gt;</p>


<p style="margin-left:11%;"><b>&minus;&minus;channel</b></p>

<p style="margin-left:17%;">Specifies a communication
channel device to connect the guest and host machine. This
option uses the same options as &minus;&minus;serial and
&minus;&minus;parallel for specifying the host/source end of
the channel. Extra &rsquo;target&rsquo; options are used to
specify how the guest machine sees the channel.</p>

<p style="margin-left:17%; margin-top: 1em">Some of the
types of character device redirection are: <b><br>
&minus;&minus;channel <small>SOURCE</small>
,target_type=guestfwd,target_address=HOST:PORT</b></p>

<p style="margin-left:23%;">Communication channel using
<small>QEMU</small> usermode networking stack. The guest can
connect to the channel using the specified
<small>HOST:PORT</small> combination.</p>

<p style="margin-left:17%;"><b>&minus;&minus;channel
<small>SOURCE</small>
,target_type=virtio[,name=NAME]</b></p>

<p style="margin-left:23%;">Communication channel using
virtio serial (requires 2.6.34 or later host and guest).
Each instance of a virtio &minus;&minus;channel line is
exposed in the guest as /dev/vport0p1, /dev/vport0p2, etc.
<small>NAME</small> is optional metadata, and can be any
string, such as org.linux&minus;kvm.virtioport1. If
specified, this will be exposed in the guest at
/sys/class/virtio&minus;ports/vport0p1/NAME</p>

<p style="margin-left:17%;"><b>&minus;&minus;channel
spicevmc,target_type=virtio[,name=NAME]</b></p>

<p style="margin-left:23%;">Communication channel for
<small>QEMU</small> spice agent, using virtio serial
(requires 2.6.34 or later host and guest).
<small>NAME</small> is optional metadata, and can be any
string, such as the default com.redhat.spice.0 that
specifies how the guest will see the channel.</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;channel=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsCharChannel&gt;</p>


<p style="margin-left:11%;"><b>&minus;&minus;console</b></p>

<p style="margin-left:17%;">Connect a text console between
the guest and host. Certain guest and hypervisor
combinations can automatically set up a getty in the guest,
so an out of the box text login can be provided
(target_type=xen for xen paravirt guests, and possibly
target_type=virtio in the future).</p>

<p style="margin-left:17%; margin-top: 1em">Example:
<b><br>
&minus;&minus;console pty,target_type=virtio</b></p>

<p style="margin-left:23%;">Connect a virtio console to the
guest, redirected to a <small>PTY</small> on the host. For
supported guests, this exposes /dev/hvc0 in the guest. See
http://fedoraproject.org/wiki/Features/VirtioSerial for more
info. virtio console requires libvirt 0.8.3 or later.</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;console=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsCharConsole&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;video</b>
<small>OPTIONS</small></p>

<p style="margin-left:17%;">Specify what video device model
will be attached to the guest. Valid values for
<small>VIDEO</small> are hypervisor specific, but some
options for recent kvm are cirrus, vga, qxl, virtio, or
vmvga (vmware).</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;video=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsVideo&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;smartcard</b>
MODE[,OPTIONS]</p>

<p style="margin-left:17%;">Configure a virtual smartcard
device.</p>

<p style="margin-left:17%; margin-top: 1em">Mode is one of
<b>host</b>, <b>host-certificates</b>, or
<b>passthrough</b>. Additional options are: <b><br>
type</b></p>

<p style="margin-left:23%;">Character device type to
connect to on the host. This is only applicable for
<b>passthrough</b> mode.</p>

<p style="margin-left:17%; margin-top: 1em">An example
invocation: <b><br>
&minus;&minus;smartcard passthrough,type=spicevmc</b></p>

<p style="margin-left:23%;">Use the smartcard channel of a
<small>SPICE</small> graphics device to pass smartcard info
to the guest</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;smartcard=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsSmartcard&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;redirdev</b>
BUS[,OPTIONS]</p>

<p style="margin-left:17%;">Add a redirected device.
<b><br>
type</b></p>

<p style="margin-left:23%;">The redirection type, currently
supported is <b>tcp</b> or <b>spicevmc</b>.</p>

<p style="margin-left:17%;"><b>server</b></p>

<p style="margin-left:23%;">The <small>TCP</small> server
connection details, of the form
&rsquo;server:port&rsquo;.</p>

<p style="margin-left:17%; margin-top: 1em">Examples of
invocation: <b><br>
&minus;&minus;redirdev
usb,type=tcp,server=localhost:4000</b></p>

<p style="margin-left:23%;">Add a <small>USB</small>
redirected device provided by the <small>TCP</small> server
on &rsquo;localhost&rsquo; port 4000.</p>

<p style="margin-left:17%;"><b>&minus;&minus;redirdev
usb,type=spicevmc</b></p>

<p style="margin-left:23%;">Add a <small>USB</small> device
redirected via a dedicated Spice channel.</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;redirdev=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsRedir&gt;</p>


<p style="margin-left:11%;"><b>&minus;&minus;memballoon</b>
<small>MODEL</small></p>

<p style="margin-left:17%;">Attach a virtual memory balloon
device to the guest. If the memballoon device needs to be
explicitly disabled, MODEL=&rsquo;none&rsquo; is used.</p>


<p style="margin-left:17%; margin-top: 1em"><small>MODEL</small>
is the type of memballoon device provided. The value can be
&rsquo;virtio&rsquo;, &rsquo;xen&rsquo; or
&rsquo;none&rsquo;. Some examples:</p>

<p style="margin-left:17%; margin-top: 1em">Use the
recommended settings:</p>


<p style="margin-left:17%; margin-top: 1em">&minus;&minus;memballoon
virtio</p>

<p style="margin-left:17%; margin-top: 1em">Do not use
memballoon device:</p>


<p style="margin-left:17%; margin-top: 1em">&minus;&minus;memballoon
none</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;memballoon=? to see a list of all available
sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsMemBalloon&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;tpm</b>
TYPE[,OPTIONS]</p>

<p style="margin-left:17%;">Configure a virtual
<small>TPM</small> device.</p>

<p style="margin-left:17%; margin-top: 1em">Type must be
<b>passthrough</b>. Additional options are: <b><br>
model</b></p>

<p style="margin-left:23%;">The device model to present to
the guest operating system. Model must be
<b>tpm-tis</b>.</p>

<p style="margin-left:17%; margin-top: 1em">An example
invocation: <b><br>
&minus;&minus;tpm passthrough,model=tpm&minus;tis</b></p>

<p style="margin-left:23%;">Make the host&rsquo;s
<small>TPM</small> accessible to a single guest.</p>

<p style="margin-left:17%;"><b>&minus;&minus;tpm
/dev/tpm</b></p>

<p style="margin-left:23%;">Convenience option for passing
through the hosts <small>TPM.</small></p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;tpm=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsTpm&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;rng</b>
TYPE[,OPTIONS]</p>

<p style="margin-left:17%;">Configure a virtual
<small>RNG</small> device.</p>

<p style="margin-left:17%; margin-top: 1em">Type can be
<b>random</b> or <b>egd</b>.</p>

<p style="margin-left:17%; margin-top: 1em">If the
specified type is <b>random</b> then these values must be
specified: <b><br>
backend_device</b></p>

<p style="margin-left:23%;">The device to use as a source
of entropy.</p>

<p style="margin-left:17%; margin-top: 1em">Whereas, when
the type is <b>egd</b>, these values must be provided:
<b><br>
backend_host</b></p>

<p style="margin-left:23%;">Specify the host of the Entropy
Gathering Daemon to connect to.</p>

<p style="margin-left:17%;"><b>backend_service</b></p>

<p style="margin-left:23%;">Specify the port of the Entropy
Gathering Daemon to connect to.</p>

<p style="margin-left:17%;"><b>backend_type</b></p>

<p style="margin-left:23%;">Specify the type of the
connection: <b>tcp</b> or <b>udp</b>.</p>

<p style="margin-left:17%;"><b>backend_mode</b></p>

<p style="margin-left:23%;">Specify the mode of the
connection. It is either &rsquo;bind&rsquo; (wait for
connections on <small>HOST:PORT</small> ) or
&rsquo;connect&rsquo; (send output to
<small>HOST:PORT</small> ).</p>


<p style="margin-left:17%;"><b>backend_connect_host</b></p>

<p style="margin-left:23%;">Specify the remote host to
connect to when the specified backend_type is <b>udp</b> and
backend_mode is <b>bind</b>.</p>


<p style="margin-left:17%;"><b>backend_connect_service</b></p>

<p style="margin-left:23%;">Specify the remote service to
connect to when the specified backend_type is <b>udp</b> and
backend_mode is <b>bind</b>.</p>

<p style="margin-left:17%; margin-top: 1em">An example
invocation: <b><br>
&minus;&minus;rng <br>

egd,backend_host=localhost,backend_service=8000,backend_type=tcp</b></p>

<p style="margin-left:23%;">Connect to localhost to the
<small>TCP</small> port 8000 to get entropy data.</p>

<p style="margin-left:17%;"><b>&minus;&minus;rng
/dev/random</b></p>

<p style="margin-left:23%;">Use the /dev/random device to
get entropy data, this form implicitly uses the
&quot;random&quot; model.</p>

<p style="margin-left:23%; margin-top: 1em">Use
&minus;&minus;rng=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsRng&gt;</p>

<p style="margin-left:11%;"><b>&minus;&minus;panic</b>
<small>OPTS</small></p>

<p style="margin-left:17%;">Attach a panic notifier device
to the guest. For the recommended settings, use:</p>


<p style="margin-left:17%; margin-top: 1em">&minus;&minus;panic
default</p>

<p style="margin-left:17%; margin-top: 1em">Use
&minus;&minus;panic=? to see a list of all available sub
options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsPanic&gt;</p>

<h2>MISCELLANEOUS OPTIONS
<a name="MISCELLANEOUS OPTIONS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>&minus;h</b></p></td>
<td width="86%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;&minus;help</b></p>

<p style="margin-left:17%;">Show the help message and
exit</p>


<p style="margin-left:11%;"><b>&minus;&minus;version</b></p>

<p style="margin-left:17%;">Show program&rsquo;s version
number and exit</p>


<p style="margin-left:11%;"><b>&minus;&minus;autostart</b></p>

<p style="margin-left:17%;">Set the autostart flag for a
domain. This causes the domain to be started on host boot
up.</p>


<p style="margin-left:11%;"><b>&minus;&minus;transient</b></p>

<p style="margin-left:17%;">Use &minus;&minus;import or
&minus;&minus;boot and &minus;&minus;transient if you want a
transient libvirt <small>VM.</small> These VMs exist only
until the domain is shut down or the host server is
restarted. Libvirt forgets the <small>XML</small>
configuration of the <small>VM</small> after either of these
events. Note that the <small>VM</small> &rsquo;s disks will
not be deleted. See:
&lt;http://wiki.libvirt.org/page/VM_lifecycle#Transient_guest_domains_vs_Persistent_guest_domains&gt;</p>


<p style="margin-left:11%;"><b>&minus;&minus;print&minus;xml</b>
[ <small>STEP</small> ]</p>

<p style="margin-left:17%;">Print the generated
<small>XML</small> of the guest, instead of defining it. By
default this <small>WILL</small> do storage creation (can be
disabled with &minus;&minus;dry&minus;run). This option
implies &minus;&minus;quiet.</p>

<p style="margin-left:17%; margin-top: 1em">If the
<small>VM</small> install has multiple phases, by default
this will print all generated <small>XML.</small> If you
want to print a particular step, use
&minus;&minus;print&minus;xml 2 (for the second phase
<small>XML</small> ).</p>


<p style="margin-left:11%;"><b>&minus;&minus;noreboot</b></p>

<p style="margin-left:17%;">Prevent the domain from
automatically rebooting after the install has completed.</p>

<p style="margin-left:11%;"><b>&minus;&minus;wait</b>
<small>WAIT</small></p>

<p style="margin-left:17%;">Amount of time to wait (in
minutes) for a <small>VM</small> to complete its install.
Without this option, virt-install will wait for the console
to close (not necessarily indicating the guest has
shutdown), or in the case of &minus;&minus;noautoconsole,
simply kick off the install and exit. Any negative value
will make virt-install wait indefinitely, a value of 0
triggers the same results as noautoconsole. If the time
limit is exceeded, virt-install simply exits, leaving the
virtual machine in its current state.</p>


<p style="margin-left:11%;"><b>&minus;&minus;dry&minus;run</b></p>

<p style="margin-left:17%;">Proceed through the guest
creation process, but do <small>NOT</small> create storage
devices, change host device configuration, or actually teach
libvirt about the guest. virt-install may still fetch
install media, since this is required to properly detect the
<small>OS</small> to install.</p>

<p style="margin-left:11%;"><b>&minus;&minus;check</b></p>

<p style="margin-left:17%;">Enable or disable some
validation checks. Some examples are warning about using a
disk that&rsquo;s already assigned to another
<small>VM</small> (&minus;&minus;check path_in_use=on|off),
or warning about potentially running out of space during
disk allocation (&minus;&minus;check disk_size=on|off). Most
checks are performed by default.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;q</b></p></td>
<td width="86%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;&minus;quiet</b></p>

<p style="margin-left:17%;">Only print fatal error
messages.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;d</b></p></td>
<td width="86%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;&minus;debug</b></p>

<p style="margin-left:17%;">Print debugging information to
the terminal when running the install process. The debugging
information is also stored in
<tt>&quot;~/.cache/virt&minus;manager/virt&minus;install.log&quot;</tt>
even if this parameter is omitted.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Install a
Fedora 9 plain <small>QEMU</small> guest, using
<small>LVM</small> partition, virtual networking, booting
from <small>PXE,</small> using <small>VNC</small>
server/viewer, with virtio-scsi disk</p>

<pre style="margin-left:11%; margin-top: 1em">  # virt&minus;install \
       &minus;&minus;connect qemu:///system \
       &minus;&minus;name demo \
       &minus;&minus;memory 500 \
       &minus;&minus;disk path=/dev/HostVG/DemoVM,bus=scsi \
       &minus;&minus;controller virtio&minus;scsi \
       &minus;&minus;network network=default \
       &minus;&minus;virt&minus;type qemu
       &minus;&minus;graphics vnc \
       &minus;&minus;os&minus;variant fedora9</pre>


<p style="margin-left:11%; margin-top: 1em">Run a Live
<small>CD</small> image under Xen fullyvirt, in diskless
environment</p>

<pre style="margin-left:11%; margin-top: 1em">  # virt&minus;install \
       &minus;&minus;hvm \
       &minus;&minus;name demo \
       &minus;&minus;memory 500 \
       &minus;&minus;disk none \
       &minus;&minus;livecd \
       &minus;&minus;graphics vnc \
       &minus;&minus;cdrom /root/fedora7live.iso</pre>


<p style="margin-left:11%; margin-top: 1em">Run
/usr/bin/httpd in a linux container guest (
<small>LXC</small> ). Resource usage is capped at 512 MiB of
ram and 2 host cpus:</p>

<pre style="margin-left:11%; margin-top: 1em">  # virt&minus;install \
        &minus;&minus;connect lxc:/// \
        &minus;&minus;name httpd_guest \
        &minus;&minus;memory 512 \
        &minus;&minus;vcpus 2 \
        &minus;&minus;init /usr/bin/httpd</pre>


<p style="margin-left:11%; margin-top: 1em">Start a linux
container guest( <small>LXC</small> ) with a private root
filesystem, using /bin/sh as init. Container&rsquo;s root
will be under host dir /home/LXC. The host dir
&quot;/home/test&quot; will be mounted at &quot;/mnt&quot;
dir inside container:</p>

<pre style="margin-left:11%; margin-top: 1em">  # virt&minus;install \
        &minus;&minus;connect lxc:/// \
        &minus;&minus;name container \
        &minus;&minus;memory 128 \
        &minus;&minus;filesystem /home/LXC,/ \
        &minus;&minus;filesystem /home/test,/mnt \
        &minus;&minus;init /bin/sh</pre>


<p style="margin-left:11%; margin-top: 1em">Install a
paravirtualized Xen guest, 500 MiB of <small>RAM,</small> a
5 GiB of disk, and Fedora Core 6 from a web server, in
text-only mode, with old style &minus;&minus;file
options:</p>

<pre style="margin-left:11%; margin-top: 1em">  # virt&minus;install \
       &minus;&minus;paravirt \
       &minus;&minus;name demo \
       &minus;&minus;memory 500 \
       &minus;&minus;disk /var/lib/xen/images/demo.img,size=6 \
       &minus;&minus;graphics none \
       &minus;&minus;location http://download.fedora.redhat.com/pub/fedora/linux/core/6/x86_64/os/</pre>


<p style="margin-left:11%; margin-top: 1em">Create a guest
from an existing disk image &rsquo;mydisk.img&rsquo; using
defaults for the rest of the options.</p>

<pre style="margin-left:11%; margin-top: 1em">  # virt&minus;install \
       &minus;&minus;name demo \
       &minus;&minus;memory 512 \
       &minus;&minus;disk /home/user/VMs/mydisk.img \
       &minus;&minus;import</pre>


<p style="margin-left:11%; margin-top: 1em">Start serial
<small>QEMU ARM VM,</small> which requires specifying a
manual kernel.</p>

<pre style="margin-left:11%; margin-top: 1em">  # virt&minus;install \
       &minus;&minus;name armtest \
       &minus;&minus;memory 1024 \
       &minus;&minus;arch armv7l &minus;&minus;machine vexpress&minus;a9 \
       &minus;&minus;disk /home/user/VMs/myarmdisk.img \
       &minus;&minus;boot kernel=/tmp/my&minus;arm&minus;kernel,initrd=/tmp/my&minus;arm&minus;initrd,dtb=/tmp/my&minus;arm&minus;dtb,kernel_args=&quot;console=ttyAMA0 rw root=/dev/mmcblk0p3&quot; \
       &minus;&minus;graphics none</pre>


<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Please see
http://virt&minus;manager.org/page/BugReporting</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright (C)
Red Hat, Inc, and various contributors. This is free
software. You may redistribute copies of it under the terms
of the <small>GNU</small> General Public License
<tt>&quot;http://www.gnu.org/licenses/gpl.html&quot;</tt>.
There is <small>NO WARRANTY,</small> to the extent permitted
by law.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><tt>virsh(1)</tt>,
<tt>&quot;virt&minus;clone(1)&quot;</tt>,
<tt>&quot;virt&minus;manager(1)&quot;</tt>, the project
website
<tt>&quot;http://virt&minus;manager.org&quot;</tt></p>
<hr>
</body>
</html>
