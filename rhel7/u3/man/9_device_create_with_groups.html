<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 21:13:26 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>DEVICE_CREATE_WITH_G</title>

</head>
<body>

<h1 align="center">DEVICE_CREATE_WITH_G</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#ARGUMENTS">ARGUMENTS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#NOTE">NOTE</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">device_create_with_groups
&minus; creates a device and registers it with sysfs</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>struct device *
device_create_with_groups(struct&nbsp;class&nbsp;*&nbsp;</b><i>class</i><b>,
struct&nbsp;device&nbsp;*&nbsp;</b><i>parent</i><b>,
dev_t&nbsp;</b><i>devt</i><b>,
void&nbsp;*&nbsp;</b><i>drvdata</i><b>,
const&nbsp;struct&nbsp;attribute_group&nbsp;**&nbsp;</b><i>groups</i><b>,
const&nbsp;char&nbsp;*&nbsp;</b><i>fmt</i><b>,</b>
<i>...</i><b>);</b></p> </td></tr>
</table>

<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b><i>class</i></b></p>

<p style="margin-left:17%;">pointer to the struct class
that this device should be registered to</p>


<p style="margin-left:11%; margin-top: 1em"><i>parent</i></p>

<p style="margin-left:17%;">pointer to the parent struct
device of this new device, if any</p>


<p style="margin-left:11%; margin-top: 1em"><i>devt</i></p>

<p style="margin-left:17%;">the dev_t for the char device
to be added</p>


<p style="margin-left:11%; margin-top: 1em"><i>drvdata</i></p>

<p style="margin-left:17%;">the data to be added to the
device for callbacks</p>


<p style="margin-left:11%; margin-top: 1em"><i>groups</i></p>

<p style="margin-left:17%;">NULL&minus;terminated list of
attribute groups to be created</p>

<p style="margin-left:11%; margin-top: 1em"><i>fmt</i></p>

<p style="margin-left:17%;">string for the device's
name</p>

<p style="margin-left:11%; margin-top: 1em"><i>...</i></p>

<p style="margin-left:17%;">variable arguments</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This function
can be used by char device classes. A struct device will be
created in sysfs, registered to the specified class.
Additional attributes specified in the groups parameter will
also be created automatically.</p>

<p style="margin-left:11%; margin-top: 1em">A
&ldquo;dev&rdquo; file will be created, showing the dev_t
for the device, if the dev_t is not 0,0. If a pointer to a
parent struct device is passed in, the newly created struct
device will be a child of that device in sysfs. The pointer
to the struct device will be returned from the call. Any
further sysfs files that might be required can be created
using this pointer.</p>

<p style="margin-left:11%; margin-top: 1em">Returns struct
device pointer on success, or <b>ERR_PTR</b> on error.</p>

<h2>NOTE
<a name="NOTE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">the struct
class passed to this function must have previously been
created with a call to <b>class_create</b>.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>
<hr>
</body>
</html>
