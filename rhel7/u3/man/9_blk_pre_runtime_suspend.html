<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 20:54:52 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>BLK_PRE_RUNTIME_SUSP</title>

</head>
<body>

<h1 align="center">BLK_PRE_RUNTIME_SUSP</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#ARGUMENTS">ARGUMENTS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#RETURN">RETURN</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">blk_pre_runtime_suspend
&minus; Pre runtime suspend check</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="83%">


<p style="margin-top: 1em"><b>int
blk_pre_runtime_suspend(struct&nbsp;request_queue&nbsp;*&nbsp;</b><i>q</i><b>);</b></p> </td>
<td width="6%">
</td></tr>
</table>

<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b><i>q</i></b></p>

<p style="margin-left:17%;">the queue of the device</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This function
will check if runtime suspend is allowed for the device by
examining if there are any requests pending in the queue. If
there are requests pending, the device can not be runtime
suspended; otherwise, the queue's status will be updated to
SUSPENDING and the driver can proceed to suspend the
device.</p>

<p style="margin-left:11%; margin-top: 1em">For the not
allowed case, we mark last busy for the device so that
runtime PM core will try to autosuspend it some time
later.</p>

<p style="margin-left:11%; margin-top: 1em">This function
should be called near the start of the device's
runtime_suspend callback.</p>

<h2>RETURN
<a name="RETURN"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">0 &minus; OK to
runtime suspend the device &minus;EBUSY &minus; Device
should not be runtime suspended</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>
<hr>
</body>
</html>
