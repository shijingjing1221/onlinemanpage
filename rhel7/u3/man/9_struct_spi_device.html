<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:38:32 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>STRUCT SPI_DEVICE</title>

</head>
<body>

<h1 align="center">STRUCT SPI_DEVICE</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#MEMBERS">MEMBERS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">struct_spi_device
&minus; Master side proxy for an SPI slave device</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">struct
spi_device { <br>
struct device dev; <br>
struct spi_master * master; <br>
u32 max_speed_hz; <br>
u8 chip_select; <br>
u8 mode;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="-3%">


<p>#define SPI_CPHA</p></td>
<td width="23%"></td>
<td width="7%"></td>
<td width="8%">


<p>0x01</p></td>
<td width="54%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="-3%">


<p>#define SPI_CPOL</p></td>
<td width="23%"></td>
<td width="7%"></td>
<td width="8%">


<p>0x02</p></td>
<td width="54%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="-3%">


<p>#define SPI_MODE_0</p></td>
<td width="23%"></td>
<td width="7%"></td>
<td width="8%">


<p>(0|0)</p></td>
<td width="54%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="-3%">


<p>#define SPI_MODE_1</p></td>
<td width="23%"></td>
<td width="7%"></td>
<td width="8%">


<p>(0|SPI_CPHA)</p></td>
<td width="54%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="-3%">


<p>#define SPI_MODE_2</p></td>
<td width="23%"></td>
<td width="7%"></td>
<td width="8%">


<p>(SPI_CPOL|0)</p></td>
<td width="54%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="-3%">


<p>#define SPI_MODE_3</p></td>
<td width="23%"></td>
<td width="7%"></td>
<td width="8%">


<p>(SPI_CPOL|SPI_CPHA)</p></td>
<td width="54%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="-3%">


<p>#define SPI_CS_HIGH</p></td>
<td width="23%"></td>
<td width="7%"></td>
<td width="8%">


<p>0x04</p></td>
<td width="54%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="-3%">


<p>#define SPI_LSB_FIRST</p></td>
<td width="23%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="54%">


<p>0x08</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="-3%">


<p>#define SPI_3WIRE</p></td>
<td width="23%"></td>
<td width="7%"></td>
<td width="8%">


<p>0x10</p></td>
<td width="54%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="-3%">


<p>#define SPI_LOOP</p></td>
<td width="23%"></td>
<td width="7%"></td>
<td width="8%">


<p>0x20</p></td>
<td width="54%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="-3%">


<p>#define SPI_NO_CS</p></td>
<td width="23%"></td>
<td width="7%"></td>
<td width="8%">


<p>0x40</p></td>
<td width="54%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="-3%">


<p>#define SPI_READY</p></td>
<td width="23%"></td>
<td width="7%"></td>
<td width="8%">


<p>0x80</p></td>
<td width="54%">
</td></tr>
</table>

<p style="margin-left:11%;">u8 bits_per_word; <br>
int irq; <br>
void * controller_state; <br>
void * controller_data; <br>
char modalias[SPI_NAME_SIZE]; <br>
int cs_gpio; <br>
};</p>

<h2>MEMBERS
<a name="MEMBERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">dev</p>

<p style="margin-left:17%;">Driver model representation of
the device.</p>

<p style="margin-left:11%; margin-top: 1em">master</p>

<p style="margin-left:17%;">SPI controller used with the
device.</p>


<p style="margin-left:11%; margin-top: 1em">max_speed_hz</p>

<p style="margin-left:17%;">Maximum clock rate to be used
with this chip (on this board); may be changed by the
device's driver. The spi_transfer.speed_hz can override this
for each transfer.</p>


<p style="margin-left:11%; margin-top: 1em">chip_select</p>

<p style="margin-left:17%;">Chipselect, distinguishing
chips handled by <i>master</i>.</p>

<p style="margin-left:11%; margin-top: 1em">mode</p>

<p style="margin-left:17%;">The spi mode defines how data
is clocked out and in. This may be changed by the device's
driver. The &ldquo;active low&rdquo; default for chipselect
mode can be overridden (by specifying SPI_CS_HIGH) as can
the &ldquo;MSB first&rdquo; default for each word in a
transfer (by specifying SPI_LSB_FIRST).</p>


<p style="margin-left:11%; margin-top: 1em">bits_per_word</p>

<p style="margin-left:17%;">Data transfers involve one or
more words; word sizes like eight or 12 bits are common.
In&minus;memory wordsizes are powers of two bytes (e.g. 20
bit samples use 32 bits). This may be changed by the
device's driver, or left at the default (0) indicating
protocol words are eight bit bytes. The
spi_transfer.bits_per_word can override this for each
transfer.</p>

<p style="margin-left:11%; margin-top: 1em">irq</p>

<p style="margin-left:17%;">Negative, or the number passed
to <b>request_irq</b> to receive interrupts from this
device.</p>


<p style="margin-left:11%; margin-top: 1em">controller_state</p>

<p style="margin-left:17%;">Controller's runtime state</p>


<p style="margin-left:11%; margin-top: 1em">controller_data</p>

<p style="margin-left:17%;">Board&minus;specific
definitions for controller, such as FIFO initialization
parameters; from board_info.controller_data</p>


<p style="margin-left:11%; margin-top: 1em">modalias[SPI_NAME_SIZE]</p>

<p style="margin-left:17%;">Name of the driver to use with
this device, or an alias for that name. This appears in the
sysfs &ldquo;modalias&rdquo; attribute for driver
coldplugging, and in uevents used for hotplugging</p>

<p style="margin-left:11%; margin-top: 1em">cs_gpio</p>

<p style="margin-left:17%;">gpio number of the chipselect
line (optional, &minus;ENOENT when when not using a GPIO
line)</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">A
<i>spi_device</i> is used to interchange data between an SPI
slave (usually a discrete chip) and CPU memory.</p>

<p style="margin-left:11%; margin-top: 1em">In <i>dev</i>,
the platform_data is used to hold information about this
device that's meaningful to the device's protocol driver,
but not to its controller. One example might be an
identifier for a chip variant with slightly different
functionality; another might be information about how this
particular board wires the chip's pins.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>
<hr>
</body>
</html>
