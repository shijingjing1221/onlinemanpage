<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 23:09:03 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>XML_GREP</title>

</head>
<body>

<h1 align="center">XML_GREP</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSYS">SYNOPSYS</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#LICENSE">LICENSE</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">xml_grep
&minus; grep XML files looking for specific elements</p>

<h2>SYNOPSYS
<a name="SYNOPSYS"></a>
</h2>


<pre style="margin-left:11%; margin-top: 1em">  xml_grep [options] &lt;file list&gt;</pre>


<p style="margin-left:11%; margin-top: 1em">or</p>

<pre style="margin-left:11%; margin-top: 1em">  xml_grep &lt;xpath expression&gt; &lt;file list&gt;</pre>


<p style="margin-left:11%; margin-top: 1em">By default you
can just give <tt>&quot;xml_grep&quot;</tt> an XPath
expression and a list of files, and get an
<small>XML</small> file with the result.</p>

<p style="margin-left:11%; margin-top: 1em">This is
equivalent to writing</p>

<pre style="margin-left:11%; margin-top: 1em">  xml_grep &minus;&minus;group_by_file file &minus;&minus;pretty_print indented &minus;&minus;cond &lt;file list&gt;</pre>


<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;help</b></p>

<p style="margin-left:17%;">brief help message</p>

<p style="margin-left:11%;"><b>&minus;&minus;man</b></p>

<p style="margin-left:17%;">full documentation</p>


<p style="margin-left:11%;"><b>&minus;&minus;Version</b></p>

<p style="margin-left:17%;">display the tool version</p>

<p style="margin-left:11%;"><b>&minus;&minus;root</b>
&lt;cond&gt;</p>

<p style="margin-left:17%;">look for and return xml chunks
matching &lt;cond&gt;</p>

<p style="margin-left:17%; margin-top: 1em">if neither
<tt>&quot;&minus;&minus;root&quot;</tt> nor
<tt>&quot;&minus;&minus;file&quot;</tt> are used then the
element(s) that trigger the
<tt>&quot;&minus;&minus;cond&quot;</tt> option is (are)
used. If <tt>&quot;&minus;&minus;cond&quot;</tt> is not used
then all elements matching the &lt;cond&gt; are returned</p>

<p style="margin-left:17%; margin-top: 1em">several
<tt>&quot;&minus;&minus;root&quot;</tt> can be provided</p>

<p style="margin-left:11%;"><b>&minus;&minus;cond</b>
&lt;cond&gt;</p>

<p style="margin-left:17%;">return the chunks (or file
names) only if they contain elements matching
&lt;cond&gt;</p>

<p style="margin-left:17%; margin-top: 1em">several
<tt>&quot;&minus;&minus;cond&quot;</tt> can be provided (in
which case they are <small>OR</small> &rsquo;ed)</p>

<p style="margin-left:11%;"><b>&minus;&minus;files</b></p>

<p style="margin-left:17%;">return only file names (do not
generate an <small>XML</small> output)</p>

<p style="margin-left:17%; margin-top: 1em">usage of this
option precludes using any of the options that define the
<small>XML</small> output:
<tt>&quot;&minus;&minus;roots&quot;</tt>,
<tt>&quot;&minus;&minus;encoding&quot;</tt>,
<tt>&quot;&minus;&minus;wrap&quot;</tt>,
<tt>&quot;&minus;&minus;group_by_file&quot;</tt> or
<tt>&quot;&minus;&minus;pretty_print&quot;</tt></p>

<p style="margin-left:11%;"><b>&minus;&minus;count</b></p>

<p style="margin-left:17%;">return only the number of
matches in each file</p>

<p style="margin-left:17%; margin-top: 1em">usage of this
option precludes using any of the options that define the
<small>XML</small> output:
<tt>&quot;&minus;&minus;roots&quot;</tt>,
<tt>&quot;&minus;&minus;encoding&quot;</tt>,
<tt>&quot;&minus;&minus;wrap&quot;</tt>,
<tt>&quot;&minus;&minus;group_by_file&quot;</tt> or
<tt>&quot;&minus;&minus;pretty_print&quot;</tt></p>


<p style="margin-left:11%;"><b>&minus;&minus;strict</b></p>

<p style="margin-left:17%;">without this option parsing
errors are reported to <small>STDOUT</small> and the file
skipped</p>

<p style="margin-left:11%;"><b>&minus;&minus;date</b></p>

<p style="margin-left:17%;">when on (by default) the
wrapping element get a <tt>&quot;date&quot;</tt> attribute
that gives the date the tool was run.</p>

<p style="margin-left:17%; margin-top: 1em">with
<tt>&quot;&minus;&minus;nodate&quot;</tt> this attribute is
not added, which can be useful if you need to compare 2
runs.</p>

<p style="margin-left:11%;"><b>&minus;&minus;encoding</b>
&lt;enc&gt;</p>

<p style="margin-left:17%;">encoding of the xml output
(utf&minus;8 by default)</p>


<p style="margin-left:11%;"><b>&minus;&minus;nb_results</b>
&lt;nb&gt;</p>

<p style="margin-left:17%;">output only &lt;nb&gt;
results</p>


<p style="margin-left:11%;"><b>&minus;&minus;by_file</b></p>

<p style="margin-left:17%;">output only &lt;nb&gt; results
by file</p>

<p style="margin-left:11%;"><b>&minus;&minus;wrap</b>
&lt;tag&gt;</p>

<p style="margin-left:17%;">wrap the xml result in the
provided tag (defaults to &rsquo;xml_grep&rsquo;)</p>

<p style="margin-left:17%; margin-top: 1em">If wrap is set
to an empty string (<tt>&quot;&minus;&minus;wrap
''&quot;</tt>) then the xml result is not wrapped at
all.</p>


<p style="margin-left:11%;"><b>&minus;&minus;nowrap</b></p>

<p style="margin-left:17%;">same as using
<tt>&quot;&minus;&minus;wrap ''&quot;</tt>: the xml result
is not wrapped.</p>

<p style="margin-left:11%;"><b>&minus;&minus;descr</b>
&lt;string&gt;</p>

<p style="margin-left:17%;">attributes of the wrap tag
(defaults to <tt>&quot;version=&quot;&lt;VERSION&gt;&quot;
date=&quot;&lt;date&gt;&quot;&quot;</tt>)</p>


<p style="margin-left:11%;"><b>&minus;&minus;group_by_file</b>
&lt;optional_tag&gt;</p>

<p style="margin-left:17%;">wrap results for each files
into a separate element. By default that element is named
<tt>&quot;file&quot;</tt>. It has an attribute named
<tt>&quot;filename&quot;</tt> that gives the name of the
file.</p>

<p style="margin-left:17%; margin-top: 1em">the short
version of this option is <b>&minus;g</b></p>

<p style="margin-left:11%;"><b>&minus;&minus;exclude</b>
&lt;condition&gt;</p>

<p style="margin-left:17%;">same as using
<tt>&quot;&minus;v&quot;</tt> in grep: the elements that
match the condition are excluded from the result, the input
file(s) is (are) otherwise unchanged</p>

<p style="margin-left:17%; margin-top: 1em">the short form
of this option is <b>&minus;v</b></p>


<p style="margin-left:11%;"><b>&minus;&minus;pretty_print</b>
&lt;optional_style&gt;</p>

<p style="margin-left:17%;">pretty print the output using
XML::Twig styles
(&rsquo;<tt>&quot;indented&quot;</tt>&rsquo;,
&rsquo;<tt>&quot;record&quot;</tt>&rsquo; or
&rsquo;<tt>&quot;record_c&quot;</tt>&rsquo; are probably
what you are looking for)</p>

<p style="margin-left:17%; margin-top: 1em">if the option
is used but no style is given then
&rsquo;<tt>&quot;indented&quot;</tt>&rsquo; is used</p>

<p style="margin-left:17%; margin-top: 1em">short form for
this argument is <b>&minus;s</b></p>


<p style="margin-left:11%;"><b>&minus;&minus;text_only</b></p>

<p style="margin-left:17%;">Displays the text of the
results, one by line.</p>

<p style="margin-left:11%;"><b>&minus;&minus;html</b></p>

<p style="margin-left:17%;">Allow <small>HTML</small>
input, files are converted using HTML::TreeBuilder</p>

<p style="margin-left:11%;"><b>&minus;&minus;Tidy</b></p>

<p style="margin-left:17%;">Allow <small>HTML</small>
input, files are converted using HTML::Tidy</p>

<p style="margin-left:11%; margin-top: 1em"><b>Condition
Syntax</b> <br>
&lt;cond&gt; is an XPath-like expression as allowed by
XML::Twig to trigger handlers.</p>

<p style="margin-left:11%; margin-top: 1em">exemples: <br>
&rsquo;para&rsquo; <br>
&rsquo;para[@compact=&quot;compact&quot;]&rsquo; <br>
&rsquo;*[@urgent]&rsquo; <br>
&rsquo;*[@urgent=&quot;1&quot;]&rsquo; <br>
&rsquo;para[<i>string()</i>=&quot;
<small>WARNING&quot;</small> ]&rsquo;</p>

<p style="margin-left:11%; margin-top: 1em">see XML::Twig
for a more complete description of the &lt;cond&gt;
syntax</p>

<p style="margin-left:11%; margin-top: 1em">options are
processedby Getopt::Long so they can start with
&rsquo;&minus;&rsquo; or &rsquo;&minus;&minus;&rsquo; and
can be abbreviated (<tt>&quot;&minus;r&quot;</tt> instead of
<tt>&quot;&minus;&minus;root&quot;</tt> for example)</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>xml_grep</b>
does a grep on <small>XML</small> files. Instead of using
regular expressions it uses XPath expressions (in fact the
subset of XPath supported by XML::Twig)</p>

<p style="margin-left:11%; margin-top: 1em">the results can
be the names of the files or <small>XML</small> elements
containing matching elements.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">XML::Twig
Getopt::Long</p>

<h2>LICENSE
<a name="LICENSE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This library is
free software; you can redistribute it and/or modify it
under the same terms as Perl itself.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Michel
Rodriguez &lt;mirod@xmltwig.com&gt;</p>
<hr>
</body>
</html>
