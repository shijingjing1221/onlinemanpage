<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:47:06 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>TRACE&minus;CMD&minus;RESET</title>

</head>
<body>

<h1 align="center">TRACE&minus;CMD&minus;RESET</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#RESOURCES">RESOURCES</a><br>
<a href="#COPYING">COPYING</a><br>
<a href="#NOTES">NOTES</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">trace-cmd-reset
&minus; turn off all Ftrace tracing to bring back full
performance</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>trace&minus;cmd
reset</b> [<i>OPTIONS</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
trace&minus;cmd(1) reset command turns off all tracing of
Ftrace. This will bring back the performance of the system
before tracing was enabled. This is necessary since
<i>trace&minus;cmd&minus;record(1)</i>,
<i>trace&minus;cmd&minus;stop(1)</i> and
<i>trace&minus;cmd&minus;extract(1)</i> do not disable the
tracer, event after the data has been pulled from the
buffers. The rational is that the user may want to manually
enable the tracer with the Ftrace pseudo file system, or
examine other parts of Ftrace to see what trace&minus;cmd
did. After the reset command happens, the data in the ring
buffer, and the options that were used are all lost.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Please note
that the order that options are specified on the command
line is significant. See EXAMPLES.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;b</b>
<i>buffer_size</i></p>

<p style="margin-left:17%;">When the kernel boots, the
Ftrace ring buffer is of a minimal size (3 pages per CPU).
The first time the tracer is used, the ring buffer size
expands to what it was set for (default 1.4 Megs per
CPU).</p>

<p style="margin-left:23%; margin-top: 1em">If no more
tracing is to be done, this option allows you to shrink the
<br>
ring buffer down to free up available memory.</p>


<p style="margin-left:23%; margin-top: 1em">trace&minus;cmd
reset &minus;b 1</p>

<p style="margin-left:23%; margin-top: 1em">The buffer
instance affected is the one (or ones) specified by the most
<br>
recently preceding *&minus;B*, *&minus;t*, or *&minus;a*
option:</p>

<p style="margin-left:23%; margin-top: 1em">When used after
*&minus;B*, resizes the buffer instance that precedes it on
<br>
the command line.</p>

<p style="margin-left:23%; margin-top: 1em">When used after
*&minus;a*, resizes all buffer instances except the top
one.</p>

<p style="margin-left:23%; margin-top: 1em">When used after
*&minus;t* or before any *&minus;B* or *&minus;a*, resizes
the top <br>
instance.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;B</b>
<i>buffer&minus;name</i></p>

<p style="margin-left:17%;">If the kernel supports multiple
buffers, this will reset the trace for only the given
buffer. It does not affect any other buffer. This may be
used multiple times to specify different buffers. The top
level buffer will not be reset if this option is given
(unless the <b>&minus;t</b> option is also supplied).</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;a</b></p>

<p style="margin-left:17%;">Reset the trace for all
existing buffer instances. When this option is used, the top
level instance will not be reset unless <b>&minus;t</b> is
given.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;d</b></p>

<p style="margin-left:17%;">This option deletes the
instance buffer(s) specified by the most recently preceding
<b>&minus;B</b> or <b>&minus;a</b> option. Because the
top&minus;level instance buffer cannot be deleted, it is
invalid to use this immediatly following <b>&minus;t</b> or
prior to any <b>&minus;B</b> or <b>&minus;a</b> option on
the command line.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;t</b></p>

<p style="margin-left:17%;">Resets the top level instance
buffer. Without the <b>&minus;B</b> or <b>&minus;a</b>
option this is the same as the default. But if
<b>&minus;B</b> or <b>&minus;a</b> is used, this is required
if the top level instance buffer should also be reset.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Reset tracing
for instance&minus;one and set its per&minus;cpu buffer size
to 4096kb. Also deletes instance&minus;two. The top level
instance and any other instances remain unaffected:</p>


<p style="margin-left:17%; margin-top: 1em">trace&minus;cmd
reset &minus;B instance&minus;one &minus;b 4096 &minus;B
instance&minus;two &minus;d</p>

<p style="margin-left:11%; margin-top: 1em">Delete all
instance buffers. Top level instance remains unaffected:</p>


<p style="margin-left:17%; margin-top: 1em">trace&minus;cmd
reset &minus;a &minus;d</p>

<p style="margin-left:11%; margin-top: 1em">Delete all
instance buffers and also reset the top instance:</p>


<p style="margin-left:17%; margin-top: 1em">trace&minus;cmd
reset &minus;t &minus;a &minus;d</p>

<p style="margin-left:11%; margin-top: 1em">Invalid. This
command implies an attempt to delete the top instance:</p>


<p style="margin-left:17%; margin-top: 1em">trace&minus;cmd
reset &minus;a &minus;t &minus;d</p>

<p style="margin-left:11%; margin-top: 1em">Reset the top
instance and set its per&minus;cpu buffer size to 1024kb. If
any instance buffers exist, they will be unaffected:</p>


<p style="margin-left:17%; margin-top: 1em">trace&minus;cmd
reset &minus;b 1024</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">trace&minus;cmd(1),
trace&minus;cmd&minus;record(1),
trace&minus;cmd&minus;report(1),
trace&minus;cmd&minus;start(1),
trace&minus;cmd&minus;stop(1),
trace&minus;cmd&minus;extract(1),
trace&minus;cmd&minus;split(1),
trace&minus;cmd&minus;list(1),
trace&minus;cmd&minus;listen(1)</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Written by
Steven Rostedt,
&lt;<b><font color="#0000FF">rostedt@goodmis.org</font></b>
<small><font color="#000000">[1]</font></small>
<font color="#000000">&gt;</font></p>

<h2>RESOURCES
<a name="RESOURCES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">git://git.kernel.org/pub/scm/linux/kernel/git/rostedt/trace&minus;cmd.git</font></p>

<h2>COPYING
<a name="COPYING"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Copyright
(C) 2010 Red Hat, Inc. Free use of this software is granted
under the terms of the GNU Public License (GPL).</font></p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">



<p style="margin-top: 1em"><font color="#000000">1.</font></p> </td>
<td width="2%"></td>
<td width="29%">



<p style="margin-top: 1em"><font color="#000000">rostedt@goodmis.org</font></p> </td>
<td width="54%">
</td></tr>
</table>


<p style="margin-left:17%;"><font color="#000000">mailto:rostedt@goodmis.org</font></p>
<hr>
</body>
</html>
