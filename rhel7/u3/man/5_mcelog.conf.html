<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 21:55:20 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>mcelog.conf</title>

</head>
<body>

<h1 align="center">mcelog.conf</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">mcelog.conf
&minus; mcelog.conf reference</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>/etc/mcelog.conf</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">/etc/mcelog.conf
is the main configuration file for <b>mcelog(8).</b> This is
configuration file separated into sections including a
default section.</p>

<p style="margin-left:11%; margin-top: 1em">General
format</p>

<p style="margin-left:11%; margin-top: 1em"><b>optionname =
value</b></p>

<p style="margin-left:11%; margin-top: 1em">White space is
not allowed in value currently, except at the end where it
is dropped</p>

<p style="margin-left:11%; margin-top: 1em">In general all
command line options that are not commands work here. See
man mcelog or mcelog --help for a list. e.g. to enable the
--no-syslog option use</p>

<p style="margin-left:11%; margin-top: 1em"><b>no-syslog =
yes (or no to disable)</b></p>

<p style="margin-left:11%; margin-top: 1em">When the option
has a argument</p>

<p style="margin-left:11%; margin-top: 1em"><b>logfile =
/tmp/logfile</b></p>

<p style="margin-left:11%; margin-top: 1em">Below are the
options which are not command line options.</p>

<p style="margin-left:11%; margin-top: 1em">Set cpu type
for which mcelog decodes events:</p>

<p style="margin-left:11%; margin-top: 1em"><b>cpu =
type</b></p>

<p style="margin-left:11%; margin-top: 1em">For valid
values for type please see mcelog --help. If this value is
set incorrectly the decoded output will be likely incorrect.
By default when this parameter is not set mcelog uses the
CPU it is running on on very new kernels the mcelog events
reported by the kernel also carry the CPU type which is used
too when available and not overridden.</p>

<p style="margin-left:11%; margin-top: 1em">Enable daemon
mode:</p>

<p style="margin-left:11%; margin-top: 1em"><b>daemon =
yes</b></p>

<p style="margin-left:11%; margin-top: 1em">By default
mcelog just processes the currently pending events and
exits. In daemon mode it will keep running as a daemon in
the background and poll the kernel for events and then
decode them.</p>

<p style="margin-left:11%; margin-top: 1em">Filter out
known broken events by default.</p>

<p style="margin-left:11%; margin-top: 1em"><b>filter =
yes</b></p>

<p style="margin-left:11%; margin-top: 1em">Don&rsquo;t log
memory errors individually. They still get accounted if that
is enabled.</p>


<p style="margin-left:11%; margin-top: 1em"><b>filter-memory-errors
= yes</b></p>

<p style="margin-left:11%; margin-top: 1em">Output in
undecoded raw format to be easier machine readable (default
is decoded).</p>

<p style="margin-left:11%; margin-top: 1em"><b>raw =
yes</b></p>

<p style="margin-left:11%; margin-top: 1em">Set cpu mhz to
decode uptime from time stamp counter (output unreliable,
not needed on new kernels which report the event time
directly. A lot of systems don&rsquo;t have a linear time
stamp clock and the output is wrong then. Normally mcelog
tries to figure out if it the TSC is reliable and only uses
the current frequency then. Setting a frequency forces
timestamp decoding. This setting is obsolete with modern
kernels which report the time directly.</p>

<p style="margin-left:11%; margin-top: 1em"><b>cpumhz =
1800.00</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="-3%">


<p>Log output options Log decoded machine checks in syslog
(default stdout or syslog for daemon)</p></td>
<td width="107%"></td>
<td width="-15%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>syslog =
yes</b></p>

<p style="margin-left:11%; margin-top: 1em">Log decoded
machine checks in syslog with error level</p>


<p style="margin-left:11%; margin-top: 1em"><b>syslog-error
= yes</b></p>

<p style="margin-left:11%; margin-top: 1em">Never log
anything to syslog</p>

<p style="margin-left:11%; margin-top: 1em"><b>no-syslog =
yes</b></p>

<p style="margin-left:11%; margin-top: 1em">Append log
output to logfile instead of stdout. only when no syslog
logging is active</p>

<p style="margin-left:11%; margin-top: 1em"><b>logfile =
filename</b></p>

<p style="margin-left:11%; margin-top: 1em">Use smbios
information to decode dimms (needs root). This function is
not recommended to use right now and generally not needed.
The exception is memdb prepopulation, which is configured
separately below.</p>

<p style="margin-left:11%; margin-top: 1em"><b>dmi =
no</b></p>

<p style="margin-left:11%; margin-top: 1em">When in daemon
mode run as this user after set up. Note that the triggers
will run as this user too. Setting this to non root will
mean that triggers cannot take some corrective action, like
offlining objects.</p>


<p style="margin-left:11%; margin-top: 1em"><b>run-credentials-user
= root</b></p>

<p style="margin-left:11%; margin-top: 1em">Group to run as
daemon with default to the group of the
run-credentials-user</p>


<p style="margin-left:11%; margin-top: 1em"><b>run-credentials-group
= nobody</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>The server
config section</b> <br>
User allowed to access client socket. when set to * match
any root is always allowed to access. default: root only</p>

<p style="margin-left:11%; margin-top: 1em"><b>client-user
= root</b></p>

<p style="margin-left:11%; margin-top: 1em">Group allowed
to access mcelog When no group is configured any group
matches (but still user checking). when set to * match
any</p>


<p style="margin-left:11%; margin-top: 1em"><b>client-group
= root</b></p>

<p style="margin-left:11%; margin-top: 1em">Path to the
unix socket for client&lt;-&gt;server communication. When no
socket-path is configured the server will not start</p>

<p style="margin-left:11%; margin-top: 1em"><b>socket-path
= /var/run/mcelog-client</b></p>

<p style="margin-left:11%; margin-top: 1em">When mcelog
starts it checks if a server is already running. this
configures the timeout for this check.</p>


<p style="margin-left:11%; margin-top: 1em"><b>initial-ping-timeout
= 2</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>The dimm
config section</b> <br>
Is the in memory dimm error tracking enabled? Only works on
systems with integrated memory controller and which are
supported. Only takes effect in daemon mode.</p>


<p style="margin-left:11%; margin-top: 1em"><b>dimm-tracking-enabled
= yes</b></p>

<p style="margin-left:11%; margin-top: 1em">Use dmi
information from the bios to prepopulate dimm database. Note
this might not work with all BIOS and requires mcelog to run
as root. Alternative is to let mcelog create DIMM objects on
demand.</p>


<p style="margin-left:11%; margin-top: 1em"><b>dmi-prepopulate
= yes</b></p>

<p style="margin-left:11%; margin-top: 1em">Execute these
triggers when the rate of corrected or uncorrected Errors
per DIMM exceeds the threshold. Note when the hardware does
not report DIMMs this might also be per channel. The default
of 10/24h is reasonable for server quality DDR3 DIMMs as of
2009/10.</p>


<p style="margin-left:11%; margin-top: 1em"><b>uc-error-trigger
= dimm-error-trigger</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>uc-error-threshold
= 1 / 24h</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>ce-error-trigger
= dimm-error-trigger</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>ce-error-threshold
= 10 / 24h</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>The socket
config section</b> <br>
Enable memory error accounting per socket.</p>


<p style="margin-left:11%; margin-top: 1em"><b>socket-tracking-enabled
= yes</b></p>

<p style="margin-left:11%; margin-top: 1em">Threshold and
trigger for uncorrected memory errors on a socket.
mem-uc-error-trigger = socket-memory-error-trigger</p>


<p style="margin-left:11%; margin-top: 1em"><b>mem-uc-error-threshold
= 100 / 24h</b></p>

<p style="margin-left:11%; margin-top: 1em">Trigger script
for corrected memory errors on a socket.</p>


<p style="margin-left:11%; margin-top: 1em"><b>mem-ce-error-trigger
= socket-memory-error-trigger</b></p>

<p style="margin-left:11%; margin-top: 1em">Threshold on
when to trigger a correct error for the socket.</p>


<p style="margin-left:11%; margin-top: 1em"><b>mem-ce-error-threshold
= 100 / 24h</b></p>

<p style="margin-left:11%; margin-top: 1em">log socket
error threshold explicitly?</p>


<p style="margin-left:11%; margin-top: 1em"><b>mem-ce-error-log
= yes</b></p>

<p style="margin-left:11%; margin-top: 1em">Trigger script
for uncorrected bus error events</p>


<p style="margin-left:11%; margin-top: 1em"><b>bus-uc-threshold-trigger
= bus-error-trigger</b></p>

<p style="margin-left:11%; margin-top: 1em">Trigger script
for uncorrected iomca erors</p>


<p style="margin-left:11%; margin-top: 1em"><b>iomca-threshold-trigger
= iomca-error-trigger</b></p>

<p style="margin-left:11%; margin-top: 1em">Trigger script
for other uncategorized errors</p>


<p style="margin-left:11%; margin-top: 1em"><b>unknown-threshold-trigger
= unknown-error-trigger</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>The cache
config section</b> <br>
Processing of cache error thresholds reported by intel
cpus.</p>


<p style="margin-left:11%; margin-top: 1em"><b>cache-threshold-trigger
= cache-error-trigger</b></p>

<p style="margin-left:11%; margin-top: 1em">Should cache
threshold events be logged explicitly?</p>


<p style="margin-left:11%; margin-top: 1em"><b>cache-threshold-log
= yes</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>The page
config section</b> <br>
Memory error accouting per 4k memory page. Threshold for the
correct memory errors trigger script.</p>


<p style="margin-left:11%; margin-top: 1em"><b>memory-ce-threshold
= 10 / 24h</b></p>

<p style="margin-left:11%; margin-top: 1em">Trigger script
for corrected errors. memory-ce-trigger =
page-error-trigger</p>

<p style="margin-left:11%; margin-top: 1em">Should page
threshold events be logged explicitly?</p>


<p style="margin-left:11%; margin-top: 1em"><b>memory-ce-log
= yes</b></p>

<p style="margin-left:11%; margin-top: 1em">Specify the
internal action in mcelog to exceeding a page error
threshold this is done in addition to executing the trigger
script if available off no action account only account
errors soft try to soft-offline page without killing any
processes <br>
This requires an uptodate kernel. Might not be successfull.
hard try to hard-offline page by killing processes <br>
Requires an uptodate kernel. Might not be successfull.
soft-then-hard First try to soft offline, then try hard
offlining</p>


<p style="margin-left:11%; margin-top: 1em"><b>memory-ce-action
= off|account|soft|hard|soft-then-hard</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>memory-ce-action
= soft</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>The trigger
config section</b> <br>
Maximum number of running triggers</p>


<p style="margin-left:11%; margin-top: 1em"><b>children-max
= 2</b></p>

<p style="margin-left:11%; margin-top: 1em">Execute
triggers in this directory</p>

<p style="margin-left:11%; margin-top: 1em"><b>directory =
/etc/mcelog</b></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>mcelog</b>(8)
, <b>http://www.mcelog.org</b></p>
<hr>
</body>
</html>
