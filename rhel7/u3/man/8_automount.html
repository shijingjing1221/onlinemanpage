<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 20:53:08 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>AUTOMOUNT</title>

</head>
<body>

<h1 align="center">AUTOMOUNT</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#ARGUMENTS">ARGUMENTS</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">automount
&minus; manage autofs mount points</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>automount</b>
[<i>options</i>] [<i>master_map</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>automount</b> program is used to manage mount points for
autofs, the inlined Linux automounter. <b>automount</b>
works by reading the <b>auto.master</b>(5) map and sets up
mount points for each entry in the master map allowing them
to be automatically mounted when accessed. The file systems
are then automatically umounted after a period of
inactivity.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>&minus;h,
&minus;&minus;help</i></p>

<p style="margin-left:22%;">Print brief help on program
usage.</p>

<p style="margin-left:11%;"><i>&minus;p,
&minus;&minus;pid-file</i></p>

<p style="margin-left:22%;">Write the pid of the daemon to
the specified file.</p>

<p style="margin-left:11%;"><i>&minus;t &lt;seconds&gt;,
&minus;&minus;timeout &lt;seconds&gt;</i></p>

<p style="margin-left:22%;">Set the global minimum timeout,
in seconds, until directories are unmounted. The default is
10 minutes. Setting the timeout to zero disables umounts
completely. The internal program default is 10 minutes, but
the default installed configuration overrides this and sets
the timeout to 5 minutes to be consistent with earlier
autofs releases.</p>

<p style="margin-left:11%;"><i>&minus;n &lt;seconds&gt;,
&minus;&minus;negative&minus;timeout &lt;seconds&gt;</i></p>

<p style="margin-left:22%;">Set the default timeout for
caching failed key lookups. The default is 60 seconds.</p>

<p style="margin-left:11%;"><i>&minus;v,
&minus;&minus;verbose</i></p>

<p style="margin-left:22%;">Enables logging of general
status and progress messages for all autofs managed
mounts.</p>

<p style="margin-left:11%;"><i>&minus;d,
&minus;&minus;debug</i></p>

<p style="margin-left:22%;">Enables logging of general
status and progress messages as well as debugging messages
for all autofs managed mounts.</p>

<p style="margin-left:11%;"><i>&minus;Dvariable=value,
--define variable=value</i></p>

<p style="margin-left:22%;">Define a global macro
substitution variable. Global definitions are over-ridden
macro definitions of the same name specified in mount
entries.</p>

<p style="margin-left:11%;"><i>&minus;f,
&minus;&minus;foreground</i></p>

<p style="margin-left:22%;">Run the daemon in the
foreground and log to stderr instead of syslog.&quot;</p>

<p style="margin-left:11%;"><i>&minus;r,
&minus;&minus;random-multimount-selection</i></p>

<p style="margin-left:22%;">Enables the use of ramdom
selection when choosing a host from a list of replicated
servers.</p>

<p style="margin-left:11%;"><i>&minus;m,
&minus;&minus;dumpmaps [&lt;map type&gt; &lt;map
name&gt;]</i></p>

<p style="margin-left:22%;">With no parameters, list
information about the configured automounter maps, then
exit.</p>

<p style="margin-left:22%; margin-top: 1em">If the dumpmaps
option is given and is followed by two parameters,
&quot;&lt;map type&gt; &lt;map name&gt;&quot; then simple
&quot;&lt;key, value&gt;&quot; pairs that would be read in
by a map read are printed to stdout if the given map type
and map name are found in the map configuration.</p>

<p style="margin-left:22%; margin-top: 1em">If the map is
an LDAP map and there is more than one map of same name in
different base dns only the first map encountered by autofs
will be listed. Similarly, if the map is a file map and
there is more than one map of the same name in different
directories, only the first map encountered will be
listed.</p>

<p style="margin-left:22%; margin-top: 1em">If the map type
is an old style multi-map and any one of the map names in
the multi-map entry matches the given map name the entries
that would be used by autofs for the whole multi-map will be
listed.</p>

<p style="margin-left:11%;"><i>&minus;O,
&minus;&minus;global-options</i></p>

<p style="margin-left:22%;">Allows the specification of
global mount options used for all master map entries. These
options will either replace or be appened to options given
in a master map entry depending on the APPEND_OPTIONS
configuration setting.</p>

<p style="margin-left:11%;"><i>&minus;V,
&minus;&minus;version</i></p>

<p style="margin-left:22%;">Display the version number,
then exit.</p>

<p style="margin-left:11%;"><i>&minus;l,
&minus;&minus;set-log-priority priority path
[path,...]</i></p>

<p style="margin-left:22%;">Set the daemon log priority to
the specified value. Valid values include the numbers 0-7,
or the strings emerg, alert, crit, err, warning, notice,
info, or debug. Log level debug will log everything, log
levels info, warn (or warning), or notice with enable the
daemon verbose logging. Any other level will set basic
logging. Note that enabling debug or verbose logging in the
autofs global configuration will override dynamic log level
changes. For example, if verbose logging is set in the
configuration then attempting to set logging to basic
logging, by using alert, crit, err or emerg won&rsquo;t stop
the verbose logging. However, setting logging to debug will
lead to everything (debug logging) being logged witch can
then also be disabled, returning the daemon to verbose
logging. This option can be specified to change the logging
priority of an already running automount process.</p>

<p style="margin-left:11%; margin-top: 1em">The <i>path</i>
argument corresponds to the automounted path name as
specified in the master map. <i><br>
&minus;C, &minus;&minus;dont-check-daemon</i></p>

<p style="margin-left:22%;">Don&rsquo;t check if the daemon
is currently running (see NOTES).</p>

<p style="margin-left:11%;"><i>&minus;F,
&minus;&minus;force</i></p>

<p style="margin-left:22%;">Force an unlink umount of
existing mounts under autofs managed mount points during
startup. This can cause problems for processes with working
directories within these mounts (see NOTES).</p>

<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>automount</b>
takes one optional argument, the name of the master map to
use. <b><br>
master_map</b></p>

<p style="margin-left:22%;">Location for autofs master map
that defines autofs managed mount points and the mount maps
they will use. The default is <b>auto.master</b>.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If the
<b>automount</b> daemon catches a USR1 signal, it will
umount all currently unused autofs managed mounted file
systems and continue running (forced expire). If it catches
the TERM signal it will umount all unused autofs managed
mounted file systems and exit if there are no remaining busy
file systems. If autofs has been compiled with the option to
ignore busy mounts on exit it will exit leaving any busy
mounts in place otherwise busy file systems will not be
umounted and autofs will not exit. Alternatively, if autofs
has been compiled with the option to enable forced shutdown
then a USR2 signal to the daemon will cause all mounts to be
umounted and any busy mounts to be forcibly umounted,
including autofs mount point directories (summary
execution). Note that the forced umount is an unlink
operation and the actual umount will not happen in the
kernel until active file handles are released. The daemon
also responds to a HUP signal which triggers an update of
the maps for each mount point.</p>

<p style="margin-left:11%; margin-top: 1em">If any autofs
mount point directories are busy when the daemon is sent an
exit signal the daemon will not exit. The exception to this
is if autofs has been built with configure options to either
ignore busy mounts at exit or force umount at exit. If the
ignore busy mounts at exit option is used the filesystems
will be left in a catatonic (non-functional) state and can
be manually umounted when they become unused. If the force
umount at exit option is used the filesystems will be
umounted but the mount will not be released by the kernel
until they are no longer in use by the processes that held
them busy. If automount managed filesystems are found
mounted when autofs is started they will be recovered unless
they are no longer present in the map in which case they
need to umounted manually.</p>

<p style="margin-left:11%; margin-top: 1em">If the option
to disable the check to see if the daemon is already running
is used be aware that autofs currently may not function
correctly for certain types of automount maps. The mounts of
the seperate daemons might interfere with one another. The
implications of running multiple daemon instances needs to
be checked and tested before we can say this is
supported.</p>

<p style="margin-left:11%; margin-top: 1em">If the option
to force an unlink of mounts at startup is used then
processes whose working directory is within unlinked
automounted directories will not get the correct pwd from
the system. This is because, after the mount is unlinked
from the mount tree, anything that needs to walk back up the
mount tree to construct a path, such as getcwd(2) and the
proc filesystem /proc/&lt;pid&gt;/cwd, cannot work because
the point from which the path is constructed has been
detached from the mount tree.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>autofs</b>(5),
<b>autofs</b>(8), <b>autofs.conf</b>(5),
<b>auto.master</b>(5), <b>mount</b>(8).
<b>autofs_ldap_auth.conf</b>(5)</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Don&rsquo;t
know, I&rsquo;ve fixed everything I know about.</p>

<p style="margin-left:11%; margin-top: 1em">The
documentation could be better.</p>

<p style="margin-left:11%; margin-top: 1em">Please report
other bugs along with a detailed description to
&lt;autofs@linux.kernel.org&gt;. For instructions on how to
join the list and for archives visit
http://linux.kernel.org/mailman/listinfo/autofs</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">H. Peter Anvin
&lt;hpa@transmeta.com&gt; and Ian Kent
&lt;raven@themaw.net&gt;.</p>
<hr>
</body>
</html>
