<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 20:50:32 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>App::Prove</title>

</head>
<body>

<h1 align="center">App::Prove</h1>

<a href="#NAME">NAME</a><br>
<a href="#VERSION">VERSION</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#METHODS">METHODS</a><br>
<a href="#PLUGINS">PLUGINS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">App::Prove
&minus; Implements the &quot;prove&quot; command.</p>

<h2>VERSION
<a name="VERSION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Version
3.28</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Test::Harness
provides a command, <tt>&quot;prove&quot;</tt>, which runs a
<small>TAP</small> based test suite and prints a report. The
<tt>&quot;prove&quot;</tt> command is a minimal wrapper
around an instance of this module.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<pre style="margin-left:11%; margin-top: 1em">    use App::Prove;
    my $app = App::Prove&minus;&gt;new;
    $app&minus;&gt;process_args(@ARGV);
    $app&minus;&gt;run;</pre>


<h2>METHODS
<a name="METHODS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Class
Methods</b> <i><br>
&quot;new&quot;</i></p>

<p style="margin-left:11%; margin-top: 1em">Create a new
<tt>&quot;App::Prove&quot;</tt>. Optionally a hash ref of
attribute initializers may be passed.</p>


<p style="margin-left:11%; margin-top: 1em"><i>&quot;state_class&quot;</i></p>

<p style="margin-left:11%; margin-top: 1em">Getter/setter
for the name of the class used for maintaining state. This
class should either subclass from
<tt>&quot;App::Prove::State&quot;</tt> or provide an
identical interface.</p>


<p style="margin-left:11%; margin-top: 1em"><i>&quot;state_manager&quot;</i></p>

<p style="margin-left:11%; margin-top: 1em">Getter/setter
for the instance of the
<tt>&quot;state_class&quot;</tt>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>&quot;add_rc_file&quot;</i></p>


<pre style="margin-left:11%; margin-top: 1em">    $prove&minus;&gt;add_rc_file('myproj/.proverc');</pre>


<p style="margin-left:11%; margin-top: 1em">Called before
<tt>&quot;process_args&quot;</tt> to prepend the contents of
an rc file to the options.</p>


<p style="margin-left:11%; margin-top: 1em"><i>&quot;process_args&quot;</i></p>


<pre style="margin-left:11%; margin-top: 1em">    $prove&minus;&gt;process_args(@args);</pre>


<p style="margin-left:11%; margin-top: 1em">Processes the
command-line arguments. Attributes will be set
appropriately. Any filenames may be found in the
<tt>&quot;argv&quot;</tt> attribute.</p>

<p style="margin-left:11%; margin-top: 1em">Dies on invalid
arguments.</p>


<p style="margin-left:11%; margin-top: 1em"><i>&quot;run&quot;</i></p>

<p style="margin-left:11%; margin-top: 1em">Perform
whatever actions the command line args specified. The
<tt>&quot;prove&quot;</tt> command line tool consists of the
following code:</p>

<pre style="margin-left:11%; margin-top: 1em">    use App::Prove;
    my $app = App::Prove&minus;&gt;new;
    $app&minus;&gt;process_args(@ARGV);
    exit( $app&minus;&gt;run ? 0 : 1 );  # if you need the exit code</pre>



<p style="margin-left:11%; margin-top: 1em"><i>&quot;require_harness&quot;</i></p>

<p style="margin-left:11%; margin-top: 1em">Load a harness
replacement class.</p>

<pre style="margin-left:11%; margin-top: 1em">  $prove&minus;&gt;require_harness($for =&gt; $class_name);</pre>



<p style="margin-left:11%; margin-top: 1em"><i>&quot;print_version&quot;</i></p>

<p style="margin-left:11%; margin-top: 1em">Display the
version numbers of the loaded TAP::Harness and the current
Perl.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Attributes</b>
<br>
After command line parsing the following attributes reflect
the values of the corresponding command line switches. They
may be altered before calling <tt>&quot;run&quot;</tt>. <br>
&quot;archive&quot; <br>
&quot;argv&quot; <br>
&quot;backwards&quot; <br>
&quot;blib&quot; <br>
&quot;color&quot; <br>
&quot;directives&quot; <br>
&quot;dry&quot; <br>
&quot;exec&quot; <br>
&quot;extensions&quot; <br>
&quot;failures&quot; <br>
&quot;comments&quot; <br>
&quot;formatter&quot; <br>
&quot;harness&quot; <br>
&quot;ignore_exit&quot; <br>
&quot;includes&quot; <br>
&quot;jobs&quot; <br>
&quot;lib&quot; <br>
&quot;merge&quot; <br>
&quot;modules&quot; <br>
&quot;parse&quot; <br>
&quot;plugins&quot; <br>
&quot;quiet&quot; <br>
&quot;really_quiet&quot; <br>
&quot;recurse&quot; <br>
&quot;rules&quot; <br>
&quot;show_count&quot; <br>
&quot;show_help&quot; <br>
&quot;show_man&quot; <br>
&quot;show_version&quot; <br>
&quot;shuffle&quot; <br>
&quot;state&quot; <br>
&quot;state_class&quot; <br>
&quot;taint_fail&quot; <br>
&quot;taint_warn&quot; <br>
&quot;test_args&quot; <br>
&quot;timer&quot; <br>
&quot;verbose&quot; <br>
&quot;warnings_fail&quot; <br>
&quot;warnings_warn&quot; <br>
&quot;tapversion&quot; <br>
&quot;trap&quot;</p>

<h2>PLUGINS
<a name="PLUGINS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><tt>&quot;App::Prove&quot;</tt>
provides support for 3rd&minus;party plugins. These are
currently loaded at run-time, <i>after</i> arguments have
been parsed (so you can not change the way arguments are
processed, sorry), typically with the
<tt>&quot;&minus;P</tt><i>plugin</i><tt>&quot;</tt> switch,
eg:</p>

<pre style="margin-left:11%; margin-top: 1em">  prove &minus;PMyPlugin</pre>


<p style="margin-left:11%; margin-top: 1em">This will
search for a module named
<tt>&quot;App::Prove::Plugin::MyPlugin&quot;</tt>, or
failing that, <tt>&quot;MyPlugin&quot;</tt>. If the plugin
can&rsquo;t be found, <tt>&quot;prove&quot;</tt> will
complain &amp; exit.</p>

<p style="margin-left:11%; margin-top: 1em">You can pass an
argument to your plugin by appending an
<tt>&quot;=&quot;</tt> after the plugin name, eg
<tt>&quot;&minus;PMyPlugin=foo&quot;</tt>. You can pass
multiple arguments using commas:</p>

<pre style="margin-left:11%; margin-top: 1em">  prove &minus;PMyPlugin=foo,bar,baz</pre>


<p style="margin-left:11%; margin-top: 1em">These are
passed in to your plugin&rsquo;s <tt>&quot;load()&quot;</tt>
class method (if it has one), along with a reference to the
<tt>&quot;App::Prove&quot;</tt> object that is invoking your
plugin:</p>

<pre style="margin-left:11%; margin-top: 1em">  sub load {
      my ($class, $p) = @_;
      my @args = @{ $p&minus;&gt;{args} };
      # @args will contain ( 'foo', 'bar', 'baz' )
      $p&minus;&gt;{app_prove}&minus;&gt;do_something;
      ...
  }</pre>


<p style="margin-left:11%; margin-top: 1em">Note that the
user&rsquo;s arguments are also passed to your
plugin&rsquo;s <tt>&quot;import()&quot;</tt> function as a
list, eg:</p>

<pre style="margin-left:11%; margin-top: 1em">  sub import {
      my ($class, @args) = @_;
      # @args will contain ( 'foo', 'bar', 'baz' )
      ...
  }</pre>


<p style="margin-left:11%; margin-top: 1em">This is for
backwards compatibility, and may be deprecated in the
future.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Sample
Plugin</b> <br>
Here&rsquo;s a sample plugin, for your reference:</p>

<pre style="margin-left:11%; margin-top: 1em">  package App::Prove::Plugin::Foo;
  # Sample plugin, try running with:
  # prove &minus;PFoo=bar &minus;r &minus;j3
  # prove &minus;PFoo &minus;Q
  # prove &minus;PFoo=bar,My::Formatter
  use strict;
  use warnings;
  sub load {
      my ($class, $p) = @_;
      my @args = @{ $p&minus;&gt;{args} };
      my $app  = $p&minus;&gt;{app_prove};
      print &quot;loading plugin: $class, args: &quot;, join(', ', @args ), &quot;\n&quot;;
      # turn on verbosity
      $app&minus;&gt;verbose( 1 );
      # set the formatter?
      $app&minus;&gt;formatter( $args[1] ) if @args &gt; 1;
      # print some of App::Prove's state:
      for my $attr (qw( jobs quiet really_quiet recurse verbose )) {
          my $val = $app&minus;&gt;$attr;
          $val    = 'undef' unless defined( $val );
          print &quot;$attr: $val\n&quot;;
      }
      return 1;
  }
  1;</pre>


<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">prove,
TAP::Harness</p>
<hr>
</body>
</html>
