<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 21:44:53 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>_STACKMANAGER</title>

</head>
<body>

<h1 align="center">_STACKMANAGER</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#HISTORY">HISTORY</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">ipsec__stackmanager
&minus; internal script to bring up kernel components for
Libreswan</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="55%">


<p style="margin-top: 1em"><b>ipsec</b>
<i>_stackmanager&nbsp;start&nbsp;</i>[&minus;&minus;netkey]</p> </td>
<td width="34%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="55%">


<p style="margin-top: 1em"><b>ipsec</b>
<i>_stackmanager&nbsp;stop</i></p> </td>
<td width="34%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>ipsec
_stackmanager</i> is called from within the init
sub&minus;system (systemd, upstart, sysv initscripts) to
bring up the Libreswan kernel component as configured via
the <i>protostack=</i> option in the <i>ipsec.conf</i>
configuration file.</p>

<p style="margin-left:11%; margin-top: 1em">This involves
loading and optionally unloading of the required kernel
modules. Because the Linux kernel cannot autodetect most
crypto related drivers on&minus;demand, _stackmanager
handles loading the hardware random number (RNG) device
drivers, OpenBSD/FreeBSD Cryptographic Framework (OCF)
drivers, CryptoAPI drivers, and the modules for the specific
stack (Linux NETKEY/XFM or KLIPS/MAST). Probing for OCF
supported hardware is not supported &minus; those modules
must be loaded by the system before the start of the
Libreswan sub system.</p>

<p style="margin-left:11%; margin-top: 1em">When the
&minus;&minus;netkey option is given to the start command,
the netkey stack is loaded regardless of the existence or
contents of the ipsec.conf file. This is used for docker
tests where the host system, which might not have libreswan
installed, needs to run _stackmanager from the source tree
to load the modules on the host so the modules are available
inside the containers.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>ip</b>(8),
<b>ipsec_tncfg</b>(8), <b>ipsec.conf</b>(5),
<b>ipsec_addconn</b>(8), <b>pluto</b>(8)</p>

<h2>HISTORY
<a name="HISTORY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This script was
introduced in Libreswan. On the older Openswan systems, this
functionality was split over various script files such as
ipsec _startnetkey, ipsec _startklips, ipsec _realsetup and
ipsec setup. Man page written for the Libreswan project
&lt;<b><font color="#0000FF">http://www.libreswan.org/</font></b><font color="#000000">&gt;
by Paul Wouters.</font></p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>Paul
Wouters</b></font></p>


<p style="margin-left:17%;"><font color="#000000">placeholder
to suppress warning</font></p>
<hr>
</body>
</html>
