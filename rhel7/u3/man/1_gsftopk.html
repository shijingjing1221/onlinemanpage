<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 21:39:21 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>GSFTOPK</title>

</head>
<body>

<h1 align="center">GSFTOPK</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#ARGUMENTS">ARGUMENTS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#ENVIRONMENT VARIABLES">ENVIRONMENT VARIABLES</a><br>
<a href="#CONFIGURATION">CONFIGURATION</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#MODIFICATIONS">MODIFICATIONS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">gsftopk &minus;
render a ghostscript font in TeX pk form</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>gsftopk</b>
[&minus;i <i>path</i>] [&minus;q] [&minus;t]
[&minus;&minus;debug=<i>n</i>] [&minus;&minus;dosnames]
[&minus;&minus;interpreter=<i>path</i>]
[&minus;&minus;mapline=<i>line</i>]
[&minus;&minus;mapfile=<i>file</i>] [&minus;&minus;quiet]
[&minus;&minus;test] [&minus;&minus;help]
[&minus;&minus;version] <i>font dpi</i></p>

<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p style="margin-top: 1em"><i>font</i></p></td>
<td width="3%"></td>
<td width="80%">


<p style="margin-top: 1em">Name of the font to be
created.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><i>dpi</i></p></td>
<td width="3%"></td>
<td width="80%">


<p>Desired resolution of the font to be created, in dots
per inch. This may be a real number.</p></td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>gsftopk</b>
is a program which calls up the ghostscript program
<b>gs</b>(1) to render a given font at a given resolution.
It packs the resulting characters into the <b>pk</b> file
format and writes them to a file whose name is formed from
the font name and the resolution (rounded to the nearest
integer). The font may be in any format acceptable to
Ghostscript, including .<i>pfa</i>, .<i>pfb</i>,
.<i>gsf</i>, and .<i>ttf</i> files.</p>

<p style="margin-left:11%; margin-top: 1em">This program
should normally be called by a script, such as
<b>mktexpk</b>, to create fonts on demand.</p>

<p style="margin-left:11%; margin-top: 1em"><b>gsftopk</b>
obtains the character widths from the .<i>tfm</i> file,
which must exist in the standard search path. It also must
be able to find the font in a map file (such as
<b>psfonts.map</b>), formatted as in <b>dvips</b>(1)),
unless the <b>&minus;&minus;mapline</b> option is used. The
set of map files is given by the
<b>&minus;&minus;mapfile</b> option, or in the files
<b>config.ps</b>, <b>$HOME/.dvipsrc</b>, and
<b>config.gsftopk</b> (as would be used by <b>dvips
-Pgsftopk</b>).</p>

<p style="margin-left:11%; margin-top: 1em">The following
<b>pk</b> &quot;specials&quot; are added at the end of the
output file, to provide an internal check on the contents of
the file: &quot;<b>jobname=</b><i>font</i>&quot;,
&quot;<b>mag=1</b>&quot;, &quot;<b>mode=modeless</b>&quot;,
and &quot;<b>pixels_per_inch=</b><i>dpi</i>&quot;. This is
in accordance with the TeX Directory Standard (TDS).</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;debug=</b><i>n</i></p>

<p style="margin-left:22%;">Set the <b>Kpathsea</b> debug
flags according to the integer <i>n</i>.</p>


<p style="margin-left:11%;"><b>&minus;&minus;dosnames</b></p>

<p style="margin-left:22%;">Use a name of the form
<i>font</i><b>.pk</b> instead of
<i>font</i><b>.</b><i>dpi</i><b>pk</b>.</p>

<p style="margin-left:11%;"><b>&minus;h</b>,
<b>&minus;&minus;help</b></p>

<p style="margin-left:22%;">Print a brief help synopsis and
exit.</p>

<p style="margin-left:11%;"><b>&minus;i</b> <i>path</i>,
<b>&minus;&minus;interpreter=</b><i>path</i></p>

<p style="margin-left:22%;">Use <i>path</i> as the
Ghostscript interpreter.</p>


<p style="margin-left:11%;"><b>&minus;&minus;mapfile=</b><i>file</i></p>

<p style="margin-left:22%;">Use <i>file</i> to look for the
map information for <i>font</i>. This should be the full
name of the file (in other words, no path searching
algorithms are applied).</p>


<p style="margin-left:11%;"><b>&minus;&minus;mapline=</b><i>line</i></p>

<p style="margin-left:22%;">Use <i>line</i> instead of
looking for an entry in a map file. The first word of
<i>line</i> must match <i>font</i>.</p>

<p style="margin-left:11%;"><b>&minus;q</b>,
<b>&minus;&minus;quiet</b></p>

<p style="margin-left:22%;">Operate quietly; i.e., without
writing any messages to the standard output.</p>

<p style="margin-left:11%;"><b>&minus;t</b>,
<b>&minus;&minus;test</b></p>

<p style="margin-left:22%;">Test run: return zero status if
the font can be found in the map file(s), and nonzero status
if it cannot. If this option is specified, then the
<i>dpi</i> argument is optional (since the font will not be
generated).</p>

<p style="margin-left:11%;"><b>&minus;v</b>,
<b>&minus;&minus;version</b></p>

<p style="margin-left:22%;">Print the version number and
exit.</p>

<h2>ENVIRONMENT VARIABLES
<a name="ENVIRONMENT VARIABLES"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="21%">


<p style="margin-top: 1em"><b>DVIPSRC</b></p></td>
<td width="3%"></td>
<td width="65%">


<p style="margin-top: 1em">Name of file to read instead of
<b>$HOME/.dvipsrc</b>. This should be the full name of the
file (in other words, no path searching algorithms are
applied).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="21%">


<p><b>GSFTOPKFONTS</b></p></td>
<td width="3%"></td>
<td width="65%">


<p>See <b><small>TFMFONTS.</small></b></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="21%">


<p><b>GSFTOPKHEADERS</b></p></td>
<td width="3%"></td>
<td width="65%">


<p>See <b><small>TEXPSHEADERS.</small></b></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="21%">


<p><b>PSHEADERS</b></p></td>
<td width="3%"></td>
<td width="65%">


<p>See <b><small>TEXPSHEADERS.</small></b></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="21%">


<p><b>TEXCONFIG</b></p></td>
<td width="3%"></td>
<td width="65%">


<p>Colon-separated list of paths to search for map files.
An extra colon in the list will include the compiled-in
default paths at that point. A double slash will enable
recursive subdirectory searching at that point in the
path.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="21%">


<p><b>TFMFONTS</b></p></td>
<td width="3%"></td>
<td width="65%">


<p>Colon-separated list of paths to search for the
.<i>tfm</i> file associated with the font. Double slashes
and extra colons behave as with
<b><small>TEXCONFIG.</small></b> This information may also
be supplied by using the environment variables
<b><small>TFMFONTS</small></b> or
<b><small>GSFTOPKFONTS.</small></b> These environment
variables are checked in the order <b><small>GSFTOPKFONTS,
TFMFONTS, TFMFONTS;</small></b> the first one (if any)
having a value is used.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="21%">


<p><b>TEXPSHEADERS</b></p></td>
<td width="3%"></td>
<td width="65%">


<p>Colon-separated list of paths to search for the
Ghostscript driver file <b>render.ps</b> and for any
PostScript header or font files (.<i>enc</i>, .<i>pfa</i>,
.<i>pfb</i>, .<i>gsf</i>, or .<i>ttf</i> files). Double
slashes and extra colons behave as with
<b><small>TEXCONFIG.</small></b> This information may also
be supplied by using the environment variables
<b><small>PSHEADERS</small></b> or
<b><small>GSFTOPKHEADERS.</small></b> These environment
variables are checked in the order <b><small>GSFTOPKHEADERS,
TEXPSHEADERS, PSHEADERS;</small></b> the first one (if any)
having a value is used.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="21%">


<p><b>TFMFONTS</b></p></td>
<td width="3%"></td>
<td width="65%">


<p>See <b><small>TFMFONTS.</small></b></p></td></tr>
</table>

<h2>CONFIGURATION
<a name="CONFIGURATION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">In order to
determine the set of map files to be used and the path for
finding PostScript files, <b>gsftopk</b> reads, in order,
the files <b>config.ps</b>, <b>.dvipsrc</b>, and
<b>config.gsftopk</b>. The files <b>config.ps</b> and
<b>config.gsftopk</b> are searched for using the environment
variable <b><small>TEXCONFIG,</small></b> the
<b>Kpathsea</b> configuration file, or the compiled-in
default paths. The file <b>.dvipsrc</b> is searched for in
the user&rsquo;s home directory.</p>

<p style="margin-left:11%; margin-top: 1em">These files are
in the same format as for <b>dvips</b> (as well as being in
the same locations). The entries used by <b>gsftopk</b> are
as follows.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em">H <i>path</i></p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">Indicates that the Ghostscript
driver file <b>render.ps</b> and the PostScript header and
font files are to be searched for using <i>path</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p>p <i>file</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>Indicates that the list of map files is to be erased and
replaced by <i>file</i>.</p></td></tr>
</table>

<p style="margin-left:11%;">p +<i>file</i></p>

<p style="margin-left:22%;">Indicates that <i>file</i> is
to be added to the list of map files.</p>

<p style="margin-left:11%; margin-top: 1em">All other
entries are ignored.</p>

<p style="margin-left:11%; margin-top: 1em">This is similar
to the handling of these options when running <b>dvips
-Pgsftopk</b>. For more details, see the <b>Kpathsea</b>
manual.</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>gsftopk</b>
sometimes has trouble with fonts with very complicated
characters (such as the Seal of the University of
California). This is because <b>gsftopk</b> uses the
<b>charpath</b> operator to determine the bounding box of
each character. If the character is too complicated, then
old versions of Ghostscript fail, causing <b>gsftopk</b> to
terminate with an error message</p>

<p style="margin-left:22%; margin-top: 1em"><b>Call to gs
stopped by signal 10</b></p>

<p style="margin-left:11%; margin-top: 1em">(The number may
vary from system to system; it corresponds to a bus error or
a segmentation fault.) The best way to fix this bug is to
install a current version of ghostscript. As an alternative,
<b>gsftopk</b> can be instructed to use the bounding box
provided with the font (if one exists) instead of finding a
bounding box for each character. To do this, include the
string</p>


<p style="margin-left:22%; margin-top: 1em"><b>/usefontbbox
true def</b></p>

<p style="margin-left:11%; margin-top: 1em">in the font map
file; <i>e.g.</i>,</p>

<p style="margin-left:22%; margin-top: 1em"><b>ucseal
&quot;/usefontbbox true def&quot;</b></p>

<p style="margin-left:11%; margin-top: 1em">This will not
affect use of the font by <b>dvips</b>.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>gs</b>(1),
<b>gftopk</b>(1), <b>tex</b>(1), <b>xdvi</b>(1),
<b>dvips</b>(1)</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Written by Paul
Vojta. This program was inspired by Karl Berry&rsquo;s
<b>gsrenderfont</b>.</p>

<h2>MODIFICATIONS
<a name="MODIFICATIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Modified by
Yves Arrouye to use Karl Berry&rsquo;s <b>Kpathsea</b>
library.</p>
<hr>
</body>
</html>
