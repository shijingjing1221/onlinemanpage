<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 21:09:03 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>DateTime</title>

</head>
<body>

<h1 align="center">DateTime</h1>

<a href="#NAME">NAME</a><br>
<a href="#VERSION">VERSION</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#USAGE">USAGE</a><br>
<a href="#METHODS">METHODS</a><br>
<a href="#THE DATETIME PROJECT ECOSYSTEM">THE DATETIME PROJECT ECOSYSTEM</a><br>
<a href="#KNOWN BUGS">KNOWN BUGS</a><br>
<a href="#SUPPORT">SUPPORT</a><br>
<a href="#DONATIONS">DONATIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#COPYRIGHT AND LICENSE">COPYRIGHT AND LICENSE</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">DateTime
&minus; A date and time object</p>

<h2>VERSION
<a name="VERSION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">version
1.04</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<pre style="margin-left:11%; margin-top: 1em">  use DateTime;
  $dt = DateTime&minus;&gt;new(
      year       =&gt; 1964,
      month      =&gt; 10,
      day        =&gt; 16,
      hour       =&gt; 16,
      minute     =&gt; 12,
      second     =&gt; 47,
      nanosecond =&gt; 500000000,
      time_zone  =&gt; 'Asia/Taipei',
  );
  $dt = DateTime&minus;&gt;from_epoch( epoch =&gt; $epoch );
  $dt = DateTime&minus;&gt;now; # same as ( epoch =&gt; time() )
  $year   = $dt&minus;&gt;year;
  $month  = $dt&minus;&gt;month;          # 1&minus;12
  $day    = $dt&minus;&gt;day;            # 1&minus;31
  $dow    = $dt&minus;&gt;day_of_week;    # 1&minus;7 (Monday is 1)
  $hour   = $dt&minus;&gt;hour;           # 0&minus;23
  $minute = $dt&minus;&gt;minute;         # 0&minus;59
  $second = $dt&minus;&gt;second;         # 0&minus;61 (leap seconds!)
  $doy    = $dt&minus;&gt;day_of_year;    # 1&minus;366 (leap years)
  $doq    = $dt&minus;&gt;day_of_quarter; # 1..
  $qtr    = $dt&minus;&gt;quarter;        # 1&minus;4
  # all of the start&minus;at&minus;1 methods above have corresponding start&minus;at&minus;0
  # methods, such as $dt&minus;&gt;day_of_month_0, $dt&minus;&gt;month_0 and so on
  $ymd    = $dt&minus;&gt;ymd;           # 2002&minus;12&minus;06
  $ymd    = $dt&minus;&gt;ymd('/');      # 2002/12/06
  $mdy    = $dt&minus;&gt;mdy;           # 12&minus;06&minus;2002
  $mdy    = $dt&minus;&gt;mdy('/');      # 12/06/2002
  $dmy    = $dt&minus;&gt;dmy;           # 06&minus;12&minus;2002
  $dmy    = $dt&minus;&gt;dmy('/');      # 06/12/2002
  $hms    = $dt&minus;&gt;hms;           # 14:02:29
  $hms    = $dt&minus;&gt;hms('!');      # 14!02!29
  $is_leap  = $dt&minus;&gt;is_leap_year;
  # these are localizable, see Locales section
  $month_name  = $dt&minus;&gt;month_name; # January, February, ...
  $month_abbr  = $dt&minus;&gt;month_abbr; # Jan, Feb, ...
  $day_name    = $dt&minus;&gt;day_name;   # Monday, Tuesday, ...
  $day_abbr    = $dt&minus;&gt;day_abbr;   # Mon, Tue, ...
  # May not work for all possible datetime, see the docs on this
  # method for more details.
  $epoch_time  = $dt&minus;&gt;epoch;
  $dt2 = $dt + $duration_object;
  $dt3 = $dt &minus; $duration_object;
  $duration_object = $dt &minus; $dt2;
  $dt&minus;&gt;set( year =&gt; 1882 );
  $dt&minus;&gt;set_time_zone( 'America/Chicago' );
  $dt&minus;&gt;set_formatter( $formatter );</pre>


<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">DateTime is a
class for the representation of date/time combinations, and
is part of the Perl DateTime project. For details on this
project please see &lt;http://datetime.perl.org/&gt;. The
DateTime site has a <small>FAQ</small> which may help answer
many &quot;how do I do X?&quot; questions. The
<small>FAQ</small> is at
&lt;http://datetime.perl.org/wiki/datetime/page/FAQ&gt;.</p>

<p style="margin-left:11%; margin-top: 1em">It represents
the Gregorian calendar, extended backwards in time before
its creation (in 1582). This is sometimes known as the
&quot;proleptic Gregorian calendar&quot;. In this calendar,
the first day of the calendar (the epoch), is the first day
of year 1, which corresponds to the date which was
(incorrectly) believed to be the birth of Jesus Christ.</p>

<p style="margin-left:11%; margin-top: 1em">The calendar
represented does have a year 0, and in that way differs from
how dates are often written using &quot;
<small>BCE/CE&quot;</small> or &quot;
<small>BC/AD&quot;.</small></p>

<p style="margin-left:11%; margin-top: 1em">For infinite
datetimes, please see the DateTime::Infinite module.</p>

<h2>USAGE
<a name="USAGE"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>0&minus;based
Versus 1&minus;based Numbers</b> <br>
The DateTime.pm module follows a simple consistent logic for
determining whether or not a given number is 0&minus;based
or 1&minus;based.</p>

<p style="margin-left:11%; margin-top: 1em">Month, day of
month, day of week, and day of year are 1&minus;based. Any
method that is 1&minus;based also has an equivalent
0&minus;based method ending in &quot;_0&quot;. So for
example, this class provides both
<tt>&quot;day_of_week()&quot;</tt> and
<tt>&quot;day_of_week_0()&quot;</tt> methods.</p>

<p style="margin-left:11%; margin-top: 1em">The
<tt>&quot;day_of_week_0()&quot;</tt> method still treats
Monday as the first day of the week.</p>

<p style="margin-left:11%; margin-top: 1em">All
<i>time</i>&minus;related numbers such as hour, minute, and
second are 0&minus;based.</p>

<p style="margin-left:11%; margin-top: 1em">Years are
neither, as they can be both positive or negative, unlike
any other datetime component. There <i>is</i> a year 0.</p>

<p style="margin-left:11%; margin-top: 1em">There is no
<tt>&quot;quarter_0()&quot;</tt> method.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Error
Handling</b> <br>
Some errors may cause this module to die with an error
string. This can only happen when calling constructor
methods, methods that change the object, such as
<tt>&quot;set()&quot;</tt>, or methods that take parameters.
Methods that retrieve information about the object, such as
<tt>&quot;year()&quot;</tt> or <tt>&quot;epoch()&quot;</tt>,
will never die.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Locales</b>
<br>
All the object methods which return names or abbreviations
return data based on a locale. This is done by setting the
locale when constructing a DateTime object. There is also a
<tt>&quot;DefaultLocale()&quot;</tt> class method which may
be used to set the default locale for all DateTime objects
created. If this is not set, then &quot;en_US&quot; is
used.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Floating
DateTimes</b> <br>
The default time zone for new DateTime objects, except where
stated otherwise, is the &quot;floating&quot; time zone.
This concept comes from the iCal standard. A floating
datetime is one which is not anchored to any particular time
zone. In addition, floating datetimes do not include leap
seconds, since we cannot apply them without knowing the
datetime&rsquo;s time zone.</p>

<p style="margin-left:11%; margin-top: 1em">The results of
date math and comparison between a floating datetime and one
with a real time zone are not really valid, because one
includes leap seconds and the other does not. Similarly, the
results of datetime math between two floating datetimes and
two datetimes with time zones are not really comparable.</p>

<p style="margin-left:11%; margin-top: 1em">If you are
planning to use any objects with a real time zone, it is
strongly recommended that you <b>do not</b> mix these with
floating datetimes.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Math</b>
<br>
If you are going to be using doing date math, please read
the section &quot;How DateTime Math Works&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Time Zone
Warnings</b> <br>
Determining the local time zone for a system can be slow. If
<tt>$ENV{TZ}</tt> is not set, it may involve reading a
number of files in <i>/etc</i> or elsewhere. If you know
that the local time zone won&rsquo;t change while your code
is running, and you need to make many objects for the local
time zone, it is strongly recommended that you retrieve the
local time zone once and cache it:</p>

<pre style="margin-left:11%; margin-top: 1em">  our $App::LocalTZ = DateTime::TimeZone&minus;&gt;new( name =&gt; 'local' );
  ... # then everywhere else
  my $dt = DateTime&minus;&gt;new( ..., time_zone =&gt; $App::LocalTZ );</pre>


<p style="margin-left:11%; margin-top: 1em">DateTime itself
does not do this internally because local time zones can
change, and there&rsquo;s no good way to determine if
it&rsquo;s changed without doing all the work to look it
up.</p>

<p style="margin-left:11%; margin-top: 1em">Do not try to
use named time zones (like &quot;America/Chicago&quot;) with
dates very far in the future (thousands of years). The
current implementation of
<tt>&quot;DateTime::TimeZone&quot;</tt> will use a huge
amount of memory calculating all the <small>DST</small>
changes from now until the future date. Use
<small>UTC</small> or the floating time zone and you will be
safe.</p>

<h2>METHODS
<a name="METHODS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">DateTime
provide many methods. The documentation breaks them down
into groups based on what they do (constructor, accessors,
modifiers, etc.).</p>


<p style="margin-left:11%; margin-top: 1em"><b>Constructors</b>
<br>
All constructors can die when invalid parameters are
given.</p>


<p style="margin-left:11%; margin-top: 1em"><i>DateTime&minus;&gt;new(
... )</i></p>

<p style="margin-left:11%; margin-top: 1em">This class
method accepts parameters for each date and time component:
&quot;year&quot;, &quot;month&quot;, &quot;day&quot;,
&quot;hour&quot;, &quot;minute&quot;, &quot;second&quot;,
&quot;nanosecond&quot;. It also accepts &quot;locale&quot;,
&quot;time_zone&quot;, and &quot;formatter&quot;
parameters.</p>

<pre style="margin-left:11%; margin-top: 1em">  my $dt = DateTime&minus;&gt;new(
      year       =&gt; 1966,
      month      =&gt; 10,
      day        =&gt; 25,
      hour       =&gt; 7,
      minute     =&gt; 15,
      second     =&gt; 47,
      nanosecond =&gt; 500000000,
      time_zone  =&gt; 'America/Chicago',
  );</pre>


<p style="margin-left:11%; margin-top: 1em">DateTime
validates the &quot;month&quot;, &quot;day&quot;,
&quot;hour&quot;, &quot;minute&quot;, and
&quot;second&quot;, and &quot;nanosecond&quot; parameters.
The valid values for these parameters are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="8%">


<p>month</p></td>
<td width="69%">
</td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">An integer from
1&minus;12.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="11%"></td>
<td width="5%">


<p style="margin-top: 1em">day</p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">An integer from
1&minus;31, and it must be within the valid range of days
for the specified month.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="11%"></td>
<td width="6%">


<p style="margin-top: 1em">hour</p></td>
<td width="71%">
</td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">An integer from
0&minus;23.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em">minute</p></td>
<td width="68%">
</td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">An integer from
0&minus;59.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em">second</p></td>
<td width="68%">
</td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">An integer from
0&minus;61 (to allow for leap seconds). Values of 60 or 61
are only allowed when they match actual leap seconds.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="11%"></td>
<td width="15%">


<p style="margin-top: 1em">nanosecond</p></td>
<td width="62%">
</td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">An integer
&gt;= 0. If this number is greater than 1 billion, it will
be normalized into the second value for the DateTime
object.</p>

<p style="margin-left:11%; margin-top: 1em">Invalid
parameter types (like an array reference) will cause the
constructor to die.</p>

<p style="margin-left:11%; margin-top: 1em">The value for
seconds may be from 0 to 61, to account for leap seconds. If
you give a value greater than 59, DateTime does check to see
that it really matches a valid leap second.</p>

<p style="margin-left:11%; margin-top: 1em">All of the
parameters are optional except for &quot;year&quot;. The
&quot;month&quot; and &quot;day&quot; parameters both
default to 1, while the &quot;hour&quot;,
&quot;minute&quot;, &quot;second&quot;, and
&quot;nanosecond&quot; parameters all default to 0.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;locale&quot; parameter should be a string matching one
of the valid locales, or a
<tt>&quot;DateTime::Locale&quot;</tt> object. See the
DateTime::Locale documentation for details.</p>

<p style="margin-left:11%; margin-top: 1em">The time_zone
parameter can be either a scalar or a
<tt>&quot;DateTime::TimeZone&quot;</tt> object. A string
will simply be passed to the
<tt>&quot;DateTime::TimeZone&minus;&gt;new&quot;</tt> method
as its &quot;name&quot; parameter. This string may be an
Olson <small>DB</small> time zone name
(&quot;America/Chicago&quot;), an offset string
(&quot;+0630&quot;), or the words &quot;floating&quot; or
&quot;local&quot;. See the
<tt>&quot;DateTime::TimeZone&quot;</tt> documentation for
more details.</p>

<p style="margin-left:11%; margin-top: 1em">The default
time zone is &quot;floating&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;formatter&quot; can be either a scalar or an object,
but the class specified by the scalar or the object must
implement a <tt>&quot;format_datetime()&quot;</tt>
method.</p>

<p style="margin-left:11%; margin-top: 1em">Parsing
Dates</p>

<p style="margin-left:11%; margin-top: 1em"><b>This module
does not parse dates!</b> That means there is no constructor
to which you can pass things like &quot;March 3, 1970
12:34&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Instead, take a
look at the various <tt>&quot;DateTime::Format::*&quot;</tt>
modules on <small>CPAN.</small> These parse all sorts of
different date formats, and you&rsquo;re bound to find
something that can handle your particular needs.</p>

<p style="margin-left:11%; margin-top: 1em">Ambiguous Local
Times</p>

<p style="margin-left:11%; margin-top: 1em">Because of
Daylight Saving Time, it is possible to specify a local time
that is ambiguous. For example, in the <small>US</small> in
2003, the transition from to saving to standard time
occurred on October 26, at 02:00:00 local time. The local
clock changed from 01:59:59 (saving time) to 01:00:00
(standard time). This means that the hour from 01:00:00
through 01:59:59 actually occurs twice, though the
<small>UTC</small> time continues to move forward.</p>

<p style="margin-left:11%; margin-top: 1em">If you specify
an ambiguous time, then the latest <small>UTC</small> time
is always used, in effect always choosing standard time. In
this case, you can simply subtract an hour to the object in
order to move to saving time, for example:</p>

<pre style="margin-left:11%; margin-top: 1em">  # This object represent 01:30:00 standard time
  my $dt = DateTime&minus;&gt;new(
      year      =&gt; 2003,
      month     =&gt; 10,
      day       =&gt; 26,
      hour      =&gt; 1,
      minute    =&gt; 30,
      second    =&gt; 0,
      time_zone =&gt; 'America/Chicago',
  );
  print $dt&minus;&gt;hms;  # prints 01:30:00
  # Now the object represent 01:30:00 saving time
  $dt&minus;&gt;subtract( hours =&gt; 1 );
  print $dt&minus;&gt;hms;  # still prints 01:30:00</pre>


<p style="margin-left:11%; margin-top: 1em">Alternately,
you could create the object with the <small>UTC</small> time
zone, and then call the <tt>&quot;set_time_zone()&quot;</tt>
method to change the time zone. This is a good way to ensure
that the time is not ambiguous.</p>

<p style="margin-left:11%; margin-top: 1em">Invalid Local
Times</p>

<p style="margin-left:11%; margin-top: 1em">Another problem
introduced by Daylight Saving Time is that certain local
times just do not exist. For example, in the
<small>US</small> in 2003, the transition from standard to
saving time occurred on April 6, at the change to 2:00:00
local time. The local clock changes from 01:59:59 (standard
time) to 03:00:00 (saving time). This means that there is no
02:00:00 through 02:59:59 on April 6!</p>

<p style="margin-left:11%; margin-top: 1em">Attempting to
create an invalid time currently causes a fatal error. This
may change in future version of this module.</p>


<p style="margin-left:11%; margin-top: 1em"><i>DateTime&minus;&gt;from_epoch(
epoch =&gt; $epoch, ... )</i></p>

<p style="margin-left:11%; margin-top: 1em">This class
method can be used to construct a new DateTime object from
an epoch time instead of components. Just as with the
<tt>&quot;new()&quot;</tt> method, it accepts
&quot;time_zone&quot;, &quot;locale&quot;, and
&quot;formatter&quot; parameters.</p>

<p style="margin-left:11%; margin-top: 1em">If the epoch
value is not an integer, the part after the decimal will be
converted to nanoseconds. This is done in order to be
compatible with <tt>&quot;Time::HiRes&quot;</tt>. If the
floating portion extends past 9 decimal places, it will be
truncated to nine, so that 1.1234567891 will become 1 second
and 123,456,789 nanoseconds.</p>

<p style="margin-left:11%; margin-top: 1em">By default, the
returned object will be in the <small>UTC</small> time
zone.</p>


<p style="margin-left:11%; margin-top: 1em"><i>DateTime&minus;&gt;now(
... )</i></p>

<p style="margin-left:11%; margin-top: 1em">This class
method is equivalent to calling
<tt>&quot;from_epoch()&quot;</tt> with the value returned
from Perl&rsquo;s <tt>&quot;time()&quot;</tt> function. Just
as with the <tt>&quot;new()&quot;</tt> method, it accepts
&quot;time_zone&quot; and &quot;locale&quot; parameters.</p>

<p style="margin-left:11%; margin-top: 1em">By default, the
returned object will be in the <small>UTC</small> time
zone.</p>


<p style="margin-left:11%; margin-top: 1em"><i>DateTime&minus;&gt;today(
... )</i></p>

<p style="margin-left:11%; margin-top: 1em">This class
method is equivalent to:</p>

<pre style="margin-left:11%; margin-top: 1em">  DateTime&minus;&gt;now(@_)&minus;&gt;truncate( to =&gt; 'day' );</pre>



<p style="margin-left:11%; margin-top: 1em"><i>DateTime&minus;&gt;from_object(
object =&gt; $object, ... )</i></p>

<p style="margin-left:11%; margin-top: 1em">This class
method can be used to construct a new DateTime object from
any object that implements the
<tt>&quot;utc_rd_values()&quot;</tt> method. All
<tt>&quot;DateTime::Calendar&quot;</tt> modules must
implement this method in order to provide cross-calendar
compatibility. This method accepts a &quot;locale&quot; and
&quot;formatter&quot; parameter</p>

<p style="margin-left:11%; margin-top: 1em">If the object
passed to this method has a <tt>&quot;time_zone()&quot;</tt>
method, that is used to set the time zone of the newly
created <tt>&quot;DateTime.pm&quot;</tt> object.</p>

<p style="margin-left:11%; margin-top: 1em">Otherwise, the
returned object will be in the floating time zone.</p>


<p style="margin-left:11%; margin-top: 1em"><i>DateTime&minus;&gt;last_day_of_month(
... )</i></p>

<p style="margin-left:11%; margin-top: 1em">This
constructor takes the same arguments as can be given to the
<tt>&quot;new()&quot;</tt> method, except for
&quot;day&quot;. Additionally, both &quot;year&quot; and
&quot;month&quot; are required.</p>


<p style="margin-left:11%; margin-top: 1em"><i>DateTime&minus;&gt;from_day_of_year(
... )</i></p>

<p style="margin-left:11%; margin-top: 1em">This
constructor takes the same arguments as can be given to the
<tt>&quot;new()&quot;</tt> method, except that it does not
accept a &quot;month&quot; or &quot;day&quot; argument.
Instead, it requires both &quot;year&quot; and
&quot;day_of_year&quot;. The day of year must be between 1
and 366, and 366 is only allowed for leap years.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;clone()</i></p>

<p style="margin-left:11%; margin-top: 1em">This object
method returns a new object that is replica of the object
upon which the method is called.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&quot;Get&quot;
Methods</b> <br>
This class has many methods for retrieving information about
an object.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;year()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
year.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;ce_year()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
year according to the <small>BCE/CE</small> numbering
system. The year before year 1 in this system is year
&minus;1, aka &quot;1 <small>BCE&quot;.</small></p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;era_name()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
long name of the current era, something like &quot;Before
Christ&quot;. See the Locales section for more details.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;era_abbr()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
abbreviated name of the current era, something like &quot;
<small>BC&quot;.</small> See the Locales section for more
details.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;christian_era()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns a
string, either &quot; <small>BC&quot;</small> or &quot;
<small>AD&quot;,</small> according to the year.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;secular_era()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns a
string, either &quot; <small>BCE&quot;</small> or &quot;
<small>CE&quot;,</small> according to the year.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;year_with_era()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns a
string containing the year immediately followed by its era
abbreviation. The year is the absolute value of
<tt>&quot;ce_year()&quot;</tt>, so that year 1 is
&quot;1AD&quot; and year 0 is &quot;1BC&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;year_with_christian_era()</i></p>

<p style="margin-left:11%; margin-top: 1em">Like
<tt>&quot;year_with_era()&quot;</tt>, but uses the
<i>christian_era()</i> method to get the era name.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;year_with_secular_era()</i></p>

<p style="margin-left:11%; margin-top: 1em">Like
<tt>&quot;year_with_era()&quot;</tt>, but uses the
<i>secular_era()</i> method to get the era name.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;month()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
month of the year, from 1..12.</p>

<p style="margin-left:11%; margin-top: 1em">Also available
as <tt>&quot;$dt&minus;&gt;mon()&quot;</tt>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;month_name()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
name of the current month. See the Locales section for more
details.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;month_abbr()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
abbreviated name of the current month. See the Locales
section for more details.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;day()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the day
of the month, from 1..31.</p>

<p style="margin-left:11%; margin-top: 1em">Also available
as <tt>&quot;$dt&minus;&gt;mday()&quot;</tt> and
<tt>&quot;$dt&minus;&gt;day_of_month()&quot;</tt>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;day_of_week()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the day
of the week as a number, from 1..7, with 1 being Monday and
7 being Sunday.</p>

<p style="margin-left:11%; margin-top: 1em">Also available
as <tt>&quot;$dt&minus;&gt;wday()&quot;</tt> and
<tt>&quot;$dt&minus;&gt;dow()&quot;</tt>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;local_day_of_week()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the day
of the week as a number, from 1..7. The day corresponding to
1 will vary based on the locale.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;day_name()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
name of the current day of the week. See the Locales section
for more details.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;day_abbr()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
abbreviated name of the current day of the week. See the
Locales section for more details.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;day_of_year()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the day
of the year.</p>

<p style="margin-left:11%; margin-top: 1em">Also available
as <tt>&quot;$dt&minus;&gt;doy()&quot;</tt>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;quarter()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
quarter of the year, from 1..4.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;quarter_name()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
name of the current quarter. See the Locales section for
more details.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;quarter_abbr()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
abbreviated name of the current quarter. See the Locales
section for more details.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;day_of_quarter()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the day
of the quarter.</p>

<p style="margin-left:11%; margin-top: 1em">Also available
as <tt>&quot;$dt&minus;&gt;doq()&quot;</tt>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;weekday_of_month()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns a
number from 1..5 indicating which week day of the month this
is. For example, June 9, 2003 is the second Monday of the
month, and so this method returns 2 for that day.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;ymd(
$optional_separator ), $dt&minus;&gt;mdy(...),
$dt&minus;&gt;dmy(...)</i></p>

<p style="margin-left:11%; margin-top: 1em">Each method
returns the year, month, and day, in the order indicated by
the method name. Years are zero-padded to four digits.
Months and days are 0&minus;padded to two digits.</p>

<p style="margin-left:11%; margin-top: 1em">By default, the
values are separated by a dash (&minus;), but this can be
overridden by passing a value to the method.</p>

<p style="margin-left:11%; margin-top: 1em">The
<tt>&quot;$dt&minus;&gt;ymd()&quot;</tt> method is also
available as <tt>&quot;$dt&minus;&gt;date()&quot;</tt>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;hour()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
hour of the day, from 0..23.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;hour_1()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
hour of the day, from 1..24.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;hour_12()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
hour of the day, from 1..12.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;hour_12_0()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
hour of the day, from 0..11.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;am_or_pm()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
appropriate localized abbreviation, depending on the current
hour.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;minute()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
minute of the hour, from 0..59.</p>

<p style="margin-left:11%; margin-top: 1em">Also available
as <tt>&quot;$dt&minus;&gt;min()&quot;</tt>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;second()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
second, from 0..61. The values 60 and 61 are used for leap
seconds.</p>

<p style="margin-left:11%; margin-top: 1em">Also available
as <tt>&quot;$dt&minus;&gt;sec()&quot;</tt>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;fractional_second()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
second, as a real number from 0.0 until 61.999999999</p>

<p style="margin-left:11%; margin-top: 1em">The values 60
and 61 are used for leap seconds.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;millisecond()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
fractional part of the second as milliseconds (1E&minus;3
seconds).</p>

<p style="margin-left:11%; margin-top: 1em">Half a second
is 500 milliseconds.</p>

<p style="margin-left:11%; margin-top: 1em">This value will
always be rounded down to the nearest integer.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;microsecond()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
fractional part of the second as microseconds (1E&minus;6
seconds).</p>

<p style="margin-left:11%; margin-top: 1em">Half a second
is 500_000 microseconds.</p>

<p style="margin-left:11%; margin-top: 1em">This value will
always be rounded down to the nearest integer.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;nanosecond()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
fractional part of the second as nanoseconds (1E&minus;9
seconds).</p>

<p style="margin-left:11%; margin-top: 1em">Half a second
is 500_000_000 nanoseconds.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;hms(
$optional_separator )</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
hour, minute, and second, all zero-padded to two digits. If
no separator is specified, a colon (:) is used by
default.</p>

<p style="margin-left:11%; margin-top: 1em">Also available
as <tt>&quot;$dt&minus;&gt;time()&quot;</tt>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;datetime()</i></p>

<p style="margin-left:11%; margin-top: 1em">This method is
equivalent to:</p>

<pre style="margin-left:11%; margin-top: 1em">  $dt&minus;&gt;ymd('&minus;') . 'T' . $dt&minus;&gt;hms(':')</pre>


<p style="margin-left:11%; margin-top: 1em">Also available
as <tt>&quot;$dt&minus;&gt;iso8601()&quot;</tt>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;is_leap_year()</i></p>

<p style="margin-left:11%; margin-top: 1em">This method
returns a true or false indicating whether or not the
datetime object is in a leap year.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;week()</i></p>


<pre style="margin-left:11%; margin-top: 1em"> ($week_year, $week_number) = $dt&minus;&gt;week;</pre>


<p style="margin-left:11%; margin-top: 1em">Returns
information about the calendar week which contains this
datetime object. The values returned by this method are also
available separately through the week_year and week_number
methods.</p>

<p style="margin-left:11%; margin-top: 1em">The first week
of the year is defined by <small>ISO</small> as the one
which contains the fourth day of January, which is
equivalent to saying that it&rsquo;s the first week to
overlap the new year by at least four days.</p>

<p style="margin-left:11%; margin-top: 1em">Typically the
week year will be the same as the year that the object is
in, but dates at the very beginning of a calendar year often
end up in the last week of the prior year, and similarly,
the final few days of the year may be placed in the first
week of the next year.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;week_year()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
year of the week. See
<tt>&quot;$dt&minus;&gt;week()&quot;</tt> for details.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;week_number()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
week of the year, from 1..53. See
<tt>&quot;$dt&minus;&gt;week()&quot;</tt> for details.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;week_of_month()</i></p>

<p style="margin-left:11%; margin-top: 1em">The week of the
month, from 0..5. The first week of the month is the first
week that contains a Thursday. This is based on the
<small>ICU</small> definition of week of month, and
correlates to the <small>ISO8601</small> week of year
definition. A day in the week <i>before</i> the week with
the first Thursday will be week 0.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;jd(),
$dt&minus;&gt;mjd()</i></p>

<p style="margin-left:11%; margin-top: 1em">These return
the Julian Day and Modified Julian Day, respectively. The
value returned is a floating point number. The fractional
portion of the number represents the time portion of the
datetime.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;time_zone()</i></p>

<p style="margin-left:11%; margin-top: 1em">This returns
the <tt>&quot;DateTime::TimeZone&quot;</tt> object for the
datetime object.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;offset()</i></p>

<p style="margin-left:11%; margin-top: 1em">This returns
the offset from <small>UTC,</small> in seconds, of the
datetime object according to the time zone.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;is_dst()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns a
boolean indicating whether or not the datetime object is
currently in Daylight Saving Time or not.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;time_zone_long_name()</i></p>

<p style="margin-left:11%; margin-top: 1em">This is a
shortcut for
<tt>&quot;$dt&minus;&gt;time_zone&minus;&gt;name&quot;</tt>.
It&rsquo;s provided so that one can use
&quot;%{time_zone_long_name}&quot; as a strftime format
specifier.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;time_zone_short_name()</i></p>

<p style="margin-left:11%; margin-top: 1em">This method
returns the time zone abbreviation for the current time
zone, such as &quot; <small>PST&quot;</small> or &quot;
<small>GMT&quot;.</small> These names are <b>not</b>
definitive, and should not be used in any application
intended for general use by users around the world.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;strftime(
$format, ... )</i></p>

<p style="margin-left:11%; margin-top: 1em">This method
implements functionality similar to the
<tt>&quot;strftime()&quot;</tt> method in C. However, if
given multiple format strings, then it will return multiple
scalars, one for each format string.</p>

<p style="margin-left:11%; margin-top: 1em">See the
&quot;strftime Patterns&quot; section for a list of all
possible strftime patterns.</p>

<p style="margin-left:11%; margin-top: 1em">If you give a
pattern that doesn&rsquo;t exist, then it is simply treated
as text.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;format_cldr(
$format, ... )</i></p>

<p style="margin-left:11%; margin-top: 1em">This method
implements formatting based on the <small>CLDR</small> date
patterns. If given multiple format strings, then it will
return multiple scalars, one for each format string.</p>

<p style="margin-left:11%; margin-top: 1em">See the &quot;
<small>CLDR</small> Patterns&quot; section for a list of all
possible <small>CLDR</small> patterns.</p>

<p style="margin-left:11%; margin-top: 1em">If you give a
pattern that doesn&rsquo;t exist, then it is simply treated
as text.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;epoch()</i></p>

<p style="margin-left:11%; margin-top: 1em">Return the
<small>UTC</small> epoch value for the datetime object.
Internally, this is implemented using
<tt>&quot;Time::Local&quot;</tt>, which uses the Unix epoch
even on machines with a different epoch (such as MacOS).
Datetimes before the start of the epoch will be returned as
a negative number.</p>

<p style="margin-left:11%; margin-top: 1em">The return
value from this method is always an integer.</p>

<p style="margin-left:11%; margin-top: 1em">Since the epoch
does not account for leap seconds, the epoch time for
1972&minus;12&minus;31T23:59:60 ( <small>UTC</small> ) is
exactly the same as that for
1973&minus;01&minus;01T00:00:00.</p>

<p style="margin-left:11%; margin-top: 1em">This module
uses <tt>&quot;Time::Local&quot;</tt> to calculate the
epoch, which may or may not handle epochs before 1904 or
after 2038 (depending on the size of your system&rsquo;s
integers, and whether or not Perl was compiled with
64&minus;bit int support).</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;hires_epoch()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
epoch as a floating point number. The floating point portion
of the value represents the nanosecond value of the object.
This method is provided for compatibility with the
<tt>&quot;Time::HiRes&quot;</tt> module.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;is_finite(),
$dt&minus;&gt;is_infinite()</i></p>

<p style="margin-left:11%; margin-top: 1em">These methods
allow you to distinguish normal datetime objects from
infinite ones. Infinite datetime objects are documented in
DateTime::Infinite.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;utc_rd_values()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
current <small>UTC</small> Rata Die days, seconds, and
nanoseconds as a three element list. This exists primarily
to allow other calendar modules to create objects based on
the values provided by this object.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;local_rd_values()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
current local Rata Die days, seconds, and nanoseconds as a
three element list. This exists for the benefit of other
modules which might want to use this information for date
math, such as
<tt>&quot;DateTime::Event::Recurrence&quot;</tt>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;leap_seconds()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
number of leap seconds that have happened up to the datetime
represented by the object. For floating datetimes, this
always returns 0.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;utc_rd_as_seconds()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
current <small>UTC</small> Rata Die days and seconds purely
as seconds. This number ignores any fractional seconds
stored in the object, as well as leap seconds.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;locale()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
current locale object.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;formatter()</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns current
formatter object or class. See &quot;Formatters And
Stringification&quot; for details.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&quot;Set&quot;
Methods</b> <br>
The remaining methods provided by
<tt>&quot;DateTime.pm&quot;</tt>, except where otherwise
specified, return the object itself, thus making method
chaining possible. For example:</p>

<pre style="margin-left:11%; margin-top: 1em">  my $dt = DateTime&minus;&gt;now&minus;&gt;set_time_zone( 'Australia/Sydney' );
  my $first = DateTime
                &minus;&gt;last_day_of_month( year =&gt; 2003, month =&gt; 3 )
                &minus;&gt;add( days =&gt; 1 )
                &minus;&gt;subtract( seconds =&gt; 1 );</pre>



<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;set(
.. )</i></p>

<p style="margin-left:11%; margin-top: 1em">This method can
be used to change the local components of a date time, or
its locale. This method accepts any parameter allowed by the
<tt>&quot;new()&quot;</tt> method except for
&quot;time_zone&quot;. Time zones may be set using the
<tt>&quot;set_time_zone()&quot;</tt> method.</p>

<p style="margin-left:11%; margin-top: 1em">This method
performs parameters validation just as is done in the
<tt>&quot;new()&quot;</tt> method.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Do not use
this method to do date math. Use the &quot;add()&quot; and
&quot;subtract()&quot; methods instead.</b></p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;set_year(),
$dt&minus;&gt;set_month(), etc.</i></p>

<p style="margin-left:11%; margin-top: 1em">DateTime has a
<tt>&quot;set_*&quot;</tt> method for every item that can be
passed to the constructor:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="32%">



<p style="margin-top: 1em"><tt>$dt</tt>&minus;&gt;<i>set_year()</i></p> </td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="32%">


<p><tt>$dt</tt>&minus;&gt;<i>set_month()</i></p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="32%">


<p><tt>$dt</tt>&minus;&gt;<i>set_day()</i></p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="32%">


<p><tt>$dt</tt>&minus;&gt;<i>set_hour()</i></p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="32%">


<p><tt>$dt</tt>&minus;&gt;<i>set_minute()</i></p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="32%">


<p><tt>$dt</tt>&minus;&gt;<i>set_second()</i></p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="32%">


<p><tt>$dt</tt>&minus;&gt;<i>set_nanosecond()</i></p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="32%">


<p><tt>$dt</tt>&minus;&gt;<i>set_locale()</i></p></td>
<td width="51%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">These are
shortcuts to calling <tt>&quot;set()&quot;</tt> with a
single key. They all take a single parameter.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;truncate(
to =&gt; ... )</i></p>

<p style="margin-left:11%; margin-top: 1em">This method
allows you to reset some of the local time components in the
object to their &quot;zero&quot; values. The &quot;to&quot;
parameter is used to specify which values to truncate, and
it may be one of &quot;year&quot;, &quot;month&quot;,
&quot;week&quot;, &quot;day&quot;, &quot;hour&quot;,
&quot;minute&quot;, or &quot;second&quot;. For example, if
&quot;month&quot; is specified, then the local day becomes
1, and the hour, minute, and second all become 0.</p>

<p style="margin-left:11%; margin-top: 1em">If
&quot;week&quot; is given, then the datetime is set to the
beginning of the week in which it occurs, and the time
components are all set to 0.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;set_time_zone(
$tz )</i></p>

<p style="margin-left:11%; margin-top: 1em">This method
accepts either a time zone object or a string that can be
passed as the &quot;name&quot; parameter to
<tt>&quot;DateTime::TimeZone&minus;&gt;new()&quot;</tt>. If
the new time zone&rsquo;s offset is different from the old
time zone, then the <i>local</i> time is adjusted
accordingly.</p>

<p style="margin-left:11%; margin-top: 1em">For
example:</p>

<pre style="margin-left:11%; margin-top: 1em">  my $dt = DateTime&minus;&gt;new(
      year      =&gt; 2000,
      month     =&gt; 5,
      day       =&gt; 10,
      hour      =&gt; 15,
      minute    =&gt; 15,
      time_zone =&gt; 'America/Los_Angeles',
  );
  print $dt&minus;&gt;hour; # prints 15
  $dt&minus;&gt;set_time_zone( 'America/Chicago' );
  print $dt&minus;&gt;hour; # prints 17</pre>


<p style="margin-left:11%; margin-top: 1em">If the old time
zone was a floating time zone, then no adjustments to the
local time are made, except to account for leap seconds. If
the new time zone is floating, then the
<i><small>UTC</small></i> time is adjusted in order to leave
the local time untouched.</p>

<p style="margin-left:11%; margin-top: 1em">Fans of Tsai
Ming-Liang&rsquo;s films will be happy to know that this
does work:</p>

<pre style="margin-left:11%; margin-top: 1em">  my $dt = DateTime&minus;&gt;now( time_zone =&gt; 'Asia/Taipei' );
  $dt&minus;&gt;set_time_zone( 'Europe/Paris' );</pre>


<p style="margin-left:11%; margin-top: 1em">Yes, now we can
know &quot;ni3 na4 bian1 ji2dian3?&quot;</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;set_formatter(
$formatter )</i></p>

<p style="margin-left:11%; margin-top: 1em">Set the
formatter for the object. See &quot;Formatters And
Stringification&quot; for details.</p>

<p style="margin-left:11%; margin-top: 1em">You can set
this to <tt>&quot;undef&quot;</tt> to revert to the default
formatter.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Math
Methods</b> <br>
Like the set methods, math related methods always return the
object itself, to allow for chaining:</p>

<pre style="margin-left:11%; margin-top: 1em">  $dt&minus;&gt;add( days =&gt; 1 )&minus;&gt;subtract( seconds =&gt; 1 );</pre>



<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;duration_class()</i></p>

<p style="margin-left:11%; margin-top: 1em">This returns
<tt>&quot;DateTime::Duration&quot;</tt>, but exists so that
a subclass of <tt>&quot;DateTime.pm&quot;</tt> can provide a
different value.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;add_duration(
$duration_object )</i></p>

<p style="margin-left:11%; margin-top: 1em">This method
adds a <tt>&quot;DateTime::Duration&quot;</tt> to the
current datetime. See the DateTime::Duration docs for more
details.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;add(
DateTime::Duration&minus;&gt;new parameters )</i></p>

<p style="margin-left:11%; margin-top: 1em">This method is
syntactic sugar around the
<tt>&quot;add_duration()&quot;</tt> method. It simply
creates a new <tt>&quot;DateTime::Duration&quot;</tt> object
using the parameters given, and then calls the
<tt>&quot;add_duration()&quot;</tt> method.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;subtract_duration(
$duration_object )</i></p>

<p style="margin-left:11%; margin-top: 1em">When given a
<tt>&quot;DateTime::Duration&quot;</tt> object, this method
simply calls <tt>&quot;invert()&quot;</tt> on that object
and passes that new duration to the
<tt>&quot;add_duration&quot;</tt> method.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;subtract(
DateTime::Duration&minus;&gt;new parameters )</i></p>

<p style="margin-left:11%; margin-top: 1em">Like
<tt>&quot;add()&quot;</tt>, this is syntactic sugar for the
<tt>&quot;subtract_duration()&quot;</tt> method.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;subtract_datetime(
$datetime )</i></p>

<p style="margin-left:11%; margin-top: 1em">This method
returns a new <tt>&quot;DateTime::Duration&quot;</tt> object
representing the difference between the two dates. The
duration is <b>relative</b> to the object from which
<tt>$datetime</tt> is subtracted. For example:</p>

<pre style="margin-left:11%; margin-top: 1em">    2003&minus;03&minus;15 00:00:00.00000000
 &minus;  2003&minus;02&minus;15 00:00:00.00000000
 &minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;
 = 1 month</pre>


<p style="margin-left:11%; margin-top: 1em">Note that this
duration is not an absolute measure of the amount of time
between the two datetimes, because the length of a month
varies, as well as due to the presence of leap seconds.</p>

<p style="margin-left:11%; margin-top: 1em">The returned
duration may have deltas for months, days, minutes, seconds,
and nanoseconds.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;delta_md(
$datetime )</i></p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;delta_days(
$datetime )</i></p>

<p style="margin-left:11%; margin-top: 1em">Each of these
methods returns a new
<tt>&quot;DateTime::Duration&quot;</tt> object representing
some portion of the difference between two datetimes. The
<tt>&quot;delta_md()&quot;</tt> method returns a duration
which contains only the month and day portions of the
duration is represented. The
<tt>&quot;delta_days()&quot;</tt> method returns a duration
which contains only days.</p>

<p style="margin-left:11%; margin-top: 1em">The
<tt>&quot;delta_md&quot;</tt> and
<tt>&quot;delta_days&quot;</tt> methods truncate the
duration so that any fractional portion of a day is ignored.
Both of these methods operate on the date portion of a
datetime only, and so effectively ignore the time zone.</p>

<p style="margin-left:11%; margin-top: 1em">Unlike the
subtraction methods, <b>these methods always return a
positive (or zero) duration</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;delta_ms(
$datetime )</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns a
duration which contains only minutes and seconds. Any day
and month differences to minutes are converted to minutes
and seconds. This method also <b>always return a positive
(or zero) duration</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$dt&minus;&gt;subtract_datetime_absolute(
$datetime )</i></p>

<p style="margin-left:11%; margin-top: 1em">This method
returns a new <tt>&quot;DateTime::Duration&quot;</tt> object
representing the difference between the two dates in seconds
and nanoseconds. This is the only way to accurately measure
the absolute amount of time between two datetimes, since
units larger than a second do not represent a fixed number
of seconds.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Class
Methods</b> <i><br>
DateTime&minus;&gt;DefaultLocale( $locale )</i></p>

<p style="margin-left:11%; margin-top: 1em">This can be
used to specify the default locale to be used when creating
DateTime objects. If unset, then &quot;en_US&quot; is
used.</p>


<p style="margin-left:11%; margin-top: 1em"><i>DateTime&minus;&gt;compare(
$dt1, $dt2 ), DateTime&minus;&gt;compare_ignore_floating(
$dt1, $dt2 )</i></p>

<pre style="margin-left:11%; margin-top: 1em">  $cmp = DateTime&minus;&gt;compare( $dt1, $dt2 );
  $cmp = DateTime&minus;&gt;compare_ignore_floating( $dt1, $dt2 );</pre>


<p style="margin-left:11%; margin-top: 1em">Compare two
DateTime objects. The semantics are compatible with
Perl&rsquo;s <tt>&quot;sort()&quot;</tt> function; it
returns &minus;1 if <tt>$dt1</tt> &lt; <tt>$dt2</tt>, 0 if
<tt>$dt1</tt> == <tt>$dt2</tt>, 1 if <tt>$dt1</tt> &gt;
<tt>$dt2</tt>.</p>

<p style="margin-left:11%; margin-top: 1em">If one of the
two DateTime objects has a floating time zone, it will first
be converted to the time zone of the other object. This is
what you want most of the time, but it can lead to
inconsistent results when you compare a number of DateTime
objects, some of which are floating, and some of which are
in other time zones.</p>

<p style="margin-left:11%; margin-top: 1em">If you want to
have consistent results (because you want to sort a number
of objects, for example), you can use the
<tt>&quot;compare_ignore_floating()&quot;</tt> method:</p>

<pre style="margin-left:11%; margin-top: 1em">  @dates = sort { DateTime&minus;&gt;compare_ignore_floating($a, $b) } @dates;</pre>


<p style="margin-left:11%; margin-top: 1em">In this case,
objects with a floating time zone will be sorted as if they
were <small>UTC</small> times.</p>

<p style="margin-left:11%; margin-top: 1em">Since DateTime
objects overload comparison operators, this:</p>

<pre style="margin-left:11%; margin-top: 1em">  @dates = sort @dates;</pre>


<p style="margin-left:11%; margin-top: 1em">is equivalent
to this:</p>

<pre style="margin-left:11%; margin-top: 1em">  @dates = sort { DateTime&minus;&gt;compare($a, $b) } @dates;</pre>


<p style="margin-left:11%; margin-top: 1em">DateTime
objects can be compared to any other calendar class that
implements the <tt>&quot;utc_rd_values()&quot;</tt>
method.</p>

<p style="margin-left:11%; margin-top: 1em"><b>How DateTime
Math Works</b> <br>
It&rsquo;s important to have some understanding of how
datetime math is implemented in order to effectively use
this module and <tt>&quot;DateTime::Duration&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Making
Things Simple</i></p>

<p style="margin-left:11%; margin-top: 1em">If you want to
simplify your life and not have to think too hard about the
nitty-gritty of datetime math, I have several
recommendations:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="40%">


<p style="margin-top: 1em">use the floating time zone</p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">If you do not
care about time zones or leap seconds, use the
&quot;floating&quot; timezone:</p>

<pre style="margin-left:17%; margin-top: 1em">  my $dt = DateTime&minus;&gt;now( time_zone =&gt; 'floating' );</pre>


<p style="margin-left:17%; margin-top: 1em">Math done on
two objects in the floating time zone produces very
predictable results.</p>

<p style="margin-left:17%; margin-top: 1em">Note that in
most cases you will want to start by creating an object in a
specific zone and <i>then</i> convert it to the floating
time zone. When an object goes from a real zone to the
floating zone, the time for the object remains the same.</p>

<p style="margin-left:17%; margin-top: 1em">This means that
passing the floating zone to a constructor may not do what
you want.</p>

<pre style="margin-left:17%; margin-top: 1em">  my $dt = DateTime&minus;&gt;now( time_zone =&gt; 'floating' );</pre>


<p style="margin-left:17%; margin-top: 1em">is equivalent
to</p>

<pre style="margin-left:17%; margin-top: 1em">  my $dt = DateTime&minus;&gt;now( time_zone =&gt; 'UTC' )&minus;&gt;set_time_zone('floating');</pre>


<p style="margin-left:17%; margin-top: 1em">This might not
be what you wanted. Instead, you may prefer to do this:</p>

<pre style="margin-left:17%; margin-top: 1em">  my $dt = DateTime&minus;&gt;now( time_zone =&gt; 'local' )&minus;&gt;set_time_zone('floating');</pre>



<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="43%">


<p style="margin-top: 1em">use <small>UTC</small> for all
calculations</p> </td>
<td width="40%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">If you do care
about time zones (particularly <small>DST</small> ) or leap
seconds, try to use non-UTC time zones for presentation and
user input only. Convert to <small>UTC</small> immediately
and convert back to the local time zone for
presentation:</p>

<pre style="margin-left:17%; margin-top: 1em">  my $dt = DateTime&minus;&gt;new( %user_input, time_zone =&gt; $user_tz );
  $dt&minus;&gt;set_time_zone('UTC');
  # do various operations &minus; store it, retrieve it, add, subtract, etc.
  $dt&minus;&gt;set_time_zone($user_tz);
  print $dt&minus;&gt;datetime;</pre>



<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="40%">


<p style="margin-top: 1em">math on non-UTC time zones</p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">If you need to
do date math on objects with non-UTC time zones, please read
the caveats below carefully. The results
<tt>&quot;DateTime.pm&quot;</tt> produces are predictable
and correct, and mostly intuitive, but datetime math gets
very ugly when time zones are involved, and there are a few
strange corner cases involving subtraction of two datetimes
across a <small>DST</small> change.</p>

<p style="margin-left:17%; margin-top: 1em">If you can
always use the floating or <small>UTC</small> time zones,
you can skip ahead to Leap Seconds and Date Math</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="32%">


<p style="margin-top: 1em">date vs datetime math</p></td>
<td width="51%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">If you only
care about the date (calendar) portion of a datetime, you
should use either <tt>&quot;delta_md()&quot;</tt> or
<tt>&quot;delta_days()&quot;</tt>, not
<tt>&quot;subtract_datetime()&quot;</tt>. This will give
predictable, unsurprising results, free from DST-related
complications.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="58%">


<p style="margin-top: 1em"><i>subtract_datetime()</i> and
<i>add_duration()</i></p> </td>
<td width="25%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">You must
convert your datetime objects to the <small>UTC</small> time
zone before doing date math if you want to make sure that
the following formulas are always true:</p>

<pre style="margin-left:17%; margin-top: 1em">  $dt2 &minus; $dt1 = $dur
  $dt1 + $dur = $dt2
  $dt2 &minus; $dur = $dt1</pre>


<p style="margin-left:17%; margin-top: 1em">Note that using
<tt>&quot;delta_days&quot;</tt> ensures that this formula
always works, regardless of the timezone of the objects
involved, as does using
<tt>&quot;subtract_datetime_absolute()&quot;</tt>. Other
methods of subtraction are not always reversible.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Adding a
Duration to a Datetime</i></p>

<p style="margin-left:11%; margin-top: 1em">The parts of a
duration can be broken down into five parts. These are
months, days, minutes, seconds, and nanoseconds. Adding one
month to a date is different than adding 4 weeks or 28, 29,
30, or 31 days. Similarly, due to <small>DST</small> and
leap seconds, adding a day can be different than adding
86,400 seconds, and adding a minute is not exactly the same
as 60 seconds.</p>

<p style="margin-left:11%; margin-top: 1em">We cannot
convert between these units, except for seconds and
nanoseconds, because there is no fixed conversion between
the two units, because of things like leap seconds,
<small>DST</small> changes, etc.</p>


<p style="margin-left:11%; margin-top: 1em"><tt>&quot;DateTime.pm&quot;</tt>
always adds (or subtracts) days, then months, minutes, and
then seconds and nanoseconds. If there are any boundary
overflows, these are normalized at each step. For the days
and months the local (not <small>UTC</small> ) values are
used. For minutes and seconds, the local values are used.
This generally just works.</p>

<p style="margin-left:11%; margin-top: 1em">This means that
adding one month and one day to February 28, 2003 will
produce the date April 1, 2003, not March 29, 2003.</p>

<pre style="margin-left:11%; margin-top: 1em">  my $dt = DateTime&minus;&gt;new( year =&gt; 2003, month =&gt; 2, day =&gt; 28 );
  $dt&minus;&gt;add( months =&gt; 1, days =&gt; 1 );
  # 2003&minus;04&minus;01 &minus; the result</pre>


<p style="margin-left:11%; margin-top: 1em">On the other
hand, if we add months first, and then separately add days,
we end up with March 29, 2003:</p>

<pre style="margin-left:11%; margin-top: 1em">  $dt&minus;&gt;add( months =&gt; 1 )&minus;&gt;add( days =&gt; 1 );
  # 2003&minus;03&minus;29</pre>


<p style="margin-left:11%; margin-top: 1em">We see similar
strangeness when math crosses a <small>DST</small>
boundary:</p>

<pre style="margin-left:11%; margin-top: 1em">  my $dt = DateTime&minus;&gt;new(
      year      =&gt; 2003,
      month     =&gt; 4,
      day       =&gt; 5,
      hour      =&gt; 1,
      minute    =&gt; 58,
      time_zone =&gt; &quot;America/Chicago&quot;,
  );
  $dt&minus;&gt;add( days =&gt; 1, minutes =&gt; 3 );
  # 2003&minus;04&minus;06 02:01:00
  $dt&minus;&gt;add( minutes =&gt; 3 )&minus;&gt;add( days =&gt; 1 );
  # 2003&minus;04&minus;06 03:01:00</pre>


<p style="margin-left:11%; margin-top: 1em">Note that if
you converted the datetime object to <small>UTC</small>
first you would get predictable results.</p>

<p style="margin-left:11%; margin-top: 1em">If you want to
know how many seconds a duration object represents, you have
to add it to a datetime to find out, so you could do:</p>

<pre style="margin-left:11%; margin-top: 1em"> my $now = DateTime&minus;&gt;now( time_zone =&gt; 'UTC' );
 my $later = $now&minus;&gt;clone&minus;&gt;add_duration($duration);
 my $seconds_dur = $later&minus;&gt;subtract_datetime_absolute($now);</pre>


<p style="margin-left:11%; margin-top: 1em">This returns a
duration which only contains seconds and nanoseconds.</p>

<p style="margin-left:11%; margin-top: 1em">If we were add
the duration to a different datetime object we might get a
different number of seconds.</p>


<p style="margin-left:11%; margin-top: 1em">DateTime::Duration
supports three different end-of-month algorithms for adding
months. This comes into play when an addition results in a
day past the end of the month (for example, adding one month
to January 30).</p>

<pre style="margin-left:11%; margin-top: 1em"> # 2010&minus;08&minus;31 + 1 month = 2010&minus;10&minus;01
 $dt&minus;&gt;add( months =&gt; 1, end_of_month =&gt; 'wrap' );
 # 2010&minus;01&minus;30 + 1 month = 2010&minus;02&minus;28
 $dt&minus;&gt;add( months =&gt; 1, end_of_month =&gt; 'limit' );
 # 2010&minus;04&minus;30 + 1 month = 2010&minus;05&minus;31
 $dt&minus;&gt;add( months =&gt; 1, end_of_month =&gt; 'preserve' );</pre>


<p style="margin-left:11%; margin-top: 1em">By default, it
uses &quot;wrap&quot; for positive durations and
&quot;preserve&quot; for negative durations. See
DateTime::Duration for a detailed explanation of these
algorithms.</p>

<p style="margin-left:11%; margin-top: 1em">If you need to
do lots of work with durations, take a look at Rick
Measham&rsquo;s
<tt>&quot;DateTime::Format::Duration&quot;</tt> module,
which lets you present information from durations in many
useful ways.</p>

<p style="margin-left:11%; margin-top: 1em">There are other
subtract/delta methods in DateTime.pm to generate different
types of durations. These methods are
<tt>&quot;subtract_datetime()&quot;</tt>,
<tt>&quot;subtract_datetime_absolute()&quot;</tt>,
<tt>&quot;delta_md()&quot;</tt>,
<tt>&quot;delta_days()&quot;</tt>, and
<tt>&quot;delta_ms()&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Datetime
Subtraction</i></p>

<p style="margin-left:11%; margin-top: 1em">Date
subtraction is done solely based on the two object&rsquo;s
local datetimes, with one exception to handle
<small>DST</small> changes. Also, if the two datetime
objects are in different time zones, one of them is
converted to the other&rsquo;s time zone first before
subtraction. This is best explained through examples:</p>

<p style="margin-left:11%; margin-top: 1em">The first of
these probably makes the most sense:</p>

<pre style="margin-left:11%; margin-top: 1em">  my $dt1 = DateTime&minus;&gt;new(
      year      =&gt; 2003,
      month     =&gt; 5,
      day       =&gt; 6,
      time_zone =&gt; 'America/Chicago',
  );
  # not DST
  my $dt2 = DateTime&minus;&gt;new(
      year      =&gt; 2003,
      month     =&gt; 11,
      day       =&gt; 6,
      time_zone =&gt; 'America/Chicago',
  );
  # is DST
  my $dur = $dt2&minus;&gt;subtract_datetime($dt1);
  # 6 months</pre>


<p style="margin-left:11%; margin-top: 1em">Nice and
simple.</p>

<p style="margin-left:11%; margin-top: 1em">This one is a
little trickier, but still fairly logical:</p>

<pre style="margin-left:11%; margin-top: 1em">  my $dt1 = DateTime&minus;&gt;new(
      year      =&gt; 2003,
      month     =&gt; 4,
      day       =&gt; 5,
      hour      =&gt; 1,
      minute    =&gt; 58,
      time_zone =&gt; &quot;America/Chicago&quot;,
  );
  # is DST
  my $dt2 = DateTime&minus;&gt;new(
      year      =&gt; 2003,
      month     =&gt; 4,
      day       =&gt; 7,
      hour      =&gt; 2,
      minute    =&gt; 1,
      time_zone =&gt; &quot;America/Chicago&quot;,
  );
  # not DST
  my $dur = $dt2&minus;&gt;subtract_datetime($dt1);
  # 2 days and 3 minutes</pre>


<p style="margin-left:11%; margin-top: 1em">Which
contradicts the result this one gives, even though they both
make sense:</p>

<pre style="margin-left:11%; margin-top: 1em">  my $dt1 = DateTime&minus;&gt;new(
      year      =&gt; 2003,
      month     =&gt; 4,
      day       =&gt; 5,
      hour      =&gt; 1,
      minute    =&gt; 58,
      time_zone =&gt; &quot;America/Chicago&quot;,
  );
  # is DST
  my $dt2 = DateTime&minus;&gt;new(
      year      =&gt; 2003,
      month     =&gt; 4,
      day       =&gt; 6,
      hour      =&gt; 3,
      minute    =&gt; 1,
      time_zone =&gt; &quot;America/Chicago&quot;,
  );
  # not DST
  my $dur = $dt2&minus;&gt;subtract_datetime($dt1);
  # 1 day and 3 minutes</pre>


<p style="margin-left:11%; margin-top: 1em">This last
example illustrates the &quot; <small>DST&quot;</small>
exception mentioned earlier. The exception accounts for the
fact 2003&minus;04&minus;06 only lasts 23 hours.</p>

<p style="margin-left:11%; margin-top: 1em">And
finally:</p>

<pre style="margin-left:11%; margin-top: 1em">  my $dt2 = DateTime&minus;&gt;new(
      year      =&gt; 2003,
      month     =&gt; 10,
      day       =&gt; 26,
      hour      =&gt; 1,
      time_zone =&gt; 'America/Chicago',
  );
  my $dt1 = $dt2&minus;&gt;clone&minus;&gt;subtract( hours =&gt; 1 );
  my $dur = $dt2&minus;&gt;subtract_datetime($dt1);
  # 60 minutes</pre>


<p style="margin-left:11%; margin-top: 1em">This seems
obvious until you realize that subtracting 60 minutes from
<tt>$dt2</tt> in the above example still leaves the clock
time at &quot;01:00:00&quot;. This time we are accounting
for a 25 hour day.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Reversibility</i></p>

<p style="margin-left:11%; margin-top: 1em">Date math
operations are not always reversible. This is because of the
way that addition operations are ordered. As was discussed
earlier, adding 1 day and 3 minutes in one call to
<tt>&quot;add()&quot;</tt> is not the same as first adding 3
minutes and 1 day in two separate calls.</p>

<p style="margin-left:11%; margin-top: 1em">If we take a
duration returned from
<tt>&quot;subtract_datetime()&quot;</tt> and then try to add
or subtract that duration from one of the datetimes we just
used, we sometimes get interesting results:</p>

<pre style="margin-left:11%; margin-top: 1em">  my $dt1 = DateTime&minus;&gt;new(
      year      =&gt; 2003,
      month     =&gt; 4,
      day       =&gt; 5,
      hour      =&gt; 1,
      minute    =&gt; 58,
      time_zone =&gt; &quot;America/Chicago&quot;,
  );
  my $dt2 = DateTime&minus;&gt;new(
      year      =&gt; 2003,
      month     =&gt; 4,
      day       =&gt; 6,
      hour      =&gt; 3,
      minute    =&gt; 1,
      time_zone =&gt; &quot;America/Chicago&quot;,
  );
  my $dur = $dt2&minus;&gt;subtract_datetime($dt1);
  # 1 day and 3 minutes
  $dt1&minus;&gt;add_duration($dur);
  # gives us $dt2
  $dt2&minus;&gt;subtract_duration($dur);
  # gives us 2003&minus;04&minus;05 02:58:00 &minus; 1 hour later than $dt1</pre>


<p style="margin-left:11%; margin-top: 1em">The
<tt>&quot;subtract_duration()&quot;</tt> operation gives us
a (perhaps) unexpected answer because it first subtracts one
day to get 2003&minus;04&minus;05T03:01:00 and then
subtracts 3 minutes to get the final result.</p>

<p style="margin-left:11%; margin-top: 1em">If we
explicitly reverse the order we can get the original value
of <tt>$dt1</tt>. This can be facilitated by
<tt>&quot;DateTime::Duration&quot;</tt>&rsquo;s
<tt>&quot;calendar_duration()&quot;</tt> and
<tt>&quot;clock_duration()&quot;</tt> methods:</p>

<pre style="margin-left:11%; margin-top: 1em">  $dt2&minus;&gt;subtract_duration( $dur&minus;&gt;clock_duration )
      &minus;&gt;subtract_duration( $dur&minus;&gt;calendar_duration );</pre>


<p style="margin-left:11%; margin-top: 1em"><i>Leap Seconds
and Date Math</i></p>

<p style="margin-left:11%; margin-top: 1em">The presence of
leap seconds can cause even more anomalies in date math. For
example, the following is a legal datetime:</p>

<pre style="margin-left:11%; margin-top: 1em">  my $dt = DateTime&minus;&gt;new(
      year      =&gt; 1972,
      month     =&gt; 12,
      day       =&gt; 31,
      hour      =&gt; 23,
      minute    =&gt; 59,
      second    =&gt; 60,
      time_zone =&gt; 'UTC'
  );</pre>


<p style="margin-left:11%; margin-top: 1em">If we do the
following:</p>

<pre style="margin-left:11%; margin-top: 1em"> $dt&minus;&gt;add( months =&gt; 1 );</pre>


<p style="margin-left:11%; margin-top: 1em">Then the
datetime is now &quot;1973&minus;02&minus;01 00:00:00&quot;,
because there is no 23:59:60 on 1973&minus;01&minus;31.</p>

<p style="margin-left:11%; margin-top: 1em">Leap seconds
also force us to distinguish between minutes and seconds
during date math. Given the following datetime:</p>

<pre style="margin-left:11%; margin-top: 1em">  my $dt = DateTime&minus;&gt;new(
      year      =&gt; 1972,
      month     =&gt; 12,
      day       =&gt; 31,
      hour      =&gt; 23,
      minute    =&gt; 59,
      second    =&gt; 30,
      time_zone =&gt; 'UTC'
  );</pre>


<p style="margin-left:11%; margin-top: 1em">we will get
different results when adding 1 minute than we get if we add
60 seconds. This is because in this case, the last minute of
the day, beginning at 23:59:00, actually contains 61
seconds.</p>

<p style="margin-left:11%; margin-top: 1em">Here are the
results we get:</p>

<pre style="margin-left:11%; margin-top: 1em">  # 1972&minus;12&minus;31 23:59:30 &minus; our starting datetime
  $dt&minus;&gt;clone&minus;&gt;add( minutes =&gt; 1 );
  # 1973&minus;01&minus;01 00:00:30 &minus; one minute later
  $dt&minus;&gt;clone&minus;&gt;add( seconds =&gt; 60 );
  # 1973&minus;01&minus;01 00:00:29 &minus; 60 seconds later
  $dt&minus;&gt;clone&minus;&gt;add( seconds =&gt; 61 );
  # 1973&minus;01&minus;01 00:00:30 &minus; 61 seconds later</pre>


<p style="margin-left:11%; margin-top: 1em"><i>Local vs.
<small>UTC</small> and 24 hours vs. 1 day</i></p>

<p style="margin-left:11%; margin-top: 1em">When math
crosses a daylight saving boundary, a single day may have
more or less than 24 hours.</p>

<p style="margin-left:11%; margin-top: 1em">For example, if
you do this:</p>

<pre style="margin-left:11%; margin-top: 1em">  my $dt = DateTime&minus;&gt;new(
      year      =&gt; 2003,
      month     =&gt; 4,
      day       =&gt; 5,
      hour      =&gt; 2,
      time_zone =&gt; 'America/Chicago',
  );
  $dt&minus;&gt;add( days =&gt; 1 );</pre>


<p style="margin-left:11%; margin-top: 1em">then you will
produce an <i>invalid</i> local time, and therefore an
exception will be thrown.</p>

<p style="margin-left:11%; margin-top: 1em">However, this
works:</p>

<pre style="margin-left:11%; margin-top: 1em">  my $dt = DateTime&minus;&gt;new(
      year      =&gt; 2003,
      month     =&gt; 4,
      day       =&gt; 5,
      hour      =&gt; 2,
      time_zone =&gt; 'America/Chicago',
  );
  $dt&minus;&gt;add( hours =&gt; 24 );</pre>


<p style="margin-left:11%; margin-top: 1em">and produces a
datetime with the local time of &quot;03:00&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">If all this
makes your head hurt, there is a simple alternative. Just
convert your datetime object to the &quot;
<small>UTC&quot;</small> time zone before doing date math on
it, and switch it back to the local time zone afterwards.
This avoids the possibility of having date math throw an
exception, and makes sure that 1 day equals 24 hours. Of
course, this may not always be desirable, so caveat
user!</p>


<p style="margin-left:11%; margin-top: 1em"><b>Overloading</b>
<br>
This module explicitly overloads the addition (+),
subtraction (&minus;), string and numeric comparison
operators. This means that the following all do sensible
things:</p>

<pre style="margin-left:11%; margin-top: 1em">  my $new_dt = $dt + $duration_obj;
  my $new_dt = $dt &minus; $duration_obj;
  my $duration_obj = $dt &minus; $new_dt;
  foreach my $dt ( sort @dts ) { ... }</pre>


<p style="margin-left:11%; margin-top: 1em">Additionally,
the fallback parameter is set to true, so other derivable
operators (+=, &minus;=, etc.) will work properly. Do not
expect increment (++) or decrement (&minus;&minus;) to do
anything useful.</p>

<p style="margin-left:11%; margin-top: 1em">The string
comparison operators, <tt>&quot;eq&quot;</tt> or
<tt>&quot;ne&quot;</tt>, will use the string value to
compare with non-DateTime objects.</p>

<p style="margin-left:11%; margin-top: 1em">DateTime
objects do not have a numeric value, using
<tt>&quot;==&quot;</tt> or <tt>&quot;&lt;=&gt;&quot;</tt> to
compare a DateTime object with a non-DateTime object will
result in an exception. To safely sort mixed DateTime and
non-DateTime objects, use <tt>&quot;sort { $a cmp $b }
@dates&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em">The module also
overloads stringification using the object&rsquo;s
formatter, defaulting to <tt>&quot;iso8601()&quot;</tt>
method. See &quot;Formatters And Stringification&quot; for
details.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Formatters
And Stringification</b> <br>
You can optionally specify a &quot;formatter&quot;, which is
usually a DateTime::Format::* object/class, to control the
stringification of the DateTime object.</p>

<p style="margin-left:11%; margin-top: 1em">Any of the
constructor methods can accept a formatter argument:</p>

<pre style="margin-left:11%; margin-top: 1em">  my $formatter = DateTime::Format::Strptime&minus;&gt;new(...);
  my $dt = DateTime&minus;&gt;new(year =&gt; 2004, formatter =&gt; $formatter);</pre>


<p style="margin-left:11%; margin-top: 1em">Or, you can set
it afterwards:</p>

<pre style="margin-left:11%; margin-top: 1em">  $dt&minus;&gt;set_formatter($formatter);
  $formatter = $dt&minus;&gt;formatter();</pre>


<p style="margin-left:11%; margin-top: 1em">Once you set
the formatter, the overloaded stringification method will
use the formatter. If unspecified, the
<tt>&quot;iso8601()&quot;</tt> method is used.</p>

<p style="margin-left:11%; margin-top: 1em">A formatter can
be handy when you know that in your application you want to
stringify your DateTime objects into a special format all
the time, for example to a different language.</p>

<p style="margin-left:11%; margin-top: 1em">If you provide
a formatter class name or object, it must implement a
<tt>&quot;format_datetime&quot;</tt> method. This method
will be called with just the DateTime object as its
argument.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>CLDR</small>
Patterns</b> <br>
The <small>CLDR</small> pattern language is both more
powerful and more complex than strftime. Unlike strftime
patterns, you often have to explicitly escape text that you
do not want formatted, as the patterns are simply letters
without any prefix.</p>

<p style="margin-left:11%; margin-top: 1em">For example,
&quot;yyyy-MM-dd&quot; is a valid <small>CLDR</small>
pattern. If you want to include any lower or upper case
<small>ASCII</small> characters as-is, you can surround them
with single quotes (&rsquo;). If you want to include a
single quote, you must escape it as two single quotes
(&rsquo;&rsquo;).</p>

<pre style="margin-left:11%; margin-top: 1em">  'Today is ' EEEE
  'It is now' h 'o''clock' a</pre>


<p style="margin-left:11%; margin-top: 1em">Spaces and any
non-letter text will always be passed through as-is.</p>

<p style="margin-left:11%; margin-top: 1em">Many
<small>CLDR</small> patterns which produce numbers will pad
the number with leading zeroes depending on the length of
the format specifier. For example, &quot;h&quot; represents
the current hour from 1&minus;12. If you specify
&quot;hh&quot; then the 1&minus;9 will have a leading zero
prepended.</p>

<p style="margin-left:11%; margin-top: 1em">However,
<small>CLDR</small> often uses five of a letter to represent
the narrow form of a pattern. This inconsistency is
necessary for backwards compatibility.</p>


<p style="margin-left:11%; margin-top: 1em"><small>CLDR</small>
often distinguishes between the &quot;format&quot; and
&quot;stand-alone&quot; forms of a pattern. The format
pattern is used when the thing in question is being placed
into a larger string. The stand-alone form is used when
displaying that item by itself, for example in a
calendar.</p>

<p style="margin-left:11%; margin-top: 1em">It also often
provides three sizes for each item, wide (the full name),
abbreviated, and narrow. The narrow form is often just a
single character, for example &quot;T&quot; for
&quot;Tuesday&quot;, and may not be unique.</p>


<p style="margin-left:11%; margin-top: 1em"><small>CLDR</small>
provides a fairly complex system for localizing time zones
that we ignore entirely. The time zone patterns just use the
information provided by
<tt>&quot;DateTime::TimeZone&quot;</tt>, and <i>do not
follow the <small>CLDR</small> spec</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The output of a
<small>CLDR</small> pattern is always localized, when
applicable.</p>


<p style="margin-left:11%; margin-top: 1em"><small>CLDR</small>
provides the following patterns:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">G{1,3}</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The abbreviated
era ( <small>BC, AD</small> ).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="6%">


<p style="margin-top: 1em"><small>GGGG</small></p></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The wide era
(Before Christ, Anno Domini).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="8%">


<p style="margin-top: 1em"><small>GGGGG</small></p></td>
<td width="75%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The narrow era,
if it exists (and it mostly doesn&rsquo;t).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="17%">


<p style="margin-top: 1em">y and y{3,}</p></td>
<td width="66%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The year,
zero-prefixed as needed. Negative years will start with a
&quot;&minus;&quot;, and this will be included in the length
calculation.</p>

<p style="margin-left:17%; margin-top: 1em">In other, words
the &quot;yyyyy&quot; pattern will format year &minus;1234
as &quot;&minus;1234&quot;, not
&quot;&minus;01234&quot;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em">yy</p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">This is a
special case. It always produces a two-digit year, so
&quot;1976&quot; becomes &quot;76&quot;. Negative years will
start with a &quot;&minus;&quot;, making them one character
longer.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="8%">


<p style="margin-top: 1em">Y{1,}</p></td>
<td width="75%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The week of the
year, from
<tt>&quot;$dt&minus;&gt;week_year()&quot;</tt>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="8%">


<p style="margin-top: 1em">u{1,}</p></td>
<td width="75%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Same as
&quot;y&quot; except that &quot;uu&quot; is not a special
case.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">Q{1,2}</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The quarter as
a number (1..4).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="5%">


<p style="margin-top: 1em"><small>QQQ</small></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The abbreviated
format form for the quarter.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="6%">


<p style="margin-top: 1em"><small>QQQQ</small></p></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The wide format
form for the quarter.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">q{1,2}</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The quarter as
a number (1..4).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="5%">


<p style="margin-top: 1em">qqq</p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The abbreviated
stand-alone form for the quarter.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="6%">


<p style="margin-top: 1em">qqqq</p></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The wide
stand-alone form for the quarter.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">M{1,2]</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The numerical
month.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="5%">


<p style="margin-top: 1em"><small>MMM</small></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The abbreviated
format form for the month.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="6%">


<p style="margin-top: 1em"><small>MMMM</small></p></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The wide format
form for the month.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="8%">


<p style="margin-top: 1em"><small>MMMMM</small></p></td>
<td width="75%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The narrow
format form for the month.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">L{1,2]</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The numerical
month.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="5%">


<p style="margin-top: 1em"><small>LLL</small></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The abbreviated
stand-alone form for the month.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="6%">


<p style="margin-top: 1em"><small>LLLL</small></p></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The wide
stand-alone form for the month.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="8%">


<p style="margin-top: 1em"><small>LLLLL</small></p></td>
<td width="75%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The narrow
stand-alone form for the month.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">w{1,2}</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The week of the
year, from
<tt>&quot;$dt&minus;&gt;week_number()&quot;</tt>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="1%">


<p style="margin-top: 1em">W</p></td>
<td width="82%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The week of the
month, from
<tt>&quot;$dt&minus;&gt;week_of_month()&quot;</tt>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">d{1,2}</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The numeric day
of the month.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">D{1,3}</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The numeric day
of the year.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="1%">


<p style="margin-top: 1em">F</p></td>
<td width="82%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The day of the
week in the month, from
<tt>&quot;$dt&minus;&gt;weekday_of_month()&quot;</tt>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="8%">


<p style="margin-top: 1em">g{1,}</p></td>
<td width="75%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The modified
Julian day, from
<tt>&quot;$dt&minus;&gt;mjd()&quot;</tt>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="21%">


<p style="margin-top: 1em">E{1,3} and eee</p></td>
<td width="62%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The abbreviated
format form for the day of the week.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="20%">


<p style="margin-top: 1em"><small>EEEE</small> and eeee</p></td>
<td width="63%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The wide format
form for the day of the week.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="23%">


<p style="margin-top: 1em"><small>EEEEE</small> and
eeeee</p> </td>
<td width="60%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The narrow
format form for the day of the week.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">e{1,2}</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The
<i>local</i> numeric day of the week, from 1 to 7. This
number depends on what day is considered the first day of
the week, which varies by locale. For example, in the
<small>US,</small> Sunday is the first day of the week, so
this returns 2 for Monday.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="1%">


<p style="margin-top: 1em">c</p></td>
<td width="82%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The numeric day
of the week from 1 to 7, treating Monday as the first of the
week, regardless of locale.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="5%">


<p style="margin-top: 1em">ccc</p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The abbreviated
stand-alone form for the day of the week.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="6%">


<p style="margin-top: 1em">cccc</p></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The wide
stand-alone form for the day of the week.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="8%">


<p style="margin-top: 1em">ccccc</p></td>
<td width="75%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The narrow
format form for the day of the week.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="1%">


<p style="margin-top: 1em">a</p></td>
<td width="82%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The localized
form of <small>AM</small> or <small>PM</small> for the
time.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">h{1,2}</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The hour from
1&minus;12.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">H{1,2}</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The hour from
0&minus;23.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">K{1,2}</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The hour from
0&minus;11.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">k{1,2}</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The hour from
1&minus;24.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">j{1,2}</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The hour, in 12
or 24 hour form, based on the preferred form for the locale.
In other words, this is equivalent to either
&quot;h{1,2}&quot; or &quot;H{1,2}&quot;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">m{1,2}</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The minute.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">s{1,2}</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The second.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="8%">


<p style="margin-top: 1em">S{1,}</p></td>
<td width="75%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The fractional
portion of the seconds, rounded based on the length of the
specifier. This returned <i>without</i> a leading decimal
point, but may have leading or trailing zeroes.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="8%">


<p style="margin-top: 1em">A{1,}</p></td>
<td width="75%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The millisecond
of the day, based on the current time. In other words, if it
is 12:00:00.00, this returns 43200000.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">z{1,3}</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The time zone
short name.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="6%">


<p style="margin-top: 1em">zzzz</p></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The time zone
long name.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">Z{1,3}</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The time zone
offset.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="6%">


<p style="margin-top: 1em"><small>ZZZZ</small></p></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The time zone
short name and the offset as one string, so something like
&quot; <small>CDT&minus;0500&quot;.</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">v{1,3}</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The time zone
short name.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="6%">


<p style="margin-top: 1em">vvvv</p></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The time zone
long name.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">V{1,3}</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The time zone
short name.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="6%">


<p style="margin-top: 1em"><small>VVVV</small></p></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The time zone
long name.</p>

<p style="margin-left:11%; margin-top: 1em"><b>strftime
Patterns</b> <br>
The following patterns are allowed in the format string
given to the <tt>&quot;$dt&minus;&gt;strftime()&quot;</tt>
method:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%a</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The abbreviated
weekday name.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%A</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The full
weekday name.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%b</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The abbreviated
month name.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%B</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The full month
name.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%c</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The default
datetime format for the object&rsquo;s locale.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%C</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The century
number (year/100) as a 2&minus;digit integer.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%d</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The day of the
month as a decimal number (range 01 to 31).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%D</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Equivalent to
<tt>%m</tt>/%d/%y. This is not a good standard format if you
want folks from both the United States and the rest of the
world to understand the date!</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%e</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Like
<tt>%d</tt>, the day of the month as a decimal number, but a
leading zero is replaced by a space.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%F</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Equivalent to
<tt>%Y</tt>&minus;%m&minus;%d (the <small>ISO 8601</small>
date format)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%G</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The <small>ISO
8601</small> year with century as a decimal number. The
4&minus;digit year corresponding to the <small>ISO</small>
week number (see <tt>%V</tt>). This has the same format and
value as <tt>%Y</tt>, except that if the <small>ISO</small>
week number belongs to the previous or next year, that year
is used instead. ( <small>TZ</small> )</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%g</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Like
<tt>%G</tt>, but without century, i.e., with a 2&minus;digit
year (00&minus;99).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%h</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Equivalent to
<tt>%b</tt>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%H</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The hour as a
decimal number using a 24&minus;hour clock (range 00 to
23).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%I</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The hour as a
decimal number using a 12&minus;hour clock (range 01 to
12).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%j</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The day of the
year as a decimal number (range 001 to 366).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%k</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The hour
(24&minus;hour clock) as a decimal number (range 0 to 23);
single digits are preceded by a blank. (See also
<tt>%H</tt>.)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%l</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The hour
(12&minus;hour clock) as a decimal number (range 1 to 12);
single digits are preceded by a blank. (See also
<tt>%I</tt>.)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%m</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The month as a
decimal number (range 01 to 12).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%M</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The minute as a
decimal number (range 00 to 59).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%n</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">A newline
character.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%N</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The fractional
seconds digits. Default is 9 digits (nanoseconds).</p>

<pre style="margin-left:17%; margin-top: 1em">  %3N   milliseconds (3 digits)
  %6N   microseconds (6 digits)
  %9N   nanoseconds  (9 digits)</pre>


<p style="margin-left:17%; margin-top: 1em">This value will
always be rounded down to the nearest integer.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%p</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Either &lsquo;
<small>AM</small> &rsquo; or &lsquo; <small>PM</small>
&rsquo; according to the given time value, or the
corresponding strings for the current locale. Noon is
treated as &lsquo;pm&rsquo; and midnight as
&lsquo;am&rsquo;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%P</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Like
<tt>%p</tt> but in lowercase: &lsquo;am&rsquo; or
&lsquo;pm&rsquo; or a corresponding string for the current
locale.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%r</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The time in
a.m. or p.m. notation. In the <small>POSIX</small> locale
this is equivalent to &lsquo;%I:%M:%S
<tt>%p</tt>&rsquo;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%R</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The time in
24&minus;hour notation (%H:%M). ( <small>SU</small> ) For a
version including the seconds, see <tt>%T</tt> below.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%s</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The number of
seconds since the epoch.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%S</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The second as a
decimal number (range 00 to 61).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%t</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">A tab
character.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%T</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The time in
24&minus;hour notation (%H:%M:%S).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%u</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The day of the
week as a decimal, range 1 to 7, Monday being 1. See also
<tt>%w</tt>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%U</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The week number
of the current year as a decimal number, range 00 to 53,
starting with the first Sunday as the first day of week 01.
See also <tt>%V</tt> and <tt>%W</tt>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%V</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The <small>ISO
8601:1988</small> week number of the current year as a
decimal number, range 01 to 53, where week 1 is the first
week that has at least 4 days in the current year, and with
Monday as the first day of the week. See also <tt>%U</tt>
and <tt>%W</tt>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%w</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The day of the
week as a decimal, range 0 to 6, Sunday being 0. See also
<tt>%u</tt>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%W</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The week number
of the current year as a decimal number, range 00 to 53,
starting with the first Monday as the first day of week
01.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%x</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The default
date format for the object&rsquo;s locale.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%X</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The default
time format for the object&rsquo;s locale.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%y</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The year as a
decimal number without a century (range 00 to 99).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%Y</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The year as a
decimal number including the century.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%z</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The time-zone
as hour offset from <small>UTC.</small> Required to emit
RFC822&minus;conformant dates (using &quot;%a, <tt>%d %b %Y
%H:</tt>%M:%S <tt>%z</tt>&quot;).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em"><tt>%Z</tt></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The time zone
or name or abbreviation.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="3%">


<p style="margin-top: 1em">%%</p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">A literal
&lsquo;%&rsquo; character.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="14%">


<p style="margin-top: 1em">%{method}</p></td>
<td width="69%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Any method name
may be specified using the format
<tt>&quot;%{method}&quot;</tt> name where &quot;method&quot;
is a valid <tt>&quot;DateTime.pm&quot;</tt> object
method.</p>

<p style="margin-left:11%; margin-top: 1em"><b>DateTime.pm
and Storable</b> <br>
DateTime implements Storable hooks in order to reduce the
size of a serialized DateTime object.</p>

<h2>THE DATETIME PROJECT ECOSYSTEM
<a name="THE DATETIME PROJECT ECOSYSTEM"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This module is
part of a larger ecosystem of modules in the DateTime
family.</p>


<p style="margin-left:11%; margin-top: 1em"><b>DateTime::Set</b>
<br>
The DateTime::Set module represents sets (including
recurrences) of datetimes. Many modules return sets or
recurrences.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Format
Modules</b> <br>
The various format modules exist to parse and format
datetimes. For example, DateTime::Format::HTTP parses dates
according to the <small>RFC 1123</small> format:</p>

<pre style="margin-left:11%; margin-top: 1em">  my $datetime
      = DateTime::Format::HTTP&minus;&gt;parse_datetime('Thu Feb  3 17:03:55 GMT 1994');
  print DateTime::Format::HTTP&minus;&gt;format_datetime($datetime);</pre>


<p style="margin-left:11%; margin-top: 1em">Most format
modules are suitable for use as a
<tt>&quot;formatter&quot;</tt> with a DateTime object.</p>

<p style="margin-left:11%; margin-top: 1em">All format
modules start with
<tt>&quot;DateTime::Format::&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Calendar
Modules</b> <br>
There are a number of modules on <small>CPAN</small> that
implement non-Gregorian calendars, such as the Chinese,
Mayan, and Julian calendars.</p>

<p style="margin-left:11%; margin-top: 1em">All calendar
modules start with
<tt>&quot;DateTime::Calendar::&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Event
Modules</b> <br>
There are a number of modules that calculate the dates for
events, such as Easter, Sunrise, etc.</p>

<p style="margin-left:11%; margin-top: 1em">All event
modules start with
<tt>&quot;DateTime::Event::&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Others</b>
<br>
There are many other modules that work with DateTime,
including modules in the <tt>&quot;DateTimeX&quot;</tt>
namespace, as well as others.</p>

<p style="margin-left:11%; margin-top: 1em">See the
datetime wiki &lt;http://datetime.perl.org&gt; and
search.cpan.org
&lt;http://search.cpan.org/search?query=datetime&amp;mode=dist&gt;
for more details.</p>

<h2>KNOWN BUGS
<a name="KNOWN BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The tests in
<i>20infinite.t</i> seem to fail on some machines,
particularly on Win32. This appears to be related to
Perl&rsquo;s internal handling of <small>IEEE</small>
infinity and NaN, and seems to be highly
platform/compiler/phase of moon dependent.</p>

<p style="margin-left:11%; margin-top: 1em">If you
don&rsquo;t plan to use infinite datetimes you can probably
ignore this. This will be fixed (perhaps) in future
versions.</p>

<h2>SUPPORT
<a name="SUPPORT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Support for
this module is provided via the datetime@perl.org email
list. See
http://datetime.perl.org/wiki/datetime/page/Mailing_List for
details.</p>

<p style="margin-left:11%; margin-top: 1em">Please submit
bugs to the <small>CPAN RT</small> system at
http://rt.cpan.org/NoAuth/Bugs.html?Dist=DateTime or via
email at bug&minus;datetime@rt.cpan.org.</p>

<h2>DONATIONS
<a name="DONATIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If you&rsquo;d
like to thank me for the work I&rsquo;ve done on this
module, please consider making a &quot;donation&quot; to me
via PayPal. I spend a lot of free time creating free
software, and would appreciate any support you&rsquo;d care
to offer.</p>

<p style="margin-left:11%; margin-top: 1em">Please note
that <b>I am not suggesting that you must do this</b> in
order for me to continue working on this particular
software. I will continue to do so, inasmuch as I have in
the past, for as long as it interests me.</p>

<p style="margin-left:11%; margin-top: 1em">Similarly, a
donation made in this way will probably not make me work on
this software much more, unless I get so many donations that
I can consider working on free software full time, which
seems unlikely at best.</p>

<p style="margin-left:11%; margin-top: 1em">To donate, log
into PayPal and send money to autarch@urth.org or use the
button on this page:
&lt;http://www.urth.org/~autarch/fs&minus;donation.html&gt;</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">datetime@perl.org
mailing list</p>


<p style="margin-left:11%; margin-top: 1em">http://datetime.perl.org/</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Dave Rolsky
&lt;autarch@urth.org&gt;</p>

<h2>COPYRIGHT AND LICENSE
<a name="COPYRIGHT AND LICENSE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This software
is Copyright (c) 2013 by Dave Rolsky.</p>

<p style="margin-left:11%; margin-top: 1em">This is free
software, licensed under:</p>

<pre style="margin-left:11%; margin-top: 1em">  The Artistic License 2.0 (GPL Compatible)</pre>
<hr>
</body>
</html>
