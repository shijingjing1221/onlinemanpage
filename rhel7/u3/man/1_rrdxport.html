<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:18:47 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>RRDXPORT</title>

</head>
<body>

<h1 align="center">RRDXPORT</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#Output format">Output format</a><br>
<a href="#EXAMPLE 1">EXAMPLE 1</a><br>
<a href="#EXAMPLE 2">EXAMPLE 2</a><br>
<a href="#ENVIRONMENT VARIABLES">ENVIRONMENT VARIABLES</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">rrdxport
&minus; Export data in XML format based on data from one or
several RRD</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>rrdtool
xport</b>
[<b>&minus;s</b>|<b>&minus;&minus;start&nbsp;</b><i>seconds</i>]
[<b>&minus;e</b>|<b>&minus;&minus;end&nbsp;</b><i>seconds</i>]
[<b>&minus;m</b>|<b>&minus;&minus;maxrows&nbsp;</b><i>rows</i>]
[<b>&minus;&minus;step&nbsp;</b><i>value</i>]
[<b>&minus;&minus;json</b>]
[<b>&minus;&minus;daemon&nbsp;</b><i>address</i>] [
<b><small>DEF:</small></b>
<i>vname</i><b>=</b><i>rrd</i><b>:</b><i>ds-name</i><b>:</b>
<i><small>CF</small></i> ] [ <b><small>CDEF:</small></b>
<i>vname</i><b>=</b><i>rpn-expression</i>] [
<b><small>XPORT</small>
:</b><i>vname</i>[<b>:</b><i>legend</i>]]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>xport</b> function&rsquo;s main purpose is to write an
<small>XML</small> formatted representation of the data
stored in one or several <b><small>RRD</small></b> s. It can
also extract numerical reports.</p>

<p style="margin-left:11%; margin-top: 1em">If no
<i><small>XPORT</small></i> statements are found, there will
be no output. <b><br>
&minus;s</b>|<b>&minus;&minus;start</b> <i>seconds</i>
(default end&minus;1day)</p>

<p style="margin-left:17%;">The time when the exported
range should begin. Time in seconds since epoch
(1970&minus;01&minus;01) is required. Negative numbers are
relative to the current time. By default one day worth of
data will be printed. See also AT-STYLE <small>TIME
SPECIFICATION</small> section in the <i>rrdfetch</i>
documentation for a detailed explanation on how to specify
time.</p>


<p style="margin-left:11%;"><b>&minus;e</b>|<b>&minus;&minus;end</b>
<i>seconds</i> (default now)</p>

<p style="margin-left:17%;">The time when the exported
range should end. Time in seconds since epoch. See also
AT-STYLE <small>TIME SPECIFICATION</small> section in the
<i>rrdfetch</i> documentation for a detailed explanation of
ways to specify time.</p>


<p style="margin-left:11%;"><b>&minus;m</b>|<b>&minus;&minus;maxrows</b>
<i>rows</i> (default 400 rows)</p>

<p style="margin-left:17%;">This works like the
<b>&minus;w</b>|<b>&minus;&minus;width</b> parameter of
<i>rrdgraph</i>. In fact it is exactly the same, but the
parameter was renamed to describe its purpose in this
module. See <i>rrdgraph</i> documentation for details.</p>

<p style="margin-left:11%;"><b>&minus;&minus;step</b>
<i>value</i> (default automatic)</p>

<p style="margin-left:17%;">See rrdgraph documentation.</p>

<p style="margin-left:11%;"><b>&minus;&minus;daemon</b>
<i>address</i></p>

<p style="margin-left:17%;">Address of the rrdcached
daemon. If specified, a <tt>&quot;flush&quot;</tt> command
is sent to the server before reading the <small>RRD</small>
files. This allows <b>rrdtool</b> to return fresh data even
if the daemon is configured to cache values for a long time.
For a list of accepted formats, see the <b>&minus;l</b>
option in the rrdcached manual.</p>

<pre style="margin-left:17%; margin-top: 1em">  rrdtool xport &minus;&minus;daemon unix:/var/run/rrdcached.sock ...</pre>


<p style="margin-left:11%;"><b>&minus;&minus;json</b></p>

<p style="margin-left:17%;">produce json formated output
(instead of xml)</p>


<p style="margin-left:11%;"><b>&minus;&minus;enumds</b></p>

<p style="margin-left:17%;">The generated xml should
contain the data values in enumerated tags.</p>

<pre style="margin-left:17%; margin-top: 1em"> &lt;v0&gt;val&lt;/v0&gt;&lt;v1&gt;val&lt;/v1&gt;</pre>


<p style="margin-left:11%;"><b><small>DEF:</small></b>
<i>vname</i><b>=</b><i>rrd</i><b>:</b><i>ds-name</i><b>:</b>
<i><small>CF</small></i></p>

<p style="margin-left:17%;">See <i>rrdgraph</i>
documentation.</p>

<p style="margin-left:11%;"><b><small>CDEF:</small></b>
<i>vname</i><b>=</b><i>rpn-expression</i></p>

<p style="margin-left:17%;">See <i>rrdgraph</i>
documentation.</p>

<p style="margin-left:11%;"><b><small>XPORT:</small></b>
<i>vname</i><b>::</b><i>legend</i></p>

<p style="margin-left:17%;">At least one
<i><small>XPORT</small></i> statement should be present. The
values referenced by <i>vname</i> are printed. Optionally
add a legend.</p>

<h2>Output format
<a name="Output format"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The output is
enclosed in an <b>xport</b> element and contains two blocks.
The first block is enclosed by a <b>meta</b> element and
contains some meta data. The second block is enclosed by a
<b>data</b> element and contains the data rows.</p>

<p style="margin-left:11%; margin-top: 1em">Let&rsquo;s
assume that the <i>xport</i> command looks like this:</p>

<pre style="margin-left:11%; margin-top: 1em">  rrdtool xport \
          &minus;&minus;start now&minus;1h &minus;&minus;end now \
          DEF:xx=host&minus;inout.lo.rrd:output:AVERAGE \
          DEF:yy=host&minus;inout.lo.rrd:input:AVERAGE \
          CDEF:aa=xx,yy,+,8,* \
          XPORT:xx:&quot;out bytes&quot; \
          XPORT:aa:&quot;in and out bits&quot;</pre>


<p style="margin-left:11%; margin-top: 1em">The resulting
meta data section is (the values will depend on the
<small>RRD</small> characteristics):</p>

<pre style="margin-left:11%; margin-top: 1em">  &lt;meta&gt;
    &lt;start&gt;1020611700&lt;/start&gt;
    &lt;step&gt;300&lt;/step&gt;
    &lt;end&gt;1020615600&lt;/end&gt;
    &lt;rows&gt;14&lt;/rows&gt;
    &lt;columns&gt;2&lt;/columns&gt;
    &lt;legend&gt;
      &lt;entry&gt;out bytes&lt;/entry&gt;
      &lt;entry&gt;in and out bits&lt;/entry&gt;
    &lt;/legend&gt;
  &lt;/meta&gt;</pre>


<p style="margin-left:11%; margin-top: 1em">The resulting
data section is:</p>

<pre style="margin-left:11%; margin-top: 1em">  &lt;data&gt;
    &lt;row&gt;&lt;t&gt;1020611700&lt;/t&gt;&lt;v&gt;3.4000000000e+00&lt;/v&gt;&lt;v&gt;5.4400000000e+01&lt;/v&gt;&lt;/row&gt;
    &lt;row&gt;&lt;t&gt;1020612000&lt;/t&gt;&lt;v&gt;3.4000000000e+00&lt;/v&gt;&lt;v&gt;5.4400000000e+01&lt;/v&gt;&lt;/row&gt;
    &lt;row&gt;&lt;t&gt;1020612300&lt;/t&gt;&lt;v&gt;3.4000000000e+00&lt;/v&gt;&lt;v&gt;5.4400000000e+01&lt;/v&gt;&lt;/row&gt;
    &lt;row&gt;&lt;t&gt;1020612600&lt;/t&gt;&lt;v&gt;3.4113333333e+00&lt;/v&gt;&lt;v&gt;5.4581333333e+01&lt;/v&gt;&lt;/row&gt;
    &lt;row&gt;&lt;t&gt;1020612900&lt;/t&gt;&lt;v&gt;3.4000000000e+00&lt;/v&gt;&lt;v&gt;5.4400000000e+01&lt;/v&gt;&lt;/row&gt;
    &lt;row&gt;&lt;t&gt;1020613200&lt;/t&gt;&lt;v&gt;3.4000000000e+00&lt;/v&gt;&lt;v&gt;5.4400000000e+01&lt;/v&gt;&lt;/row&gt;
    &lt;row&gt;&lt;t&gt;1020613500&lt;/t&gt;&lt;v&gt;3.4000000000e+00&lt;/v&gt;&lt;v&gt;5.4400000000e+01&lt;/v&gt;&lt;/row&gt;
    &lt;row&gt;&lt;t&gt;1020613800&lt;/t&gt;&lt;v&gt;3.4000000000e+00&lt;/v&gt;&lt;v&gt;5.4400000000e+01&lt;/v&gt;&lt;/row&gt;
    &lt;row&gt;&lt;t&gt;1020614100&lt;/t&gt;&lt;v&gt;3.4000000000e+00&lt;/v&gt;&lt;v&gt;5.4400000000e+01&lt;/v&gt;&lt;/row&gt;
    &lt;row&gt;&lt;t&gt;1020614400&lt;/t&gt;&lt;v&gt;3.4000000000e+00&lt;/v&gt;&lt;v&gt;5.4400000000e+01&lt;/v&gt;&lt;/row&gt;
    &lt;row&gt;&lt;t&gt;1020614700&lt;/t&gt;&lt;v&gt;3.7333333333e+00&lt;/v&gt;&lt;v&gt;5.9733333333e+01&lt;/v&gt;&lt;/row&gt;
    &lt;row&gt;&lt;t&gt;1020615000&lt;/t&gt;&lt;v&gt;3.4000000000e+00&lt;/v&gt;&lt;v&gt;5.4400000000e+01&lt;/v&gt;&lt;/row&gt;
    &lt;row&gt;&lt;t&gt;1020615300&lt;/t&gt;&lt;v&gt;3.4000000000e+00&lt;/v&gt;&lt;v&gt;5.4400000000e+01&lt;/v&gt;&lt;/row&gt;
    &lt;row&gt;&lt;t&gt;1020615600&lt;/t&gt;&lt;v&gt;NaN&lt;/v&gt;&lt;v&gt;NaN&lt;/v&gt;&lt;/row&gt;
  &lt;/data&gt;</pre>


<h2>EXAMPLE 1
<a name="EXAMPLE 1"></a>
</h2>


<pre style="margin-left:11%; margin-top: 1em">  rrdtool xport \
          DEF:out=if1&minus;inouts.rrd:outoctets:AVERAGE \
          XPORT:out:&quot;out bytes&quot;</pre>


<h2>EXAMPLE 2
<a name="EXAMPLE 2"></a>
</h2>


<pre style="margin-left:11%; margin-top: 1em">  rrdtool xport \
          DEF:out1=if1&minus;inouts.rrd:outoctets:AVERAGE \
          DEF:out2=if2&minus;inouts.rrd:outoctets:AVERAGE \
          CDEF:sum=out1,out2,+ \
          XPORT:out1:&quot;if1 out bytes&quot; \
          XPORT:out2:&quot;if2 out bytes&quot; \
          XPORT:sum:&quot;output sum&quot;</pre>


<h2>ENVIRONMENT VARIABLES
<a name="ENVIRONMENT VARIABLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
environment variables may be used to change the behavior of
<tt>&quot;rrdtool&nbsp;xport&quot;</tt>: <b><small><br>
RRDCACHED_ADDRESS</small></b></p>

<p style="margin-left:17%;">If this environment variable is
set it will have the same effect as specifying the
<tt>&quot;&minus;&minus;daemon&quot;</tt> option on the
command line. If both are present, the command line argument
takes precedence.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Tobias Oetiker
&lt;tobi@oetiker.ch&gt;</p>
<hr>
</body>
</html>
