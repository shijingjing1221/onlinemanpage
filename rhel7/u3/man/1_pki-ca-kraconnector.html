<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:08:28 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>pki-ca-kraconnector</title>

</head>
<body>

<h1 align="center">pki-ca-kraconnector</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#OPERATIONS">OPERATIONS</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">pki-ca-kraconnector
&minus; Command-Line Interface for managing CA-KRA
connectors.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>pki</b> [CLI
options] <b>ca-kraconnector <br>
pki</b> [CLI options] <b>ca-kraconnector-show <br>
pki</b> [CLI options] <b>ca-kraconnector-add</b>
--input-file &lt;input file&gt; | --host &lt;KRA host&gt;
--port &lt;KRA port&gt; <b><br>
pki</b> [CLI options] <b>ca-kraconnector-del</b> --host
&lt;KRA host&gt; --port &lt;KRA port&gt;</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>pki-ca-kraconnector</b> commands provide command-line
interfaces to manage CA-KRA connectors. This command should
be applied against CAs only.</p>

<p style="margin-left:11%; margin-top: 1em">When keys are
archived, the CA communicates with the KRA through
authenticated persistent connections called Connectors.
Because the CA initiates the communication, the connector
configuration is performed on the CA only. A Connector is
automatically configured on the issuing CA whenever a KRA is
set up by <b>pkispawn</b>.</p>

<p style="margin-left:11%; margin-top: 1em">A CA may have
only one KRA connector. This connector can be configured to
talk to multiple KRAs (for high availability) only if the
KRAs are clones.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki</b> [CLI
options] <b>ca-kraconnector</b></p>

<p style="margin-left:17%;">This command is to list
available KRA connector commands.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki</b> [CLI
options] <b>ca-kraconnector-show</b></p>

<p style="margin-left:17%;">This command is to view the
configuration settings for the CA-KRA connector configured
on the CA. These details can be redirected to a file,
modified as needed, and used as the input file for the
<b>ca-kraconnector-add</b> command.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki</b> [CLI
options] <b>ca-kraconnector-add</b> --input-file
&lt;input_file&gt;</p>

<p style="margin-left:17%;">This command is to configure
the CA-KRA connector on the CA subsystem. The input file is
an XML document as provided by the
<b>ca-kraconnector-show</b> command.</p>

<p style="margin-left:17%; margin-top: 1em">A CA-KRA
connector can only be created from an input file only if a
connector does not already exist. If one already exists, it
should be removed first.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki</b> [CLI
options] <b>ca-kraconnector-add</b> --host &lt;KRA host&gt;
--port &lt;KRA Port&gt;</p>

<p style="margin-left:17%;">This command is to add a host
to an existing CA-KRA connector.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki</b> [CLI
options] <b>ca-kraconnector-del</b> --host &lt;KRA Host&gt;
--port &lt;KRA Port&gt;</p>

<p style="margin-left:17%;">This command is to delete a
host from the CA-KRA connector on a CA. If the last KRA host
is removed, the connector configuration is removed from the
CA.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The CLI options
are described in <b>pki</b>(1).</p>

<h2>OPERATIONS
<a name="OPERATIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">To view
available CA-KRA connector commands, type <b>pki
ca-kraconnector</b>. To view each command&rsquo;s usage,
type <b>pki ca-kraconnector-&lt;command&gt;
&minus;&minus;help</b>.</p>

<p style="margin-left:11%; margin-top: 1em">All CA-KRA
connector commands must be executed as the CA
administrator.</p>

<p style="margin-left:11%; margin-top: 1em">To retrieve the
CA-KRA connector configuration from the CA:</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki &lt;CA
admin authentication&gt; ca-kraconnector-show</b></p>

<p style="margin-left:11%; margin-top: 1em">One of the most
common use cases for these commands is to add a KRA clone to
an existing CA-KRA connector for high availability. This can
be done using the pki ca-kraconnector-add command as
shown:</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki &lt;CA
admin authentication&gt; ca-kraconnector-add --host
kra2.example.com --port 8443</b></p>

<p style="margin-left:11%; margin-top: 1em">To delete a KRA
clone from the connector:</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki &lt;CA
admin authentication&gt; ca-kraconnector-del --host
kra2.example.com --port 8443</b></p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Ade Lee
&lt;alee@redhat.com&gt;.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright (c)
2016 Red Hat, Inc. This is licensed under the GNU General
Public License, version 2 (GPLv2). A copy of this license is
available at
http://www.gnu.org/licenses/old-licenses/gpl-2.0.txt.</p>
<hr>
</body>
</html>
