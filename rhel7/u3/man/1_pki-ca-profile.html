<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:08:29 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>pki-ca-profile</title>

</head>
<body>

<h1 align="center">pki-ca-profile</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#OPERATIONS">OPERATIONS</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">pki-profile
&minus; Command-Line Interface for managing Certificate
System CA profiles.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>pki</b> [CLI
options] <b>ca-profile <br>
pki</b> [CLI options] <b>ca-profile-find</b> [command
options] <b><br>
pki</b> [CLI options] <b>ca-profile-show &lt;profile
ID&gt;</b> [command options] <b><br>
pki</b> [CLI options] <b>ca-profile-add &lt;input file
path&gt;</b> [command options] <b><br>
pki</b> [CLI options] <b>ca-profile-mod &lt;input file
path&gt;</b> [command options] <b><br>
pki</b> [CLI options] <b>ca-profile-del &lt;profile
ID&gt;</b> [command options] <b><br>
pki</b> [CLI options] <b>ca-profile-enable &lt;profile
ID&gt;</b> [command options] <b><br>
pki</b> [CLI options] <b>ca-profile-disable &lt;profile
ID&gt;</b> [command options]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <b>pki
ca-profile</b> commands provide command-line interfaces to
manage profiles on the CA.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki</b> [CLI
options] <b>ca-profile-find</b> [command options]</p>

<p style="margin-left:17%;">This command is to list the
profiles.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki</b> [CLI
options] <b>ca-profile-show &lt;profile ID&gt;</b> [command
options]</p>

<p style="margin-left:17%;">This command is to view the
details of a profile.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki</b> [CLI
options] <b>ca-profile-add &lt;input file path&gt;</b>
[command options]</p>

<p style="margin-left:17%;">This command is to create a new
profile.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki</b> [CLI
options] <b>ca-profile-mod &lt;input file path&gt;</b>
[command options]</p>

<p style="margin-left:17%;">This command is to modify an
existing profile.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki</b> [CLI
options] <b>ca-profile-del &lt;profile ID&gt;</b> [command
options]</p>

<p style="margin-left:17%;">This command is to delete a
profile.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki</b> [CLI
options] <b>ca-profile-enable &lt;profile ID&gt;</b>
[command options]</p>

<p style="margin-left:17%;">This command is to enable a
profile.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki</b> [CLI
options] <b>ca-profile-disable &lt;profile ID&gt;</b>
[command options]</p>

<p style="margin-left:17%;">This command is to disable a
profile.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The CLI options
are described in <b>pki</b>(1).</p>

<h2>OPERATIONS
<a name="OPERATIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">To view
available profile commands, type <b>pki ca-profile</b>. To
view each command&rsquo;s usage, type <b>pki
ca-profile-&lt;command&gt; &minus;&minus;help</b>.</p>

<p style="margin-left:11%; margin-top: 1em">All the
ca-profile commands require CA agent authentication.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Viewing the
profiles <br>
pki &lt;CA agent authentication&gt; ca-profile-find</b></p>

<p style="margin-left:11%; margin-top: 1em">The results can
be paged using the <b>--start</b> and <b>--size</b> options
described in <b>pki</b>(1).</p>

<p style="margin-left:11%; margin-top: 1em">To view the
contents of a profile:</p>

<p style="margin-left:11%; margin-top: 1em">A set of
profile inputs, profile outputs, authenticators, policies
and constraints are defined in a profile. These contents can
be viewed using the following command:</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki &lt;CA
agent authentication&gt; ca-profile-show &lt;profile
ID&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">To store the
output of the above operation, the output option must be
specified.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki &lt;CA
agent authentication&gt; ca-profile-show &lt;profile ID&gt;
--output &lt;file path&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">This output
file can be used for modifying the profile. It can be used
as a template for certificate enrollment as well but, a more
suitable template can be fetched using the <b>pki
cert-request-profile-show</b> command. The <b>pki
cert-request-profile-show</b> command does not require an
agent/administrator level authentication and contains only
the profile inputs section (which is required for
certificate enrollment).</p>


<p style="margin-left:11%; margin-top: 1em"><b>Add/Modify/Delete
a profile <br>
pki &lt;CA admin authentication&gt; ca-profile-add &lt;input
file path&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">The contents of
the input file must be in an XML format returned by the
ca-profile-show command. This data will be marshaled by the
CLI client to create a new profile in the CA. The profile
must be disabled before it is modified. It must be enabled
after modification to be used for certificate
enrollment.</p>

<p style="margin-left:11%; margin-top: 1em">To modify an
existing profile:</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki &lt;CA
admin authentication&gt; ca-profile-mod &lt;input file
path&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">The profile
data can be retrieved using the ca-profile-show command and
after editing the file, it can be provided to the
profile-mod command to modify an existing profile.</p>

<p style="margin-left:11%; margin-top: 1em">To delete a
profile in the CA:</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki &lt;CA
admin authentication&gt; ca-profile-del &lt;profile
ID&gt;</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>Enabling/Disabling
a profile in the CA</b> <br>
To enable a profile in the CA:</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki &lt;CA
agent authenticaton&gt; ca-profile-enable &lt;profile
ID&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">A profile must
be enabled before it can be used.</p>

<p style="margin-left:11%; margin-top: 1em">To disable a
profile in the CA:</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki &lt;CA
agent authentication&gt; ca-profile-disable &lt;profile
ID&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">A profile must
be disabled before it can be modified.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Note:</b>
Modifying or deleting a profile requires user(s) that have
two roles (admin and agent). The same user may be in both
roles. An agent is needed to first disable the profile. Once
the profile is disabled, it can be modified/deleted by an
admin user. Then, an agent is needed to enable the profile
for use by the CA.</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Abhishek Koneru
&lt;akoneru@redhat.com&gt;.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright (c)
2014 Red Hat, Inc. This is licensed under the GNU General
Public License, version 2 (GPLv2). A copy of this license is
available at
http://www.gnu.org/licenses/old-licenses/gpl-2.0.txt.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pki(1)</b></p>
<hr>
</body>
</html>
