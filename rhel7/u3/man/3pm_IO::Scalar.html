<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 21:43:59 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>IO::Scalar</title>

</head>
<body>

<h1 align="center">IO::Scalar</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#PUBLIC INTERFACE">PUBLIC INTERFACE</a><br>
<a href="#WARNINGS">WARNINGS</a><br>
<a href="#VERSION">VERSION</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">IO::Scalar
&minus; IO:: interface for reading/writing a scalar</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Perform I/O on
strings, using the basic <small>OO</small> interface...</p>

<pre style="margin-left:11%; margin-top: 1em">    use 5.005;
    use IO::Scalar;
    $data = &quot;My message:\n&quot;;
    ### Open a handle on a string, and append to it:
    $SH = new IO::Scalar \$data;
    $SH&minus;&gt;print(&quot;Hello&quot;);
    $SH&minus;&gt;print(&quot;, world!\nBye now!\n&quot;);
    print &quot;The string is now: &quot;, $data, &quot;\n&quot;;
    ### Open a handle on a string, read it line&minus;by&minus;line, then close it:
    $SH = new IO::Scalar \$data;
    while (defined($_ = $SH&minus;&gt;getline)) {
        print &quot;Got line: $_&quot;;
    }
    $SH&minus;&gt;close;
    ### Open a handle on a string, and slurp in all the lines:
    $SH = new IO::Scalar \$data;
    print &quot;All lines:\n&quot;, $SH&minus;&gt;getlines;
    ### Get the current position (either of two ways):
    $pos = $SH&minus;&gt;getpos;
    $offset = $SH&minus;&gt;tell;
    ### Set the current position (either of two ways):
    $SH&minus;&gt;setpos($pos);
    $SH&minus;&gt;seek($offset, 0);
    ### Open an anonymous temporary scalar:
    $SH = new IO::Scalar;
    $SH&minus;&gt;print(&quot;Hi there!&quot;);
    print &quot;I printed: &quot;, ${$SH&minus;&gt;sref}, &quot;\n&quot;;      ### get at value</pre>


<p style="margin-left:11%; margin-top: 1em">Don&rsquo;t
like <small>OO</small> for your I/O? No problem. Thanks to
the magic of an invisible <i>tie()</i>, the following now
works out of the box, just as it does with IO::Handle:</p>

<pre style="margin-left:11%; margin-top: 1em">    use 5.005;
    use IO::Scalar;
    $data = &quot;My message:\n&quot;;
    ### Open a handle on a string, and append to it:
    $SH = new IO::Scalar \$data;
    print $SH &quot;Hello&quot;;
    print $SH &quot;, world!\nBye now!\n&quot;;
    print &quot;The string is now: &quot;, $data, &quot;\n&quot;;
    ### Open a handle on a string, read it line&minus;by&minus;line, then close it:
    $SH = new IO::Scalar \$data;
    while (&lt;$SH&gt;) {
        print &quot;Got line: $_&quot;;
    }
    close $SH;
    ### Open a handle on a string, and slurp in all the lines:
    $SH = new IO::Scalar \$data;
    print &quot;All lines:\n&quot;, &lt;$SH&gt;;
    ### Get the current position (WARNING: requires 5.6):
    $offset = tell $SH;
    ### Set the current position (WARNING: requires 5.6):
    seek $SH, $offset, 0;
    ### Open an anonymous temporary scalar:
    $SH = new IO::Scalar;
    print $SH &quot;Hi there!&quot;;
    print &quot;I printed: &quot;, ${$SH&minus;&gt;sref}, &quot;\n&quot;;      ### get at value</pre>


<p style="margin-left:11%; margin-top: 1em">And for you
folks with 1.x code out there: the old <i>tie()</i> style
still works, though this is <i>unnecessary and
deprecated</i>:</p>

<pre style="margin-left:11%; margin-top: 1em">    use IO::Scalar;
    ### Writing to a scalar...
    my $s;
    tie *OUT, 'IO::Scalar', \$s;
    print OUT &quot;line 1\nline 2\n&quot;, &quot;line 3\n&quot;;
    print &quot;String is now: $s\n&quot;
    ### Reading and writing an anonymous scalar...
    tie *OUT, 'IO::Scalar';
    print OUT &quot;line 1\nline 2\n&quot;, &quot;line 3\n&quot;;
    tied(OUT)&minus;&gt;seek(0,0);
    while (&lt;OUT&gt;) {
        print &quot;Got line: &quot;, $_;
    }</pre>



<p style="margin-left:11%; margin-top: 1em">Stringification
works, too!</p>

<pre style="margin-left:11%; margin-top: 1em">    my $SH = new IO::Scalar \$data;
    print $SH &quot;Hello, &quot;;
    print $SH &quot;world!&quot;;
    print &quot;I printed: $SH\n&quot;;</pre>


<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This class is
part of the IO::Stringy distribution; see IO::Stringy for
change log and general information.</p>

<p style="margin-left:11%; margin-top: 1em">The IO::Scalar
class implements objects which behave just like IO::Handle
(or FileHandle) objects, except that you may use them to
write to (or read from) scalars. These handles are
automatically tiehandle&rsquo;d (though please see &quot;
<small>WARNINGS&quot;</small> for information relevant to
your Perl version).</p>

<p style="margin-left:11%; margin-top: 1em">Basically,
this:</p>

<pre style="margin-left:11%; margin-top: 1em">    my $s;
    $SH = new IO::Scalar \$s;
    $SH&minus;&gt;print(&quot;Hel&quot;, &quot;lo, &quot;);         ### OO style
    $SH&minus;&gt;print(&quot;world!\n&quot;);            ### ditto</pre>


<p style="margin-left:11%; margin-top: 1em">Or this:</p>

<pre style="margin-left:11%; margin-top: 1em">    my $s;
    $SH = tie *OUT, 'IO::Scalar', \$s;
    print OUT &quot;Hel&quot;, &quot;lo, &quot;;           ### non&minus;OO style
    print OUT &quot;world!\n&quot;;              ### ditto</pre>


<p style="margin-left:11%; margin-top: 1em">Causes
<tt>$s</tt> to be set to:</p>

<pre style="margin-left:11%; margin-top: 1em">    &quot;Hello, world!\n&quot;</pre>


<h2>PUBLIC INTERFACE
<a name="PUBLIC INTERFACE"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>Construction</b>
<br>
new [ <small>ARGS...</small> ]</p>

<p style="margin-left:17%;"><i>Class method.</i> Return a
new, unattached scalar handle. If any arguments are given,
they&rsquo;re sent to <i>open()</i>.</p>

<p style="margin-left:11%;">open [ <small>SCALARREF</small>
]</p>

<p style="margin-left:17%;"><i>Instance method.</i> Open
the scalar handle on a new scalar, pointed to by
<small>SCALARREF.</small> If no <small>SCALARREF</small> is
given, a &quot;private&quot; scalar is created to hold the
file data.</p>

<p style="margin-left:17%; margin-top: 1em">Returns the
self object on success, undefined on error.</p>

<p style="margin-left:11%;">opened</p>

<p style="margin-left:17%;"><i>Instance method.</i> Is the
scalar handle opened on something?</p>

<p style="margin-left:11%;">close</p>

<p style="margin-left:17%;"><i>Instance method.</i>
Disassociate the scalar handle from its underlying scalar.
Done automatically on destroy.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Input and
output</b> <br>
flush</p>

<p style="margin-left:17%;"><i>Instance method.</i> No-op,
provided for <small>OO</small> compatibility.</p>

<p style="margin-left:11%;">getc</p>

<p style="margin-left:17%;"><i>Instance method.</i> Return
the next character, or undef if none remain.</p>

<p style="margin-left:11%;">getline</p>

<p style="margin-left:17%;"><i>Instance method.</i> Return
the next line, or undef on end of string. Can safely be
called in an array context. Currently, lines are delimited
by &quot;\n&quot;.</p>

<p style="margin-left:11%;">getlines</p>

<p style="margin-left:17%;"><i>Instance method.</i> Get all
remaining lines. It will <i>croak()</i> if accidentally
called in a scalar context.</p>

<p style="margin-left:11%;">print
<small>ARGS...</small></p>

<p style="margin-left:17%;"><i>Instance method.</i> Print
<small>ARGS</small> to the underlying scalar.</p>


<p style="margin-left:17%; margin-top: 1em"><b>Warning:</b>
this continues to always cause a seek to the end of the
string, but if you perform <i>seek()</i>s and
<i>tell()</i>s, it is still safer to explicitly seek-to-end
before subsequent <i>print()</i>s.</p>

<p style="margin-left:11%;">read <small>BUF,
NBYTES,</small> [ <small>OFFSET</small> ]</p>

<p style="margin-left:17%;"><i>Instance method.</i> Read
some bytes from the scalar. Returns the number of bytes
actually read, 0 on end-of-file, undef on error.</p>

<p style="margin-left:11%;">write <small>BUF,
NBYTES,</small> [ <small>OFFSET</small> ]</p>

<p style="margin-left:17%;"><i>Instance method.</i> Write
some bytes to the scalar.</p>

<p style="margin-left:11%;">sysread <small>BUF,
LEN,</small> [ <small>OFFSET</small> ]</p>

<p style="margin-left:17%;"><i>Instance method.</i> Read
some bytes from the scalar. Returns the number of bytes
actually read, 0 on end-of-file, undef on error.</p>

<p style="margin-left:11%;">syswrite <small>BUF,
NBYTES,</small> [ <small>OFFSET</small> ]</p>

<p style="margin-left:17%;"><i>Instance method.</i> Write
some bytes to the scalar.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Seeking/telling
and other attributes</b> <br>
autoflush</p>

<p style="margin-left:17%;"><i>Instance method.</i> No-op,
provided for <small>OO</small> compatibility.</p>

<p style="margin-left:11%;">binmode</p>

<p style="margin-left:17%;"><i>Instance method.</i> No-op,
provided for <small>OO</small> compatibility.</p>

<p style="margin-left:11%;">clearerr</p>

<p style="margin-left:17%;"><i>Instance method.</i> Clear
the error and <small>EOF</small> flags. A no-op.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>eof</p></td>
<td width="2%"></td>
<td width="61%">


<p><i>Instance method.</i> Are we at end of file?</p></td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:11%;">seek <small>OFFSET,
WHENCE</small></p>

<p style="margin-left:17%;"><i>Instance method.</i> Seek to
a given position in the stream.</p>

<p style="margin-left:11%;">sysseek <small>OFFSET,
WHENCE</small></p>

<p style="margin-left:17%;"><i>Instance method.</i>
Identical to <tt>&quot;seek OFFSET, WHENCE&quot;</tt>,
<i>q.v.</i></p>

<p style="margin-left:11%;">tell</p>

<p style="margin-left:17%;"><i>Instance method.</i> Return
the current position in the stream, as a numeric offset.</p>

<p style="margin-left:11%;">setpos <small>POS</small></p>

<p style="margin-left:17%;"><i>Instance method.</i> Set the
current position, using the opaque value returned by
<tt>&quot;getpos()&quot;</tt>.</p>

<p style="margin-left:11%;">getpos</p>

<p style="margin-left:17%;"><i>Instance method.</i> Return
the current position in the string, as an opaque object.</p>

<p style="margin-left:11%;">sref</p>

<p style="margin-left:17%;"><i>Instance method.</i> Return
a reference to the underlying scalar.</p>

<h2>WARNINGS
<a name="WARNINGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Perl&rsquo;s
<small>TIEHANDLE</small> spec was incomplete prior to
5.005_57; it was missing support for
<tt>&quot;seek()&quot;</tt>, <tt>&quot;tell()&quot;</tt>,
and <tt>&quot;eof()&quot;</tt>. Attempting to use these
functions with an IO::Scalar will not work prior to
5.005_57. IO::Scalar will not have the relevant methods
invoked; and even worse, this kind of bug can lie dormant
for a while. If you turn warnings on (via <tt>$^W</tt> or
<tt>&quot;perl &minus;w&quot;</tt>), and you see something
like this...</p>

<pre style="margin-left:11%; margin-top: 1em">    attempt to seek on unopened filehandle</pre>


<p style="margin-left:11%; margin-top: 1em">...then you are
probably trying to use one of these functions on an
IO::Scalar with an old Perl. The remedy is to simply use the
<small>OO</small> version; e.g.:</p>

<pre style="margin-left:11%; margin-top: 1em">    $SH&minus;&gt;seek(0,0);    ### GOOD: will work on any 5.005
    seek($SH,0,0);     ### WARNING: will only work on 5.005_57 and beyond</pre>


<h2>VERSION
<a name="VERSION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><tt>$Id:</tt>
Scalar.pm,v 1.6 2005/02/10 21:21:53 dfs Exp $</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Primary
Maintainer</b> <br>
David F. Skoll (<i>dfs@roaringpenguin.com</i>).</p>

<p style="margin-left:11%; margin-top: 1em"><b>Principal
author</b> <br>
Eryq (<i>eryq@zeegee.com</i>). President, ZeeGee Software
Inc (<i>http://www.zeegee.com</i>).</p>

<p style="margin-left:11%; margin-top: 1em"><b>Other
contributors</b> <br>
The full set of contributors always includes the folks
mentioned in &quot; <small>CHANGE LOG&quot;</small> in
IO::Stringy. But just the same, special thanks to the
following individuals for their invaluable contributions (if
I&rsquo;ve forgotten or misspelled your name, please email
me!):</p>

<p style="margin-left:11%; margin-top: 1em"><i>Andy
Glew,</i> for contributing <tt>&quot;getc()&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Brandon
Browning,</i> for suggesting
<tt>&quot;opened()&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em"><i>David
Richter,</i> for finding and fixing the bug in
<tt>&quot;PRINTF()&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Eric L.
Brine,</i> for his offset-using <i>read()</i> and
<i>write()</i> implementations.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Richard
Jones,</i> for his patches to massively improve the
performance of <tt>&quot;getline()&quot;</tt> and add
<tt>&quot;sysread&quot;</tt> and
<tt>&quot;syswrite&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em"><i>B. K. Oxley
(binkley),</i> for stringification and inheritance
improvements, and sundry good ideas.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Doug
Wilson,</i> for the IO::Handle inheritance and automatic
tie-ing.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">IO::String,
which is quite similar but which was designed more-recently
and with an IO::Handle&minus;like interface in mind, so you
could mix <small>OO&minus;</small> and native-filehandle
usage without using <i>tied()</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Note:</i> as
of version 2.x, these classes all work like their IO::Handle
counterparts, so we have comparable functionality to
IO::String.</p>
<hr>
</body>
</html>
