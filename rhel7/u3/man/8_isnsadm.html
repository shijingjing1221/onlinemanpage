<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 21:45:35 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>ISNSADM</title>

</head>
<body>

<h1 align="center">ISNSADM</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHORS">AUTHORS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">isnsadm &minus;
iSNS client utility</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>isnsadm</b>
[<i>options...</i>] --register <i>object...</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>isnsadm</b>
[<b>...</b>] --query <i>attr</i>[=<i>value</i>]</p>

<p style="margin-left:11%; margin-top: 1em"><b>isnsadm</b>
[<b>...</b>] --deregister <i>attr=value</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>isnsadm</b>
[<b>...</b>] --list <i>type attr=value</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>isnsadm</b>
[<b>...</b>] --dd-register <i>attr=value</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>isnsadm</b>
[<b>...</b>] --enroll <i>client-name attr=value</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>isnsadm</b>
[<b>...</b>] --edit-policy <i>attr=value</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i><b>Isnsadm</b></i>
is a command line utility for interacting with an iSNS
server. It operates in one of several modes, which are
mutually exclusive. Currently, <b>isnsadm</b> supports
registration, query, and deregistration.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">By default,
<b>isnsadm</b> will take most of its settings from the
configuration file <b>/etc/isns/isnsadm.conf</b>, with the
exception of the following options: <b><br>
&minus;-config</b> <i>filename</i>, <b>&minus;c</b>
<i>filename</i></p>

<p style="margin-left:22%;">This option overrides the
default configuration file.</p>

<p style="margin-left:11%;"><b>&minus;-debug</b>
<i>facility</i>, <b>&minus;d</b> <i>facility</i></p>

<p style="margin-left:22%;">enables debugging. Valid
facilities are</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-280551.png" alt="Image grohtml-280551.png"></p>

<p style="margin-left:11%;"><b>&minus;-local</b></p>

<p style="margin-left:22%;">makes <b>isnsadm</b> use a
Local (aka Unix) socket when talking to the iSNS server.
This can be used by the administrator to perform management
tasks, such as enrolling new clients, editing access control
and so on. Local mode is only available to the super
user.</p>

<p style="margin-left:11%;"><b>&minus;-control</b></p>

<p style="margin-left:22%;">makes <b>isnsadm</b> assume the
identity of a control node. Control nodes are special in
that they have more rights in accessing and modifying the
database than normal storage nodes have.</p>

<p style="margin-left:11%; margin-top: 1em">When using this
option, <b>isnsadm</b> will use the source name and DSA key
specified by the <b>Control.SourceName</b> and
<b>Control.AuthKeyFile</b> configuration options,
respectively. <b><br>
&minus;-key</b> <i>attr</i><b>=</b><i>value</i></p>

<p style="margin-left:22%;">This option is recognized in
registration mode only, and lets you specify an object key.
For a more detailed explanation, refer to section
<b>Registration mode</b>.</p>


<p style="margin-left:11%;"><b>&minus;-keyfile=</b><i>filename</i></p>

<p style="margin-left:22%;">When creating a policy for a
new iSNS client, <b>isnsadm</b> is able to generate a DSA
key for the client. The public part of the key is stored in
a policy object in the iSNS server&rsquo;s database, whereas
the private portion is stored in the file specified by the
<b>keyfile</b> option.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;-help</b></p></td>
<td width="2%"></td>
<td width="61%">


<p>This will print a help message and exit.</p></td>
<td width="17%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>Built-in
help <br>
Isnsadm</b> has built-in help functions. When invoked with
<b>&minus;-help</b>, it will print a general help message
showing all supported command modes, and exit. Specific help
on an individual command mode is available by invoking that
mode with a single argument of <b>help</b>, like this:</p>

<p style="margin-left:11%; margin-top: 1em"><b>isnsadm
--register help</b></p>

<p style="margin-left:11%; margin-top: 1em">This will print
a help message describing how to use this command mode,
followed by a list of attributes this command supports and a
help text describing the attribute.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Supported
attributes</b> <br>
Most command modes take a list of attributes as arguments on
the command line. The naming and syntax of these attributes
as the same for all commands modes, however certain modes
support only a limited set of attributes.</p>

<p style="margin-left:11%; margin-top: 1em">Attributes are
usually given as <i>name</i><b>=</b><i>value</i> pairs.
Where empty (or NIL) attributes are supported, the attribute
name by itself can be given.</p>

<p style="margin-left:11%; margin-top: 1em">The syntax of
attribute <i>value</i> depends on the attribute type. For
strings and numeric values, no special conventions apply,
but bitfields have a special syntax described below.</p>

<p style="margin-left:11%; margin-top: 1em">The attribute
name is usually preceded by the object type it applies to
(such as <b>entity</b>), followed by a hyphen and the name
itself. However, where the context clearly determines a
specific object type, the prefix can be omitted. For
instance, when editing a policy object using
<b>&minus;-edit-policy</b>, it is acceptable to use
<b>node-type</b> as shorthand for
<b>policy-node-type</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Likewise, in a
query command, it is not permitted to mix attributes from
different object types. Thus, the first attribute of a query
string establishes a type context, so that the following two
invocations are equivalent:</p>

<p style="margin-left:11%; margin-top: 1em"><b>isnsadm
--query pg-name=iqn.com.foo pg-addr=10.1.1.1 pg-port=860/tcp
<br>
isnsadm --query pg-name=iqn.com.foo addr=10.1.1.1
port=860/tcp</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>Isnsadm</b>
currently supports the following attributes:</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-280552.png" alt="Image grohtml-280552.png"></p>

<p style="margin-left:11%; margin-top: 1em"><b>Portal
attributes</b> <br>
Portal information is conveyed by two separate attributes in
iSNS; an address attribute holding the IP address, and a
TCP/UDP port attribute holding the port number and an
indication of the protocol to be used (TCP or UDP).</p>

<p style="margin-left:11%; margin-top: 1em">When parsing a
TCP/UDP port, Open-iSNS will expect a port number,
optionally followed by a slash and the protocol. Port names
such as &quot;iscsi-target&quot; are not supported.</p>

<p style="margin-left:11%; margin-top: 1em">As a
convenience, <b>isnsadm</b> supports a notation representing
a portal as one pseudo-attribute. Separating address and
port by a colon. Thus, the following two are equivalent,
with the latter being the shorthand representation of the
former:</p>


<p style="margin-left:11%; margin-top: 1em"><b>addr=</b><i>&lt;address&gt;</i>
<b>port=</b><i>&lt;port&gt;</i><b>[/</b><i>protocol</i><b>]</b>.
<b>portal=</b><i>&lt;adress&gt;</i><b>:</b><i>port</i><b>[/</b><i>protocol</i><b>]</b></p>

<p style="margin-left:11%; margin-top: 1em">This notation
can be used in any context where an <b>addr</b>/<b>port</b>
attribute pair can appear, and may be prefixed by a type
name, as in <b>pg-portal=...</b>.</p>

<p style="margin-left:11%; margin-top: 1em">When using
literal IPv6 addresses, the address has to be surrounded by
square brackets, otherwise the embedded colons would create
ambiguity: <b>portal=[2001:5c0:0:2::24]:860/tcp</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>Bitfield
attributes</b> <br>
Some iSNS attributes are words representing a bit field.
<b>Isnsadm</b> displays and parses these attributes in
human-readable form rather than using the numerical value.
The names of the bit values are displayed by built-in help
facilities. When specifying a bitfield attribute on the
command line, you can combine them using the plus (<b>+</b>)
or comma (<b>,</b>) character, like this:</p>


<p style="margin-left:11%; margin-top: 1em"><b>node-type=control+initiator</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>Registration
mode</b> <br>
Registration mode is selected by using the <b>--register</b>
option, followed by a list of one or more objects to
register with the iSNS server. By default, this will create
a network entity for the client (if none exists), and place
the new objects inside it. Usually, you register all objects
for a network entity in one operation, rather than each one
separately.</p>

<p style="margin-left:11%; margin-top: 1em">Each object is
specified as a type, optionally followed by a
comma-separated list of attributes, such as this:</p>


<p style="margin-left:11%; margin-top: 1em"><b>target=iqn.2005-01.org.open-iscsi.foo:disk1,alias=disk1</b></p>

<p style="margin-left:11%; margin-top: 1em">The following
object types are currently supported: <b><br>
entity=</b><i>name</i></p>

<p style="margin-left:22%;">Tells the server to group all
objects in the specified Network Entity container object.
Normally, the iSNS server will automatically assign an
entity name that is in line with its policies, and there is
no need to specify it explicitly.</p>


<p style="margin-left:11%;"><b>initiator[=</b><i>name</i><b>]</b></p>

<p style="margin-left:22%;">This will register an iSCSI
storage node of type initiator. By default, the name is set
to the iSNS source name.</p>

<p style="margin-left:22%; margin-top: 1em">This can be
followed by any number of iSCSI storage node attributes.</p>


<p style="margin-left:11%;"><b>target[=</b><i>name</i><b>]</b></p>

<p style="margin-left:22%;">This will register an iSCSI
storage node of type target. By default, the name is set to
the iSNS source name.</p>

<p style="margin-left:22%; margin-top: 1em">This object
accepts the same set of attributes as <b>initiator</b>.</p>


<p style="margin-left:11%;"><b>control[=</b><i>name</i><b>]</b></p>

<p style="margin-left:22%;">This will register an iSCSI
storage node of type control. By default, the name is set to
the iSNS source name. Only management nodes should be
registered as control nodes, as this gives a node complete
control over the iSNS database.</p>

<p style="margin-left:22%; margin-top: 1em">This object
accepts the same set of attributes as <b>initiator</b>.</p>


<p style="margin-left:11%;"><b>portal=[</b><i>address:port/proto</i><b>]</b></p>

<p style="margin-left:22%;">This will register a portal
using the given address, port and protocol triple. If the
triple is omitted, <b>isnsadm</b> will use the client
host&rsquo;s IP address. If the portal is preceded by an
initiator registration (on the command line), the port
defaults to 860/tcp; if it is preceded by a target
registration, the port defaults to 3260/tcp. For multi-homed
hosts, the choice of address is implementation
dependant.</p>

<p style="margin-left:22%; margin-top: 1em">This can be
followed by any number of portal attributes.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>pg</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>This will register a portal group joining the preceding
portal and node. Portal groups can be used to describe the
preferred portals for a given node; please refer to RFC 4711
for details.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">This can be
followed by any number of portal group attributes. The
attribute list must specify a portal group tag (PGT) via the
<b>pgt</b> attribute.</p>

<p style="margin-left:11%; margin-top: 1em">There are two
additional command line options of interest, which are used
exclusively with Registration mode. One is
<b>&minus;-replace</b>. Normally, registration mode will
<i>add</i> new objects to the network entity associated with
the client host. If you specify <b>&minus;-replace</b> on
the command line, the server will wipe the network entity
completely, and remove all portals and storage nodes it
contained. Then it will create a new network entity, and
place the portals and storage nodes provided by the caller
inside.</p>

<p style="margin-left:11%; margin-top: 1em">In addition, it
is possible to replace just parts of a network entity. This
is achieved by using the command line option
<b>&minus;-key</b> to specify the object that should be
replaced.</p>

<p style="margin-left:11%; margin-top: 1em">For instance,
assume a network entity contains the portal
<b>10.1.1.1:860</b>, and the client&rsquo;s network address
changed to <b>10.2.7.7</b>. Then the following command will
atomically update the database, replacing just the portal
without touching the registered storage nodes:</p>

<p style="margin-left:11%; margin-top: 1em"><b>isnsadm
--replace --key portal=10.1.1.1:860
portal=10.2.7.7:860</b></p>

<p style="margin-left:11%; margin-top: 1em">The
<b>&minus;-key</b> option recognizes only a subset of the
usual attributes:</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-280553.png" alt="Image grohtml-280553.png"></p>

<p style="margin-left:11%; margin-top: 1em">To get a list
of supported attributes, invoke <b>isnsadm --register
help</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Query
mode</b> <br>
Query mode is selected by using the <b>--query</b> option. A
query consists of a list of <b>attr</b>=value pairs. All
attributes must belong to the same object type, i.e. queries
that mix a Network Entity attribute with e.g. a Portal
attribute will be rejected.</p>

<p style="margin-left:11%; margin-top: 1em">It is also
possible to specify an attribute name without value (i.e.
just <b>attr</b>), which will will match any object that has
such an attribute, regardless of its value. This is useful
when you want to query for all objects of a given type.</p>

<p style="margin-left:11%; margin-top: 1em">To obtain a
list of supported attributes, invoke <b>isnsadm --query
help</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>List
Mode</b> <br>
In this mode, <b>isnsadm</b> will display all objects of a
given type, optionally restricted to those matching certain
attribute values.</p>

<p style="margin-left:11%; margin-top: 1em">The arguments
to list mode are a <i>type name</i>, optionally followed by
one or more <i>attr</i><b>=</b><i>value</i> pairs. Only
attributes pertaining to the given type are permitted; for
instance, if you specify a type name of <b>portals</b>, only
portal attributes are permitted.</p>

<p style="margin-left:11%; margin-top: 1em">Possible type
names are: <b>entities</b>, <b>nodes</b>, <b>portals</b>,
<b>dds</b>, <b>ddsets</b>, <b>portal-groups</b>, and
<b>policies</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Additional
information is available via <b>isnsadm --list help</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Deregistration
mode</b> <br>
In this mode, you can deregister objects previously
registered. Only the node which registered an entity in the
first place is permitted to remove it, or any of its child
objects. (Control nodes are not bound by this
restriction).</p>

<p style="margin-left:11%; margin-top: 1em">In
deregistration mode, the argument list consists of a list of
<i>attr</i><b>=</b><i>value</i> pairs. Deregistration
supports the same set of attributes as query mode.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Discovery
Domain Registration</b> <br>
This mode, allows to register a discovery domain or to add
new members to an existing discovery domain. Again,
attributes are specified as a list of
<i>attr</i><b>=</b><i>value</i> pairs. Only discovery domain
attributes are recognized.</p>

<p style="margin-left:11%; margin-top: 1em">Note, in order
to add members to an existing domain, you must specify the
domain&rsquo;s numeric ID. The domain&rsquo;s symbolic name
is not a valid handle when referring to a discovery
domain.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Client
Enrollment</b> <br>
This mode only works when the server recognizes the client
as having control node capabilities, which is possible in
two ways:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em">Invoke</p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em"><b>isnsadm &minus;-local</b> as
super user on the host <b>isnsd</b> is running on. The
<b>&minus;-local</b> options tells it to communicate with
the server through the local control socket.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p>Invoke</p></td>
<td width="2%"></td>
<td width="78%">


<p><b>isnsadm &minus;-control</b>, which tells it to assume
the identity of a control node. When given this option,
<b>isnsadm</b> will use the source name and DSA key
specified by the <b>Control.SourceName</b> and
<b>Control.AuthKeyFile</b> configuration options,
respectively. The server must be configured to grant this
identity control node status.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">To enroll a
client, use the <b>&minus;-enroll</b> option, followed by
the (source) name of the client to enroll. This string will
be used as the name of the security policy the client will
use to identify itself.</p>

<p style="margin-left:11%; margin-top: 1em">This is
followed by a list of attribute/value pairs, where the
following set of attributes is supported:</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-280554.png" alt="Image grohtml-280554.png"></p>

<p style="margin-left:11%;">The <b>key</b> attribute is
used to specify the DSA public key that the server should
use to authenticate messages from this client. You can
either provide a file name; in which case <b>isnsadm</b>
will try to read the PEM encoded public key from that file.
If no <b>key</b> attribute is given, or when using
<b>key=gen</b>, <b>isnsadm</b> will generate a DSA key. The
private portion of the newly generated key will be stored in
the file specified by <b>--keyfile=</b><i>filename</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>object-type</b> attribute is used to specify which object
types the client is permitted to access. This is a comma
separated list of <i>type</i><b>:</b><i>perm</i> pairs,
where <i>type</i> can be any of <b>entity</b>,
<b>iscsi-node</b>, <b>portal</b>, <b>portal-group</b>,
<b>dd</b>, <b>ddset</b>, and <b>policy</b>. The permissions
can be either <b>rw</b>, or <b>r</b>.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>functions</b> attribute can be used to restrict which
functions the client is permitted to invoke. This is a
bitfield, using the standard function names from RFC 4171,
such as <b>DevAttrReg</b>, <b>DevAttrQry</b>, etc.</p>

<p style="margin-left:11%; margin-top: 1em">For a
description of the open-isns security model and policies,
please refer to the <b>isns_config</b>(5) manual page.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Important
note</b>: In order to generate a DSA key, you have to have a
set of DSA parameters installed. By default, <b>isnsadm</b>
expects to find them in <b>/etc/isns/dsa.params</b>. These
parameters are created by calling <b>isnsd &minus;-init</b>
once on the server machine. Alternatively, you can use the
following command:</p>

<p style="margin-left:11%; margin-top: 1em">openssl
dsaparam 1024 -out /etc/isns/dsa.params</p>

<p style="margin-left:11%; margin-top: 1em">where 1024 is
the chosen DSA key size, in bits.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If you want to
use Open-iSNS in authenticated mode, you first need to
initialize the server&rsquo;s DSA key and DSA parameters.
This can be done conveniently by using</p>

<p style="margin-left:11%; margin-top: 1em"><b>isnsd
--init</b></p>

<p style="margin-left:11%; margin-top: 1em">This will
create the server&rsquo;s private and public key, and place
them in <b>/etc/isns/auth_key</b> and <b>auth_key.pub</b>,
respectively.</p>

<p style="margin-left:11%; margin-top: 1em">The following
command will create a policy object for a node named
<b>isns.control ,</b> and grant it control privileges:</p>

<p style="margin-left:11%; margin-top: 1em"><b>isnsadm
--local --keyfile=control.key --enroll isns.control \ <br>
node-type=ALL functions=ALL object-type=ALL</b></p>

<p style="margin-left:11%; margin-top: 1em">In the process
of entrolling the client, this will generate a DSA key pair,
and place the private key portion in the file
<b>control.key</b>. This file must be installed as
<b>/etc/isns/control.key</b> on the host you wish to use as
an iSNS management station.</p>

<p style="margin-left:11%; margin-top: 1em">Next, you need
to create a storage node object for the management
station:</p>

<p style="margin-left:11%; margin-top: 1em"><b>isnsadm
--local --register control</b></p>

<p style="margin-left:11%; margin-top: 1em">On the
management station, you can then enroll additional
hosts:</p>

<p style="margin-left:11%; margin-top: 1em"><b>isnsadm
--control --keyfile=somehost.key --enroll
iqn.2005-01.org.open-iscsi.somehost \ <br>
node-type=target+initiator</b></p>

<p style="margin-left:11%; margin-top: 1em">Again, this
will generate a DSA key pair and store the private key
portion in auth_key. Note the use of the
<b>&minus;-control</b> option that tells <b>isnsadm</b> to
use the identity of the control node instead of the default
key and source name.</p>

<p style="margin-left:11%; margin-top: 1em">You then need
to copy <b>somehost.key</b> to the client host and install
it as <b>/etc/isns/auth_key</b>. Likewise, the
server&rsquo;s public key (which resides in
<b>/etc/isns/auth_key.pub</b> on the server) needs to be
copied to the client machine, and placed in
<b>/etc/isns/server_key.pub</b>.</p>

<p style="margin-left:11%; margin-top: 1em">By default,
when a client registers a storage node (be it initiator or
target) with iSNS, the client will not be able to see any
other storage nodes. In order for targets to be visible to a
given initiator, you need to create so-called Discovery
Domains (or DDs for short).</p>

<p style="margin-left:11%; margin-top: 1em">Currently,
domain membership operations require administrator
privilege. Future extensions may allow iSNS clients to add
themselves to one or more DDs upon registration.</p>

<p style="margin-left:11%; margin-top: 1em">To create a
discovery domain, and add nodes to it, you can use</p>

<p style="margin-left:11%; margin-top: 1em"><b>isnsadm
--control --dd-register dd-name=mydomain \ <br>
member-name=iqn.org.bozo.client iqn.org.bozo.jbod
...</b></p>

<p style="margin-left:11%; margin-top: 1em">In order to add
members to an existing DD, you have to specify the numeric
domain ID - using the DD name is not sufficient,
unfortunately (this is a requirement of the RFC, not an
implementation issue):</p>

<p style="margin-left:11%; margin-top: 1em"><b>isnsadm
--control --dd-register dd-id=42 \ <br>
member-name=iqn.com.foo member-name=iqn.com.bar</b></p>

<p style="margin-left:11%; margin-top: 1em">The DD ID can
be obtained by doing a query for the DD name:</p>

<p style="margin-left:11%; margin-top: 1em"><b>isnsadm
--control --query dd-name=mydomain</b></p>

<p style="margin-left:11%; margin-top: 1em">In management
mode, you can also register and deregister nodes and portals
manually, in case you want to fix up an inconsisteny in the
database. For instance, this will register a node and portal
on a host named client.bozo.org:</p>

<p style="margin-left:11%; margin-top: 1em"><b>isnsadm
--control --register entity=client.bozo.org \ <br>
initiator=iqn.org.bozo.client portal=191.168.7.1:860</b></p>

<p style="margin-left:11%; margin-top: 1em">Note that this
registration explicitly specifies the network entity in
which to place the new objects. If you omit this, the new
objects will be placed in an entity named <b>CONTROL</b>,
which is decidedly not what you want.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">RFC 4171,
<b>isnsd</b>(8), <b>isns_config</b>(5).</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Olaf Kirch
&lt;olaf.kirch@oracle.com&gt;</p>
<hr>
</body>
</html>
