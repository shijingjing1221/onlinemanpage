<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:08:33 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>pkidaemon</title>

</head>
<body>

<h1 align="center">pkidaemon</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pkidaemon</b>
&minus; provides status management of PKI instances</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>pkidaemon
{start|status} [instance-name] <br>
Note:</b> Although this tool currently resides in the
<b>/usr/bin</b> directory, <br>
proper use of it requires it to be run with super user
privileges.</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>pkidaemon</b> command with the &rsquo;status&rsquo;
argument provides a way to display the status of all
existing PKI instances on a machine. Optionally, an
individual PKI instance may be specified by using an
optional <b>[instance-name]</b>.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>pkidaemon</b> &rsquo;start&rsquo; argument is currently
only used internally by the systemctl scripts.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">As stated
above, the only optional argument to <b>pkidaemon</b> is
<b>[instance-name]</b>. If a valid instance name is
specified, only the status of that instance will be
displayed.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">For the
following examples, two instances were installed. The first
contained a CA, KRA, OCSP, TKS and TPS in a shared PKI
instance named &rsquo;pki-tomcat&rsquo;, while the second
simply contained a CA running on different ports and named
&rsquo;pki-tomcat-2&rsquo;.</p>

<p style="margin-left:11%; margin-top: 1em">For the OCSP
&rsquo;Unsecure URL&rsquo; and the OCSP &rsquo;Secure EE
URL&rsquo; which both specify a static string of
&rsquo;&lt;ocsp request blob&gt;&rsquo;, the intention is
for the user to replace this static string with an actual
OCSP request blob relevant to their particular
deployment.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Listing the
status of all local PKI instances on this machine:</b></p>

<p style="margin-left:11%; margin-top: 1em"><b># pkidaemon
status</b></p>

<p style="margin-left:11%; margin-top: 1em">REPORT STATUS
OF &rsquo;tomcat&rsquo; INSTANCE(S):</p>

<p style="margin-left:11%; margin-top: 1em">Status for
pki-tomcat: pki-tomcat is running ..</p>

<p style="margin-left:11%; margin-top: 1em">[CA Status
Definitions] <br>
Unsecure URL = http://pki.example.com:8080/ca/ee/ca <br>
Secure Agent URL = https://pki.example.com:8443/ca/agent/ca
<br>
Secure EE URL = https://pki.example.com:8443/ca/ee/ca <br>
Secure Admin URL = https://pki.example.com:8443/ca/services
<br>
PKI Console Command = pkiconsole
https://pki.example.com:8443/ca <br>
Tomcat Port = 8005 (for shutdown)</p>

<p style="margin-left:11%; margin-top: 1em">[KRA Status
Definitions] <br>
Secure Agent URL =
https://pki.example.com:8443/kra/agent/kra <br>
Secure Admin URL = https://pki.example.com:8443/kra/services
<br>
PKI Console Command = pkiconsole
https://pki.example.com:8443/kra <br>
Tomcat Port = 8005 (for shutdown)</p>

<p style="margin-left:11%; margin-top: 1em">[OCSP Status
Definitions] <br>
Unsecure URL =
http://pki.example.com:8080/ocsp/ee/ocsp/&lt;ocsp request
blob&gt; <br>
Secure Agent URL =
https://pki.example.com:8443/ocsp/agent/ocsp <br>
Secure EE URL =
https://pki.example.com:8443/ocsp/ee/ocsp/&lt;ocsp request
blob&gt; <br>
Secure Admin URL =
https://pki.example.com:8443/ocsp/services <br>
PKI Console Command = pkiconsole
https://pki.example.com:8443/ocsp <br>
Tomcat Port = 8005 (for shutdown)</p>

<p style="margin-left:11%; margin-top: 1em">[TKS Status
Definitions] <br>
Secure Agent URL =
https://pki.example.com:8443/tks/agent/tks <br>
Secure Admin URL = https://pki.example.com:8443/tks/services
<br>
PKI Console Command = pkiconsole
https://pki.example.com:8443/tks <br>
Tomcat Port = 8005 (for shutdown)</p>

<p style="margin-left:11%; margin-top: 1em">[TPS Status
Definitions] <br>
Unsecure URL = http://pki.example.com:8080/tps <br>
Secure URL = https://pki.example.com:8443/tps <br>
Unsecure PHONE HOME =
http://pki.example.com:8080/tps/phoneHome <br>
Secure PHONE HOME =
https://pki.example.com:8443/tps/phoneHome <br>
Tomcat Port = 8005 (for shutdown)</p>

<p style="margin-left:11%; margin-top: 1em">[CA
Configuration Definitions] <br>
PKI Instance Name: pki-tomcat</p>

<p style="margin-left:11%; margin-top: 1em">PKI Subsystem
Type: Root CA (Security Domain)</p>

<p style="margin-left:11%; margin-top: 1em">Registered PKI
Security Domain Information: <br>

====================================================================
<br>
Name: example.com Security Domain <br>
URL: https://pki.example.com:8443 <br>

====================================================================</p>

<p style="margin-left:11%; margin-top: 1em">[KRA
Configuration Definitions] <br>
PKI Instance Name: pki-tomcat</p>

<p style="margin-left:11%; margin-top: 1em">PKI Subsystem
Type: KRA</p>

<p style="margin-left:11%; margin-top: 1em">Registered PKI
Security Domain Information: <br>

====================================================================
<br>
Name: example.com Security Domain <br>
URL: https://pki.example.com:8443 <br>

====================================================================</p>

<p style="margin-left:11%; margin-top: 1em">[OCSP
Configuration Definitions] <br>
PKI Instance Name: pki-tomcat</p>

<p style="margin-left:11%; margin-top: 1em">PKI Subsystem
Type: OCSP</p>

<p style="margin-left:11%; margin-top: 1em">Registered PKI
Security Domain Information: <br>

====================================================================
<br>
Name: example.com Security Domain <br>
URL: https://pki.example.com:8443 <br>

====================================================================</p>

<p style="margin-left:11%; margin-top: 1em">[TKS
Configuration Definitions] <br>
PKI Instance Name: pki-tomcat</p>

<p style="margin-left:11%; margin-top: 1em">PKI Subsystem
Type: TKS</p>

<p style="margin-left:11%; margin-top: 1em">Registered PKI
Security Domain Information: <br>

====================================================================
<br>
Name: example.com Security Domain <br>
URL: https://pki.example.com:8443 <br>

====================================================================</p>

<p style="margin-left:11%; margin-top: 1em">[TPS
Configuration Definitions] <br>
PKI Instance Name: pki-tomcat</p>

<p style="margin-left:11%; margin-top: 1em">PKI Subsystem
Type: TPS</p>

<p style="margin-left:11%; margin-top: 1em">Registered PKI
Security Domain Information: <br>

====================================================================
<br>
Name: example.com Security Domain <br>
URL: https://pki.example.com:8443 <br>

====================================================================</p>

<p style="margin-left:11%; margin-top: 1em">Status for
pki-tomcat-2: pki-tomcat-2 is running ..</p>

<p style="margin-left:11%; margin-top: 1em">[CA Status
Definitions] <br>
Unsecure URL = http://pki.example.com:18080/ca/ee/ca <br>
Secure Agent URL = https://pki.example.com:18443/ca/agent/ca
<br>
Secure EE URL = https://pki.example.com:18443/ca/ee/ca <br>
Secure Admin URL = https://pki.example.com:18443/ca/services
<br>
PKI Console Command = pkiconsole
https://pki.example.com:18443/ca <br>
Tomcat Port = 18005 (for shutdown)</p>

<p style="margin-left:11%; margin-top: 1em">[CA
Configuration Definitions] <br>
PKI Instance Name: pki-tomcat-2</p>

<p style="margin-left:11%; margin-top: 1em">PKI Subsystem
Type: Root CA (Security Domain)</p>

<p style="margin-left:11%; margin-top: 1em">Registered PKI
Security Domain Information: <br>

====================================================================
<br>
Name: example.com Security Domain <br>
URL: https://pki.example.com:18443 <br>

====================================================================</p>

<p style="margin-left:11%; margin-top: 1em">FINISHED
REPORTING STATUS OF &rsquo;tomcat&rsquo; INSTANCE(S).</p>

<p style="margin-left:11%; margin-top: 1em"><b>Listing the
status of the PKI instance named
&rsquo;pki-tomcat&rsquo;:</b></p>

<p style="margin-left:11%; margin-top: 1em"><b># pkidaemon
status pki-tomcat</b></p>

<p style="margin-left:11%; margin-top: 1em">Status for
pki-tomcat: pki-tomcat is running ..</p>

<p style="margin-left:11%; margin-top: 1em">[CA Status
Definitions] <br>
Unsecure URL = http://pki.example.com:8080/ca/ee/ca <br>
Secure Agent URL = https://pki.example.com:8443/ca/agent/ca
<br>
Secure EE URL = https://pki.example.com:8443/ca/ee/ca <br>
Secure Admin URL = https://pki.example.com:8443/ca/services
<br>
PKI Console Command = pkiconsole
https://pki.example.com:8443/ca <br>
Tomcat Port = 8005 (for shutdown)</p>

<p style="margin-left:11%; margin-top: 1em">[KRA Status
Definitions] <br>
Secure Agent URL =
https://pki.example.com:8443/kra/agent/kra <br>
Secure Admin URL = https://pki.example.com:8443/kra/services
<br>
PKI Console Command = pkiconsole
https://pki.example.com:8443/kra <br>
Tomcat Port = 8005 (for shutdown)</p>

<p style="margin-left:11%; margin-top: 1em">[OCSP Status
Definitions] <br>
Unsecure URL =
http://pki.example.com:8080/ocsp/ee/ocsp/&lt;ocsp request
blob&gt; <br>
Secure Agent URL =
https://pki.example.com:8443/ocsp/agent/ocsp <br>
Secure EE URL =
https://pki.example.com:8443/ocsp/ee/ocsp/&lt;ocsp request
blob&gt; <br>
Secure Admin URL =
https://pki.example.com:8443/ocsp/services <br>
PKI Console Command = pkiconsole
https://pki.example.com:8443/ocsp <br>
Tomcat Port = 8005 (for shutdown)</p>

<p style="margin-left:11%; margin-top: 1em">[TKS Status
Definitions] <br>
Secure Agent URL =
https://pki.example.com:8443/tks/agent/tks <br>
Secure Admin URL = https://pki.example.com:8443/tks/services
<br>
PKI Console Command = pkiconsole
https://pki.example.com:8443/tks <br>
Tomcat Port = 8005 (for shutdown)</p>

<p style="margin-left:11%; margin-top: 1em">[TPS Status
Definitions] <br>
Unsecure URL = http://pki.example.com:8080/tps <br>
Secure URL = https://pki.example.com:8443/tps <br>
Unsecure PHONE HOME =
http://pki.example.com:8080/tps/phoneHome <br>
Secure PHONE HOME =
https://pki.example.com:8443/tps/phoneHome <br>
Tomcat Port = 8005 (for shutdown)</p>

<p style="margin-left:11%; margin-top: 1em">[CA
Configuration Definitions] <br>
PKI Instance Name: pki-tomcat</p>

<p style="margin-left:11%; margin-top: 1em">PKI Subsystem
Type: Root CA (Security Domain)</p>

<p style="margin-left:11%; margin-top: 1em">Registered PKI
Security Domain Information: <br>

====================================================================
<br>
Name: example.com Security Domain <br>
URL: https://pki.example.com:8443 <br>

====================================================================</p>

<p style="margin-left:11%; margin-top: 1em">[KRA
Configuration Definitions] <br>
PKI Instance Name: pki-tomcat</p>

<p style="margin-left:11%; margin-top: 1em">PKI Subsystem
Type: KRA</p>

<p style="margin-left:11%; margin-top: 1em">Registered PKI
Security Domain Information: <br>

====================================================================
<br>
Name: example.com Security Domain <br>
URL: https://pki.example.com:8443 <br>

====================================================================</p>

<p style="margin-left:11%; margin-top: 1em">[OCSP
Configuration Definitions] <br>
PKI Instance Name: pki-tomcat</p>

<p style="margin-left:11%; margin-top: 1em">PKI Subsystem
Type: OCSP</p>

<p style="margin-left:11%; margin-top: 1em">Registered PKI
Security Domain Information: <br>

====================================================================
<br>
Name: example.com Security Domain <br>
URL: https://pki.example.com:8443 <br>

====================================================================</p>

<p style="margin-left:11%; margin-top: 1em">[TKS
Configuration Definitions] <br>
PKI Instance Name: pki-tomcat</p>

<p style="margin-left:11%; margin-top: 1em">PKI Subsystem
Type: TKS</p>

<p style="margin-left:11%; margin-top: 1em">Registered PKI
Security Domain Information: <br>

====================================================================
<br>
Name: example.com Security Domain <br>
URL: https://pki.example.com:8443 <br>

====================================================================</p>

<p style="margin-left:11%; margin-top: 1em">[TPS
Configuration Definitions] <br>
PKI Instance Name: pki-tomcat</p>

<p style="margin-left:11%; margin-top: 1em">PKI Subsystem
Type: TPS</p>

<p style="margin-left:11%; margin-top: 1em">Registered PKI
Security Domain Information: <br>

====================================================================
<br>
Name: example.com Security Domain <br>
URL: https://pki.example.com:8443 <br>

====================================================================</p>

<p style="margin-left:11%; margin-top: 1em"><b>Listing the
status of the PKI instance named
&rsquo;pki-tomcat-2&rsquo;:</b></p>

<p style="margin-left:11%; margin-top: 1em"><b># pkidaemon
status pki-tomcat-2</b></p>

<p style="margin-left:11%; margin-top: 1em">Status for
pki-tomcat-2: pki-tomcat-2 is running ..</p>

<p style="margin-left:11%; margin-top: 1em">[CA Status
Definitions] <br>
Unsecure URL = http://pki.example.com:18080/ca/ee/ca <br>
Secure Agent URL = https://pki.example.com:18443/ca/agent/ca
<br>
Secure EE URL = https://pki.example.com:18443/ca/ee/ca <br>
Secure Admin URL = https://pki.example.com:18443/ca/services
<br>
PKI Console Command = pkiconsole
https://pki.example.com:18443/ca <br>
Tomcat Port = 18005 (for shutdown)</p>

<p style="margin-left:11%; margin-top: 1em">[CA
Configuration Definitions] <br>
PKI Instance Name: pki-tomcat-2</p>

<p style="margin-left:11%; margin-top: 1em">PKI Subsystem
Type: Root CA (Security Domain)</p>

<p style="margin-left:11%; margin-top: 1em">Registered PKI
Security Domain Information: <br>

====================================================================
<br>
Name: example.com Security Domain <br>
URL: https://pki.example.com:18443 <br>

====================================================================</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Report bugs to
http://bugzilla.redhat.com.</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Matthew Harmsen
&lt;mharmsen@redhat.com&gt;. <b>pkidaemon</b> was written by
the Certificate Server project.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright (c)
2015 Red Hat, Inc. This is licensed under the GNU General
Public License, version 2 (GPLv2). A copy of this license is
available at
http://www.gnu.org/licenses/old-licenses/gpl-2.0.txt.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pkispawn(8),
pkidestroy(8), pki_default.cfg(5), pki(1)</b></p>
<hr>
</body>
</html>
