<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:01:51 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>PAX(1) BSD General Commands Manual PAX(1)</p>

<p style="margin-top: 1em"><b>NAME</b></p>

<p style="margin-left:6%;"><b>opax</b> &mdash; read and
write file archives and copy directory hierarchies (OpenBSD
<i>pax</i> implementation)</p>

<p style="margin-top: 1em"><b>SYNOPSIS</b></p>

<p style="margin-left:13%;"><b>opax</b>
[<b>&minus;0cdOnvz</b>]
[<b>&minus;f&nbsp;</b><i>archive</i>]
[<b>&minus;s&nbsp;</b><i>replstr</i>] <i>...</i>
[<b>&minus;U&nbsp;</b><i>user</i>] <i>...</i>
[<b>&minus;G&nbsp;</b><i>group</i>] <i>...</i> [</p>

<p><b>&minus;T</b> [<i>from_date</i>] [<i>,to_date</i>] ]
<i>...</i> [<i>pattern&nbsp;...</i>]</p>

<p style="margin-left:13%;"><b>opax &minus;r</b>
[<b>&minus;cdiknuvzDOYZ</b>]
[<b>&minus;f&nbsp;</b><i>archive</i>]
[<b>&minus;o&nbsp;</b><i>options</i>] <i>...</i>
[<b>&minus;p&nbsp;</b><i>string</i>] <i>...</i>
[<b>&minus;s&nbsp;</b><i>replstr</i>] <i>...</i>
[<b>&minus;E&nbsp;</b><i>limit</i>]
[<b>&minus;U&nbsp;</b><i>user</i>] <i>...</i>
[<b>&minus;G&nbsp;</b><i>group</i>] <i>...</i> [</p>

<p><b>&minus;T</b> [<i>from_date</i>] [<i>,to_date</i>] ]
<i>...</i> [<i>pattern&nbsp;...</i>]</p>

<p style="margin-left:13%;"><b>opax &minus;w</b>
[<b>&minus;0dituvzHLOPX</b>]
[<b>&minus;b&nbsp;</b><i>blocksize</i>] [</p>

<p>[<b>&minus;a</b>] [<b>&minus;f&nbsp;</b><i>archive</i>]
] [<b>&minus;x&nbsp;</b><i>format</i>]
[<b>&minus;s&nbsp;</b><i>replstr</i>] <i>...</i>
[<b>&minus;o&nbsp;</b><i>options</i>] <i>...</i>
[<b>&minus;U&nbsp;</b><i>user</i>] <i>...</i>
[<b>&minus;G&nbsp;</b><i>group</i>] <i>...</i>
[<b>&minus;B&nbsp;</b><i>bytes</i>] [ <b><br>
&minus;T</b> [<i>from_date</i>] [<i>,to_date</i>]
[<i>/[c][m]</i>] ] <i>...</i> [<i>file&nbsp;...</i>]</p>

<p style="margin-left:13%;"><b>opax &minus;r &minus;w</b>
[<b>&minus;0diklntuvDHLOPXYZ</b>]
[<b>&minus;p&nbsp;</b><i>string</i>] <i>...</i>
[<b>&minus;s&nbsp;</b><i>replstr</i>] <i>...</i>
[<b>&minus;U&nbsp;</b><i>user</i>] <i>...</i>
[<b>&minus;G&nbsp;</b><i>group</i>] <i>...</i> [</p>

<p><b>&minus;T</b> [<i>from_date</i>] [<i>,to_date</i>]
[<i>/[c][m]</i>] ] <i>...</i> [<i>file&nbsp;...</i>]
<i>directory</i></p>

<p style="margin-top: 1em"><b>DESCRIPTION</b></p>

<p style="margin-left:6%;"><b>opax</b> will read, write,
and list the members of an archive file, and will copy
directory hierarchies. <b>opax</b> operation is independent
of the specific archive format, and supports a wide variety
of different archive formats. A list of supported archive
formats can be found under the description of the
<b>&minus;x</b> option.</p>

<p style="margin-left:6%; margin-top: 1em">The presence of
the <b>&minus;r</b> and the <b>&minus;w</b> options
specifies which of the following functional modes
<b>opax</b> will operate under: <i>list</i>, <i>read</i>,
<i>write</i>, and <i>copy</i>.</p>

<p style="margin-top: 1em">&lt;none&gt;</p>

<p style="margin-left:17%; margin-top: 1em"><i>List</i>.
<b>opax</b> will write to standard output a table of
contents of the members of the archive file read from
standard input, whose pathnames match the specified
<i>patterns</i>. The table of contents contains one filename
per line and is written using single line buffering.</p>

<p style="margin-top: 1em"><b>&minus;r</b></p>

<p style="margin-left:17%; margin-top: 1em"><i>Read</i>.
<b>opax</b> extracts the members of the archive file read
from the standard input, with pathnames matching the
specified <i>patterns</i>. The archive format and blocking
is automatically determined on input. When an extracted file
is a directory, the entire file hierarchy rooted at that
directory is extracted. All extracted files are created
relative to the current file hierarchy. The setting of
ownership, access and modification times, and file mode of
the extracted files are discussed in more detail under the
<b>&minus;p</b> option.</p>

<p style="margin-top: 1em"><b>&minus;w</b></p>

<p style="margin-left:17%; margin-top: 1em"><i>Write</i>.
<b>opax</b> writes an archive containing the <i>file</i>
operands to standard output using the specified archive
format. When no <i>file</i> operands are specified, a list
of files to copy with one per line is read from standard
input. When a <i>file</i> operand is also a directory, the
entire file hierarchy rooted at that directory will be
included.</p>

<p style="margin-top: 1em"><b>&minus;r &minus;w</b></p>

<p style="margin-left:17%; margin-top: 1em"><i>Copy</i>.
<b>opax</b> copies the <i>file</i> operands to the
destination <i>directory</i>. When no <i>file</i> operands
are specified, a list of files to copy with one per line is
read from the standard input. When a <i>file</i> operand is
also a directory the entire file hierarchy rooted at that
directory will be included. The effect of the <i>copy</i> is
as if the copied files were written to an archive file and
then subsequently extracted, except that there may be hard
links between the original and the copied files (see the
<b>&minus;l</b> option below).</p>


<p style="margin-left:17%; margin-top: 1em"><i>Warning</i>:
The destination <i>directory</i> must not be one of the
<i>file</i> operands or a member of a file hierarchy rooted
at one of the <i>file</i> operands. The result of a
<i>copy</i> under these conditions is unpredictable.</p>

<p style="margin-left:6%; margin-top: 1em">While processing
a damaged archive during a <i>read</i> or <i>list</i>
operation, <b>opax</b> will attempt to recover from media
defects and will search through the archive to locate and
process the largest number of archive members possible (see
the <b>&minus;E</b> option for more details on error
handling).</p>

<p style="margin-left:6%; margin-top: 1em">The
<i>directory</i> operand specifies a destination directory
pathname. If the <i>directory</i> operand does not exist, or
it is not writable by the user, or it is not of type
directory, <b>opax</b> will exit with a non-zero exit
status.</p>

<p style="margin-left:6%; margin-top: 1em">The
<i>pattern</i> operand is used to select one or more
pathnames of archive members. Archive members are selected
using the pattern matching notation described by fnmatch(3).
When the <i>pattern</i> operand is not supplied, all members
of the archive will be selected. When a <i>pattern</i>
matches a directory, the entire file hierarchy rooted at
that directory will be selected. When a <i>pattern</i>
operand does not select at least one archive member,
<b>opax</b> will write these <i>pattern</i> operands in a
diagnostic message to standard error and then exit with a
non-zero exit status.</p>

<p style="margin-left:6%; margin-top: 1em">The <i>file</i>
operand specifies the pathname of a file to be copied or
archived. When a <i>file</i> operand does not select at
least one archive member, <b>opax</b> will write these
<i>file</i> operand pathnames in a diagnostic message to
standard error and then exit with a non-zero exit
status.</p>

<p style="margin-left:6%; margin-top: 1em">The options are
as follows:</p>

<p style="margin-top: 1em"><b>&minus;r</b></p>

<p style="margin-left:17%; margin-top: 1em">Read an archive
file from standard input and extract the specified
<i>files</i>. If any intermediate directories are needed in
order to extract an archive member, these directories will
be created as if mkdir(2) was called with the bitwise
inclusive OR of S_IRWXU, S_IRWXG, and S_IRWXO as the mode
argument. When the selected archive format supports the
specification of linked files and these files cannot be
linked while the archive is being extracted, <b>opax</b>
will write a diagnostic message to standard error and exit
with a non-zero exit status at the completion of
operation.</p>

<p style="margin-top: 1em"><b>&minus;w</b></p>

<p style="margin-left:17%; margin-top: 1em">Write files to
the standard output in the specified archive format. When no
<i>file</i> operands are specified, standard input is read
for a list of pathnames with one per line without any
leading or trailing &lang; blanks&rang; .</p>

<p style="margin-top: 1em"><b>&minus;a</b></p>

<p style="margin-left:17%; margin-top: 1em">Append
<i>files</i> to the end of an archive that was previously
written. If an archive format is not specified with a
<b>&minus;x</b> option, the format currently being used in
the archive will be selected. Any attempt to append to an
archive in a format different from the format already used
in the archive will cause <b>opax</b> to exit immediately
with a non-zero exit status. The blocking size used in the
archive volume where writing starts will continue to be used
for the remainder of that archive volume.</p>


<p style="margin-left:17%; margin-top: 1em"><i>Warning</i>:
Many storage devices are not able to support the operations
necessary to perform an append operation. Any attempt to
append to an archive stored on such a device may damage the
archive or have other unpredictable results. Tape drives in
particular are more likely to not support an append
operation. An archive stored in a regular file system file
or on a disk device will usually support an append
operation.</p>

<p style="margin-top: 1em"><b>&minus;0</b></p>

<p style="margin-left:17%; margin-top: 1em">Use the NUL
(&lsquo;\0&rsquo;) character as a pathname terminator,
instead of newline (&lsquo;\n&rsquo;). This applies only to
the pathnames read from standard input in the write and copy
modes, and to the pathnames written to standard output in
list mode. This option is expected to be used in concert
with the <b>&minus;print0</b> function in find(1) or the
<b>&minus;0</b> flag in xargs(1).</p>

<p style="margin-top: 1em"><b>&minus;b</b>
<i>blocksize</i></p>

<p style="margin-left:17%;">When <i>writing</i> an archive,
block the output at a positive decimal integer number of
bytes per write to the archive file. The <i>blocksize</i>
must be a multiple of 512 bytes with a maximum of 64512
bytes. Archives larger than 32256 bytes violate the POSIX
standard and will not be portable to all systems. A
<i>blocksize</i> can end with &lsquo;k&rsquo; or
&lsquo;b&rsquo; to specify multiplication by 1024 (1K) or
512, respectively. A pair of <i>blocksizes</i> can be
separated by &lsquo;x&rsquo; to indicate a product. A
specific archive device may impose additional restrictions
on the size of blocking it will support. When blocking is
not specified, the default <i>blocksize</i> is dependent on
the specific archive format being used (see the
<b>&minus;x</b> option).</p>

<p style="margin-top: 1em"><b>&minus;c</b></p>

<p style="margin-left:17%; margin-top: 1em">Match all file
or archive members <i>except</i> those specified by the
<i>pattern</i> and <i>file</i> operands.</p>

<p style="margin-top: 1em"><b>&minus;d</b></p>

<p style="margin-left:17%; margin-top: 1em">Cause files of
type directory being copied or archived, or archive members
of type directory being extracted, to match only the
directory file or archive member and not the file hierarchy
rooted at the directory.</p>

<p style="margin-top: 1em"><b>&minus;f</b>
<i>archive</i></p>

<p style="margin-left:17%;">Specify <i>archive</i> as the
pathname of the input or output archive, overriding the
default standard input (for <i>list</i> and <i>read</i>) or
standard output (for <i>write</i>). A single archive may
span multiple files and different archive devices. When
required, <b>opax</b> will prompt for the pathname of the
file or device of the next volume in the archive.</p>

<p style="margin-top: 1em"><b>&minus;i</b></p>

<p style="margin-left:17%; margin-top: 1em">Interactively
rename files or archive members. For each archive member
matching a <i>pattern</i> operand or each file matching a
<i>file</i> operand, <b>opax</b> will prompt to
<i>/dev/tty</i> giving the name of the file, its file mode,
and its modification time. <b>opax</b> will then read a line
from <i>/dev/tty</i>. If this line is blank, the file or
archive member is skipped. If this line consists of a single
period, the file or archive member is processed with no
modification to its name. Otherwise, its name is replaced
with the contents of the line. <b>opax</b> will immediately
exit with a non-zero exit status if EOF is encountered when
reading a response or if <i>/dev/tty</i> cannot be opened
for reading and writing.</p>

<p style="margin-top: 1em"><b>&minus;k</b></p>

<p style="margin-left:17%; margin-top: 1em">Do not
overwrite existing files.</p>

<p style="margin-top: 1em"><b>&minus;l</b></p>

<p style="margin-left:17%; margin-top: 1em">(The lowercase
letter &lsquo;&lsquo;ell.&rsquo;&rsquo;) Link files. In the
<i>copy</i> mode (<b>&minus;r &minus;w</b>), hard links are
made between the source and destination file hierarchies
whenever possible.</p>

<p style="margin-top: 1em"><b>&minus;n</b></p>

<p style="margin-left:17%; margin-top: 1em">Select the
first archive member that matches each <i>pattern</i>
operand. No more than one archive member is matched for each
<i>pattern</i>. When members of type directory are matched,
the file hierarchy rooted at that directory is also matched
(unless <b>&minus;d</b> is also specified).</p>

<p style="margin-top: 1em"><b>&minus;o</b>
<i>options</i></p>

<p style="margin-left:17%;">Information to modify the
algorithm for extracting or writing archive files which is
specific to the archive format specified by <b>&minus;x</b>.
In general, <i>options</i> take the form:
<i>name</i>=<i>value</i>.</p>

<p style="margin-top: 1em"><b>&minus;p</b>
<i>string</i></p>

<p style="margin-left:17%;">Specify one or more file
characteristic options (privileges). The <i>string</i>
option-argument is a string specifying file characteristics
to be retained or discarded on extraction. The string
consists of the specification characters <b>a</b>, <b>e</b>,
<b>m</b>, <b>o</b>, and <b>p</b>. Multiple characteristics
can be concatenated within the same string and multiple
<b>&minus;p</b> options can be specified. The meaning of the
specification characters are as follows:</p>

<p style="margin-top: 1em"><b>a</b></p>

<p style="margin-left:22%; margin-top: 1em">Do not preserve
file access times. By default, file access times are
preserved whenever possible.</p>

<p style="margin-top: 1em"><b>e</b></p>


<p style="margin-left:22%; margin-top: 1em">&lsquo;Preserve
everything&rsquo;, the user ID, group ID, file mode bits,
file access time, and file modification time. This is
intended to be used by <i>root</i>, someone with all the
appropriate privileges, in order to preserve all aspects of
the files as they are recorded in the archive. The <b>e</b>
flag is the sum of the <b>o</b> and <b>p</b> flags.</p>

<p style="margin-top: 1em"><b>m</b></p>

<p style="margin-left:22%; margin-top: 1em">Do not preserve
file modification times. By default, file modification times
are preserved whenever possible.</p>

<p style="margin-top: 1em"><b>o</b></p>

<p style="margin-left:22%; margin-top: 1em">Preserve the
user ID and group ID.</p>

<p style="margin-top: 1em"><b>p</b></p>


<p style="margin-left:22%; margin-top: 1em">&lsquo;Preserve&rsquo;
the file mode bits. This is intended to be used by a
<i>user</i> with regular privileges who wants to preserve
all aspects of the file other than the ownership. The file
times are preserved by default, but two other flags are
offered to disable this and use the time of extraction
instead.</p>

<p style="margin-left:17%; margin-top: 1em">In the
preceding list, &lsquo;preserve&rsquo; indicates that an
attribute stored in the archive is given to the extracted
file, subject to the permissions of the invoking process.
Otherwise the attribute of the extracted file is determined
as part of the normal file creation action. If neither the
<b>e</b> nor the <b>o</b> specification character is
specified, or the user ID and group ID are not preserved for
any reason, <b>opax</b> will not set the S_ISUID
(<i>setuid</i>) and S_ISGID (<i>setgid</i>) bits of the file
mode. If the preservation of any of these items fails for
any reason, <b>opax</b> will write a diagnostic message to
standard error. Failure to preserve these items will affect
the final exit status, but will not cause the extracted file
to be deleted. If the file characteristic letters in any of
the string option-arguments are duplicated or conflict with
each other, the one(s) given last will take precedence. For
example, if</p>

<p style="margin-left:24%;"><b>&minus;p</b> <i>eme</i></p>

<p style="margin-left:17%;">is specified, file modification
times are still preserved.</p>

<p style="margin-top: 1em"><b>&minus;s</b>
<i>replstr</i></p>

<p style="margin-left:17%;">Modify the file or archive
member names specified by the <i>pattern</i> or <i>file</i>
operands according to the substitution expression
<i>replstr</i>, using the syntax of the ed(1) utility
regular expressions. The format of these regular expressions
are:</p>

<p style="margin-left:24%;">/old/new/[gp]</p>

<p style="margin-left:17%;">As in ed(1), <b>old</b> is a
basic regular expression and <b>new</b> can contain an
ampersand (&lsquo;&amp;&rsquo;), &lsquo;\n&rsquo; (where
<i>n</i> is a digit) back-references, or subexpression
matching. The <b>old</b> string may also contain newline
characters. Any non-null character can be used as a
delimiter (</p>

<p>&lsquo;/&rsquo; is shown here ). Multiple
<b>&minus;s</b> expressions can be specified. The
expressions are applied in the order they are specified on
the command line, terminating with the first successful
substitution. The optional trailing <b>g</b> continues to
apply the substitution expression to the pathname substring
which starts with the first character following the end of
the last successful substitution. The first unsuccessful
substitution stops the operation of the <b>g</b> option. The
optional trailing <b>p</b> will cause the final result of a
successful substitution to be written to standard error in
the following format:</p>

<p style="margin-left:24%;">&lt;original pathname&gt;
&gt;&gt; &lt;new pathname&gt;</p>

<p style="margin-left:17%;">File or archive member names
that substitute to the empty string are not selected and
will be skipped.</p>

<p style="margin-top: 1em"><b>&minus;t</b></p>

<p style="margin-left:17%; margin-top: 1em">Reset the
access times of any file or directory read or accessed by
<b>opax</b> to be the same as they were before being read or
accessed by <b>opax</b>.</p>

<p style="margin-top: 1em"><b>&minus;u</b></p>

<p style="margin-left:17%; margin-top: 1em">Ignore files
that are older (having a less recent file modification time)
than a pre-existing file or archive member with the same
name. During <i>read</i>, an archive member with the same
name as a file in the file system will be extracted if the
archive member is newer than the file. During <i>write</i>,
a file system member with the same name as an archive member
will be written to the archive if it is newer than the
archive member. During <i>copy</i>, the file in the
destination hierarchy is replaced by the file in the source
hierarchy or by a link to the file in the source hierarchy
if the file in the source hierarchy is newer.</p>

<p style="margin-top: 1em"><b>&minus;v</b></p>

<p style="margin-left:17%; margin-top: 1em">During a
<i>list</i> operation, produce a verbose table of contents
using the format of the ls(1) utility with the
<b>&minus;l</b> option. For pathnames representing a hard
link to a previous member of the archive, the output has the
format:</p>

<p style="margin-left:24%;">&lt;ls -l listing&gt; ==
&lt;link name&gt;</p>

<p style="margin-left:17%;">For pathnames representing a
symbolic link, the output has the format:</p>

<p style="margin-left:24%;">&lt;ls -l listing&gt; =&gt;
&lt;link name&gt;</p>

<p style="margin-left:17%;">Where &lt;ls -l listing&gt; is
the output format specified by the ls(1) utility when used
with the <b>&minus;l</b> option. Otherwise for all the other
operational modes (</p>

<p><i>read</i>, <i>write</i>, and <i>copy</i> ), pathnames
are written and flushed to standard error without a trailing
newline as soon as processing begins on that file or archive
member. The trailing newline is not buffered and is written
only after the file has been read or written.</p>

<p style="margin-top: 1em"><b>&minus;x</b>
<i>format</i></p>

<p style="margin-left:17%;">Specify the output archive
format, with the default format being <i>ustar</i>.
<b>opax</b> currently supports the following formats:</p>

<p style="margin-top: 1em"><i>cpio</i></p>

<p style="margin-left:28%; margin-top: 1em">The extended
cpio interchange format specified in the IEEE Std 1003.2
(&lsquo;&lsquo;POSIX.2&rsquo;&rsquo;) standard. The default
blocksize for this format is 5120 bytes. Inode and device
information about a file (used for detecting file hard links
by this format) which may be truncated by this format is
detected by <b>opax</b> and is repaired.</p>

<p style="margin-top: 1em"><i>bcpio</i></p>

<p style="margin-left:28%; margin-top: 1em">The old binary
cpio format. The default blocksize for this format is 5120
bytes. This format is not very portable and should not be
used when other formats are available. Inode and device
information about a file (used for detecting file hard links
by this format) which may be truncated by this format is
detected by <b>opax</b> and is repaired.</p>

<p style="margin-top: 1em"><i>sv4cpio</i></p>

<p style="margin-left:28%; margin-top: 1em">The System V
release 4 cpio. The default blocksize for this format is
5120 bytes. Inode and device information about a file (used
for detecting file hard links by this format) which may be
truncated by this format is detected by <b>opax</b> and is
repaired.</p>

<p style="margin-top: 1em"><i>sv4crc</i></p>

<p style="margin-left:28%; margin-top: 1em">The System V
release 4 cpio with file crc checksums. The default
blocksize for this format is 5120 bytes. Inode and device
information about a file (used for detecting file hard links
by this format) which may be truncated by this format is
detected by <b>opax</b> and is repaired.</p>

<p style="margin-top: 1em"><i>tar</i></p>

<p style="margin-left:28%; margin-top: 1em">The old BSD tar
format as found in BSD4.3. The default blocksize for this
format is 10240 bytes. Pathnames stored by this format must
be 100 characters or less in length (including the trailing
character, which means that filenames can have a maximum
length of 99 characters). Only <i>regular</i> files, <i>hard
links</i>, <i>soft links</i>, and <i>directories</i> will be
archived (other file system types are not supported). For
backwards compatibility with even older tar formats, a
<b>&minus;o</b> option can be used when writing an archive
to omit the storage of directories. This option takes the
form:</p>

<p style="margin-left:36%;"><b>&minus;o
write_opt=nodir</b></p>

<p style="margin-top: 1em"><i>ustar</i></p>

<p style="margin-left:28%; margin-top: 1em">The extended
tar interchange format specified in the IEEE Std 1003.2
(&lsquo;&lsquo;POSIX.2&rsquo;&rsquo;) standard. The default
blocksize for this format is 10240 bytes. Filenames stored
by this format must be 100 characters or less in length
(including the trailing character, which means that
filenames can have a maximum length of 99 characters).
Pathnames (directorynames + filenames) stored by this format
must be 250 characters or less in length.</p>

<p style="margin-left:17%; margin-top: 1em"><b>opax</b>
will detect and report any file that it is unable to store
or extract as the result of any specific archive format
restrictions. The individual archive formats may impose
additional restrictions on use. Typical archive format
restrictions include (but are not limited to): file pathname
length, file size, link pathname length, and the type of the
file.</p>

<p style="margin-top: 1em"><b>&minus;z</b></p>

<p style="margin-left:17%; margin-top: 1em">Use gzip(1) to
compress (decompress) the archive while writing (reading).
Incompatible with <b>&minus;a</b>.</p>

<p style="margin-top: 1em"><b>&minus;B</b> <i>bytes</i></p>

<p style="margin-left:17%;">Limit the number of bytes
written to a single archive volume to <i>bytes</i>. The
<i>bytes</i> limit can end with &lsquo;m&rsquo;,
&lsquo;k&rsquo;, or &lsquo;b&rsquo; to specify
multiplication by 1048576 (1M), 1024 (1K) or 512,
respectively. A pair of <i>bytes</i> limits can be separated
by &lsquo;x&rsquo; to indicate a product.</p>


<p style="margin-left:17%; margin-top: 1em"><i>Warning</i>:
Only use this option when writing an archive to a device
which supports an end of file read condition based on last
(or largest) write offset (such as a regular file or a tape
drive). The use of this option with a floppy or hard disk is
not recommended.</p>

<p style="margin-top: 1em"><b>&minus;D</b></p>

<p style="margin-left:17%; margin-top: 1em">This option is
the same as the <b>&minus;u</b> option, except that the file
inode change time is checked instead of the file
modification time. The file inode change time can be used to
select files whose inode information (e.g., UID, GID, etc.)
is newer than a copy of the file in the destination
<i>directory</i>.</p>

<p style="margin-top: 1em"><b>&minus;E</b> <i>limit</i></p>

<p style="margin-left:17%;">Limit the number of consecutive
read faults while trying to read a flawed archive to
<i>limit</i>. With a positive <i>limit</i>, <b>opax</b> will
attempt to recover from an archive read error and will
continue processing starting with the next file stored in
the archive. A <i>limit</i> of 0 will cause <b>opax</b> to
stop operation after the first read error is detected on an
archive volume. A <i>limit</i> of NONE will cause
<b>opax</b> to attempt to recover from read errors forever.
The default <i>limit</i> is a small positive number of
retries.</p>


<p style="margin-left:17%; margin-top: 1em"><i>Warning</i>:
Using this option with NONE should be used with extreme
caution as <b>opax</b> may get stuck in an infinite loop on
a very badly flawed archive.</p>

<p style="margin-top: 1em"><b>&minus;G</b> <i>group</i></p>

<p style="margin-left:17%;">Select a file based on its
<i>group</i> name, or when starting with a <b>#</b>, a
numeric gid. A &lsquo;\&rsquo; can be used to escape the
<b>#</b>. Multiple <b>&minus;G</b> options may be supplied
and checking stops with the first match.</p>

<p style="margin-top: 1em"><b>&minus;H</b></p>

<p style="margin-left:17%; margin-top: 1em">Follow only
command-line symbolic links while performing a physical file
system traversal.</p>

<p style="margin-top: 1em"><b>&minus;L</b></p>

<p style="margin-left:17%; margin-top: 1em">Follow all
symbolic links to perform a logical file system
traversal.</p>

<p style="margin-top: 1em"><b>&minus;O</b></p>

<p style="margin-left:17%; margin-top: 1em">Force the
archive to be one volume. If a volume ends prematurely,
<b>opax</b> will not prompt for a new volume. This option
can be useful for automated tasks where error recovery
cannot be performed by a human.</p>

<p style="margin-top: 1em"><b>&minus;P</b></p>

<p style="margin-left:17%; margin-top: 1em">Do not follow
symbolic links, perform a physical file system traversal.
This is the default mode.</p>

<p style="margin-top: 1em"><b>&minus;T</b>
<i>[from_date][,to_date][/[c][m]]</i></p>

<p style="margin-left:17%;">Allow files to be selected
based on a file modification or inode change time falling
within a specified time range of <i>from_date</i> to
<i>to_date</i> (the dates are inclusive). If only a
<i>from_date</i> is supplied, all files with a modification
or inode change time equal to or younger are selected. If
only a <i>to_date</i> is supplied, all files with a
modification or inode change time equal to or older will be
selected. When the <i>from_date</i> is equal to the
<i>to_date</i>, only files with a modification or inode
change time of exactly that time will be selected.</p>

<p style="margin-left:17%; margin-top: 1em">When
<b>opax</b> is in the <i>write</i> or <i>copy</i> mode, the
optional trailing field <i>[c][m]</i> can be used to
determine which file time (inode change, file modification
or both) are used in the comparison. If neither is
specified, the default is to use file modification time
only. The <i>m</i> specifies the comparison of file
modification time (the time when the file was last written).
The <i>c</i> specifies the comparison of inode change time
(the time when the file inode was last changed; e.g., a
change of owner, group, mode, etc). When <i>c</i> and
<i>m</i> are both specified, then the modification and inode
change times are both compared. The inode change time
comparison is useful in selecting files whose attributes
were recently changed or selecting files which were recently
created and had their modification time reset to an older
time (as what happens when a file is extracted from an
archive and the modification time is preserved). Time
comparisons using both file times is useful when <b>opax</b>
is used to create a time based incremental archive (only
files that were changed during a specified time range will
be archived).</p>

<p style="margin-left:17%; margin-top: 1em">A time range is
made up of six different fields and each field must contain
two digits. The format is:</p>


<p style="margin-left:24%;">[[[[[cc]yy]mm]dd]HH]MM[.SS]</p>

<p style="margin-left:17%;">Where <b>cc</b> is the first
two digits of the year (the century), <b>yy</b> is the last
two digits of the year, the first <b>mm</b> is the month
(from 01 to 12), <b>dd</b> is the day of the month (from 01
to 31), <b>HH</b> is the hour of the day (from 00 to 23),
<b>MM</b> is the minute (from 00 to 59), and <b>SS</b> is
the seconds (from 00 to 59). The minute field <b>MM</b> is
required, while the other fields are optional and must be
added in the following order: <b><br>
HH</b>, <b>dd</b>, <b>mm</b>, <b>yy</b>, <b>cc</b>. <br>
The <b>SS</b> field may be added independently of the other
fields. Time ranges are relative to the current time, so</p>

<p style="margin-left:24%;"><b>&minus;T</b>
<i>1234/cm</i></p>

<p style="margin-left:17%;">would select all files with a
modification or inode change time of 12:34 PM today or
later. Multiple <b>&minus;T</b> time range can be supplied
and checking stops with the first match.</p>

<p style="margin-top: 1em"><b>&minus;U</b> <i>user</i></p>

<p style="margin-left:17%;">Select a file based on its
<i>user</i> name, or when starting with a <b>#</b>, a
numeric UID. A &lsquo;\&rsquo; can be used to escape the
<b>#</b>. Multiple <b>&minus;U</b> options may be supplied
and checking stops with the first match.</p>

<p style="margin-top: 1em"><b>&minus;X</b></p>

<p style="margin-left:17%; margin-top: 1em">When traversing
the file hierarchy specified by a pathname, do not descend
into directories that have a different device ID. See the
st_dev field as described in stat(2) for more information
about device IDs.</p>

<p style="margin-top: 1em"><b>&minus;Y</b></p>

<p style="margin-left:17%; margin-top: 1em">This option is
the same as the <b>&minus;D</b> option, except that the
inode change time is checked using the pathname created
after all the file name modifications have completed.</p>

<p style="margin-top: 1em"><b>&minus;Z</b></p>

<p style="margin-left:17%; margin-top: 1em">This option is
the same as the <b>&minus;u</b> option, except that the
modification time is checked using the pathname created
after all the file name modifications have completed.</p>

<p style="margin-left:6%; margin-top: 1em">The options that
operate on the names of files or archive members (</p>

<p><b>&minus;c</b>, <b>&minus;i</b>, <b>&minus;n</b>,
<b>&minus;s</b>, <b>&minus;u</b>, <b>&minus;v</b>,
<b>&minus;D</b>, <b>&minus;G</b>, <b>&minus;T</b>,
<b>&minus;U</b>, <b>&minus;Y</b>, and <b>&minus;Z</b> )
interact as follows.</p>

<p style="margin-left:6%; margin-top: 1em">When extracting
files during a <i>read</i> operation, archive members are
&lsquo;selected&rsquo;, based only on the user specified
pattern operands as modified by the <b>&minus;c</b>,
<b>&minus;n</b>, <b>&minus;u</b>, <b>&minus;D</b>,
<b>&minus;G</b>, <b>&minus;T</b>, <b>&minus;U</b> options.
Then any <b>&minus;s</b> and <b>&minus;i</b> options will
modify in that order, the names of these selected files.
Then the <b>&minus;Y</b> and <b>&minus;Z</b> options will be
applied based on the final pathname. Finally, the
<b>&minus;v</b> option will write the names resulting from
these modifications.</p>

<p style="margin-left:6%; margin-top: 1em">When archiving
files during a <i>write</i> operation, or copying files
during a <i>copy</i> operation, archive members are
&lsquo;selected&rsquo;, based only on the user specified
pathnames as modified by the <b>&minus;n</b>,
<b>&minus;u</b>, <b>&minus;D</b>, <b>&minus;G</b>,
<b>&minus;T</b>, and <b>&minus;U</b> options (the
<b>&minus;D</b> option only applies during a copy
operation). Then any <b>&minus;s</b> and <b>&minus;i</b>
options will modify in that order, the names of these
selected files. Then during a <i>copy</i> operation the
<b>&minus;Y</b> and the <b>&minus;Z</b> options will be
applied based on the final pathname. Finally, the
<b>&minus;v</b> option will write the names resulting from
these modifications.</p>

<p style="margin-left:6%; margin-top: 1em">When one or both
of the <b>&minus;u</b> or <b>&minus;D</b> options are
specified along with the <b>&minus;n</b> option, a file is
not considered selected unless it is newer than the file to
which it is compared.</p>

<p style="margin-top: 1em"><b>ENVIRONMENT</b> <br>
TMPDIR</p>

<p style="margin-left:22%; margin-top: 1em">Path in which
to store temporary files.</p>

<p style="margin-top: 1em"><b>EXAMPLES</b></p>

<p style="margin-left:6%;">$ <b>opax</b> -w -f /dev/rst0
.</p>

<p style="margin-left:6%; margin-top: 1em">Copies the
contents of the current directory to the device
<i>/dev/rst0</i>.</p>

<p style="margin-left:6%; margin-top: 1em">$ <b>opax</b> -v
-f filename</p>

<p style="margin-left:6%; margin-top: 1em">Gives the
verbose table of contents for an archive stored in
<i>filename</i>.</p>

<p style="margin-left:6%; margin-top: 1em">$ mkdir newdir;
cd olddir; <b>opax</b> -rw . newdir</p>

<p style="margin-left:6%; margin-top: 1em">This sequence of
commands will copy the entire <i>olddir</i> directory
hierarchy to <i>newdir</i>.</p>

<p style="margin-left:6%; margin-top: 1em">$ <b>opax</b> -r
-s &rsquo;,^//*usr//*,,&rsquo; -f a.pax</p>

<p style="margin-left:6%; margin-top: 1em">Reads the
archive <i>a.pax</i>, with all files rooted in <i>/usr</i>
into the archive extracted relative to the current
directory.</p>

<p style="margin-left:6%; margin-top: 1em">$ <b>opax</b>
-rw -i . dest_dir</p>

<p style="margin-left:6%; margin-top: 1em">Can be used to
interactively select the files to copy from the current
directory to <i>dest_dir</i>.</p>

<p style="margin-left:6%; margin-top: 1em">$ <b>opax</b> -r
-pe -U root -G bin -f a.pax</p>

<p style="margin-left:6%; margin-top: 1em">Extract all
files from the archive <i>a.pax</i> which are owned by
<i>root</i> with group <i>bin</i> and preserve all file
permissions.</p>

<p style="margin-left:6%; margin-top: 1em">$ <b>opax</b> -r
-w -v -Y -Z home /backup&quot;</p>

<p style="margin-left:6%; margin-top: 1em">Update (and
list) only those files in the destination directory
<i>/backup</i> which are older (less recent inode change or
file modification times) than files with the same name found
in the source file tree <i>home</i>.</p>

<p style="margin-top: 1em"><b>DIAGNOSTICS</b></p>

<p style="margin-left:6%;"><b>opax</b> will exit with one
of the following values:</p>

<p style="margin-top: 1em">0</p>

<p style="margin-left:12%; margin-top: 1em">All files were
processed successfully.</p>

<p style="margin-top: 1em">1</p>

<p style="margin-left:12%; margin-top: 1em">An error
occurred.</p>

<p style="margin-left:6%; margin-top: 1em">Whenever
<b>opax</b> cannot create a file or a link when reading an
archive or cannot find a file when writing an archive, or
cannot preserve the user ID, group ID, or file mode when the
<b>&minus;p</b> option is specified, a diagnostic message is
written to standard error and a non-zero exit status will be
returned, but processing will continue. In the case where
<b>opax</b> cannot create a link to a file, <b>opax</b> will
not create a second copy of the file.</p>

<p style="margin-left:6%; margin-top: 1em">If the
extraction of a file from an archive is prematurely
terminated by a signal or error, <b>opax</b> may have only
partially extracted a file the user wanted. Additionally,
the file modes of extracted files and directories may have
incorrect file bits, and the modification and access times
may be wrong.</p>

<p style="margin-left:6%; margin-top: 1em">If the creation
of an archive is prematurely terminated by a signal or
error, <b>opax</b> may have only partially created the
archive which may violate the specific archive format
specification.</p>

<p style="margin-left:6%; margin-top: 1em">If while doing a
<i>copy</i>, <b>opax</b> detects a file is about to
overwrite itself, the file is not copied, a diagnostic
message is written to standard error and when <b>opax</b>
completes it will exit with a non-zero exit status.</p>

<p style="margin-top: 1em"><b>SEE ALSO</b></p>

<p style="margin-left:6%;">spax(1), tar(1), bsdtar(1),
star(1), cpio(1), bsdcpio(1), scpio(1)</p>

<p style="margin-top: 1em"><b>STANDARDS</b></p>

<p style="margin-left:6%;">The <b>opax</b> utility is a
superset of the IEEE Std 1003.2
(&lsquo;&lsquo;POSIX.2&rsquo;&rsquo;) standard. The options
<b>&minus;B</b>, <b>&minus;D</b>, <b>&minus;E</b>,
<b>&minus;G</b>, <b>&minus;H</b>, <b>&minus;L</b>,
<b>&minus;O</b>, <b>&minus;P</b>, <b>&minus;T</b>,
<b>&minus;U</b>, <b>&minus;Y</b>, <b>&minus;Z</b>, the
archive formats <i>bcpio</i>, <i>sv4cpio</i>, <i>sv4crc</i>,
<i>tar</i>, and the flawed archive handling during
<i>list</i> and <i>read</i> operations are extensions to the
POSIX standard.</p>

<p style="margin-top: 1em"><b>AUTHORS</b></p>

<p style="margin-left:6%;">Keith Muller at the University
of California, San Diego.</p>

<p style="margin-left:6%; margin-top: 1em">BSD
April&nbsp;18, 1994 BSD</p>
<hr>
</body>
</html>
