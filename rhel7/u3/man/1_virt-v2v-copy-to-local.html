<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:51:01 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>virt-v2v-copy-to-local</title>

</head>
<body>

<h1 align="center">virt-v2v-copy-to-local</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>
<a href="#LICENSE">LICENSE</a><br>
<a href="#BUGS">BUGS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">virt&minus;v2v&minus;copy&minus;to&minus;local
&minus; Copy a remote guest to the local machine</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<pre style="margin-left:11%; margin-top: 1em"> virt&minus;v2v&minus;copy&minus;to&minus;local &minus;ic LIBVIRT_URI GUEST
 virt&minus;v2v&minus;copy&minus;to&minus;local &minus;ic xen+ssh://root@xen.example.com xen_guest
 virt&minus;v2v&minus;copy&minus;to&minus;local &minus;ic esx://root@esxi.example.com vmware_guest</pre>


<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><tt>&quot;virt&minus;v2v&minus;copy&minus;to&minus;local&quot;</tt>
copies a guest from a remote hypervisor to the local
machine, in preparation for conversion by
<i>virt&minus;v2v</i>(1). Note this tool alone <b>does
not</b> do the virt&minus;v2v conversion.</p>

<p style="margin-left:11%; margin-top: 1em"><b>When to use
this tool</b> <br>
This tool is not usually necessary, but there are a few
special cases (see list below) where you might need it.</p>

<p style="margin-left:11%; margin-top: 1em">If your case
does not fit one of these special cases, then ignore this
tool and read <i>virt&minus;v2v</i>(1) instead. The
virt&minus;v2v&minus;copy&minus;to&minus;local process is
slower than using virt&minus;v2v directly, because it has to
copy unused parts of the guest disk.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>You have a Xen guest using host block devices.
Virt&minus;v2v cannot convert such guests directly.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">See &quot;
<small>XEN OR SSH CONVERSIONS FROM BLOCK
DEVICES&quot;</small> in <i>virt&minus;v2v</i>(1).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">You have VMware ESXi
hypervisors, and are not using VMware vCenter to manage
them. Virt&minus;v2v cannot directly access ESXi hypervisor,
so you either have to export the guest as an
<small>OVA</small> (eg. using VMware&rsquo;s
<tt>&quot;ovftool&quot;</tt>); or you can use this tool to
copy the guest to a local file on the conversion server,
from where virt&minus;v2v will be able to access it.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">See &quot;
<small>INPUT FROM VMWARE</small> ESXi
<small>HYPERVISOR&quot;</small> in
<i>virt&minus;v2v</i>(1).</p>

<p style="margin-left:11%; margin-top: 1em"><b>How this
tool works</b> <br>
This tool uses libvirt to get the libvirt <small>XML</small>
(metadata) of the remote guest, essentially equivalent to
running <tt>&quot;virsh dumpxml guest&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em">It then uses
the <small>XML</small> to locate the remote guest disks,
which are copied over using a hypervisor-specific method. It
uses ssh for remote Xen hypervisors, and
<small>HTTPS</small> (curl) for remote ESXi hypervisors.</p>

<p style="margin-left:11%; margin-top: 1em">It then
modifies the libvirt <small>XML</small> so that it points at
the local copies of the guest disks.</p>

<p style="margin-left:11%; margin-top: 1em">The libvirt
<small>XML</small> is output to a file called
<i>guest.xml</i> (where <i>guest</i> is the name of the
guest). The disk(s) are output to file(s) called
<i>guest&minus;disk1</i>, <i>guest&minus;disk2</i> and so
on.</p>

<p style="margin-left:11%; margin-top: 1em">After copying
the guest locally, you can convert it using:</p>

<pre style="margin-left:11%; margin-top: 1em"> virt&minus;v2v &minus;i libvirtxml guest.xml [&minus;o options ...]</pre>


<p style="margin-left:11%; margin-top: 1em">Virt&minus;v2v
finds the local copies of the disks by looking in the
<small>XML.</small></p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Copy and
convert from Xen hypervisor that uses host block devices</b>
<br>
For full instructions, see &quot; <small>XEN OR SSH
CONVERSIONS FROM BLOCK DEVICES&quot;</small> in
<i>virt&minus;v2v</i>(1).</p>

<pre style="margin-left:11%; margin-top: 1em"> virt&minus;v2v&minus;copy&minus;to&minus;local &minus;ic xen+ssh://root@xen.example.com xen_guest
 virt&minus;v2v &minus;i libvirtxml xen_guest.xml &minus;o local &minus;os /var/tmp
 rm xen_guest.xml xen_guest&minus;disk*</pre>


<p style="margin-left:11%; margin-top: 1em"><b>Copy and
convert from ESXi hypervisor</b> <br>
For full instructions, see &quot; <small>INPUT FROM
VMWARE</small> ESXi <small>HYPERVISOR&quot;</small> in
<i>virt&minus;v2v</i>(1).</p>

<pre style="margin-left:11%; margin-top: 1em"> virt&minus;v2v&minus;copy&minus;to&minus;local &minus;ic esx://root@esxi.example.com?no_verify=1 vmware_guest
 virt&minus;v2v &minus;i libvirtxml vmware_guest.xml &minus;o local &minus;os /var/tmp
 rm vmware_guest.xml vmware_guest&minus;disk*</pre>


<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;help</b></p>

<p style="margin-left:17%;">Display help.</p>

<p style="margin-left:11%;"><b>&minus;ic</b> libvirtURI</p>

<p style="margin-left:17%;">Specify a libvirt connection
<small>URI</small></p>


<p style="margin-left:11%;"><b>&minus;&minus;password&minus;file</b>
file</p>

<p style="margin-left:17%;">Instead of asking for
password(s) interactively, pass the password through a file.
Note the file should contain the whole password, <b>without
any trailing newline</b>, and for security the file should
have mode <tt>0600</tt> so that others cannot read it.</p>

<p style="margin-left:17%; margin-top: 1em">Currently this
option does not have any effect on xen+ssh transfers, but
that is a bug.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;q</b></p></td>
<td width="86%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;&minus;quiet</b></p>

<p style="margin-left:17%;">This disables progress bars and
other unnecessary output.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;v</b></p></td>
<td width="86%">
</td></tr>
</table>


<p style="margin-left:11%;"><b>&minus;&minus;verbose</b></p>

<p style="margin-left:17%;">Enable verbose messages for
debugging.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;V</b></p></td>
<td width="86%">
</td></tr>
</table>


<p style="margin-left:11%;"><b>&minus;&minus;version</b></p>

<p style="margin-left:17%;">Display version number and
exit.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>virt&minus;v2v</i>(1),
<i>virsh</i>(1), http://libguestfs.org/,
https://libvirt.org/uri.html,
https://libvirt.org/remote.html,
https://libvirt.org/drvesx.html.</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Richard W.M.
Jones http://people.redhat.com/~rjones/</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright (C)
2009&minus;2016 Red Hat Inc.</p>

<h2>LICENSE
<a name="LICENSE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This program is
free software; you can redistribute it and/or modify it
under the terms of the <small>GNU</small> General Public
License as published by the Free Software Foundation; either
version 2 of the License, or (at your option) any later
version.</p>

<p style="margin-left:11%; margin-top: 1em">This program is
distributed in the hope that it will be useful, but
<small>WITHOUT ANY WARRANTY</small> ; without even the
implied warranty of <small>MERCHANTABILITY</small> or
<small>FITNESS FOR A PARTICULAR PURPOSE.</small> See the
<small>GNU</small> General Public License for more
details.</p>

<p style="margin-left:11%; margin-top: 1em">You should have
received a copy of the <small>GNU</small> General Public
License along with this program; if not, write to the Free
Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
Boston, <small>MA 02110&minus;1301 USA.</small></p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">To get a list
of bugs against libguestfs, use this link:
https://bugzilla.redhat.com/buglist.cgi?component=libguestfs&amp;product=Virtualization+Tools</p>

<p style="margin-left:11%; margin-top: 1em">To report a new
bug against libguestfs, use this link:
https://bugzilla.redhat.com/enter_bug.cgi?component=libguestfs&amp;product=Virtualization+Tools</p>

<p style="margin-left:11%; margin-top: 1em">When reporting
a bug, please supply:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The version of libguestfs.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Where you got libguestfs (eg. which Linux distro,
compiled from source, etc)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Describe the bug accurately and give a way to reproduce
it.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Run <i>libguestfs&minus;test&minus;tool</i>(1) and paste
the <b>complete, unedited</b> output into the bug
report.</p> </td></tr>
 </table>
<hr>
</body>
</html>
