<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:22:23 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SDPARM</title>

</head>
<body>

<h1 align="center">SDPARM</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#PARAMETERS">PARAMETERS</a><br>
<a href="#ENUMERATE">ENUMERATE</a><br>
<a href="#TRANSPORTS">TRANSPORTS</a><br>
<a href="#VENDORS">VENDORS</a><br>
<a href="#COMMANDS">COMMANDS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#REPORTING BUGS">REPORTING BUGS</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>
<a href="#WEB SITE">WEB SITE</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">sdparm &minus;
access SCSI modes pages; read VPD pages; send simple SCSI
commands.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>sdparm</b>
[<i>&minus;&minus;all</i>] [<i>&minus;&minus;clear=STR</i>]
[<i>&minus;&minus;command=CMD</i>]
[<i>&minus;&minus;dbd</i>] [<i>&minus;&minus;defaults</i>]
[<i>&minus;&minus;dummy</i>] [<i>&minus;&minus;flexible</i>]
[<i>&minus;&minus;get=STR</i>] [<i>&minus;&minus;help</i>]
[<i>&minus;&minus;hex</i>] [<i>&minus;&minus;inquiry</i>]
[<i>&minus;&minus;long</i>]
[<i>&minus;&minus;num&minus;desc</i>]
[<i>&minus;&minus;page=PG[,SPG]</i>]
[<i>&minus;&minus;quiet</i>] [<i>&minus;&minus;readonly</i>]
[<i>&minus;&minus;save</i>] [<i>&minus;&minus;set=STR</i>]
[<i>&minus;&minus;six</i>]
[<i>&minus;&minus;transport=TN</i>]
[<i>&minus;&minus;vendor=VN</i>]
[<i>&minus;&minus;verbose</i>]
[<i>&minus;&minus;version</i>] <i>DEVICE</i>
[<i>DEVICE</i>...]</p>

<p style="margin-left:11%; margin-top: 1em"><b>sdparm</b>
<i>&minus;&minus;enumerate</i> [<i>&minus;&minus;all</i>]
[<i>&minus;&minus;inquiry</i>] [<i>&minus;&minus;long</i>]
[<i>&minus;&minus;page=PG[,SPG]</i>]
[<i>&minus;&minus;transport=TN</i>]
[<i>&minus;&minus;vendor=VN</i>]</p>

<p style="margin-left:11%; margin-top: 1em"><b>sdparm</b>
<i>&minus;&minus;wscan</i>
[<i>&minus;&minus;verbose</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This utility
fetches and potentially changes SCSI device (e.g. disk) mode
pages. Inquiry data including Vital Product Data (VPD) pages
can also be displayed. Commands associated with starting and
stopping the medium; loading and unloading the medium; and
other housekeeping function may also be issued by this
utility.</p>

<p style="margin-left:11%; margin-top: 1em">Of the three
invocations shown in the synopsis, the first is the most
general. The second variant that uses
<i>&minus;&minus;enumerate</i> is for dumping information
held in sdparm&rsquo;s internal tables. The last variant is
for Windows only and lists the available device names; see
the OPTIONS entry for <i>&minus;&minus;wscan</i>.</p>

<p style="margin-left:11%; margin-top: 1em">If no options
(other than <i>DEVICE</i>) are given then a selection of
common mode page fields for that device are listed. If the
<i>&minus;&minus;long</i> option is also given then a
description of the fields is placed on the right of each
line. If the <i>&minus;&minus;all</i> option is given then
all known mode page fields for that device are listed.
Individual fields can be displayed with the
<i>&minus;&minus;get=STR</i> option (e.g.
&rsquo;&minus;&minus;get=WCE&rsquo; to fetch the state of
the Writeback Cache Enable field).</p>

<p style="margin-left:11%; margin-top: 1em">This utility
completes with an exit status of 0 when successful. For
other values see the EXIT STATUS section below.</p>

<p style="margin-left:11%; margin-top: 1em">One or more
<i>DEVICE</i> arguments can be given. The utility will
essentially apply the given options to each <i>DEVICE</i> in
the list. If an error is detected, it is noted and the
utility continues. Error value 5 (file open or close
problem) is treated as lower priority when other errors are
detected. The exit status is the most recently detected
error value (excluding error value 5 if other errors have
been detected). If all actions succeed the exit status is
zero.</p>

<p style="margin-left:11%; margin-top: 1em">By default this
utility shows mode pages that are common to all transport
protocols. These are termed as &quot;generic&quot; mode
pages. If there is no match on a generic mode page name or
field then those pages specific to the SAS transport are
checked. Transport protocol specific mode pages are selected
with the <i>&minus;&minus;transport=TN</i> option. See the
TRANSPORT section below. Vendor specific mode pages are
selected with the <i>&minus;&minus;vendor=VN</i> option. See
the VENDORS section below.</p>

<p style="margin-left:11%; margin-top: 1em">Although
originally for SCSI disks (or storage devices that appear to
the OS as SCSI disks) many of the mode pages are for other
SCSI device types. These include CD/DVD players that use the
ATAPI (or any other) transport, SCSI tapes drives and SCSI
enclosures.</p>

<p style="margin-left:11%; margin-top: 1em">When the
<i>&minus;&minus;inquiry</i> option is given without a page
number then the Device Identification VPD page (page number
0x83) is requested and if found it is decoded and output. If
no page number is given and the <i>&minus;&minus;all</i>
option is given then a list of VPD page names (but not their
contents) supported by the <i>DEVICE</i> is output. When
both the <i>&minus;&minus;inquiry</i> and
<i>&minus;&minus;page=PG</i> options are given then the VPD
page can be specified as an abbreviation (e.g.
&quot;sp&quot; for the SCSI ports VPD page) or numerically
(e.g. &quot;0x88&quot;). If a VPD page is returned by the
<i>DEVICE</i> but sdparm cannot decode it or the
<i>&minus;&minus;hex</i> option is given then it is output
in hex.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Mandatory
arguments to long options are mandatory for short options as
well. If an option takes a numeric argument then that
argument is assumed to be decimal unless otherwise indicated
(e.g. with a leading &quot;0x&quot; or a trailing
&quot;h&quot;). The options are in alphabetical order, based
on the long option name. <b><br>
&minus;a</b>, <b>&minus;&minus;all</b></p>

<p style="margin-left:22%;">output all recognized fields
for the device type (e.g. disk) of the <i>DEVICE</i>.
Without this option (or the
<i>&minus;&minus;page=PG[,SPG]</i> option) the default
action is to output a relatively small number of commonly
used fields from different pages. When a specific (mode)
page number is given with the
<i>&minus;&minus;page=PG[,SPG]</i> option then all the
fields of that page are output (irrespective of the setting
of this option). For this option&rsquo;s action when used
with the <i>&minus;&minus;enumerate</i> option see the
ENUMERATE section below.</p>

<p style="margin-left:11%;"><b>&minus;c</b>,
<b>&minus;&minus;clear</b>=<i>STR</i></p>

<p style="margin-left:22%;">In its simplest form <i>STR</i>
contains a field acronym_name or a field numerical
descriptor. In the absence of an explicit value argument
(e.g. &rsquo;&minus;&minus;clear=WCE=1&rsquo;), the field
has its value cleared to zero. See the PARAMETERS section
below.</p>

<p style="margin-left:11%;"><b>&minus;C</b>,
<b>&minus;&minus;command</b>=<i>CMD</i></p>

<p style="margin-left:22%;">Perform given <i>CMD</i>. See
section below on COMMANDS. To enumerate supported commands
use &rsquo;&minus;e &minus;C x&rsquo; (using any CMD name,
valid or otherwise).</p>

<p style="margin-left:11%;"><b>&minus;B</b>,
<b>&minus;&minus;dbd</b></p>

<p style="margin-left:22%;">disable block descriptors. This
is a bit in MODE SENSE cdbs that rarely needs to be set. One
known case is a MODE SENSE 6 issued to a Reduced Block
Commands (RBC) device where the RBC standard says it shall
be set.</p>

<p style="margin-left:11%;"><b>&minus;D</b>,
<b>&minus;&minus;defaults</b></p>

<p style="margin-left:22%;">sets the given mode page to its
default values. Requires the
<i>&minus;&minus;page=PG[,SPG]</i> option to be given to
specify the mode page. To make the default mode page values
also the saved mode page values, use the
<i>&minus;&minus;save</i> option as well.</p>

<p style="margin-left:11%;"><b>&minus;d</b>,
<b>&minus;&minus;dummy</b></p>

<p style="margin-left:22%;">when set inhibits changes being
placed in the <i>DEVICE</i>&rsquo;s mode page. Instead the
mode data that would have been sent to a MODE SELECT
command, is output in ASCII hex to the console. This option
is mainly for testing.</p>

<p style="margin-left:11%;"><b>&minus;e</b>,
<b>&minus;&minus;enumerate</b></p>

<p style="margin-left:22%;">lists out descriptive
information about the pages and fields known to this
utility. Ignores the <i>DEVICE</i> argument and other
options apart from the <i>&minus;&minus;all</i>,
<i>&minus;&minus;inquiry</i>, <i>&minus;&minus;long</i>,
<i>&minus;&minus;page=PG[,SPG]</i>,
<i>&minus;&minus;transport=TN</i> and
<i>&minus;&minus;vendor=VN</i>. If
<i>&minus;&minus;enumerate</i> is given without other
options then the known (generic) mode pages are listed. See
the ENUMERATE section below.</p>

<p style="margin-left:11%;"><b>&minus;f</b>,
<b>&minus;&minus;flexible</b></p>

<p style="margin-left:22%;">Some devices, bridges and/or
drivers attempt crude transformations between mode sense 6
and 10 byte commands without correctly rebuilding the
response. This will cause the response to be
mis&minus;interpreted (usually with an error saying the
response is malformed). With this option, the length of the
response is checked, and if it looks wrong, various
corrections are attempted. This option will also allow mode
pages that don&rsquo;t belong to the current device&rsquo;s
peripheral type to be listed.</p>

<p style="margin-left:11%;"><b>&minus;g</b>,
<b>&minus;&minus;get</b>=<i>STR</i></p>

<p style="margin-left:22%;">In its simplest form <i>STR</i>
contains a field acronym_name or a field numerical
descriptor. The field is fetched from mode page. See the
PARAMETERS section below. The <i>&minus;&minus;long</i> and
<i>&minus;&minus;hex</i> options effect the output format.
Also if a value of &quot;1&quot; is given (e.g.
&rsquo;&minus;&minus;get=WCE=1&rsquo;) only the current
value is output (i.e. not the change mask, the default value
and the saved value).</p>

<p style="margin-left:11%;"><b>&minus;h</b>,
<b>&minus;&minus;help</b></p>

<p style="margin-left:22%;">output the usage message then
exit.</p>

<p style="margin-left:11%;"><b>&minus;H</b>,
<b>&minus;&minus;hex</b></p>

<p style="margin-left:22%;">rather than trying to decode
mode (or VPD) pages, print them out in hex. When used with
the <i>&minus;&minus;get=STR</i> option the corresponding
current, changeable, default and saved values are output in
hex, prefixed by &quot;0x&quot; and space separated. If a
value of &quot;1&quot; is given with the
<i>&minus;&minus;get=STR</i> option (e.g.
&rsquo;&minus;&minus;get=WCE=1&rsquo;) then only the current
value is output in hex, prefixed by &quot;0x&quot;. If a
value of &quot;2&quot; is given with the
<i>&minus;&minus;get=STR</i> option then only the current
value is output as a (signed) integer. This option can be
used multiple times (e.g. &rsquo;&minus;HH&rsquo;). Useful
with the ATA Information VPD page which usually outputs its
IDENTIFY (PACKET) DEVICE response in 16 bit hex words; with
&rsquo;&minus;HH&rsquo; outputs that response in hex bytes;
with &rsquo;&minus;HHH&rsquo; outputs the same response in a
format suitable for &rsquo;hdparm
&minus;&minus;Istdin&rsquo; to decode.</p>

<p style="margin-left:11%;"><b>&minus;i</b>,
<b>&minus;&minus;inquiry</b></p>

<p style="margin-left:22%;">output INQUIRY VPD pages. In
the absence of this option the default action is to output
mode pages. If the <i>&minus;&minus;inquiry</i> option is
given without the <i>&minus;&minus;page=PG[,SPG]</i> option
then the device identification VPD page (0x83) is decoded
and output. If this option and the <i>&minus;&minus;all</i>
option are given then the supported VPD pages page (0x0) is
decoded and output.</p>

<p style="margin-left:11%;"><b>&minus;l</b>,
<b>&minus;&minus;long</b></p>

<p style="margin-left:22%;">output extra information. In
the case of mode page fields a description (with units if
applicable) is output to the right. If used twice, then for
some fields more information about its values is given on
one or more following lines, each prefixed by a tab
character. For usage with <i>&minus;&minus;enumerate</i> see
the ENUMERATE section below.</p>

<p style="margin-left:11%;"><b>&minus;n</b>,
<b>&minus;&minus;num&minus;desc</b></p>

<p style="margin-left:22%;">for a mode page that can have
descriptors, the number of descriptors for the given page on
the <i>DEVICE</i> is output. Otherwise 0 is output.</p>

<p style="margin-left:11%;"><b>&minus;p</b>,
<b>&minus;&minus;page</b>=<i>PG[,SPG]</i></p>

<p style="margin-left:22%;">supply the page number
(<i>PG</i>) and optionally the sub page number (<i>SPG</i>)
of the mode (or VPD) page to fetch. These numbers are
interpreted as decimal unless prefixed with &quot;0x&quot;
or a trailing. Sub page numbers are only valid for mode
pages (not VPD pages). Alternatively an abbreviation for a
page can be given (see next entry).</p>

<p style="margin-left:11%;"><b>&minus;p</b>,
<b>&minus;&minus;page</b>=<i>STR</i></p>

<p style="margin-left:22%;">a two or three letter
abbreviation for a page can be given. Known mode page
abbreviations are checked first followed by known VPD page
abbreviations. For example
&rsquo;&minus;&minus;page=ca&rsquo; matches the caching mode
page. If no match is found then an error is issued and a
list of possibilities in the current context is given (so
&rsquo;&minus;p x&rsquo; can be quite useful). If the
<i>STR</i> matches a known VPD page abbreviation then the
<i>&minus;&minus;inquiry</i> option is assumed. For usage
with <i>&minus;&minus;enumerate</i> see the ENUMERATE
section below.</p>

<p style="margin-left:11%;"><b>&minus;q</b>,
<b>&minus;&minus;quiet</b></p>

<p style="margin-left:22%;">suppress output of device name
followed by the vendor, product and revision strings fetched
from an INQUIRY response. Without this option such a line is
typically the first line output by sdparm. Reduces output
from the device identification VPD page, typically to one
line (or none) for each of di_lu, di_port, di_target and
di_asis.</p>

<p style="margin-left:11%;"><b>&minus;r</b>,
<b>&minus;&minus;readonly</b></p>

<p style="margin-left:22%;">override other logic to open
<i>DEVICE</i> in read&minus;only mode. The default setting
of the open read&minus;only/read&minus;write mode depends on
the operation requested (e.g. a <i>&minus;&minus;set=STR</i>
operation by default will try a read&minus;write mode open
on <i>DEVICE</i>). This option may be useful if a command is
being sent to an ATA disk via a SCSI command set. For
example in Linux &rsquo;&minus;C stop&rsquo; may require
this option to stop an ATA disk being restarted
immediately.</p>

<p style="margin-left:11%;"><b>&minus;S</b>,
<b>&minus;&minus;save</b></p>

<p style="margin-left:22%;">when a mode page is being
modified (by using the <i>&minus;&minus;clear=STR</i> and/or
<i>&minus;&minus;set=STR</i> options) then the default
action is to modify only the current values mode page. When
this option is given then the corresponding value(s) in the
saved values mode page is also changed. The next time the
device is power cycled (or reset) the saved values mode page
becomes (i.e. is copied to) the current values mode page.
See NOTES section below.</p>

<p style="margin-left:11%;"><b>&minus;s</b>,
<b>&minus;&minus;set</b>=<i>STR</i></p>

<p style="margin-left:22%;">in its simplest form <i>STR</i>
contains a field acronym_name or a field numerical
descriptor. In the absence of an explicit value, each
acronym_name has its value set to (all) ones. This means a
16 bit field will be set to 0xffff which is 65535 in
decimal. Alternatively each acronym_name or numerical
descriptor may be followed by &quot;=&lt;n&gt;&quot; where
&lt;n&gt; is the value to set that field to. See the
PARAMETERS section below.</p>

<p style="margin-left:11%;"><b>&minus;6</b>,
<b>&minus;&minus;six</b></p>

<p style="margin-left:22%;">The default action of this
utility is to issue MODE SENSE and MODE SELECT SCSI commands
with 10 byte cdbs. When this option is given the 6 byte cdb
variants are used. RBC and old SCSI devices may need this
option. This utility outputs a suggestion to use this option
if the SCSI status indicates that the 10 byte cdb variant is
not supported.</p>

<p style="margin-left:11%;"><b>&minus;t</b>,
<b>&minus;&minus;transport</b>=<i>TN</i></p>

<p style="margin-left:22%;">Specifies the transport
protocol where <i>TN</i> is either a number in the range 0
to 15 (inclusive) or an abbreviation (e.g. &quot;fcp&quot;
for the Fibre Channel Protocol). One way to list available
transport protocols numbers and their associated
abbreviations is to give an invalid transport protocol
number such as &rsquo;&minus;t x&rsquo;; another way is
&rsquo;&minus;e &minus;l&rsquo;.</p>

<p style="margin-left:11%;"><b>&minus;M</b>,
<b>&minus;&minus;vendor</b>=<i>VN</i></p>

<p style="margin-left:22%;">Specifies the vendor (i.e.
manufacturer) where <i>VN</i> is either a number (0 or more)
or an abbreviation (e.g. &quot;sea&quot; for Seagate disk
vendor specific). One way to list available vendor numbers
and their associated abbreviations is to give an invalid
vendor number such as &rsquo;&minus;M x&rsquo;; another way
is &rsquo;&minus;e &minus;l&rsquo;.</p>

<p style="margin-left:11%;"><b>&minus;v</b>,
<b>&minus;&minus;verbose</b></p>

<p style="margin-left:22%;">increase the level of
verbosity, (i.e. debug output). In some cases more decoding
is done (e.g. fields within a standard INQUIRY
response).</p>

<p style="margin-left:11%;"><b>&minus;V</b>,
<b>&minus;&minus;version</b></p>

<p style="margin-left:22%;">print the version string and
then exit.</p>

<p style="margin-left:11%;"><b>&minus;w</b>,
<b>&minus;&minus;wscan</b></p>

<p style="margin-left:22%;">this option is available in
Windows only. It lists storage device names and the
corresponding volumes, if any. When used twice it adds the
&quot;bus type&quot; of the closest transport (e.g. a SATA
disk in a USB connected enclosure has bus type Usb). When
used three times a SCSI adapter scan is added. When used
four times only a SCSI adapter scan is shown. See examples
below and the &quot;Win32 port&quot; section in the README
file.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The reference
document used for interpreting mode and VPD pages (and the
INQUIRY standard response) is T10/1713&minus;D Revision 36e
(SPC&minus;4, 24 August 2012) found at http://www.t10.org .
Obsolete and reserved items in the standard INQUIRY response
output are displayed in brackets.</p>

<p style="margin-left:11%; margin-top: 1em">A mode page for
which no abbreviation is known (e.g. a vendor specific mode
page) can be listed in hexadecimal by using the option
combination &rsquo;&minus;&minus;page=PG
&minus;&minus;hex&rsquo;.</p>

<p style="margin-left:11%; margin-top: 1em">Numbers input
to sdparm (e.g. in the command line arguments) are assumed
to be in decimal unless there is a hexadecimal indicator. A
hexadecimal indicator is either a leading &rsquo;0x&rsquo;
or &rsquo;0X&rsquo; (i.e. the C language convention) or a
trailing &rsquo;h&rsquo; or &rsquo;H&rsquo; (i.e. the
convention used at www.t10.org ). In the case of
<i>&minus;&minus;page</i>= either a string or number is
expected, so hex numbers like &rsquo;ch&rsquo; (12) should
be prefixed by a zero (e.g. &rsquo;0ch&rsquo;).</p>

<p style="margin-left:11%; margin-top: 1em">The SPC&minus;4
draft (rev 2) says that devices that implement no
distinction between current and saved pages can return an
error (ILLEGAL REQUEST, invalid field in cdb) if the SP bit
(which corresponds to the <i>&minus;&minus;save</i> option)
is _not_ set. In such cases the <i>&minus;&minus;save</i>
option needs to be given.</p>

<p style="margin-left:11%; margin-top: 1em">If the
<i>&minus;&minus;save</i> option is given but the existing
mode page indicates (via its PS bit) that the page is not
savable, then this utility generates an error message. That
message suggests to try again without the
<i>&minus;&minus;save</i> option.</p>

<p style="margin-left:11%; margin-top: 1em">Since the
device identification VPD page (acronym_name &quot;di&quot;)
potentially contains a lot of diverse designators, several
associated acronyms are available. They are
&quot;di_lu&quot; for designators associated with the
addressed logical unit, &quot;di_port&quot; for designators
associated with the target port (which the command arrived
via) and &quot;di_target&quot; for designators associated
with the target device. When &quot;di&quot; is used
designators are grouped by lu, then port and then target
device. To see all designators decoded in the order that
they appear in the VPD page use &quot;di_asis&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Only those VPD
pages defined by t10.org are decoded by this utility.
SPC&minus;4 sets aside VPD pages codes from 0xc0 to 0xff
(inclusive) for vendor specific pages some of which are
decoded in the sg_vpd utility.</p>

<p style="margin-left:11%; margin-top: 1em">In the linux
kernel 2.6 series any device node that understands a SCSI
command set (e.g. SCSI disks and CD/DVD drives) may be
specified. More precisely the driver that &quot;owns&quot;
the device node must support the SG_IO ioctl. In the lk 2.4
series only SCSI generic (sg) device nodes support the SG_IO
ioctl. However in the lk 2.4 series other SCSI device nodes
are mapped within this utility to their corresponding sg
device nodes. So if there is a SCSI disk at /dev/sda then
&rsquo;sdparm /dev/sda&rsquo; will work in both the lk 2.6
and lk 2.4 series. However if there is an ATAPI cd/dvd drive
at /dev/hdc then &rsquo;sdparm /dev/hdc&rsquo; will only
work in the lk 2.6 series.</p>

<p style="margin-left:11%; margin-top: 1em">In the Linux
2.6 series, especially with ATA disks, using sdparm to stop
(spin down) a disk may not be sufficient and other
mechanisms will start the disk again some time later. The
user might additionally mark the disk as &quot;offline&quot;
with &rsquo;echo offline &gt;
/sys/block/sda/device/state&rsquo; where sda is the block
name of the disk. To restart the disk &quot;offline&quot;
can be replaced with &quot;running&quot;.</p>

<h2>PARAMETERS
<a name="PARAMETERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">In their
simplest form the <i>&minus;&minus;clear</i>=,
<i>&minus;&minus;get</i>= and <i>&minus;&minus;set</i>=
options (or their short forms) take an acronym_name such as
&quot;WCE&quot;. In the case of
&rsquo;&minus;&minus;get=WCE&rsquo; the value of
&quot;Writeback Cache Enable&quot; in the caching mode page
will be fetched. In the case of
&rsquo;&minus;&minus;set=WCE&rsquo; that bit will be set (to
one). In the case of &rsquo;&minus;&minus;clear=WCE&rsquo;
that bit will be cleared (to zero). When an acronym_name is
given then the mode page is imputed from that acronym_name
(e.g. WCE is in the caching mode page).</p>

<p style="margin-left:11%; margin-top: 1em">Instead of an
acronym_name a field within a mode page can be described
numerically with a
&lt;start_byte&gt;:&lt;start_bit&gt;:&lt;num_bits&gt; tuple.
These are the &lt;start_byte&gt; (origin 0) within the mode
page, a &lt;start_bit&gt; (0 to 7 inclusive) and
&lt;num_bits&gt; (1 to 64 inclusive). For example, the low
level representation of the RCD bit (the &quot;Read Cache
Disable bit in the caching mode page) is &quot;2:0:1&quot;.
The &lt;start_byte&gt; can optionally be given in hex (e.g.
&rsquo;&minus;&minus;set=0x2:0:1&rsquo; or
&rsquo;&minus;&minus;set=2h:0:1&rsquo;). With this form the
<i>&minus;&minus;page</i>= option is required to establish
which mode page is to be used.</p>

<p style="margin-left:11%; margin-top: 1em">Either form can
optionally be followed by &quot;=&lt;val&gt;&quot;. By
default &lt;val&gt; is decimal but can be given in hex in
the normal fashion. Here are some examples:
&rsquo;&minus;&minus;set=2h:0:1=1h&rsquo; and
&rsquo;&minus;s MRIE=0x3&rsquo;. When the acronym_name or
numeric form following <i>&minus;&minus;clear</i>= is not
given an explicit &rsquo;=&lt;val&gt;&rsquo; then the value
defaults to zero. When the acronym_name or numeric form
following <i>&minus;&minus;set</i>= is not given an explicit
&rsquo;=&lt;val&gt;&rsquo; then the value defaults to
&quot;all ones&quot; (i.e. as many as &lt;num_bits&gt;
permits). For example &rsquo;&minus;&minus;clear=WCE&rsquo;
and &rsquo;&minus;&minus;clear=WCE=0&rsquo; have the same
meaning: clear Writeback Cache Enable or, put more simply:
turn off the writeback cache.</p>

<p style="margin-left:11%; margin-top: 1em">Multiple fields
within the same mode page can be changed by giving a comma
separated list of acronym_names and/or the numerical form.
For example:
&rsquo;&minus;&minus;set=TEST,MRIE=6&rsquo;.</p>

<p style="margin-left:11%; margin-top: 1em">Some mode page
have multiple descriptors. They typically have a fixed
header section at the start of the mode page that includes a
field containing the number of descriptors that follow.
Following the header is a variable number of descriptors. An
example is the SAS Phy Control and Discover mode page. An
acronym_name may include a trailing
&rsquo;.&lt;num&gt;&rsquo; where &quot;&lt;num&gt;&quot; is
a descriptor number (origin 0). For example &rsquo;&minus;t
sas &minus;g PHID.0&rsquo; and &rsquo;&minus;t sas &minus;g
PHID&rsquo; will yield the phy identifier of the first
descriptor of the above mode page; &rsquo;&minus;t sas
&minus;g PHID.1&rsquo; will yield the phy identifier of the
second descriptor.</p>

<h2>ENUMERATE
<a name="ENUMERATE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>&minus;&minus;enumerate</i> option essentially dumps out
static information held by this utility. A list of
<i>&minus;&minus;enumerate</i> variants and their actions
follows. For brevity subsequent examples of options are
shown in their shorter form.</p>


<p style="margin-left:11%; margin-top: 1em">&minus;&minus;enumerate
list generic mode page information <br>
&minus;e &minus;&minus;all list generic mode page contents
<br>
(i.e. parameters) <br>
&minus;e &minus;&minus;page=rw list contents of read write
error <br>
recovery mode page <br>
&minus;e &minus;&minus;inquiry list VPD pages this utility
can decode <br>
&minus;e &minus;&minus;long list generic mode pages,
transport <br>
protocols, mode pages for each <br>
supported transport protocol and <br>
supported commands <br>
&minus;e &minus;l &minus;&minus;all additionally list the
contents of <br>
each mode page <br>
&minus;e &minus;&minus;transport=fcp list mode pages for the
fcp <br>
transport protocol <br>
&minus;e &minus;t fcp &minus;&minus;all additionally list
the contents of <br>
each mode page <br>
&minus;e &minus;&minus;vendor=sea list vendor specific mode
pages for <br>
&quot;sea&quot; (Seagate) <br>
&minus;e &minus;M sea &minus;&minus;all additionally list
the contents of vendor <br>
specific mode pages for &quot;sea&quot; (Seagate) <br>
&minus;e &minus;p pcd &minus;l list contents of SAS phy
control and <br>
discovery mode page plus (due to &quot;&minus;l&quot;) <br>
some descfriptor format information</p>

<p style="margin-left:11%; margin-top: 1em">When known mode
pages are listed (via the <i>&minus;&minus;enumerate</i>
option) each line starts with a two or three letter
abbreviation. This is followed by the page number (in hex
prefixed by &quot;0x&quot;) optionally followed by a comma
and the subpage number. Finally the descriptive name of the
mode page (e.g. as found in SPC&minus;4) is output.</p>

<p style="margin-left:11%; margin-top: 1em">When known
parameters (fields) of a mode page are listed, each line
starts with an acronym (indented a few spaces). This will
match (or be an acronym for) the description for that field
found in the (draft) standards. Next are three numbers,
separated by colons, surrounded by brackets. These are the
start byte (in hex, prefixed by &quot;0x&quot;) of the
beginning of the field within the mode page; the starting
bit (0 through 7 inclusive) and then the number of bits. The
descriptive name of the parameter (field) is then given. If
appropriate the descriptive name includes units (e.g.
&quot;(ms)&quot; means the units are milliseconds). Adding
the &rsquo;&minus;ll&rsquo; option will list information
about possible field values for selected mode page
parameters.</p>

<p style="margin-left:11%; margin-top: 1em">Mode parameters
for which the num_bits is greater than 1 can be viewed as
unsigned integers. Often 16 and 32 bit fields are set to
0xffff and 0xffffffff respectively (all ones) which usually
has a special meaning (see drafts). This utility outputs
such values as &quot;&minus;1&quot; to save space (rather
than their unsigned integer equivalents).
&quot;&minus;1&quot; can also be given as the value to a
mode page field acronym (e.g.
&rsquo;&minus;&minus;set=INTT=&minus;1&rsquo; sets the
interval timer field in the Informational Exceptions control
mode page to 0xffffffff).</p>

<h2>TRANSPORTS
<a name="TRANSPORTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">SCSI transport
protocols are a relatively specialized area that can be
safely ignored by the majority of users.</p>

<p style="margin-left:11%; margin-top: 1em">Some transport
protocols have protocol specific mode pages. These are
usually the disconnect&minus;reconnect (0x2), the protocol
specific logical unit (0x18) and the protocol specific port
(0x19) mode pages. In some cases the latter mode page has
several subpages. The most common transport protocol
abbreviations likely to be used are &quot;fcp&quot;,
&quot;spi&quot; and &quot;sas&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Many of the
field names are re&minus;used in the same position so the
acronym_name namespaces have been divided between generic
mode pages (i.e. when the <i>&minus;&minus;transport</i>=
option is _not_ given) and a namespace for each transport
protocol. A LUPID field from the protocol specific logical
unit (0x18) mode page and the PPID field from protocol
specific port (0x19) mode page are included in the generic
modes pages; this is so the respective (transport) protocol
identifiers can be seen. In most cases the user will know
what the &quot;port&quot; transport is (i.e. the same
transport as the HBA in the computer) but the logical
unit&rsquo;s transport could be different.</p>

<h2>VENDORS
<a name="VENDORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">SCSI leaves a
lot of space for vendor specific information. Often this is
described in product manuals. The
<i>&minus;&minus;vendor=VN</i> (or <i>&minus;M=VN</i>)
option allows known vendor specific mode pages to be
examined and/or modified by acronym.</p>

<p style="margin-left:11%; margin-top: 1em">In this utility
the syntax and semantics of vendor specific mode pages is
very similar to those of transport protocol specific mode
pages. Both cannot be specified together. Vendor specific
modes pages can still be accessed numerically (as shown at
the end of the EXAMPLES section).</p>

<h2>COMMANDS
<a name="COMMANDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The command
option sends a SCSI command to the <i>DEVICE</i>. If the
command fails then this is reflected in the non&minus;zero
exit status. To obtain more information about the error use
the <i>&minus;v</i> option. <br>
capacity</p>

<p style="margin-left:22%;">sends a READ CAPACITY command
(valid for disks and cd/dvd media). If successful yields
&quot;blocks: &quot; [the number of blocks],
&quot;block_length: &quot; [typically either 512 or 2048]
and &quot;capacity_mib: &quot; [capacity in MibiBytes
(1048576 byte units)].</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>eject</p></td>
<td width="4%"></td>
<td width="78%">


<p>stops the medium and ejects it from the device. Note
that ejection (by command or button) may be prevented in
which case the &rsquo;unlock&rsquo; command may be useful in
extreme cases. Typically only appropriate for cd/dvd drives
and disk drives with removable media. Objects if sent to
another peripheral device type (but objection can be
overridden with &rsquo;&minus;f&rsquo; option).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>load</p></td>
<td width="4%"></td>
<td width="78%">


<p>loads the medium and and starts it (i.e. spins it up).
See &rsquo;eject&rsquo; command for supported device
types.</p> </td></tr>
</table>

<p style="margin-left:11%;">profile</p>

<p style="margin-left:22%;">lists the various formats that
a CD/DVD/HD&minus;DVD/BD drive supports. These are called
&quot;profiles&quot; in the MMC standard. The profiles are
listed one per line. If media is in the drive then the
profile that matches the media (if any) has an &quot;*&quot;
to the right of the line.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>ready</p></td>
<td width="4%"></td>
<td width="78%">


<p>sends the &quot;Test Unit Ready&quot; SCSI command to
the <i>DEVICE</i>. No error is reported if the device will
respond to data requests (e.g. READ) in a reasonable
timescale. For example, if a disk is stopped then it will
report &quot;not ready&quot;. All devices should respond to
this command.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>sense</p></td>
<td width="4%"></td>
<td width="78%">


<p>sends a REQUEST SENSE command. It reports a hardware
threshold exceeded, warning or low power condition if
flagged. If a progress indication is present (e.g. during a
format) then it will be output as a percentage. Yields a
process status of 0 if the command succeeds and the sense
key is 0; else yields 1. The <i>&minus;&minus;quiet</i>
option can be used to lessen output, and
<i>&minus;&minus;hex</i> to output sense data in hex.</p></td></tr>
</table>

<p style="margin-left:11%;">speed=SPEED</p>

<p style="margin-left:22%;">permits the speed of a CD, DVD,
HD_DVD or BD disc in a drive to be set (or at least
influenced). It has this format:
<i>&minus;&minus;command=speed=SPEED</i> where SPEED is in
kilobytes per second. In this case a kilobyte is 1000 bytes.
The &quot;times one&quot; speed for a CD is 176.4 kB/s, for
a DVD is 1350 kB/s and for both HD&minus;DVD and BD it is
4500 kB/s. If SPEED is zero then the drive is set to the
speed that it considers gives optimal performance. This
command sends a SET STREAMING multi&minus;media command
(MMC) to the drive. The EXACT bit is clear so the drive will
round the given SPEED as necessary. The command is designed
to control read speed; setting write speed should be left to
&quot;burning&quot; programs.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p>start</p></td>
<td width="2%"></td>
<td width="78%">


<p>starts the medium (i.e. spins it up). Harmless if medium
has already been started. See &rsquo;eject&rsquo; command
for supported device types. If the <i>DEVICE</i> is an ATA
disk in Linux the &rsquo;&minus;&minus;readonly&rsquo;
option may be required.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p>stop</p></td>
<td width="2%"></td>
<td width="78%">


<p>stops the medium (i.e. spins it down). Harmless if
medium has already been stopped. See &rsquo;eject&rsquo;
command for supported device types. If the <i>DEVICE</i> is
an ATA disk in Linux the
&rsquo;&minus;&minus;readonly&rsquo; option may be required.
See the NOTES section above.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p>sync</p></td>
<td width="2%"></td>
<td width="78%">


<p>sends a SYNCHRONIZE CACHE command. The device should
flush any data held in its (volatile) buffers to the
media.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p>unlock</p></td>
<td width="2%"></td>
<td width="78%">


<p>tells a device to allow medium removal. It uses the SCSI
&quot;prevent allow medium removal&quot; command. This is
desperation stuff, possibly overriding a prevention applied
by the OS on a mounted file system. The &quot;eject&quot;
utility (from the &quot;eject&quot; package) is more
graceful and should be tried first. This command is only
appropriate for devices with removable media.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">For loading and
ejecting tapes the mt utility should be used (i.e. not these
commands). The &rsquo;ready&rsquo; command is valid for tape
devices.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">To list the
common (generic) mode parameters of a disk:</p>

<p style="margin-left:11%; margin-top: 1em">sdparm
/dev/sda</p>

<p style="margin-left:11%; margin-top: 1em">To list the
designators within the device identification VPD page of a
disk:</p>

<p style="margin-left:11%; margin-top: 1em">sdparm
&minus;&minus;inquiry /dev/sda</p>

<p style="margin-left:11%; margin-top: 1em">To see all
parameters for the caching mode page:</p>

<p style="margin-left:11%; margin-top: 1em">sdparm
&minus;&minus;page=ca /dev/sda</p>

<p style="margin-left:11%; margin-top: 1em">To see all
parameters for the caching mode page with parameter
descriptions to the right:</p>

<p style="margin-left:11%; margin-top: 1em">sdparm
&minus;&minus;page=ca &minus;&minus;long /dev/sda</p>

<p style="margin-left:11%; margin-top: 1em">To get the WCE
values (current changeable default and saved) in hex:</p>

<p style="margin-left:11%; margin-top: 1em">sdparm &minus;g
WCE &minus;H /dev/sda <br>
0x01 0x00 0x01 0x01</p>

<p style="margin-left:11%; margin-top: 1em">To get the WCE
current value in hex:</p>

<p style="margin-left:11%; margin-top: 1em">sdparm &minus;g
WCE=1 &minus;H /dev/sda <br>
0x01</p>

<p style="margin-left:11%; margin-top: 1em">To set the
&quot;Writeback Cache Enable&quot; bit in the current values
page:</p>

<p style="margin-left:11%; margin-top: 1em">sdparm
&minus;&minus;set=WCE /dev/sda</p>

<p style="margin-left:11%; margin-top: 1em">To set the
&quot;Writeback Cache Enable&quot; bit in the current and
saved values page:</p>

<p style="margin-left:11%; margin-top: 1em">sdparm
&minus;&minus;set=WCE &minus;&minus;save /dev/sda</p>

<p style="margin-left:11%; margin-top: 1em">To set the
&quot;Writeback Cache Enable&quot; and clear &quot;Read
Cache Disable&quot;:</p>

<p style="margin-left:11%; margin-top: 1em">sdparm
&minus;&minus;set=WCE &minus;&minus;clear=RCD
&minus;&minus;save /dev/sda</p>

<p style="margin-left:11%; margin-top: 1em">The previous
example can also by written as:</p>

<p style="margin-left:11%; margin-top: 1em">sdparm &minus;s
WCE=1,RCD=0 &minus;S /dev/sda</p>

<p style="margin-left:11%; margin-top: 1em">To
re&minus;establish the manufacturer&rsquo;s defaults in the
current and saved values of the caching mode page:</p>

<p style="margin-left:11%; margin-top: 1em">sdparm
&minus;&minus;page=ca &minus;&minus;defaults
&minus;&minus;save /dev/sda</p>

<p style="margin-left:11%; margin-top: 1em">If an ATAPI
cd/dvd drive is at /dev/hdc then its common (mode)
parameters could be listed in the lk 2.6 series with:</p>

<p style="margin-left:11%; margin-top: 1em">sdparm
/dev/hdc</p>

<p style="margin-left:11%; margin-top: 1em">If there is a
DVD in the drive at /dev/hdc then it could be ejected in the
lk 2.6 series with:</p>

<p style="margin-left:11%; margin-top: 1em">sdparm
&minus;&minus;command=eject /dev/hdc</p>

<p style="margin-left:11%; margin-top: 1em">If the ejection
is being prevented by software then that can be overridden
with:</p>

<p style="margin-left:11%; margin-top: 1em">sdparm
&minus;&minus;command=unlock /dev/hdc</p>

<p style="margin-left:11%; margin-top: 1em">One disk vendor
has a &quot;Performance Mode&quot; bit (PM) in the vendor
specific unit attention mode page [0x0,0x0]. PM=0 is server
mode (the default) while PM=1 is desktop mode. Desktop mode
can be set (both current and saved values) with:</p>

<p style="margin-left:11%; margin-top: 1em">sdparm
&minus;&minus;page=0 &minus;&minus;set=2:7:1=1
&minus;&minus;save /dev/sda</p>

<p style="margin-left:11%; margin-top: 1em">The resultant
change can be viewed in hex with the
<i>&minus;&minus;hex</i> option as there are no acronyms for
vendor extensions yet. The PM bit is now covered by vendor
specific mode pages and the above can also be accomplished
with:</p>

<p style="margin-left:11%; margin-top: 1em">sdparm
&minus;&minus;vendor=sea &minus;&minus;set=PM
&minus;&minus;save /dev/sda</p>

<p style="margin-left:11%; margin-top: 1em">What follows
are some examples from Windows using the
&rsquo;&minus;&minus;wscan&rsquo; option. The idea is to
list the storage device names on the system that might be
invoked by other uses of sdparm.</p>

<p style="margin-left:11%; margin-top: 1em"># sdparm
&minus;&minus;wscan <br>
PD0 [C] FUJITSU MHY2160BH 0000 <br>
PD1 [DF] WD 2500BEV External 1.05 WD&minus;WXE90 <br>
CDROM0 [E] MATSHITA DVD/CDRW UJDA775 CB03</p>

<p style="margin-left:11%; margin-top: 1em">So
&rsquo;sdparm &minus;a CDROM0&rsquo; and &rsquo;sdparm
&minus;a E&rsquo; will show all the (known) mode page fields
for the Matshita DVD/CD drive. By using the
&rsquo;&minus;&minus;wsacan&rsquo; option twice, the bus
type (as seen by the OS) is added to the output:</p>

<p style="margin-left:11%; margin-top: 1em"># sdparm
&minus;ww <br>
PD0 [C] &lt;Ata &gt; FUJITSU MHY2160BH 0000 <br>
PD1 [DF] &lt;Usb &gt; WD 2500BEV External 1.05
WD&minus;WXE90 <br>
CDROM0 [E] &lt;Atapi&gt; MATSHITA DVD/CDRW UJDA775 CB03</p>

<p style="margin-left:11%; margin-top: 1em">And the pattern
continues to add a SCSI adapter scan. This may be useful if
there are specialized storage related devices (e.g. a SES
device in an enclosure) but does add much extra information
in this case.</p>

<p style="margin-left:11%; margin-top: 1em"># sdparm
&minus;www <br>
PD0 [C] &lt;Ata &gt; FUJITSU MHY2160BH 0000 <br>
PD1 [DF] &lt;Usb &gt; WD 2500BEV External 1.05
WD&minus;WXE90 <br>
CDROM0 [E] &lt;Atapi&gt; MATSHITA DVD/CDRW UJDA775 CB03</p>

<p style="margin-left:11%; margin-top: 1em">SCSI0:0,0,0
claimed=1 pdt=0h FUJITSU MHY2160BH 0000 <br>
SCSI1:0,0,0 claimed=1 pdt=5h MATSHITA DVD/CDRW UJDA775
CB03</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">To aid scripts
that call sdparm, the exit status is set to indicate success
(0) or failure (1 or more). Note that some of the lower
values correspond to the SCSI sense key values. The exit
status values are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>0</b></p></td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em">success</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>1</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>syntax error. Either illegal command line options,
options with bad arguments or a combination of options that
is not permitted.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>2</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>the <i>DEVICE</i> reports that it is not ready for the
operation requested. The device may be in the process of
becoming ready (e.g. spinning up but not at speed) so the
utility may work after a wait.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>3</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>the <i>DEVICE</i> reports a medium or hardware error (or
a blank check). For example an attempt to read a corrupted
block on a disk will yield this value.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>5</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>the <i>DEVICE</i> reports an &quot;illegal request&quot;
with an additional sense code other than &quot;invalid
operation code&quot;. This is often a supported command with
a field set requesting an unsupported capability. For
commands that require a &quot;service action&quot; field
this value can indicate that the command is not
supported.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>6</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>the <i>DEVICE</i> reports a &quot;unit attention&quot;
condition. This usually indicates that something unrelated
to the requested command has occurred (e.g. a device reset)
potentially before the current SCSI command was sent. The
requested command has not been executed by the device. Note
that unit attention conditions are usually only reported
once by a device.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>9</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>the <i>DEVICE</i> reports an illegal request with an
additional sense code of &quot;invalid operation code&quot;
which means that it doesn&rsquo;t support the requested
command.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>11</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>the <i>DEVICE</i> reports an aborted command. In some
cases aborted commands can be retried immediately (e.g. if
the transport aborted the command due to congestion).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>15</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>the utility is unable to open, close or use the given
<i>DEVICE</i>. The given file name could be incorrect or
there may be permission problems. Adding the <i>&minus;v</i>
option may give more information.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>20</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>the <i>DEVICE</i> reports it has a check condition but
&quot;no sense&quot;. Some polling commands (e.g. REQUEST
SENSE) can react this way. It is unlikely that this value
will occur as an exit status.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>21</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>the <i>DEVICE</i> reports a &quot;recovered error&quot;.
The requested command was successful. Most likely a utility
will report a recovered error to stderr and continue,
probably leaving the utility with an exit status of 0 .</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>33</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>the command sent to <i>DEVICE</i> has timed out. This
occurs in Linux only; in other ports a command timeout will
appear as a transport (or OS) error.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>97</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>the response to a SCSI command failed sanity checks.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>98</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>the <i>DEVICE</i> reports it has a check condition but
the error doesn&rsquo;t fit into any of the above
categories.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>99</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>any errors that can&rsquo;t be categorized into values 1
to 98 may yield this value. This includes transport and
operating system errors after the command has been sent to
the device.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Most of the
error conditions reported above will be repeatable (an
example of one that is not is &quot;unit attention&quot;) so
the utility can be run again with the <i>&minus;v</i> option
(or several) to obtain more information.</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Written by
Douglas Gilbert.</p>

<h2>REPORTING BUGS
<a name="REPORTING BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Report bugs to
&lt;dgilbert at interlog dot com&gt;.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
&copy; 2005&minus;2013 Douglas Gilbert <br>
This software is distributed under a FreeBSD license. There
is NO warranty; not even for MERCHANTABILITY or FITNESS FOR
A PARTICULAR PURPOSE.</p>

<h2>WEB SITE
<a name="WEB SITE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">There is a web
page discussing this package at
http://sg.danny.cz/sg/sdparm.html .</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>hdparm(hdparm),
sg_modes, sg_wr_mode, sginfo, sg_inq, sg_vpd(all in
sg3_utils), smartmontools(smartmontools.sourceforge.net),
mt, eject(eject),</b></p>
<hr>
</body>
</html>
