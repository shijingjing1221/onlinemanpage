<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Fri Nov 11 22:08:31 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>pki-server-instance</title>

</head>
<body>

<h1 align="center">pki-server-instance</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#OPERATIONS">OPERATIONS</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">pki-server-instance
&minus; Command-Line Interface for managing Certificate
System instances.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>pki-server
[CLI options] instance <br>
pki-server [CLI options] instance-cert <br>
pki-server [CLI options] instance-cert-export <br>
pki-server [CLI options] instance-find <br>
pki-server [CLI options] instance-show</b> &lt;instance
ID&gt; <b><br>
pki-server [CLI options] instance-start</b> &lt;instance
ID&gt; <b><br>
pki-server [CLI options] instance-stop</b> &lt;instance
ID&gt; <b><br>
pki-server [CLI options] instance-migrate</b> --tomcat
&lt;version&gt; &lt;instance ID&gt; <b><br>
pki-server [CLI options] instance-nuxwdog-enable</b>
&lt;instance ID&gt; <b><br>
pki-server [CLI options] instance-nuxwdog-disable</b>
&lt;instance ID&gt; <b><br>
pki-server [CLI options] instance-externalcert-add</b> -i
&lt;instance ID&gt; <br>
--cert-file &lt;path&gt; --trust-args &lt;args&gt;
--nickname &lt;nickname&gt; --token &lt;token&gt; <b><br>
pki-server [CLI options] instance-externalcert-del</b> -i
&lt;instance ID&gt; <br>
--nickname &lt;nickname&gt; --token &lt;token&gt;</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>pki-server instance</b> commands provide command-line
interfaces to manage Certificate Server (CS) instances. A
Certificate Server instance consists of a single Apache
Tomcat instance that contains one or more CS subsystems.</p>

<p style="margin-left:11%; margin-top: 1em">Operations that
are available include: listing and showing details about
local instances; starting and stopping instances; performing
instance migrations; and enabling or disabling password
prompted instance startup using <b>nuxwdog</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki-server
[CLI options] instance</b></p>

<p style="margin-left:17%;">This command is to list
available instance commands.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki-server
[CLI options] instance-cert</b></p>

<p style="margin-left:17%;">This command is to list
available instance certificate commands.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki-server
[CLI options] instance-cert-export</b></p>

<p style="margin-left:17%;">This command is to export
system certificates and keys to a PKCS #12 file. The output
filename and either a password or a password file are
required. If no nicknames are specified, all the system
certificates will be exported. Otherwise, it is possible to
extract individual certificates (with or without their keys
and trust arguments), and to append to an existing PKCS #12
file.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki-server
[CLI options] instance-find</b></p>

<p style="margin-left:17%;">This command is to list local
CS instances.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki-server
[CLI options] instance-show</b> &lt;instance ID&gt;</p>

<p style="margin-left:17%;">This command is to view a
details about a particular instance.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki-server
[CLI options] instance-start</b> &lt;instance ID&gt;</p>

<p style="margin-left:17%;">This command is to start a CS
instance. Note that currently this command cannot be used to
start <b>nuxwdog</b>-enabled instances.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki-server
[CLI options] instance-stop</b> &lt;instance ID&gt;</p>

<p style="margin-left:17%;">This command is to stop a CS
instance. Note that currently this command cannot be used to
stop <b>nuxwdog</b>-enabled instances.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki-server
[CLI options] instance-migrate</b> --tomcat &lt;version&gt;
&lt;instance_ID&gt;</p>

<p style="margin-left:17%;">There are differences in
configuration between Apache Tomcat 7 and Apache Tomcat 8.
This command reconfigures a CS instance to match the
specified Tomcat version. This command can be used to
migrate initially created under Tomcat 7 when Tomcat is
upgraded.. See <b>pki-server migrate</b>(8) for further
details.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki-server
[CLI options] instance-nuxwdog-enable</b> &lt;instance
ID&gt;</p>

<p style="margin-left:17%;">This command is to convert a CS
instance to start without access to a password file, using
the <b>nuxwdog</b> daemon. See <b>pki-server nuxwdog</b>(8)
for further details.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki-server
[CLI options] instance-nuxwdog-disable</b> &lt;instance
ID&gt;</p>

<p style="margin-left:17%;">This command is to convert a CS
instance to start with access to a password file, rather
than using the <b>nuxwdog</b> daemon. See <b>pki-server
nuxwdog</b>(8) for further details.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki-server
[CLI options] instance-externalcert-add</b> -i &lt;instance
ID&gt; <br>
--cert-file &lt;path&gt; --trust-args &lt;args&gt;
--nickname &lt;nickname&gt; --token &lt;token&gt;</p>

<p style="margin-left:17%;">This command is to add a
certificate to the certificate database for a CS instance.
The certificate will be kept track of in the configuration
file <b>external_certs.conf</b>, and will automatically be
exported when the system certificates are exported. To
update a certificate, the old one needs to be removed first
using the delete command below.</p>

<p style="margin-left:17%; margin-top: 1em">The trust
arguments are those defined for NSS databases eg.
&quot;C,c,c&quot;. See <b>certutil(1)</b> for more
details.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pki-server
[CLI options] instance-externalcert-del</b> -i &lt;instance
ID&gt; <br>
--nickname &lt;nickname&gt; --token &lt;token&gt;</p>

<p style="margin-left:17%;">This command is to remove a
certificate from the certificate database for a CS
instance.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The CLI options
are described in <b>pki-server</b>(8).</p>

<h2>OPERATIONS
<a name="OPERATIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">To view
available instance management commands, type <b>pki-server
instance</b>. To view each command&rsquo;s usage, type
<b>pki-server instance-&lt;command&gt;
&minus;&minus;help</b>.</p>

<p style="margin-left:11%; margin-top: 1em">All pki-server
commands must be executed as the system administrator.</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Ade Lee
&lt;alee@redhat.com&gt;</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright (c)
2015 Red Hat, Inc. This is licensed under the GNU General
Public License, version 2 (GPLv2). A copy of this license is
available at
http://www.gnu.org/licenses/old-licenses/gpl-2.0.txt.</p>
<hr>
</body>
</html>
