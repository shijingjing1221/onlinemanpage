<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:06:36 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>BADBLOCKS(8) BADBLOCKS(8)</p>

<p>NAME badblocks - search a device for bad blocks</p>

<p>SYNOPSIS badblocks [ -svwnf ] [ -b block-size ] [ -c
blocks_at_once ] [ -i input_file ] [ -o output_file ] [ -p
num_passes ] [ -t test_pattern ] device [ last-block ] [
start-block ]</p>

<p>DESCRIPTION badblocks is used to search for bad blocks
on a device (usually a disk partition). device is the
special file corresponding to the device (e.g /dev/hdc1).
last-block is the last block to be checked; if it is not
specified, the last block on the device is used as a
default. start-block is an optional parameter specifying the
starting block num- ber for the test, which allows the
testing to start in the middle of the disk. If it is not
specified the first block on the disk is used as a
default.</p>

<p>Important note: If the output of badblocks is going to
be fed to the e2fsck or mke2fs programs, it is important
that the block size is prop- erly specified, since the block
numbers which are generated are very dependent on the block
size in use by the filesystem. For this reason, it is
strongly recommended that users not run badblocks directly,
but rather use the -c option of the e2fsck and mke2fs
programs.</p>

<p>OPTIONS -b block-size Specify the size of blocks in
bytes. The default is 1024.</p>

<p>-c number of blocks is the number of blocks which are
tested at a time. The default is 64.</p>

<p>-f Normally, badblocks will refuse to do a read/write or
a non- destructive test on a device which is mounted, since
either can cause the system to potentially crash and/or
damage the filesys- tem even if it is mounted read-only.
This can be overridden using the -f flag, but should almost
never be used --- if you think youre smarter than the
badblocks program, you almost cer- tainly arent. The only
time when this option might be safe to use is if the
/etc/mtab file is incorrect, and the device really isnt
mounted.</p>

<p>-i input_file Read a list of already existing known bad
blocks. Badblocks will skip testing these blocks since they
are known to be bad. If input_file is specified as
&quot;-&quot;, the list will be read from the standard
input. Blocks listed in this list will be omitted from the
list of new bad blocks produced on the standard output or in
the output file. The -b option of dumpe2fs(8) can be used to
retrieve the list of blocks currently marked bad on an
exist- ing filesystem, in a format suitable for use with
this option.</p>

<p>-o output_file Write the list of bad blocks to the
specified file. Without this option, badblocks displays the
list on its standard output. The format of this file is
suitable for use by the -l option in e2fsck(8) or
mke2fs(8).</p>

<p>-p num_passes Repeat scanning the disk until there are
no new blocks discov- ered in num_passes consecutive scans
of the disk. Default is 0, meaning badblocks will exit after
the first pass.</p>

<p>-t test_pattern Specify a test pattern to be read (and
written) to disk blocks. The test_pattern may either be a
numeric value between 0 and ULONG_MAX-1 inclusive, or the
word &quot;random&quot;, which specifies that the block
should be filled with a random bit pattern. For read/write
(-w) and non-destructive (-n) modes, one or more test
patterns may be specified by specifying the -t option for
each test pattern desired. For read-only mode only a single
pattern may be specified and it may not be
&quot;random&quot;. Read-only testing with a pattern assumes
that the specified pattern has previously been written to
the disk - if not, large numbers of blocks will fail
verification. If multiple patterns are specified then all
blocks will be tested with one pattern before proceeding to
the next pattern.</p>

<p>-n Use non-destructive read-write mode. By default only
a non- destructive read-only test is done. This option must
not be combined with the -w option, as they are mutually
exclusive.</p>

<p>-s Show the progress of the scan by writing out the
block numbers as they are checked.</p>

<p>-v Verbose mode.</p>

<p>-w Use write-mode test. With this option, badblocks
scans for bad blocks by writing some patterns (0xaa, 0x55,
0xff, 0x00) on every block of the device, reading every
block and comparing the contents. This option may not be
combined with the -n option, as they are mutually
exclusive.</p>

<p>WARNING Never use the -w option on a device containing
an existing file system. This option erases data! If you
want to do write-mode testing on an existing file system,
use the -n option instead. It is slower, but it will
preserve your data.</p>

<p>AUTHOR badblocks was written by Remy Card
&lt;Remy.Card@linux.org&gt;. Current maintainer is Theodore
Ts o &lt;tytso@alum.mit.edu&gt;. Non-destructive read/write
test implemented by David Beattie
&lt;dbeattie@softhome.net&gt;.</p>

<p>AVAILABILITY badblocks is part of the e2fsprogs package
and is available from http://e2fsprogs.sourceforge.net.</p>

<p>SEE ALSO e2fsck(8), mke2fs(8)</p>

<p>E2fsprogs version 1.39 May 2006 BADBLOCKS(8)</p>
<hr>
</body>
</html>
