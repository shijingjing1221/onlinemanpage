<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:11:36 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>GETDENTS(2) Linux Programmer s Manual GETDENTS(2)</p>

<p>NAME getdents - get directory entries</p>

<p>SYNOPSIS #include &lt;unistd.h&gt; #include
&lt;linux/types.h&gt; #include &lt;linux/dirent.h&gt;
#include &lt;linux/unistd.h&gt; #include &lt;errno.h&gt;</p>

<p>int getdents(unsigned int fd, struct dirent *dirp,
unsigned int count);</p>

<p>DESCRIPTION This is not the function you are interested
in. Look at readdir(3) for the POSIX conforming C library
interface. This page documents the bare kernel system call
interface.</p>

<p>The system call getdents() reads several dirent
structures from the directory pointed at by fd into the
memory area pointed to by dirp. The parameter count is the
size of the memory area.</p>

<p>The dirent structure is declared as follows:</p>

<p>struct dirent { long d_ino; /* inode number */ off_t
d_off; /* offset to next dirent */ unsigned short d_reclen;
/* length of this dirent */ char d_name [NAME_MAX+1]; /*
filename (null-terminated) */ }</p>

<p>d_ino is an inode number. d_off is the distance from the
start of the directory to the start of the next dirent.
d_reclen is the size of this entire dirent. d_name is a
null-terminated filename.</p>

<p>This call supersedes readdir(2).</p>

<p>RETURN VALUE On success, the number of bytes read is
returned. On end of directory, 0 is returned. On error, -1
is returned, and errno is set appropri- ately.</p>

<p>ERRORS EBADF Invalid file descriptor fd.</p>

<p>EFAULT Argument points outside the calling process s
address space.</p>

<p>EINVAL Result buffer is too small.</p>

<p>ENOENT No such directory.</p>

<p>ENOTDIR File descriptor does not refer to a
directory.</p>

<p>CONFORMING TO SVr4.</p>

<p>NOTES Glibc does not provide a wrapper for this system
call; call it using syscall(2).</p>

<p>Warning: Result of the getdents() system call in 32 bit
application on 64 bit OS doesn t have to be always correct,
potentially the call itself can fail.</p>

<p>SEE ALSO readdir(2), readdir(3)</p>

<p>Linux 1.3.6 2007-06-01 GETDENTS(2)</p>
<hr>
</body>
</html>
