<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:17:30 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>SYSLOG(3) Linux Programmer s Manual SYSLOG(3)</p>

<p>NAME closelog, openlog, syslog - send messages to the
system logger</p>

<p>SYNOPSIS #include &lt;syslog.h&gt;</p>

<p>void openlog(const char *ident, int option, int
facility); void syslog(int priority, const char *format,
...); void closelog(void);</p>

<p>#include &lt;stdarg.h&gt;</p>

<p>void vsyslog(int priority, const char *format, va_list
ap);</p>

<p>DESCRIPTION closelog() closes the descriptor being used
to write to the system log- ger. The use of closelog() is
optional.</p>

<p>openlog() opens a connection to the system logger for a
program. The string pointed to by ident is prepended to
every message, and is typi- cally set to the program name.
The option argument specifies flags which control the
operation of openlog() and subsequent calls to sys- log().
The facility argument establishes a default to be used if
none is specified in subsequent calls to syslog(). Values
for option and facility are given below. The use of
openlog() is optional; it will automatically be called by
syslog() if necessary, in which case ident will default to
NULL.</p>

<p>syslog() generates a log message, which will be
distributed by sys- logd(8). The priority argument is formed
by ORing the facility and the level values (explained
below). The remaining arguments are a format, as in
printf(3) and any arguments required by the format, except
that the two character sequence %m will be replaced by the
error message string strerror(errno). A trailing newline is
added when needed.</p>

<p>The function vsyslog() performs the same task as
syslog() with the dif- ference that it takes a set of
arguments which have been obtained using the stdarg(3)
variable argument list macros.</p>

<p>PARAMETERS This section lists the parameters used to set
the values of option, facility, and priority.</p>

<p>option The option argument to openlog() is an OR of any
of these:</p>

<p>LOG_CONS Write directly to system console if there is an
error while sending to system logger.</p>

<p>LOG_NDELAY Open the connection immediately (normally,
the connection is opened when the first message is
logged).</p>

<p>LOG_NOWAIT Dont wait for child processes that may have
been created while logging the message. (The GNU C library
does not create a child process, so this option has no
effect on Linux.)</p>

<p>LOG_ODELAY The converse of LOG_NDELAY; opening of the
connection is delayed until syslog() is called. (This is the
default, and need not be specified.)</p>

<p>LOG_PERROR (Not in POSIX.1-2001.) Print to stderr as
well.</p>

<p>LOG_PID Include PID with each message.</p>

<p>facility The facility argument is used to specify what
type of program is log- ging the message. This lets the
configuration file specify that mes- sages from different
facilities will be handled differently.</p>

<p>LOG_AUTH security/authorization messages (DEPRECATED Use
LOG_AUTHPRIV instead)</p>

<p>LOG_AUTHPRIV security/authorization messages
(private)</p>

<p>LOG_CRON clock daemon (cron and at)</p>

<p>LOG_DAEMON system daemons without separate facility
value</p>

<p>LOG_FTP ftp daemon</p>

<p>LOG_KERN kernel messages (these cant be generated from
user processes)</p>

<p>LOG_LOCAL0 through LOG_LOCAL7 reserved for local use</p>

<p>LOG_LPR line printer subsystem</p>

<p>LOG_MAIL mail subsystem</p>

<p>LOG_NEWS USENET news subsystem</p>

<p>LOG_SYSLOG messages generated internally by syslogd</p>

<p>LOG_USER (default) generic user-level messages</p>

<p>LOG_UUCP UUCP subsystem</p>

<p>level This determines the importance of the message. The
levels are, in order of decreasing importance:</p>

<p>LOG_EMERG system is unusable</p>

<p>LOG_ALERT action must be taken immediately</p>

<p>LOG_CRIT critical conditions</p>

<p>LOG_ERR error conditions</p>

<p>LOG_WARNING warning conditions</p>

<p>LOG_NOTICE normal, but significant, condition</p>

<p>LOG_INFO informational message</p>

<p>LOG_DEBUG debug-level message</p>

<p>The function setlogmask(3) can be used to restrict
logging to specified levels only.</p>

<p>CONFORMING TO The functions openlog(), closelog(), and
syslog() (but not vsyslog()) are specified in SUSv2 and
POSIX.1-2001. POSIX.1-2001 specifies only the LOG_USER and
LOG_LOCAL* values for facility. However, with the exception
of LOG_AUTHPRIV and LOG_FTP, the other facility values
appear on most Unix systems. The LOG_PERROR value for option
is not specified by POSIX.1-2001, but is available in most
versions of Unix.</p>

<p>HISTORY A syslog() function call appeared in 4.2BSD.
4.3BSD documents open- log(), syslog(), closelog(), and
setlogmask(). 4.3BSD-Reno also docu- ments vsyslog(). Of
course early v* functions used the &lt;varargs.h&gt;
mechanism, which is not compatible with
&lt;stdarg.h&gt;.</p>

<p>NOTES The parameter ident in the call of openlog() is
probably stored as-is. Thus, if the string it points to is
changed, syslog() may start prepending the changed string,
and if the string it points to ceases to exist, the results
are undefined. Most portable is to use a string
constant.</p>

<p>Never pass a string with user-supplied data as a format,
use syslog(priority, &quot;%s&quot;, string); instead.</p>

<p>SEE ALSO logger(1), setlogmask(3), syslog.conf(5),
syslogd(8)</p>

<p>Linux 2002-01-03 SYSLOG(3)</p>
<hr>
</body>
</html>
