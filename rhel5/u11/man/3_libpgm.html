<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:14:58 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>User manual for old pgm functions(3) User manual for old
pgm functions(3)</p>

<p>NAME libpgm - libnetpbm functions to read and write PGM
image files</p>

<p>SYNOPSIS #include &lt;netpbm/pgm.h&gt;</p>

<p>void pgm_init( int *argcP, char *argv[] );</p>

<p>gray ** pgm_allocarray( int cols, int rows );</p>

<p>gray * pgm_allocrow( intcols );</p>

<p>void pgm_freearray( gray **grays, introws );</p>

<p>void pgm_freerow( gray *grayrow);</p>

<p>void pgm_readpgminit( FILE *fp, int *colsP, int *rowsP,
gray *maxvalP, int *formatP );</p>

<p>void pgm_readpgmrow( FILE *fp, gray *grayrow, int cols,
gray maxval, int format );</p>

<p>gray ** pgm_readpgm( FILE *fp, int *colsP, int *rowsP,
gray *maxvalP );</p>

<p>void pgm_writepgminit( FILE * fp , int cols, int rows,
gray maxval, int forceplain );</p>

<p>void pgm_writepgmrow( FILE *fp, gray *grayrow, int cols,
gray maxval, int forceplain );</p>

<p>void pgm_writepgm( FILE *fp, gray ** grays, int cols,
int rows, gray maxval, int forceplain );</p>

<p>void pgm_writepgm( FILE *fp, gray **grays, int cols, int
rows, gray maxval, int forceplain );</p>

<p>void pgm_nextimage( FILE *file, int * const eofP);</p>

<p>void pgm_check( FILE * file, const enum pm_check_type
check_type, const int format, const int cols, const int
rows, const int maxval, enum pm_check_code * const
retval);</p>

<p>typedef ... gray;</p>

<p>#define PGM_MAXMAXVAL ...</p>

<p>#define PGM_OVERALLMAXVAL ...</p>

<p>#define PGM_FORMAT ...</p>

<p>#define RPGM_FORMAT ...</p>

<p>#define PGM_TYPE PGM_FORMAT</p>

<p>#define</p>

<p>PGM_FORMAT_TYPE(format) ...</p>

<p>DESCRIPTION These library functions are part of
Netpbm(1).</p>

<p>TYPES AND CONSTANTS Each gray should contain only the
values between 0 and PGM_OVERALLMAX- VAL.</p>

<p>PGM_OVERALLMAXVAL is the maximum value of a maxval in a
PGM file. PGM_MAXMAXVAL is the maximum value of a maxval in
a PGM file that is compatible with the PGM format as it
existed before April 2000. It is also the maximum value of a
maxval that results in the minimum possible raster size for
a particular image. I.e an image with a maxval higher than
PGM_MAXMAXVAL cannot be read or generated by old PGM
processing programs and requires more file space.</p>

<p>PGM_FORMAT is the format code for a Plain PGM format
image file. RPGM_FORMAT is the format code for a Raw PGM
format image file. PGM_TYPE is the format type code for the
PGM formats. PGM_FORMAT_TYPE is a macro that generates code
to compute the format type code of a PBM or PGM format from
the format code which is its argument.</p>

<p>INITIALIZATION pgm_init() is identical to
pm_proginit.</p>

<p>pgm_init() is obsolete. Use pm_proginit() instead.</p>

<p>MEMORY MANAGEMENT pgm_allocarray() allocates an array of
grays.</p>

<p>pgm_allocrow() allocates a row of the given number of
grays.</p>

<p>pgm_freearray() frees the array allocated with
pgm_allocarray() con- taining the given number of rows.</p>

<p>pgm_freerow() frees a row of grays allocated with
pgm_allocrow().</p>

<p>READING FILES If a function in this section is called on
a PBM format file, it trans- lates the PBM file into a PGM
file on the fly and functions as if it were called on the
equivalent PGM file. The format value returned by
pgm_readpgminit() is, however, not translated. It represents
the actual format of the PBM file.</p>

<p>pgm_readpgminit() reads the header of a PGM file,
returning all the information from the header and leaving
the file positioned just after the header.</p>

<p>pgm_readpgmrow() reads a row of grays into the grayrow
array. format, cols, and maxval are the values returned by
pgm_readpgminit().</p>

<p>pgm_readpgm() reads an entire PGM image into memory,
returning the allocated array as its return value and
returning the information from the header as rows, cols, and
maxval. This function combines pgm_readpgminit(),
pgm_allocarray(), and pgm_readpgmrow().</p>

<p>pgm_readpgminit() and pgm_readpgm abort the program with
a message to Standard Error if the PGM image header is not
syntactically valid, including if it contains a number too
large to be processed using the systems normal data
structures (to wit, a number that wont fit in a C int).</p>

<p>WRITING FILES pgm_writepgminit() writes the header for a
PGM file and leaves it posi- tioned just after the
header.</p>

<p>forceplain is a logical value that tells
pgm_writepgminit() to write a header for a plain PGM format
file, as opposed to a raw PGM format file.</p>

<p>pgm_writepgmrow() writes the row grayrow to a PGM file.
For meaningful results, cols, maxval, and forceplain must be
the same as was used with pgm_writepgminit().</p>

<p>pgm_writepgm() write the header and all data for a PGM
image. This function combines pgm_writepgminit() and
pgm_writepgmrow().</p>

<p>MISCELLANEOUS pgm_nextimage() positions a PGM input file
to the next image in it (so that a subsequent
pgm_readpgminit() reads its header).</p>

<p>pgm_nextimage() is analogous to pbm_nextimage(), but
works on PGM and PBM files.</p>

<p>pgm_check() checks for the common file integrity error
where the file is the wrong size to contain all the image
data.</p>

<p>pgm_check() is analogous to pbm_check(), but works on
PGM and PBM files.</p>

<p>SEE ALSO libpbm(1), libppm(1), libpnm(1)</p>

<p>netpbm documentation 8 SeptemberUser7manual for old pgm
functions(3)</p>
<hr>
</body>
</html>
