<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:18:56 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>PGPVERIFY(1) InterNetNews Documentation PGPVERIFY(1)</p>

<p>NAME pgpverify - Cryptographically verify Usenet control
messages</p>

<p>SYNOPSIS pgpverify [-test] &lt; message</p>

<p>DESCRIPTION The pgpverify program reads (on standard
input) a Usenet control mes- sage that has been
cryptographically signed using the signcontrol pro- gram (or
some other program that produces a compatible format).
pgpverify then uses a PGP implementation to determine who
signed the control message. If the control message has a
valid signature, pgpver- ify prints (to stdout) the user ID
of the key that signed the message. Otherwise, it exits with
a non-zero exit status.</p>

<p>If pgpverify is installed as part of INN, it uses INNs
configuration to determine what signature verification
program to use, how to log errors, what temporary directory
to use, and what keyring to use. Oth- erwise, all of those
parameters can be set by editing the beginning of this
script.</p>

<p>By default, when running as part of INN, pgpverify
expects the PGP key ring to be found in pathetc/pgp (as
either pubring.pgp or pubring.gpg depending on whether PGP
or GnuPG is used to verify signatures). If that directory
doesnt exist, it will fall back on using the default key
ring, which is in a .pgp or .gnupg subdirectory of the
running users home directory.</p>

<p>OPTIONS The -test flag causes pgpverify to print out the
input that it is pass- ing to PGP (which is a reconstructed
version of the input that suppos- edly created the control
message) as well as the output from PGPs analysis of the
message.</p>

<p>EXIT STATUS pgpverify may exit with the following
statuses:</p>

<p>0 The control message had a good PGP signature.</p>

<p>1 The control message had no PGP signature.</p>

<p>2 The control message had an unknown PGP signature.</p>

<p>3 The control message had a bad PGP signature.</p>

<p>255 A problem occurred not directly related to PGP
analysis of signa- ture.</p>

<p>ENVIRONMENT pgpverify does not modify or otherwise alter
the environment before invoking the pgp or gpgv program. It
is the responsibility of the per- son who installs pgpverify
to ensure that when pgp or gpgv runs, it has the ability to
locate and read a PGP key file that contains the PGP public
keys for the appropriate Usenet hierarchy administrators.
pgpverify can be pointed to an appropriate key ring by
editing vari- ables at the beginning of this script.</p>

<p>NOTES Historically, Usenet news server administrators
have configured their news servers to automatically honor
Usenet control messages based on the originator of the
control messages and the hierarchies for which the control
messages applied. For example, in the past, David Lawrence
always issued control messages for the &quot;Big 8&quot;
hierarchies (comp, humanities, misc, news, rec, sci, soc,
talk). Usenet news administra- tors would configure their
news server software to automatically honor newgroup and
rmgroup control messages that originated from David Lawrence
and applied to any of the Big 8 hierarchies.</p>

<p>Unfortunately, Usenet news articles (including control
messages) are notoriously easy to forge. Soon, malicious
users realized they could create or remove (at least
temporarily) any Big 8 newsgroup they wanted by simply
forging an appropriate control message in David Lawrences
name. As Usenet became more widely used, forgeries became
more common.</p>

<p>The pgpverify program was designed to allow Usenet news
administrators to configure their servers to
cryptographically verify control messages before
automatically acting on them. Under the pgpverify system, a
Usenet hierarchy maintainer creates a PGP public/private key
pair and disseminates the public key. Whenever the hierarchy
maintainer issues a control message, he uses the signcontrol
program to sign the control message with the PGP private
key. Usenet news administrators configure their news servers
to run the pgpverify program on the appropriate con- trol
messages, and take action based on the PGP key User ID that
signed the control message, not the name and address that
appear in the con- trol messages From or Sender headers.</p>

<p>Thus, appropriate use of the signcontrol and pgpverify
programs essen- tially eliminates the possibility of
malicious users forging Usenet control messages that sites
will act upon, as such users would have to obtain the PGP
private key in order to forge a control message that would
pass the cryptographic verification step. If the hierarchy
administrators properly protect their PGP private keys, the
only way a malicious user could forge a validly-signed
control message would be by breaking the public key
encryption algorithm, which (at least at this time) is
believed to be prohibitively difficult for PGP keys of a
suf- ficient bit length.</p>

<p>SEE ALSO gpgv(1), pgp(1)</p>

<p>&lt;ftp://ftp.isc.org/pub/pgpcontrol/&gt; is where the
most recent versions of signcontrol and pgpverify live,
along with PGP public keys used for hierarchy
administration.</p>

<p>HISTORY pgpverify was written by David C Lawrence
&lt;tale@isc.org&gt;. Manual page provided by James Ralston.
It is currently maintained by Russ Allbery
&lt;rra@stanford.edu&gt;.</p>

<p>COPYRIGHT AND LICENSE David Lawrence wrote: &quot;Our
lawyer told me to include the following. The upshot of it is
that you can use the software for free as much as you
like.&quot;</p>

<p>Copyright (c) 1996 UUNET Technologies, Inc. All rights
reserved.</p>

<p>Redistribution and use in source and binary forms, with
or without mod- ification, are permitted provided that the
following conditions are met:</p>

<p>1. Redistributions of source code must retain the above
copyright notice, this list of conditions and the following
disclaimer.</p>

<p>2. Redistributions in binary form must reproduce the
above copyright notice, this list of conditions and the
following disclaimer in the documentation and/or other
materials provided with the distribution.</p>

<p>3. All advertising materials mentioning features or use
of this soft- ware must display the following
acknowledgement:</p>

<p>This product includes software developed by UUNET
Technologies, Inc.</p>

<p>4. The name of UUNET Technologies (&quot;UUNET&quot;)
may not be used to endorse or promote products derived from
this software without specific prior written permission.</p>

<p>THIS SOFTWARE IS PROVIDED BY UUNET &quot;AS IS&quot; AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL UUNET BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
NOT LIM- ITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.</p>

<p>INN 2.4.1 2004-01-11 PGPVERIFY(1)</p>
<hr>
</body>
</html>
