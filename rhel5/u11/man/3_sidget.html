<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:23:11 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>avc_context_to_sid(3) SELinux API documentation
avc_context_to_sid(3)</p>

<p>NAME avc_context_to_sid, avc_sid_to_context, sidput,
sidget, avc_get_ini- tial_sid - obtain and manipulate
SELinux security IDs.</p>

<p>SYNOPSIS #include &lt;selinux/selinux.h&gt;</p>

<p>#include &lt;selinux/avc.h&gt;</p>

<p>int avc_context_to_sid(security_context_t ctx,
security_id_t *sid);</p>

<p>int avc_sid_to_context(security_id_t sid,
security_context_t *ctx);</p>

<p>int sidget(security_id_t sid);</p>

<p>int sidput(security_id_t sid);</p>

<p>int avc_get_initial_sid(const char *name, security_id_t
*sid);</p>

<p>DESCRIPTION Security ID s (SID s) are reference-counted,
opaque representations of security contexts.</p>

<p>avc_context_to_sid returns a SID for the given context
in the memory referenced by sid, incrementing its reference
count by 1.</p>

<p>avc_sid_to_context returns a copy of the context
represented by sid in the memory referenced by ctx. The user
must free the copy with freecon(3).</p>

<p>sidget increments the reference count of sid by 1.</p>

<p>sidput decrements the reference count of sid by 1. If
the count ever reaches zero, the SID becomes invalid and
must not be used any further.</p>

<p>avc_get_initial_sid returns a SID for the kernel initial
security iden- tifier specified by name</p>

<p>RETURN VALUE sidget and sidput return the new reference
count. A return value of zero indicates an invalid SID.</p>

<p>avc_context_to_sid and avc_sid_to_context return zero on
success. On error, -1 is returned and errno is set
appropriately.</p>

<p>ERRORS EINVAL The provided sid has a zero reference
count and is invalid.</p>

<p>ENOMEM An attempt to allocate memory failed.</p>

<p>NOTES The expected usage pattern for these functions is
that avc_con- text_to_sid will be called once to obtain a
SID for a newly created object, sidget will be called on a
SID when its object is duplicated, and sidput will be called
on a SID when its object is destroyed. Proper reference
counting is necessary to ensure that SIDs and associ- ated
cache entries are reclaimed from memory when no longer
needed.</p>

<p>AUTHOR Eamon Walsh &lt;ewalsh@tycho.nsa.gov&gt;</p>

<p>SEE ALSO avc_init(3), avc_has_perm(3),
avc_cache_stats(3), avc_add_callback(3), getcon(3),
freecon(3) selinux(8)</p>

<p>27 May 2004 avc_context_to_sid(3)</p>
<hr>
</body>
</html>
