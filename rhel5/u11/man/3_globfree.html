<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:12:00 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>GLOB(3) Linux Programmer s Manual GLOB(3)</p>

<p>NAME glob, globfree - find pathnames matching a pattern,
free memory from glob()</p>

<p>SYNOPSIS #include &lt;glob.h&gt;</p>

<p>int glob(const char *pattern, int flags, int
errfunc(const char *epath, int eerrno), glob_t *pglob); void
globfree(glob_t *pglob);</p>

<p>DESCRIPTION The glob() function searches for all the
pathnames matching pattern according to the rules used by
the shell (see glob(7)). No tilde expansion or parameter
substitution is done; if you want these, use wordexp(3).</p>

<p>The globfree() function frees the dynamically allocated
storage from an earlier call to glob().</p>

<p>The results of a glob() call are stored in the structure
pointed to by pglob, which is a glob_t which is declared in
&lt;glob.h&gt; and includes the following elements defined
by POSIX.2 (more may be present as an exten- sion):</p>

<p>typedef struct { size_t gl_pathc; /* Count of paths
matched so far */ char **gl_pathv; /* List of matched
pathnames. */ size_t gl_offs; /* Slots to reserve in
gl_pathv. */ } glob_t;</p>

<p>Results are stored in dynamically allocated storage.</p>

<p>The parameter flags is made up of bitwise OR of zero or
more the fol- lowing symbolic constants, which modify the of
behaviour of glob():</p>

<p>GLOB_ERR which means to return upon read error (because
a directory does not have read permission, for example),</p>

<p>GLOB_MARK which means to append a slash to each path
which corresponds to a directory,</p>

<p>GLOB_NOSORT which means don t sort the returned
pathnames (they are by default),</p>

<p>GLOB_DOOFFS which means that pglob-&gt;gl_offs slots
will be reserved at the beginning of the list of strings in
pglob-&gt;pathv,</p>

<p>GLOB_NOCHECK which means that, if no pattern matches, to
return the original pattern,</p>

<p>GLOB_APPEND which means to append to the results of a
previous call. Do not set this flag on the first invocation
of glob().</p>

<p>GLOB_NOESCAPE which means that meta characters cannot be
quoted by back- slashes.</p>

<p>The flags may also include some of the following, which
are GNU exten- sions and not defined by POSIX.2:</p>

<p>GLOB_PERIOD which means that a leading period can be
matched by meta charac- ters,</p>

<p>GLOB_ALTDIRFUNC which means that alternative functions
pglob-&gt;gl_closedir, pglob-&gt;gl_readdir,
pglob-&gt;gl_opendir, pglob-&gt;gl_lstat, and
pglob-&gt;gl_stat are used for file system access instead of
the normal library functions,</p>

<p>GLOB_BRACE which means that csh(1) style brace
expressions {a,b} are expanded,</p>

<p>GLOB_NOMAGIC which means that the pattern is returned if
it contains no metacharacters,</p>

<p>GLOB_TILDE which means that tilde expansion is carried
out, and</p>

<p>GLOB_ONLYDIR which means that only directories are
matched.</p>

<p>If errfunc is not NULL, it will be called in case of an
error with the arguments epath, a pointer to the path which
failed, and eerrno, the value of errno as returned from one
of the calls to opendir(), read- dir(), or stat(). If
errfunc returns non-zero, or if GLOB_ERR is set, glob() will
terminate after the call to errfunc.</p>

<p>Upon successful return, pglob-&gt;gl_pathc contains the
number of matched pathnames and pglob-&gt;gl_pathv a pointer
to the list of matched path- names. The first pointer after
the last pathname is NULL.</p>

<p>It is possible to call glob() several times. In that
case, the GLOB_APPEND flag has to be set in flags on the
second and later invoca- tions.</p>

<p>As a GNU extension, pglob-&gt;gl_flags is set to the
flags specified, ored with GLOB_MAGCHAR if any
metacharacters were found.</p>

<p>RETURN VALUE On successful completion, glob() returns
zero. Other possible returns are:</p>

<p>GLOB_NOSPACE for running out of memory,</p>

<p>GLOB_ABORTED for a read error, and</p>

<p>GLOB_NOMATCH for no found matches.</p>

<p>EXAMPLE One example of use is the following code, which
simulates typing</p>

<p>ls -l *.c ../*.c</p>

<p>in the shell:</p>

<p>glob_t globbuf;</p>

<p>globbuf.gl_offs = 2; glob(&quot;*.c&quot;, GLOB_DOOFFS,
NULL, &amp;globbuf); glob(&quot;../*.c&quot;, GLOB_DOOFFS |
GLOB_APPEND, NULL, &amp;globbuf); globbuf.gl_pathv[0] =
&quot;ls&quot;; globbuf.gl_pathv[1] = &quot;-l&quot;;
execvp(&quot;ls&quot;, &amp;globbuf.gl_pathv[0]);</p>

<p>CONFORMING TO POSIX.2, POSIX.1-2001.</p>

<p>BUGS The glob() function may fail due to failure of
underlying function calls, such as malloc() or opendir().
These will store their error code in errno.</p>

<p>NOTES The structure elements gl_pathc and gl_offs are
declared as size_t in glibc 2.1, as they should according to
POSIX.2, but are declared as int in libc4, libc5 and glibc
2.0.</p>

<p>SEE ALSO ls(1), sh(1), stat(2), exec(3), fnmatch(3),
malloc(3), opendir(3), readdir(3), wordexp(3), glob(7)</p>

<p>GNU 1999-09-12 GLOB(3)</p>
<hr>
</body>
</html>
