<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:26:36 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>UTIME(2) Linux Programmer s Manual UTIME(2)</p>

<p>NAME utime, utimes - change access and/or modification
times of an inode</p>

<p>SYNOPSIS #include &lt;sys/types.h&gt; #include
&lt;utime.h&gt;</p>

<p>int utime(const char *filename, const struct utimbuf
*buf);</p>

<p>#include &lt;sys/time.h&gt;</p>

<p>int utimes(const char *filename, const struct timeval
times[2]);</p>

<p>DESCRIPTION utime() changes the access and modification
times of the inode speci- fied by filename to the actime and
modtime fields of buf respectively.</p>

<p>If buf is NULL, then the access and modification times
of the file are set to the current time.</p>

<p>Changing time stamps is permitted when: either the
process has appro- priate privileges (Linux: has the
CAP_FOWNER capability), or the effec- tive user ID equals
the user ID of the file, or buf must is NULL and the process
has write permission to the file.</p>

<p>The utimbuf structure is:</p>

<p>struct utimbuf { time_t actime; /* access time */ time_t
modtime; /* modification time */ };</p>

<p>The function utime() allows specification of time stamps
with a resolu- tion of 1 second. The function utimes() is
similar, but allows a reso- lution of 1 microsecond. Here
times[0] refers to access time, and times[1] to modification
time.</p>

<p>The timeval structure is:</p>

<p>struct timeval { long tv_sec; /* seconds */ long
tv_usec; /* microseconds */ };</p>

<p>RETURN VALUE On success, zero is returned. On error, -1
is returned, and errno is set appropriately.</p>

<p>ERRORS EACCES Search permission is denied for one of the
directories in the path prefix of path (see also
path_resolution(2)), or buf is NULL and the process does not
have permission to change the time stamps (see above).</p>

<p>ENOENT filename does not exist.</p>

<p>EPERM buf is not NULL and the process does not have
permission to change the time stamps.</p>

<p>EROFS path resides on a read-only file system.</p>

<p>NOTES Linux does not allow changing the time stamps on
an immutable file, or setting the time stamps to something
other than the current time on an append-only file.</p>

<p>In libc4 and libc5, utimes() is just a wrapper for
utime() and hence does not allow a subsecond resolution.</p>

<p>POSIX.1-2001 marks utimes() legacy, which is strange
since it provides more functionality than utime().</p>

<p>BUGS Linux is not careful to distinguish between the
EACCES and EPERM error returns. On the other hand,
POSIX.1-2001 is buggy in its error description for
utimes().</p>

<p>CONFORMING TO utime(): SVr4, POSIX.1-2001. utimes():
4.3BSD</p>

<p>SEE ALSO chattr(1), futimesat(2), stat(2),
futimes(3)</p>

<p>Linux 2.6.8 2004-10-10 UTIME(2)</p>
<hr>
</body>
</html>
