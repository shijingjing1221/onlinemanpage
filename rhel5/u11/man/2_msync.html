<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:16:37 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>MSYNC(2) Linux Programmer s Manual MSYNC(2)</p>

<p>NAME msync - synchronize a file with a memory map</p>

<p>SYNOPSIS #include &lt;sys/mman.h&gt;</p>

<p>int msync(void *start, size_t length, int flags);</p>

<p>DESCRIPTION msync() flushes changes made to the in-core
copy of a file that was mapped into memory using mmap(2)
back to disk. Without use of this call there is no guarantee
that changes are written back before mun- map(2) is called.
To be more precise, the part of the file that corre- sponds
to the memory area starting at start and having length
length is updated. The flags argument may have the bits
MS_ASYNC, MS_SYNC and MS_INVALIDATE set, but not both
MS_ASYNC and MS_SYNC. MS_ASYNC speci- fies that an update be
scheduled, but the call returns immediately. MS_SYNC asks
for an update and waits for it to complete. MS_INVALIDATE
asks to invalidate other mappings of the same file (so that
they can be updated with the fresh values just written).</p>

<p>RETURN VALUE On success, zero is returned. On error, -1
is returned, and errno is set appropriately.</p>

<p>ERRORS EINVAL start is not a multiple of PAGESIZE; or
any bit other than MS_ASYNC | MS_INVALIDATE | MS_SYNC is set
in flags; or both MS_SYNC and MS_ASYNC are set in flags.</p>

<p>ENOMEM The indicated memory (or part of it) was not
mapped.</p>

<p>AVAILABILITY On POSIX systems on which msync() is
available, both _POSIX_MAPPED_FILES and
_POSIX_SYNCHRONIZED_IO are defined in &lt;unistd.h&gt; to a
value greater than 0. (See also sysconf(3).)</p>

<p>CONFORMING TO POSIX.1-2001.</p>

<p>This call was introduced in Linux 1.3.21, and then used
EFAULT instead of ENOMEM. In Linux 2.4.19 this was changed
to the POSIX value ENOMEM.</p>

<p>SEE ALSO mmap(2) B.O. Gallmeister, POSIX.4, O Reilly,
pp. 128-129 and 389-391.</p>

<p>Linux 2.4 2003-08-21 MSYNC(2)</p>
<hr>
</body>
</html>
