<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:21:13 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>REALPATH(3) Linux Programmer s Manual REALPATH(3)</p>

<p>NAME realpath - return the canonicalized absolute
pathname</p>

<p>SYNOPSIS #include &lt;limits.h&gt; #include
&lt;stdlib.h&gt;</p>

<p>char *realpath(const char *path, char
*resolved_path);</p>

<p>DESCRIPTION realpath() expands all symbolic links and
resolves references to /./, _/../_and extra /_characters in
the null terminated string named by path and stores the
canonicalized absolute pathname in the buffer of size
PATH_MAX named by resolved_path. The resulting path will
have no symbolic link, /./_or /../_components.</p>

<p>RETURN VALUE If there is no error, realpath() returns a
pointer to the resolved_path.</p>

<p>Otherwise it returns a NULL pointer, and the contents of
the array resolved_path are undefined. The global variable
errno is set to indi- cate the error.</p>

<p>ERRORS EACCES Read or search permission was denied for a
component of the path prefix.</p>

<p>EINVAL Either path or resolved_path is NULL. (In libc5
this would just cause a segfault.) But, see NOTES below.</p>

<p>EIO An I/O error occurred while reading from the file
system.</p>

<p>ELOOP Too many symbolic links were encountered in
translating the pathname.</p>

<p>ENAMETOOLONG A component of a pathname exceeded NAME_MAX
characters, or an entire pathname exceeded PATH_MAX
characters.</p>

<p>ENOENT The named file does not exist.</p>

<p>ENOTDIR A component of the path prefix is not a
directory.</p>

<p>NOTES The glibc implementation of realpath() provides a
non-standard exten- sion. If resolved_path is specified as
NULL, then realpath() uses mal- loc(3) to allocate a buffer
of up to PATH_MAX bytes to hold the resolved pathname, and
returns a pointer to this buffer. The caller should
deallocate this buffer using free(3).</p>

<p>BUGS Avoid using this function. It is broken by design
since (unless using the non-standard resolved_path == NULL
feature) it is impossible to determine a suitable size for
the output buffer, resolved_path. According to POSIX a
buffer of size PATH_MAX suffices, but PATH_MAX need not be a
defined constant, and may have to be obtained using path-
conf(). And asking pathconf() does not really help, since on
the one hand POSIX warns that the result of pathconf() may
be huge and unsuit- able for mallocing memory. And on the
other hand pathconf() may return -1 to signify that PATH_MAX
is not bounded.</p>

<p>The libc4 and libc5 implementation contains a buffer
overflow (fixed in libc-5.4.13). Thus, set-user-ID programs
like mount need a private version.</p>

<p>HISTORY The realpath() function first appeared in
4.4BSD, contributed by Jan- Simon Pendry. In Linux this
function appears in libc 4.5.21.</p>

<p>CONFORMING TO 4.4BSD, POSIX.1-2001.</p>

<p>In 4.4BSD and Solaris the limit on the pathname length
is MAXPATHLEN (found in &lt;sys/param.h&gt;). SUSv2
prescribes PATH_MAX and NAME_MAX, as found in
&lt;limits.h&gt; or provided by the pathconf() function. A
typical source fragment would be</p>

<p>#ifdef PATH_MAX path_max = PATH_MAX; #else path_max =
pathconf (path, _PC_PATH_MAX); if (path_max &lt;= 0)
path_max = 4096; #endif (But see the BUGS section.)</p>

<p>The 4.4BSD, Linux and SUSv2 versions always return an
absolute path- name. Solaris may return a relative pathname
when the path argument is relative. The prototype of
realpath() is given in &lt;unistd.h&gt; in libc4 and libc5,
but in &lt;stdlib.h&gt; everywhere else.</p>

<p>SEE ALSO readlink(2), canonicalize_file_name(3),
getcwd(3), pathconf(3), sysconf(3)</p>

<p>2004-12-14 REALPATH(3)</p>
<hr>
</body>
</html>
