<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:11:33 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>SETALIASENT(3) access mail aliases database
SETALIASENT(3)</p>

<p>NAME setaliasent, endaliasent, getaliasent,
getaliasent_r, getaliasbyname, getaliasbyname_r - read an
alias entry</p>

<p>SYNOPSIS #include &lt;aliases.h&gt;</p>

<p>void setaliasent(void);</p>

<p>void endaliasent(void);</p>

<p>struct aliasent *getaliasent(void);</p>

<p>int getaliasent_r(struct aliasent *result, char *buffer,
size_t buflen, struct aliasent **res);</p>

<p>struct aliasent *getaliasbyname(const char *name);</p>

<p>int getaliasbyname_r(const char *name, struct aliasent
*result, char *buffer, size_t buflen, struct aliasent
**res);</p>

<p>DESCRIPTION One of the databases available with the Name
Service Switch (NSS) is the aliases database, that contains
mail aliases. (To find out which databases are supported,
try getent --help .) Six functions are pro- vided to access
the aliases database.</p>

<p>The getaliasent() function returns a pointer to a
structure containing the group information from the aliases
database. The first time it is called it returns the first
entry; thereafter, it returns successive entries.</p>

<p>The setaliasent() function rewinds the file pointer to
the beginning of the aliases database.</p>

<p>The endaliasent() function closes the aliases
database.</p>

<p>getaliasent_r() is the reentrant version of the previous
function. The requested structure is stored via the first
argument but the programmer needs to fill the other
arguments also. Not providing enough space causes the
function to fail.</p>

<p>The function getaliasbyname() takes the name argument
and searches the aliases database. The entry is returned as
a pointer to a struct aliasent.</p>

<p>getaliasbyname_r() is the reentrant version of the
previous function. The requested structure is stored via the
second argument but the pro- grammer need to fill the other
arguments also. Not providing enough space causes the
function to fail.</p>

<p>The struct aliasent is defined in &lt;aliases.h&gt;.
struct aliasent { char *alias_name; /* alias name */ size_t
alias_members_len; char **alias_members; /* alias name list
*/ int alias_local; };</p>

<p>FILES The default alias database is the file
/etc/aliases. This can be changed in the /etc/nsswitch.conf
file.</p>

<p>RETURN VALUE The functions getaliasent_r() and
getaliasbyname_r() return a non-zero value on error.</p>

<p>EXAMPLE The following example compiles with gcc
example.c -o example. It will dump all names in the alias
database.</p>

<p>#include &lt;aliases.h&gt; #include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt; #include &lt;errno.h&gt;</p>

<p>int main() { struct aliasent *al; setaliasent(); for
(;;) { al = getaliasent(); if (al == NULL) break;
printf(&quot;Name: %s0, al-&gt;alias_name); } if (errno) {
perror(&quot;reading alias&quot;); exit(EXIT_FAILURE); }
endaliasent(); exit(EXIT_SUCCESS); }</p>

<p>CONFORMING TO These routines are glibc-specific. The
NeXT has similar routines #include &lt;aliasdb.h&gt; void
alias_setent(void); void alias_endent(void); alias_ent
*alias_getent(void); alias_ent *alias_getbyname(char
*name);</p>

<p>SEE ALSO getgrent(3), getpwent(3), getspent(3),
aliases(5)</p>

<p>GNU 2003-09-09 SETALIASENT(3)</p>
<hr>
</body>
</html>
