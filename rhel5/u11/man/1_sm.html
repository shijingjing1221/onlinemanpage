<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:23:29 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>SM(1) InterNetNews Documentation SM(1)</p>

<p>NAME sm - Command-line interface to the INN storage
manager</p>

<p>SYNOPSIS sm [-dHiqRrS] [token ...]</p>

<p>DESCRIPTION The INN storage manager is the subsystesm
that stores and keeps track of all of the articles and what
storage backend theyre in. All stored articles are assigned
a storage API token. sm is a command-line inter- face to
that storage manager, primarily used to retrieve articles by
those tokens but also to perform other operations on the
storage sub- system.</p>

<p>token is the token of an article (the same thing thats
returned by grephistory or stored in the history file). It
looks something like:</p>

<p>@0502000005A4000000010000000000000000@</p>

<p>Any number of tokens can be given on the command line.
If none are, sm reads tokens from standard input, one per
line. The default operation is to retrieve and write to
standard output the corresponding article for each token
given.</p>

<p>OPTIONS -d, -r Rather than retrieving the specified
article, remove the article. This will delete the article
out of the news spool and it will not subsequently be
retrievable by any part of INN. It s equivalent to
&quot;ctlinnd cancel&quot; except it takes a storage API
token instead of a message ID.</p>

<p>-H Retrieve only the header of the article rather than
the entire article. This option cannot be used with -d, -r,
-i, or -S.</p>

<p>-i Show the newsgroup name and article number associated
with the token rather than the article itself. Note that for
crossposted articles, only the first newsgroup and article
number to which the article is associated will be
returned.</p>

<p>-q Suppress all error messages except usage errors.</p>

<p>-R Display the raw article. This means that line endings
wont be converted to native line endings and will be left as
CRLF sequences, leading periods will still be escaped for
sending over NNTP, and the article will end in a CRLF.CRLF
sequence.</p>

<p>-S Write the article to standard output in the format
used by rnews spool files. Multiple articles can be written
in this format, and the resulting output can be fed to rnews
(on another system, for example) to inject those articles
into INN. This option cannot be used with -d, -r, -H, -i, or
-R.</p>

<p>EXIT STATUS If all operations were successful, sm exits
with status 0. If an oper- ation on any of the provided
tokens fails, sm will exit with status 1, even if the
operations on other tokens were successful. In other words,
if twenty tokens are fed to &quot;sm -r&quot; on stdin, 19
articles were successfully removed, but the sixth article
couldnt be found, sm will still exit with status 1.</p>

<p>This means that if you need to be sure whether a
particular operation succeeded, you should run sm on one
token at a time.</p>

<p>HISTORY Written by Katsuhiro Kondou
&lt;kondou@nec.co.jp&gt; for InterNetNews. Rewritten in POD
by Russ Allbery &lt;rra@stanford.edu&gt;.</p>

<p>$Id: sm.1 6683 2004-03-06 18:31:58Z rra $</p>

<p>SEE ALSO ctlinnd(8), grephistory(1), history(5),
rnews(1), storage.conf(5).</p>

<p>INN 2.4.2 2004-03-06 SM(1)</p>
<hr>
</body>
</html>
