<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:11:35 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>GETDATE(3) Linux Programmer s Manual GETDATE(3)</p>

<p>NAME getdate - convert a string to struct tm</p>

<p>SYNOPSIS #define _XOPEN_SOURCE #define
_XOPEN_SOURCE_EXTENDED #include &lt;time.h&gt;</p>

<p>struct tm *getdate (const char *string);</p>

<p>extern int getdate_err;</p>

<p>#define _GNU_SOURCE #include &lt;time.h&gt;</p>

<p>int getdate_r (const char *string, struct tm *res);</p>

<p>DESCRIPTION The function getdate() converts a string
pointed to by string into the tm structure that it returns.
This tm structure may be found in static storage, so that it
will be overwritten by the next call.</p>

<p>In contrast to strptime(3), (which has a format
argument), getdate() uses the formats found in the file of
which the full pathname is given in the environment variable
DATEMSK. The first line in the file that matches the given
input string is used for the conversion.</p>

<p>The matching is done case insensitively. Superfluous
whitespace, either in the pattern or in the string to be
converted, is ignored.</p>

<p>The conversion specifications that a pattern can contain
are those given for strptime(3). One more conversion
specification is accepted:</p>

<p>%Z Timezone name.</p>

<p>When %Z is given, the value to be returned is
initialised to the bro- ken-down time corresponding to the
current time in the given time zone. Otherwise, it is
initialised to the broken-down time corresponding to the
current local time.</p>

<p>When only the weekday is given, the day is taken to be
the first such day on or after today.</p>

<p>When only the month is given (and no year), the month is
taken to be the first such month equal to or after the
current month. If no day is given, it is the first day of
the month.</p>

<p>When no hour, minute and second are given, the current
hour, minute and second are taken.</p>

<p>If no date is given, but we know the hour, then that
hour is taken to be the first such hour equal to or after
the current hour.</p>

<p>RETURN VALUE When successful, this function returns a
pointer to a struct tm. Oth- erwise, it returns NULL and
sets the global variable getdate_err. Changes to errno are
unspecified. The following values for getdate_err are
defined:</p>

<p>1 The DATEMSK environment variable is null or
undefined.</p>

<p>2 The template file cannot be opened for reading.</p>

<p>3 Failed to get file status information.</p>

<p>4 The template file is not a regular file.</p>

<p>5 An error is encountered while reading the template
file.</p>

<p>6 Memory allocation failed (not enough memory
available).</p>

<p>7 There is no line in the file that matches the
input.</p>

<p>8 Invalid input specification.</p>

<p>NOTES Since getdate() is not reentrant because of the
use of getdate_err and the static buffer to return the
result in, glibc provides a thread-safe variant. The
functionality is the same. The result is returned in the
buffer pointed to by res and in case of an error the return
value is non-zero with the same values as given above for
getdate_err.</p>

<p>The POSIX.1-2001 specification for strptime() contains
conversion spec- ifications using the %E or %O modifier,
while such specifications are not given for getdate(). The
glibc implementation implements getdate() using strptime()
so that automatically precisely the same conversions are
supported by both.</p>

<p>The glibc implementation does not support the %Z
conversion specifica- tion.</p>

<p>ENVIRONMENT DATEMSK File containing format patterns.</p>

<p>TZ, LC_TIME Variables used by strptime().</p>

<p>CONFORMING TO POSIX.1-2001</p>

<p>SEE ALSO localtime(3), setlocale(3), strftime(3),
strptime(3), time(3), fea- ture_test_macros(7)</p>

<p>2001-12-26 GETDATE(3)</p>
<hr>
</body>
</html>
