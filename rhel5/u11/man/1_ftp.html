<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:10:39 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>FTP(1) FTP(1)</p>

<p>NAME ftp - ARPANET file transfer program</p>

<p>SYNOPSIS ftp [-v] [-d] [-i] [-n] [-g] [-k realm] [-f]
[-x] [-u] [-t] [host]</p>

<p>DESCRIPTION FTP is the user interface to the ARPANET
standard File Transfer Proto- col. The program allows a user
to transfer files to and from a remote network site.</p>

<p>OPTIONS Options may be specified at the command line, or
to the command inter- preter.</p>

<p>-v Verbose option forces ftp to show all responses from
the remote server, as well as report on data transfer
statistics.</p>

<p>-n Restrains ftp from attempting auto-login upon initial
con- nection. If auto-login is enabled, ftp will check the
.netrc (see below) file in the users home directory for an
entry describing an account on the remote machine. If no
entry exists, ftp will prompt for the remote machine login
name (default is the user identity on the local machine),
and, if necessary, prompt for a password and an account with
which to login.</p>

<p>-u Restrains ftp from attempting auto-authentication
upon ini- tial connection. If auto-authentication is
enabled, ftp attempts to authenticate to the FTP server by
sending the AUTH command, using whichever authentication
types are locally sup- ported. Once an authentication type
is accepted, an authentica- tion protocol will proceed by
issuing ADAT commands. This option also disables
auto-login.</p>

<p>-i Turns off interactive prompting during multiple file
transfers.</p>

<p>-d Enables debugging.</p>

<p>-g Disables file name globbing.</p>

<p>-k realm When using Kerberos v4 authentication, gets
tickets in realm.</p>

<p>-f Causes credentials to be forwarded to the remote
host.</p>

<p>-x Causes the client to attempt to negotiate encryption
(data and command protection levels private) immediately
after suc- cessfully authenticating.</p>

<p>-t Enables packet tracing.</p>

<p>COMMANDS The client host with which ftp is to
communicate may be specified on the command line. If this is
done, ftp will immediately attempt to establish a connection
to an FTP server on that host; otherwise, ftp will enter its
command interpreter and await instructions from the user.
When ftp is awaiting commands from the user the prompt
ftp&gt; is provided to the user. The following commands are
recognized by ftp:</p>

<p>! [command] [args]] Invoke an interactive shell on the
local machine. If there are arguments, the first is taken to
be a command to execute directly, with the rest of the
arguments as its arguments.</p>

<p>$ macro-name [args] Execute the macro macro-name that
was defined with the macdef command. Arguments are passed to
the macro unglobbed.</p>

<p>account [passwd] Supply a supplemental password required
by a remote system for access to resources once a login has
been successfully com- pleted. If no argument is included,
the user will be prompted for an account password in a
non-echoing input mode.</p>

<p>append local-file [remote-file] Append a local file to a
file on the remote machine. If remote- file is left
unspecified, the local file name is used in naming the
remote file after being altered by any ntrans or nmap set-
ting. File transfer uses the current settings for type,
format, mode, and structure.</p>

<p>ascii Set the file transfer type to network ASCII . This
is the default type.</p>

<p>bell Arrange that a bell be sounded after each file
transfer command is completed.</p>

<p>binary Set the file transfer type to support binary file
transfer.</p>

<p>bye Terminate the FTP session with the remote server and
exit ftp. An end of file will also terminate the session and
exit.</p>

<p>case Toggle remote computer file name case mapping
during mget com- mands. When case is on (default is off),
remote computer file names with all letters in upper case
are written in the local directory with the letters mapped
to lower case.</p>

<p>ccc Turn off integrity protection on the command
channel. This com- mand must be sent integrity protected,
and must be proceeded by a successful ADAT command. Since
turning off integrity protec- tion potentially allows an
attacker to insert commands onto the command channel, some
FTP servers may refuse to honor this com- mand.</p>

<p>cd remote-directory Change the working directory on the
remote machine to remote- directory.</p>

<p>cdup Change the remote machine working directory to the
parent of the current remote machine working directory.</p>

<p>chmod mode file-name Change the permission modes of the
file file-name on the remote system to mode.</p>

<p>clear Set the protection level on data transfers to
clear. If no ADAT command succeeded, then this is the
default protection level.</p>

<p>close Terminate the FTP session with the remote server,
and return to the command interpreter. Any defined macros
are erased.</p>

<p>cprotect [protection-level] Set the protection level on
commands to protection-level. The valid protection levels
are clear for unprotected commands, safe for commands
integrity protected by cryptographic checksum, and private
for commands confidentiality and integrity protected by
encryption. If an ADAT command suc- ceeded, then the default
command protection level is safe, otherwise the only
possible level is clear. If no level is specified, the
current level is printed. cprotect clear is equivalent to
the ccc command.</p>

<p>cr Toggle carriage return stripping during ascii type
file retrieval. Records are denoted by a carriage
return/linefeed sequence during ascii type file transfer.
When cr is on (the default), carriage returns are stripped
from this sequence to conform with the UNIX single linefeed
record delimiter. Records on non-UNIX remote systems may
contain single linefeeds; when an ascii type transfer is
made, these linefeeds may be distin- guished from a record
delimiter only when cr is off.</p>

<p>delete remote-file Delete the file remote-file on the
remote machine.</p>

<p>debug [debug-value] Toggle debugging mode. If an
optional debug-value is specified it is used to set the
debugging level. When debugging is on, ftp prints each
command sent to the remote machine, preceded by the string
--&gt;</p>

<p>dir [remote-directory] [local-file] Print a listing of
the directory contents in the directory, remote-directory,
and, optionally, placing the output in local- file. If
interactive prompting is on, ftp will prompt the user to
verify that the last argument is indeed the target local
file for receiving dir output. If no directory is specified,
the current working directory on the remote machine is used.
If no local file is specified, or local-file is -, output
comes to the terminal.</p>

<p>disconnect A synonym for close.</p>

<p>form format Set the file transfer form to format. The
default format is file.</p>

<p>get remote-file [local-file] Retrieve the file
remote-file and store it on the local machine. If the local
file name is not specified, it is given the same name it has
on the remote machine, subject to alteration by the current
case, ntrans, and nmap settings. The current settings for
type, form, mode, and structure are used while transferring
the file.</p>

<p>glob Toggle filename expansion for mdelete, mget, and
mput. If glob- bing is turned off with glob, the file name
arguments are taken literally and not expanded. Globbing for
mput is done as in csh(1). For mdelete and mget, each remote
file name is expanded separately on the remote machine and
the lists are not merged. Expansion of a directory name is
likely to be different from expansion of the name of an
ordinary file: the exact result depends on the foreign
operating system and ftp server, and can be previewed by
doing mls remote-files - Note: mget and mput are not meant
to transfer entire directory subtrees of files. That can be
done by transferring a tar(1) archive of the subtree (in
binary mode).</p>

<p>hash Toggle hash-sign ( # ) printing for each data block
trans- ferred. The size of a data block is 1024 bytes.</p>

<p>help [command] Print an informative message about the
meaning of command. If no argument is given, ftp prints a
list of the known commands.</p>

<p>idle [seconds] Set the inactivity timer on the remote
server to seconds sec- onds. If seconds is omitted, the
current inactivity timer is printed.</p>

<p>lcd [directory] Change the working directory on the
local machine. If no direc- tory is specified, the user s
home directory is used.</p>

<p>ls [remote-directory] [local-file] Print a listing of
the contents of a directory on the remote machine. The
listing includes any system-dependent information that the
server chooses to include; for example, most UNIX sys- tems
will produce output from the command ls -l. (See also
nlist.) If remote-directory is left unspecified, the current
working directory is used. If interactive prompting is on,
ftp will prompt the user to verify that the last argument is
indeed the target local file for receiving ls output. If no
local file is specified, or if local-file is -, the output
is sent to the terminal.</p>

<p>macdefmacro-name Define a macro. Subsequent lines are
stored as the macro macro- name; a null line (consecutive
newline characters in a file or carriage returns from the
terminal) terminates macro input mode. There is a limit of
16 macros and 4096 total characters in all defined macros.
Macros remain defined until a close command is executed. The
macro processor interprets $ and as special characters. A $
followed by a number (or numbers) is replaced by the
corresponding argument on the macro invocation command line.
A $ followed by an i signals that macro processor that the
executing macro is to be looped. On the first pass $i is
replaced by the first argument on the macro invocation
command line, on the second pass it is replaced by the
second argument, and so on. A followed by any character is
replaced by that character. Use the to prevent special
treatment of the $.</p>

<p>mdelete [remote-files] Delete remote-files on the remote
machine.</p>

<p>mdir remote-files local-file Like dir, except multiple
remote files may be specified. If interactive prompting is
on, ftp will prompt the user to verify that the last
argument is indeed the target local file for receiving mdir
output.</p>

<p>mget remote-files Expand the remote-files on the remote
machine and do a get for each file name thus produced. See
glob for details on the file- name expansion. Resulting file
names will then be processed according to case, ntrans, and
nmap settings. Files are trans- ferred into the local
working directory, which can be changed with lcd directory;
new local directories can be created with ! mkdir
directory.</p>

<p>mkdir directory-name Make a directory on the remote
machine.</p>

<p>mls remote-files local-file Like nlist, except multiple
remote files may be specified, and the local-file must be
specified. If interactive prompting is on, ftp will prompt
the user to verify that the last argument is indeed the
target local file for receiving mls output.</p>

<p>mode [mode-name] Set the file transfer mode to
mode-name. The default mode is stream mode.</p>

<p>modtime file-name Show the last modification time of the
file on the remote machine.</p>

<p>mput local-files Expand wild cards in the list of local
files given as arguments and do a put for each file in the
resulting list. See glob for details of filename expansion.
Resulting file names will then be processed according to
ntrans and nmap settings.</p>

<p>newer file-name Get the file only if the modification
time of the remote file is more recent that the file on the
current system. If the file does not exist on the current
system, the remote file is consid- ered newer. Otherwise,
this command is identical to get.</p>

<p>nlist [remote-directory] [local-file] Print a list of
the files in a directory on the remote machine. If
remote-directory is left unspecified, the current working
directory is used. If interactive prompting is on, ftp will
prompt the user to verify that the last argument is indeed
the target local file for receiving nlist output. If no
local file is specified, or if local-file is -, the output
is sent to the terminal.</p>

<p>nmap [inpattern outpattern] Set or unset the filename
mapping mechanism. If no arguments are specified, the
filename mapping mechanism is unset. If arguments are
specified, remote filenames are mapped during mput commands
and put commands issued without a specified remote tar- get
filename. If arguments are specified, local filenames are
mapped during mget commands and get commands issued without
a specified local target filename. This command is useful
when connecting to non-UNIX remote computer with different
file nam- ing conventions or practices. The mapping follows
the pattern set by inpattern and outpattern. [Inpattern] is
a template for incoming filenames (which may have already
been processed according to the ntrans and case settings).
Variable templating is accomplished by including the
sequences $1, $2 , ..., $9 in inpattern. Use to prevent this
special treatment of the $ character. All other characters
are treated literally, and are used to determine the nmap
[inpattern] variable values. For example, given inpattern
$1.$2 and the remote file name &quot;mydata.data&quot;, $1
would have the value &quot;mydata&quot;, and $2 would have
the value &quot;data&quot;. The outpattern determines the
resulting mapped filename. The sequences $1, $2, inpattern
template. The sequence $0 is replace by the original
filename. Addi- tionally, the sequence [seq1, seq2] is
replaced by [seq1] if seq1 is not a null string; otherwise
it is replaced by seq2. For example, the command</p>

<p>nmap $1.$2.$3 [$1,$2].[$2,file]</p>

<p>would yield the output filename &quot;myfile.data&quot;
for input file- names &quot;myfile.data&quot; and
&quot;myfile.data.old&quot;, &quot;myfile.file&quot; for the
input filename &quot;myfile&quot;, and
&quot;myfile.myfile&quot; for the input file- name
&quot;.myfile&quot;. Spaces may be included in outpattern,
as in the example: nmap $1 sed &quot;s/ *$//&quot; &gt; $1.
Use the character to prevent special treatment of the $,[,]
, and , charac- ters.</p>

<p>ntrans [inchars [outchars]] Set or unset the filename
character translation mechanism. If no arguments are
specified, the filename character translation mechanism is
unset. If arguments are specified, characters in remote
filenames are translated during mput commands and put
commands issued without a specified remote target filename.
If arguments are specified, characters in local filenames
are translated during mget commands and get commands issued
without a specified local target filename. This command is
useful when connecting to a non-UNIX remote computer with
different file naming conventions or practices. Characters
in a filename matching a character in inchars are replaced
with the corre- sponding character in outchars. If the
character s position in inchars is longer than the length of
outchars, the character is deleted from the file name.</p>

<p>open host [port] [-forward] Establish a connection to
the specified host FTP server. An optional port number may
be supplied, in which case, ftp will attempt to contact an
FTP server at that port. If the auto- authenticate option is
on (default), ftp will attempt to authen- ticate to the FTP
server by sending the AUTH command, using whichever
authentication types which are locally supported. Once an
authentication type is accepted, an authentication pro-
tocol will proceed by issuing ADAT commands. If the
auto-login option is on (default), ftp will also attempt to
automatically log the user in to the FTP server (see below).
If the -forward option is specified, ftp will forward a copy
of the users Ker- beros tickets to the remote host.</p>

<p>passive Toggle passive data transfer mode off. In
passive mode, the client initiates the data connection by
connecting to the data port. Passive mode is often necessary
for operation from behind firewalls which do not permit
incoming connections, but may need to be disabled if you
connect to an FTP server which does not support passive
operation.</p>

<p>private Set the protection level on data transfers to
private. Data transmissions are confidentiality and
integrity protected by encryption. If no ADAT command
succeeded, then the only possi- ble level is clear.</p>

<p>prompt Toggle interactive prompting. Interactive
prompting occurs dur- ing multiple file transfers to allow
the user to selectively retrieve or store files. If
prompting is turned off (default is on), any mget or mput
will transfer all files, and any mdelete will delete all
files.</p>

<p>protect [protection-level] Set the protection level on
data transfers to protection-level. The valid protection
levels are clear for unprotected data transmissions, safe
for data transmissions integrity pro- tected by
cryptographic checksum, and private for data transmissions
confidentiality and integrity protected by encryp- tion. If
no ADAT command succeeded, then the only possible level is
clear . If no level is specified, the current level is
printed. The default protection level is clear.</p>

<p>proxy ftp-command Execute an ftp command on a secondary
control connection. This command allows simultaneous
connection to two remote ftp servers for transferring files
between the two servers. The first proxy command should be
an open , to establish the secondary control connection.
Enter the command &quot;proxy ?&quot; to see other ftp com-
mands executable on the secondary connection. The following
commands behave differently when prefaced by proxy: open
will not define new macros during the auto-login process,
close will not erase existing macro definitions, get and
mget transfer files from the host on the primary control
connection to the host on the secondary control connection,
and put, mput, and append transfer files from the host on
the secondary control connection to the host on the primary
control connection. Third party file transfers depend upon
support of the ftp protocol PASV command by the server on
the secondary control connection.</p>

<p>put local-file [remote-file] Store a local file on the
remote machine. If remote-file is left unspecified, the
local file name is used after processing according to any
ntrans or nmap settings in naming the remote file. File
transfer uses the current settings for type, format, mode,
and structure.</p>

<p>pwd Print the name of the current working directory on
the remote machine.</p>

<p>quit A synonym for bye.</p>

<p>quote arg1 [arg2] [...] The arguments specified are
sent, verbatim, to the remote FTP server.</p>

<p>recv remote-file [local-file] A synonym for get.</p>

<p>reget remote-file [local-file] Reget acts like get,
except that if local-file exists and is smaller than
remote-file, local-file is presumed to be a par- tially
transferred copy of remote-file and the transfer is con-
tinued from the apparent point of failure. This command is
use- ful when transferring very large files over networks
that are prone to dropping connections.</p>

<p>remotehelp [command-name] Request help from the remote
FTP server. If a command-name is specified it is supplied to
the server as well.</p>

<p>remotestatus [file-name] With no arguments, show status
of remote machine. If file-name is specified, show status of
file-name on remote machine.</p>

<p>rename [from] [to] Rename the file from on the remote
machine, to the file to.</p>

<p>reset Clear reply queue. This command re-synchronizes
command/reply sequencing with the remote ftp server.
Resynchronization may be necessary following a violation of
the ftp protocol by the remote server.</p>

<p>restart marker Restart the immediately following get or
put at the indicated marker. On UNIX systems, marker is
usually a byte offset into the file.</p>

<p>rmdir directory-name Delete a directory on the remote
machine.</p>

<p>runique Toggle storing of files on the local system with
unique file- names. If a file already exists with a name
equal to the target local filename for a get or mget
command, a &quot;.1&quot; is appended to the name. If the
resulting name matches another existing file, a
&quot;.2&quot; is appended to the original name. If this
process con- tinues up to &quot;.99&quot;, an error message
is printed, and the trans- fer does not take place. The
generated unique filename will be reported. Note that
runique will not affect local files gener- ated from a shell
command (see below). The default value is off.</p>

<p>safe Set the protection level on data transfers to safe.
Data transmissions are integrity-protected by cryptographic
checksum. If no ADAT command succeeded, then the only
possible level is clear.</p>

<p>send local-file [remote-file] A synonym for put.</p>

<p>sendport Toggle the use of PORT commands. By default,
ftp will attempt to use a PORT command when establishing a
connection for each data transfer. The use of PORT commands
can prevent delays when performing multiple file transfers.
If the PORT command fails, ftp will use the default data
port. When the use of PORT com- mands is disabled, no
attempt will be made to use PORT commands for each data
transfer. This is useful for certain FTP imple- mentations
which do ignore PORT commands but, incorrectly, indi- cate
theyve been accepted.</p>

<p>site arg1 [arg2] [...] The arguments specified are sent,
verbatim, to the remote FTP server as a SITE command.</p>

<p>size file-name Return size of file-name on remote
machine.</p>

<p>status Show the current status of ftp.</p>

<p>struct struct-name Set the file transfer structure to
struct-name. By default stream structure is used.</p>

<p>sunique Toggle storing of files on remote machine under
unique file names. Remote ftp server must support ftp
protocol STOU command for successful completion. The remote
server will report unique name. Default value is off.</p>

<p>system Show the type of operating system running on the
remote machine.</p>

<p>tenex Set the file transfer type to that needed to talk
to TENEX machines.</p>

<p>trace Toggle packet tracing.</p>

<p>type [type-name] Set the file transfer type to
type-name. If no type is speci- fied, the current type is
printed. The default type is network ASCII.</p>

<p>umask [newmask] Set the default umask on the remote
server to newmask. If new- mask is omitted, the current
umask is printed.</p>

<p>user user-name [password] [account] Identify yourself to
the remote FTP server. If the password is not specified and
the server requires it, ftp will prompt the user for it
(after disabling local echo). If an account field is not
specified, and the FTP server requires it, the user will be
prompted for it. If an account field is specified, an
account command will be relayed to the remote server after
the login sequence is completed if the remote server did not
require it for logging in. Unless ftp is invoked with
auto-login disabled, this process is done automatically on
initial connec- tion to the FTP server.</p>

<p>verbose Toggle verbose mode. In verbose mode, all
responses from the FTP server are displayed to the user. In
addition, if verbose is on, when a file transfer completes,
statistics regarding the efficiency of the transfer are
reported. By default, verbose is on.</p>

<p>? [command] A synonym for help.</p>

<p>Command arguments which have embedded spaces may be
quoted with quote &quot; marks.</p>

<p>ABORTING A FILE TRANSFER To abort a file transfer, use
the terminal interrupt key (usually Ctrl- C). Sending
transfers will be immediately halted. Receiving transfers
will be halted by sending a FTP protocol ABOR command to the
remote server, and discarding any further data received. The
speed at which this is accomplished depends upon the remote
server s support for ABOR processing. If the remote server
does not support the ABOR command, an ftp&gt; prompt will
not appear until the remote server has completed sending the
requested file.</p>

<p>The terminal interrupt key sequence will be ignored when
ftp has com- pleted any local processing and is awaiting a
reply from the remote server. A long delay in this mode may
result from the ABOR processing described above, or from
unexpected behavior by the remote server, including
violations of the ftp protocol. If the delay results from
unexpected remote server behavior, the local ftp program
must be killed by hand.</p>

<p>FILE NAMING CONVENTIONS Files specified as arguments to
ftp commands are processed according to the following
rules.</p>

<p>1. If the file name - is specified, stdin (for reading)
or stdout (for writing) is used.</p>

<p>2. If the first character of the file name is |, the
remainder of the argument is interpreted as a shell command.
Ftp then forks a shell, using popen(3) with the argument
supplied, and reads from (writes to) stdout (stdin). If the
shell command includes spaces, the argument must be quoted;
e.g. &quot; ls -lt&quot;. A particularly useful example of
this mechanism is: dir more.</p>

<p>3. Failing the above checks, if globbing is enabled,
local file names are expanded according to the rules used in
csh(1); c.f. the glob command. If the ftp command expects a
single local file (.e.g. put), only the first filename
generated by the globbing operation is used.</p>

<p>4. For mget commands and get commands with unspecified
local file names, the local filename is the remote filename,
which may be altered by a case, ntrans, or nmap setting. The
resulting file- name may then be altered if runique is
on.</p>

<p>5. For mput commands and put commands with unspecified
remote file names, the remote filename is the local
filename, which may be altered by a ntrans or nmap setting.
The resulting filename may then be altered by the remote
server if sunique is on.</p>

<p>FILE TRANSFER PARAMETERS The FTP specification specifies
many parameters which may affect a file transfer. The type
may be one of ascii, image (binary), ebcdic, and local byte
size (mostly for PDP-10s and PDP-20 s). Ftp supports the
ascii and image types of file transfer, plus local byte size
8 for tenex mode transfers.</p>

<p>Ftp supports only the default values for the remaining
file transfer parameters: mode, form, and struct.</p>

<p>THE .netrc FILE The .netrc file contains login and
initialization information used by the auto-login process.
It resides in the user s home directory. The following
tokens are recognized; they may be separated by spaces,
tabs, or new-lines:</p>

<p>machine name Identify a remote machine name. The
auto-login process searches the .netrc file for a machine
token that matches the remote machine specified on the ftp
command line or as an open command argument. Once a match is
made, the subsequent .netrc tokens are processed, stopping
when the end of file is reached or another machine or a
default token is encountered.</p>

<p>default This is the same as machine name except that
default matches any name. There can be only one default
token, and it must be after all machine tokens. This is
normally used as:</p>

<p>default login anonymous password user@site</p>

<p>thereby giving the user automatic anonymous ftp login to
machines not specified in .netrc. This can be overridden by
using the -n flag to disable auto-login.</p>

<p>login name Identify a user on the remote machine. If
this token is present, the auto-login process will initiate
a login using the specified name.</p>

<p>password string Supply a password. If this token is
present, the auto-login process will supply the specified
string if the remote server requires a password as part of
the login process. Note that if this token is present in the
.netrc file for any user other than anonymous, ftp will
abort the auto-login process if the .netrc is readable by
anyone besides the user.</p>

<p>account string Supply an additional account password. If
this token is present, the auto-login process will supply
the specified string if the remote server requires an
additional account password, or the auto-login process will
initiate an ACCT command if it does not.</p>

<p>macdef name Define a macro. This token functions like
the ftp macdef com- mand functions. A macro is defined with
the specified name; its contents begin with the next .netrc
line and continue until a null line (consecutive new-line
characters) is encountered. If a macro named init is
defined, it is automatically executed as the last step in
the auto-login process.</p>

<p>ENVIRONMENT Ftp utilizes the following environment
variables.</p>

<p>HOME For default location of a .netrc file, if one
exists.</p>

<p>SHELL For default shell.</p>

<p>SEE ALSO ftpd(8)</p>

<p>Lunt, S. J., FTP Security Extensions, Internet Draft,
November 1993.</p>

<p>HISTORY The ftp command appeared in 4.2BSD.</p>

<p>BUGS Correct execution of many commands depends upon
proper behavior by the remote server.</p>

<p>An error in the treatment of carriage returns in the
4.2BSD ascii-mode transfer code has been corrected. This
correction may result in incor- rect transfers of binary
files to and from 4.2BSD servers using the ascii type. Avoid
this problem by using the binary image type.</p>

<p>FTP(1)</p>
<hr>
</body>
</html>
