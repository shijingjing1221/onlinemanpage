<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:17:10 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>NINPATHS(8) InterNetNews Documentation NINPATHS(8)</p>

<p>NAME ninpaths - Report Usenet Path statistics (new
inpaths)</p>

<p>SYNOPSIS ninpaths -p -d dumpfile</p>

<p>ninpaths -r site -u dumpfile [-u dumpfile ...] -v
level</p>

<p>DESCRIPTION This is an efficient and space-saving
inpaths reporting program. It works as follows: you feed it
the Path lines via an INN channel feed or some other similar
method, and from time to time the program writes all its
internal counters accumulated so far to a dump file. Another
instance of the program picks up all the dump files, adds
them up and formats them into the report. The purpose of the
final report is to summarize the frequency of occurrence of
sites in the Path headers of articles.</p>

<p>Some central sites accumulate the Path data from many
news servers run- ning this program or one like it, and then
report statistics on the most frequently seen news servers
in Usenet article Path lines. The sendinpaths shell script
can be run once a month to mail the accumu- lated statistics
to such a site and remove the old dump files.</p>

<p>You can get a working setup by doing the following:</p>

<p>1. Create a directory at pathlog/path (replacing pathlog
here and in all steps that follow with the full path to your
INN log direc- tory).</p>

<p>2. Set up a channel feed using an entry like:</p>

<p>inpaths!:*:Tc,WP:ninpaths -p -d
&lt;pathlog&gt;/path/inpaths.%d</p>

<p>if your version of INN supports WP (2.0 and later all
do). Replace &lt;pathlog&gt; with the full path to your INN
log directory.</p>

<p>3. Enter into your news user crontab something like:</p>

<p>6 6 * * * ctlinnd flush inpaths!</p>

<p>(the actual time doesn t matter). This will force
ninpaths to gen- erate a dump file once a day.</p>

<p>4. Once per month, run the sendinpaths script, which
collects the dumps, makes a report, and then deletes the old
dumps. (You can generate a report without mailing it and
without deleting it with &quot;sendinpaths -n&quot;.)</p>

<p>OPTIONS -d dumpfile Save dumps in dumpfile. Any %d in
dumpfile will be replaced with the current system time when
the dump is made. This option should be used with -p.</p>

<p>-p Read Path lines from standard input.</p>

<p>-r site Generate a report for site. Generally site
should be the value of pathhost from inn.conf.</p>

<p>-u dumpfile Read data from dumpfile. This option can be
repeated to read data from multiple dump files.</p>

<p>-v level Set the verbosity level of the report. Valid
values for level are 0, 1, and 2, with 2 being the
default.</p>

<p>NOTES If your INN doesnt have the WP feed flag (1.5 does
not, 1.6 does, 1.7 I don t know, 2.0 and later all do), use
the following newsfeeds entry:</p>

<p>inpaths!:*:Tc,WH:ginpaths</p>

<p>where ginpaths is the following script:</p>

<p>#!/bin/sh exec egrep ^Path: ninpaths -p -d
&lt;pathlog&gt;/path/inpaths.%d</p>

<p>replacing &lt;pathlog&gt; as above.</p>

<p>SEE ALSO newsfeeds(5), sendinpaths(8)</p>

<p>This is a slightly modified version of Olaf Titzs
original ninpaths program, which is posted to alt.sources
and kept on his WWW archive under
&lt;http://sites.inka.de/~bigred/sw/&gt;.</p>

<p>HISTORY ninpaths was written by Olaf Titz
&lt;olaf@bigred.inka.de&gt;.</p>

<p>The idea and some implementation details for ninpaths
come from the original inpaths program, but most of the code
has been rewritten for clarity. This program is in the
public domain.</p>

<p>3rd Berkeley Distribution 2002-11-25 NINPATHS(8)</p>
<hr>
</body>
</html>
