<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:17:07 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>NFS(5) Linux Programmer s Manual NFS(5)</p>

<p>NAME nfs - nfs and nfs4 fstab format and options</p>

<p>SYNOPSIS /etc/fstab</p>

<p>DESCRIPTION The fstab file contains information about
which filesystems to mount where and with what options. For
NFS mounts, it contains the server name and exported server
directory to mount from, the local directory that is the
mount point, and the NFS specific options that control the
way the filesystem is mounted.</p>

<p>Three different versions of the NFS protocol are
supported by the Linux NFS client: NFS version 2, NFS
version 3, and NFS version 4. To mount via NFS version 2,
use the nfs file system type and specify nfsvers=2. To mount
via NFS version 3, use the nfs file system type and specify
nfsvers=3. Version 3 is the default protocol version for the
nfs file system type when nfsvers= is not specified on the
mount command. To mount via NFS version 4, use the nfs4 file
system type. The nfsvers= keyword is not supported for the
nfs4 file system type.</p>

<p>These file system types share similar mount options; the
differences are listed below.</p>

<p>Here is an example from an /etc/fstab file for an NFSv2
mount over UDP.</p>

<p>server:/usr/local/pub /pub nfs
rsize=32768,wsize=32768,timeo=14,intr</p>

<p>Here is an example for an NFSv4 mount over TCP using
Kerberos 5 mutual authentication.</p>

<p>server:/usr/local/pub /pub nfs4
proto=tcp,sec=krb5,hard,intr</p>

<p>Options for the nfs file system type rsize=n The number
of bytes NFS uses when reading files from an NFS server. The
rsize is negotiated between the server and client to
determine the largest block size that both can support. The
value specified by this option is the maximum size that
could be used; however, the actual size used may be smaller.
Note: Setting this size to a value less than the largest
supported block size will adversely affect performance.</p>

<p>wsize=n The number of bytes NFS uses when writing files
to an NFS server. The wsize is negotiated between the server
and client to determine the largest block size that both can
support. The value specified by this option is the maximum
size that could be used; however, the actual size used may
be smaller. Note: Setting this size to a value less than the
largest supported block size will adversely affect
performance.</p>

<p>timeo=n The value in tenths of a second before sending
the first retransmission after an RPC timeout. The default
value is 7 tenths of a second. After the first timeout, the
timeout is doubled after each successive timeout until a
maximum timeout of 60 seconds is reached or the enough
retransmissions have occured to cause a major timeout. Then,
if the filesystem is hard mounted, each new time- out
cascade restarts at twice the initial value of the previous
cascade, again doubling at each retransmission. The maximum
timeout is always 60 seconds. Better over- all performance
may be achieved by increasing the time- out when mounting on
a busy network, to a slow server, or through several routers
or gateways.</p>

<p>retrans=n The number of minor timeouts and
retransmissions that must occur before a major timeout
occurs. The default is 3 timeouts. When a major timeout
occurs, the file operation is either aborted or a
&quot;server not responding&quot; message is printed on the
console.</p>

<p>acregmin=n The minimum time in seconds that attributes
of a regular file should be cached before requesting fresh
informa- tion from a server. The default is 3 seconds.</p>

<p>acregmax=n The maximum time in seconds that attributes
of a regular file can be cached before requesting fresh
information from a server. The default is 60 seconds.</p>

<p>acdirmin=n The minimum time in seconds that attributes
of a direc- tory should be cached before requesting fresh
informa- tion from a server. The default is 30 seconds.</p>

<p>acdirmax=n The maximum time in seconds that attributes
of a direc- tory can be cached before requesting fresh
information from a server. The default is 60 seconds.</p>

<p>actimeo=n Using actimeo sets all of acregmin, acregmax,
acdirmin, and acdirmax to the same value. There is no
default value.</p>

<p>retry=n The number of minutes to retry an NFS mount
operation in the foreground or background before giving up.
The default value for forground mounts is 2 minutes. The
default value for background mounts is 10000 minutes, which
is roughly one week.</p>

<p>namlen=n When an NFS server does not support version two
of the RPC mount protocol, this option can be used to
specify the maximum length of a filename that is supported
on the remote filesystem. This is used to support the POSIX
pathconf functions. The default is 255 charac- ters.</p>

<p>port=n The numeric value of the port to connect to the
NFS server on. If the port number is 0 (the default) then
query the remote hosts portmapper for the port number to
use. If the remote hosts NFS daemon is not regis- tered with
its portmapper, the standard NFS port number 2049 is used
instead.</p>

<p>proto=n Mount the NFS filesystem using a specific
network protocol instead of the default TCP protocol. Valid
protocol types are udp and tcp.</p>

<p>mountport=n The numeric value of the mountd port. moun-
thost=name The name of the host running mountd .</p>

<p>mountprog=n Use an alternate RPC program number to
contact the mount daemon on the remote host. This option is
useful for hosts that can run multiple NFS servers. The
default value is 100005 which is the standard RPC mount
daemon program number.</p>

<p>mountvers=n Use an alternate RPC version number to
contact the mount daemon on the remote host. This option is
useful for hosts that can run multiple NFS servers. The
default value depends on which ker- nel you are using.</p>

<p>nfsprog=n Use an alternate RPC program number to contact
the NFS daemon on the remote host. This option is useful for
hosts that can run multiple NFS servers. The default value
is 100003 which is the standard RPC NFS daemon program
number.</p>

<p>nfsvers=n Use an alternate RPC version number to contact
the NFS daemon on the remote host. This option is useful for
hosts that can run multiple NFS servers. The default value
depends on which ker- nel you are using.</p>

<p>vers=n vers is an alternative to nfsvers and is compati-
ble with many other operating systems.</p>

<p>nolock Disable NFS locking. Do not start lockd. This has
to be used with some old NFS servers that dont support
locking.</p>

<p>bg If the first NFS mount attempt times out, retry the
mount in the background. After a mount oper- ation is
backgrounded, all subsequent mounts on the same NFS server
will be backgrounded immedi- ately, without first attempting
the mount. A missing mount point is treated as a timeout, to
allow for nested NFS mounts.</p>

<p>fg If the first NFS mount attempt times out, retry the
mount in the foreground. This is the comple- ment of the bg
option, and also the default behavior.</p>

<p>soft If an NFS file operation has a major timeout then
report an I/O error to the calling program. The default is
to continue retrying NFS file opera- tions indefinitely.</p>

<p>hard If an NFS file operation has a major timeout then
report &quot;server not responding&quot; on the console and
continue retrying indefinitely. This is the default.</p>

<p>intr If an NFS file operation has a major timeout and it
is hard mounted, then allow signals to interupt the file
operation and cause it to return EINTR to the calling
program. The default is to not allow file operations to be
inter- rupted.</p>

<p>posix Mount the NFS filesystem using POSIX semantics.
This allows an NFS filesystem to properly support the POSIX
pathconf command by querying the mount server for the
maximum length of a filename. To do this, the remote host
must support version two of the RPC mount protocol. Many NFS
servers sup- port only version one.</p>

<p>nocto Suppress the retrieval of new attributes when
creating a file.</p>

<p>noac Disable all forms of attribute caching entirely.
This extracts a significant performance penalty but it
allows two different NFS clients to get reasonable results
when both clients are actively writing to a common export on
the server.</p>

<p>noacl Disables Access Control List (ACL) processing.</p>

<p>resvport/noresvport Specifies whether the NFS client
should use a privileged source port when communicating with
an NFS server for this mount point. If this option is not
specified, or the resvport option is spec- ified, the NFS
client uses a privileged source port. If the noresvport
option is specified, the NFS client uses a non-privileged
source port.</p>

<p>Using non-privileged source ports helps increase the
maximum number of NFS mount points allowed on a client, but
NFS servers must be configured to allow clients to connect
via non-privileged source ports.</p>

<p>sec=mode Set the security flavor for this mount to
&quot;mode&quot;. The default setting is sec=sys, which uses
local unix uids and gids to authenticate NFS operations
(AUTH_SYS). Other currently supported settings are:
sec=krb5, which uses Kerberos V5 instead of local unix uids
and gids to authenticate users; sec=krb5i, which uses
Kerberos V5 for user authentication and performs integrity
checking of NFS operations using secure checksums to prevent
data tampering; and sec=krb5p, which uses Ker- beros V5 for
user authentication and integrity checking, and encrypts NFS
traffic to prevent traffic sniffing (this is the most secure
set- ting). Note that there is a performance penalty when
using integrity or privacy.</p>

<p>tcp Mount the NFS filesystem using the TCP protocol.
This is the default protocol.</p>

<p>udp Mount the NFS filesystem using the UDP protocol
instead of the default TCP protocol.</p>

<p>nordirplus Disables NFSv3 READDIRPLUS RPCs. Use this
options when mounting servers that dont support or have
broken READDIRPLUS implementations.</p>

<p>nosharecache As of kernel 2.6.18, it is no longer
possible to mount the same same filesystem with different
mount options to a new mountpoint. It was deemed unsafe to
do so, since cached data cannot be shared between the two
mountpoints. In conse- quence, files or directories that
were common to both mountpoint subtrees could often be seen
to be out of sync following an update. This option allows
administrators to select the pre-2.6.18 behaviour,
permitting the same filesystem to be mounted with different
mount options. Beware: Use of this option is not recommended
unless you are certain that there are no hard links or
subtrees of this mountpoint that are mounted elsewhere.</p>

<p>lookupcache=type This option dictates how directories
and files should be cached when they are accessed -- i.e.
&quot;looked up&quot; -- on the server. A lookup can be
either positive (directory/file was found) or negative
(directory/file was not found); both types of lookups can be
cached.</p>

<p>By default, both positive and negative lookups are
cached ( lookupcache=all ). lookupcache=pos prevents
negative lookups from being cached, while lookupcache=none
prevents all lookups from being cached.</p>

<p>Note: lookupcache=none can adversely affect per-
formance, but may be necessary if shared files created or
deleted on the server need to be imme- diately visible to
any applications running on NFS clients.</p>

<p>All of the non-value options have corresponding nooption
forms. For example, nointr means dont allow file operations
to be interrupted.</p>

<p>Options for the nfs4 file system type rsize=n The number
of bytes nfs4 uses when reading files from the server. The
rsize is negotiated between the server and client to
determine the largest block size that both can support. The
value specified by this option is the maximum size that
could be used; however, the actual size used may be smaller.
Note: Setting this size to a value less than the largest
supported block size will adversely affect performance.</p>

<p>wsize=n The number of bytes nfs4 uses when writing files
to the server. The wsize is negotiated between the server
and client to determine the largest block size that both can
support. The value specified by this option is the maximum
size that could be used; however, the actual size used may
be smaller. Note: Setting this size to a value less than the
largest supported block size will adversely affect
performance.</p>

<p>timeo=n The value in tenths of a second before sending
the first retransmission after an RPC timeout. The default
value depends on whether proto=udp or proto=tcp is in effect
(see below). The default value for UDP is 7 tenths of a
second. The default value for TCP is 60 seconds. After the
first timeout, the timeout is doubled after each successive
timeout until a maximum timeout of 60 seconds is reached or
the enough retransmissions have occured to cause a major
timeout. Then, if the filesystem is hard mounted, each new
timeout cascade restarts at twice the initial value of the
previous cascade, again doubling at each retransmission. The
maximum timeout is always 60 seconds.</p>

<p>retrans=n The number of minor timeouts and
retransmissions that must occur before a major timeout
occurs. The default is 5 timeouts for proto=udp and 2
timeouts for proto=tcp. When a major timeout occurs, the
file operation is either aborted or a &quot;server not
responding&quot; message is printed on the console.</p>

<p>acregmin=n The minimum time in seconds that attributes
of a regular file should be cached before requesting fresh
information from a server. The default is 3 seconds.</p>

<p>acregmax=n The maximum time in seconds that attributes
of a regular file can be cached before requesting fresh
information from a server. The default is 60 seconds.</p>

<p>acdirmin=n The minimum time in seconds that attributes
of a directory should be cached before requesting fresh
information from a server. The default is 30 seconds.</p>

<p>acdirmax=n The maximum time in seconds that attributes
of a directory can be cached before requesting fresh
information from a server. The default is 60 seconds.</p>

<p>actimeo=n Using actimeo sets all of acregmin, acregmax,
acdirmin, and acdirmax to the same value. There is no
default value.</p>

<p>retry=n The number of minutes to retry an NFS mount
oper- ation in the foreground or background before giv- ing
up. The default value for forground mounts is 2 minutes. The
default value for background mounts is 10000 minutes, which
is roughly one week.</p>

<p>port=n The numeric value of the port to connect to the
NFS server on. If the port number is 0 (the default) then
query the remote host s portmapper for the port number to
use. If the remote hosts NFS daemon is not registered with
its portmapper, the standard NFS port number 2049 is used
instead.</p>

<p>proto=n Mount the NFS filesystem using a specific
network protocol instead of the default TCP protocol. Valid
protocol types are udp and tcp. Many NFS version 4 servers
only support the TCP protocol.</p>

<p>clientaddr=n On a multi-homed client, this causes the
client to use a specific callback address when communi-
cating with an NFS version 4 server. This option is
currently ignored.</p>

<p>sec=mode Same as sec=mode for the nfs filesystem type
(see above).</p>

<p>bg If an NFS mount attempt times out, retry the mount in
the background. After a mount operation is backgrounded, all
subsequent mounts on the same NFS server will be
backgrounded immediately, without first attempting the
mount. A missing mount point is treated as a timeout, to
allow for nested NFS mounts.</p>

<p>fg If the first NFS mount attempt times out, retry the
mount in the foreground. This is the comple- ment of the bg
option, and also the default behavior.</p>

<p>soft If an NFS file operation has a major timeout then
report an I/O error to the calling program. The default is
to continue retrying NFS file opera- tions indefinitely.</p>

<p>hard If an NFS file operation has a major timeout then
report &quot;server not responding&quot; on the console and
continue retrying indefinitely. This is the default.</p>

<p>intr If an NFS file operation has a major timeout and it
is hard mounted, then allow signals to interupt the file
operation and cause it to return EINTR to the calling
program. The default is to not allow file operations to be
inter- rupted.</p>

<p>nocto Suppress the retrieval of new attributes when
creating a file.</p>

<p>noac Disable attribute caching, and force synchronous
writes. This extracts a server performance penalty but it
allows two different NFS clients to get reasonable good
results when both clients are actively writing to common
filesystem on the server.</p>

<p>nosharecache As of kernel 2.6.18, it is no longer
possible to mount the same same filesystem with different
mount options to a new mountpoint. It was deemed unsafe to
do so, since cached data cannot be shared between the two
mountpoints. In conse- quence, files or directories that
were common to both mountpoint subtrees could often be seen
to be out of sync following an update. This option allows
administrators to select the pre-2.6.18 behaviour,
permitting the same filesystem to be mounted with different
mount options. Beware: Use of this option is not recommended
unless you are certain that there are no hard links or
subtrees of this mountpoint that are mounted elsewhere.</p>

<p>lookupcache=type This option dictates how directories
and files should be cached when they are accessed -- i.e.
&quot;looked up&quot; -- on the server. A lookup can be
either positive (directory/file was found) or negative
(directory/file was not found); both types of lookups can be
cached.</p>

<p>By default, both positive and negative lookups are
cached ( lookupcache=all ). lookupcache=pos prevents
negative lookups from being cached, while lookupcache=none
prevents all lookups from being cached.</p>

<p>Note: lookupcache=none can adversely affect per-
formance, but may be necessary if shared files created or
deleted on the server need to be imme- diately visible to
any applications running on NFS clients.</p>

<p>All of the non-value options have corresponding nooption
forms. For example, nointr means dont allow file operations
to be interrupted.</p>

<p>All of the non-value options have corresponding nooption
forms. For example, nointr means dont allow file operations
to be interrupted.</p>

<p>FILES /etc/fstab</p>

<p>SEE ALSO fstab(5), mount(8), umount(8), exports(5)</p>

<p>AUTHOR &quot;Rick Sladkey&quot;
&lt;jrs@world.std.com&gt;</p>

<p>BUGS The posix option is implemented but is currently
ignored by the Linux kernel.</p>

<p>Checking files on NFS filesystem referenced by file
descriptors (i.e. the fcntl and ioctl families of functions)
may lead to inconsistent result due to the lack of
consistency check in ker- nel even if noac is used.</p>

<p>Linux 0.99 20 November 1993 NFS(5)</p>
<hr>
</body>
</html>
