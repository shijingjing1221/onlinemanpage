<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:18:02 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>RPM(8) Red Hat Linux RPM(8)</p>

<p>NAME rpm - RPM Package Manager</p>

<p>SYNOPSIS QUERYING AND VERIFYING PACKAGES: rpm
{-q|--query} [select-options] [query-options]</p>

<p>rpm {-V|--verify} [select-options] [verify-options]</p>

<p>rpm --import PUBKEY ...</p>

<p>rpm {-K|--checksig} [--nosignature] [--nodigest]
PACKAGE_FILE ...</p>

<p>INSTALLING, UPGRADING, AND REMOVING PACKAGES: rpm
{-i|--install} [install-options] PACKAGE_FILE ...</p>

<p>rpm {-U|--upgrade} [install-options] PACKAGE_FILE
...</p>

<p>rpm {-F|--freshen} [install-options] PACKAGE_FILE
...</p>

<p>rpm {-e|--erase} [--allmatches] [--nodeps] [--noscripts]
[--notriggers] [--repackage] [--test] PACKAGE_NAME ...</p>

<p>MISCELLANEOUS: rpm {--initdb|--rebuilddb}</p>

<p>rpm {--addsign|--resign} PACKAGE_FILE ...</p>

<p>rpm {--querytags|--showrc}</p>

<p>rpm {--setperms|--setugids} PACKAGE_NAME ...</p>

<p>select-options [PACKAGE_NAME] [-a,--all] [-f,--file
FILE] [-g,--group GROUP] {-p,--package PACKAGE_FILE]
[--fileid MD5] [--hdrid SHA1] [--pkgid MD5] [--tid TID]
[--querybynumber HDRNUM] [--triggeredby PACKAGE_NAME]
[--whatprovides CAPABILITY] [--whatrequires CAPABILITY]</p>

<p>query-options [--changelog] [-c,--configfiles]
[-d,--docfiles] [--dump] [--filesbypkg] [-i,--info] [--last]
[-l,--list] [--provides] [--qf,--queryformat QUERYFMT]
[-R,--requires] [--scripts] [-s,--state]
[--triggers,--triggerscripts]</p>

<p>verify-options [--nodeps] [--nofiles] [--noscripts]
[--nodigest] [--nosignature] [--nolinkto] [--nomd5]
[--nosize] [--nouser] [--nogroup] [--nomtime] [--nomode]
[--nordev]</p>

<p>install-options [--aid] [--allfiles] [--badreloc]
[--excludepath OLDPATH] [--excludedocs] [--force]
[-h,--hash] [--ignoresize] [--ignorearch] [--ignoreos]
[--includedocs] [--justdb] [--nodeps] [--nodigest]
[--nosignature] [--nosuggest] [--noorder] [--noscripts]
[--notriggers] [--oldpackage] [--percent] [--prefix NEWPATH]
[--relocate OLDPATH=NEWPATH] [--repackage] [--replacefiles]
[--replacepkgs] [--test]</p>

<p>DESCRIPTION rpm is a powerful Package Manager, which can
be used to build, install, query, verify, update, and erase
individual software packages. A pack- age consists of an
archive of files and meta-data used to install and erase the
archive files. The meta-data includes helper scripts, file
attributes, and descriptive information about the package.
Packages come in two varieties: binary packages, used to
encapsulate software to be installed, and source packages,
containing the source code and recipe necessary to produce
binary packages.</p>

<p>One of the following basic modes must be selected:
Query, Verify, Sig- nature Check, Install/Upgrade/Freshen,
Uninstall, Initialize Database, Rebuild Database, Resign,
Add Signature, Set Owners/Groups, Show Query- tags, and Show
Configuration.</p>

<p>GENERAL OPTIONS These options can be used in all the
different modes.</p>

<p>-?, --help Print a longer usage message then normal.</p>

<p>--version Print a single line containing the version
number of rpm being used.</p>

<p>--quiet Print as little as possible - normally only
error messages will be displayed.</p>

<p>-v Print verbose information - normally routine progress
messages will be displayed.</p>

<p>-vv Print lots of ugly debugging information.</p>

<p>--rcfile FILELIST Each of the files in the colon
separated FILELIST is read sequentially by rpm for
configuration information. Only the first file in the list
must exist, and tildes will be expanded to the value of
$HOME. The default FILELIST is
/usr/lib/rpm/rpmrc:/usr/lib/rpm/red-
hat/rpmrc:/etc/rpmrc:~/.rpmrc.</p>

<p>--pipe CMD Pipes the output of rpm to the command
CMD.</p>

<p>--dbpath DIRECTORY Use the database in DIRECTORY rather
than the default path /var/lib/rpm</p>

<p>--root DIRECTORY Use the file system tree rooted at
DIRECTORY for all operations. Note that this means the
database within DIRECTORY will be used for dependency checks
and any scriptlet(s) (e.g. %post if installing, or %prep if
building, a package) will be run after a chroot(2) to
DIRECTORY.</p>

<p>-D, --defineMACRO EXPR Defines MACRO with value
EXPR.</p>

<p>-E, --evalEXPR Prints macro expansion of EXPR.</p>

<p>INSTALL AND UPGRADE OPTIONS The general form of an rpm
install command is</p>

<p>rpm {-i|--install} [install-options] PACKAGE_FILE
...</p>

<p>This installs a new package.</p>

<p>The general form of an rpm upgrade command is</p>

<p>rpm {-U|--upgrade} [install-options] PACKAGE_FILE
...</p>

<p>This upgrades or installs the package currently
installed to a newer version. This is the same as install,
except all other version(s) of the package are removed after
the new package is installed.</p>

<p>rpm {-F|--freshen} [install-options] PACKAGE_FILE
...</p>

<p>This will upgrade packages, but only if an earlier
version currently exists. The PACKAGE_FILE may be specified
as an ftp or http URL, in which case the package will be
downloaded before being installed. See FTP/HTTP OPTIONS for
information on rpms internal ftp and http client
support.</p>

<p>--aid Add suggested packages to the transaction set when
needed.</p>

<p>--allfiles Installs or upgrades all the missingok files
in the package, regardless if they exist.</p>

<p>--badreloc Used with --relocate, permit relocations on
all file paths, not just those OLDPATHs included in the
binary package relocation hint(s).</p>

<p>--excludepath OLDPATH Dont install files whose name
begins with OLDPATH.</p>

<p>--excludedocs Don t install any files which are marked
as documentation (which includes man pages and texinfo
documents).</p>

<p>--force Same as using --replacepkgs, --replacefiles, and
--oldpackage.</p>

<p>-h, --hash Print 50 hash marks as the package archive is
unpacked. Use with -v|--verbose for a nicer display.</p>

<p>--ignoresize Dont check mount file systems for
sufficient disk space before installing this package.</p>

<p>--ignorearch Allow installation or upgrading even if the
architectures of the binary package and host dont match.</p>

<p>--ignoreos Allow installation or upgrading even if the
operating systems of the binary package and host dont
match.</p>

<p>--includedocs Install documentation files. This is the
default behavior.</p>

<p>--justdb Update only the database, not the
filesystem.</p>

<p>--nodigest Dont verify package or header digests when
reading.</p>

<p>--nosignature Don t verify package or header signatures
when reading.</p>

<p>--nodeps Dont do a dependency check before installing or
upgrading a package.</p>

<p>--nosuggest Don t suggest package(s) that provide a
missing dependency.</p>

<p>--noorder Dont reorder the packages for an install. The
list of packages would normally be reordered to satisfy
dependencies.</p>

<p>--noscripts</p>

<p>--nopre</p>

<p>--nopost</p>

<p>--nopreun</p>

<p>--nopostun Dont execute the scriptlet of the same name.
The --noscripts option is equivalent to</p>

<p>--nopre --nopost --nopreun --nopostun</p>

<p>and turns off the execution of the corresponding %pre,
%post, %preun, and %postun scriptlet(s).</p>

<p>--notriggers</p>

<p>--notriggerin</p>

<p>--notriggerun</p>

<p>--notriggerpostun Dont execute any trigger scriptlet of
the named type. The --notriggers option is equivalent to</p>

<p>--notriggerin --notriggerun --notriggerpostun</p>

<p>and turns off execution of the corresponding %triggerin,
%trig- gerun, and %triggerpostun scriptlet(s).</p>

<p>--oldpackage Allow an upgrade to replace a newer package
with an older one.</p>

<p>--percent Print percentages as files are unpacked from
the package archive. This is intended to make rpm easy to
run from other tools.</p>

<p>--prefix NEWPATH For relocatable binary packages,
translate all file paths that start with the installation
prefix in the package relocation hint(s) to NEWPATH.</p>

<p>--relocate OLDPATH=NEWPATH For relocatable binary
packages, translate all file paths that start with OLDPATH
in the package relocation hint(s) to NEWPATH. This option
can be used repeatedly if several OLDPATHs in the package
are to be relocated.</p>

<p>--repackage Re-package the files before erasing. The
previously installed package will be named according to the
macro %_repack- age_name_fmt and will be created in the
directory named by the macro %_repackage_dir (default value
is /var/spool/repackage).</p>

<p>--replacefiles Install the packages even if they replace
files from other, already installed, packages.</p>

<p>--replacepkgs Install the packages even if some of them
are already installed on this system.</p>

<p>--test Do not install the package, simply check for and
report poten- tial conflicts.</p>

<p>ERASE OPTIONS The general form of an rpm erase command
is</p>

<p>rpm {-e|--erase} [--allmatches] [--nodeps] [--noscripts]
[--notriggers] [--repackage] [--test] PACKAGE_NAME ...</p>

<p>The following options may also be used:</p>

<p>--allmatches Remove all versions of the package which
match PACKAGE_NAME. Normally an error is issued if
PACKAGE_NAME matches multiple packages.</p>

<p>--nodeps Dont check dependencies before uninstalling the
packages.</p>

<p>--noscripts</p>

<p>--nopreun</p>

<p>--nopostun Don t execute the scriptlet of the same name.
The --noscripts option during package erase is equivalent
to</p>

<p>--nopreun --nopostun</p>

<p>and turns off the execution of the corresponding %preun,
and %postun scriptlet(s).</p>

<p>--notriggers</p>

<p>--notriggerun</p>

<p>--notriggerpostun Don t execute any trigger scriptlet of
the named type. The --notriggers option is equivalent to</p>

<p>--notriggerun --notriggerpostun</p>

<p>and turns off execution of the corresponding %triggerun,
and %triggerpostun scriptlet(s).</p>

<p>--repackage Re-package the files before erasing. The
previously installed package will be named according to the
macro %_repack- age_name_fmt and will be created in the
directory named by the macro %_repackage_dir (default value
is /var/spool/repackage).</p>

<p>--test Dont really uninstall anything, just go through
the motions. Useful in conjunction with the -vv option for
debugging.</p>

<p>QUERY OPTIONS The general form of an rpm query command
is</p>

<p>rpm {-q|--query} [select-options] [query-options]</p>

<p>You may specify the format that package information
should be printed in. To do this, you use the</p>

<p>--qf|--queryformat QUERYFMT</p>

<p>option, followed by the QUERYFMT format string. Query
formats are mod- ified versions of the standard printf(3)
formatting. The format is made up of static strings (which
may include standard C character escapes for newlines, tabs,
and other special characters) and printf(3) type formatters.
As rpm already knows the type to print, the type specifier
must be omitted however, and replaced by the name of the
header tag to be printed, enclosed by {} characters. Tag
names are case insensitive, and the leading RPMTAG_ portion
of the tag name may be omitted as well.</p>

<p>Alternate output formats may be requested by following
the tag with :typetag. Currently, the following types are
supported:</p>

<p>:armor Wrap a public key in ASCII armor.</p>

<p>:base64 Encode binary data using base64.</p>

<p>:date Use strftime(3) &quot;%c&quot; format.</p>

<p>:day Use strftime(3) &quot;%a %b %d %Y&quot; format.</p>

<p>:depflags Format dependency flags.</p>

<p>:fflags Format file flags.</p>

<p>:hex Format in hexadecimal.</p>

<p>:octal Format in octal.</p>

<p>:perms Format file permissions.</p>

<p>:shescape Escape single quotes for use in a script.</p>

<p>:triggertype Display trigger suffix.</p>

<p>For example, to print only the names of the packages
queried, you could use %{NAME} as the format string. To
print the packages name and dis- tribution information in
two columns, you could use %-30{NAME}%{DISTRI- BUTION}. rpm
will print a list of all of the tags it knows about when it
is invoked with the --querytags argument.</p>

<p>There are two subsets of options for querying: package
selection, and information selection.</p>

<p>PACKAGE SELECTION OPTIONS: PACKAGE_NAME Query installed
package named PACKAGE_NAME.</p>

<p>-a, --all Query all installed packages.</p>

<p>-f, --file FILE Query package owning FILE.</p>

<p>--fileid MD5 Query package that contains a given file
identifier, i.e. the MD5 digest of the file contents.</p>

<p>-g, --group GROUP Query packages with the group of
GROUP.</p>

<p>--hdrid SHA1 Query package that contains a given header
identifier, i.e. the SHA1 digest of the immutable header
region.</p>

<p>-p, --package PACKAGE_FILE Query an (uninstalled)
package PACKAGE_FILE. The PACKAGE_FILE may be specified as
an ftp or http style URL, in which case the package header
will be downloaded and queried. See FTP/HTTP OPTIONS for
information on rpms internal ftp and http client support.
The PACKAGE_FILE argument(s), if not a binary package, will
be interpreted as an ASCII package manifest. Comments are
permitted, starting with a #, and each line of a package
mani- fest file may include white space separated glob
expressions, including URLs with remote glob expressions,
that will be expanded to paths that are substituted in place
of the package manifest as additional PACKAGE_FILE arguments
to the query.</p>

<p>--pkgid MD5 Query package that contains a given package
identifier, i.e. the MD5 digest of the combined header and
payload contents.</p>

<p>--querybynumber HDRNUM Query the HDRNUMth database entry
directly; this is useful only for debugging.</p>

<p>--specfile SPECFILE Parse and query SPECFILE as if it
were a package. Although not all the information (e.g. file
lists) is available, this type of query permits rpm to be
used to extract information from spec files without having
to write a specfile parser.</p>

<p>--tid TID Query package(s) that have a given TID
transaction identifier. A unix time stamp is currently used
as a transaction identifier. All package(s) installed or
erased within a single transaction have a common
identifier.</p>

<p>--triggeredby PACKAGE_NAME Query packages that are
triggered by package(s) PACKAGE_NAME.</p>

<p>--whatprovides CAPABILITY Query all packages that
provide the CAPABILITY capability.</p>

<p>--whatrequires CAPABILITY Query all packages that
requires CAPABILITY for proper function- ing.</p>

<p>PACKAGE QUERY OPTIONS: --changelog Display change
information for the package.</p>

<p>-c, --configfiles List only configuration files (implies
-l).</p>

<p>-d, --docfiles List only documentation files (implies
-l).</p>

<p>--dump Dump file information as follows (implies
-l):</p>

<p>path size mtime md5sum mode owner group isconfig isdoc
rdev symlink</p>

<p>--filesbypkg List all the files in each selected
package.</p>

<p>-i, --info Display package information, including name,
version, and description. This uses the --queryformat if one
was specified.</p>

<p>--last Orders the package listing by install time such
that the latest packages are at the top.</p>

<p>-l, --list List files in package.</p>

<p>--provides List capabilities this package provides.</p>

<p>-R, --requires List packages on which this package
depends.</p>

<p>--scripts List the package specific scriptlet(s) that
are used as part of the installation and uninstallation
processes.</p>

<p>-s, --state Display the states of files in the package
(implies -l). The state of each file is one of normal, not
installed, or replaced.</p>

<p>--triggers, --triggerscripts Display the trigger
scripts, if any, which are contained in the package.</p>

<p>VERIFY OPTIONS The general form of an rpm verify command
is</p>

<p>rpm {-V|--verify} [select-options] [verify-options]</p>

<p>Verifying a package compares information about the
installed files in the package with information about the
files taken from the package metadata stored in the rpm
database. Among other things, verifying compares the size,
MD5 sum, permissions, type, owner and group of each file.
Any discrepancies are displayed. Files that were not
installed from the package, for example, documentation files
excluded on instal- lation using the
&quot;--excludedocs&quot; option, will be silently
ignored.</p>

<p>The package selection options are the same as for
package querying (including package manifest files as
arguments). Other options unique to verify mode are:</p>

<p>--nodeps Dont verify dependencies of packages.</p>

<p>--nodigest Dont verify package or header digests when
reading.</p>

<p>--nofiles Dont verify any attributes of package
files.</p>

<p>--noscripts Don t execute the %verifyscript scriptlet
(if any).</p>

<p>--nosignature Dont verify package or header signatures
when reading.</p>

<p>--nolinkto</p>

<p>--nomd5</p>

<p>--nosize</p>

<p>--nouser</p>

<p>--nogroup</p>

<p>--nomtime</p>

<p>--nomode</p>

<p>--nordev Dont verify the corresponding file
attribute.</p>

<p>The format of the output is a string of 8 characters, a
possible attribute marker:</p>

<p>c %config configuration file. d %doc documentation file.
g %ghost file (i.e. the file contents are not included in
the package payload). l %license license file. r %readme
readme file.</p>

<p>from the package header, followed by the file name. Each
of the 8 characters denotes the result of a comparison of
attribute(s) of the file to the value of those attribute(s)
recorded in the database. A single &quot;.&quot; (period)
means the test passed, while a single &quot;?&quot;
(question mark) indicates the test could not be performed
(e.g. file permissions prevent reading). Otherwise, the
(mnemonically emBoldened) character denotes failure of the
corresponding --verify test:</p>

<p>S file Size differs M Mode differs (includes permissions
and file type) 5 MD5 sum differs D Device major/minor number
mismatch L readLink(2) path mismatch U User ownership
differs G Group ownership differs T mTime differs</p>

<p>DIGITAL SIGNATURE AND DIGEST VERIFICATION The general
forms of rpm digital signature commands are</p>

<p>rpm --import PUBKEY ...</p>

<p>rpm {--checksig} [--nosignature] [--nodigest]
PACKAGE_FILE ...</p>

<p>The --checksig option checks all the digests and
signatures contained in PACKAGE_FILE to ensure the integrity
and origin of the package. Note that signatures are now
verified whenever a package is read, and --checksig is
useful to verify all of the digests and signatures asso-
ciated with a package.</p>

<p>Digital signatures cannot be verified without a public
key. An ASCII armored public key can be added to the rpm
database using --import. An imported public key is carried
in a header, and key ring management is performed exactly
like package management. For example, all currently imported
public keys can be displayed by:</p>

<p>rpm -qa gpg-pubkey*</p>

<p>Details about a specific public key, when imported, can
be displayed by querying. Heres information about the Red
Hat GPG/DSA key:</p>

<p>rpm -qi gpg-pubkey-db42a60e</p>

<p>Finally, public keys can be erased after importing just
like packages. Heres how to remove the Red Hat GPG/DSA
key</p>

<p>rpm -e gpg-pubkey-db42a60e</p>

<p>SIGNING A PACKAGE rpm --addsign|--resign PACKAGE_FILE
...</p>

<p>Both of the --addsign and --resign options generate and
insert new sig- natures for each package PACKAGE_FILE given,
replacing any existing signatures. There are two options for
historical reasons, there is no difference in behavior
currently.</p>

<p>USING GPG TO SIGN PACKAGES In order to sign packages
using GPG, rpm must be configured to run GPG and be able to
find a key ring with the appropriate keys. By default, rpm
uses the same conventions as GPG to find key rings, namely
the $GNUPGHOME environment variable. If your key rings are
not located where GPG expects them to be, you will need to
configure the macro %_gpg_path to be the location of the GPG
key rings to use.</p>

<p>For compatibility with older versions of GPG, PGP, and
rpm, only V3 OpenPGP signature packets should be configured.
Either DSA or RSA ver- ification algorithms can be used, but
DSA is preferred.</p>

<p>If you want to be able to sign packages you create
yourself, you also need to create your own public and secret
key pair (see the GPG man- ual). You will also need to
configure the rpm macros</p>

<p>%_signature The signature type. Right now only gpg and
pgp are supported.</p>

<p>%_gpg_name The name of the &quot;user&quot; whose key
you wish to use to sign your packages.</p>

<p>For example, to be able to use GPG to sign packages as
the user &quot;John Doe &lt;jdoe@foo.com&gt;&quot; from the
key rings located in /etc/rpm/.gpg using the executable
/usr/bin/gpg you would include</p>

<p>%_signature gpg %_gpg_path /etc/rpm/.gpg %_gpg_name John
Doe &lt;jdoe@foo.com&gt; %_gpgbin /usr/bin/gpg</p>

<p>in a macro configuration file. Use /etc/rpm/macros for
per-system con- figuration and ~/.rpmmacros for per-user
configuration.</p>

<p>REBUILD DATABASE OPTIONS The general form of an rpm
rebuild database command is</p>

<p>rpm {--initdb|--rebuilddb} [-v] [--dbpath DIRECTORY]
[--root DIRECTORY]</p>

<p>Use --initdb to create a new database if one doesnt
already exist (existing database is not overwritten), use
--rebuilddb to rebuild the database indices from the
installed package headers.</p>

<p>SHOWRC The command</p>

<p>rpm --showrc</p>

<p>shows the values rpm will use for all of the options are
currently set in rpmrc and macros configuration file(s).</p>

<p>FTP/HTTP OPTIONS rpm can act as an FTP and/or HTTP
client so that packages can be queried or installed from the
internet. Package files for install, upgrade, and query
operations may be specified as an ftp or http style URL:</p>

<p>ftp://USER:PASSWORD@HOST:PORT/path/to/package.rpm</p>

<p>If the :PASSWORD portion is omitted, the password will
be prompted for (once per user/hostname pair). If both the
user and password are omit- ted, anonymous ftp is used. In
all cases, passive (PASV) ftp transfers are performed.</p>

<p>rpm allows the following options to be used with ftp
URLs:</p>

<p>--ftpproxy HOST The host HOST will be used as a proxy
server for all ftp trans- fers, which allows users to ftp
through firewall machines which use proxy systems. This
option may also be specified by config- uring the macro
%_ftpproxy.</p>

<p>--ftpport PORT The TCP PORT number to use for the ftp
connection on the proxy ftp server instead of the default
port. This option may also be specified by configuring the
macro %_ftpport.</p>

<p>rpm allows the following options to be used with http
URLs:</p>

<p>--httpproxy HOST The host HOST will be used as a proxy
server for all http trans- fers. This option may also be
specified by configuring the macro %_httpproxy.</p>

<p>--httpport PORT The TCP PORT number to use for the http
connection on the proxy http server instead of the default
port. This option may also be specified by configuring the
macro %_httpport.</p>

<p>LEGACY ISSUES Executing rpmbuild The build modes of rpm
are now resident in the /usr/bin/rpmbuild exe- cutable.
Although legacy compatibility provided by the popt aliases
below has been adequate, the compatibility is not perfect;
hence build mode compatibility through popt aliases is being
removed from rpm. Install the package containing rpmbuild
(usually rpm-build) and see rpmbuild(8) for documentation of
all the rpm build modes previously documented here in
rpm(8).</p>

<p>Add the following lines to /etc/popt if you wish to
continue invoking rpmbuild from the rpm command line:</p>

<p>rpm exec --bp rpmb -bp rpm exec --bc rpmb -bc rpm exec
--bi rpmb -bi rpm exec --bl rpmb -bl rpm exec --ba rpmb -ba
rpm exec --bb rpmb -bb rpm exec --bs rpmb -bs rpm exec --tp
rpmb -tp rpm exec --tc rpmb -tc rpm exec --ti rpmb -ti rpm
exec --tl rpmb -tl rpm exec --ta rpmb -ta rpm exec --tb rpmb
-tb rpm exec --ts rpmb -ts rpm exec --rebuild rpmb --rebuild
rpm exec --recompile rpmb --recompile rpm exec --clean rpmb
--clean rpm exec --rmsource rpmb --rmsource rpm exec
--rmspec rpmb --rmspec rpm exec --target rpmb --target rpm
exec --short-circuit rpmb --short-circuit</p>

<p>FILES rpmrc Configuration /usr/lib/rpm/rpmrc
/usr/lib/rpm/redhat/rpmrc /etc/rpmrc ~/.rpmrc</p>

<p>Macro Configuration /usr/lib/rpm/macros
/usr/lib/rpm/redhat/macros /etc/rpm/macros ~/.rpmmacros</p>

<p>Database /var/lib/rpm/Basenames
/var/lib/rpm/Conflictname /var/lib/rpm/Dirnames
/var/lib/rpm/Filemd5s /var/lib/rpm/Group
/var/lib/rpm/Installtid /var/lib/rpm/Name
/var/lib/rpm/Packages /var/lib/rpm/Providename
/var/lib/rpm/Provideversion /var/lib/rpm/Pubkeys
/var/lib/rpm/Removed /var/lib/rpm/Requirename
/var/lib/rpm/Requireversion /var/lib/rpm/Sha1header
/var/lib/rpm/Sigmd5 /var/lib/rpm/Triggername</p>

<p>Temporary /var/tmp/rpm*</p>

<p>SEE ALSO popt(3), rpm2cpio(8), rpmbuild(8),</p>

<p>rpm --help - as rpm supports customizing the options via
popt aliases its impossible to guarantee that whats
described in the manual matches whats available.</p>

<p>http://www.rpm.org/ &lt;URL:http://www.rpm.org/&gt;</p>

<p>AUTHORS Marc Ewing &lt;marc@redhat.com&gt; Jeff Johnson
&lt;jbj@redhat.com&gt; Erik Troan &lt;ewt@redhat.com&gt;</p>

<p>Red Hat, Inc. 09 June 2002 RPM(8) PATCH(1) PATCH(1)</p>

<p>NAME patch - apply a diff file to an original</p>

<p>SYNOPSIS patch [options] [originalfile [patchfile]]</p>

<p>but usually just</p>

<p>patch -pnum &lt;patchfile</p>

<p>DESCRIPTION patch takes a patch file patchfile
containing a difference listing pro- duced by the diff
program and applies those differences to one or more
original files, producing patched versions. Normally the
patched ver- sions are put in place of the originals.
Backups can be made; see the -b or --backup option. The
names of the files to be patched are usu- ally taken from
the patch file, but if theres just one file to be patched it
can specified on the command line as originalfile.</p>

<p>Upon startup, patch attempts to determine the type of
the diff listing, unless overruled by a -c (--context), -e
(--ed), -n (--normal), or -u (--unified) option. Context
diffs (old-style, new-style, and unified) and normal diffs
are applied by the patch program itself, while ed diffs are
simply fed to the ed(1) editor via a pipe.</p>

<p>patch tries to skip any leading garbage, apply the diff,
and then skip any trailing garbage. Thus you could feed an
article or message con- taining a diff listing to patch, and
it should work. If the entire diff is indented by a
consistent amount, or if a context diff contains lines
ending in CRLF or is encapsulated one or more times by
prepending &quot;- &quot; to lines starting with
&quot;-&quot; as specified by Internet RFC 934, this is
taken into account.</p>

<p>With context diffs, and to a lesser extent with normal
diffs, patch can detect when the line numbers mentioned in
the patch are incorrect, and attempts to find the correct
place to apply each hunk of the patch. As a first guess, it
takes the line number mentioned for the hunk, plus or minus
any offset used in applying the previous hunk. If that is
not the correct place, patch scans both forwards and
backwards for a set of lines matching the context given in
the hunk. First patch looks for a place where all lines of
the context match. If no such place is found, and its a
context diff, and the maximum fuzz factor is set to 1 or
more, then another scan takes place ignoring the first and
last line of context. If that fails, and the maximum fuzz
factor is set to 2 or more, the first two and last two lines
of context are ignored, and another scan is made. (The
default maximum fuzz factor is 2.) If patch cannot find a
place to install that hunk of the patch, it puts the hunk
out to a reject file, which normally is the name of the
output file plus a .rej suffix, or # if .rej would generate
a file name that is too long (if even appending the single
character # makes the file name too long, then # replaces
the file name s last character). (The rejected hunk comes
out in ordinary context diff form regardless of the input
patchs form. If the input was a normal diff, many of the
con- texts are simply null.) The line numbers on the hunks
in the reject file may be different than in the patch file:
they reflect the approxi- mate location patch thinks the
failed hunks belong in the new file rather than the old
one.</p>

<p>As each hunk is completed, you are told if the hunk
failed, and if so which line (in the new file) patch thought
the hunk should go on. If the hunk is installed at a
different line from the line number speci- fied in the diff
you are told the offset. A single large offset may indicate
that a hunk was installed in the wrong place. You are also
told if a fuzz factor was used to make the match, in which
case you should also be slightly suspicious. If the
--verbose option is given, you are also told about hunks
that match exactly.</p>

<p>If no original file origfile is specified on the command
line, patch tries to figure out from the leading garbage
what the name of the file to edit is, using the following
rules.</p>

<p>First, patch takes an ordered list of candidate file
names as follows:</p>

<p>&middot; If the header is that of a context diff, patch
takes the old and new file names in the header. A name is
ignored if it does not have enough slashes to satisfy the
-pnum or --strip=num option. The name /dev/null is also
ignored.</p>

<p>&middot; If there is an Index: line in the leading
garbage and if either the old and new names are both absent
or if patch is conforming to POSIX, patch takes the name in
the Index: line.</p>

<p>&middot; For the purpose of the following rules, the
candidate file names are considered to be in the order (old,
new, index), regardless of the order that they appear in the
header.</p>

<p>Then patch selects a file name from the candidate list
as follows:</p>

<p>&middot; If some of the named files exist, patch selects
the first name if conforming to POSIX, and the best name
otherwise.</p>

<p>&middot; If patch is not ignoring RCS, ClearCase, and
SCCS (see the -g num or --get=num option), and no named
files exist but an RCS, ClearCase, or SCCS master is found,
patch selects the first named file with an RCS, ClearCase,
or SCCS master.</p>

<p>&middot; If no named files exist, no RCS, ClearCase, or
SCCS master was found, some names are given, patch is not
conforming to POSIX, and the patch appears to create a file,
patch selects the best name requiring the creation of the
fewest directories.</p>

<p>&middot; If no file name results from the above
heuristics, you are asked for the name of the file to patch,
and patch selects that name.</p>

<p>To determine the best of a nonempty list of file names,
patch first takes all the names with the fewest path name
components; of those, it then takes all the names with the
shortest basename; of those, it then takes all the shortest
names; finally, it takes the first remaining name.</p>

<p>Additionally, if the leading garbage contains a Prereq:
line, patch takes the first word from the prerequisites line
(normally a version number) and checks the original file to
see if that word can be found. If not, patch asks for
confirmation before proceeding.</p>

<p>The upshot of all this is that you should be able to
say, while in a news interface, something like the
following:</p>

<p>| patch -d /usr/src/local/blurfl</p>

<p>and patch a file in the blurfl directory directly from
the article con- taining the patch.</p>

<p>If the patch file contains more than one patch, patch
tries to apply each of them as if they came from separate
patch files. This means, among other things, that it is
assumed that the name of the file to patch must be
determined for each diff listing, and that the garbage
before each diff listing contains interesting things such as
file names and revision level, as mentioned previously.</p>

<p>OPTIONS -b or --backup Make backup files. That is, when
patching a file, rename or copy the original instead of
removing it. When backing up a file that does not exist, an
empty, unreadable backup file is created as a placeholder to
represent the nonexistent file. See the -V or --ver-
sion-control option for details about how backup file names
are determined.</p>

<p>--backup-if-mismatch Back up a file if the patch does
not match the file exactly and if backups are not otherwise
requested. This is the default unless patch is conforming to
POSIX.</p>

<p>--no-backup-if-mismatch Do not back up a file if the
patch does not match the file exactly and if backups are not
otherwise requested. This is the default if patch is
conforming to POSIX.</p>

<p>-B pref or --prefix=pref Prefix pref to a file name when
generating its simple backup file name. For example, with -B
/junk/ the simple backup file name for src/patch/util.c is
/junk/src/patch/util.c.</p>

<p>--binary Read and write all files in binary mode, except
for standard output and /dev/tty. This option has no effect
on POSIX-conforming sys- tems. On systems like DOS where
this option makes a difference, the patch should be
generated by diff -a --binary.</p>

<p>-c or --context Interpret the patch file as a ordinary
context diff.</p>

<p>-d dir or --directory=dir Change to the directory dir
immediately, before doing anything else.</p>

<p>-D define or --ifdef=define Use the #ifdef ... #endif
construct to mark changes, with define as the
differentiating symbol.</p>

<p>--dry-run Print the results of applying the patches
without actually changing any files.</p>

<p>-e or --ed Interpret the patch file as an ed script.</p>

<p>-E or --remove-empty-files Remove output files that are
empty after the patches have been applied. Normally this
option is unnecessary, since patch can exam- ine the time
stamps on the header to determine whether a file should
exist after patching. However, if the input is not a context
diff or if patch is conforming to POSIX, patch does not
remove empty patched files unless this option is given. When
patch removes a file, it also attempts to remove any empty
ancestor directories.</p>

<p>-f or --force Assume that the user knows exactly what he
or she is doing, and do not ask any questions. Skip patches
whose headers do not say which file is to be patched; patch
files even though they have the wrong version for the
Prereq: line in the patch; and assume that patches are not
reversed even if they look like they are. This option does
not suppress commentary; use -s for that.</p>

<p>-F num or --fuzz=num Set the maximum fuzz factor. This
option only applies to diffs that have context, and causes
patch to ignore up to that many lines in looking for places
to install a hunk. Note that a larger fuzz fac- tor
increases the odds of a faulty patch. The default fuzz
factor is 2, and it may not be set to more than the number
of lines of con- text in the context diff, ordinarily 3.</p>

<p>-g num or --get=num This option controls patchs actions
when a file is under RCS or SCCS control, and does not exist
or is read-only and matches the default version, or when a
file is under ClearCase control and does not exist. If num
is positive, patch gets (or checks out) the file from the
revision control system; if zero, patch ignores RCS,
ClearCase, and SCCS and does not get the file; and if
negative, patch asks the user whether to get the file. The
default value of this option is given by the value of the
PATCH_GET environment vari- able if it is set; if not, the
default value is zero if patch is conforming to POSIX,
negative otherwise.</p>

<p>--help Print a summary of options and exit.</p>

<p>-i patchfile or --input=patchfile Read the patch from
patchfile. If patchfile is -, read from stan- dard input,
the default.</p>

<p>-l or --ignore-whitespace Match patterns loosely, in
case tabs or spaces have been munged in your files. Any
sequence of one or more blanks in the patch file matches any
sequence in the original file, and sequences of blanks at
the ends of lines are ignored. Normal characters must still
match exactly. Each line of the context must still match a
line in the original file.</p>

<p>-n or --normal Interpret the patch file as a normal
diff.</p>

<p>-N or --forward Ignore patches that seem to be reversed
or already applied. See also -R.</p>

<p>-o outfile or --output=outfile Send output to outfile
instead of patching files in place.</p>

<p>-pnum or --strip=num Strip the smallest prefix
containing num leading slashes from each file name found in
the patch file. A sequence of one or more adja- cent slashes
is counted as a single slash. This controls how file names
found in the patch file are treated, in case you keep your
files in a different directory than the person who sent out
the patch. For example, supposing the file name in the patch
file was</p>

<p>/u/howard/src/blurfl/blurfl.c</p>

<p>setting -p0 gives the entire file name unmodified, -p1
gives</p>

<p>u/howard/src/blurfl/blurfl.c</p>

<p>without the leading slash, -p4 gives</p>

<p>blurfl/blurfl.c</p>

<p>and not specifying -p at all just gives you blurfl.c.
Whatever you end up with is looked for either in the current
directory, or the directory specified by the -d option.</p>

<p>--posix Conform more strictly to the POSIX standard, as
follows.</p>

<p>&middot; Take the first existing file from the list
(old, new, index) when intuiting file names from diff
headers.</p>

<p>&middot; Do not remove files that are empty after
patching.</p>

<p>&middot; Do not ask whether to get files from RCS,
ClearCase, or SCCS.</p>

<p>&middot; Require that all options precede the files in
the command line.</p>

<p>&middot; Do not backup files when there is a
mismatch.</p>

<p>--quoting-style=word Use style word to quote output
names. The word should be one of the following:</p>

<p>literal Output names as-is.</p>

<p>shell Quote names for the shell if they contain shell
metacharac- ters or would cause ambiguous output.</p>

<p>shell-always Quote names for the shell, even if they
would normally not require quoting.</p>

<p>c Quote names as for a C language string.</p>

<p>escape Quote as with c except omit the surrounding
double-quote characters.</p>

<p>You can specify the default value of the --quoting-style
option with the environment variable QUOTING_STYLE. If that
environment vari- able is not set, the default value is
shell.</p>

<p>-r rejectfile or --reject-file=rejectfile Put rejects
into rejectfile instead of the default .rej file.</p>

<p>-R or --reverse Assume that this patch was created with
the old and new files swapped. (Yes, I m afraid that does
happen occasionally, human nature being what it is.) patch
attempts to swap each hunk around before applying it.
Rejects come out in the swapped format. The -R option does
not work with ed diff scripts because there is too lit- tle
information to reconstruct the reverse operation.</p>

<p>If the first hunk of a patch fails, patch reverses the
hunk to see if it can be applied that way. If it can, you
are asked if you want to have the -R option set. If it cant,
the patch continues to be applied normally. (Note: this
method cannot detect a reversed patch if it is a normal diff
and if the first command is an append (i.e. it should have
been a delete) since appends always succeed, due to the fact
that a null context matches anywhere. Luckily, most patches
add or change lines rather than delete them, so most
reversed normal diffs begin with a delete, which fails,
triggering the heuristic.)</p>

<p>-s or --silent or --quiet Work silently, unless an error
occurs.</p>

<p>-t or --batch Suppress questions like -f, but make some
different assumptions: skip patches whose headers do not
contain file names (the same as -f); skip patches for which
the file has the wrong version for the Prereq: line in the
patch; and assume that patches are reversed if they look
like they are.</p>

<p>-T or --set-time Set the modification and access times
of patched files from time stamps given in context diff
headers, assuming that the context diff headers use local
time. This option is not recommended, because patches using
local time cannot easily be used by people in other time
zones, and because local time stamps are ambiguous when
local clocks move backwards during daylight-saving time
adjustments. Instead of using this option, generate patches
with UTC and use the -Z or --set-utc option instead.</p>

<p>-u or --unified Interpret the patch file as a unified
context diff.</p>

<p>-v or --version Print out patchs revision header and
patch level, and exit.</p>

<p>-V method or --version-control=method Use method to
determine backup file names. The method can also be given by
the PATCH_VERSION_CONTROL (or, if thats not set, the VER-
SION_CONTROL) environment variable, which is overridden by
this option. The method does not affect whether backup files
are made; it affects only the names of any backup files that
are made.</p>

<p>The value of method is like the GNU Emacs
version-control vari- able; patch also recognizes synonyms
that are more descriptive. The valid values for method are
(unique abbreviations are accepted):</p>

<p>existing or nil Make numbered backups of files that
already have them, otherwise simple backups. This is the
default.</p>

<p>numbered or t Make numbered backups. The numbered backup
file name for F is F.~N~ where N is the version number.</p>

<p>simple or never Make simple backups. The -B or --prefix,
-Y or --basename-pre- fix, and -z or --suffix options
specify the simple backup file name. If none of these
options are given, then a simple backup suffix is used; it
is the value of the SIMPLE_BACKUP_SUFFIX envi- ronment
variable if set, and is .orig otherwise.</p>

<p>With numbered or simple backups, if the backup file name
is too long, the backup suffix ~ is used instead; if even
appending ~ would make the name too long, then ~ replaces
the last character of the file name.</p>

<p>--verbose Output extra information about the work being
done.</p>

<p>-x num or --debug=num Set internal debugging flags of
interest only to patch patchers.</p>

<p>-Y pref or --basename-prefix=pref Prefix pref to the
basename of a file name when generating its sim- ple backup
file name. For example, with -Y .del/ the simple backup file
name for src/patch/util.c is src/patch/.del/util.c.</p>

<p>-z suffix or --suffix=suffix Use suffix as the simple
backup suffix. For example, with -z - the simple backup file
name for src/patch/util.c is src/patch/util.c-. The backup
suffix may also be specified by the SIMPLE_BACKUP_SUFFIX
environment variable, which is overridden by this
option.</p>

<p>-Z or --set-utc Set the modification and access times of
patched files from time stamps given in context diff
headers, assuming that the context diff headers use
Coordinated Universal Time (UTC, often known as GMT). Also
see the -T or --set-time option.</p>

<p>The -Z or --set-utc and -T or --set-time options
normally refrain from setting a files time if the files
original time does not match the time given in the patch
header, or if its contents do not match the patch exactly.
However, if the -f or --force option is given, the file time
is set regardless.</p>

<p>Due to the limitations of diff output format, these
options cannot update the times of files whose contents have
not changed. Also, if you use these options, you should
remove (e.g. with make clean) all files that depend on the
patched files, so that later invocations of make do not get
confused by the patched files times.</p>

<p>ENVIRONMENT PATCH_GET This specifies whether patch gets
missing or read-only files from RCS, ClearCase, or SCCS by
default; see the -g or --get option.</p>

<p>POSIXLY_CORRECT If set, patch conforms more strictly to
the POSIX standard by default: see the --posix option.</p>

<p>QUOTING_STYLE Default value of the --quoting-style
option.</p>

<p>SIMPLE_BACKUP_SUFFIX Extension to use for simple backup
file names instead of .orig.</p>

<p>TMPDIR, TMP, TEMP Directory to put temporary files in;
patch uses the first environ- ment variable in this list
that is set. If none are set, the default is
system-dependent; it is normally /tmp on Unix hosts.</p>

<p>VERSION_CONTROL or PATCH_VERSION_CONTROL Selects version
control style; see the -v or --version-control option.</p>

<p>FILES $TMPDIR/p temporary files</p>

<p>/dev/tty controlling terminal; used to get answers to
questions asked of the user</p>

<p>SEE ALSO diff(1), ed(1)</p>

<p>Marshall T. Rose and Einar A. Stefferud, Proposed
Standard for Message Encapsulation, Internet RFC 934
&lt;URL:ftp://ftp.isi.edu/in- notes/rfc934.txt&gt;
(1985-01).</p>

<p>NOTES FOR PATCH SENDERS There are several things you
should bear in mind if you are going to be sending out
patches.</p>

<p>Create your patch systematically. A good method is the
command diff -Naur old new where old and new identify the
old and new directo- ries. The names old and new should not
contain any slashes. The diff command s headers should have
dates and times in Universal Time using traditional Unix
format, so that patch recipients can use the -Z or --set-utc
option. Here is an example command, using Bourne shell syn-
tax:</p>

<p>LC_ALL=C TZ=UTC0 diff -Naur gcc-2.7 gcc-2.8</p>

<p>Tell your recipients how to apply the patch by telling
them which directory to cd to, and which patch options to
use. The option string -Np1 is recommended. Test your
procedure by pretending to be a recipi- ent and applying
your patch to a copy of the original files.</p>

<p>You can save people a lot of grief by keeping a
patchlevel.h file which is patched to increment the patch
level as the first diff in the patch file you send out. If
you put a Prereq: line in with the patch, it won t let them
apply patches out of order without some warning.</p>

<p>You can create a file by sending out a diff that
compares /dev/null or an empty file dated the Epoch
(1970-01-01 00:00:00 UTC) to the file you want to create.
This only works if the file you want to create doesnt exist
already in the target directory. Conversely, you can remove
a file by sending out a context diff that compares the file
to be deleted with an empty file dated the Epoch. The file
will be removed unless patch is conforming to POSIX and the
-E or --remove-empty-files option is not given. An easy way
to generate patches that create and remove files is to use
GNU diffs -N or --new-file option.</p>

<p>If the recipient is supposed to use the -pN option, do
not send output that looks like this:</p>

<p>diff -Naur v2.0.29/prog/README prog/README ---
v2.0.29/prog/README Mon Mar 10 15:13:12 1997 +++ prog/README
Mon Mar 17 14:58:22 1997</p>

<p>because the two file names have different numbers of
slashes, and dif- ferent versions of patch interpret the
file names differently. To avoid confusion, send output that
looks like this instead:</p>

<p>diff -Naur v2.0.29/prog/README v2.0.30/prog/README ---
v2.0.29/prog/README Mon Mar 10 15:13:12 1997 +++
v2.0.30/prog/README Mon Mar 17 14:58:22 1997</p>

<p>Avoid sending patches that compare backup file names
like README.orig, since this might confuse patch into
patching a backup file instead of the real file. Instead,
send patches that compare the same base file names in
different directories, e.g. old/README and new/README.</p>

<p>Take care not to send out reversed patches, since it
makes people won- der whether they already applied the
patch.</p>

<p>Try not to have your patch modify derived files (e.g.
the file config- ure where there is a line configure:
configure.in in your makefile), since the recipient should
be able to regenerate the derived files any- way. If you
must send diffs of derived files, generate the diffs using
UTC, have the recipients apply the patch with the -Z or
--set-utc option, and have them remove any unpatched files
that depend on patched files (e.g. with make clean).</p>

<p>While you may be able to get away with putting 582 diff
listings into one file, it may be wiser to group related
patches into separate files in case something goes
haywire.</p>

<p>DIAGNOSTICS Diagnostics generally indicate that patch
couldnt parse your patch file.</p>

<p>If the --verbose option is given, the message Hmm...
indicates that there is unprocessed text in the patch file
and that patch is attempt- ing to intuit whether there is a
patch in that text and, if so, what kind of patch it is.</p>

<p>patch s exit status is 0 if all hunks are applied
successfully, 1 if some hunks cannot be applied, and 2 if
there is more serious trouble. When applying a set of
patches in a loop it behooves you to check this exit status
so you don t apply a later patch to a partially patched
file.</p>

<p>CAVEATS Context diffs cannot reliably represent the
creation or deletion of empty files, empty directories, or
special files such as symbolic links. Nor can they represent
changes to file metadata like ownership, permissions, or
whether one file is a hard link to another. If changes like
these are also required, separate instructions (e.g. a shell
script) to accomplish them should accompany the patch.</p>

<p>patch cannot tell if the line numbers are off in an ed
script, and can detect bad line numbers in a normal diff
only when it finds a change or deletion. A context diff
using fuzz factor 3 may have the same prob- lem. Until a
suitable interactive interface is added, you should prob-
ably do a context diff in these cases to see if the changes
made sense. Of course, compiling without errors is a pretty
good indication that the patch worked, but not always.</p>

<p>patch usually produces the correct results, even when it
has to do a lot of guessing. However, the results are
guaranteed to be correct only when the patch is applied to
exactly the same version of the file that the patch was
generated from.</p>

<p>COMPATIBILITY ISSUES The POSIX standard specifies
behavior that differs from patchs tradi- tional behavior.
You should be aware of these differences if you must
interoperate with patch versions 2.1 and earlier, which do
not conform to POSIX.</p>

<p>&middot; In traditional patch, the -p option s operand
was optional, and a bare -p was equivalent to -p0. The -p
option now requires an operand, and -p 0 is now equivalent
to -p0. For maximum compatibil- ity, use options like -p0
and -p1.</p>

<p>Also, traditional patch simply counted slashes when
stripping path prefixes; patch now counts pathname
components. That is, a sequence of one or more adjacent
slashes now counts as a single slash. For maximum
portability, avoid sending patches containing // in file
names.</p>

<p>&middot; In traditional patch, backups were enabled by
default. This behav- ior is now enabled with the -b or
--backup option.</p>

<p>Conversely, in POSIX patch, backups are never made, even
when there is a mismatch. In GNU patch, this behavior is
enabled with the --no-backup-if-mismatch option, or by
conforming to POSIX with the --posix option or by setting
the POSIXLY_CORRECT environment vari- able.</p>

<p>The -b suffix option of traditional patch is equivalent
to the -b -z suffix options of GNU patch.</p>

<p>&middot; Traditional patch used a complicated (and
incompletely documented) method to intuit the name of the
file to be patched from the patch header. This method did
not conform to POSIX, and had a few gotchas. Now patch uses
a different, equally complicated (but better documented)
method that is optionally POSIX-conforming; we hope it has
fewer gotchas. The two methods are compatible if the file
names in the context diff header and the Index: line are all
identical after prefix-stripping. Your patch is normally
compatible if each headers file names all contain the same
number of slashes.</p>

<p>&middot; When traditional patch asked the user a
question, it sent the ques- tion to standard error and
looked for an answer from the first file in the following
list that was a terminal: standard error, standard output,
/dev/tty, and standard input. Now patch sends questions to
standard output and gets answers from /dev/tty. Defaults for
some answers have been changed so that patch never goes into
an infinite loop when using default answers.</p>

<p>&middot; Traditional patch exited with a status value
that counted the number of bad hunks, or with status 1 if
there was real trouble. Now patch exits with status 1 if
some hunks failed, or with 2 if there was real trouble.</p>

<p>&middot; Limit yourself to the following options when
sending instructions meant to be executed by anyone running
GNU patch, traditional patch, or a patch that conforms to
POSIX. Spaces are significant in the following list, and
operands are required.</p>

<p>-c -d dir -D define -e -l -n -N -o outfile -pnum -R -r
rejectfile</p>

<p>BUGS Please report bugs via email to
&lt;bug-gnu-utils@gnu.org&gt;.</p>

<p>patch could be smarter about partial matches,
excessively deviant off- sets and swapped code, but that
would take an extra pass.</p>

<p>If code has been duplicated (for instance with #ifdef
OLDCODE ... #else ... #endif), patch is incapable of
patching both versions, and, if it works at all, will likely
patch the wrong one, and tell you that it succeeded to
boot.</p>

<p>If you apply a patch you ve already applied, patch
thinks it is a reversed patch, and offers to un-apply the
patch. This could be con- strued as a feature.</p>

<p>COPYING Copyright 1984, 1985, 1986, 1988 Larry Wall.
Copyright 1989, 1990, 1991, 1992, 1993, 1994, 1995, 1996,
1997, 1998 Free Software Foundation, Inc.</p>

<p>Permission is granted to make and distribute verbatim
copies of this manual provided the copyright notice and this
permission notice are preserved on all copies.</p>

<p>Permission is granted to copy and distribute modified
versions of this manual under the conditions for verbatim
copying, provided that the entire resulting derived work is
distributed under the terms of a per- mission notice
identical to this one.</p>

<p>Permission is granted to copy and distribute
translations of this manual into another language, under the
above conditions for modified versions, except that this
permission notice may be included in trans- lations approved
by the copyright holders instead of in the original
English.</p>

<p>AUTHORS Larry Wall wrote the original version of patch.
Paul Eggert removed patchs arbitrary limits; added support
for binary files, setting file times, and deleting files;
and made it conform better to POSIX. Other contributors
include Wayne Davison, who added unidiff support, and David
MacKenzie, who added configuration and backup support.</p>

<p>GNU 1998/03/21 PATCH(1)</p>
<hr>
</body>
</html>
