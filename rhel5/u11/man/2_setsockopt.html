<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:22:58 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>GETSOCKOPT(2) Linux Programmer s Manual
GETSOCKOPT(2)</p>

<p>NAME getsockopt, setsockopt - get and set options on
sockets</p>

<p>SYNOPSIS #include &lt;sys/types.h&gt; #include
&lt;sys/socket.h&gt;</p>

<p>int getsockopt(int s, int level, int optname, void
*optval, socklen_t *optlen);</p>

<p>int setsockopt(int s, int level, int optname, const void
*optval, socklen_t optlen);</p>

<p>DESCRIPTION getsockopt() and setsockopt() manipulate the
options associated with a socket. Options may exist at
multiple protocol levels; they are always present at the
uppermost socket level.</p>

<p>When manipulating socket options the level at which the
option resides and the name of the option must be specified.
To manipulate options at the socket level, level is
specified as SOL_SOCKET. To manipulate options at any other
level the protocol number of the appropriate pro- tocol
controlling the option is supplied. For example, to indicate
that an option is to be interpreted by the TCP protocol,
level should be set to the protocol number of TCP; see
getprotoent(3).</p>

<p>The parameters optval and optlen are used to access
option values for setsockopt(). For getsockopt() they
identify a buffer in which the value for the requested
option(s) are to be returned. For getsock- opt(), optlen is
a value-result parameter, initially containing the size of
the buffer pointed to by optval, and modified on return to
indicate the actual size of the value returned. If no option
value is to be supplied or returned, optval may be NULL.</p>

<p>Optname and any specified options are passed
uninterpreted to the appropriate protocol module for
interpretation. The include file &lt;sys/socket.h&gt;
contains definitions for socket level options, described
below. Options at other protocol levels vary in format and
name; con- sult the appropriate entries in section 4 of the
manual.</p>

<p>Most socket-level options utilize an int parameter for
optval. For setsockopt(), the parameter should be non-zero
to enable a boolean option, or zero if the option is to be
disabled.</p>

<p>For a description of the available socket options see
socket(7) and the appropriate protocol man pages.</p>

<p>RETURN VALUE On success, zero is returned. On error, -1
is returned, and errno is set appropriately.</p>

<p>ERRORS EBADF The argument s is not a valid
descriptor.</p>

<p>EFAULT The address pointed to by optval is not in a
valid part of the process address space. For getsockopt(),
this error may also be returned if optlen is not in a valid
part of the pro- cess address space.</p>

<p>EINVAL optlen invalid in setsockopt().</p>

<p>ENOPROTOOPT The option is unknown at the level
indicated.</p>

<p>ENOTSOCK The argument s is a file, not a socket.</p>

<p>CONFORMING TO SVr4, 4.4BSD (these system calls first
appeared in 4.2BSD), POSIX.1-2001.</p>

<p>NOTE The optlen argument of getsockopt and setsockopt is
in reality an int [*] (and this is what 4.x BSD and libc4
and libc5 have). Some POSIX confusion resulted in the
present socklen_t, also used by glibc. See also
accept(2).</p>

<p>BUGS Several of the socket options should be handled at
lower levels of the system.</p>

<p>SEE ALSO ioctl(2), socket(2), getprotoent(3),
protocols(5), socket(7), tcp(7), unix(7)</p>

<p>Linux Man Page 1999-05-24 GETSOCKOPT(2)</p>
<hr>
</body>
</html>
