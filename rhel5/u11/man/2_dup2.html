<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:08:57 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>DUP(2) Linux Programmer s Manual DUP(2)</p>

<p>NAME dup, dup2 - duplicate a file descriptor</p>

<p>SYNOPSIS #include &lt;unistd.h&gt;</p>

<p>int dup(int oldfd); int dup2(int oldfd, int newfd);</p>

<p>DESCRIPTION dup() and dup2() create a copy of the file
descriptor oldfd.</p>

<p>After a successful return from dup() or dup2(), the old
and new file descriptors may be used interchangeably. They
refer to the same open file description (see open(2)) and
thus share file offset and file sta- tus flags; for example,
if the file offset is modified by using lseek(2) on one of
the descriptors, the offset is also changed for the
other.</p>

<p>The two descriptors do not share file descriptor flags
(the close-on- exec flag). The close-on-exec flag
(FD_CLOEXEC; see fcntl(2)) for the duplicate descriptor is
off.</p>

<p>dup() uses the lowest-numbered unused descriptor for the
new descrip- tor.</p>

<p>dup2() makes newfd be the copy of oldfd, closing newfd
first if neces- sary.</p>

<p>RETURN VALUE dup() and dup2() return the new descriptor,
or -1 if an error occurred (in which case, errno is set
appropriately).</p>

<p>ERRORS EBADF oldfd isnt an open file descriptor, or
newfd is out of the allowed range for file descriptors.</p>

<p>EBUSY (Linux only) This may be returned by dup2() during
a race condi- tion with open() and dup().</p>

<p>EINTR The dup2() call was interrupted by a signal.</p>

<p>EMFILE The process already has the maximum number of
file descriptors open and tried to open a new one.</p>

<p>WARNINGS The error returned by dup2() is different from
that returned by fcntl(..., F_DUPFD, ...) when newfd is out
of range. On some systems dup2() also sometimes returns
EINVAL like F_DUPFD.</p>

<p>If newfd was open, any errors that would have been
reported at close() time, are lost. A careful programmer
will not use dup2() without clos- ing newfd first.</p>

<p>CONFORMING TO SVr4, 4.3BSD, POSIX.1-2001.</p>

<p>SEE ALSO close(2), fcntl(2), open(2)</p>

<p>Linux 1.1.46 1994-08-21 DUP(2)</p>
<hr>
</body>
</html>
