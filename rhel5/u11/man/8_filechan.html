<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:10:16 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>FILECHAN(8) FILECHAN(8)</p>

<p>NAME filechan - file-writing backend for
InterNetNews</p>

<p>SYNOPSIS filechan [ -d directory ] [ -f num_fields ] [
-m mapfile ] [ -p pidfile ]</p>

<p>DESCRIPTION Filechan reads lines from standard input and
copies certain fields in each line into files named by other
fields within the line. Filechan is intended to be called by
innd(8) as a channel feed. (It is not a full exploder and
does not accept commands; see newsfeeds(5) for a description
of the difference, and buffchan(8) for an exploder pro-
gram.)</p>

<p>Filechan input is interpreted as a sequence of lines.
Each line con- tains a fixed number of initial fields,
followed by a variable number of filename fields. All fields
in a line are separated by whitespace. The default number of
initial fields is one.</p>

<p>For each line of input, filechan writes the initial
fields, separated by whitespace and followed by a newline,
to each of the files named in the filename fields. When
writing to a file, filechan opens it in append mode and
tries to lock it and change the ownership to the user and
group who owns the directory where the file is being
written.</p>

<p>Because the time window in which a file is open is very
small, compli- cated flushing and locking protocols are not
needed; a mv(1) followed by a sleep(1) for a couple of
seconds is sufficient.</p>

<p>OPTIONS -f num_fields The -f flag may be used to specify
a different number of initial fields.</p>

<p>-d directory By default, filechan writes its output into
the directory &lt;pathoutgoing in inn.conf&gt;. The -d flag
may be used to specify a directory the program should change
to before start- ing.</p>

<p>-p pidfile If the -p flag is used, the program will
write a line con- taining its process ID (in text) to the
specified file.</p>

<p>-m mapfile A map file may be specified by using the -m
flag. Blank lines and lines starting with a number sign (#)
are ignored. All other lines should have two host names
separated by a colon. The first field is the name that may
appear in the input stream; the second field names the file
to be used when the name in the first field appears. For
example, the following map file may be used to map the short
names used in the example below to the full domain
names:</p>

<p># This is a comment uunet:news.uu.net foo:foo.com
munnari:munnari.oz.au</p>

<p>EXAMPLES If filechan is invoked with -f 2 and given the
following input:</p>

<p>news/software/b/132 &lt;1643@munnari.oz.au&gt; foo uunet
news/software/b/133 &lt;102060@litchi.foo.com&gt; uunet
munnari comp/sources/unix/2002 &lt;999@news.foo.com&gt; foo
uunet munnari</p>

<p>Then the file foo will have these lines:</p>

<p>news/software/b/132 &lt;1643@munnari.oz.au&gt;
comp/sources/unix/2002 &lt;999@news.foo.com&gt;</p>

<p>the file munnari will have these lines:</p>

<p>news/software/b/133 &lt;102060@litchi.foo.com&gt;
comp/sources/unix/2002 &lt;999@news.foo.com&gt;</p>

<p>and the file uunet will have these lines:</p>

<p>news/software/b/132 &lt;1643@munnari.oz.au&gt;
news/software/b/133 &lt;102060@litchi.foo.com&gt;
comp/sources/unix/2002 &lt;999@news.foo.com&gt;</p>

<p>HISTORY Written by Robert Elz &lt;kre@munnari.oz.au&gt;,
flags added by Rich $alz &lt;rsalz@uunet.uu.net&gt;. This is
revision 5909, dated 2002-12-03.</p>

<p>SEE ALSO buffchan(8), inn.conf(5), innd(8),
newsfeeds(5).</p>

<p>FILECHAN(8)</p>
<hr>
</body>
</html>
