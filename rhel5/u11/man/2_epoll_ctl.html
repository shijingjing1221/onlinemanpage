<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:09:09 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>EPOLL_CTL(2) Linux Programmer s Manual EPOLL_CTL(2)</p>

<p>NAME epoll_ctl - control interface for an epoll
descriptor</p>

<p>SYNOPSIS #include &lt;sys/epoll.h&gt;</p>

<p>int epoll_ctl(int epfd, int op, int fd, struct
epoll_event *event)</p>

<p>DESCRIPTION Control an epoll descriptor, epfd, by
requesting that the operation op be performed on the target
file descriptor, fd. The event describes the object linked
to the file descriptor fd. The struct epoll_event is defined
as :</p>

<p>typedef union epoll_data { void *ptr; int fd; __uint32_t
u32; __uint64_t u64; } epoll_data_t;</p>

<p>struct epoll_event { __uint32_t events; /* Epoll events
*/ epoll_data_t data; /* User data variable */ };</p>

<p>The events member is a bit set composed using the
following available event types :</p>

<p>EPOLLIN The associated file is available for read(2)
operations.</p>

<p>EPOLLOUT The associated file is available for write(2)
operations.</p>

<p>EPOLLRDHUP Stream socket peer closed connection, or shut
down writing half of connection. (This flag is especially
useful for writing sim- ple code to detect peer shutdown
when using Edge Triggered moni- toring.)</p>

<p>EPOLLPRI There is urgent data available for read(2)
operations.</p>

<p>EPOLLERR Error condition happened on the associated file
descriptor. epoll_wait(2) will always wait for this event;
it is not neces- sary to set it in events.</p>

<p>EPOLLHUP Hang up happened on the associated file
descriptor. epoll_wait(2) will always wait for this event;
it is not neces- sary to set it in events.</p>

<p>EPOLLET Sets the Edge Triggered behaviour for the
associated file descriptor. The default behaviour for epoll
is Level Triggered. See epoll(7) for more detailed
information about Edge and Level Triggered event
distribution architectures.</p>

<p>EPOLLONESHOT (since kernel 2.6.2) Sets the one-shot
behaviour for the associated file descriptor. This means
that after an event is pulled out with epoll_wait(2) the
associated file descriptor is internally disabled and no
other events will be reported by the epoll interface. The
user must call epoll_ctl(2) with EPOLL_CTL_MOD to re-enable
the file descriptor with a new event mask.</p>

<p>The epoll interface supports all file descriptors that
support poll(2). Valid values for the op parameter are :</p>

<p>EPOLL_CTL_ADD Add the target file descriptor fd to the
epoll descriptor epfd and associate the event event with the
internal file linked to fd.</p>

<p>EPOLL_CTL_MOD Change the event event associated with the
target file descriptor fd.</p>

<p>EPOLL_CTL_DEL Remove the target file descriptor fd from
the epoll file descriptor, epfd. The event is ignored and
can be NULL (but see BUGS below).</p>

<p>RETURN VALUE When successful, epoll_ctl(2) returns zero.
When an error occurs, epoll_ctl(2) returns -1 and errno is
set appropriately.</p>

<p>ERRORS EBADF epfd or fd is not a valid file
descriptor.</p>

<p>EEXIST op was EPOLL_CTL_ADD, and the supplied file
descriptor fd is already in epfd.</p>

<p>EINVAL epfd is not an epoll file descriptor, or fd is
the same as epfd, or the requested operation op is not
supported by this inter- face.</p>

<p>ENOENT op was EPOLL_CTL_MOD or EPOLL_CTL_DEL, and fd is
not in epfd.</p>

<p>ENOMEM There was insufficient memory to handle the
requested op control operation.</p>

<p>EPERM The target file fd does not support epoll.</p>

<p>CONFORMING TO epoll_ctl(2) is a new API introduced in
Linux kernel 2.5.44. The interface should be finalized by
Linux kernel 2.5.66.</p>

<p>BUGS In kernel versions before 2.6.9, the EPOLL_CTL_DEL
operation required a non-NULL pointer in event, even though
this argument is ignored. Since kernel 2.6.9, event can be
specified as NULL when using EPOLL_CTL_DEL.</p>

<p>SEE ALSO epoll_create(2), poll(2), epoll_wait(2),
epoll(7)</p>

<p>Linux 2002-10-23 EPOLL_CTL(2)</p>
<hr>
</body>
</html>
