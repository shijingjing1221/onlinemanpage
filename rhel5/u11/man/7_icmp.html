<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:13:21 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>ICMP(7) Linux Programmer s Manual ICMP(7)</p>

<p>NAME icmp, IPPROTO_ICMP - Linux IPv4 ICMP kernel
module.</p>

<p>DESCRIPTION This kernel protocol module implements the
Internet Control Message Protocol defined in RFC 792. It is
used to signal error conditions and for diagnosis. The user
doesnt interact directly with this module; instead it
communicates with the other protocols in the kernel and
these pass the ICMP errors to the application layers. The
kernel ICMP module also answers ICMP requests.</p>

<p>A user protocol may receive ICMP packets for all local
sockets by open- ing a raw socket with the protocol
IPPROTO_ICMP. See raw(7) for more information. The types of
ICMP packets passed to the socket can be filtered using the
ICMP_FILTER socket option. ICMP packets are always processed
by the kernel too, even when passed to a user socket.</p>

<p>Linux limits the rate of ICMP error packets to each
destination. ICMP_REDIRECT and ICMP_DEST_UNREACH are also
limited by the destination route of the incoming
packets.</p>

<p>SYSCTLS ICMP supports a sysctl interface to configure
some global IP parame- ters. The sysctls can be accessed by
reading or writing the /proc/sys/net/ipv4/* files or with
the sysctl(2) interface. Most of these sysctls are rate
limitations for specific ICMP types. Linux 2.2 uses a token
bucket filter to limit ICMPs. The value is the timeout in
jiffies until the token bucket filter is cleared after a
burst. A jiffy is a system dependent unit, usually 10ms on
x86 and about 1ms on alpha and IA64.</p>

<p>icmp_destunreach_rate Maximum rate to send ICMP
Destination Unreachable packets. This limits the rate at
which packets are sent to any individual route or
destination. The limit does not affect sending of
ICMP_FRAG_NEEDED packets needed for path MTU discovery.</p>

<p>icmp_echo_ignore_all If this value is non-zero, Linux
will ignore all ICMP_ECHO requests.</p>

<p>icmp_echo_ignore_broadcasts If this value is non-zero,
Linux will ignore all ICMP_ECHO pack- ets sent to broadcast
addresses.</p>

<p>icmp_echoreply_rate Maximum rate for sending
ICMP_ECHOREPLY packets in response to ICMP_ECHOREQUEST
packets.</p>

<p>icmp_paramprob_rate Maximum rate for sending
ICMP_PARAMETERPROB packets. These packets are sent when a
packet arrives with an invalid IP header.</p>

<p>icmp_timeexceed_rate Maximum rate for sending
ICMP_TIME_EXCEEDED packets. These packets are sent to
prevent loops when a packet has crossed too many hops.</p>

<p>NOTES As many other implementations dont support
IPPROTO_ICMP raw sockets, this feature should not be relied
on in portable programs.</p>

<p>ICMP_REDIRECT packets are not sent when Linux is not
acting as a router. They are also only accepted from the old
gateway defined in the routing table and the redirect routes
are expired after some time.</p>

<p>The 64-bit timestamp returned by ICMP_TIMESTAMP is in
milliseconds since January 1, 1970.</p>

<p>Linux ICMP internally uses a raw socket to send ICMPs.
This raw socket may appear in netstat(8) output with a zero
inode.</p>

<p>VERSIONS Support for the ICMP_ADDRESS request was
removed in 2.2.</p>

<p>Support for ICMP_SOURCE_QUENCH was removed in Linux
2.2.</p>

<p>SEE ALSO ip(7)</p>

<p>RFC 792 for a description of the ICMP protocol.</p>

<p>Linux Man Page 1999-04-27 ICMP(7)</p>
<hr>
</body>
</html>
