<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:23:08 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>SHLOCK(1) SHLOCK(1)</p>

<p>NAME shlock - create lock files for use in shell
scripts</p>

<p>SYNOPSIS shlock -p pid -f name [ -b ] [ -u ] [ -c ]</p>

<p>DESCRIPTION Shlock tries to create a lock file named
name and write the process ID pid into it. If the file
already exists, shlock will read the process ID from the
file and test to see if the process is currently running. If
the process exists, then the file will not be created.</p>

<p>Shlock exits with a zero status if it was able to create
the lock file, or non-zero if the file refers to
currently-active process.</p>

<p>OPTIONS -b Process IDs are normally read and written in
ASCII. If the -b flag is used, then they will be written as
a binary int. For compatibility with other systems, the -u
flag is accepted as a synonym for -b since binary locks are
used by many UUCP packages.</p>

<p>-c If the -c flag is used, then shlock will not create a
lock file, but will instead use the file to see if the lock
is held by another program. If the lock is valid, the
program will exit with a non-zero status; if the lock is not
valid (i.e., invoking shlock without the flag would have
succeeded), then the program will exit with a zero
status.</p>

<p>EXAMPLES The following example shows how shlock would be
used within a shell script: LOCK=&lt;pathrun in
inn.conf&gt;/LOCK.send trap rm -f ${LOCK} ; exit 1 1 2 3 15
if shlock -p $$ -f ${LOCK} ; then # Do appropriate work else
echo Locked by cat ${LOCK} fi</p>

<p>BUGS shlock assumes that it will not be used in an
environment with multiple locks/unlocks in a short time (due
to a race condition). That is, shlock is intended for daily
or hourly jobs.</p>

<p>HISTORY Written by Rich $alz &lt;rsalz@uunet.uu.net&gt;
after a description of HDB UUCP locking given by Peter
Honeyman. This is revision 5794, dated 2002-10-01.</p>

<p>SEE ALSO inn.conf(5)</p>

<p>SHLOCK(1)</p>
<hr>
</body>
</html>
