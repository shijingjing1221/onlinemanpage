<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:08:07 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>CRYPTSETUP(8) Maintainance Commands CRYPTSETUP(8)</p>

<p>NAME cryptsetup - setup cryptographic volumes for
dm-crypt (including LUKS extension)</p>

<p>SYNOPSIS cryptsetup &lt;options&gt; &lt;action&gt;
&lt;action args&gt;</p>

<p>DESCRIPTION cryptsetup is used to conveniently setup up
dm-crypt managed device- mapper mappings. For basic dm-crypt
mappings, there are five opera- tions.</p>

<p>ACTIONS These strings are valid for &lt;action&gt;,
followed by their &lt;action args&gt;:</p>

<p>create &lt;name&gt; &lt;device&gt;</p>

<p>creates a mapping with &lt;name&gt; backed by device
&lt;device&gt;. &lt;options&gt; can be [--hash, --cipher,
--verify-passphrase, --key- file, --key-size, --offset,
--skip, --readonly]</p>

<p>remove &lt;name&gt;</p>

<p>removes an existing mapping &lt;name&gt;. No
options.</p>

<p>status &lt;name&gt;</p>

<p>reports the status for the mapping &lt;name&gt;. No
options.</p>

<p>reload &lt;name&gt;</p>

<p>modifies an active mapping &lt;name&gt;. Same options as
for create.</p>

<p>resize &lt;name&gt;</p>

<p>resizes an active mapping &lt;name&gt;. &lt;options&gt;
must include --size</p>

<p>LUKS EXTENSION LUKS, Linux Unified Key Setup, is a
standard for hard disk encryption. It standardizes a
partition header, as well as the format of the bulk data.
LUKS can manage multiple passwords, that can be revoked
effec- tively and that are protected against dictionary
attacks with PBKDF2.</p>

<p>These are valid LUKS actions:</p>

<p>luksFormat &lt;device&gt; [&lt;key file&gt;]</p>

<p>initializes a LUKS partition and set the initial key,
either via prompting or via &lt;key file&gt;.
&lt;options&gt; can be [--cipher, --ver- ify-passphrase,
--key-size]</p>

<p>luksOpen &lt;device&gt; &lt;name&gt;</p>

<p>opens the LUKS partition &lt;device&gt; and sets up a
mapping &lt;name&gt; after successful verification of the
supplied key material (either via key file by --key-file, or
via prompting). &lt;options&gt; can be [--key-file,
--readonly].</p>

<p>luksClose &lt;name&gt;</p>

<p>identical to remove.</p>

<p>luksAddKey &lt;device&gt; [&lt;new key file&gt;]</p>

<p>add a new key file/passphrase. An existing passphrase or
key file (via --key-file) must be supplied. The key file
with the new material is supplied as after luksAddKey as
positional argu- ment. &lt;options&gt; can be
[--key-file].</p>

<p>luksDelKey &lt;key slot number&gt;</p>

<p>remove key from key slot. No options.</p>

<p>luksUUID &lt;device&gt;</p>

<p>print UUID, if &lt;device&gt; has a LUKS header. No
options.</p>

<p>isLuks &lt;device&gt;</p>

<p>returns true, if &lt;device&gt; is a LUKS partition.
Otherwise, false. No options.</p>

<p>luksDump &lt;device&gt;</p>

<p>dumps the header information of a LUKS partition. No
options.</p>

<p>For more information about LUKS, see
http://luks.endorphin.org</p>

<p>OPTIONS --hash, -h specifies hash to use for password
hashing. This option is only relevant for the
&quot;create&quot; action. The hash string is passed to
libgcrypt, so all hashes accepted by gcrypt are
supported.</p>

<p>--cipher, -c set cipher specification string. Usually,
this is &quot;aes-cbc- plain&quot;. For pre-2.6.10 kernels,
use &quot;aes-plain&quot; as they dont understand the new
cipher spec strings. To use ESSIV, use &quot;aes-
cbc-essiv:sha256&quot;.</p>

<p>--verify-passphrase, -y query for passwords twice.
Useful, when creating a (regular) mapping for the first
time, or when running luksFormat.</p>

<p>--key-file, -d use file as key material. With LUKS, key
material supplied in key files via -d are always used for
existing passphrases. If you want to set a new key via a key
file, you have to use a positional arg to luksFormat or
luksAddKey.</p>

<p>--key-size, -s set key size in bits. Usually, this is
128, 192 or 256. Can be used for create or luksFormat, all
other LUKS actions will ignore this flag, as the key-size is
specified by the partition header.</p>

<p>--size, -b force the size of the underlaying device in
sectors.</p>

<p>--offset, -o start offset in the backend device.</p>

<p>--skip, -p how many sectors of the encrypted data to
skip at the beginning. This is different from the --offset
options with respect to IV calculations. Using --offset will
shift the IV calculcation by the same negative amount.
Hence, if --offset n, sector n will be the first sector on
the mapping with IV 0. Using --skip would have resulted in
sector n being the first sector also, but with IV n.</p>

<p>--readonly setup a read-only mapping.</p>

<p>--iter-time, -i The number of microseconds to spend with
PBKDF2 password pro- cessing. This options is only relevant
to LUKS key setting oper- ations as luksFormat or
luksAddKey.</p>

<p>--batch-mode, -q Do not ask for confirmation. This
option is only relevant for luksFormat.</p>

<p>--timeout, -t The number of seconds to wait before
timeout. This option is relevant evertime a password is
asked, like create, luksOpen, luksFormat or luksAddKey.</p>

<p>--align-payload=value Align payload at a boundary of
value 512-byte sectors. This option is relevant for
luksFormat. If your block device lives on a RAID it is
useful to align the filesystem at full stripe boundaries so
it can take advantage of the RAID s geometry. See for
instance the sunit and swidth options in the mkfs.xfs manual
page. By default the payload is aligned at an 8 sector (4096
byte) boundary.</p>

<p>--version Show the version.</p>

<p>NOTES ON PASSWORD PROCESSING FOR REGULAR MAPPINGS From a
file descriptor or a terminal: Password processing is
new-line sensitive, meaning the reading will stop after
encountering 0 It will processed the read material with the
default hash or the hash given by --hash. After hashing it
will be cropped to the key size given by -s (or default
256bit).</p>

<p>From a key file: It will be cropped to the size given by
-s. If there is insufficient key material in the key file,
cryptsetup will quit with an error.</p>

<p>NOTES ON PASSWORD PROCESSING FOR LUKS Password
processing is totally different for LUKS. LUKS uses PBKDF2
to protect against dictionary attacks (see RFC 2898). LUKS
will always use SHA1 in HMAC mode, and no other mode is
supported at the moment. Hence, -h is ignored.</p>

<p>LUKS will always do an exhaustive password reading.
Hence, password can not be read from /dev/random, /dev/zero
or any other stream, that does not terminate.</p>

<p>LUKS saves the processing options when a password is set
to the respec- tive key slot. Therefore, no options can be
given to luksOpen. For any password creation action
(luksAddKey, or luksFormat), the user specify, how much the
time the password processing should consume. Increasing the
time will lead to a more secure password, but also will take
luksOpen longer to complete. The default setting of one
second is sufficient for good security.</p>

<p>NOTES ON PASSWORDS Mathematic cant be bribed. Make sure
you keep your passwords save. There are a few nice tricks
for constructing a fallback, when suddely out of (or after
being) blue, your brain refuses to cooperate. These
fallbacks are possible with LUKS, as its only possible with
LUKS to have multiple passwords.</p>

<p>AUTHORS cryptsetup is written by Christophe Saout
&lt;christophe@saout.de&gt; LUKS extensions, and man page by
Clemens Fruhwirth &lt;clemens@endor- phin.org&gt;</p>

<p>REPORTING BUGS Report bugs to
&lt;dm-crypt@saout.de&gt;.</p>

<p>COPYRIGHT Copyright &copy; 2004 Christophe Saout
Copyright &copy; 2004-2006 Clemens Fruhwirth</p>

<p>This is free software; see the source for copying
conditions. There is NO warranty; not even for
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>

<p>SEE ALSO dm-crypt website,
http://www.saout.de/misc/dm-crypt/</p>

<p>LUKS website, http://luks.endorphin.org</p>

<p>dm-crypt TWiki,
http://www.saout.de/tikiwiki/tiki-index.php</p>

<p>cryptsetup 1.0.3 March 2005 CRYPTSETUP(8)</p>
<hr>
</body>
</html>
