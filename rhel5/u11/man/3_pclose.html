<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:18:12 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>POPEN(3) Linux Programmer s Manual POPEN(3)</p>

<p>NAME popen, pclose - process I/O</p>

<p>SYNOPSIS #include &lt;stdio.h&gt;</p>

<p>FILE *popen(const char *command, const char *type);</p>

<p>int pclose(FILE *stream);</p>

<p>DESCRIPTION The popen() function opens a process by
creating a pipe, forking, and invoking the shell. Since a
pipe is by definition unidirectional, the type argument may
specify only reading or writing, not both; the resulting
stream is correspondingly read-only or write-only.</p>

<p>The command argument is a pointer to a null-terminated
string contain- ing a shell command line. This command is
passed to /bin/sh using the -c flag; interpretation, if any,
is performed by the shell. The type argument is a pointer to
a null-terminated string which must be either r for reading
or w for writing.</p>

<p>The return value from popen() is a normal standard I/O
stream in all respects save that it must be closed with
pclose() rather than fclose(). Writing to such a stream
writes to the standard input of the command; the commands
standard output is the same as that of the pro- cess that
called popen(), unless this is altered by the command
itself. Conversely, reading from a popened stream reads the
commands stan- dard output, and the commands standard input
is the same as that of the process that called popen().</p>

<p>Note that output popen() streams are fully buffered by
default.</p>

<p>The pclose() function waits for the associated process
to terminate and returns the exit status of the command as
returned by wait4().</p>

<p>RETURN VALUE The popen() function returns NULL if the
fork(2) or pipe(2) calls fail, or if it cannot allocate
memory.</p>

<p>The pclose() function returns -1 if wait4() returns an
error, or some other error is detected.</p>

<p>ERRORS The popen() function does not set errno if memory
allocation fails. If the underlying fork() or pipe() fails,
errno is set appropriately. If the type argument is invalid,
and this condition is detected, errno is set to EINVAL.</p>

<p>If pclose() cannot obtain the child status, errno is set
to ECHILD.</p>

<p>CONFORMING TO POSIX.1-2001.</p>

<p>BUGS Since the standard input of a command opened for
reading shares its seek offset with the process that called
popen(), if the original pro- cess has done a buffered read,
the command s input position may not be as expected.
Similarly, the output from a command opened for writing may
become intermingled with that of the original process. The
latter can be avoided by calling fflush(3) before
popen().</p>

<p>Failure to execute the shell is indistinguishable from
the shells failure to execute command, or an immediate exit
of the command. The only hint is an exit status of 127.</p>

<p>HISTORY A popen() and a pclose() function appeared in
Version 7 AT&amp;T UNIX.</p>

<p>SEE ALSO sh(1), fork(2), pipe(2), wait4(2), fclose(3),
fflush(3), fopen(3), stdio(3), system(3)</p>

<p>BSD MANPAGE 1998-05-07 POPEN(3)</p>
<hr>
</body>
</html>
