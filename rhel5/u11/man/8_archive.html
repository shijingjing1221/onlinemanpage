<!-- Creator     : groff version 1.18.1.1 -->
<!-- CreationDate: Sat Nov 12 05:06:14 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>ARCHIVE(8) ARCHIVE(8)</p>

<p>NAME archive - Usenet article archiver</p>

<p>SYNOPSIS archive [ -a archive ] [ -c ] [ -f ] [ -i index
] [ -p newsgroup-list ] [ -r ] [ input ]</p>

<p>DESCRIPTION Archive makes copies of files specified on
its standard input. It is normally run either as a channel
feed under innd(8), or by a script before expire(8) is
run.</p>

<p>Archive reads the named input file, or standard input if
no file is given. The input is taken as a sequence of lines;
blank lines and lines starting with a number sign (#) are
ignored. All other lines should specify the token of an
article to archive. Every article is retrieved from a token,
and the Xref: header is used to determine the target file in
the archive directory. You can limit the targets taken from
the Xref: header with the -p option.</p>

<p>Files are copied to a directory within the archive
directory, &lt;patharchive in inn.conf&gt;. The default is
to create a hierarchy that mimics the input files;
intermediate directories will be created as needed. For
example, if the input token represents article 2211 in the
newsgroup comp.sources.unix, archive will generate a copy in
&lt;patharchive in inn.conf&gt;/comp/sources/unix/2211.</p>

<p>OPTIONS -a archive If the -a flag is used then its
argument specifies the directory to archive in instead of
&lt;patharchive in inn.conf&gt;.</p>

<p>-c If the -c flag is used, then directory names will be
flat- tened as if by the -f flag; additionally, all posts
will be concatenated into a single file , appending if the
file already exists, with the final component of the
filename being YYYYMM based on the local execution time of
archive. In this case, on December 14, 1998, the file would
be copied to &lt;patharchive in
inn.conf&gt;/comp.sources.unix/199812.</p>

<p>-f If the -f flag is used, then all directory names will
be flattened out, replacing the slashes with periods. In
this case, the file would be copied to &lt;patharchive in
inn.conf&gt;/comp.sources.unix/2211.</p>

<p>-i If the -i flag is used, then archive will append one
line to the specified index file for each article that it
copies. This line will contain the destination name as well
as the Message-ID and Subject headers.</p>

<p>-p newsgroup-list Limits the targets taken from the
Xref: header to the groups specified in newsgroup-list. The
newsgroup-list is a comma-sep- arated uwildmat(3) list of
newsgroups you wish to have archive handle.</p>

<p>-r By default, archive sets its standard error to
&lt;pathlog in inn.conf&gt;/errlog. To suppress this
redirection, use the -r flag.</p>

<p>EXIT STATUS If the input is exhausted, archive will exit
with a zero status. If an I/O error occures, it will try to
spool its input, copying it to a file. If there was no input
filename, the standard input will be copied to
&lt;pathoutgoing in inn.conf&gt;/archive and the program
will exit. If an input filename was given, a temporary file
named input.bch (if input is an absolute pathname) or
&lt;pathoutgoing in inn.conf&gt;/input.bch (if the filename
does not begin with a slash) is created. Once the input is
copied, archive will try to rename this temporary file to be
the name of the input file, and then exit.</p>

<p>EXAMPLES A typical newsfeeds(5) entry to archive most
source newsgroups is as follows:</p>

<p>source-archive :!*,*sources*,!*wanted*,!*.d :Tc,Wn
:&lt;pathbin in inn.conf&gt;/archive -f -i &lt;patharchive
in inn.conf&gt;/INDEX</p>

<p>HISTORY Written by Rich $alz &lt;rsalz@uunet.uu.net&gt;
for InterNetNews. This is revision 5909, dated
2002-12-03.</p>

<p>SEE ALSO inn.conf(5), newsfeeds(5).</p>

<p>ARCHIVE(8)</p>
<hr>
</body>
</html>
